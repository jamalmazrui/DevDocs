<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Scrapy Documentation</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.5pt;
	margin-left:15.45pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:11.2pt;
	margin-left:.5pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:5.7pt;
	margin-left:65.95pt;
	text-indent:-.5pt;
	line-height:108%;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:33.0pt;
	margin-bottom:1.5pt;
	margin-left:.75pt;
	text-indent:19.95pt;
	line-height:112%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:bold;}
p.footnotedescription, li.footnotedescription, div.footnotedescription
	{mso-style-name:"footnote description";
	mso-style-link:"footnote description Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:.5pt;
	margin-left:5.45pt;
	text-indent:5.45pt;
	line-height:107%;
	font-size:8.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
span.footnotedescriptionChar
	{mso-style-name:"footnote description Char";
	mso-style-link:"footnote description";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.footnotemark
	{mso-style-name:"footnote mark";
	font-family:"Calibri",sans-serif;
	color:black;
	vertical-align:super;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:8.5in 11.0in;
	margin:36.25pt 1.0in 39.95pt 1.0in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:8.5in 11.0in;
	margin:71.4pt 1.0in 39.95pt 1.0in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 74.0pt 1.0in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:8.5in 11.0in;
	margin:73.25pt 1.0in 39.95pt 1.0in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:8.5in 11.0in;
	margin:72.95pt 1.0in 71.5pt 1.0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:8.5in 11.0in;
	margin:74.7pt 1.0in 107.1pt 1.0in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 70.0pt 1.0in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:8.5in 11.0in;
	margin:73.25pt 1.0in 82.85pt 1.0in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:8.5in 11.0in;
	margin:84.1pt 1.0in 83.65pt 1.0in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:8.5in 11.0in;
	margin:72.2pt 1.0in 71.5pt 1.0in;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:8.5in 11.0in;
	margin:72.95pt 1.0in 71.8pt 1.0in;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 71.5pt 1.0in;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:8.5in 11.0in;
	margin:72.95pt 1.0in 69.2pt 1.0in;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.6pt 1.0in;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:8.5in 11.0in;
	margin:71.95pt 1.0in 39.95pt 1.0in;}
div.WordSection20
	{page:WordSection20;}
@page WordSection21
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection21
	{page:WordSection21;}
@page WordSection22
	{size:8.5in 11.0in;
	margin:71.3pt 1.0in 79.7pt 1.0in;}
div.WordSection22
	{page:WordSection22;}
@page WordSection23
	{size:8.5in 11.0in;
	margin:71.3pt 1.0in 39.95pt 1.0in;}
div.WordSection23
	{page:WordSection23;}
@page WordSection24
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection24
	{page:WordSection24;}
@page WordSection25
	{size:8.5in 11.0in;
	margin:73.25pt 1.0in 39.95pt 1.0in;}
div.WordSection25
	{page:WordSection25;}
@page WordSection26
	{size:8.5in 11.0in;
	margin:84.1pt 1.0in 39.95pt 1.0in;}
div.WordSection26
	{page:WordSection26;}
@page WordSection27
	{size:8.5in 11.0in;
	margin:73.25pt 1.0in 39.95pt 1.0in;}
div.WordSection27
	{page:WordSection27;}
@page WordSection28
	{size:8.5in 11.0in;
	margin:84.1pt 1.0in 71.5pt 1.0in;}
div.WordSection28
	{page:WordSection28;}
@page WordSection29
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection29
	{page:WordSection29;}
@page WordSection30
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.2pt 1.0in;}
div.WordSection30
	{page:WordSection30;}
@page WordSection31
	{size:8.5in 11.0in;
	margin:71.3pt 1.0in 39.95pt 1.0in;}
div.WordSection31
	{page:WordSection31;}
@page WordSection32
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection32
	{page:WordSection32;}
@page WordSection33
	{size:8.5in 11.0in;
	margin:71.65pt 1.0in 70.05pt 1.0in;}
div.WordSection33
	{page:WordSection33;}
@page WordSection34
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection34
	{page:WordSection34;}
@page WordSection35
	{size:8.5in 11.0in;
	margin:73.25pt 1.0in 76.25pt 1.0in;}
div.WordSection35
	{page:WordSection35;}
@page WordSection36
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.2pt 1.0in;}
div.WordSection36
	{page:WordSection36;}
@page WordSection37
	{size:8.5in 11.0in;
	margin:72.05pt 1.0in 70.3pt 1.0in;}
div.WordSection37
	{page:WordSection37;}
@page WordSection38
	{size:8.5in 11.0in;
	margin:71.4pt 1.0in 39.95pt 1.0in;}
div.WordSection38
	{page:WordSection38;}
@page WordSection39
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection39
	{page:WordSection39;}
@page WordSection40
	{size:8.5in 11.0in;
	margin:71.4pt 1.0in 39.95pt 1.0in;}
div.WordSection40
	{page:WordSection40;}
@page WordSection41
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection41
	{page:WordSection41;}
@page WordSection42
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection42
	{page:WordSection42;}
@page WordSection43
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection43
	{page:WordSection43;}
@page WordSection44
	{size:8.5in 11.0in;
	margin:121.8pt 1.0in 39.95pt 365.95pt;}
div.WordSection44
	{page:WordSection44;}
@page WordSection45
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection45
	{page:WordSection45;}
@page WordSection46
	{size:8.5in 11.0in;
	margin:71.3pt 1.0in 71.8pt 1.0in;}
div.WordSection46
	{page:WordSection46;}
@page WordSection47
	{size:8.5in 11.0in;
	margin:72.2pt 53.55pt 69.6pt 1.0in;}
div.WordSection47
	{page:WordSection47;}
@page WordSection48
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.3pt 1.0in;}
div.WordSection48
	{page:WordSection48;}
@page WordSection49
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 70.35pt 1.0in;}
div.WordSection49
	{page:WordSection49;}
@page WordSection50
	{size:8.5in 11.0in;
	margin:71.45pt 99.05pt 73.6pt 91.9pt;}
div.WordSection50
	{page:WordSection50;}
@page WordSection51
	{size:8.5in 11.0in;
	margin:71.3pt 54.75pt 73.7pt 1.0in;}
div.WordSection51
	{page:WordSection51;}
@page WordSection52
	{size:8.5in 11.0in;
	margin:72.7pt 311.0pt 80.85pt 1.0in;}
div.WordSection52
	{page:WordSection52;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:30.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 471666"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:198.3pt;text-align:left;text-indent:0in;
line-height:107%'><b><span style='font-size:25.0pt;line-height:107%'>Scrapy
Documentation</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:133.25pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><i><span style='font-size:17.0pt;line-height:107%'>Release
2.12.0</span></i></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:255.65pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><span style='font-size:17.0pt;line-height:107%'>Scrapy
developers</span></b></p>

<p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
0in;line-height:107%'><b><span style='font-size:12.0pt;line-height:107%'>Nov
19, 2024</span></b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:83.65pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>FIRST STEPS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:10.25pt;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>Getting help   </span>3</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>First steps       </span>5</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Scrapy at a glance              </span>.
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . .    5</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Installation guide </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .                7</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15in;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Scrapy Tutorial </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  11
<span style='color:#355F7C'>2.4     Examples </span>. . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  23</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>Basic concepts               </span>25</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Command line tool </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .               25</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Spiders </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .        35</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Selectors              </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . .          49</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Items    </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .     68</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Item Loaders </span>. . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   74</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Scrapy shell </span>. . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   85</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Item Pipeline </span>. . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   90</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Feed exports       </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
.              94</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Requests and Responses  </span>. . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .           107</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Link Extractors </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  128</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Settings </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .      131</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.6pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>3.12<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Exceptions           </span>. . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . .            162</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>Built-in services             </span>165</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Logging </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .      165</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Stats Collection </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 171</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15in;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Sending e-mail </span>. . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  173
<span style='color:#355F7C'>4.4   Telnet Console      </span>. . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .          176</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>Solving specific problems           </span>181</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Frequently Asked Questions </span>. .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .         181
<span style='color:#355F7C'>5.2   Debugging Spiders </span>. . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .           187</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:35.0pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Spiders Contracts </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  191</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.25pt;
margin-left:35.0pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Common Practices </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  193 <span
style='color:#355F7C'>5.5   Broad Crawls </span>. . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   198</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.25pt;margin-left:3.0pt;text-align:right'><span style='color:
#355F7C'>5.6         Using your browser’s Developer Tools for scraping </span>.
. . . . . . . . . . . . . . . . . . . . . . . . . .             202 <span
style='color:#355F7C'>5.7   Selecting dynamically-loaded content </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .            207 <span
style='color:#355F7C'>5.8   Debugging memory leaks   </span>. . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .         211 <span
style='color:#355F7C'>5.9   Downloading and processing files and images </span>.
. . . . . . . . . . . . . . . . . . . . . . . . . . . . .               215 <span
style='color:#355F7C'>5.10               Deploying Spiders                </span>.
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . .    224</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.6pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>AutoThrottle extension </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .            225</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>i</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.12<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Benchmarking     </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .                228</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.13<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Jobs: pausing and resuming crawls                </span>.
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .       230</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15in;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>5.14<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Coroutines </span>. . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 231
<span style='color:#355F7C'>5.15 asyncio </span>. . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 235</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>Extending Scrapy           </span>239</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Architecture overview      </span>. .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .        239</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Add-ons               </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . .          242</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Downloader Middleware </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .          245</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Spider Middleware </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .               263</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Extensions           </span>. . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . .            270</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Signals  </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .        278</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Scheduler </span>. . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .    286</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Item Exporters    </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .                288</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Components       </span>. . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .              295</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.6pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>6.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Core API </span>. . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .       297</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:14.95pt;text-align:left;text-indent:-14.95pt;
line-height:110%'><b><span style='line-height:110%;color:#355F7C'>7<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:#355F7C'>All the rest     </span>309</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>7.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Release notes </span>. . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  309</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15in;
margin-left:41.6pt;text-indent:-25.9pt'><span style='line-height:103%;
color:#355F7C'>7.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>Contributing to Scrapy </span>. . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 410
<span style='color:#355F7C'>7.3 Versioning and API stability </span>. . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 414</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:10.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:110%'><b><span style='color:#355F7C'>Python Module Index                                                                                                                                                                  </span>417</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:376.0pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:110%'><b><span style='color:#355F7C'>Index                                                                                                                                                                                               </span>419</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>ii</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:107%'><b>Scrapy
Documentation, Release 2.12.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 472461"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:643.5pt;
margin-left:.5pt'>Scrapy is a fast high-level <a
href="https://en.wikipedia.org/wiki/Web_crawler"><span style='color:#377063;
text-decoration:none'>web crawling</span></a><span style='color:#377063'> </span>and
<a href="https://en.wikipedia.org/wiki/Web_scraping"><span style='color:#377063;
text-decoration:none'>web scraping</span></a><span style='color:#377063'> </span>framework,
used to crawl websites and extract structured data from their pages. It can be
used for a wide range of purposes, from data mining to monitoring and automated
testing.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>FIRST
STEPS</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:404.4pt;text-align:left;line-height:107%'><b>FIRST
STEPS</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 471436"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>ONE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 471437"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:38.5pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>GETTING HELP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Having trouble? We’d like to help!</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Try the <i><span
style='color:#355F7C'>FAQ </span></i>– it’s got answers to some common
questions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Looking for specific
information? Try the genindex or modindex.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ask
or search questions in <a href="https://stackoverflow.com/tags/scrapy"><span
style='color:#377063;text-decoration:none'>StackOverflow using the scrapy tag</span></a><a
href="https://stackoverflow.com/tags/scrapy"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ask or search
questions in the <a href="https://www.reddit.com/r/scrapy/"><span
style='color:#377063;text-decoration:none'>Scrapy subreddit</span></a><a
href="https://www.reddit.com/r/scrapy/"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Search for questions
on the archives of the <a
href="https://groups.google.com/forum/#!forum/scrapy-users"><span
style='color:#377063;text-decoration:none'>scrapy-users mailing list</span></a><a
href="https://groups.google.com/forum/#!forum/scrapy-users"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ask a question in the
<a href="irc://irc.freenode.net/scrapy"><span style='color:#377063;text-decoration:
none'>#scrapy IRC channel</span></a><a href="irc://irc.freenode.net/scrapy"><span
style='color:black;text-decoration:none'>,</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Report bugs with
Scrapy in our <a href="https://github.com/scrapy/scrapy/issues"><span
style='color:#377063;text-decoration:none'>issue tracker</span></a><a
href="https://github.com/scrapy/scrapy/issues"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Join the Discord
community <a href="https://discord.com/invite/mv3yErfpvq"><span
style='color:#377063;text-decoration:none'>Scrapy Discord</span></a><a
href="https://discord.com/invite/mv3yErfpvq"><span style='color:black;
text-decoration:none'>.</span></a><br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:355.35pt;text-align:left;line-height:107%'><b>Chapter
1. Getting help</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 473526"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>TWO</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 473527"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>FIRST STEPS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>2.1 Scrapy at a glance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy (/skrepa/) is an application framework for crawling
web sites and extracting structured data which can be used for a wide range of
useful applications, like data mining, information processing or historical
archival.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Even though Scrapy was originally designed for <a
href="https://en.wikipedia.org/wiki/Web_scraping"><span style='color:#377063;
text-decoration:none'>web scraping</span></a><a
href="https://en.wikipedia.org/wiki/Web_scraping"><span style='color:black;
text-decoration:none'>,</span></a> it can also be used to extract data using
APIs (such as <a href="https://affiliate-program.amazon.com/welcome/ecs"><span
style='color:#377063;text-decoration:none'>Amazon Associates Web Services</span></a><a
href="https://affiliate-program.amazon.com/welcome/ecs"><span style='color:
black;text-decoration:none'>)</span></a> or as a general purpose web crawler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.1.1 Walk-through of
an example spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In order to show you what Scrapy brings to the table, we’ll
walk you through an example of a Scrapy Spider using the simplest way to run a
spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Here’s the code for a spider that scrapes famous quotes from
website <a href="https://quotes.toscrape.com/"><span style='color:#377063;
text-decoration:none'>https://quotes.toscrape.com</span></a><a
href="https://quotes.toscrape.com/"><span style='color:black;text-decoration:
none'>,</span></a> following the pagination:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=312 src="Scrapy%20Documentation_files/image003.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Put this in a text file, name it something like quotes_spider.py
and run the spider using the <i><span style='color:#355F7C'>runspider </span></i>command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image004.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.5pt'>When this finishes you will have in the quotes.jsonl file a
list of the quotes in JSON Lines format, containing the text and author, which
will look like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>{<span
style='color:#4070A1'>&quot;author&quot;</span>: <span style='color:#4070A1'>&quot;Jane
Austen&quot;</span>, <span style='color:#4070A1'>&quot;text&quot;</span>: <span
style='color:#4070A1'>&quot;\u201cThe person, be it gentleman or lady, who has</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>not pleasure in a good novel, must be intolerably
stupid.\u201d&quot;</span>}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>{<span
style='color:#4070A1'>&quot;author&quot;</span>: <span style='color:#4070A1'>&quot;Steve
Martin&quot;</span>, <span style='color:#4070A1'>&quot;text&quot;</span>: <span
style='color:#4070A1'>&quot;\u201cA day without sunshine is like, you know,</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>night.\u201d&quot;</span>}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:49.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='position:relative;z-index:-1895825408'><span
style='left:0px;position:absolute;left:-5px;top:-71px;width:633px;height:137px'><img
width=633 height=137 src="Scrapy%20Documentation_files/image005.gif"></span></span>{<span
style='color:#4070A1'>&quot;author&quot;</span>: <span style='color:#4070A1'>&quot;Garrison
Keillor&quot;</span>, <span style='color:#4070A1'>&quot;text&quot;</span>: <span
style='color:#4070A1'>&quot;\u201cAnyone who thinks sitting in church can</span><span
style='color:red'>&#9251; </span><i><span style='font-size:5.0pt;line-height:
111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>make you a Christian must also think that sitting in a
garage can make you a car.\u201d</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>What just
happened?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When you ran the command scrapy runspider quotes_spider.py,
Scrapy looked for a Spider definition inside it and ran it through its crawler
engine.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The crawl started by making requests to the URLs defined in
the start_urls attribute (in this case, only the URL for quotes in the <i>humor
</i>category) and called the default callback method parse, passing the
response object as an argument. In the parse callback, we loop through the
quote elements using a CSS Selector, yield a Python dict with the extracted
quote text and author, look for a link to the next page and schedule another
request using the same parse method as callback.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here you will notice one of the main advantages of Scrapy:
requests are <i><span style='color:#355F7C'>scheduled and processed
asynchronously</span></i>. This means that Scrapy doesn’t need to wait for a
request to be finished and processed, it can send another request or do other
things in the meantime. This also means that other requests can keep going even
if a request fails or an error happens while handling it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>While this enables you to do very fast crawls (sending
multiple concurrent requests at the same time, in a fault-tolerant way) Scrapy
also gives you control over the politeness of the crawl through <i><span
style='color:#355F7C'>a few settings</span></i>. You can do things like setting
a download delay between each request, limiting the amount of concurrent
requests per domain or per IP, and even <i><span style='color:#355F7C'>using an
auto-throttling extension </span></i>that tries to figure these settings out
automatically.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 473404"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>This is using <i><span style='color:#355F7C'>feed
exports </span></i>to generate the JSON file, you can easily change the export
format (XML or CSV, for example) or the storage backend (FTP or <a
href="https://aws.amazon.com/s3/"><span style='color:#377063;text-decoration:
none'>Amazon S3</span></a><a href="https://aws.amazon.com/s3/"><span
style='color:black;text-decoration:none'>,</span></a> for example). You can
also write an <i><span style='color:#355F7C'>item pipeline </span></i>to store
the items in a database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 473405"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.1.2 What else?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You’ve seen how to extract and store items from a website
using Scrapy, but this is just the surface. Scrapy provides a lot of powerful
features for making scraping easy and efficient, such as:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Built-in support for <i><span
style='color:#355F7C'>selecting and extracting </span></i>data from HTML/XML
sources using extended CSS selectors and XPath expressions, with helper methods
for extraction using regular expressions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>An <i><span
style='color:#355F7C'>interactive shell console </span></i>(IPython aware) for
trying out the CSS and XPath expressions to scrape data, which is very useful
when writing or debugging your spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Built-in support for <i><span
style='color:#355F7C'>generating feed exports </span></i>in multiple formats
(JSON, CSV, XML) and storing them in multiple backends (FTP, S3, local
filesystem)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Robust encoding
support and auto-detection, for dealing with foreign, non-standard and broken
encoding declarations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Strong extensibility support</span></i>, allowing you to
plug in your own functionality using <i><span style='color:#355F7C'>signals </span></i>and
a well-defined API (middlewares, <i><span style='color:#355F7C'>extensions</span></i>,
and <i><span style='color:#355F7C'>pipelines</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A wide range of
built-in extensions and middlewares for handling:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>cookies and
session handling</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>HTTP features
like compression, authentication, caching</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>user-agent
spoofing</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>robots.txt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>crawl depth
restriction</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>and more</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A <i><span
style='color:#355F7C'>Telnet console </span></i>for hooking into a Python
console running inside your Scrapy process, to introspect and debug your
crawler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Plus other goodies
like reusable spiders to crawl sites from <a
href="https://www.sitemaps.org/index.html"><span style='color:#377063;
text-decoration:none'>Sitemaps</span></a><span style='color:#377063'> </span>and
XML/CSV feeds, a media pipeline for <i><span style='color:#355F7C'>automatically
downloading images </span></i>(or any other media) associated with the scraped
items, a caching DNS resolver, and much more!</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.1.3 What’s next?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:.5pt'>The next steps for you are to <i><span style='color:#355F7C'>install
Scrapy</span></i>, <i><span style='color:#355F7C'>follow through the tutorial </span></i>to
learn how to create a full-blown Scrapy project and <a
href="https://scrapy.org/community/"><span style='color:#377063;text-decoration:
none'>join the community</span></a><a href="https://scrapy.org/community/"><span
style='color:black;text-decoration:none'>.</span></a> Thanks for your interest!</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.5pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>2.2 Installation guide</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>2.2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Supported Python
versions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Scrapy requires Python 3.9+, either the CPython
implementation (default) or the PyPy implementation (see <a
href="https://docs.python.org/3/reference/introduction.html#implementations"><span
style='color:#377063;text-decoration:none'>Alternate </span></a><a
href="https://docs.python.org/3/reference/introduction.html#implementations"><span
style='color:#377063;text-decoration:none'>Implementations</span></a><a
href="https://docs.python.org/3/reference/introduction.html#implementations"><span
style='color:black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>2.2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Installing Scrapy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you’re using <a href="https://docs.anaconda.com/anaconda/"><span
style='color:#377063;text-decoration:none'>Anaconda</span></a><span
style='color:#377063'> </span>or <a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html"><span
style='color:#377063;text-decoration:none'>Miniconda</span></a><a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html"><span
style='color:black;text-decoration:none'>,</span></a> you can install the
package from the <a href="https://conda-forge.org/"><span style='color:#377063;
text-decoration:none'>conda-forge</span></a><span style='color:#377063'> </span>channel,
which has up-to-date packages for Linux, Windows and macOS.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To install Scrapy using conda, run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image006.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Alternatively, if you’re already familiar with installation
of Python packages, you can install Scrapy and its dependencies from PyPI with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image007.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We strongly recommend that you install Scrapy in <i><span
style='color:#355F7C'>a dedicated virtualenv</span></i>, to avoid conflicting
with your system packages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Note that sometimes this may require solving compilation
issues for some Scrapy dependencies depending on your operating system, so be
sure to check the <i><span style='color:#355F7C'>Platform specific installation
notes</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.55pt;
margin-left:.5pt'>For more detailed and platform-specific instructions, as well
as troubleshooting information, read on.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>2.2.
Installation guide</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Things that
are good to know</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy is written in pure Python and depends on a few key
Python packages (among others):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://lxml.de/index.html"><span style='color:#377063;text-decoration:
none'>lxml</span></a><a href="https://lxml.de/index.html"><span
style='color:black;text-decoration:none'>,</span></a> an efficient XML and HTML
parser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://pypi.org/project/parsel/"><span style='color:#377063;text-decoration:
none'>parsel</span></a><a href="https://pypi.org/project/parsel/"><span
style='color:black;text-decoration:none'>,</span></a> an HTML/XML data
extraction library written on top of lxml,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://pypi.org/project/w3lib/"><span style='color:#377063;text-decoration:
none'>w3lib</span></a><a href="https://pypi.org/project/w3lib/"><span
style='color:black;text-decoration:none'>,</span></a> a multi-purpose helper
for dealing with URLs and web page encodings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://twisted.org/"><span style='color:#377063;text-decoration:none'>twisted</span></a><a
href="https://twisted.org/"><span style='color:black;text-decoration:none'>,</span></a>
an asynchronous networking framework</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://cryptography.io/en/latest/"><span style='color:#377063;
text-decoration:none'>cryptography</span></a><span style='color:#377063'> </span>and
<a href="https://pypi.org/project/pyOpenSSL/"><span style='color:#377063;
text-decoration:none'>pyOpenSSL</span></a><a
href="https://pypi.org/project/pyOpenSSL/"><span style='color:black;text-decoration:
none'>,</span></a> to deal with various network-level security needs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Some of these packages themselves depend on non-Python
packages that might require additional installation steps depending on your
platform. Please check <i><span style='color:#355F7C'>platform-specific guides
below</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In case of any trouble related to these dependencies, please
refer to their respective installation instructions:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://lxml.de/installation.html"><span style='color:#377063;text-decoration:
none'>lxml installation</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://cryptography.io/en/latest/installation/"><span style='color:#377063;
text-decoration:none'>cryptography installation</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using a
virtual environment (recommended)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>TL;DR: We recommend installing Scrapy inside a virtual
environment on all platforms.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Python packages can be installed either globally (a.k.a
system wide), or in user-space. We do not recommend installing Scrapy system
wide.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.85pt;margin-left:-.25pt;text-align:left;line-height:100%'>Instead,
we recommend that you install Scrapy within a so-called “virtual environment” (<a
href="https://docs.python.org/3/library/venv.html#module-venv"><span
style='color:#377063;text-decoration:none'>ven</span></a><a
href="https://docs.python.org/3/library/venv.html#module-venv"><sub><span
style='font-size:15.5pt;line-height:100%;color:#377063;text-decoration:none'>v</span></sub></a><a
href="https://docs.python.org/3/library/venv.html#module-venv"><span
style='color:black;text-decoration:none'>)</span></a>. Virtual environments
allow you to not conflict with already-installed Python system packages (which
could break some of your system tools and scripts), and still install packages
normally with pip (without sudo and the likes).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>See <a
href="https://docs.python.org/3/tutorial/venv.html#tut-venv"><span
style='color:#377063;text-decoration:none'>Virtual Environments and Packages</span></a><span
style='color:#377063'> </span>on how to create your virtual environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Once you have created a virtual environment, you can install
Scrapy inside it with pip, just like any other Python package. (See <i><span
style='color:#355F7C'>platform-specific guides </span></i>below for non-Python
dependencies that you may need to install beforehand).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.2.3 Platform specific
installation notes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Windows</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.5pt'>Though it’s possible to install Scrapy on Windows using pip,
we recommend you install <a href="https://docs.anaconda.com/anaconda/"><span
style='color:#377063;text-decoration:none'>Anaconda</span></a><span
style='color:#377063'> </span>or <a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html"><span
style='color:#377063;text-decoration:none'>Miniconda</span></a><span
style='color:#377063'> </span>and use the package from the <a
href="https://conda-forge.org/"><span style='color:#377063;text-decoration:
none'>conda-forge</span></a><span style='color:#377063'> </span>channel, which
will avoid most installation issues. Once you’ve installed <a
href="https://docs.anaconda.com/anaconda/"><span style='color:#377063;
text-decoration:none'>Anaconda</span></a><span style='color:#377063'> </span>or
<a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html"><span
style='color:#377063;text-decoration:none'>Miniconda</span></a><a
href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html"><span
style='color:black;text-decoration:none'>,</span></a> install Scrapy with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image008.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.75pt;
margin-left:.5pt'>To install Scrapy on Windows using pip:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.7pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>This
installation method requires “Microsoft Visual C++” for installing some Scrapy
dependencies, which demands significantly more disk space than Anaconda.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Download and
execute <a href="https://visualstudio.microsoft.com/visual-cpp-build-tools/"><span
style='color:#377063;text-decoration:none'>Microsoft C++ Build Tools</span></a><span
style='color:#377063'> </span>to install the Visual Studio Installer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Run the Visual
Studio Installer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Under the
Workloads section, select <b>C++ build tools</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Check the
installation details and make sure following packages are selected as optional
components:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><sub><span style='font-size:15.5pt;line-height:103%'>MSVC </span></sub></b>(e.g
MSVC v142 - VS 2019 C++ x64/x86 build tools (v14.23) )</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.2pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:149%'><span
style='line-height:149%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Windows SDK </b>(e.g Windows 10 SDK (10.0.18362.0)) 5. Install
the Visual Studio Build Tools.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>Now, you should be able to <i><span style='color:#355F7C'>install
Scrapy </span></i>using pip.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Ubuntu
14.04 or above</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy is currently tested with recent-enough versions of
lxml, twisted and pyOpenSSL, and is compatible with recent Ubuntu
distributions. But it should support older versions of Ubuntu too, like Ubuntu
14.04, albeit with potential issues with TLS connections.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Don’t </b>use the python-scrapy package provided by
Ubuntu, they are typically too old and slow to catch up with the latest Scrapy
release.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:.5pt'>To install Scrapy on Ubuntu (or Ubuntu-based) systems, you
need to install these dependencies:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895824384'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:41px'><img width=633 height=41
src="Scrapy%20Documentation_files/image009.gif"></span></span>sudo apt<span
style='color:#666666'>-</span>get install python3 python3<span
style='color:#666666'>-</span>dev python3<span style='color:#666666'>-</span>pip
libxml2<span style='color:#666666'>-</span>dev libxslt1<span style='color:#666666'>-</span>dev
zlib1g<span style='color:#666666'>-</span>dev<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.2pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>libffi<span
style='color:#666666'>-</span>dev libssl<span style='color:#666666'>-</span>dev</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>python3-dev, zlib1g-dev, libxml2-dev and libxslt1-dev are
required for lxml</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:15.7pt;text-indent:16.45pt;line-height:156%'><span
style='line-height:156%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>libssl-dev and libffi-dev are required for cryptography Inside a <i><span
style='color:#355F7C'>virtualenv</span></i>, you can install Scrapy with pip after
that:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image010.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 472592" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>The
same non-Python dependencies can be used to install Scrapy in Debian Jessie
(8.0) and above.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 472593"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>macOS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Building Scrapy’s dependencies requires the presence of a C
compiler and development headers. On macOS this is typically provided by
Apple’s Xcode development tools. To install the Xcode command-line tools, open
a terminal window and run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image011.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There’s a <a href="https://github.com/pypa/pip/issues/2468"><span
style='color:#377063;text-decoration:none'>known issue</span></a><span
style='color:#377063'> </span>that prevents pip from updating system packages.
This has to be addressed to successfully install Scrapy and its dependencies.
Here are some proposed solutions:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>(Recommended) </i><b><sub><span style='font-size:15.5pt;
line-height:103%'>Don’t </span></sub></b>use system Python. Install a new,
updated version that doesn’t conflict with the rest of your system. Here’s how
to do it using the <a href="https://brew.sh/"><span style='color:#377063;
text-decoration:none'>homebrew</span></a><span style='color:#377063'> </span>package
manager:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install <a
href="https://brew.sh/"><span style='color:#377063;text-decoration:none'>homebrew</span></a><span
style='color:#377063'> </span>following the instructions in <a
href="https://brew.sh/"><span style='color:#377063;text-decoration:none'>https://brew.sh/</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.75pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Update your PATH
variable to state that homebrew packages should be used before system packages
(Change .bashrc to .zshrc accordingly if you’re using <a
href="https://www.zsh.org/"><span style='color:#377063;text-decoration:none'>zsh</span></a><span
style='color:#377063'> </span>as default shell):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.4pt;margin-left:47.3pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895823360'><span style='left:0px;position:
absolute;left:58px;top:-6px;width:571px;height:25px'><img width=571 height=25
src="Scrapy%20Documentation_files/image012.gif"></span></span>echo <span
style='color:#4070A1'>&quot;export
PATH=/usr/local/bin:/usr/local/sbin:$PATH&quot; </span><span style='color:#666666'>&gt;&gt;
~/.</span>bashrc</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>2.2.
Installation guide</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Reload .bashrc to
ensure the changes have taken place:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=25 src="Scrapy%20Documentation_files/image013.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install python:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=25 src="Scrapy%20Documentation_files/image014.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:16.2pt;text-align:left;line-height:110%'>• <i>(Optional)
</i><i><span style='color:#355F7C'>Install Scrapy inside a Python virtual
environment</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This method is a workaround for the above macOS issue, but
it’s an overall good practice for managing dependencies and can complement the
first method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>After any of these workarounds you should be able to install
Scrapy:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image015.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PyPy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We recommend using the latest PyPy version. For PyPy3, only
Linux installation was tested.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Most Scrapy dependencies now have binary wheels for CPython,
but not for PyPy. This means that these dependencies will be built during
installation. On macOS, you are likely to face an issue with building the
Cryptography dependency. The solution to this problem is described <a
href="https://github.com/pyca/cryptography/issues/2692#issuecomment-272773481"><span
style='color:#377063;text-decoration:none'>here</span></a><a
href="https://github.com/pyca/cryptography/issues/2692#issuecomment-272773481"><span
style='color:black;text-decoration:none'>,</span></a> that is to brew install
openssl and then export the flags that this command recommends (only needed
when installing Scrapy). Installing on Linux has no special issues besides
installing build dependencies. Installing Scrapy with PyPy on Windows is not
tested.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>You can check that Scrapy is installed correctly by running scrapy
bench. If this command gives errors such as TypeError: ... got 2 unexpected
keyword arguments, this means that setuptools was unable to pick up one
PyPy-specific dependency. To fix this issue, run pip install
'PyPyDispatcher&gt;=2.1.0'.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.2.4 Troubleshooting</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AttributeError:
‘module’ object has no attribute ‘OP_NO_TLSv1_1’</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:.5pt'>After you install or upgrade Scrapy, Twisted or pyOpenSSL,
you may get an exception with the following traceback:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>[...]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:54.8pt;
margin-bottom:.25pt;margin-left:20.9pt;text-align:left;text-indent:-10.45pt;
line-height:112%'>File
&quot;[...]/site-packages/twisted/protocols/tls.py&quot;, line 63, in
&lt;module&gt; from twisted.internet._sslverify import _setAcceptableProtocols</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.9pt;text-align:left;text-indent:-10.45pt;
line-height:112%'><span style='position:relative;z-index:-1895822336'><span
style='left:0px;position:absolute;left:-5px;top:-55px;width:633px;height:105px'><img
width=633 height=105 src="Scrapy%20Documentation_files/image016.gif"></span></span>File
&quot;[...]/site-packages/twisted/internet/_sslverify.py&quot;, line 38, in
&lt;module&gt; TLSVersion.TLSv1_1: SSL.OP_NO_TLSv1_1,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>AttributeError:
'module' object has no attribute 'OP_NO_TLSv1_1'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The reason you get this exception is that your system or
virtual environment has a version of pyOpenSSL that your version of Twisted
does not support.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To install a version of pyOpenSSL that your version of
Twisted supports, reinstall Twisted with the tls extra option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image017.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For details, see <a
href="https://github.com/scrapy/scrapy/issues/2473"><span style='color:#377063;
text-decoration:none'>Issue #2473</span></a><a
href="https://github.com/scrapy/scrapy/issues/2473"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>2.3 Scrapy Tutorial</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In this tutorial, we’ll assume that Scrapy is already
installed on your system. If that’s not the case, see <i><span
style='color:#355F7C'>Installation guide</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We are going to scrape <a href="https://quotes.toscrape.com/"><span
style='color:#377063;text-decoration:none'>quotes.toscrape.com</span></a><a
href="https://quotes.toscrape.com/"><span style='color:black;text-decoration:
none'>,</span></a> a website that lists quotes from famous authors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This tutorial will walk you through these tasks:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Creating a new
Scrapy project</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Writing a <i><span
style='color:#355F7C'>spider </span></i>to crawl a site and extract data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Exporting the
scraped data using the command line</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Changing spider
to recursively follow links</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Using spider
arguments</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy is written in <a href="https://www.python.org/"><span
style='color:#377063;text-decoration:none'>Python</span></a><a
href="https://www.python.org/"><span style='color:black;text-decoration:none'>.</span></a>
The more you learn about Python, the more you can get out of Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you’re already familiar with other languages and want to
learn Python quickly, the <a href="https://docs.python.org/3/tutorial"><span
style='color:#377063;text-decoration:none'>Python Tutorial</span></a><span
style='color:#377063'> </span>is a good resource.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you’re new to programming and want to start with Python,
the following books may be useful to you:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://automatetheboringstuff.com/"><span style='color:#377063;
text-decoration:none'>Automate the Boring Stuff With Python</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="http://openbookproject.net/thinkcs/python/english3e/"><span
style='color:#377063;text-decoration:none'>How To Think Like a Computer
Scientist</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://learnpythonthehardway.org/python3/"><span style='color:#377063;
text-decoration:none'>Learn Python 3 The Hard Way</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.75pt;
margin-left:.5pt;line-height:110%'>You can also take a look at <a
href="https://wiki.python.org/moin/BeginnersGuide/NonProgrammers"><span
style='color:#377063;text-decoration:none'>this list of Python resources for
non-programmers</span></a><a
href="https://wiki.python.org/moin/BeginnersGuide/NonProgrammers"><span
style='color:black;text-decoration:none'>,</span></a> as well as the <a
href="https://www.reddit.com/r/learnpython/wiki/index#wiki_new_to_python.3F"><span
style='color:#377063;text-decoration:none'>suggested resources in the </span></a><a
href="https://www.reddit.com/r/learnpython/wiki/index#wiki_new_to_python.3F"><span
style='color:#377063;text-decoration:none'>learnpython-subreddit</span></a><a
href="https://www.reddit.com/r/learnpython/wiki/index#wiki_new_to_python.3F"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.1 Creating a
project</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Before you start scraping, you will have to set up a new
Scrapy project. Enter a directory where you’d like to store your code and run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image018.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>This will create a tutorial directory with the following
contents:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:31.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=264 src="Scrapy%20Documentation_files/image019.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>2.3.
Scrapy Tutorial</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.2 Our first Spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Spiders are classes that you define and that Scrapy uses to
scrape information from a website (or a group of websites). They must subclass <i><span
style='color:#355F7C'>Spider </span></i>and define the initial requests to be
made, and optionally, how to follow links in pages and parse the downloaded
page content to extract data.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=386 src="Scrapy%20Documentation_files/image020.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As you can see, our Spider subclasses <i><span
style='color:#355F7C'>scrapy.Spider </span></i>and defines some attributes and
methods:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>name</span></i>: identifies the Spider. It must be unique
within a project, that is, you can’t set the same name for different Spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>start_requests()</span></i>: must return an iterable of
Requests (you can return a list of requests or write a generator function)
which the Spider will begin to crawl from. Subsequent requests will be
generated successively from these initial requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>parse()</span></i>: a method that will be called to
handle the response downloaded for each of the requests made. The response
parameter is an instance of <i><span style='color:#355F7C'>TextResponse </span></i>that
holds the page content and has further helpful methods to handle it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>parse() </span></i>method
usually parses the response, extracting the scraped data as dicts and also
finding new URLs to follow and creating new requests (Request) from them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>How to run
our spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To put our spider to work, go to the project’s top level
directory and run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image021.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>This command runs the spider named quotes that we’ve just
added, that will send some requests for the quotes. toscrape.com domain. You
will get an output similar to this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#666666'>... </span>(omitted <span style='color:#007021'>for </span>brevity)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Spider opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895821312'><span
style='left:0px;position:absolute;left:-5px;top:-38px;width:633px;height:264px'><img
width=633 height=264 src="Scrapy%20Documentation_files/image022.gif"></span></span><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>logstats] INFO: Crawled <span style='color:#217F4F'>0
</span>pages (at <span style='color:#217F4F'>0 </span>pages<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>),<span
style='color:red'>&#9251; </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>scraped
<span style='color:#217F4F'>0 </span>items (at <span style='color:#217F4F'>0 </span>items<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>telnet] DEBUG: Telnet console listening on <span
style='color:#217F4F'>127.0.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:2.6pt;text-align:left;text-indent:0in;
line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#217F4F'>0.1</span>:<span style='color:#217F4F'>6023</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>24</span>:<span style='color:#217F4F'>05 </span>[scrapy<span
style='color:#666666'>.</span>core<span style='color:#666666'>.</span>engine]
DEBUG: Crawled (<span style='color:#217F4F'>404</span>) <span style='color:
#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>quotes<span
style='color:#666666'>. </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>robots<span
style='color:#666666'>.</span>txt<span style='color:#666666'>&gt; </span>(referer:
<span style='color:#007021'>None</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>24</span>:<span style='color:#217F4F'>05 </span>[scrapy<span
style='color:#666666'>.</span>core<span style='color:#666666'>.</span>engine]
DEBUG: Crawled (<span style='color:#217F4F'>200</span>) <span style='color:
#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>quotes<span
style='color:#666666'>. </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>/&gt; </span>(referer: <span style='color:#007021'>None</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>24</span>:<span style='color:#217F4F'>05 </span>[scrapy<span
style='color:#666666'>.</span>core<span style='color:#666666'>.</span>engine]
DEBUG: Crawled (<span style='color:#217F4F'>200</span>) <span style='color:
#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>quotes<span
style='color:#666666'>. </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>2</span><span
style='color:#666666'>/&gt; </span>(referer: <span style='color:#007021'>None</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[quotes] DEBUG: Saved file quotes<span
style='color:#666666'>-</span><span style='color:#217F4F'>1.</span>html</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[quotes] DEBUG: Saved file quotes<span
style='color:#666666'>-</span><span style='color:#217F4F'>2.</span>html</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:75.75pt;
margin-bottom:11.5pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>24</span>:<span
style='color:#217F4F'>05 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Closing spider (finished) <span
style='color:#666666'>...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>Now, check the files in the current directory. You should
notice that two new files have been created: <i>quotes-1.html </i>and <i>quotes-2.html</i>,
with the content for the respective URLs, as our parse method instructs.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 480029" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>If
you are wondering why we haven’t parsed the HTML yet, hold on, we will cover
that soon.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 480030"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>What just
happened under the hood?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.75pt;
margin-left:.5pt'>Scrapy schedules the scrapy.Request objects returned by the start_requests
method of the Spider. Upon receiving a response for each one, it instantiates <i><span
style='color:#355F7C'>Response </span></i>objects and calls the callback method
associated with the request (in this case, the parse method) passing the
response as an argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>A shortcut
to the start_requests method</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.4pt;
margin-left:.5pt'>Instead of implementing a <i><span style='color:#355F7C'>start_requests()
</span></i>method that generates scrapy.Request objects from URLs, you can just
define a <i><span style='color:#355F7C'>start_urls </span></i>class attribute
with a list of URLs. This list will then be used by the default implementation
of <i><span style='color:#355F7C'>start_requests() </span></i>to create the
initial requests for your spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:22.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=145 src="Scrapy%20Documentation_files/image023.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>2.3.
Scrapy Tutorial</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=151 src="Scrapy%20Documentation_files/image024.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>parse() </span></i>method
will be called to handle each of the requests for those URLs, even though we
haven’t explicitly told Scrapy to do so. This happens because <i><span
style='color:#355F7C'>parse() </span></i>is Scrapy’s default callback method,
which is called for requests without an explicitly assigned callback.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Extracting
data</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:35.25pt;margin-bottom:
1.7pt;margin-left:.5pt;line-height:175%'><span style='position:absolute;
z-index:-1895820288;left:0px;margin-left:-5px;margin-top:25px;width:633px;
height:25px'><img width=633 height=25
src="Scrapy%20Documentation_files/image025.gif"></span>The best way to learn
how to extract data with Scrapy is trying selectors using the <i><span
style='color:#355F7C'>Scrapy shell</span></i>. Run: scrapy shell <span
style='color:#4070A1'>'https://quotes.toscrape.com/page/1/'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 477883" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:123%'><b>Note: </b>Remember to always enclose URLs
in quotes when running Scrapy shell from the command line, otherwise URLs
containing arguments (i.e. &amp; character) will not work. On Windows, use
double quotes instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=35 src="Scrapy%20Documentation_files/image026.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.7pt;
margin-left:.5pt'>You will see something like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>[ <span
style='color:#666666'>... </span>Scrapy log here <span style='color:#666666'>...
</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:39.1pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895819264'><span style='left:0px;position:
absolute;left:-5px;top:-22px;width:633px;height:248px'><img width=633
height=248 src="Scrapy%20Documentation_files/image027.gif"></span></span><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>09</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 12</span>:<span style='color:#217F4F'>09</span>:<span
style='color:#217F4F'>27 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] DEBUG: Crawled (<span style='color:#217F4F'>200</span>)
<span style='color:#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>quotes<span
style='color:#666666'>. </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>/&gt; </span>(referer: <span style='color:#007021'>None</span>)
[s] Available Scrapy objects:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]           scrapy                             scrapy
module (contains scrapy<span style='color:#666666'>.</span>Request, scrapy<span
style='color:#666666'>.</span>Selector, etc)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]           crawler                     <span
style='color:#666666'>&lt;</span>scrapy<span style='color:#666666'>.</span>crawler<span
style='color:#666666'>.</span>Crawler <span style='color:#007021'>object </span>at
<span style='color:#217F4F'>0x7fa91d888c90</span><span style='color:#666666'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]           item                  {}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>[s]            request   <span
style='color:#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>quotes<span
style='color:#666666'>.</span>toscrape<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>page<span style='color:#666666'>/</span><span
style='color:#217F4F'>1</span><span style='color:#666666'>/&gt; </span>[s]          response                <span
style='color:#666666'>&lt;</span><span style='color:#217F4F'>200 </span>https:<span
style='color:#666666'>//</span>quotes<span style='color:#666666'>.</span>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:112.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>[s]            settings   <span
style='color:#666666'>&lt;</span>scrapy<span style='color:#666666'>.</span>settings<span
style='color:#666666'>.</span>Settings <span style='color:#007021'>object </span>at
<span style='color:#217F4F'>0x7fa91d888c10</span><span style='color:#666666'>&gt;
</span>[s]             spider <span style='color:#666666'>&lt;</span>DefaultSpider
<span style='color:#4070A1'>'default' </span>at <span style='color:#217F4F'>0x7fa91c8af990</span><span
style='color:#666666'>&gt; </span>[s] Useful shortcuts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]            shelp()                                     Shell
help (<span style='color:#007021'>print </span>this help)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]                           fetch(req_or_url) Fetch request
(<span style='color:#007021'>or </span>URL) <span style='color:#007021'>and </span>update
local objects</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.05pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>[s]             view(response)                 View response <span
style='color:#007021'>in </span>a browser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.65pt;
margin-left:.5pt'>Using the shell, you can try selecting elements using <a
href="https://www.w3.org/TR/selectors"><span style='color:#377063;text-decoration:
none'>CSS</span></a><span style='color:#377063'> </span>with the response
object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;title&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:142%'><span style='position:relative;z-index:-1895818240'><span
style='left:0px;position:absolute;left:-5px;top:-23px;width:633px;height:41px'><img
width=633 height=41 src="Scrapy%20Documentation_files/image028.gif"></span></span><span
style='color:#333333'>[&lt;Selector query='descendant-or-self::title'
data='&lt;title&gt;Quotes to Scrape&lt;/title&gt;'&gt;] </span>The result of
running response.css('title') is a list-like object called <i><span
style='color:#355F7C'>SelectorList</span></i>, which represents a list of Selector
objects that wrap around XML/HTML elements and allow you to run further queries
to refine the selection or extract the data.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To extract the text from the title above, you can do:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image029.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>There are two things to note here: one is that we’ve added ::<sub><span
style='font-size:15.5pt;line-height:103%'>text </span></sub>to the CSS query,
to mean we want to select only the text elements directly inside &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>title&gt; </span></sub>element. If we
don’t specify ::<sub><span style='font-size:15.5pt;line-height:103%'>text</span></sub>,
we’d get the full title element, including its tags:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image030.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The other thing is that the result of calling .getall() is a
list: it is possible that a selector returns more than one result, so we
extract them all. When you know you just want the first result, as in this
case, you can do:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image031.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>As an alternative, you could’ve written:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image032.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Accessing an index on a <i><span style='color:#355F7C'>SelectorList
</span></i>instance will raise an <a
href="https://docs.python.org/3/library/exceptions.html#IndexError"><span
style='color:#377063;text-decoration:none'>IndexError</span></a><span
style='color:#377063'> </span>exception if there are no results:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image033.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You might want to use .get() directly on the <i><span
style='color:#355F7C'>SelectorList </span></i>instance instead, which returns None
if there are no results:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image034.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.6pt;
margin-left:.5pt'>There’s a lesson here: for most scraping code, you want it to
be resilient to errors due to things not being found on a page, so that even if
some parts fail to be scraped, you can at least get <b><sub><span
style='font-size:15.5pt;line-height:103%'>some </span></sub></b>data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Besides the <i><span style='color:#355F7C'>getall() </span></i>and
<i><span style='color:#355F7C'>get() </span></i>methods, you can also use the <i><span
style='color:#355F7C'>re() </span></i>method to extract using <a
href="https://docs.python.org/3/library/re.html"><span style='color:#377063;
text-decoration:none'>regular expressions</span></a><a
href="https://docs.python.org/3/library/re.html"><span style='color:black;
text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image035.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In order to find the proper CSS selectors to use, you might
find it useful to open the response page from the shell in your web browser
using view(response). You can use your browser’s developer tools to inspect the
HTML and come up with a selector (see <i><span style='color:#355F7C'>Using your
browser’s Developer Tools for scraping</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a href="https://selectorgadget.com/"><span style='color:
#377063;text-decoration:none'>Selector Gadget</span></a><span style='color:
#377063'> </span>is also a nice tool to quickly find CSS selector for visually
selected elements, which works in many browsers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>XPath: a
brief intro</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Besides <a href="https://www.w3.org/TR/selectors"><span
style='color:#377063;text-decoration:none'>CSS</span></a><a
href="https://www.w3.org/TR/selectors"><span style='color:black;text-decoration:
none'>,</span></a> Scrapy selectors also support using <a
href="https://www.w3.org/TR/xpath-10/"><span style='color:#377063;text-decoration:
none'>XPath</span></a><span style='color:#377063'> </span>expressions:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image036.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>XPath expressions are very powerful, and are the foundation
of Scrapy Selectors. In fact, CSS selectors are converted to XPath
under-the-hood. You can see that if you read the text representation of the
selector objects in the shell closely. While perhaps not as popular as CSS
selectors, XPath expressions offer more power because besides navigating the
structure, it can also look at the content. Using XPath, you’re able to select
things like: <i>the link that contains the text “Next Page”</i>. This makes
XPath very fitting to the task of scraping, and we encourage you to learn XPath
even if you already know how to construct CSS selectors, it will make scraping
much easier.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>We won’t cover much of XPath here, but you can read more
about <i><span style='color:#355F7C'>using XPath with Scrapy Selectors here</span></i>.
To learn more about XPath, we recommend <a
href="http://zvon.org/comp/r/tut-XPath_1.html"><span style='color:#377063;
text-decoration:none'>this tutorial to learn XPath through examples</span></a><a
href="http://zvon.org/comp/r/tut-XPath_1.html"><span style='color:black;
text-decoration:none'>,</span></a> and <a
href="http://plasmasturm.org/log/xpath101/"><span style='color:#377063;
text-decoration:none'>this tutorial to learn “how to think </span></a><a
href="http://plasmasturm.org/log/xpath101/"><span style='color:#377063;
text-decoration:none'>in XPath”</span></a><a
href="http://plasmasturm.org/log/xpath101/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Extracting
quotes and authors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Now that you know a bit about selection and extraction, let’s
complete our spider by writing the code to extract the quotes from the web
page.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Each quote in <a href="https://quotes.toscrape.com/"><span
style='color:#377063;text-decoration:none'>https://quotes.toscrape.com</span></a><span
style='color:#377063'> </span>is represented by HTML elements that look like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=248 src="Scrapy%20Documentation_files/image037.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Let’s open up scrapy shell and play a bit to find out how to
extract the data we want:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image038.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>We get a list of selectors for the quote HTML elements with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;div.quote&quot;</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895817216'><span style='left:0px;position:
absolute;left:-5px;top:-22px;width:633px;height:72px'><img width=633 height=72
src="Scrapy%20Documentation_files/image039.gif"></span></span><span
style='color:#333333'>[&lt;Selector query=&quot;descendant-or-self::div[@class
and contains(concat(' ', normalize</span><i><span style='font-size:5.0pt;
line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>space(@class), ' '), ' quote ')]&quot; data='&lt;div
class=&quot;quote&quot; itemscope itemtype...'&gt;, &lt;Selector
query=&quot;descendant-or-self::div[@class and contains(concat(' ', normalize-</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=40 src="Scrapy%20Documentation_files/image040.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Each of the selectors returned by the query above allows us
to run further queries over their sub-elements. Let’s assign the first selector
to a variable, so that we can run our CSS selectors directly on a particular
quote:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image041.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Now, let’s extract the text, author and tags from that quote
using the quote object we just created:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=121 src="Scrapy%20Documentation_files/image042.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Given that the tags are a list of strings, we can use the .getall()
method to get all of them:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image043.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.5pt'>Having figured out how to extract each bit, we can now
iterate over all the quote elements and put them together into a Python
dictionary:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span><span style='color:#007021'>for </span>quote
<span style='color:#007021'>in </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;div.quote&quot;</span>):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#C75C0A'>...                             </span>text
<span style='color:#666666'>= </span>quote<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;span.text::text&quot;</span>)<span
style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#C75C0A'>...                             </span>author
<span style='color:#666666'>= </span>quote<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;small.author::text&quot;</span>)<span
style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:159.4pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>...             </span>tags <span style='color:#666666'>=
</span>quote<span style='color:#666666'>.</span>css(<span style='color:#4070A1'>&quot;div.tags
a.tag::text&quot;</span>)<span style='color:#666666'>.</span>getall() <span
style='color:#C75C0A'>...           </span><span style='color:#007021'>print</span>(<span
style='color:#007021'>dict</span>(text<span style='color:#666666'>=</span>text,
author<span style='color:#666666'>=</span>author, tags<span style='color:#666666'>=</span>tags))
<span style='color:#C75C0A'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>{'text': '“The world as we have created it is a process
of our thinking. It cannot be</span><span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>changed without changing our thinking.”', 'author':
'Albert Einstein', 'tags': ['change </span><i><span style='font-size:5.0pt;
line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>', 'deep-thoughts', 'thinking', 'world']}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:28.65pt;
margin-bottom:25.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895816192'><span style='left:0px;position:
absolute;left:-5px;top:-150px;width:633px;height:200px'><img width=633
height=200 src="Scrapy%20Documentation_files/image044.gif"></span></span><span
style='color:#333333'>{'text': '“It is our choices, Harry, that show what we
truly are, far more than our</span><span style='color:red'>&#9251; </span><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>abilities.”', 'author': 'J.K. Rowling', 'tags':
['abilities', 'choices']} ...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Extracting
data in our spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Let’s get back to our spider. Until now, it hasn’t extracted
any data in particular, just saving the whole HTML page to a local file. Let’s
integrate the extraction logic above into our spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>A Scrapy spider typically generates many dictionaries
containing the data extracted from the page. To do that, we use the yield Python
keyword in the callback, as you can see below:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=82 src="Scrapy%20Documentation_files/image045.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=258 src="Scrapy%20Documentation_files/image046.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image047.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Then, run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image048.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>Now, it should output the extracted data with the log:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>09</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 18</span>:<span style='color:#217F4F'>57</span>:<span
style='color:#217F4F'>19 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>scraper] DEBUG: Scraped <span style='color:#007021'>from
</span><span style='color:#666666'>&lt;</span><span style='color:#217F4F'>200 </span>https:<span
style='color:#666666'>//</span>quotes<span style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>{<span
style='color:#4070A1'>'tags'</span>: [<span style='color:#4070A1'>'life'</span>,
<span style='color:#4070A1'>'love'</span>], <span style='color:#4070A1'>'author'</span>:
<span style='color:#4070A1'>'André Gide'</span>, <span style='color:#4070A1'>'text'</span>:
<span style='color:#4070A1'>'“It is better to be hated</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>for what you are than to be loved for what you are not.”'</span>}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>09</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 18</span>:<span style='color:#217F4F'>57</span>:<span
style='color:#217F4F'>19 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>scraper] DEBUG: Scraped <span style='color:#007021'>from
</span><span style='color:#666666'>&lt;</span><span style='color:#217F4F'>200 </span>https:<span
style='color:#666666'>//</span>quotes<span style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>{<span
style='color:#4070A1'>'tags'</span>: [<span style='color:#4070A1'>'edison'</span>,
<span style='color:#4070A1'>'failure'</span>, <span style='color:#4070A1'>'inspirational'</span>,
<span style='color:#4070A1'>'paraphrased'</span>], <span style='color:#4070A1'>'author'</span>:
<span style='color:#4070A1'>'Thomas A.</span><span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895815168'><span style='left:0px;position:
absolute;left:-5px;top:-118px;width:633px;height:137px'><img width=633
height=137 src="Scrapy%20Documentation_files/image049.gif"></span></span><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>Edison'</span>, <span style='color:#4070A1'>'text'</span>:
<span style='color:#4070A1'>&quot;“I have not failed. I've just found 10,000
ways that won't work.”&quot;</span>}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.3 Storing the
scraped data</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>The simplest way to store the scraped data is by using <i><span
style='color:#355F7C'>Feed exports</span></i>, with the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image050.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>That will generate a quotes.json file containing all scraped
items, serialized in <a href="https://en.wikipedia.org/wiki/JSON"><span
style='color:#377063;text-decoration:none'>JSON</span></a><a
href="https://en.wikipedia.org/wiki/JSON"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The -<sub><span style='font-size:15.5pt;line-height:103%'>O </span></sub>command-line
switch overwrites any existing file; use -<sub><span style='font-size:15.5pt;
line-height:103%'>o </span></sub>instead to append new content to any existing
file. However, appending to a JSON file makes the file contents invalid JSON.
When appending to a file, consider using a different serialization format, such
as <a href="https://jsonlines.org/"><span style='color:#377063;text-decoration:
none'>JSON Lines</span></a><a href="https://jsonlines.org/"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image051.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The <a href="https://jsonlines.org/"><span style='color:#377063;
text-decoration:none'>JSON Lines</span></a><span style='color:#377063'> </span>format
is useful because it’s stream-like, so you can easily append new records to it.
It doesn’t have the same problem as JSON when you run twice. Also, as each
record is a separate line, you can process big files without having to fit
everything in memory, there are tools like <a
href="https://stedolan.github.io/jq"><span style='color:#377063;text-decoration:
none'>JQ</span></a><span style='color:#377063'> </span>to help do that at the
command-line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:25.85pt;
margin-left:.5pt'>In small projects (like the one in this tutorial), that
should be enough. However, if you want to perform more complex things with the
scraped items, you can write an <i><span style='color:#355F7C'>Item Pipeline</span></i>.
A placeholder file for Item Pipelines has been set up</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>18</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>for you when the project is created, in tutorial/pipelines.py.
Though you don’t need to implement any item pipelines if you just want to store
the scraped items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.4 Following links</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Let’s say, instead of just scraping the stuff from the first
two pages from <a href="https://quotes.toscrape.com/"><span style='color:#377063;
text-decoration:none'>https://quotes.toscrape.com</span></a><a
href="https://quotes.toscrape.com/"><span style='color:black;text-decoration:
none'>,</span></a> you want quotes from all the pages in the website.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Now that you know how to extract data from pages, let’s see
how to follow links from them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The first thing to do is extract the link to the page we want
to follow. Examining our page, we can see there is a link to the next page with
the following markup:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image052.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>We can try extracting it in the shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image053.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This gets the anchor element, but we want the attribute href.
For that, Scrapy supports a CSS extension that lets you select the attribute
contents, like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image054.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>There is also an attrib property available (see <i><span
style='color:#355F7C'>Selecting element attributes </span></i>for more):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image055.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Now let’s see our spider, modified to recursively follow the
link to the next page, extracting data from it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=290 src="Scrapy%20Documentation_files/image056.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image057.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Now, after extracting the data, the parse() method looks for
the link to the next page, builds a full absolute URL using the <i><span
style='color:#355F7C'>urljoin() </span></i>method (since the links can be
relative) and yields a new request to the next page, registering itself as
callback to handle the data extraction for the next page and to keep the
crawling going through all the pages. What you see here is Scrapy’s mechanism
of following links: when you yield a Request in a callback method, Scrapy will
schedule that request to be sent and register a callback method to be executed
when that request finishes. Using this, you can build complex crawlers that
follow links according to rules you define, and extract different kinds of data
depending on the page it’s visiting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>In our example, it creates a sort of loop, following all the
links to the next page until it doesn’t find one – handy for crawling blogs,
forums and other sites with pagination.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>A shortcut
for creating Requests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>As a shortcut for creating Request objects you can use <i><span
style='color:#355F7C'>response.follow</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=328 src="Scrapy%20Documentation_files/image058.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Unlike scrapy.Request, response.follow supports relative URLs
directly - no need to call urljoin. Note that response.follow just returns a
Request instance; you still have to yield this Request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>You can also pass a selector to response.follow instead of a
string; this selector should extract necessary attributes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image059.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For &lt;<sub><span style='font-size:15.5pt;line-height:103%'>a&gt;
</span></sub>elements there is a shortcut: response.follow uses their href
attribute automatically. So the code can be shortened further:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image060.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To create multiple requests from an iterable, you can use <i><span
style='color:#355F7C'>response.follow_all </span></i>instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image061.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>or, shortening it further:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.0pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895814144'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:25px'><img width=633 height=25
src="Scrapy%20Documentation_files/image062.gif"></span></span><span
style='color:#007021'>yield from </span>response<span style='color:#666666'>.</span>follow_all(css<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;ul.pager
a&quot;</span>, callback<span style='color:#666666'>=</span><span
style='color:#007021'>self</span><span style='color:#666666'>.</span>parse)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>More
examples and patterns</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is another spider that illustrates callbacks and
following links, this time for scraping author information:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=392 src="Scrapy%20Documentation_files/image063.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This spider will start from the main page, it will follow all
the links to the authors pages calling the parse_author callback for each of
them, and also the pagination links with the parse callback as we saw before.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here we’re passing callbacks to <i><span style='color:#355F7C'>response.follow_all
</span></i>as positional arguments to make the code shorter; it also works for Request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The parse_author callback defines a helper function to
extract and cleanup the data from a CSS query and yields the Python dict with
the author data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Another interesting thing this spider demonstrates is that,
even if there are many quotes from the same author, we don’t need to worry
about visiting the same author page multiple times. By default, Scrapy filters
out duplicated requests to URLs already visited, avoiding the problem of
hitting servers too much because of a programming mistake. This can be
configured in the <i><span style='color:#355F7C'>DUPEFILTER_CLASS </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Hopefully by now you have a good understanding of how to use
the mechanism of following links and callbacks with Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As yet another example spider that leverages the mechanism of
following links, check out the <i><span style='color:#355F7C'>CrawlSpider </span></i>class
for a generic spider that implements a small rules engine that you can use to
write your crawlers on top of it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Also, a common pattern is to build an item with data from
more than one page, using a <i><span style='color:#355F7C'>trick to pass
additional data to the callbacks</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.5 Using spider
arguments</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>You can provide command line arguments to your spiders by
using the -<sub><span style='font-size:15.5pt;line-height:103%'>a </span></sub>option
when running them:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image064.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These arguments are passed to the Spider’s __init__ method
and become spider attributes by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>In this example, the value provided for the tag argument will
be available via self.tag. You can use this to make your spider fetch only
quotes with a specific tag, building the URL based on the argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=376 src="Scrapy%20Documentation_files/image065.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.3pt;
margin-left:.5pt;line-height:129%'>If you pass the tag=humor argument to this
spider, you’ll notice that it will only visit URLs from the humor tag, such as https://quotes.toscrape.com/tag/humor.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'>You can <i><span
style='color:#355F7C'>learn more about handling spider arguments here</span></i>.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>2.3.6 Next steps</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This tutorial covered only the basics of Scrapy, but there’s
a lot of other features not mentioned here. Check the <i><span
style='color:#355F7C'>What else? </span></i>section in the <i><span
style='color:#355F7C'>Scrapy at a glance </span></i>chapter for a quick
overview of the most important ones.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.8pt;
margin-left:.5pt'>You can continue from the section <i><span style='color:#355F7C'>Basic
concepts </span></i>to know more about the command-line tool, spiders,
selectors and other things the tutorial hasn’t covered like modeling the
scraped data. If you’d prefer to play with an example project, check the <i><span
style='color:#355F7C'>Examples </span></i>section.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>2.4 Examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The best way to learn is with examples, and Scrapy is no
exception. For this reason, there is an example Scrapy project named <a
href="https://github.com/scrapy/quotesbot"><span style='color:#377063;
text-decoration:none'>quotesbot</span></a><a
href="https://github.com/scrapy/quotesbot"><span style='color:black;text-decoration:
none'>,</span></a> that you can use to play and learn more about Scrapy. It
contains two spiders for <a href="https://quotes.toscrape.com/"><span
style='color:#377063;text-decoration:none'>https: </span></a><a
href="https://quotes.toscrape.com/"><span style='color:#377063;text-decoration:
none'>//quotes.toscrape.com</span></a><a href="https://quotes.toscrape.com/"><span
style='color:black;text-decoration:none'>,</span></a> one using CSS selectors
and another one using XPath expressions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The <a href="https://github.com/scrapy/quotesbot"><span
style='color:#377063;text-decoration:none'>quotesbot</span></a><span
style='color:#377063'> </span>project is available at: <a
href="https://github.com/scrapy/quotesbot"><span style='color:#377063;
text-decoration:none'>https://github.com/scrapy/quotesbot</span></a><a
href="https://github.com/scrapy/quotesbot"><span style='color:black;text-decoration:
none'>.</span></a> You can find more information about it in the project’s
README.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you’re familiar with git, you can checkout the code.
Otherwise you can download the project as a zip file by clicking <a
href="https://github.com/scrapy/quotesbot/archive/master.zip"><span
style='color:#377063;text-decoration:none'>here</span></a><a
href="https://github.com/scrapy/quotesbot/archive/master.zip"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Scrapy at a glance</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Understand what Scrapy is and how it can help you.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Installation guide</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Get Scrapy installed on your computer.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Scrapy Tutorial</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Write your first Scrapy project.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Examples</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.25in;
margin-left:25.4pt'>Learn more by playing with a pre-made Scrapy project.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>2.4.
Examples</b></p>

<span style='font-size:10.0pt;line-height:107%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 475164"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>THREE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 475165"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>BASIC CONCEPTS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.1 Command line tool</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy is controlled through the scrapy command-line tool, to
be referred to here as the “Scrapy tool” to differentiate it from the
sub-commands, which we just call “commands” or “Scrapy commands”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>The Scrapy tool provides several commands, for multiple
purposes, and each one accepts a different set of arguments and options.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:.5pt'>(The scrapy deploy command has been removed in 1.0 in favor
of the standalone scrapyd-deploy. See <a
href="https://scrapyd.readthedocs.io/en/latest/deploy.html"><span
style='color:#377063;text-decoration:none'>Deploying </span></a><a
href="https://scrapyd.readthedocs.io/en/latest/deploy.html"><span
style='color:#377063;text-decoration:none'>your project</span></a><a
href="https://scrapyd.readthedocs.io/en/latest/deploy.html"><span
style='color:black;text-decoration:none'>.</span></a>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.1 Configuration
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:.5pt'>Scrapy will look for configuration parameters in ini-style scrapy.cfg
files in standard locations:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.55pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>/etc/scrapy.cfg or c:\scrapy\scrapy.cfg (system-wide),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.2pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>~/.config/scrapy.cfg ($XDG_CONFIG_HOME) and ~/.scrapy.cfg ($HOME)
for global (user-wide) settings, and</p>

<p class=MsoNormal align=left style='margin-left:24.9pt;text-align:left;
text-indent:-12.45pt'><span style='line-height:103%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.cfg inside a Scrapy project’s root (see next section).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Settings from these files are merged in the listed order of
preference: user-defined values have higher priority than system-wide defaults
and project-wide settings will override all others, when defined.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:.5pt'>Scrapy also understands, and can be configured through, a
number of environment variables. Currently these are:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>SCRAPY_SETTINGS_MODULE (see <i><span style='color:#355F7C'>Designating
the settings</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>SCRAPY_PROJECT (see <i><span style='color:#355F7C'>Sharing the
root directory between projects</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:22.0pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>SCRAPY_PYTHON_SHELL (see <i><span style='color:#355F7C'>Scrapy
shell</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.2 Default structure
of Scrapy projects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Before delving into the command-line tool and its
sub-commands, let’s first understand the directory structure of a Scrapy
project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Though it can be modified, all Scrapy projects have the same
file structure by default, similar to this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=56 src="Scrapy%20Documentation_files/image066.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection9>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=167 src="Scrapy%20Documentation_files/image067.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The directory where the scrapy.cfg file resides is known as
the <i>project root directory</i>. That file contains the name of the python
module that defines the project settings. Here is an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image068.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.3 Sharing the root
directory between projects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A project root directory, the one that contains the scrapy.cfg,
may be shared by multiple Scrapy projects, each with its own settings module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>In that case, you must define one or more aliases for those
settings modules under [<sub><span style='font-size:15.5pt;line-height:103%'>settings]
</span></sub>in your scrapy.cfg file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image069.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.5pt'>By default, the scrapy command-line tool will use the default
settings. Use the SCRAPY_PROJECT environment variable to specify a different
project for scrapy to use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image070.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.4 Using the </span></b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>scrapy <b>tool</b></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can start by running the Scrapy tool with no arguments
and it will print some usage help and the available commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130 src="Scrapy%20Documentation_files/image071.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image072.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The first line will print the currently active project if
you’re inside a Scrapy project. In this example it was run from outside a
project. If run from inside a project it would have printed something like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image073.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Creating
projects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>The first thing you typically do with the scrapy tool is
create your Scrapy project:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image074.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>That will create a Scrapy project under the project_dir directory.
If project_dir wasn’t specified, project_dir will be the same as myproject.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Next, you go inside the new project directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image075.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>And you’re ready to use the scrapy command to manage and
control your project from there.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Controlling
projects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:137.35pt;margin-bottom:
0in;margin-left:.5pt;line-height:148%'>You use the scrapy tool from inside your
projects to control and manage them. For example, to create a new spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image076.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Some Scrapy commands (like <i><span style='color:#355F7C'>crawl</span></i>)
must be run from inside a Scrapy project. See the <i><span style='color:#355F7C'>commands
reference </span></i>below for more information on which commands must be run
from inside projects, and which not.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Also keep in mind that some commands may have slightly
different behaviours when running them from inside projects. For example, the
fetch command will use spider-overridden behaviours (such as the user_agent attribute
to override the user-agent) if the url being fetched is associated with some
specific spider. This is intentional, as the fetch command is meant to be used
to check how spiders are downloading pages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.5 Available tool
commands</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This section contains a list of the available built-in
commands with a description and some usage examples. Remember, you can always
get more info about each command by running:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image077.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>And you can see all available commands with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image078.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.4pt;margin-left:-.25pt;text-align:left;line-height:126%'>There
are two kinds of commands, those that only work from inside a Scrapy project
(Project-specific commands) and those that also work without an active Scrapy
project (Global commands), though they may behave slightly differently when run
from inside a project (as they would use the project overridden settings).
Global commands:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>startproject</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:15.7pt;text-indent:16.45pt;line-height:185%'><span
style='line-height:185%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>genspider </span></i>• <i><span
style='color:#355F7C'>settings</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>runspider</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>shell</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=25 src="Scrapy%20Documentation_files/image079.gif"></td>
 </tr>
</table>

<br clear=ALL>
<i><span style='color:#355F7C'>fetch</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>view</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.75pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>version</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:.5pt'>Project-only commands:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>crawl</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>check</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>list</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>edit</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>parse</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.65pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>bench</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.3pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>startproject</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy startproject &lt;project_name&gt; [project_dir]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.8pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Creates a new Scrapy project named project_name, under the project_dir
directory. If project_dir wasn’t specified, project_dir will be the same as project_name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Usage example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>genspider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy genspider [-t template] &lt;name&gt; &lt;domain or
URL&gt;</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.6.0: The ability to pass a URL instead of a
domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.15pt;
margin-left:.5pt'>Creates a new spider in the current folder or in the current
project’s spiders folder, if called from inside a project. The</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.1pt;
margin-left:.5pt'>&lt;name&gt; parameter is set as the spider’s name, while &lt;domain
or URL&gt; is used to generate the allowed_domains and start_urls spider’s
attributes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=226 src="Scrapy%20Documentation_files/image080.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:179%'>This is just a convenient shortcut command
for creating spiders based on pre-defined templates, but certainly not the only
way to create spiders. You can just create the spider source code files
yourself, instead of using this command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:179%'><b><span style='color:#20435C'>crawl</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy crawl &lt;spider&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.1pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>yes </i>Start crawling using a spider.
Supported options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.7pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>-h, --help: show a help message and exit</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>-a NAME=VALUE: set a spider argument (may be repeated)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.95pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>output
FILE </span></sub>or -<sub><span style='font-size:15.5pt;line-height:103%'>o
FILE</span></sub>: append scraped items to the end of FILE (use - for stdout).
To define the output format, set a colon at the end of the output URI (i.e. -o
FILE:FORMAT)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.65pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--overwrite-output FILE or -O FILE: dump scraped items into FILE,
overwriting any existing file. To define the output format, set a colon at the
end of the output URI (i.e. -<sub><span style='font-size:15.5pt;line-height:
103%'>O FILE:FORMAT</span></sub>) Usage examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130 src="Scrapy%20Documentation_files/image081.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.4pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>$
scrapy crawl -O myfile:json myspider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895812096'><span style='left:0px;position:
absolute;left:-5px;top:-22px;width:633px;height:56px'><img width=633 height=56
src="Scrapy%20Documentation_files/image082.gif"></span></span>[ ... myspider
starts crawling and saves the result in myfile in json format overwriting<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.3pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>the
original content... ]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>check</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.35pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy check [-l] &lt;spider&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:15.7pt;text-indent:16.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>yes </i>Run contract checks.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=258 src="Scrapy%20Documentation_files/image083.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>list</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.15pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy list</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>yes</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>List all available spiders in the current project. The output
is one spider per line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Usage example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image084.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>edit</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>scrapy edit &lt;spider&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.75pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>yes</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Edit the given spider using the editor defined in the EDITOR environment
variable or (if unset) the <i><span style='color:#355F7C'>EDITOR </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>This
command is provided only as a convenient shortcut for the most common case, the
developer is of course free to choose any tool or IDE to write and debug
spiders. Usage example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image085.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>fetch</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy fetch &lt;url&gt;</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Downloads the given URL using the Scrapy downloader and
writes the contents to standard output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The interesting thing about this command is that it fetches
the page the way the spider would download it. For example, if the spider has a
USER_AGENT attribute which overrides the User Agent, it will use that one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>So this command can be used to “see” how your spider would
fetch a certain page.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If used outside a project, no particular per-spider behaviour
would be applied and it will just use the default Scrapy downloader settings.
Supported options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>spider=SPIDER</span></sub>:
bypass spider autodetection and force use of specific spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>headers</span></sub>:
print the response’s HTTP headers instead of the response’s body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:15.7pt;text-indent:16.45pt;line-height:149%'><span
style='line-height:149%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:149%'>no-redirect</span></sub>:
do not follow HTTP 3xx redirects (default is to follow them) Usage examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216 src="Scrapy%20Documentation_files/image086.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>view</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>scrapy view &lt;url&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.2pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Opens the given URL in a browser, as your Scrapy spider would
“see” it. Sometimes spiders see pages differently from regular users, so this
can be used to check what the spider “sees” and confirm it’s what you expect.
Supported options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>spider=SPIDER</span></sub>:
bypass spider autodetection and force use of specific spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:15.7pt;text-indent:16.45pt;line-height:149%'><span
style='line-height:149%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:149%'>no-redirect</span></sub>:
do not follow HTTP 3xx redirects (default is to follow them) Usage example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image087.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:15.7pt;text-indent:16.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy shell [url]</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.65pt;
margin-left:.5pt;line-height:125%'>Starts the Scrapy shell for the given URL
(if given) or empty if no URL is given. Also supports UNIX-style local file
paths, either relative with ./ or ../ prefixes or absolute file paths. See <i><span
style='color:#355F7C'>Scrapy shell </span></i>for more info. Supported options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>spider=SPIDER</span></sub>:
bypass spider autodetection and force use of specific spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:15.7pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>-<sub><span style='font-size:15.5pt;line-height:103%'>c code</span></sub>:
evaluate the code in the shell, print the result and exit</p>

<p class=MsoNormal style='margin-left:15.7pt;text-indent:16.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>no-redirect</span></sub>:
do not follow HTTP 3xx redirects (default is to follow them); this only affects
the URL you may pass as argument on the command line; once you are inside the
shell, fetch(url) will still follow HTTP redirects by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:.5pt'>Usage example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.65in;
margin-bottom:12.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>$
scrapy shell http://www.example.com/some/page.html [ ... scrapy shell starts
... ]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>$
scrapy shell --nolog http://www.example.com/ -c '(response.status,
response.url)'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>(200,
'http://www.example.com/')</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>#
shell follows HTTP redirects by default</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895811072'><span
style='left:0px;position:absolute;left:-5px;top:-118px;width:633px;height:264px'><img
width=633 height=264 src="Scrapy%20Documentation_files/image022.gif"></span></span>$
scrapy shell --nolog
http://httpbin.org/redirect-to?url=http%3A%2F%2Fexample.com%2F -c <i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>'(response.status,
response.url)'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>(200,
'http://example.com/')</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'># you
can disable this with --no-redirect</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>#
(only for the URL passed as command line argument)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>$
scrapy shell --no-redirect --nolog
http://httpbin.org/redirect-to?url=http%3A%2F</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>%2Fexample.com%2F
-c '(response.status, response.url)'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>(302,
'http://httpbin.org/redirect-to?url=http%3A%2F%2Fexample.com%2F')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>parse</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.45pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>scrapy parse &lt;url&gt; [options]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>yes</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.3pt;
margin-left:.5pt;line-height:127%'>Fetches the given URL and parses it with the
spider that handles it, using the method passed with the --<sub><span
style='font-size:15.5pt;line-height:127%'>callback </span></sub>option, or parse
if not given. Supported options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>spider=SPIDER</span></sub>:
bypass spider autodetection and force use of specific spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--a NAME=VALUE: set spider argument (may be repeated)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>callback </span></sub>or
-<sub><span style='font-size:15.5pt;line-height:103%'>c</span></sub>: spider
method to use as callback for parsing the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>meta </span></sub>or
-<sub><span style='font-size:15.5pt;line-height:103%'>m</span></sub>:
additional request meta that will be passed to the callback request. This must
be a valid json string. Example: –meta=’{“foo” : “bar”}’</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>cbkwargs</span></sub>:
additional keyword arguments that will be passed to the callback. This must be
a valid json string. Example: –cbkwargs=’{“foo” : “bar”}’</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--pipelines: process items through pipelines</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>rules </span></sub>or
-<sub><span style='font-size:15.5pt;line-height:103%'>r</span></sub>: use <i><span
style='color:#355F7C'>CrawlSpider </span></i>rules to discover the callback
(i.e. spider method) to use for parsing the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--noitems: don’t show scraped items</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--nolinks: don’t show extracted links</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>nocolour</span></sub>:
avoid using pygments to colorize the output</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>depth </span></sub>or
-<sub><span style='font-size:15.5pt;line-height:103%'>d</span></sub>: depth
level for which the requests should be followed recursively (default: 1)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--<sub><span style='font-size:15.5pt;line-height:103%'>verbose </span></sub>or
-<sub><span style='font-size:15.5pt;line-height:103%'>v</span></sub>: display
information for each depth level</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>--output or -o: dump scraped items to a file</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=234 src="Scrapy%20Documentation_files/image088.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection11>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.55pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>scrapy settings [options]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Get the value of a Scrapy setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:147%'>If used inside a project it’ll show the
project setting value, otherwise it’ll show the default Scrapy value for that
setting. Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image089.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>runspider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.4pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy runspider &lt;spider_file.py&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:119.75pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>Run a spider self-contained in a Python
file, without having to create a project. Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image090.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>version</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.3pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy version [-v]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Prints the Scrapy version. If used with -<sub><span
style='font-size:15.5pt;line-height:103%'>v </span></sub>it also prints Python,
Twisted and Platform info, which is useful for bug reports.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>bench</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.2pt;
margin-left:95.5pt;text-indent:-79.8pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Syntax: scrapy bench</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:95.5pt;text-indent:-79.8pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Requires project: <i>no</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Run a quick benchmark test. <i><span style='color:#355F7C'>Benchmarking</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.1.6 Custom project
commands</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>You can also add your custom project commands by using the <i><span
style='color:#355F7C'>COMMANDS_MODULE </span></i>setting. See the Scrapy
commands in <a
href="https://github.com/scrapy/scrapy/tree/master/scrapy/commands"><span
style='color:#377063;text-decoration:none'>scrapy/commands</span></a><span
style='color:#377063'> </span>for examples on how to implement your commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>COMMANDS_MODULE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: '' (empty string)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A module to use for looking up custom Scrapy commands. This
is used to add custom commands for your Scrapy project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image091.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Register
commands via setup.py entry points</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.85pt;
margin-left:.5pt'>You can also add Scrapy commands from an external library by
adding a scrapy.commands section in the entry points of the library setup.py file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=195 src="Scrapy%20Documentation_files/image092.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.2 Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Spiders are classes which define how a certain site (or a
group of sites) will be scraped, including how to perform the crawl (i.e.
follow links) and how to extract structured data from their pages (i.e.
scraping items). In other words, Spiders are the place where you define the
custom behaviour for crawling and parsing pages for a particular site (or, in
some cases, a group of sites).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For spiders, the scraping cycle goes through something like
this:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>You start by
generating the initial Requests to crawl the first URLs, and specify a callback
function to be called with the response downloaded from those requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The first requests to perform are obtained by calling the <i><span
style='color:#355F7C'>start_requests() </span></i>method which (by default)
generates Request for the URLs specified in the <i><span style='color:#355F7C'>start_urls
</span></i>and the <i><span style='color:#355F7C'>parse </span></i>method as
callback function for the Requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>In the callback
function, you parse the response (web page) and return <i><span
style='color:#355F7C'>item objects</span></i>, Request objects, or an iterable
of these objects. Those Requests will also contain a callback (maybe the same)
and will then be downloaded by Scrapy and then their response handled by the
specified callback.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>In callback
functions, you parse the page contents, typically using <i><span
style='color:#355F7C'>Selectors </span></i>(but you can also use BeautifulSoup,
lxml or whatever mechanism you prefer) and generate items with the parsed data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Finally, the
items returned from the spider will be typically persisted to a database (in
some <i><span style='color:#355F7C'>Item Pipeline</span></i>) or written to a
file using <i><span style='color:#355F7C'>Feed exports</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Even though this cycle applies (more or less) to any kind of
spider, there are different kinds of default spiders bundled into Scrapy for
different purposes. We will talk about those types here.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.7pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.2.1 scrapy.Spider</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:300.65pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:187%'>class
scrapy.spiders.Spider class scrapy.Spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.15pt;
margin-left:25.4pt'>This is the simplest spider, and the one from which every
other spider must inherit (including spiders that come bundled with Scrapy, as
well as spiders that you write yourself). It doesn’t provide any special
functionality. It just provides a default <i><span style='color:#355F7C'>start_requests()
</span></i>implementation which sends requests from the <i><span
style='color:#355F7C'>start_urls </span></i>spider attribute and calls the
spider’s method parse for each of the resulting responses. name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A string which defines the name for this spider. The spider
name is how the spider is located (and instantiated) by Scrapy, so it must be
unique. However, nothing prevents you from instantiating more than one instance
of the same spider. This is the most important spider attribute and it’s
required.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>If the spider scrapes a single domain, a common practice is
to name the spider after the domain, with or without the <a
href="https://en.wikipedia.org/wiki/Top-level_domain"><span style='color:#377063;
text-decoration:none'>TLD</span></a><a
href="https://en.wikipedia.org/wiki/Top-level_domain"><span style='color:black;
text-decoration:none'>.</span></a> So, for example, a spider that crawls mywebsite.com
would often be called mywebsite.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>allowed_domains</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:47.3pt'>An optional list of strings containing domains that this
spider is allowed to crawl. Requests for URLs not belonging to the domain names
specified in this list (or their subdomains) won’t be followed if <i><span
style='color:#355F7C'>OffsiteMiddleware </span></i>is enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Let’s say your target url is https://www.example.com/1.html,
then add 'example.com' to the list.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>start_urls</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A list of URLs where the spider will begin to crawl from,
when no particular URLs are specified. So, the first pages downloaded will be
those listed here. The subsequent Request will be generated successively from
data contained in the start URLs.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>custom_settings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A dictionary of settings that will be overridden from the
project wide configuration when running this spider. It must be defined as a
class attribute since the settings are updated before instantiation. For a list
of available built-in settings see: <i><span style='color:#355F7C'>Built-in
settings reference</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>crawler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This attribute is set by the <i><span style='color:#355F7C'>from_crawler()
</span></i>class method after initializing the class, and links to the <i><span
style='color:#355F7C'>Crawler </span></i>object to which this spider instance
is bound.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Crawlers encapsulate a lot of components in the project for
their single entry access (such as extensions, middlewares, signals managers,
etc). See <i><span style='color:#355F7C'>Crawler API </span></i>to know more
about them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>settings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Configuration for running this spider. This is a <i><span
style='color:#355F7C'>Settings </span></i>instance, see the <i><span
style='color:#355F7C'>Settings </span></i>topic for a detailed introduction on
this subject.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>logger</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Python logger created with the Spider’s <i><span
style='color:#355F7C'>name</span></i>. You can use it to send log messages
through it as described on <i><span style='color:#355F7C'>Logging from Spiders</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>state</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:47.3pt'>A dict you can use to persist some spider state between
batches. See <i><span style='color:#355F7C'>Keeping persistent state between
batches </span></i>to know more about it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.7pt;margin-left:25.4pt;text-align:left;line-height:104%'>from_crawler(<i>crawler</i>,
<i>*args</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This is the class method used by Scrapy to create your
spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>You probably won’t need to override this directly because
the default implementation acts as a proxy to the <i><span style='color:#355F7C'>__init__()
</span></i>method, calling it with the given arguments args and named arguments
kwargs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Nonetheless, this method sets the <i><span
style='color:#355F7C'>crawler </span></i>and <i><span style='color:#355F7C'>settings
</span></i>attributes in the new instance so they can be accessed later inside
the spider’s code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.8pt;margin-left:47.3pt;text-align:left;line-height:100%'>Changed
in version 2.11: The settings in crawler.settings can now be modified in this
method, which is handy if you want to modify them based on arguments. As a
consequence, these settings aren’t the final values as they can be modified
later by e.g. <i><span style='color:#355F7C'>add-ons</span></i>. For the same
reason, most of the <i><span style='color:#355F7C'>Crawler </span></i>attributes
aren’t initialized at this point.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The final settings and the initialized <i><span
style='color:#355F7C'>Crawler </span></i>attributes are available in the <i><span
style='color:#355F7C'>start_requests() </span></i>method, handlers of the <i><span
style='color:#355F7C'>engine_started </span></i>signal and later.</p>

<h2>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>crawler (<i><span
style='color:#355F7C'>Crawler </span></i>instance) – crawler to which the
spider will be bound</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>args <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – arguments passed to the
<i><span style='color:#355F7C'>__init__() </span></i>method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>kwargs <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – keyword arguments
passed to the <i><span style='color:#355F7C'>__init__() </span></i>method</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.25pt;margin-left:24.65pt;text-align:left;line-height:110%'>classmethod
update_settings(<i>settings</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The update_settings() method is used to modify the spider’s
settings and is called during initialization of a spider instance.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:47.3pt'>It takes a <i><span style='color:#355F7C'>Settings </span></i>object
as a parameter and can add or update the spider’s configuration values. This
method is a class method, meaning that it is called on the <i><span
style='color:#355F7C'>Spider </span></i>class and allows all instances of the
spider to share the same configuration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>While per-spider settings can be set in <i><span
style='color:#355F7C'>custom_settings</span></i>, using update_settings() allows
you to dynamically add, remove or change settings based on other settings,
spider attributes or other factors and use setting priorities other than 'spider'.
Also, it’s easy to extend update_settings() in a subclass by overriding it,
while doing the same with <i><span style='color:#355F7C'>custom_settings </span></i>can
be hard.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:47.3pt'>For example, suppose a spider needs to modify <i><span
style='color:#355F7C'>FEEDS</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=194 src="Scrapy%20Documentation_files/image093.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:10.9pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=103 src="Scrapy%20Documentation_files/image094.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>start_requests()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:47.3pt'>This method must return an iterable with the first Requests
to crawl and/or with <i><span style='color:#355F7C'>item objects </span></i>for
this spider. It is called by Scrapy when the spider is opened for scraping.
Scrapy calls it only once, so it is safe to implement <i><span
style='color:#355F7C'>start_requests() </span></i>as a generator.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:47.3pt;line-height:125%'>The default implementation generates Request(url,
dont_filter=True) for each url in <i><span style='color:#355F7C'>start_urls</span></i>.
If you want to change the Requests used to start scraping a domain, this is the
method to override. For example, if you need to start by logging in using a
POST request, you could do:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=312 src="Scrapy%20Documentation_files/image095.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:25.4pt;text-align:left;line-height:104%'>parse(<i>response</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This is the default callback used by Scrapy to process
downloaded responses, when their requests don’t specify a callback.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The parse method is in charge of processing the response
and returning scraped data and/or more URLs to follow. Other Requests callbacks
have the same requirements as the Spider class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This method, as well as any other Request callback, must
return a Request object, an <i><span style='color:#355F7C'>item object</span></i>,
an iterable of Request objects and/or <i><span style='color:#355F7C'>item
objects</span></i>, or None.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:199.35pt;margin-bottom:
10.6pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>response (<i><span
style='color:#355F7C'>Response</span></i>) – the response to parse</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>log<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>message</i><span
style='font-size:14.5pt;line-height:104%'>[</span>, <i>level</i>, <i>component </i><span
style='font-size:14.5pt;line-height:104%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:47.3pt'>Wrapper that sends a log message through the Spider’s <i><span
style='color:#355F7C'>logger</span></i>, kept for backward compatibility. For
more information see <i><span style='color:#355F7C'>Logging from Spiders</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:25.4pt;text-align:left;line-height:104%'>closed(<i>reason</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Called when the spider closes. This method provides a
shortcut to signals.connect() for the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'><i><span style='color:#355F7C'>spider_closed </span></i>signal.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=257 src="Scrapy%20Documentation_files/image096.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=321 src="Scrapy%20Documentation_files/image097.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Instead of <i><span style='color:#355F7C'>start_urls </span></i>you
can use <i><span style='color:#355F7C'>start_requests() </span></i>directly; to
give data more structure you can use <i><span style='color:#355F7C'>Item </span></i>objects:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=242 src="Scrapy%20Documentation_files/image098.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=103 src="Scrapy%20Documentation_files/image099.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.2.2 Spider arguments</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.35pt;margin-left:-.25pt;text-align:left;line-height:98%'>Spiders
can receive arguments that modify their behaviour. Some common uses for spider
arguments are to define the start URLs or to restrict the crawl to certain
sections of the site, but they can be used to configure any functionality of
the spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Spider arguments are passed through the <i><span
style='color:#355F7C'>crawl </span></i>command using the -<sub><span
style='font-size:15.5pt;line-height:103%'>a </span></sub>option. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image100.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Spiders can access arguments in their <i>__init__ </i>methods:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image101.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The default <i>__init__ </i>method will take any spider
arguments and copy them to the spider as attributes. The above example can also
be written as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137 src="Scrapy%20Documentation_files/image102.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:130%'>If you are <i><span style='color:#355F7C'>running
Scrapy from a script</span></i>, you can specify spider arguments when calling <i><span
style='color:#355F7C'>CrawlerProcess.crawl </span></i>or <i><span
style='color:#355F7C'>CrawlerRunner.crawl</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image103.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Keep in mind that spider arguments are only strings. The
spider will not do any parsing on its own. If you were to set the start_urls attribute
from the command line, you would have to parse it on your own into a list using
something like <a
href="https://docs.python.org/3/library/ast.html#ast.literal_eval"><span
style='color:#377063;text-decoration:none'>ast.literal_eval()</span></a><span
style='color:#377063'> </span>or <a
href="https://docs.python.org/3/library/json.html#json.loads"><span
style='color:#377063;text-decoration:none'>json.loads()</span></a><span
style='color:#377063'> </span>and then set it as an attribute. Otherwise, you
would cause iteration over a start_urls string (a very common python pitfall)
resulting in each character being seen as a separate url.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.3pt;
margin-left:.5pt;line-height:179%'><span style='position:relative;z-index:-1895810048'><span
style='left:0px;position:absolute;left:-5px;top:-1329px;width:633px;height:
1px'><img width=633 height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>A
valid use case is to set the http auth credentials used by <i><span
style='color:#355F7C'>HttpAuthMiddleware </span></i>or the user agent used by <i><span
style='color:#355F7C'>UserAgentMiddleware</span></i>: scrapy crawl myspider <span
style='color:#666666'>-</span>a http_user<span style='color:#666666'>=</span>myuser
<span style='color:#666666'>-</span>a http_pass<span style='color:#666666'>=</span>mypassword
<span style='color:#666666'>-</span>a user_agent<span style='color:#666666'>=</span>mybot
Spider arguments can also be passed through the Scrapyd schedule.json API. See <a
href="https://scrapyd.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>Scrapyd documentation</span></a><a
href="https://scrapyd.readthedocs.io/en/latest/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.2.3 Generic Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy comes with some useful generic spiders that you can
use to subclass your spiders from. Their aim is to provide convenient
functionality for a few common scraping cases, like following all links on a
site based on certain rules, crawling from <a
href="https://www.sitemaps.org/index.html"><span style='color:#377063;
text-decoration:none'>Sitemaps</span></a><a
href="https://www.sitemaps.org/index.html"><span style='color:black;text-decoration:
none'>,</span></a> or parsing an XML/CSV feed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.75pt;
margin-left:.5pt'>For the examples used in the following spiders, we’ll assume
you have a project with a TestItem declared in a myproject.items module:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image105.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:300.65pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>CrawlSpider </span></b>class scrapy.spiders.CrawlSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This is the most commonly used spider for crawling regular
websites, as it provides a convenient mechanism for following links by defining
a set of rules. It may not be the best suited for your particular web sites or
project, but it’s generic enough for several cases, so you can start from it
and override it as needed for more custom functionality, or just implement your
own spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:147%'>Apart from the attributes inherited from
Spider (that you must specify), this class supports a new attribute: rules</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:21.9pt'>Which is a list of one (or more) <i><span
style='color:#355F7C'>Rule </span></i>objects. Each <i><span style='color:#355F7C'>Rule
</span></i>defines a certain behaviour for crawling the site. Rules objects are
described below. If multiple rules match the same link, the first one will be
used, according to the order they’re defined in this attribute. This spider
also exposes an overridable method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:25.4pt;text-align:left;line-height:104%'>parse_start_url(<i>response</i>,
<i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This method is called for each response produced for the
URLs in the spider’s start_urls attribute. It allows to parse the initial
responses and must return either an <i><span style='color:#355F7C'>item object</span></i>,
a Request object, or an iterable containing any of them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Crawling
rules</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:135.25pt;text-align:left;text-indent:-136.0pt;
line-height:104%'>class scrapy.spiders.Rule(<i>link_extractor: LinkExtractor | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>callback: CallbackT | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cb_kwargs: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>follow: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>process_links: ProcessLinksT | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>process_request: ProcessRequestT |
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>errback: Callable[[Failure], Any]
| </i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>|</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:136.5pt;text-align:left;line-height:104%'><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>link_extractor is a <i><span style='color:#355F7C'>Link
Extractor </span></i>object which defines how links will be extracted from each
crawled page. Each produced link will be used to generate a Request object,
which will contain the link’s text in its meta dictionary (under the link_text key).
If omitted, a default link extractor created with no arguments will be used,
resulting in all links being extracted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>callback is a callable or a string (in which case a method
from the spider object with that name will be used) to be called for each link
extracted with the specified link extractor. This callback receives a <i><span
style='color:#355F7C'>Response </span></i>as its first argument and must return
either a single instance or an iterable of <i><span style='color:#355F7C'>item
objects </span></i>and/or Request objects (or any subclass of them). As
mentioned above, the received <i><span style='color:#355F7C'>Response </span></i>object
will contain the text of the link that produced the Request in its meta dictionary
(under the link_text key) cb_kwargs is a dict containing the keyword arguments
to be passed to the callback function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>follow is a boolean which specifies if links should be
followed from each response extracted with this rule. If callback is None follow
defaults to True, otherwise it defaults to False.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>process_links is a callable, or a string (in which case a
method from the spider object with that name will be used) which will be called
for each list of links extracted from each response using the specified link_extractor.
This is mainly used for filtering purposes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.95pt;
margin-left:25.4pt'>process_request is a callable (or a string, in which case a
method from the spider object with that name will be used) which will be called
for every Request extracted by this rule. This callable should take said
request as first argument and the <i><span style='color:#355F7C'>Response </span></i>from
which the request originated as second argument. It must return a Request object
or None (to filter out the request). errback is a callable or a string (in
which case a method from the spider object with that name will be used) to be
called if any exception is raised while processing a request generated by the
rule. It receives a <a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Twiste</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d </span></sub></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Failure</span></a><span
style='color:#377063'> </span>instance as first parameter.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.1pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>Because
of its internal implementation, you must explicitly set callbacks for new
requests when writing <i><sub><span style='font-size:15.5pt;line-height:94%;
color:#355F7C'>CrawlSpider</span></sub></i>-based spiders; unexpected behaviour
can occur otherwise.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:25.4pt'>New in version 2.0: The <i>errback </i>parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CrawlSpider
example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Let’s now take a look at an example CrawlSpider with rules:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=146 src="Scrapy%20Documentation_files/image106.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=502 src="Scrapy%20Documentation_files/image107.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>This spider would start crawling example.com’s home page,
collecting category links, and item links, parsing the latter with the parse_item
method. For each item response, some data will be extracted from the HTML using
XPath, and an <i><span style='color:#355F7C'>Item </span></i>will be filled
with it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.15pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>XMLFeedSpider </span></b>class
scrapy.spiders.XMLFeedSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.0pt;
margin-left:25.4pt'>XMLFeedSpider is designed for parsing XML feeds by
iterating through them by a certain node name. The iterator can be chosen from:
iternodes, xml, and html. It’s recommended to use the iternodes iterator for
performance reasons, since the xml and html iterators generate the whole DOM at
once in order to parse it. However, using html as the iterator may be useful
when parsing XML with bad markup. To set the iterator and the tag name, you
must define the following class attributes: iterator</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A string which defines the iterator to use. It can be
either:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:65.45pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'<sub><span
style='font-size:15.5pt;line-height:103%'>iternodes</span></sub>' - a fast
iterator based on regular expressions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:65.45pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'<sub><span
style='font-size:15.5pt;line-height:103%'>html</span></sub>' - an iterator
which uses Selector. Keep in mind this uses DOM parsing and must load all DOM
in memory which could be a problem for big feeds</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:65.45pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'<sub><span
style='font-size:15.5pt;line-height:103%'>xml</span></sub>' - an iterator which
uses Selector. Keep in mind this uses DOM parsing and must load all DOM in
memory which could be a problem for big feeds</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>It defaults to: 'iternodes'.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>itertag</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:47.3pt'>A string with the name of the node (or element) to iterate
in. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:10.85pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=25 src="Scrapy%20Documentation_files/image108.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>namespaces</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A list of (<sub><span style='font-size:15.5pt;line-height:
103%'>prefix, uri) </span></sub>tuples which define the namespaces available in
that document that will be processed with this spider. The prefix and uri will
be used to automatically register namespaces using the register_namespace() method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:101.2pt;margin-bottom:
0in;margin-left:47.3pt;line-height:148%'>You can then specify nodes with
namespaces in the <i><span style='color:#355F7C'>itertag </span></i>attribute.
Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=89 src="Scrapy%20Documentation_files/image109.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:168%'>Apart from these new attributes, this
spider has the following overridable methods too: adapt_response(<i>response</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:47.3pt'>A method that receives the response as soon as it arrives
from the spider middleware, before the spider starts parsing it. It can be used
to modify the response body before parsing it. This method receives a response
and also returns a response (it could be the same or another one).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.05pt;margin-left:25.4pt;text-align:left;line-height:104%'>parse_node(<i>response</i>,
<i>selector</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:47.3pt'>This method is called for the nodes matching the provided
tag name (itertag). Receives the response and an Selector for each node.
Overriding this method is mandatory. Otherwise, you spider won’t work. This
method must return an <i><span style='color:#355F7C'>item object</span></i>, a Request
object, or an iterable containing any of them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:25.4pt;text-align:left;line-height:104%'>process_results(<i>response</i>,
<i>results</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.85pt;
margin-left:47.3pt'>This method is called for each result (item or request)
returned by the spider, and it’s intended to perform any last time processing
required before returning the results to the framework core, for example
setting the item IDs. It receives a list of results and the response which
originated those results. It must return a list of results (items or requests).</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>Because
of its internal implementation, you must explicitly set callbacks for new
requests when writing <i><sub><span style='font-size:15.5pt;line-height:94%;
color:#355F7C'>XMLFeedSpider</span></sub></i>-based spiders; unexpected
behaviour can occur otherwise.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>XMLFeedSpider
example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>These spiders are pretty easy to use, let’s have a look at
one example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=344 src="Scrapy%20Documentation_files/image110.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>Basically what we did up there was to create a spider that
downloads a feed from the given start_urls, and then iterates through each of
its item tags, prints them out, and stores some random data in an <i><span
style='color:#355F7C'>Item</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.15pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>CSVFeedSpider </span></b>class
scrapy.spiders.CSVFeedSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:128%'>This spider is very similar to the
XMLFeedSpider, except that it iterates over rows, instead of nodes. The method
that gets called in each iteration is <i><span style='color:#355F7C'>parse_row()</span></i>.
delimiter</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:15.9pt;
margin-bottom:.4pt;margin-left:8.8pt;text-align:center;line-height:104%'>A
string with the separator character for each field in the CSV file Defaults to '<sub><span
style='font-size:15.5pt;line-height:104%'>,</span></sub>' (comma).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>quotechar</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:47.3pt'>A string with the enclosure character for each field in the
CSV file Defaults to '<sub><span style='font-size:15.5pt;line-height:103%'>&quot;</span></sub>'
(quotation mark).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>headers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:47.3pt'>A list of the column names in the CSV file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:25.4pt;text-align:left;line-height:104%'>parse_row(<i>response</i>,
<i>row</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Receives a response and a dict (representing each row) with
a key for each provided (or detected) header of the CSV file. This spider also
gives the opportunity to override adapt_response and process_results methods
for pre- and post-processing purposes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CSVFeedSpider
example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Let’s see an example similar to the previous one, but using a
<i><span style='color:#355F7C'>CSVFeedSpider</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=328 src="Scrapy%20Documentation_files/image111.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.15pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>SitemapSpider </span></b>class
scrapy.spiders.SitemapSpider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:108.75pt;
margin-bottom:2.15pt;margin-left:25.4pt;text-align:left;line-height:126%'>SitemapSpider
allows you to crawl a site by discovering the URLs using <a
href="https://www.sitemaps.org/index.html"><span style='color:#377063;
text-decoration:none'>Sitemaps</span></a><a
href="https://www.sitemaps.org/index.html"><span style='color:black;text-decoration:
none'>. </span></a>It supports nested sitemaps and discovering sitemap urls
from <a href="https://www.robotstxt.org/"><span style='color:#377063;
text-decoration:none'>robots.txt</span></a><a href="https://www.robotstxt.org/"><span
style='color:black;text-decoration:none'>. </span></a>sitemap_urls</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A list of urls pointing to the sitemaps whose urls you want
to crawl.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>You can also point to a <a href="https://www.robotstxt.org/"><span
style='color:#377063;text-decoration:none'>robots.txt</span></a><span
style='color:#377063'> </span>and it will be parsed to extract sitemap urls
from it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.5pt;margin-left:24.65pt;text-align:left;line-height:110%'>sitemap_rules</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A list of tuples (regex, callback) where:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:60.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>regex is a regular
expression to match urls extracted from sitemaps. regex can be either a str or
a compiled regex object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:60.35pt;text-indent:-8.45pt;line-height:123%'><span
style='line-height:123%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>callback
is the callback to use for processing the urls that match the regular
expression. callback can be a string (indicating the name of a spider method)
or a callable. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=25 src="Scrapy%20Documentation_files/image112.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Rules are applied in order, and only the first one that
matches will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>If you omit this attribute, all urls found in sitemaps will
be processed with the parse callback.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>sitemap_follow</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A list of regexes of sitemap that should be followed. This
is only for sites that use <a
href="https://www.sitemaps.org/protocol.html#index"><span style='color:#377063;
text-decoration:none'>Sitemap index files</span></a><span style='color:#377063'>
</span>that point to other sitemap files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>By default, all sitemaps are followed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>sitemap_alternate_links</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:47.3pt;text-align:left;line-height:126%'>Specifies
if alternate links for one url should be followed. These are links for the same
website in another language passed within the same url block. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=73 src="Scrapy%20Documentation_files/image113.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.6pt;margin-left:47.3pt;text-align:left;line-height:126%'>With sitemap_alternate_links
set,               this          would     retrieve   both        URLs.       With
sitemap_alternate_links disabled, only http://example.com/ would be retrieved.
Default is sitemap_alternate_links disabled.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>sitemap_filter(<i>entries</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.6pt;margin-bottom:
0in;margin-left:47.3pt;line-height:147%'>This is a filter function that could
be overridden to select sitemap entries based on their attributes. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.95pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=73 src="Scrapy%20Documentation_files/image114.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:47.3pt'>We can define a sitemap_filter function to filter entries by
date:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=232 src="Scrapy%20Documentation_files/image115.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This would retrieve only entries modified on 2005 and the
following years.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Entries are dict objects extracted from the sitemap
document. Usually, the key is the tag name and the value is the text inside it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>It’s important to notice that:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:37.85pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>as the loc attribute
is required, entries without this tag are discarded</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.45pt;
margin-left:37.85pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alternate
links are stored in a list with the key alternate (see sitemap_alternate_links)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.75pt;
margin-left:37.85pt;text-indent:-8.45pt;line-height:124%'><span
style='line-height:124%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>namespaces
are removed, so lxml tags named as {namespace}tagname become only tagname If
you omit this method, all entries found in sitemaps will be processed,
observing other attributes and their settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SitemapSpider
examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Simplest example: process all urls discovered through
sitemaps using the parse callback:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137 src="Scrapy%20Documentation_files/image116.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Process some urls with certain callback and other urls with a
different callback:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image117.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Follow sitemaps defined in the <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>file and only
follow sitemaps whose url contains /sitemap_shop:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=228 src="Scrapy%20Documentation_files/image118.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection12>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=344 src="Scrapy%20Documentation_files/image119.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.3 Selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When you’re scraping web pages, the most common task you need
to perform is to extract data from the HTML source. There are several libraries
available to achieve this, such as:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:37.85pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://www.crummy.com/software/BeautifulSoup/"><span style='color:#377063;
text-decoration:none'>BeautifulSoup</span></a><span style='color:#377063'> </span>is
a very popular web scraping library among Python programmers which constructs a
Python object based on the structure of the HTML code and also deals with bad
markup reasonably well, but it has one drawback: it’s slow.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:37.85pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><span
style='color:#377063'> </span>is an XML parsing library (which also parses
HTML) with a pythonic API based on <a
href="https://docs.python.org/3/library/xml.etree.elementtree.html#module-xml.etree.ElementTree"><span
style='color:#377063;text-decoration:none'>ElementTre</span></a><a
href="https://docs.python.org/3/library/xml.etree.elementtree.html#module-xml.etree.ElementTree"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><a
href="https://docs.python.org/3/library/xml.etree.elementtree.html#module-xml.etree.ElementTree"><span
style='color:black;text-decoration:none'>.</span></a> (lxml is not part of the
Python standard library.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy comes with its own mechanism for extracting data.
They’re called selectors because they “select” certain parts of the HTML
document specified either by <a href="https://www.w3.org/TR/xpath/all/"><span
style='color:#377063;text-decoration:none'>XPath</span></a><span
style='color:#377063'> </span>or <a href="https://www.w3.org/TR/selectors"><span
style='color:#377063;text-decoration:none'>CSS</span></a><span
style='color:#377063'> </span>expressions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'><a href="https://www.w3.org/TR/xpath/all/"><span
style='color:#377063;text-decoration:none'>XPath</span></a><span
style='color:#377063'> </span>is a language for selecting nodes in XML
documents, which can also be used with HTML. <a
href="https://www.w3.org/TR/selectors"><span style='color:#377063;text-decoration:
none'>CSS</span></a><span style='color:#377063'> </span>is a language for
applying styles to HTML documents. It defines selectors to associate those
styles with specific HTML elements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 481723" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Note: </b>Scrapy Selectors is a thin wrapper around <a
href="https://parsel.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>parsel</span></a><span style='color:#377063'> </span>library;
the purpose of this wrapper is to provide better integration with Scrapy
Response objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><a href="https://parsel.readthedocs.io/en/latest/"><span
style='color:#377063;text-decoration:none'>parsel</span></a><span
style='color:#377063'> </span>is a stand-alone web scraping library which can
be used without Scrapy. It uses <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><span
style='color:#377063'> </span>library under the hood, and implements an easy
API on top of lxml API. It means Scrapy selectors are very similar in speed and
parsing accuracy to lxml.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 481724"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.3.1 Using selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Constructing
selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Response objects expose a Selector instance on .selector attribute:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image120.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:126%'>Querying responses using XPath and CSS is so
common that responses include two more shortcuts: response. xpath() and response.css():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image121.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy selectors are instances of Selector class constructed
by passing either <i><span style='color:#355F7C'>TextResponse </span></i>object
or markup as a string (in text argument).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:123%'>Usually there is no need to construct Scrapy
selectors manually: response object is available in Spider callbacks, so in
most cases it is more convenient to use response.css() and response.xpath() shortcuts.
By using response. selector or one of these shortcuts you can also ensure the
response body is parsed only once. But if required, it is possible to use Selector
directly. Constructing from text:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image122.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.65pt;
margin-left:.5pt'>Constructing from response - <i><span style='color:#355F7C'>HtmlResponse
</span></i>is one of <i><span style='color:#355F7C'>TextResponse </span></i>subclasses:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='color:#C75C0A'>&gt;&gt;&gt; </span><span style='color:#007021'>from
</span><span style='color:#0D85B5'>scrapy.selector </span><span
style='color:#007021'>import </span>Selector</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span><span style='color:#007021'>from </span><span
style='color:#0D85B5'>scrapy.http </span><span style='color:#007021'>import </span>HtmlResponse</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response <span style='color:#666666'>=
</span>HtmlResponse(url<span style='color:#666666'>=</span><span
style='color:#4070A1'>&quot;http://example.com&quot;</span>, body<span
style='color:#666666'>=</span>body, encoding<span style='color:#666666'>=</span><span
style='color:#4070A1'>&quot;utf-8&quot;</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:122.8pt;
margin-bottom:11.75pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895809024'><span style='left:0px;position:
absolute;left:-5px;top:-8838px;width:633px;height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image123.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>Selector(response<span
style='color:#666666'>=</span>response)<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//span/text()&quot;</span>)<span style='color:#666666'>.</span>get()
<span style='color:#333333'>'good'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>Selector automatically chooses the best parsing rules (XML vs
HTML) based on input type.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using
selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To explain how to use the selectors we’ll use the Scrapy
shell (which provides interactive testing) and an example page located in the
Scrapy documentation server:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.75pt;margin-bottom:
0in;margin-left:0in;text-indent:24.9pt;line-height:147%'><a
href="https://docs.scrapy.org/en/latest/_static/selectors-sample1.html"><span
style='color:#377063;text-decoration:none'>https://docs.scrapy.org/en/latest/_static/selectors-sample1.html
</span></a>For the sake of completeness, here’s its full HTML code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=88 src="Scrapy%20Documentation_files/image124.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=280 src="Scrapy%20Documentation_files/image125.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>First, let’s open the shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.4pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895808000'><span style='left:0px;position:
absolute;left:-5px;top:-9457px;width:633px;height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image104.gif"></span></span>scrapy shell
https://docs.scrapy.org/en/latest/_static/selectors-sample1.html</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Then, after the shell loads, you’ll have the response
available as response shell variable, and its attached selector in response.selector
attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Since we’re dealing with HTML, the selector will
automatically use an HTML parser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>So, by looking at the <i><span style='color:#355F7C'>HTML
code </span></i>of that page, let’s construct an XPath for selecting the text
inside the title tag:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image126.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=1 src="Scrapy%20Documentation_files/image127.gif"></td>
 </tr>
</table>

<br clear=ALL>
To actually extract the textual data, you must call the selector .get() or .getall()
methods, as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image128.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>.get() always returns a single result; if there are several
matches, content of a first match is returned; if there are no matches, None is
returned. .getall() returns a list with all results.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Notice that CSS selectors can select text or attribute nodes
using CSS3 pseudo-elements:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image129.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>As you can see, .xpath() and .css() methods return a <i><span
style='color:#355F7C'>SelectorList </span></i>instance, which is a list of new
selectors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This API can be used for quickly selecting nested data:</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection13>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>If you want to extract only the first matched element, you
can call the selector .get() (or its alias .extract_first() commonly used in
previous Scrapy versions):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image130.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>It returns None if no element was found:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image131.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>A default return value can be provided as an argument, to be
used instead of None:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image132.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=1 src="Scrapy%20Documentation_files/image127.gif"></td>
 </tr>
</table>

<br clear=ALL>
Instead of using e.g. '<sub><span style='font-size:15.5pt;line-height:103%'>@src</span></sub>'
XPath it is possible to query for attributes using .attrib property of a Selector:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image133.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>As a shortcut, .attrib is also available on SelectorList
directly; it returns attributes for the first matching element:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image134.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This is most useful when only a single result is expected,
e.g. when selecting by id, or selecting unique elements on a web page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image135.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Now we’re going to get the base URL and some image links:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200 src="Scrapy%20Documentation_files/image136.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=391 src="Scrapy%20Documentation_files/image137.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Extensions
to CSS Selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Per W3C standards, <a
href="https://www.w3.org/TR/selectors-3/#selectors"><span style='color:#377063;
text-decoration:none'>CSS selectors</span></a><span style='color:#377063'> </span>do
not support selecting text nodes or attribute values. But selecting these is so
essential in a web scraping context that Scrapy (parsel) implements a couple of
<b>non-standard pseudo-elements</b>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>to select text nodes,
use ::<sub><span style='font-size:15.5pt;line-height:103%'>text</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>to select attribute
values, use ::<sub><span style='font-size:15.5pt;line-height:103%'>attr(name) </span></sub>where
<i>name </i>is the name of the attribute that you want the value of</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>These
pseudo-elements are Scrapy-/Parsel-specific. They will most probably not work
with other libraries like <a href="https://lxml.de/"><span style='color:#377063;
text-decoration:none'>lxml</span></a><span style='color:#377063'> </span>or <a
href="https://pypi.org/project/pyquery/"><span style='color:#377063;text-decoration:
none'>PyQuery</span></a><a href="https://pypi.org/project/pyquery/"><span
style='color:black;text-decoration:none'>.</span></a></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Examples:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>title::text selects
children text nodes of a descendant &lt;title&gt; element:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image138.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>*::<sub><span
style='font-size:15.5pt;line-height:103%'>text </span></sub>selects all
descendant text nodes of the current selector context:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=88 src="Scrapy%20Documentation_files/image139.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=120 src="Scrapy%20Documentation_files/image140.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foo::text returns no
results if foo element exists, but contains no text (i.e. text is empty):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=158 src="Scrapy%20Documentation_files/image141.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a::attr(href) selects
the <i>href </i>attribute value of descendant links:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image142.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 482886" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:110%'><b>Note:   </b>See also: <i><span style='color:#355F7C'>Selecting
element attributes</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:22.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 482887"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 482888" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>You cannot chain these pseudo-elements. But in
practice it would not make much sense: text nodes do not have attributes, and
attribute values are string values already and do not have children nodes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 482889"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Nesting
selectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.55pt;
margin-left:.5pt'>The selection methods (.xpath() or .css()) return a list of
selectors of the same type, so you can call the selection methods for those
selectors too. Here’s an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>links <span style='color:#666666'>= </span>response<span
style='color:#666666'>.</span>xpath(<span style='color:#4070A1'>'//a[contains(@href,
&quot;image&quot;)]'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>links<span style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['&lt;a href=&quot;image1.html&quot;&gt;Name: My image 1
&lt;br&gt;&lt;img src=&quot;image1_thumb.jpg&quot;
alt=&quot;image1&quot;&gt;&lt;/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>a&gt;',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895804928'><span style='left:0px;position:
absolute;left:-5px;top:-12369px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image143.gif"></span></span><span
style='color:#333333'>'&lt;a href=&quot;image2.html&quot;&gt;Name: My image 2
&lt;br&gt;&lt;img src=&quot;image2_thumb.jpg&quot;
alt=&quot;image2&quot;&gt;&lt;/a&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55pt;margin-left:2.35pt;text-align:left;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>'&lt;a href=&quot;image3.html&quot;&gt;Name: My image 3
&lt;br&gt;&lt;img src=&quot;image3_thumb.jpg&quot;
alt=&quot;image3&quot;&gt;&lt;/a&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55pt;margin-left:2.35pt;text-align:left;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>'&lt;a href=&quot;image4.html&quot;&gt;Name: My image 4
&lt;br&gt;&lt;img src=&quot;image4_thumb.jpg&quot;
alt=&quot;image4&quot;&gt;&lt;/a&gt;</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection14>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55pt;margin-left:2.35pt;text-align:left;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.9pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='position:relative;z-index:-1895803904'><span
style='left:0px;position:absolute;left:-5px;top:-12487px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image144.gif"></span></span><span
style='color:#333333'>'&lt;a href=&quot;image5.html&quot;&gt;Name: My image 5
&lt;br&gt;&lt;img src=&quot;image5_thumb.jpg&quot;
alt=&quot;image5&quot;&gt;&lt;/a&gt; </span><i><span style='font-size:5.0pt;
line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>']</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span><span style='color:#007021'>for </span>index,
link <span style='color:#007021'>in enumerate</span>(links):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#C75C0A'>...                          </span>href_xpath
<span style='color:#666666'>= </span>link<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;@href&quot;</span>)<span style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#C75C0A'>...                          </span>img_xpath
<span style='color:#666666'>= </span>link<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;img/@src&quot;</span>)<span style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                                                              </span><span
style='color:#007021'>print</span>(<span style='color:#4070A1'>f&quot;Link
number </span><i><span style='color:#70A1D1'>{</span></i>index<i><span
style='color:#70A1D1'>} </span></i><span style='color:#4070A1'>points to url </span><i><span
style='color:#70A1D1'>{</span></i>href_xpath<i><span style='color:#70A1D1'>!r} </span></i><span
style='color:#4070A1'>and image </span><i><span style='color:#70A1D1'>{</span></i>img_xpath<i><span
style='color:#70A1D1'>!r}</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:431.4pt;
margin-bottom:1.0pt;margin-left:0in;text-align:left;text-indent:2.6pt;
line-height:100%'><i><span style='font-size:5.0pt;line-height:100%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:100%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>&quot;</span>) <span style='color:#C75C0A'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>Link number 0 points to url 'image1.html' and image
'image1_thumb.jpg'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>Link number 1 points to url 'image2.html' and image
'image2_thumb.jpg'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>Link number 2 points to url 'image3.html' and image
'image3_thumb.jpg'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>Link number 3 points to url 'image4.html' and image
'image4_thumb.jpg'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.1pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>Link number 4 points to url 'image5.html' and image
'image5_thumb.jpg'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Selecting
element attributes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>There are several ways to get a value of an attribute. First,
one can use XPath syntax:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//a/@href&quot;</span>)<span style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895802880'><span style='left:0px;position:
absolute;left:-5px;top:-12838px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#333333'>['image1.html', 'image2.html', 'image3.html',
'image4.html', 'image5.html']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>XPath syntax has a few advantages: it is a standard XPath
feature, and @attributes can be used in other parts of an XPath expression -
e.g. it is possible to filter by attribute value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.5pt;
margin-left:.5pt'>Scrapy also provides an extension to CSS selectors (::<sub><span
style='font-size:15.5pt;line-height:103%'>attr(...)</span></sub>) which allows
to get attribute values:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;a::attr(href)&quot;</span>)<span style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.45pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895801856'><span style='left:0px;position:
absolute;left:-5px;top:-12968px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#333333'>['image1.html', 'image2.html', 'image3.html',
'image4.html', 'image5.html']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.5pt'>In addition to that, there is a .attrib property of Selector.
You can use it if you prefer to lookup attributes in Python code, without using
XPaths or CSS extensions:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>[a<span style='color:#666666'>.</span>attrib[<span
style='color:#4070A1'>&quot;href&quot;</span>] <span style='color:#007021'>for </span>a
<span style='color:#007021'>in </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;a&quot;</span>)]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.15pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895800832'><span style='left:0px;position:
absolute;left:-5px;top:-13073px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#333333'>['image1.html', 'image2.html', 'image3.html',
'image4.html', 'image5.html']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This property is also available on SelectorList; it returns a
dictionary with attributes of a first matching element. It is convenient to use
when a selector is expected to give a single result (e.g. when selecting by
element ID, or when selecting an unique element on a page):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=100 src="Scrapy%20Documentation_files/image146.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image147.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using
selectors with regular expressions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.9pt;
margin-left:.5pt;line-height:129%'>Selector also has a .re() method for
extracting data using regular expressions. However, unlike using .xpath() or .css()
methods, .re() returns a list of strings. So you can’t construct nested .re() calls.
Here’s an example used to extract image names from the <i><span
style='color:#355F7C'>HTML code </span></i>above:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.15pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='font-size:11.0pt;line-height:111%'><img border=0 width=633 height=105
src="Scrapy%20Documentation_files/image148.gif"></span><span style='color:#C75C0A'>&gt;&gt;&gt;
</span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//a[contains(@href, &quot;image&quot;)]/text()'</span>)<span
style='color:#666666'>.</span>re(<span style='color:#4070A1'>r&quot;Name:\s*(.*)&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.2pt;
margin-left:.5pt'>There’s an additional helper reciprocating .get() (and its
alias .extract_first()) for .re(), named . re_first(). Use it to extract just
the first matching string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:420%'><span
style='position:relative;z-index:-1895799808'><span style='left:0px;position:
absolute;left:-5px;top:-13607px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image127.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//a[contains(@href, &quot;image&quot;)]/text()'</span>)<span
style='color:#666666'>.</span>re_first(<span style='color:#4070A1'>r&quot;Name:\s*(.*)&quot;</span>)
<b><span style='color:#20435C'>extract() and extract_first()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you’re a long-time Scrapy user, you’re probably familiar
with .extract() and .extract_first() selector methods. Many blog posts and
tutorials are using them as well. These methods are still supported by Scrapy,
there are <b><sub><span style='font-size:15.5pt;line-height:103%'>no </span></sub>plans
</b>to deprecate them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>However, Scrapy usage docs are now written using .get() and .getall()
methods. We feel that these new methods result in a more concise and readable
code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:.5pt'>The following examples show how these methods map to each
other.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>SelectorList.get() is the same as SelectorList.extract_first():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:10.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image149.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.9pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>SelectorList.getall() is the same as SelectorList.extract():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>&quot;a::attr(href)&quot;</span>)<span style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:60.05pt;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895798784'><span style='left:0px;position:
absolute;left:-5px;top:-13964px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image150.gif"></span></span><span
style='color:#333333'>['image1.html', 'image2.html', 'image3.html',
'image4.html', 'image5.html'] </span><span style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span
style='color:#666666'>.</span>css(<span style='color:#4070A1'>&quot;a::attr(href)&quot;</span>)<span
style='color:#666666'>.</span>extract()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.85pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['image1.html', 'image2.html', 'image3.html',
'image4.html', 'image5.html']</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Selector.get() is the same as Selector.extract():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image151.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt'><span
style='line-height:103%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>For consistency, there is also Selector.getall(), which returns a
list:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image152.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:.5pt'>So, the main difference is that output of .get() and .getall()
methods is more predictable: .get() always returns a single result, .getall() always
returns a list of all extracted results. With .extract() method it was not
always obvious if a result is a list or not; to get a single result either .extract()
or .extract_first() should be called.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.3.2 Working with
XPaths</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>Here are some tips which may help you to use XPath with
Scrapy selectors effectively. If you are not much familiar with XPath yet, you
may want to take a look first at this <a
href="http://www.zvon.org/comp/r/tut-XPath_1.html"><span style='color:#377063;
text-decoration:none'>XPath tutorial</span></a><a
href="http://www.zvon.org/comp/r/tut-XPath_1.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 483753"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>Some
of the tips are based on <a
href="https://www.zyte.com/blog/xpath-tips-from-the-web-scraping-trenches/"><span
style='color:#377063;text-decoration:none'>this post from Zyte’s blog</span></a><a
href="https://www.zyte.com/blog/xpath-tips-from-the-web-scraping-trenches/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 483754"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Working
with relative XPaths</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Keep in mind that if you are nesting selectors and use an
XPath that starts with /, that XPath will be absolute to the document and not
relative to the Selector you’re calling it from.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>For example, suppose you want to extract all &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>p&gt; </span></sub>elements inside &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>div&gt; </span></sub>elements. First,
you would get all &lt;<sub><span style='font-size:15.5pt;line-height:103%'>div&gt;
</span></sub>elements:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image153.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>At first, you may be tempted to use the following approach,
which is wrong, as it actually extracts all &lt;<sub><span style='font-size:
15.5pt;line-height:103%'>p&gt; </span></sub>elements from the document, not
only those inside &lt;<sub><span style='font-size:15.5pt;line-height:103%'>div&gt;
</span></sub>elements:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=57 src="Scrapy%20Documentation_files/image154.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>This is the proper way to do it (note the dot prefixing the .//p
XPath):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image155.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Another common case would be to extract all direct &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>p&gt; </span></sub>children:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image156.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For more details about relative XPaths see the <a
href="https://www.w3.org/TR/xpath-10/#location-paths"><span style='color:#377063;
text-decoration:none'>Location Paths</span></a><span style='color:#377063'> </span>section
in the XPath specification.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>When
querying by class, consider using CSS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.3pt;
margin-left:.5pt'>Because an element can contain multiple CSS classes, the
XPath way to select elements by class is the rather verbose:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.8pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895797760'><span style='left:0px;position:
absolute;left:-5px;top:-14969px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span><span
style='color:#666666'>*</span>[contains(concat(<span style='color:#4070A1'>' '</span>,
normalize<span style='color:#666666'>-</span>space(<span style='color:#545454'>@class</span>),
<span style='color:#4070A1'>' '</span>), <span style='color:#4070A1'>'
someclass '</span>)]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you use @class='<sub><span style='font-size:15.5pt;
line-height:103%'>someclass</span></sub>' you may end up missing elements that
have other classes, and if you just use contains(@class, 'someclass') to make
up for that you may end up with more elements that you want, if they have a
different class name that shares the string someclass.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>As it turns out, Scrapy selectors allow you to chain
selectors, so most of the time you can just select by class using CSS and then
switch to XPath when needed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=121 src="Scrapy%20Documentation_files/image157.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>This is cleaner than using the verbose XPath trick shown
above. Just remember to use the . in the XPath expressions that will follow.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Beware of
the difference between //node[1] and (//node)[1]</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>//node[1] selects all the nodes occurring first under their
respective parents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:78.35pt;margin-bottom:
0in;margin-left:.5pt;line-height:149%'>(<sub><span style='font-size:15.5pt;
line-height:149%'>//node)[1] </span></sub>selects all the nodes in the
document, and then gets only the first of them. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image158.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>This gets all first &lt;<sub><span style='font-size:15.5pt;
line-height:103%'>li&gt; </span></sub>elements under whatever it is its parent:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image159.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>And this gets the first &lt;<sub><span style='font-size:15.5pt;
line-height:103%'>li&gt; </span></sub>element in the whole document:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image160.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>This gets all first &lt;<sub><span style='font-size:15.5pt;
line-height:103%'>li&gt; </span></sub>elements under an &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>ul&gt; </span></sub>parent:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image161.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>And this gets the first &lt;<sub><span style='font-size:15.5pt;
line-height:103%'>li&gt; </span></sub>element under an &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>ul&gt; </span></sub>parent in the
whole document:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image162.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using text
nodes in a condition</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When you need to use the text content as argument to an <a
href="https://www.w3.org/TR/xpath-10/#section-String-Functions"><span
style='color:#377063;text-decoration:none'>XPath string function</span></a><a
href="https://www.w3.org/TR/xpath-10/#section-String-Functions"><span
style='color:black;text-decoration:none'>,</span></a> avoid using .//text() and
use just . instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.7pt;
margin-left:.5pt'>This is because the expression .//text() yields a collection
of text elements – a <i>node-set</i>. And when a nodeset is converted to a
string, which happens when it is passed as argument to a string function like contains()
or starts-with(), it results in the text for the first element only. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=73 src="Scrapy%20Documentation_files/image163.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>Converting a <i>node-set </i>to string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//a//text()&quot;</span>)<span style='color:#666666'>.</span>getall()
<i><span style='color:#407F8F'># take a peek at the node-set</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['Click here to go to the ', 'Next Page']</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895796736'><span style='left:0px;position:
absolute;left:-5px;top:-16268px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image150.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;string(//a[1]//text())&quot;</span>)<span
style='color:#666666'>.</span>getall() <i><span style='color:#407F8F'># convert
it to string</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['Click here to go to the ']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>A <i>node </i>converted to a string, however, puts together
the text of itself plus of all its descendants:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//a[1]&quot;</span>)<span style='color:#666666'>.</span>getall()
<i><span style='color:#407F8F'># select the first node</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['&lt;a href=&quot;#&quot;&gt;Click here to go to the
&lt;strong&gt;Next Page&lt;/strong&gt;&lt;/a&gt;']</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:96.65pt;
margin-bottom:12.05pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895795712'><span style='left:0px;position:
absolute;left:-5px;top:-16393px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image150.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;string(//a[1])&quot;</span>)<span style='color:
#666666'>.</span>getall() <i><span style='color:#407F8F'># convert it to string
</span></i><span style='color:#333333'>['Click here to go to the Next Page']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>So, using the .//text() node-set won’t select anything in
this case:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image164.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>But using the . to mean the node, works:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//a[contains(., 'Next Page')]&quot;</span>)<span
style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895794688'><span style='left:0px;position:
absolute;left:-5px;top:-16550px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#333333'>['&lt;a href=&quot;#&quot;&gt;Click here to go to the
&lt;strong&gt;Next Page&lt;/strong&gt;&lt;/a&gt;']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Variables
in XPath expressions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>XPath allows you to reference variables in your XPath
expressions, using the $somevariable syntax. This is somewhat similar to
parameterized queries or prepared statements in the SQL world where you replace
some arguments in your queries with placeholders like ?, which are then
substituted with values passed with the query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.65pt;
margin-left:.5pt'>Here’s an example to match an element based on its “id”
attribute value, without hard-coding it (that was shown previously):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895793664'><span style='left:0px;position:
absolute;left:-5px;top:-16696px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image165.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span><i><span style='color:#407F8F'>#
`$val` used in the expression, a `val` argument needs to be passed</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//div[@id=$val]/a/text()&quot;</span>, val<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;images&quot;</span>)<span
style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>'Name: My image 1 '</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Here’s another example, to find the “id” attribute of a &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>div&gt; </span></sub>tag containing
five &lt;<sub><span style='font-size:15.5pt;line-height:103%'>a&gt; </span></sub>children
(here we pass the value 5 as an integer):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image166.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.4pt;
margin-left:.5pt;line-height:127%'>All variable references must have a binding
value when calling .xpath() (otherwise you’ll get a ValueError: XPath error: exception).
This is done by passing as many named arguments as necessary. <a
href="https://parsel.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>parsel</span></a><a
href="https://parsel.readthedocs.io/en/latest/"><span style='color:black;
text-decoration:none'>,</span></a> the library powering Scrapy selectors, has
more details and examples on <a
href="https://parsel.readthedocs.io/en/latest/usage.html#variables-in-xpath-expressions"><span
style='color:#377063;text-decoration:none'>XPath variables</span></a><a
href="https://parsel.readthedocs.io/en/latest/usage.html#variables-in-xpath-expressions"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Removing
namespaces</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When dealing with scraping projects, it is often quite
convenient to get rid of namespaces altogether and just work with element
names, to write more simple/convenient XPaths. You can use the Selector.remove_namespaces()
method for that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:121.4pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>Let’s show an example that illustrates
this with the Python Insider blog atom feed. First, we open the shell with the
url we want to scrape:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image167.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=195 src="Scrapy%20Documentation_files/image168.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.95pt;
margin-left:.5pt;line-height:123%'>You can see several namespace declarations
including a default &quot;http://www.w3.org/2005/Atom&quot; and another one
using the gd: prefix for &quot;http://schemas.google.com/g/2005&quot;.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once in the shell we can try selecting all &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>link&gt; </span></sub>objects and see
that it doesn’t work (because the Atom XML namespace is obfuscating those
nodes):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image169.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.8pt;
margin-left:.5pt'>But once we call the Selector.remove_namespaces() method, all
nodes can be accessed directly by their names:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>selector<span
style='color:#666666'>.</span>remove_namespaces()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//link&quot;</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:44.35pt;
margin-bottom:11.35pt;margin-left:20.15pt;text-align:left;text-indent:-20.9pt;
line-height:111%'><span style='position:relative;z-index:-1895792640'><span
style='left:0px;position:absolute;left:-5px;top:-17538px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image123.gif"></span></span><span
style='color:#333333'>[&lt;Selector query='//link' data='&lt;link
rel=&quot;alternate&quot; type=&quot;text/html&quot; h'&gt;, &lt;Selector
query='//link' data='&lt;link rel=&quot;next&quot;
type=&quot;application/atom+'&gt;, ...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you wonder why the namespace removal procedure isn’t
always called by default instead of having to call it manually, this is because
of two reasons, which, in order of relevance, are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Removing
namespaces requires to iterate and modify all nodes in the document, which is a
reasonably expensive operation to perform by default for all documents crawled
by Scrapy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>There could be
some cases where using namespaces is actually required, in case some element
names clash between namespaces. These cases are very rare though.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using EXSLT
extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.35pt;
margin-left:.5pt'>Being built atop <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>,</span></a>
Scrapy selectors support some <a href="http://exslt.org/"><span
style='color:#377063;text-decoration:none'>EXSLT</span></a><span
style='color:#377063'> </span>extensions and come with these pre-registered
namespaces to use in XPath expressions:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=367
 style='width:275.05pt;margin-left:96.45pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=48 valign=top style='width:36.3pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>prefix</p>
  </td>
  <td width=200 valign=top style='width:149.85pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>namespace</p>
  </td>
  <td width=119 valign=top style='width:88.9pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>usage</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=48 valign=top style='width:36.3pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>re</p>
  </td>
  <td width=200 valign=top style='width:149.85pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>http://exslt.org/regular-expressions</p>
  </td>
  <td width=119 valign=top style='width:88.9pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><a href="http://exslt.org/regexp/index.html"><span
  style='color:#377063;text-decoration:none'>regular expressions</span></a></p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=48 valign=top style='width:36.3pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>set</p>
  </td>
  <td width=200 valign=top style='width:149.85pt;border:none;border-bottom:
  solid black 1.0pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:
  13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>http://exslt.org/sets</p>
  </td>
  <td width=119 valign=top style='width:88.9pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><a href="http://exslt.org/set/index.html"><span
  style='color:#377063;text-decoration:none'>set manipulation</span></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Regular
expressions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The test() function, for example, can prove quite useful when
XPath’s starts-with() or contains() are not sufficient.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Example selecting links in list item with a “class” attribute
ending with a digit:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=258 src="Scrapy%20Documentation_files/image170.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.7pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895791616'><span style='left:0px;position:
absolute;left:-5px;top:-18267px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image171.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//li[re:test(@class, &quot;item-\d$&quot;)]//@href'</span>)<span
style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.8pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>['link1.html', 'link2.html', 'link4.html', 'link5.html']</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:29.1pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>C
library <sub><span style='font-size:15.5pt;line-height:94%'>libxslt</span></sub>
doesn’t natively support EXSLT regular expressions so <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>’</span></a>s
implementation uses hooks to Python’s <sub><span style='font-size:15.5pt;
line-height:94%'>re</span></sub> module. Thus, using regexp functions in your
XPath expressions may add a small performance penalty.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Set
operations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These can be handy for excluding parts of a document tree
before extracting text elements for example.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.75pt;
margin-left:.5pt'>Example extracting microdata (sample content taken from <a
href="https://schema.org/Product"><span style='color:#377063;text-decoration:
none'>https://schema.org/Product</span></a><a href="https://schema.org/Product"><span
style='color:black;text-decoration:none'>)</span></a> with groups of itemscopes
and corresponding itemprops:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>doc <span style='color:#666666'>= </span><span
style='color:#4070A1'>&quot;&quot;&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;div itemscope
itemtype=&quot;http://schema.org/Product&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;span
itemprop=&quot;name&quot;&gt;Kenmore White 17&quot; Microwave&lt;/span&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;img
src=&quot;kenmore-microwave-17in.jpg&quot; alt='Kenmore 17&quot; Microwave'
/&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;div
itemprop=&quot;aggregateRating&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                          </span><span
style='color:#4070A1'>itemscope
itemtype=&quot;http://schema.org/AggregateRating&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                       </span><span
style='color:#4070A1'>Rated &lt;span
itemprop=&quot;ratingValue&quot;&gt;3.5&lt;/span&gt;/5</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                        </span><span
style='color:#4070A1'>based on &lt;span
itemprop=&quot;reviewCount&quot;&gt;11&lt;/span&gt; customer reviews</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;/div&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;div
itemprop=&quot;offers&quot; itemscope
itemtype=&quot;http://schema.org/Offer&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                      </span><span
style='color:#4070A1'>&lt;span
itemprop=&quot;price&quot;&gt;$55.00&lt;/span&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                                   </span><span
style='color:#4070A1'>&lt;link itemprop=&quot;availability&quot;
href=&quot;http://schema.org/InStock&quot; /&gt;In stock</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;/div&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>Product
description:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;span
itemprop=&quot;description&quot;&gt;0.7 cubic feet countertop microwave.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:107.1pt;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895790592'><span style='left:0px;position:
absolute;left:-5px;top:-18836px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image172.gif"></span></span><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>Has six preset
cooking categories and convenience features like </span><span style='color:
#C75C0A'>... </span><span style='color:#4070A1'>Add-A-Minute and Child
Lock.&lt;/span&gt; </span><span style='color:#C75C0A'>... </span><span
style='color:#4070A1'>Customer reviews:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;div
itemprop=&quot;review&quot; itemscope
itemtype=&quot;http://schema.org/Review&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                       </span><span
style='color:#4070A1'>&lt;span itemprop=&quot;name&quot;&gt;Not a happy
camper&lt;/span&gt; -</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                        </span><span
style='color:#4070A1'>by &lt;span
itemprop=&quot;author&quot;&gt;Ellie&lt;/span&gt;,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                           </span><span
style='color:#4070A1'>&lt;meta itemprop=&quot;datePublished&quot;
content=&quot;2011-04-01&quot;&gt;April 1, 2011</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                               </span><span
style='color:#4070A1'>&lt;div itemprop=&quot;reviewRating&quot; itemscope
itemtype=&quot;http://schema.org/Rating&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                             </span><span
style='color:#4070A1'>&lt;meta itemprop=&quot;worstRating&quot; content =
&quot;1&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                            </span><span
style='color:#4070A1'>&lt;span
itemprop=&quot;ratingValue&quot;&gt;1&lt;/span&gt;/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                            </span><span
style='color:#4070A1'>&lt;span
itemprop=&quot;bestRating&quot;&gt;5&lt;/span&gt;stars</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                 </span><span
style='color:#4070A1'>&lt;/div&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                               </span><span
style='color:#4070A1'>&lt;span itemprop=&quot;description&quot;&gt;The lamp
burned out and now I have to replace</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                   </span><span
style='color:#4070A1'>it. &lt;/span&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;/div&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>... </span><span style='color:#4070A1'>&lt;div
itemprop=&quot;review&quot; itemscope
itemtype=&quot;http://schema.org/Review&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                       </span><span
style='color:#4070A1'>&lt;span itemprop=&quot;name&quot;&gt;Value
purchase&lt;/span&gt; -</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                       </span><span
style='color:#4070A1'>by &lt;span
itemprop=&quot;author&quot;&gt;Lucas&lt;/span&gt;,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:111%'><span style='color:#C75C0A'>...                          </span><span
style='color:#4070A1'>&lt;meta itemprop=&quot;datePublished&quot;
content=&quot;2011-03-25&quot;&gt;March 25, 2011</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.2pt;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>...             </span><span style='color:#4070A1'>&lt;div
itemprop=&quot;reviewRating&quot; itemscope
itemtype=&quot;http://schema.org/Rating&quot;&gt; </span><span
style='color:#C75C0A'>...          </span><span style='color:#4070A1'>&lt;meta
itemprop=&quot;worstRating&quot; content = &quot;1&quot;/&gt;</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.05in;
margin-bottom:8.2pt;margin-left:-3.85pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=634 height=673 id="Picture 582845"
src="Scrapy%20Documentation_files/image173.gif"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here we first iterate over itemscope elements, and for each
one, we look for all itemprops elements and exclude those that are themselves
inside another itemscope.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other XPath
extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Scrapy selectors also provide a sorely missed XPath extension
function has-class that returns True for nodes that have all of the specified
HTML classes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=302 src="Scrapy%20Documentation_files/image174.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//p[has-class(&quot;foo&quot;)]'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>[&lt;Selector query='//p[has-class(&quot;foo&quot;)]'
data='&lt;p class=&quot;foo bar-baz&quot;&gt;First&lt;/p&gt;'&gt;,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>&lt;Selector query='//p[has-class(&quot;foo&quot;)]'
data='&lt;p class=&quot;foo&quot;&gt;Second&lt;/p&gt;'&gt;]</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//p[has-class(&quot;foo&quot;, &quot;bar-baz&quot;)]'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895789568'><span style='left:0px;position:
absolute;left:-5px;top:-20446px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image175.gif"></span></span><span
style='color:#333333'>[&lt;Selector query='//p[has-class(&quot;foo&quot;,
&quot;bar-baz&quot;)]' data='&lt;p class=&quot;foo bar-baz&quot;&gt;First&lt;/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>p&gt;'&gt;]</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//p[has-class(&quot;foo&quot;, &quot;bar&quot;)]'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.35pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>[]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>So XPath //p[has-class(&quot;foo&quot;, &quot;bar-baz&quot;)]
is roughly equivalent to CSS p.foo.bar-baz. Please note, that it is slower in
most of the cases, because it’s a pure-Python function that’s invoked for every
node in question whereas the CSS lookup is translated into XPath and thus runs
more efficiently, so performance-wise its uses are limited to situations that
are not easily described with CSS selectors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Parsel also simplifies adding your own XPath extensions with set_xpathfunc().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.3.3 Built-in
Selectors reference</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:190.5pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:219%'><b><span
style='color:#20435C'>Selector objects </span></b>class
scrapy.selector.Selector(<i>*args: Any</i>, <i>**kwargs: Any</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:25.4pt'>An instance of <i><span style='color:#355F7C'>Selector </span></i>is
a wrapper over response to select certain parts of its content.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:4.9pt;
margin-bottom:6.45pt;margin-left:3.0pt;text-align:right'>response is an <i><span
style='color:#355F7C'>HtmlResponse </span></i>or an <i><span style='color:#355F7C'>XmlResponse
</span></i>object that will be used for selecting and extracting data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt;line-height:135%'>text is a unicode string or utf-8 encoded
text for cases when a response isn’t available. Using text and response together
is undefined behavior. type defines the selector type, it can be &quot;html&quot;,
&quot;xml&quot;, &quot;json&quot; or None (default).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If type is None, the selector automatically chooses the
best type based on response type (see below), or defaults to &quot;html&quot; in
case it is used together with text.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:25.4pt'>If type is None and a response is passed, the selector type
is inferred from the response type as follows:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05pt;
margin-left:.65in;text-indent:-8.45pt;line-height:177%'><span style='line-height:
177%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;html&quot;
for <i><span style='color:#355F7C'>HtmlResponse </span></i>type • &quot;xml&quot;
for <i><span style='color:#355F7C'>XmlResponse </span></i>type</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:.65in;text-indent:-8.45pt;line-height:108%'><span style='line-height:
108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;json&quot;
for <i><span style='color:#355F7C'>TextResponse </span></i>type</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;html&quot; for
anything else</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Otherwise, if type is set, the selector type will be forced
and no detection will occur.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.1pt;margin-left:56.3pt;text-align:left;text-indent:-31.4pt;
line-height:104%'>xpath<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>query:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>namespaces: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Mapping"><i><span
style='color:#377063;text-decoration:none'>Mapping</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.2pt;margin-left:47.3pt;text-align:left;line-height:126%'>Find
nodes matching the xpath query and return the result as a <i><span
style='color:#355F7C'>SelectorList </span></i>instance with all elements
flattened. List elements implement <i><span style='color:#355F7C'>Selector </span></i>interface
too. query is a string containing the XPATH query to apply.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>namespaces is an optional prefix: namespace-uri mapping
(dict) for additional prefixes to those registered with register_namespace(prefix,
uri). Contrary to register_namespace(), these prefixes are not saved for future
calls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.55pt;
margin-left:47.3pt'>Any additional named arguments can be used to pass values
for XPath variables in the XPath expression, e.g.:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.5pt;margin-left:47.3pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895788544'><span style='left:0px;position:
absolute;left:58px;top:-21172px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image176.gif"></span></span>selector<span
style='color:#666666'>.</span>xpath(<span style='color:#4070A1'>'//a[href=$url]'</span>,
url<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;http://www.example.com&quot;</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 490354"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                     </span><b>Note:      </b>For
convenience, this method can be called as response.xpath()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 490355"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>css<sub><span style='font-size:15.5pt;line-height:103%'>(</span></sub><i>query:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:124.4pt;margin-bottom:
0in;margin-left:47.3pt;line-height:153%'>Apply the given CSS selector and
return a <i><span style='color:#355F7C'>SelectorList </span></i>instance. query
is a string containing the CSS selector to apply.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:47.3pt'>In the background, CSS queries are translated into XPath
queries using <a href="https://pypi.python.org/pypi/cssselect/"><span
style='color:#377063;text-decoration:none'>cssselect</span></a><span
style='color:#377063'> </span>library and run .xpath() method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.0pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 490356"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                     </span><b>Note:      </b>For
convenience, this method can be called as response.css()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.7pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 490357"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>jmespath<sub><span style='font-size:15.5pt;line-height:
103%'>(</span></sub><i>query: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.2pt;
margin-left:47.3pt;line-height:128%'>Find objects matching the JMESPath query and
return the result as a <i><span style='color:#355F7C'>SelectorList </span></i>instance
with all elements flattened. List elements implement <i><span style='color:
#355F7C'>Selector </span></i>interface too. query is a string containing the <a
href="https://jmespath.org/"><span style='color:#377063;text-decoration:none'>JMESPath</span></a><span
style='color:#377063'> </span>query to apply.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:47.3pt;text-align:left;line-height:182%'><span
style='position:relative;z-index:-1895787520'><span style='left:0px;position:
absolute;left:58px;top:-21475px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image178.gif"></span></span>Any
additional named arguments are passed to the underlying jmespath.search call,
e.g.: selector<span style='color:#666666'>.</span>jmespath(<span
style='color:#4070A1'>'author.name'</span>, options<span style='color:#666666'>=</span>jmespath<span
style='color:#666666'>.</span>Options(dict_cls<span style='color:#666666'>=</span>collections<span
style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.45pt;margin-left:49.95pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>OrderedDict))</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.2pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 490359"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                     </span><b>Note:      </b>For
convenience, this method can be called as response.jmespath()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.65in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=563
height=1 id="Group 490360" src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Serialize and return the matched nodes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:37.9pt;margin-bottom:
.05pt;margin-left:47.3pt;line-height:147%'>For HTML and XML, the result is
always a string, and percent-encoded content is unquoted. See also: <i><span
style='color:#355F7C'>extract() and extract_first()</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>attrib</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Return the attributes dictionary for underlying element.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:47.3pt;text-align:left;line-height:110%'>See
also: <i><span style='color:#355F7C'>Selecting element attributes</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.65in;text-indent:-21.9pt;line-height:132%'>re<sub><span
style='font-size:15.5pt;line-height:132%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>replace_entities:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.List"><span
style='color:#377063;text-decoration:none'>List</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>] </span></a>Apply the given regex and
return a list of strings with the matches. regex can be either a compiled
regular expression or a string which will be compiled to a regular expression
using re.compile(regex).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.9pt;text-indent:21.9pt'>By default, character entity references
are replaced by their corresponding character (except for &amp;amp; and &amp;lt;).
Passing replace_entities as False switches off these replacements. re_first<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>default: </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>replace_entities: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><span
style='color:#377063'> </span>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>re_first<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>default: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>replace_entities: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Apply the given regex and return the first string which
matches. If there is no match, return the default value (None if the argument
is not provided).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:47.3pt'>By default, character entity references are replaced by
their corresponding character (except for &amp;amp; and &amp;lt;). Passing replace_entities
as False switches off these replacements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>register_namespace(<i>prefix:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>uri: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.35pt;
margin-left:47.35pt'>Register the given namespace to be used in this <i><span
style='color:#355F7C'>Selector</span></i>. Without registering namespaces you
can’t select or extract data from non-standard namespaces. See <i><span
style='color:#355F7C'>Selector examples on XML response</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>remove_namespaces()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:47.3pt'>Remove all namespaces, allowing to traverse the document
using namespace-less xpaths. See <i><span style='color:#355F7C'>Removing
namespaces</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:24.65pt;text-align:left;line-height:110%'>__bool__()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:47.3pt'>Return True if there is any real content selected or False otherwise.
In other words, the boolean value of a <i><span style='color:#355F7C'>Selector </span></i>is
given by the contents it selects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.25pt;
margin-left:25.4pt;line-height:110%'>getall()<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.List"><span
style='color:#377063;text-decoration:none'>List</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.35pt'>Serialize and return the matched node in a 1-element list
of strings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:47.35pt'>This method is added to Selector for consistency; it is
more useful with SelectorList. See also: <i><span style='color:#355F7C'>extract()
and extract_first()</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:226.65pt;margin-bottom:
0in;margin-left:-.25pt;line-height:224%'><b><span style='color:#20435C'>SelectorList
objects </span></b>class scrapy.selector.SelectorList(<i>iterable=()</i>, <i>/</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>SelectorList </span></i>class
is a subclass of the builtin list class, which provides a few additional
methods.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.7pt;margin-left:56.3pt;text-align:left;text-indent:-31.4pt;
line-height:104%'>xpath<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>xpath:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>namespaces: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Mapping"><i><span
style='color:#377063;text-decoration:none'>Mapping</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt;line-height:149%'>Call the .xpath() method for each element
in this list and return their results flattened as another <i><span
style='color:#355F7C'>SelectorList</span></i>. xpath is the same argument as
the one in <i><span style='color:#355F7C'>Selector.xpath()</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>namespaces is an optional prefix: namespace-uri mapping
(dict) for additional prefixes to those registered with register_namespace(prefix,
uri). Contrary to register_namespace(), these prefixes are not saved for future
calls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.55pt;
margin-left:47.3pt'>Any additional named arguments can be used to pass values
for XPath variables in the XPath expression, e.g.:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.35pt;margin-left:47.3pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895786496'><span style='left:0px;position:
absolute;left:58px;top:-22526px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image176.gif"></span></span>selector<span
style='color:#666666'>.</span>xpath(<span style='color:#4070A1'>'//a[href=$url]'</span>,
url<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;http://www.example.com&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>css<sub><span style='font-size:15.5pt;line-height:103%'>(</span></sub><i>query:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.15pt;
margin-left:47.3pt;line-height:149%'>Call the .css() method for each element in
this list and return their results flattened as another <i><span
style='color:#355F7C'>SelectorList</span></i>. query is the same argument as
the one in <i><span style='color:#355F7C'>Selector.css()</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>jmespath<sub><span style='font-size:15.5pt;line-height:
103%'>(</span></sub><i>query: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>SelectorList[_SelectorType]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.1pt;
margin-left:47.3pt'>Call the .jmespath() method for each element in this list
and return their results flattened as another</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.6pt;
margin-left:47.3pt;line-height:108%'><i><span style='color:#355F7C'>SelectorList</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:47.3pt'>query is the same argument as the one in <i><span
style='color:#355F7C'>Selector.jmespath()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:47.3pt;text-align:left;line-height:182%'><span
style='position:relative;z-index:-1895785472'><span style='left:0px;position:
absolute;left:58px;top:-22749px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image178.gif"></span></span>Any
additional named arguments are passed to the underlying jmespath.search call,
e.g.: selector<span style='color:#666666'>.</span>jmespath(<span
style='color:#4070A1'>'author.name'</span>, options<span style='color:#666666'>=</span>jmespath<span
style='color:#666666'>.</span>Options(dict_cls<span style='color:#666666'>=</span>collections<span
style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.5pt;margin-left:49.95pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>OrderedDict))</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.5pt;
margin-left:25.4pt;line-height:110%'>getall()<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.List"><span
style='color:#377063;text-decoration:none'>List</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Call the .get() method for each element is this list and
return their results flattened, as a list of strings.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.55pt;
margin-bottom:0in;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:110%'>See also: <i><span style='color:#355F7C'>extract() and
extract_first() </span></i>get<sub><span style='font-size:15.5pt;line-height:
110%'>(</span></sub><i>default: </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><span
style='color:#377063'> </span>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.95pt;margin-left:25.4pt;text-align:left;line-height:104%'>get(<i>default:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Return the result of .get() for the first element in this
list. If the list is empty, return the default value.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:159.5pt;
margin-bottom:.25pt;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:104%'>See also: <i><span style='color:#355F7C'>extract() and
extract_first() </span></i>re<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>replace_entities:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.List"><span
style='color:#377063;text-decoration:none'>List</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Call the .re() method for each element in this list and
return their results flattened, as a list of strings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.9pt;text-indent:21.9pt'>By default, character entity references
are replaced by their corresponding character (except for &amp;amp; and &amp;lt;.
Passing replace_entities as False switches off these replacements. re_first<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>default: </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>replace_entities: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><span
style='color:#377063'> </span>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>re_first<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>regex: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>default: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>replace_entities: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Call the .re() method for the first element in this list
and return the result in an string. If the list is empty or the regex doesn’t
match anything, return the default value (None if the argument is not
provided).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>By default, character entity references are replaced by
their corresponding character (except for &amp;amp; and &amp;lt;. Passing replace_entities
as False switches off these replacements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>attrib</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Return the attributes dictionary for the first element. If
the list is empty, return an empty dict.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:47.3pt;text-align:left;line-height:110%'>See
also: <i><span style='color:#355F7C'>Selecting element attributes</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.3.4 Examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Selector
examples on HTML response</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.65pt;
margin-left:.5pt'>Here are some <i><span style='color:#355F7C'>Selector </span></i>examples
to illustrate several concepts. In all cases, we assume there is already a <i><span
style='color:#355F7C'>Selector </span></i>instantiated with a <i><span
style='color:#355F7C'>HtmlResponse </span></i>object like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image179.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.75pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Select all &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>h1&gt; </span></sub>elements from an
HTML response body, returning a list of <i><span style='color:#355F7C'>Selector
</span></i>objects (i.e. a <i><span style='color:#355F7C'>SelectorList </span></i>object):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image180.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Extract the
text of all &lt;<sub><span style='font-size:15.5pt;line-height:103%'>h1&gt; </span></sub>elements
from an HTML response body, returning a list of strings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:12.3pt;margin-left:25.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895784448'><span style='left:0px;position:
absolute;left:29px;top:-23536px;width:600px;height:1px'><img width=600
height=1 src="Scrapy%20Documentation_files/image181.gif"></span></span>sel<span
style='color:#666666'>.</span>xpath(<span style='color:#4070A1'>&quot;//h1&quot;</span>)<span
style='color:#666666'>.</span>getall() <i><span style='color:#407F8F'># this
includes the h1 tag </span></i>sel<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;//h1/text()&quot;</span>)<span style='color:#666666'>.</span>getall()
<i><span style='color:#407F8F'># this excludes the h1 tag</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Iterate over
all &lt;<sub><span style='font-size:15.5pt;line-height:103%'>p&gt; </span></sub>tags
and print their class attribute:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image182.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Selector
examples on XML response</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here are some examples to illustrate concepts for <i><span
style='color:#355F7C'>Selector </span></i>objects instantiated with an <i><span
style='color:#355F7C'>XmlResponse </span></i>object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image183.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Select all &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>product&gt; </span></sub>elements
from an XML response body, returning a list of <i><span style='color:#355F7C'>Selector
</span></i>objects (i.e. a <i><span style='color:#355F7C'>SelectorList </span></i>object):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image184.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Extract all
prices from a <a
href="https://support.google.com/merchants/answer/160589?hl=en&amp;ref_topic=2473799"><span
style='color:#377063;text-decoration:none'>Google Base XML feed</span></a><span
style='color:#377063'> </span>which requires registering a namespace:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image185.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.4 Items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The main goal in scraping is to extract structured data from
unstructured sources, typically, web pages. <i><span style='color:#355F7C'>Spiders
</span></i>may return the extracted data as <i>items</i>, Python objects that
define key-value pairs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy supports <i><span style='color:#355F7C'>multiple types
of items</span></i>. When you create an item, you may use whichever type of
item you want. When you write code that receives an item, your code should <i><span
style='color:#355F7C'>work for any item type</span></i>.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection15>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.4.1 Item Types</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>Scrapy supports the following types of items, via the <a
href="https://github.com/scrapy/itemadapter"><span style='color:#377063;
text-decoration:none'>itemadapter</span></a><span style='color:#377063'> </span>library:
<i><span style='color:#355F7C'>dictionaries</span></i>, <i><span
style='color:#355F7C'>Item objects</span></i>, <i><span style='color:#355F7C'>dataclass
objects</span></i>, and <i><span style='color:#355F7C'>attrs objects</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Dictionaries</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.25pt;
margin-left:.5pt'>As an item type, <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>is
convenient and familiar.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Item
objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.75pt;margin-bottom:
.45pt;margin-left:.5pt;line-height:145%'><i><span style='color:#355F7C'>Item </span></i>provides
a <a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:145%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>-</span></a>like API plus additional
features that make it the most feature-complete item type: class scrapy.Item(<i>*args:
Any</i>, <i>**kwargs: Any</i>) Base class for scraped items.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>In Scrapy, an object is considered an item if it’s
supported by the <a href="https://github.com/scrapy/itemadapter"><span
style='color:#377063;text-decoration:none'>itemadapter</span></a><span
style='color:#377063'> </span>library. For example, when the output of a spider
callback is evaluated, only such objects are passed to <i><span
style='color:#355F7C'>item pipelines</span></i>. <i><span style='color:#355F7C'>Item
</span></i>is one of the classes supported by <a
href="https://github.com/scrapy/itemadapter"><span style='color:#377063;
text-decoration:none'>itemadapter</span></a><span style='color:#377063'> </span>by
default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Items must declare <i><span style='color:#355F7C'>Field </span></i>attributes,
which are processed and stored in the fields attribute. This restricts the set
of allowed field names and prevents typos, raising KeyError when referring to
undefined fields. Additionally, fields can be used to define metadata and
control the way data is processed internally. Please refer to the <i><span
style='color:#355F7C'>documentation about fields </span></i>for additional
information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.85pt;
margin-left:25.4pt'>Unlike instances of <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>,</span></a> instances of <i><span
style='color:#355F7C'>Item </span></i>may be <i><span style='color:#355F7C'>tracked
</span></i>to debug memory leaks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:11.75pt;
margin-left:25.4pt'>copy()<span style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.9pt;margin-left:24.65pt;text-align:left;line-height:110%'>deepcopy()<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:222.25pt;margin-bottom:
0in;margin-left:24.9pt;text-indent:21.9pt;line-height:160%'>Return a <a
href="https://docs.python.org/3/library/copy.html#copy.deepcopy"><span
style='color:#377063;text-decoration:none'>deepcopy()</span></a><span
style='color:#377063'> </span>of this item. fields: <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i><span
style='color:#355F7C'>scrapy.item.Field</span></i>] = {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:47.35pt'>A dictionary containing <i>all declared fields </i>for
this Item, not only those populated. The keys are the field names and the
values are the <i><span style='color:#355F7C'>Field </span></i>objects used in
the <i><span style='color:#355F7C'>Item declaration</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Item </span></i>objects
replicate the standard <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><span
style='color:#377063'> </span>API, including its __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Item </span></i>allows the
defining of field names, so that:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:7.85pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><a
href="https://docs.python.org/3/library/exceptions.html#KeyError"><span
style='color:#377063;text-decoration:none'>KeyErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#KeyError"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>is raised
when using undefined field names (i.e. prevents typos going unnoticed)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:7.85pt;text-indent:16.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>Item exporters </span></i>can
export all fields by default even if the first scraped object does not have
values for all of them <i><span style='color:#355F7C'>Item </span></i>also
allows the defining of field metadata, which can be used to <i><span
style='color:#355F7C'>customize serialization</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:16.7pt;margin-bottom:
0in;margin-left:.5pt;line-height:149%'>trackref tracks <i><span
style='color:#355F7C'>Item </span></i>objects to help find memory leaks (see <i><span
style='color:#355F7C'>Debugging memory leaks with trackref </span></i>).
Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image186.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Dataclass
objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass"><span
style='color:#377063;text-decoration:none'>dataclass(</span></a><a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>)</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>allows
the defining of item classes with field names, so that <i><span
style='color:#355F7C'>item exporters </span></i>can export all fields by
default even if the first scraped object does not have values for all of them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Additionally, dataclass items also allow you to:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:7.85pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>define
the type and default value of each defined field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:7.85pt;text-indent:16.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>define custom field metadata through <a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><span
style='color:#377063;text-decoration:none'>dataclasses.field(</span></a><a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><sub><span
style='font-size:15.5pt;line-height:150%;color:#377063;text-decoration:none'>)</span></sub></a><a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><span
style='color:black;text-decoration:none'>,</span></a> which can be used to <i><span
style='color:#355F7C'>customize serialization</span></i>. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:4.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=164 src="Scrapy%20Documentation_files/image187.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 482070"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>attr.s
objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a href="https://www.attrs.org/en/stable/api-attr.html#attr.s"><span
style='color:#377063;text-decoration:none'>attr.s(</span></a><a
href="https://www.attrs.org/en/stable/api-attr.html#attr.s"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>)</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>allows
the defining of item classes with field names, so that <i><span
style='color:#355F7C'>item exporters </span></i>can export all fields by
default even if the first scraped object does not have values for all of them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Additionally, attr.s items also allow to:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:7.85pt;text-indent:16.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>define
the type and default value of each defined field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:7.85pt;text-indent:16.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>define custom field <a
href="https://www.attrs.org/en/stable/examples.html#metadata"><span
style='color:#377063;text-decoration:none'>metadata</span></a><a
href="https://www.attrs.org/en/stable/examples.html#metadata"><span
style='color:black;text-decoration:none'>,</span></a> which can be used to <i><span
style='color:#355F7C'>customize serialization</span></i>. In order to use this
type, the <a href="https://www.attrs.org/en/stable/index.html"><span
style='color:#377063;text-decoration:none'>attrs package</span></a><span
style='color:#377063'> </span>needs to be installed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image188.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.4.2 Working with Item
objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Declaring
Item subclasses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Item subclasses are declared using a simple class definition
syntax and <i><span style='color:#355F7C'>Field </span></i>objects. Here is an
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image189.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 482340" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Those familiar with <a
href="https://www.djangoproject.com/"><span style='color:#377063;text-decoration:
none'>Django</span></a><span style='color:#377063'> </span>will notice that
Scrapy Items are declared similar to <a
href="https://docs.djangoproject.com/en/dev/topics/db/models/"><span
style='color:#377063;text-decoration:none'>Django Models</span></a><a
href="https://docs.djangoproject.com/en/dev/topics/db/models/"><span
style='color:black;text-decoration:none'>,</span></a> except that Scrapy Items
are much simpler as there is no concept of different field types.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 482341"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Declaring
fields</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Field </span></i>objects are
used to specify metadata for each field. For example, the serializer function
for the last_updated field illustrated in the example above.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can specify any kind of metadata for each field. There is
no restriction on the values accepted by <i><span style='color:#355F7C'>Field </span></i>objects.
For this same reason, there is no reference list of all available metadata
keys. Each key defined in <i><span style='color:#355F7C'>Field </span></i>objects
could be used by a different component, and only those components know about
it. You can also define and use any other <i><span style='color:#355F7C'>Field </span></i>key
in your project too, for your own needs. The main goal of <i><span
style='color:#355F7C'>Field </span></i>objects is to provide a way to define
all field metadata in one place. Typically, those components whose behaviour
depends on each field use certain field keys to configure that behaviour. You
must refer to their documentation to see which metadata keys are used by each
component.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:131%'>It’s important to note that the <i><span
style='color:#355F7C'>Field </span></i>objects used to declare the item do not
stay assigned as class attributes. Instead, they can be accessed through the <i><span
style='color:#355F7C'>fields </span></i>attribute. class scrapy.Field</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Container of field metadata</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>Field </span></i>class
is just an alias to the built-in <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>class and
doesn’t provide any extra functionality or attributes. In other words, <i><span
style='color:#355F7C'>Field </span></i>objects are plain-old Python dicts. A
separate class is used to support the <i><span style='color:#355F7C'>item
declaration syntax </span></i>based on class attributes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 482343" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Field metadata can also be declared for dataclass
and attrs items. Please refer to the documentation for <a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><span
style='color:#377063;text-decoration:none'>dataclasses.field</span></a><span
style='color:#377063'> </span>and <a
href="https://www.attrs.org/en/stable/api-attr.html#attr.ib"><span
style='color:#377063;text-decoration:none'>attr.ib</span></a><span
style='color:#377063'> </span>for additional information.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 482345"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Working
with Item objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.85pt;
margin-left:.5pt'>Here are some examples of common tasks performed with items,
using the Product item <i><span style='color:#355F7C'>declared above</span></i>.
You will notice the API is very similar to the <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Creating
items</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image190.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=602 src="Scrapy%20Documentation_files/image191.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=172 src="Scrapy%20Documentation_files/image192.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Accessing
all populated values</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To access all populated values, just use the typical <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>API:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image193.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Copying
items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To copy an item, you must first decide whether you want a
shallow copy or a deep copy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If your item contains <a
href="https://docs.python.org/3/glossary.html#term-mutable"><span
style='color:#377063;text-decoration:none'>mutable</span></a><span
style='color:#377063'> </span>values like lists or dictionaries, a shallow copy
will keep references to the same mutable values across all different copies.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.0pt;margin-left:-.25pt;text-align:left;line-height:98%'>For
example, if you have an item with a list of tags, and you create a shallow copy
of that item, both the original item and the copy have the same list of tags.
Adding a tag to the list of one of the items will add the tag to the other item
as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If that is not the desired behavior, use a deep copy instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>See <a
href="https://docs.python.org/3/library/copy.html#module-copy"><span
style='color:#377063;text-decoration:none'>cop</span></a><a
href="https://docs.python.org/3/library/copy.html#module-copy"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>y</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>for more
information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.3pt;
margin-left:.5pt;line-height:141%'>To create a shallow copy of an item, you can
either call <i><span style='color:#355F7C'>copy() </span></i>on an existing
item (product2 = product.copy()) or instantiate your item class from an
existing item (product2 = Product(product)). To create a deep copy, call <i><span
style='color:#355F7C'>deepcopy() </span></i>instead (product2 =
product.deepcopy()).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
common tasks</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=156 src="Scrapy%20Documentation_files/image194.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=103 src="Scrapy%20Documentation_files/image195.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Extending
Item subclasses</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>You can
extend Items (to add more fields or to change some metadata for some fields) by
declaring a subclass of your original Item. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image196.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can also extend field metadata by using the previous
field metadata and appending more values, or changing existing values, like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image197.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>That adds (or replaces) the serializer metadata key for the name
field, keeping all the previously existing metadata values.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.4.3 Supporting All
Item Types</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:.5pt'>In code that receives an item, such as methods of <i><span
style='color:#355F7C'>item pipelines </span></i>or <i><span style='color:#355F7C'>spider
middlewares</span></i>, it is a good practice to use the ItemAdapter class and
the is_item() function to write code that works for any supported item type.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.4.4 Other classes
related to items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.15pt;margin-bottom:
24.45pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:130%'>class
scrapy.item.ItemMeta(<i>class_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>bases: </i><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> ...]</i>, <i>attrs:
</i><a href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) <a
href="https://realpython.com/python-metaclasses"><span style='color:#377063;
text-decoration:none'>Metaclass</span></a><span style='color:#377063'> </span>of
<i><span style='color:#355F7C'>Item </span></i>that handles field definitions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.5 Item Loaders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Item Loaders provide a convenient mechanism for populating
scraped <i><span style='color:#355F7C'>items</span></i>. Even though items can
be populated directly, Item Loaders provide a much more convenient API for
populating them from a scraping process, by automating some common tasks like
parsing the raw extracted data before assigning it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In other words, <i><span style='color:#355F7C'>items </span></i>provide
the <i>container </i>of scraped data, while Item Loaders provide the mechanism
for <i>populating </i>that container.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Item Loaders are designed to provide a flexible, efficient
and easy mechanism for extending and overriding different field parsing rules,
either by spider, or by source format (HTML, XML, etc) without becoming a
nightmare to maintain.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection16>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 484441" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Item Loaders are an extension of the <a
href="https://itemloaders.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>itemloaders</span></a><span style='color:#377063'> </span>library
that make it easier to work with Scrapy by adding support for <i><span
style='color:#355F7C'>responses</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 484442"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.1 Using Item
Loaders to populate items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To use an Item Loader, you must first instantiate it. You can
either instantiate it with an <i><span style='color:#355F7C'>item object </span></i>or
without one, in which case an <i><span style='color:#355F7C'>item object </span></i>is
automatically created in the Item Loader __init__ method using the <i><span
style='color:#355F7C'>item </span></i>class specified in the <i><span
style='color:#355F7C'>ItemLoader.default_item_class </span></i>attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>Then, you start collecting values into the Item Loader,
typically using <i><span style='color:#355F7C'>Selectors</span></i>. You can
add more than one value to the same item field; the Item Loader will know how
to “join” those values later using a proper processing function.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 484443"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Collected data is internally stored as lists,
allowing to add several values to the same field. If an item argument is passed
when creating a loader, each of the item’s values will be stored as-is if it’s
already an iterable, or wrapped with a list if it’s a single value.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 484444"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is a typical Item Loader usage in a <i><span
style='color:#355F7C'>Spider</span></i>, using the <i><span style='color:#355F7C'>Product
item </span></i>declared in the <i><span style='color:#355F7C'>Items chapter</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200 src="Scrapy%20Documentation_files/image198.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:.5pt'>By quickly looking at that code, we can see the name field is
being extracted from two different XPath locations in the page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.0pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>//div[@class=&quot;product_name&quot;]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.9pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>//div[@class=&quot;product_title&quot;]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In other words, data is being collected by extracting it from
two XPath locations, using the <i><span style='color:#355F7C'>add_xpath() </span></i>method.
This is the data that will be assigned to the name field later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:.5pt'>Afterwards, similar calls are used for price and stock fields
(the latter using a CSS selector with the <i><span style='color:#355F7C'>add_css()
</span></i>method), and finally the last_update field is populated directly
with a literal value (today) using a different method: <i><span
style='color:#355F7C'>add_value()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Finally, when all data is collected, the <i><span
style='color:#355F7C'>ItemLoader.load_item() </span></i>method is called which
actually returns the item populated with the data previously extracted and
collected with the <i><span style='color:#355F7C'>add_xpath()</span></i>, <i><span
style='color:#355F7C'>add_css()</span></i>, and <i><span style='color:#355F7C'>add_value()
</span></i>calls.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.2 Working with
dataclass items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt'>By default, <i><span style='color:#355F7C'>dataclass items </span></i>require
all fields to be passed when created. This could be an issue when using
dataclass items with item loaders: unless a pre-populated item is passed to the
loader, fields will be populated incrementally using the loader’s <i><span
style='color:#355F7C'>add_xpath()</span></i>, <i><span style='color:#355F7C'>add_css()
</span></i>and <i><span style='color:#355F7C'>add_value() </span></i>methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>One approach to overcome this is to define items using the <a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><span
style='color:#377063;text-decoration:none'>field(</span></a><a
href="https://docs.python.org/3/library/dataclasses.html#dataclasses.field"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>)</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>function,
with a default argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image199.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.3 Input and Output
processors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>An Item Loader contains one input processor and one output
processor for each (item) field. The input processor processes the extracted
data as soon as it’s received (through the <i><span style='color:#355F7C'>add_xpath()</span></i>,
<i><span style='color:#355F7C'>add_css() </span></i>or <i><span
style='color:#355F7C'>add_value() </span></i>methods) and the result of the
input processor is collected and kept inside the ItemLoader. After collecting
all data, the <i><span style='color:#355F7C'>ItemLoader.load_item() </span></i>method
is called to populate and get the populated <i><span style='color:#355F7C'>item
object</span></i>. That’s when the output processor is called with the data
previously collected (and processed using the input processor). The result of
the output processor is the final value that gets assigned to the item.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Let’s see an example to illustrate how the input and output
processors are called for a particular field (the same applies for any other
field):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image200.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>So what happens is:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Data from xpath1
is extracted, and passed through the <i>input processor </i>of the name field.
The result of the input processor is collected and kept in the Item Loader (but
not yet assigned to the item).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Data from xpath2
is extracted, and passed through the same <i>input processor </i>used in (1).
The result of the input processor is appended to the data collected in (1) (if
any).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>This case is
similar to the previous ones, except that the data is extracted from the css CSS
selector, and passed through the same <i>input processor </i>used in (1) and
(2). The result of the input processor is appended to the data collected in (1)
and (2) (if any).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>This case is
also similar to the previous ones, except that the value to be collected is
assigned directly, instead of being extracted from a XPath expression or a CSS
selector. However, the value is still passed through the input processors. In
this case, since the value is not iterable it is converted to an iterable of a
single element before passing it to the input processor, because input
processor always receive iterables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The data
collected in steps (1), (2), (3) and (4) is passed through the <i>output
processor </i>of the name field. The result of the output processor is the
value assigned to the name field in the item.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.05pt;
margin-left:.5pt'>It’s worth noticing that processors are just callable
objects, which are called with the data to be parsed, and return a parsed
value. So you can use any function as input or output processor. The only
requirement is that they must accept one (and only one) positional argument,
which will be an iterable. Changed in version 2.0: Processors no longer need to
be methods.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 484791" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Both input and output processors must receive an
iterable as their first argument. The output of those functions can be
anything. The result of input processors will be appended to an internal list
(in the Loader) containing the collected values (for that field). The result of
the output processors is the value that will be finally assigned to the item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 484792"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The other thing you need to keep in mind is that the values
returned by input processors are collected internally (in lists) and then
passed to output processors to populate the fields.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.1pt;
margin-left:.5pt'>Last, but not least, <a
href="https://itemloaders.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>itemloaders</span></a><span style='color:#377063'> </span>comes
with some <a
href="https://itemloaders.readthedocs.io/en/latest/built-in-processors.html#built-in-processors"><span
style='color:#377063;text-decoration:none'>commonly used processors</span></a><span
style='color:#377063'> </span>built-in for convenience.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.4 Declaring Item
Loaders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Item Loaders are declared using a class definition syntax.
Here is an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216 src="Scrapy%20Documentation_files/image201.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.9pt;
margin-left:.5pt'>As you can see, input processors are declared using the _in suffix
while output processors are declared using the _out suffix. And you can also
declare a default input/output processors using the <i><span style='color:#355F7C'>ItemLoader.
default_input_processor </span></i>and <i><span style='color:#355F7C'>ItemLoader.default_output_processor
</span></i>attributes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.5 Declaring Input
and Output Processors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>As seen in the previous section, input and output processors
can be declared in the Item Loader definition, and it’s very common to declare
input processors this way. However, there is one more place where you can
specify the input and output processors to use: in the <i><span
style='color:#355F7C'>Item Field </span></i>metadata. Here is an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=162 src="Scrapy%20Documentation_files/image202.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=300 src="Scrapy%20Documentation_files/image203.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The precedence order, for both input and output processors,
is as follows:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.9pt;
margin-left:12.45pt;text-indent:12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Item Loader
field-specific attributes: field_in and field_out (most precedence)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.7pt;
margin-left:12.45pt;text-indent:12.45pt;line-height:112%'><span
style='line-height:112%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Field metadata (input_processor and output_processor key)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;
margin-left:12.45pt;text-indent:12.45pt;line-height:139%'><span
style='line-height:139%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Item Loader defaults: <i><span style='color:#355F7C'>ItemLoader.default_input_processor()
</span></i>and <i><span style='color:#355F7C'>ItemLoader.
default_output_processor() </span></i>(least precedence) See also: <i><span
style='color:#355F7C'>Reusing and extending Item Loaders</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.6 Item Loader
Context</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The Item Loader Context is a dict of arbitrary key/values
which is shared among all input and output processors in the Item Loader. It
can be passed when declaring, instantiating or using Item Loader. They are used
to modify the behaviour of the input/output processors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For example, suppose you have a function parse_length which
receives a text value and extracts a length from it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image204.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By accepting a loader_context argument the function is
explicitly telling the Item Loader that it’s able to receive an Item Loader
context, so the Item Loader passes the currently active context when calling
it, and the processor function (parse_length in this case) can thus use them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are several ways to modify Item Loader context values:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>By modifying
the currently active Item Loader context (<i><span style='color:#355F7C'>context
</span></i>attribute):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image205.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>On Item Loader
instantiation (the keyword arguments of Item Loader __init__ method are stored
in the Item Loader context):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image206.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.65pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>On Item Loader
declaration, for those input/output processors that support instantiating them
with an Item Loader context. MapCompose is one of them:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image207.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.0pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.7 ItemLoader
objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.loader.ItemLoader(<i>item: Any = None</i>, <i>selector: </i><span
style='color:#355F7C'>Selector </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>response:</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05in;margin-left:162.65pt;text-align:left;line-height:104%'><span
style='color:#355F7C'>TextResponse </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>parent: </i><a
href="https://itemloaders.readthedocs.io/en/latest/api-reference.html#itemloaders.ItemLoader"><i><span
style='color:#377063;text-decoration:none'>itemloaders.ItemLoader</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**context: Any</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>A user-friendly abstraction to populate an <i><span
style='color:#355F7C'>item </span></i>with data by applying <i><span
style='color:#355F7C'>field processors </span></i>to scraped data. When
instantiated with a selector or a response it supports data extraction from web
pages using <i><span style='color:#355F7C'>selectors</span></i>.</p>

<h2 style='margin-left:47.35pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.15pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:128%'><span
style='line-height:128%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item
(<span style='color:#355F7C'>scrapy.item.Item</span>) – The item instance to
populate using subsequent calls to <i><span style='color:#355F7C'>add_xpath()</span></i>,
<i><span style='color:#355F7C'>add_css()</span></i>, or <i><span
style='color:#355F7C'>add_value()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.35pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:126%'><span
style='line-height:126%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>selector
(<i><span style='color:#355F7C'>Selector </span></i>object) – The selector to
extract data from, when using the <i><span style='color:#355F7C'>add_xpath()</span></i>,
<i><span style='color:#355F7C'>add_css()</span></i>, <i><span style='color:
#355F7C'>replace_xpath()</span></i>, or <i><span style='color:#355F7C'>replace_css()
</span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – The response used to
construct the selector using the <i><span style='color:#355F7C'>default_selector_class</span></i>,
unless the selector argument is given, in which case this argument is ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If no item is given, one is instantiated automatically
using the class in <i><span style='color:#355F7C'>default_item_class</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:129%'>The item, selector, response and remaining
keyword arguments are assigned to the Loader context (accessible through the <i><span
style='color:#355F7C'>context </span></i>attribute). item</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The item object being parsed by this Item Loader. This is
mostly used as a property so, when attempting to override this value, you may
want to check out <i><span style='color:#355F7C'>default_item_class </span></i>first.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>context</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The currently active <a
href="https://itemloaders.readthedocs.io/en/latest/loaders-context.html#loaders-context"><span
style='color:#377063;text-decoration:none'>Context</span></a><span
style='color:#377063'> </span>of this Item Loader.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>default_item_class</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>An <i><span style='color:#355F7C'>item </span></i>class (or
factory), used to instantiate items when not given in the __init__ method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>default_input_processor</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The default input processor to use for those fields which
don’t specify one.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>default_output_processor</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The default output processor to use for those fields which
don’t specify one.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>default_selector_class</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The class used to construct the <i><span style='color:#355F7C'>selector
</span></i>of this <i><span style='color:#355F7C'>ItemLoader</span></i>, if
only a response is given in the __init__ method. If a selector is given in the __init__
method this attribute is ignored. This attribute is sometimes overridden in
subclasses.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>selector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:21.9pt'>The <i><span style='color:#355F7C'>Selector
</span></i>object to extract data from. It’s either the selector given in the __init__
method or one created from the response given in the __init__ method using the <i><span
style='color:#355F7C'>default_selector_class</span></i>. This attribute is
meant to be read-only. add_css<sub><span style='font-size:15.5pt;line-height:
103%'>(</span></sub><i>field_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>css: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.add_value()
</span></i>but receives a CSS selector instead of a value, which is used to
extract a list of unicode strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:188.45pt;
margin-bottom:.2pt;margin-left:65.45pt;text-align:left;text-indent:-18.65pt;
line-height:126%'>See <i><span style='color:#355F7C'>get_css() </span></i>for kwargs.
<b>Parameters </b>css <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:126%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the CSS selector to
extract data from</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.3pt;
margin-bottom:2.8pt;margin-left:.65in;text-align:left;text-indent:35.55pt;
line-height:147%'><i><span style='color:#355F7C'>ItemLoader </span></i>Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><i><span
style='color:#407F8F'># HTML snippet: &lt;p
class=&quot;product-name&quot;&gt;Color TV&lt;/p&gt; </span></i>loader<span
style='color:#666666'>.</span>add_css(<span style='color:#4070A1'>'name'</span>,
<span style='color:#4070A1'>'p.product-name'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:12.6pt;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895783424'><span style='left:0px;position:
absolute;left:58px;top:-33381px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image208.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: &lt;p id=&quot;price&quot;&gt;the price
is $1200&lt;/p&gt; </span></i>loader<span style='color:#666666'>.</span>add_css(<span
style='color:#4070A1'>'price'</span>, <span style='color:#4070A1'>'p#price'</span>,
re<span style='color:#666666'>=</span><span style='color:#4070A1'>'the price is
(.*)'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.45pt;margin-left:71.95pt;text-align:left;text-indent:-47.05pt;
line-height:104%'>add_jmes<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>field_name:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>jmes: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.add_value()
</span></i>but receives a JMESPath selector instead of a value, which is used
to extract a list of unicode strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.55pt;
margin-left:47.3pt;line-height:108%'>See <i><span style='color:#355F7C'>get_jmes()
</span></i>for kwargs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:159.05pt;margin-bottom:
0in;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>jmes <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the JMESPath selector
to extract data from</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.3pt;
margin-bottom:2.8pt;margin-left:.65in;text-align:left;text-indent:35.55pt;
line-height:147%'><i><span style='color:#355F7C'>ItemLoader </span></i>Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:112.6pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><i><span
style='color:#407F8F'># HTML snippet: {&quot;name&quot;: &quot;Color TV&quot;} </span></i>loader<span
style='color:#666666'>.</span>add_jmes(<span style='color:#4070A1'>'name'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:12.05pt;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895782400'><span style='left:0px;position:
absolute;left:58px;top:-33700px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image208.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: {&quot;price&quot;: the price is
$1200&quot;} </span></i>loader<span style='color:#666666'>.</span>add_jmes(<span
style='color:#4070A1'>'price'</span>, TakeFirst(), re<span style='color:#666666'>=</span><span
style='color:#4070A1'>'the price is (.*)'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.85pt;margin-left:77.2pt;text-align:left;text-indent:-52.3pt;
line-height:104%'>add_value<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>field_name:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>value: Any</i>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:47.3pt'>Process and then add the given value for the given field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The value is first passed through <i><span
style='color:#355F7C'>get_value() </span></i>by giving the processors and kwargs,
and then passed through the <a
href="https://itemloaders.readthedocs.io/en/latest/processors.html#processors"><span
style='color:#377063;text-decoration:none'>field input processor</span></a><span
style='color:#377063'> </span>and its result appended to the data collected for
that field. If the field already contains collected data, the new data is
added.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The given field_name can be None, in which case values for
multiple fields may be added. And the processed value should be a dict with
field_name mapped to values.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.3pt;
margin-bottom:4.7pt;margin-left:.65in;text-align:left;text-indent:35.55pt;
line-height:147%'><i><span style='color:#355F7C'>ItemLoader </span></i>Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.75pt;
margin-bottom:12.4pt;margin-left:47.3pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895781376'><span style='left:0px;position:
absolute;left:58px;top:-34012px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image209.gif"></span></span>loader<span
style='color:#666666'>.</span>add_value(<span style='color:#4070A1'>'name'</span>,
<span style='color:#4070A1'>'Color TV'</span>) loader<span style='color:#666666'>.</span>add_value(<span
style='color:#4070A1'>'colours'</span>, [<span style='color:#4070A1'>'white'</span>,
<span style='color:#4070A1'>'blue'</span>]) loader<span style='color:#666666'>.</span>add_value(<span
style='color:#4070A1'>'length'</span>, <span style='color:#4070A1'>'100'</span>)
loader<span style='color:#666666'>.</span>add_value(<span style='color:#4070A1'>'name'</span>,
<span style='color:#4070A1'>'name: foo'</span>, TakeFirst(), re<span
style='color:#666666'>=</span><span style='color:#4070A1'>'name: (.+)'</span>)
loader<span style='color:#666666'>.</span>add_value(<span style='color:#007021'>None</span>,
{<span style='color:#4070A1'>'name'</span>: <span style='color:#4070A1'>'foo'</span>,
<span style='color:#4070A1'>'sex'</span>: <span style='color:#4070A1'>'male'</span>})</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.45pt;margin-left:77.25pt;text-align:left;text-indent:-52.35pt;
line-height:104%'>add_xpath<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>field_name:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>xpath: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.4pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.add_value()
</span></i>but receives an XPath instead of a value, which is used to extract a
list of strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:47.3pt;line-height:108%'>See <i><span style='color:#355F7C'>get_xpath()
</span></i>for kwargs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:204.45pt;margin-bottom:
.05pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>xpath <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the XPath to extract
data from</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.3pt;
margin-bottom:2.8pt;margin-left:.65in;text-align:left;text-indent:35.55pt;
line-height:147%'><i><span style='color:#355F7C'>ItemLoader </span></i>Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.5pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895780352'><span style='left:0px;position:
absolute;left:58px;top:-34332px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image208.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: &lt;p
class=&quot;product-name&quot;&gt;Color TV&lt;/p&gt; </span></i>loader<span
style='color:#666666'>.</span>add_xpath(<span style='color:#4070A1'>'name'</span>,
<span style='color:#4070A1'>'//p[@class=&quot;product-name&quot;]'</span>) <i><span
style='color:#407F8F'># HTML snippet: &lt;p id=&quot;price&quot;&gt;the price
is $1200&lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.2pt;margin-left:47.3pt;text-align:left;line-height:111%'>loader<span
style='color:#666666'>.</span>add_xpath(<span style='color:#4070A1'>'price'</span>,
<span style='color:#4070A1'>'//p[@id=&quot;price&quot;]'</span>, re<span
style='color:#666666'>=</span><span style='color:#4070A1'>'the price is (.*)'</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:186.4pt;margin-bottom:
2.7pt;margin-left:.65in;text-indent:-21.9pt;line-height:128%'>get_collected_values(<i>field_name:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.List"><span
style='color:#377063;text-decoration:none'>List</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>] </span></a>Return the collected
values for the given field.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>get_css<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>css: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Iterable"><i><span
style='color:#377063;text-decoration:none'>Iterable</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:#377063;text-decoration:none'>Callable</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>[...], </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw:</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:67.25pt;line-height:110%'><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.get_value()
</span></i>but receives a CSS selector instead of a value, which is used to
extract a list of unicode strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<h2>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:9.65pt;margin-bottom:
.45pt;margin-left:65.35pt;text-indent:37.05pt'><span style='line-height:103%'>•</span>css
<a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the CSS selector to
extract data from</p>

<p class=MsoNormal style='margin-top:0in;margin-right:9.65pt;margin-bottom:
5.5pt;margin-left:65.35pt;text-indent:37.05pt;line-height:124%'><span
style='line-height:124%'>•</span>re <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) – a regular
expression to use for extracting data from the selected CSS region Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895779328'><span style='left:0px;position:
absolute;left:58px;top:-34658px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image210.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: &lt;p
class=&quot;product-name&quot;&gt;Color TV&lt;/p&gt; </span></i>loader<span
style='color:#666666'>.</span>get_css(<span style='color:#4070A1'>'p.product-name'</span>)</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.4pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:12.05pt;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895778304'><span style='left:0px;position:
absolute;left:58px;top:-34713px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image211.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: &lt;p id=&quot;price&quot;&gt;the price
is $1200&lt;/p&gt; </span></i>loader<span style='color:#666666'>.</span>get_css(<span
style='color:#4070A1'>'p#price'</span>, TakeFirst(), re<span style='color:#666666'>=</span><span
style='color:#4070A1'>'the price is (.*)'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:24.65pt;text-align:left;line-height:106%'>get_jmes<sub><span
style='font-size:15.5pt;line-height:106%'>(</span></sub><i>jmes: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Iterable"><i><span
style='color:#377063;text-decoration:none'>Iterable</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:#377063;text-decoration:none'>Callable</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>[...], </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.45pt;margin-left:72.5pt;text-align:left;line-height:104%'><i>**kw:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.get_value()
</span></i>but receives a JMESPath selector instead of a value, which is used
to extract a list of unicode strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<h2>Parameters</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.65pt;
margin-bottom:.45pt;margin-left:65.35pt;text-align:left;text-indent:37.05pt'><span
style='line-height:103%'>•</span>jmes <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the JMESPath selector
to extract data from</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.65pt;
margin-bottom:5.45pt;margin-left:65.35pt;text-align:left;text-indent:37.05pt;
line-height:126%'><span style='line-height:126%'>•</span>re <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:126%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:126%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:126%'>or </span></sub></i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><sub><span
style='font-size:15.5pt;line-height:126%;color:#377063;text-decoration:none'>Pattern</span></sub></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><span
style='color:black;text-decoration:none'>)</span></a> – a regular expression to
use for extracting data from the selected JMESPath Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:112.6pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><i><span
style='color:#407F8F'># HTML snippet: {&quot;name&quot;: &quot;Color TV&quot;} </span></i>loader<span
style='color:#666666'>.</span>get_jmes(<span style='color:#4070A1'>'name'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:13.7pt;margin-left:46.55pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895777280'><span style='left:0px;position:
absolute;left:58px;top:-34999px;width:571px;height:1px'><img width=571
height=1 src="Scrapy%20Documentation_files/image208.gif"></span></span><i><span
style='color:#407F8F'># HTML snippet: {&quot;price&quot;: the price is
$1200&quot;} </span></i>loader<span style='color:#666666'>.</span>get_jmes(<span
style='color:#4070A1'>'price'</span>, TakeFirst(), re<span style='color:#666666'>=</span><span
style='color:#4070A1'>'the price is (.*)'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_output_value(<i>field_name:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Return the collected values parsed using the output
processor, for the given field. This method doesn’t populate or modify the item
at all.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.3pt;margin-left:77.2pt;text-align:left;text-indent:-52.3pt;
line-height:104%'>get_value<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>value:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>*processors: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:#377063;text-decoration:none'>Callable</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>[...], </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:79.6pt;margin-bottom:
0in;margin-left:47.3pt;line-height:150%'>Process the given value by the given processors
and keyword arguments. Available keyword arguments:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
1.9pt;margin-left:.65in;text-indent:18.65pt'><b>Parameters </b>re <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) – a regular
expression to use for extracting data from the given value using extract_regex()
method, applied before processors Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=89 src="Scrapy%20Documentation_files/image212.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:24.65pt;text-align:left;line-height:106%'>get_xpath<sub><span
style='font-size:15.5pt;line-height:106%'>(</span></sub><i>xpath: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Iterable"><i><span
style='color:#377063;text-decoration:none'>Iterable</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:#377063;text-decoration:none'>Callable</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Callable"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>[...], </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.45pt;margin-left:77.75pt;text-align:left;line-height:104%'><i>**kw:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>ItemLoader.get_value()
</span></i>but receives an XPath instead of a value, which is used to extract a
list of unicode strings from the selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>.</p>

<h2>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:9.65pt;margin-bottom:
.45pt;margin-left:65.35pt;text-indent:37.05pt'><span style='line-height:103%'>•</span>xpath
<a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the XPath to extract
data from</p>

<p class=MsoNormal style='margin-top:0in;margin-right:9.65pt;margin-bottom:
5.5pt;margin-left:65.35pt;text-indent:37.05pt;line-height:124%'><span
style='line-height:124%'>•</span>re <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/typing.html#typing.Pattern"><i><span
style='color:#377063;text-decoration:none'>Pattern</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) – a regular
expression to use for extracting data from the selected XPath region Examples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><i><span
style='color:#407F8F'># HTML snippet: &lt;p
class=&quot;product-name&quot;&gt;Color TV&lt;/p&gt; </span></i>loader<span
style='color:#666666'>.</span>get_xpath(<span style='color:#4070A1'>'//p[@class=&quot;product-name&quot;]'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.05pt;
margin-bottom:0in;margin-left:46.55pt;text-align:left;line-height:111%'><i><span
style='color:#407F8F'># HTML snippet: &lt;p id=&quot;price&quot;&gt;the price
is $1200&lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:228%'><span style='position:relative;z-index:-1895776256'><span
style='left:0px;position:absolute;left:58px;top:-35564px;width:571px;
height:1px'><img width=571 height=1
src="Scrapy%20Documentation_files/image208.gif"></span></span>loader<span
style='color:#666666'>.</span>get_xpath(<span style='color:#4070A1'>'//p[@id=&quot;price&quot;]'</span>,
TakeFirst(), re<span style='color:#666666'>=</span><span style='color:#4070A1'>'the
price is (.*)'</span>) load_item()<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:47.3pt'>Populate the item with the data collected so far, and
return it. The data collected is first passed through the <a
href="https://itemloaders.readthedocs.io/en/latest/processors.html#processors"><span
style='color:#377063;text-decoration:none'>output processors</span></a><span
style='color:#377063'> </span>to get the final value to assign to each item
field.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.65pt;margin-left:25.4pt;text-align:left;line-height:104%'>nested_css(<i>css:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>**context: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:47.3pt'>Create a nested loader with a css selector. The supplied
selector is applied relative to selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>. The nested loader shares the item
with the parent <i><span style='color:#355F7C'>ItemLoader </span></i>so calls
to <i><span style='color:#355F7C'>add_xpath()</span></i>, <i><span
style='color:#355F7C'>add_value()</span></i>, <i><span style='color:#355F7C'>replace_value()</span></i>,
etc. will behave as expected.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.65pt;margin-left:25.4pt;text-align:left;line-height:104%'>nested_xpath(<i>xpath:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>**context: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Create a nested loader with an xpath selector. The supplied
selector is applied relative to selector associated with this <i><span
style='color:#355F7C'>ItemLoader</span></i>. The nested loader shares the item
with the parent <i><span style='color:#355F7C'>ItemLoader </span></i>so calls
to <i><span style='color:#355F7C'>add_xpath()</span></i>, <i><span
style='color:#355F7C'>add_value()</span></i>, <i><span style='color:#355F7C'>replace_value()</span></i>,
etc. will behave as expected.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.05pt;margin-left:87.65pt;text-align:left;text-indent:-62.75pt;
line-height:104%'>replace_css<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>field_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>css: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>add_css() </span></i>but
replaces collected data instead of adding it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:82.9pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>ItemLoader</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.1pt;margin-left:92.9pt;text-align:left;text-indent:-68.0pt;
line-height:104%'>replace_jmes<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>field_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>jmes: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>add_jmes() </span></i>but
replaces collected data instead of adding it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:82.9pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>ItemLoader</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:98.15pt;text-align:left;text-indent:-73.25pt;
line-height:104%'>replace_value<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>field_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>value: Any</i>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>add_value() </span></i>but
replaces the collected data with the new value instead of adding it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:82.9pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>ItemLoader</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.2pt;margin-left:98.15pt;text-align:left;text-indent:-73.25pt;
line-height:104%'>replace_xpath<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>field_name: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>xpath: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*processors:
Callable[..., Any]</i>, <i>re: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| Pattern[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>**kw: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Similar to <i><span style='color:#355F7C'>add_xpath() </span></i>but
replaces collected data instead of adding it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>The current ItemLoader instance for method chaining.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Return
type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:82.9pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>ItemLoader</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.8 Nested Loaders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.5pt'>When parsing related values from a subsection of a document,
it can be useful to create nested loaders. Imagine you’re extracting details
from a footer of a page that looks something like: Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image213.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.4pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>Without nested loaders, you need to
specify the full xpath (or css) for each value that you wish to extract.
Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image214.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Instead, you can create a nested loader with the footer
selector and add values relative to the footer. The functionality is the same
but you avoid repeating the footer selector.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=147 src="Scrapy%20Documentation_files/image215.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>You can nest loaders arbitrarily and they work with either
xpath or css selectors. As a general guideline, use nested loaders when they
make your code simpler but do not go overboard with nesting or your parser can
become difficult to read.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.5.9 Reusing and
extending Item Loaders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As your project grows bigger and acquires more and more
spiders, maintenance becomes a fundamental problem, especially when you have to
deal with many different parsing rules for each spider, having a lot of
exceptions, but also wanting to reuse the common processors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Item Loaders are designed to ease the maintenance burden of
parsing rules, without losing flexibility and, at the same time, providing a
convenient mechanism for extending and overriding them. For this reason Item
Loaders support traditional Python class inheritance for dealing with
differences of specific spiders (or groups of spiders).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Suppose, for example, that some particular site encloses
their product names in three dashes (e.g. ---<sub><span style='font-size:15.5pt;
line-height:103%'>Plasma TV---</span></sub>) and you don’t want to end up
scraping those dashes in the final product names.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here’s how you can remove those dashes by reusing and
extending the default Product Item Loader (ProductLoader):</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection17>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image216.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Another case where extending Item Loaders can be very helpful
is when you have multiple source formats, for example XML and HTML. In the XML
version you may want to remove CDATA occurrences. Here’s an example of how to
do it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image217.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>And that’s how you typically extend input processors.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.0pt;margin-left:-.25pt;text-align:left;line-height:98%'>As for
output processors, it is more common to declare them in the field metadata, as
they usually depend only on the field and not on each specific site parsing
rule (as input processors do). See also: <i><span style='color:#355F7C'>Declaring
Input and Output Processors</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:.5pt'>There are many other possible ways to extend, inherit and
override your Item Loaders, and different Item Loaders hierarchies may fit
better for different projects. Scrapy only provides the mechanism; it doesn’t
impose any specific organization of your Loaders collection - that’s up to you
and your project’s needs.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.6 Scrapy shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The Scrapy shell is an interactive shell where you can try
and debug your scraping code very quickly, without having to run the spider.
It’s meant to be used for testing data extraction code, but you can actually
use it for testing any kind of code as it is also a regular Python shell.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The shell is used for testing XPath or CSS expressions and
see how they work and what data they extract from the web pages you’re trying
to scrape. It allows you to interactively test your expressions while you’re
writing your spider, without having to run the spider to test every change.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once you get familiarized with the Scrapy shell, you’ll see
that it’s an invaluable tool for developing and debugging your spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.6.1 Configuring the
shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you have <a href="https://ipython.org/"><span
style='color:#377063;text-decoration:none'>IPython</span></a><span
style='color:#377063'> </span>installed, the Scrapy shell will use it (instead
of the standard Python console). The <a href="https://ipython.org/"><span
style='color:#377063;text-decoration:none'>IPython</span></a><span
style='color:#377063'> </span>console is much more powerful and provides smart
auto-completion and colorized output, among other things.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We highly recommend you install <a href="https://ipython.org/"><span
style='color:#377063;text-decoration:none'>IPython</span></a><a
href="https://ipython.org/"><span style='color:black;text-decoration:none'>,</span></a>
specially if you’re working on Unix systems (where <a
href="https://ipython.org/"><span style='color:#377063;text-decoration:none'>IPython</span></a><span
style='color:#377063'> </span>excels). See the <a
href="https://ipython.org/install.html"><span style='color:#377063;text-decoration:
none'>IPython installation guide</span></a><span style='color:#377063'> </span>for
more info.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy also has support for <a
href="https://bpython-interpreter.org/"><span style='color:#377063;text-decoration:
none'>bpython</span></a><a href="https://bpython-interpreter.org/"><span
style='color:black;text-decoration:none'>,</span></a> and will try to use it
where <a href="https://ipython.org/"><span style='color:#377063;text-decoration:
none'>IPython</span></a><span style='color:#377063'> </span>is unavailable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:.5pt'>Through Scrapy’s settings you can configure it to use any one
of ipython, bpython or the standard python shell, regardless of which are
installed. This is done by setting the SCRAPY_PYTHON_SHELL environment
variable; or by defining it in your <i><span style='color:#355F7C'>scrapy.cfg</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image218.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.6.2 Launch the shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To launch the Scrapy shell you can use the <i><span
style='color:#355F7C'>shell </span></i>command like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image219.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:125%'>Where the &lt;<sub><span style='font-size:
15.5pt;line-height:125%'>url&gt; </span></sub>is the URL you want to scrape. <i><span
style='color:#355F7C'>shell </span></i>also works for local files. This can be
handy if you want to play around with a local copy of a web page. <i><span
style='color:#355F7C'>shell </span></i>understands the following syntaxes for
local files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image220.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 488836"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'><b>Note: </b>When using relative file paths, be explicit and
prepend them with ./ (or ../ when relevant). scrapy shell index.html will not
work as one might expect (and this is by design, not a bug).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.55pt;
margin-left:.5pt'>Because <i><span style='color:#355F7C'>shell </span></i>favors
HTTP URLs over File URIs, and index.html being syntactically similar to example.com,
<i><span style='color:#355F7C'>shell </span></i>will treat index.html as a
domain name and trigger a DNS lookup error:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=89 src="Scrapy%20Documentation_files/image221.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'><i><span style='color:#355F7C'>shell </span></i>will not test
beforehand if a file called index.html exists in the current directory. Again,
be explicit.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 488838"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.6.3 Using the shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The Scrapy shell is just a regular Python console (or <a
href="https://ipython.org/"><span style='color:#377063;text-decoration:none'>IPython</span></a><span
style='color:#377063'> </span>console if you have it available) which provides
some additional shortcut functions for convenience.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Available
Shortcuts</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>shelp() - print a
help with the list of available objects and shortcuts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:130%'><span
style='line-height:130%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fetch(url[,
redirect=True]) - fetch a new response from the given URL and update all
related objects accordingly. You can optionally ask for HTTP 3xx redirections
to not be followed by passing redirect=False • fetch(request) - fetch a new
response from the given request and update all related objects accordingly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>view(response) - open
the given response in your local web browser, for inspection. This will add a <a
href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base"><span
style='color:#377063;text-decoration:none'>&lt;base&gt; </span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base"><span
style='color:#377063;text-decoration:none'>tag</span></a><span
style='color:#377063'> </span>to the response body in order for external links
(such as images and style sheets) to display properly. Note, however, that this
will create a temporary file in your computer, which won’t be removed
automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Available
Scrapy objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.4pt;margin-left:-.25pt;text-align:left;line-height:126%'>The
Scrapy shell automatically creates some convenient objects from the downloaded
page, like the <i><span style='color:#355F7C'>Response </span></i>object and
the Selector objects (for both HTML and XML content). Those objects are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>crawler - the current
<i><span style='color:#355F7C'>Crawler </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider - the Spider
which is known to handle the URL, or a <i><span style='color:#355F7C'>Spider </span></i>object
if there is no spider found for the current URL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request - a Request object
of the last fetched page. You can modify this request using replace() or fetch
a new request (without leaving the shell) using the fetch shortcut.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response - a <i><span
style='color:#355F7C'>Response </span></i>object containing the last fetched
page</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>settings
- the current <i><span style='color:#355F7C'>Scrapy settings</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.6.4 Example of shell
session</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here’s an example of a typical shell session where we start
by scraping the <a href="https://scrapy.org/"><span style='color:#377063;
text-decoration:none'>https://scrapy.org</span></a><span style='color:#377063'>
</span>page, and then proceed to scrape the <a href="https://old.reddit.com/"><span
style='color:#377063;text-decoration:none'>https://old.reddit.com/</span></a><span
style='color:#377063'> </span>page. Finally, we modify the (Reddit) request
method to POST and re-fetch it getting an error. We end the session by typing
Ctrl-D (in Unix systems) or Ctrl-Z in Windows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Keep in mind that the data extracted here may not be the same
when you try it, as those pages are not static and could have changed by the
time you test this. The only purpose of this example is to get you familiarized
with how the Scrapy shell works.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>First, we launch the shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image219.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 488299" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Note: </b>Remember to always enclose URLs in quotes when
running the Scrapy shell from the command line, otherwise URLs containing
arguments (i.e. the &amp; character) will not work.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>On Windows, use double quotes instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=35 src="Scrapy%20Documentation_files/image222.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Then, the shell fetches the URL (using the Scrapy downloader)
and prints the list of available objects and useful shortcuts (you’ll notice
that these lines all start with the [<sub><span style='font-size:15.5pt;
line-height:103%'>s] </span></sub>prefix):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=292 src="Scrapy%20Documentation_files/image223.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=465 src="Scrapy%20Documentation_files/image224.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=247 src="Scrapy%20Documentation_files/image225.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.6.5 Invoking the
shell from spiders to inspect responses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:.5pt'>Sometimes you want to inspect the responses that are being
processed in a certain point of your spider, if only to check that response you
expect is getting there.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:115.8pt;margin-bottom:
0in;margin-left:.5pt;line-height:151%'>This can be achieved by using the scrapy.shell.inspect_response
function. Here’s an example of how you would call it from your spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=312 src="Scrapy%20Documentation_files/image226.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>When you run the spider, you will get something similar to
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2014</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>01</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>23 17</span>:<span style='color:#217F4F'>48</span>:<span
style='color:#217F4F'>31</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0400 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] DEBUG: Crawled (<span style='color:#217F4F'>200</span>)
<span style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>example<span
style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>com<span
style='color:#666666'>&gt; </span>(referer: <span style='color:#007021'>None</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:12.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895775232'><span style='left:0px;position:
absolute;left:-5px;top:-41239px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image227.gif"></span></span><span
style='color:#217F4F'>2014</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>01</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>23 17</span>:<span style='color:#217F4F'>48</span>:<span
style='color:#217F4F'>31</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0400 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] DEBUG: Crawled (<span style='color:#217F4F'>200</span>)
<span style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>example<span
style='color:#666666'>. </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>org<span
style='color:#666666'>&gt; </span>(referer: <span style='color:#007021'>None</span>)
[s] Available Scrapy objects: [s]                crawler   <span
style='color:#666666'>&lt;</span>scrapy<span style='color:#666666'>.</span>crawler<span
style='color:#666666'>.</span>Crawler <span style='color:#007021'>object </span>at
<span style='color:#217F4F'>0x1e16b50</span><span style='color:#666666'>&gt;</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image228.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.25pt;
margin-left:.5pt'>Then, you can check if the extraction code is working:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.85pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='font-size:11.0pt;line-height:111%'><img border=0 width=633 height=41
src="Scrapy%20Documentation_files/image229.gif"></span><span style='color:#C75C0A'>&gt;&gt;&gt;
</span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//h1[@class=&quot;fn&quot;]'</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Nope, it doesn’t. So you can open the response in your web
browser and see if it’s the response you were expecting:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image230.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Finally you hit Ctrl-D (or Ctrl-Z in Windows) to exit the
shell and resume the crawling:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=73 src="Scrapy%20Documentation_files/image231.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.55pt;
margin-left:.5pt'>Note that you can’t use the fetch shortcut here since the
Scrapy engine is blocked by the shell. However, after you leave the shell, the
spider will continue crawling where it stopped, as shown above.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.7 Item Pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>After an item has been scraped by a spider, it is sent to the
Item Pipeline which processes it through several components that are executed
sequentially.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Each item pipeline component (sometimes referred as just
“Item Pipeline”) is a Python class that implements a simple method. They
receive an item and perform an action over it, also deciding if the item should
continue through the pipeline or be dropped and no longer processed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Typical uses of item pipelines are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>cleansing HTML data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>validating scraped
data (checking that the items contain certain fields)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>checking for
duplicates (and dropping them)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>storing the scraped
item in a database</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.7.1 Writing your own
item pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:.5pt'>Each item pipeline component is a Python class that must
implement the following method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:-.25pt;text-align:left;line-height:104%'>process_item(<i>self</i>,
<i>item</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:198.6pt;margin-bottom:
1.65pt;margin-left:25.4pt;line-height:147%'>This method is called for every
item pipeline component. <i>item </i>is an <i><span style='color:#355F7C'>item
object</span></i>, see <i><span style='color:#355F7C'>Supporting All Item Types</span></i>.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:10.15pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'><i><span
style='color:#355F7C'>process_item() </span></i>must either: return an <i><span
style='color:#355F7C'>item object</span></i>, return a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><span
style='color:#377063'> </span>or raise a <i><span style='color:#355F7C'>DropItem
</span></i>exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Dropped items are no longer processed by further pipeline
components.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection18>

<h2 style='margin-left:47.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:46.05pt;margin-bottom:
5.5pt;margin-left:36.95pt;text-indent:73.9pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>item (<i><span style='color:#355F7C'>item object</span></i>) –
the scraped item</p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.05pt;margin-bottom:
2.0pt;margin-left:36.95pt;text-indent:73.9pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider which scraped the item Additionally, they may also implement the
following methods:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>open_spider(<i>self</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This method is called when the spider is opened.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.75pt;margin-bottom:
7.95pt;margin-left:65.45pt;text-indent:-18.65pt'><b>Parameters </b>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which was opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>close_spider(<i>self</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This method is called when the spider is closed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:182.1pt;margin-bottom:
8.35pt;margin-left:65.5pt;text-indent:-18.65pt'><b>Parameters </b>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which was closed</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>cls</i>, <i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If present, this class method is called to create a
pipeline instance from a <i><span style='color:#355F7C'>Crawler</span></i>. It
must return a new instance of the pipeline. Crawler object provides access to
all Scrapy core components like settings and signals; it is a way for pipeline
to access them and hook its functionality into Scrapy.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:47.3pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:65.95pt'>crawler (<i><span style='color:#355F7C'>Crawler </span></i>object)
– crawler that uses this pipeline</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.7.2 Item pipeline
example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Price
validation and dropping items with no prices</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.3pt;
margin-left:.5pt'>Let’s take a look at the following hypothetical pipeline that
adjusts the price attribute for those items that do not include VAT (price_excludes_vat
attribute), and drops those items which don’t contain a price:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:103.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image232.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.7.
Item Pipeline</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Write items
to a JSON lines file</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The following pipeline stores all scraped items (from all
spiders) into a single items.jsonl file, containing one item per line
serialized in JSON format:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=264 src="Scrapy%20Documentation_files/image233.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 489730" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>The purpose of JsonWriterPipeline is just to
introduce how to write item pipelines. If you really want to store all scraped
items into a JSON file you should use the <i><span style='color:#355F7C'>Feed
exports</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 489731"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Write items
to MongoDB</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In this example we’ll write items to <a
href="https://www.mongodb.com/"><span style='color:#377063;text-decoration:
none'>MongoDB</span></a><span style='color:#377063'> </span>using <a
href="https://pymongo.readthedocs.io/en/stable/"><span style='color:#377063;
text-decoration:none'>pymongo</span></a><a
href="https://pymongo.readthedocs.io/en/stable/"><span style='color:black;
text-decoration:none'>.</span></a> MongoDB address and database name are
specified in Scrapy settings; MongoDB collection is named after item class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The main point of this example is to show how to use <i><span
style='color:#355F7C'>from_crawler() </span></i>method and how to clean up the
resources properly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=306 src="Scrapy%20Documentation_files/image234.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=183 src="Scrapy%20Documentation_files/image235.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Take
screenshot of item</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This example demonstrates how to use <i><span
style='color:#355F7C'>coroutine syntax </span></i>in the <i><span
style='color:#355F7C'>process_item() </span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This item pipeline makes a request to a locally-running
instance of <a href="https://splash.readthedocs.io/en/stable/"><span
style='color:#377063;text-decoration:none'>Splash</span></a><span
style='color:#377063'> </span>to render a screenshot of the item URL. After the
request response is downloaded, the item pipeline saves the screenshot to a
file and adds the filename to the item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:29.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=545 src="Scrapy%20Documentation_files/image236.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.7.
Item Pipeline</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=103 src="Scrapy%20Documentation_files/image237.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Duplicates
filter</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>A filter that looks for duplicate items, and drops those
items that were already processed. Let’s say that our items have a unique id,
but our spider returns multiples items with the same id:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image238.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.7.3 Activating an
Item Pipeline component</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>To activate an Item Pipeline component you must add its class
to the <i><span style='color:#355F7C'>ITEM_PIPELINES </span></i>setting, like
in the following</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image239.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:.5pt'>The integer values you assign to classes in this setting
determine the order in which they run: items go through from lower valued to
higher valued classes. It’s customary to define these numbers in the 0-1000
range.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.8 Feed exports</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>One of the most frequently required features when
implementing scrapers is being able to store the scraped data properly and,
quite often, that means generating an “export file” with the scraped data
(commonly called “export feed”) to be consumed by other systems.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy provides this functionality out of the box with the
Feed Exports, which allows you to generate feeds with the scraped items, using
multiple serialization formats and storage backends.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>This page provides detailed documentation for all feed export
features. If you are looking for a step-by-step guide, check out <a
href="https://docs.zyte.com/web-scraping/guides/export/index.html#exporting-scraped-data"><span
style='color:#377063;text-decoration:none'>Zyte’s export guides</span></a><a
href="https://docs.zyte.com/web-scraping/guides/export/index.html#exporting-scraped-data"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.1 Serialization
formats</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For serializing the scraped data, the feed exports use the <i><span
style='color:#355F7C'>Item exporters</span></i>. These formats are supported
out of the box:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>JSON</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>JSON lines</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CSV</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>XML</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>But you can also extend the supported format through the <i><span
style='color:#355F7C'>FEED_EXPORTERS </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: json</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter
used: <i><span style='color:#355F7C'>JsonItemExporter</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>See <i><span
style='color:#355F7C'>this warning </span></i>if you’re using JSON with large
feeds.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JSON lines</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: jsonlines</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter
used: <i><span style='color:#355F7C'>JsonLinesItemExporter</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CSV</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter used: <i><span
style='color:#355F7C'>CsvItemExporter</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>To specify columns to
export, their order and their column names, use <i><span style='color:#355F7C'>FEED_EXPORT_FIELDS</span></i>.
Other feed exporters can also use this option, but it is important for CSV
because unlike many other export formats CSV uses a fixed header.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>XML</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: xml</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:139.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter used: <i><span
style='color:#355F7C'>XmlItemExporter</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.55pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Pickle</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: pickle</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter
used: <i><span style='color:#355F7C'>PickleItemExporter</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Marshal</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Value for the format key
in the <i><span style='color:#355F7C'>FEEDS </span></i>setting: marshal</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exporter
used: <i><span style='color:#355F7C'>MarshalItemExporter</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.2 Storages</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When using the feed exports you define where to store the
feed using one or multiple <a
href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier"><span
style='color:#377063;text-decoration:none'>URIs</span></a><span
style='color:#377063'> </span>(through the <i><span style='color:#355F7C'>FEEDS
</span></i>setting). The feed exports supports multiple storage backend types
which are defined by the URI scheme. The storages backends supported out of the
box are:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Local filesystem</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FTP</span></i></p>

<p class=MsoNormal align=left style='margin-left:24.15pt;text-align:left;
text-indent:-8.45pt'><span style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>S3 </span></i>(requires <a
href="https://github.com/boto/boto3"><span style='color:#377063;text-decoration:
none'>boto3</span></a><a href="https://github.com/boto/boto3"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Google Cloud Storage (GCS) </span></i>(requires
<a
href="https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-python"><span
style='color:#377063;text-decoration:none'>google-cloud-storage</span></a><a
href="https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-python"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Standard output</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Some storage backends may be unavailable if the required
external libraries are not available. For example, the S3 backend is only
available if the <a href="https://github.com/boto/boto3"><span
style='color:#377063;text-decoration:none'>boto3</span></a><span
style='color:#377063'> </span>library is installed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.3 Storage URI
parameters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The storage URI can also contain parameters that get replaced
when the feed is being created. These parameters are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>%(time)s - gets
replaced by a timestamp when the feed is being created</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>%(name)s - gets
replaced by the spider name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Any other named parameter gets replaced by the spider
attribute of the same name. For example, %(site_id)s would get replaced by the spider.site_id
attribute the moment the feed is being created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here are some examples to illustrate:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Store in FTP using
one directory per spider:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.5pt;
margin-bottom:5.55pt;margin-left:.5pt;text-align:center;line-height:107%'><b>– </b>ftp://user:password@ftp.example.com/scraping/feeds/%(name)s/%(time)s.json</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:16.2pt'>• Store in S3 using one directory per spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:37.35pt;text-align:left;line-height:112%'><b>– </b>s3://mybucket/scraping/feeds/%(name)s/%(time)s.json</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 493925"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note: </b><i><span
style='color:#355F7C'>Spider arguments </span></i>become spider attributes,
hence they can also be used as storage URI parameters.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 493926"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.4 Storage backends</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Local
filesystem</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The feeds are stored in the local filesystem.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>URI scheme: file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example
URI: file:///tmp/export.csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Required external
libraries: none</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.5pt'>Note that for the local filesystem storage (only) you can
omit the scheme if you specify an absolute path like /tmp/ export.csv (Unix
systems only). Alternatively you can also use a <a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Path</span></a><span
style='color:#377063'> </span>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FTP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The feeds are stored in a FTP server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>URI scheme: ftp</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example
URI: ftp://user:pass@ftp.example.com/path/to/export.csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Required external
libraries: none</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:17.8pt;margin-left:-.25pt;text-align:left;line-height:126%'>FTP
supports two different connection modes: <a
href="https://stackoverflow.com/a/1699163"><span style='color:#377063;
text-decoration:none'>active or passive</span></a><a
href="https://stackoverflow.com/a/1699163"><span style='color:black;text-decoration:
none'>.</span></a> Scrapy uses the passive connection mode by default. To use
the active connection mode instead, set the <i><span style='color:#355F7C'>FEED_STORAGE_FTP_ACTIVE
</span></i>setting to True. The default value for the overwrite key in the <i><span
style='color:#355F7C'>FEEDS </span></i>for this storage backend is: True.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:0in;text-indent:0in;line-height:94%;border:none;padding:0in'><b>Caution:       </b>The
value True in overwrite will cause you to lose the previous version of your
data.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>This storage backend uses <i><span style='color:#355F7C'>delayed
file delivery</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>S3</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The feeds are stored on <a href="https://aws.amazon.com/s3/"><span
style='color:#377063;text-decoration:none'>Amazon S3</span></a><a
href="https://aws.amazon.com/s3/"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>URI scheme: s3</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example URIs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:.65in;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>s3://mybucket/path/to/export.csv</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.1pt;margin-left:.65in;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>s3://aws_key:aws_secret@mybucket/path/to/export.csv</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Required
external libraries: <a href="https://github.com/boto/boto3"><span
style='color:#377063;text-decoration:none'>boto3</span></a><span
style='color:#377063'> </span>&gt;= 1.20.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>The AWS credentials can be passed as user/password in the
URI, or they can be passed through the following settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AWS_ACCESS_KEY_ID</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AWS_SECRET_ACCESS_KEY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AWS_SESSION_TOKEN </span></i>(only needed for <a
href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span
style='color:#377063;text-decoration:none'>temporary security credentials</span></a><a
href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>You can also define a custom ACL, custom endpoint, and region
name for exported feeds using these settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORAGE_S3_ACL</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AWS_ENDPOINT_URL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AWS_REGION_NAME</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.65pt;
margin-left:.5pt'>The default value for the overwrite key in the <i><span
style='color:#355F7C'>FEEDS </span></i>for this storage backend is: True.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:0in;text-indent:0in;line-height:94%;border:none;padding:0in'><b>Caution:       </b>The
value True in overwrite will cause you to lose the previous version of your
data.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>This storage backend uses <i><span style='color:#355F7C'>delayed
file delivery</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Google
Cloud Storage (GCS)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The feeds are stored on <a
href="https://cloud.google.com/storage/"><span style='color:#377063;text-decoration:
none'>Google Cloud Storage</span></a><a href="https://cloud.google.com/storage/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>URI scheme: gs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example URIs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:37.35pt;text-align:left;line-height:112%'><b>–
</b>gs://mybucket/path/to/export.csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Required external
libraries: <a
href="https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-python"><span
style='color:#377063;text-decoration:none'>google-cloud-storage</span></a><a
href="https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-python"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:98.45pt;margin-bottom:
.05in;margin-left:.5pt;line-height:148%'>For more information about
authentication, please refer to <a
href="https://cloud.google.com/docs/authentication"><span style='color:#377063;
text-decoration:none'>Google Cloud documentation</span></a><a
href="https://cloud.google.com/docs/authentication"><span style='color:black;
text-decoration:none'>. </span></a>You can set a <i>Project ID </i>and <i>Access
Control List (ACL) </i>through the following settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORAGE_GCS_ACL</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>GCS_PROJECT_ID</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.65pt;
margin-left:.5pt'>The default value for the overwrite key in the <i><span
style='color:#355F7C'>FEEDS </span></i>for this storage backend is: True.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:0in;text-indent:0in;line-height:94%;border:none;padding:0in'><b>Caution:       </b>The
value True in overwrite will cause you to lose the previous version of your
data.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>This storage backend uses <i><span style='color:#355F7C'>delayed
file delivery</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Standard
output</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>The feeds are written to the standard output of the Scrapy
process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>URI scheme: stdout</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example URI: stdout:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Required external
libraries: none</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Delayed
file delivery</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As indicated above, some of the described storage backends
use delayed file delivery.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These storage backends do not upload items to the feed URI as
those items are scraped. Instead, Scrapy writes items into a temporary local
file, and only once all the file contents have been written (i.e. at the end of
the crawl) is that file uploaded to the feed URI.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:23.45pt;
margin-left:.5pt'>If you want item delivery to start earlier when using one of
these storage backends, use <i><span style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT
</span></i>to split the output items in multiple files, with the specified
maximum item count per file. That way, as soon as a file reaches the maximum
item count, that file is delivered to the feed URI, allowing item delivery to
start way before the end of the crawl.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.5 Item filtering</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:.5pt'>You can filter items that you want to allow for a particular
feed by using the item_classes option in <i><span style='color:#355F7C'>feeds
options</span></i>. Only items of the specified types will be added to the
feed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The item_classes option is implemented by the <i><span
style='color:#355F7C'>ItemFilter </span></i>class, which is the default value
of the item_filter <i><span style='color:#355F7C'>feed option</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.25pt;
margin-left:.5pt'>You can create your own custom filtering class by
implementing <i><span style='color:#355F7C'>ItemFilter</span></i>’s method accepts
and taking feed_options as an argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=163 src="Scrapy%20Documentation_files/image240.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>You can assign your custom filtering class to the item_filter
<i><span style='color:#355F7C'>option of a feed</span></i>. See <i><span
style='color:#355F7C'>FEEDS </span></i>for examples.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ItemFilter</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.extensions.feedexport.ItemFilter(<i>feed_options: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This will be used by FeedExporter to decide if an item
should be allowed to be exported to a particular feed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:110.2pt;margin-bottom:
7.5pt;margin-left:65.45pt;text-indent:-18.65pt'><b>Parameters </b>feed_options <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – feed specific options
passed from FeedExporter</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:24.65pt;text-align:left;line-height:110%'>accepts(<i>item:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Return True if <i>item </i>should be exported or False otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:74.8pt;margin-bottom:
5.5pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>item (<i><span
style='color:#355F7C'>Scrapy items</span></i>) – scraped item which user wants
to check if is acceptable</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:65.95pt;text-align:left;line-height:108%'><b>Returns</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'><i>True </i>if accepted, <i>False </i>otherwise</p>

<h2 style='margin-bottom:0in'>Return type</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:123.85pt;
margin-left:82.9pt;line-height:110%'><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.6 Post-Processing</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy provides an option to activate plugins to post-process
feeds before they are exported to feed storages. In addition to using <i><span
style='color:#355F7C'>builtin plugins</span></i>, you can create your own <i><span
style='color:#355F7C'>plugins</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>These plugins can be activated through the postprocessing option
of a feed. The option must be passed a list of post-processing plugins in the
order you want the feed to be processed. These plugins can be declared either
as an import string or with the imported class of the plugin. Parameters to
plugins can be passed through the feed options. See <i><span style='color:#355F7C'>feed
options </span></i>for examples.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Built-in
Plugins</span></b></p>

<p class=MsoNormal align=left style='margin-left:24.15pt;text-align:left;
text-indent:-24.9pt;line-height:112%'>class
scrapy.extensions.postprocessing.GzipPlugin(<i>file: </i><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><i><span
style='color:#377063;text-decoration:none'>BinaryIO</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><span
style='color:black;text-decoration:none'>,</span></a> <i>feed_options: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) Compresses received
data using <a href="https://en.wikipedia.org/wiki/Gzip"><span style='color:
#377063;text-decoration:none'>gzip</span></a><a
href="https://en.wikipedia.org/wiki/Gzip"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Accepted feed_options parameters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>gzip_compresslevel</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>gzip_mtime</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>gzip_filename</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:25.4pt'>See <a
href="https://docs.python.org/3/library/gzip.html#gzip.GzipFile"><span
style='color:#377063;text-decoration:none'>gzip.GzipFile</span></a><span
style='color:#377063'> </span>for more info about parameters.</p>

<p class=MsoNormal align=left style='margin-left:24.15pt;text-align:left;
text-indent:-24.9pt;line-height:112%'>class
scrapy.extensions.postprocessing.LZMAPlugin(<i>file: </i><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><i><span
style='color:#377063;text-decoration:none'>BinaryIO</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><span
style='color:black;text-decoration:none'>,</span></a> <i>feed_options: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) Compresses received
data using <a
href="https://en.wikipedia.org/wiki/Lempel/T1/textendash%20%7B%7DZiv/T1/textendash%20%7B%7DMarkov_chain_algorithm"><span
style='color:#377063;text-decoration:none'>lzma</span></a><a
href="https://en.wikipedia.org/wiki/Lempel/T1/textendash%20%7B%7DZiv/T1/textendash%20%7B%7DMarkov_chain_algorithm"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Accepted feed_options parameters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>lzma_format</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>lzma_check</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>lzma_preset</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>lzma_filters</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 492733"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'><b>Note: </b>lzma_filters cannot be used in pypy version
7.3.1 and older.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 492734"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:25.4pt'>See <a
href="https://docs.python.org/3/library/lzma.html#lzma.LZMAFile"><span
style='color:#377063;text-decoration:none'>lzma.LZMAFile</span></a><span
style='color:#377063'> </span>for more info about parameters.</p>

<p class=MsoNormal align=left style='margin-left:24.15pt;text-align:left;
text-indent:-24.9pt;line-height:112%'>class
scrapy.extensions.postprocessing.Bz2Plugin(<i>file: </i><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><i><span
style='color:#377063;text-decoration:none'>BinaryIO</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.BinaryIO"><span
style='color:black;text-decoration:none'>,</span></a> <i>feed_options: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>) Compresses received
data using <a href="https://en.wikipedia.org/wiki/Bzip2"><span
style='color:#377063;text-decoration:none'>bz2</span></a><a
href="https://en.wikipedia.org/wiki/Bzip2"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Accepted feed_options parameters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.35pt;margin-left:.65in;text-align:left;text-indent:-8.45pt;
line-height:104%'><span style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i>bz2_compresslevel</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>See <a
href="https://docs.python.org/3/library/bz2.html#bz2.BZ2File"><span
style='color:#377063;text-decoration:none'>bz2.BZ2File</span></a><span
style='color:#377063'> </span>for more info about parameters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Custom
Plugins</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:.5pt'>Each plugin is a class that must implement the following
methods:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:293.8pt;margin-bottom:
2.5pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:127%'>__init__(<i>self</i>,
<i>file</i>, <i>feed_options</i>) Initialize the plugin.</p>

<h2 style='margin-left:47.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>file – file-like
object having at least the <i>write</i>, <i>tell </i>and <i>close </i>methods
implemented</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>feed_options <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – feed-specific <i><span
style='color:#355F7C'>options</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.65pt;margin-left:-.25pt;text-align:left;line-height:104%'>write(<i>self</i>,
<i>data</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:25.4pt'>Process and write <i>data </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>byte</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>s</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>or <a
href="https://docs.python.org/3/library/stdtypes.html#memoryview"><span
style='color:#377063;text-decoration:none'>memoryvie</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#memoryview"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>w</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#memoryview"><span
style='color:black;text-decoration:none'>)</span></a> into the plugin’s target
file.                It must return number of bytes written.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>close(<i>self
</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Clean up the plugin.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.95pt;
margin-left:25.4pt'>For example, you might want to close a file wrapper that
you might have used to compress data written into the file received in the __init__
method.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:0in;text-indent:0in;line-height:94%;border:none;padding:0in'><b>Warning:      </b>Do
not close the file from the __init__ method.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>To pass a parameter to your plugin, use <i><span
style='color:#355F7C'>feed options</span></i>. You can then access those
parameters from the __init__ method of your plugin.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.8.7 Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These are the settings used for configuring the feed exports:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEEDS </span></i>(mandatory)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORT_ENCODING</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORE_EMPTY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORT_FIELDS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORT_INDENT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORAGES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORAGE_FTP_ACTIVE</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_STORAGE_S3_ACL</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORTERS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:123.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEEDS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.1.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A dictionary in which every key is a feed URI (or a <a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Pat</span></a><a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>h</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>object)
and each value is a nested dictionary containing configuration parameters for
the specific feed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>This setting is required for enabling the feed export
feature.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=490 src="Scrapy%20Documentation_files/image242.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The following is a list of the accepted keys and the setting
that is used as a fallback value if that key is not provided for a specific
feed definition:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>format:
the <i><span style='color:#355F7C'>serialization format</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:25.4pt'>This setting is mandatory, there is no fallback value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:155%'><span
style='line-height:155%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>batch_item_count:
falls back to <i><span style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT</span></i>.
New in version 2.3.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>encoding:
falls back to <i><span style='color:#355F7C'>FEED_EXPORT_ENCODING</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fields:
falls back to <i><span style='color:#355F7C'>FEED_EXPORT_FIELDS</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item_classes:
list of <i><span style='color:#355F7C'>item classes </span></i>to export. If
undefined or empty, all items are exported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>New in version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item_filter: a <i><span
style='color:#355F7C'>filter class </span></i>to filter items to export.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:297.85pt;margin-bottom:
2.1pt;margin-left:25.4pt;line-height:151%'><i><span style='color:#355F7C'>ItemFilter
</span></i>is used be default. New in version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>indent:
falls back to <i><span style='color:#355F7C'>FEED_EXPORT_INDENT</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item_export_kwargs:
<a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><span
style='color:#377063'> </span>with keyword arguments for the corresponding <i><span
style='color:#355F7C'>item exporter class</span></i>. New in version 2.4.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>overwrite:
whether to overwrite the file if it already exists (True) or append to its
content (False). The default value depends on the <i><span style='color:#355F7C'>storage
backend</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:36.85pt;text-indent:11.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>Local filesystem</span></i>: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.9pt;
margin-left:36.85pt;text-indent:11.95pt;line-height:112%'><span
style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>FTP</span></i>: True</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 492925"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                     </span><b>Note:   </b>Some
FTP servers may not support appending to files (the APPE FTP command).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:.65in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=563 height=1 id="Group 492926"
src="Scrapy%20Documentation_files/image177.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:36.85pt;text-indent:11.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>S3</span></i>: True (appending is
not supported)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:36.85pt;text-indent:11.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>Google Cloud Storage (GCS)</span></i>:
True (appending is not supported)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.5pt;
margin-left:36.85pt;text-indent:11.95pt;line-height:149%'><span
style='line-height:149%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>Standard output</span></i>: False (overwriting
is not supported) New in version 2.4.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>store_empty: falls
back to <i><span style='color:#355F7C'>FEED_STORE_EMPTY</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>uri_params: falls
back to <i><span style='color:#355F7C'>FEED_URI_PARAMS</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>postprocessing: list
of <i><span style='color:#355F7C'>plugins </span></i>to use for
post-processing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:206.85pt;margin-bottom:
13.95pt;margin-left:25.4pt;line-height:147%'>The plugins will be used in the
order of the list passed. New in version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORT_ENCODING</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The encoding to be used for the feed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If unset or set to None (default) it uses UTF-8 for
everything except JSON output, which uses safe numeric encoding (\uXXXX sequences)
for historic reasons.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>Use utf-8 if you want UTF-8 for JSON too.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:120.95pt;
margin-left:.5pt'>Changed in version 2.8: The <i><span style='color:#355F7C'>startproject
</span></i>command now sets this setting to utf-8 in the generated settings.py</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:120.95pt;
margin-left:.5pt'>file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORT_FIELDS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:.5pt'>Use the FEED_EXPORT_FIELDS setting to define the fields to
export, their order and their output names. See <i><span style='color:#355F7C'>BaseItemExporter.fields_to_export
</span></i>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORT_INDENT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:.5pt'>Amount of spaces used to indent the output on each level. If FEED_EXPORT_INDENT
is a non-negative integer, then array elements and object members will be
pretty-printed with that indent level. An indent level of 0 (the default), or
negative, will put each item on a new line. None selects the most compact
representation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.65pt;
margin-left:.5pt'>Currently implemented only by <i><span style='color:#355F7C'>JsonItemExporter
</span></i>and <i><span style='color:#355F7C'>XmlItemExporter</span></i>, i.e.
when you are exporting to .json or .xml.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORE_EMPTY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Whether to export empty feeds (i.e. feeds with no items). If False,
and there are no items to export, no new files are created and existing files
are not modified, even if the <i><span style='color:#355F7C'>overwrite feed
option </span></i>is enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORAGES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>A dict containing additional feed storage backends supported
by your project. The keys are URI schemes and the values are paths to storage
classes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORAGE_FTP_ACTIVE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Whether to use the active connection mode when exporting
feeds to an FTP server (True) or use the passive connection mode instead (False,
default).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:.5pt;line-height:110%'>For information about FTP connection modes,
see <a href="https://stackoverflow.com/a/1699163"><span style='color:#377063;
text-decoration:none'>What is the difference between active and passive FTP?</span></a><a
href="https://stackoverflow.com/a/1699163"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORAGE_S3_ACL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: '' (empty string)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A string containing a custom ACL for feeds exported to Amazon
S3 by your project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For a complete list of available values, access the <a
href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl"><span
style='color:#377063;text-decoration:none'>Canned ACL</span></a><span
style='color:#377063'> </span>section on Amazon S3 docs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORAGES_BASE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=147 src="Scrapy%20Documentation_files/image243.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.35pt;
margin-left:.5pt'>A dict containing the built-in feed storage backends
supported by Scrapy. You can disable any of these backends by assigning None to
their URI scheme in <i><span style='color:#355F7C'>FEED_STORAGES</span></i>.
E.g., to disable the built-in FTP storage backend (without replacement), place
this in your settings.py:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image244.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORTERS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>A dict containing additional exporters supported by your
project. The keys are serialization formats and the values are paths to <i><span
style='color:#355F7C'>Item exporter </span></i>classes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORTERS_BASE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=195 src="Scrapy%20Documentation_files/image245.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.6pt;
margin-left:.5pt'>A dict containing the built-in feed exporters supported by
Scrapy. You can disable any of these exporters by assigning None to their
serialization format in <i><span style='color:#355F7C'>FEED_EXPORTERS</span></i>.
E.g., to disable the built-in CSV exporter (without replacement), place this in
your settings.py:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:72.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image246.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.8.
Feed exports</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_EXPORT_BATCH_ITEM_COUNT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.3.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If assigned an integer number higher than 0, Scrapy generates
multiple output files storing up to the specified number of items in each
output file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:.5pt'>When generating multiple output files, you must use at least
one of the following placeholders in the feed URI to indicate how the different
output file names are generated:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.2pt;
margin-left:17.55pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>%(batch_time)s - gets
replaced by a timestamp when the feed is being created (e.g. 2020-03-28T14-45-08.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.15pt;margin-left:25.4pt;text-align:left;line-height:112%'>237134)</p>

<p class=MsoNormal style='margin-left:17.55pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>%(batch_id)d
- gets replaced by the 1-based sequence number of the batch.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Use <a
href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting"><span
style='color:#377063;text-decoration:none'>printf-style string formatting</span></a><span
style='color:#377063'> </span>to alter the number format. For example, to make
the batch ID a 5-digit number by introducing leading zeroes as needed, use %(batch_id)05d
(e.g. 3 becomes 00003, 123 becomes 00123).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For instance, if your settings include:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image247.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:64.05pt;margin-bottom:
0in;margin-left:.5pt;line-height:197%'><span style='position:relative;
z-index:-1895774208'><span style='left:0px;position:absolute;left:-5px;
top:-55985px;width:633px;height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image104.gif"></span></span>And your <i><span
style='color:#355F7C'>crawl </span></i>command line is: scrapy crawl spidername
<span style='color:#666666'>-</span>o <span style='color:#4070A1'>&quot;dirname/</span><i><span
style='color:#70A1D1'>%(batch_id)d</span></i><span style='color:#4070A1'>-filename</span><i><span
style='color:#70A1D1'>%(batch_time)s</span></i><span style='color:#4070A1'>.json&quot;
</span>The command line above can generate a directory tree like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image248.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Where the first and second files contain exactly 100 items.
The last one contains 100 items or fewer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_URI_PARAMS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A string with the import path of a function to set the
parameters to apply with <a
href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting"><span
style='color:#377063;text-decoration:none'>printf-style string formatting</span></a><span
style='color:#377063'> </span>to the feed URI.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:50.55pt;margin-bottom:
0in;margin-left:.5pt;line-height:172%'>The function signature should be as
follows: scrapy.extensions.feedexport.uri_params(<i>params</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>Return a <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>of
key-value pairs to apply to the feed URI using <a
href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting"><span
style='color:#377063;text-decoration:none'>printf-style string formatting</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:47.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:74.4pt'>• params <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – default key-value pairs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:82.9pt'>Specifically:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.1pt;
margin-bottom:8.25pt;margin-left:19.2pt;text-align:center;text-indent:-9.95pt;
line-height:110%'><span style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>batch_id: ID of the file batch. See <i><span style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:92.85pt;line-height:108%'>If <i><span style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT
</span></i>is 0, batch_id is always 1.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:92.85pt'>New in version 2.3.0.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection19>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.1pt;
margin-bottom:1.75pt;margin-left:19.2pt;text-align:center;text-indent:-9.95pt;
line-height:104%'><span style='line-height:104%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><sub><span style='font-size:15.5pt;line-height:104%'>batch_time</span></sub>:
UTC date and time, in ISO format with : replaced with -.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:190.75pt;margin-bottom:
.6pt;margin-left:92.85pt;line-height:155%'>See <i><span style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT</span></i>.
New in version 2.3.0.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.1pt;
margin-bottom:7.3pt;margin-left:19.2pt;text-align:center;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>time: batch_time, with microseconds set to 0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.45pt;
margin-left:74.4pt'>• spider (<span style='color:#355F7C'>scrapy.Spider</span>)
– source spider of the feed items</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=589
 style='width:442.1pt;margin-left:25.4pt;border-collapse:collapse'>
 <tr style='height:32.1pt'>
  <td width=70 valign=top style='width:52.55pt;border:solid black 1.0pt;
  border-right:none;padding:3.3pt 5.75pt 0in 0in;height:32.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.7pt;text-align:left;text-indent:0in;
  line-height:107%'><b>Caution: </b>cated.</p>
  </td>
  <td width=519 valign=top style='width:389.55pt;border:solid black 1.0pt;
  border-left:none;padding:3.3pt 5.75pt 0in 0in;height:32.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>The function should return a new dictionary, modifying
  the received params in-place is depre-</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For example, to include the <i><span style='color:#355F7C'>name
</span></i>of the source spider in the feed URI:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Define the
following function somewhere in your project:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=57 src="Scrapy%20Documentation_files/image249.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Point <i><span
style='color:#355F7C'>FEED_URI_PARAMS </span></i>to that function in your
settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image250.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Use %(spider_name)s
in your feed URI:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image251.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:75.55pt;text-align:left;text-indent:-27.1pt;
line-height:107%'><b><span style='font-size:14.5pt;line-height:107%;color:#20435C'>3.9<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>Requests and Responses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy uses <i><span style='color:#355F7C'>Request </span></i>and
<i><span style='color:#355F7C'>Response </span></i>objects for crawling web
sites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Typically, <i><span style='color:#355F7C'>Request </span></i>objects
are generated in the spiders and pass across the system until they reach the
Downloader, which executes the request and returns a <i><span style='color:
#355F7C'>Response </span></i>object which travels back to the spider that
issued the request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Both <i><span style='color:#355F7C'>Request </span></i>and <i><span
style='color:#355F7C'>Response </span></i>classes have subclasses which add
functionality not required in the base classes. These are described below in <i><span
style='color:#355F7C'>Request subclasses </span></i>and <i><span
style='color:#355F7C'>Response subclasses</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.1 Request objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.http.Request(<i>*args: Any</i>, <i>**kwargs: Any</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Represents an HTTP request, which is usually generated in a
Spider and executed by the Downloader, thus generating a <i><span
style='color:#355F7C'>Response</span></i>.</p>

<h2 style='margin-left:47.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>url <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the URL of this request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:82.9pt'>If the URL is invalid, a <a
href="https://docs.python.org/3/library/exceptions.html#ValueError"><span
style='color:#377063;text-decoration:none'>ValueErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#ValueError"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>exception
is raised.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>callback <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Callable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>)</span></a> – the function that will
be called with the response of this request (once it’s downloaded) as its first
parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>In addition to a function, the following values are
supported:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.45pt;
margin-left:92.35pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><sub><span
style='font-size:15.5pt;line-height:103%'>None </span></sub>(default), which
indicates that the spider’s <i><span style='color:#355F7C'>parse() </span></i>method
must be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:92.35pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>NO_CALLBACK()</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.55pt;margin-left:82.9pt;text-align:left;line-height:110%'>For
more information, see <i><span style='color:#355F7C'>Passing additional data to
callback functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:82.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=486 height=1 id="Group 497634"
src="Scrapy%20Documentation_files/image252.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                                     </span><b>Note:    </b>If
exceptions are raised during processing, errback is called instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.9pt;margin-left:82.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=486 height=1 id="Group 497635"
src="Scrapy%20Documentation_files/image252.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.15pt;margin-bottom:
.45pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>method <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the HTTP method of this
request. Defaults to '<sub><span style='font-size:15.5pt;line-height:103%'>GET</span></sub>'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.15pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>meta <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – the initial values for
the <i><span style='color:#355F7C'>Request.meta </span></i>attribute. If given,
the dict passed in this parameter will be shallow copied.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.15pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>body <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>byte</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>s</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:103%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>str</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the request body. If a
string is passed, then it’s encoded as bytes using the encoding passed (which
defaults to utf-8). If body is not given, an empty bytes object is stored.
Regardless of the type of this argument, the final value stored will be a bytes
object (never a string or None).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.15pt;margin-bottom:
20.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>headers <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dic</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – the headers of this
request. The dict values can be strings (for single valued headers) or lists
(for multi-valued headers). If None is passed as value, the HTTP header will
not be sent at all.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:99.55pt;
margin-right:39.05pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.7pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Cookies
set via the Cookie header are not considered by the <i><span style='color:#355F7C'>CookiesMiddleware</span></i>.
If you need to set cookies for a request, use the <sub><span style='font-size:
15.5pt;line-height:94%'>Request.cookies </span></sub>parameter. This is a known
current limitation that is being worked on.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:14.15pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>cookies <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – the request cookies.
These can be sent in two forms.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:80.4pt'>1. Using a dict:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.4pt;margin-left:79.0pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=494 height=73 src="Scrapy%20Documentation_files/image253.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:79.0pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=494 height=234 src="Scrapy%20Documentation_files/image254.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:21.9pt;margin-bottom:
5.5pt;margin-left:82.9pt'>The latter form allows for customizing the domain and
path attributes of the cookie. This is only useful if the cookies are saved for
later requests. When some site returns cookies (in a response) those are stored
in the cookies for that domain and will be sent again in future requests.
That’s the typical behaviour of any regular web browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>Note that setting the <i><span style='color:#355F7C'>dont_merge_cookies
</span></i>key to True in request.meta causes custom cookies to be ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.3pt;
margin-left:82.9pt'>For more info see <i><span style='color:#355F7C'>CookiesMiddleware</span></i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:89.55pt;
margin-right:29.1pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Cookies
set via the <sub><span style='font-size:15.5pt;line-height:94%'>Cookie</span></sub>
header are not considered by the <i><span style='color:#355F7C'>CookiesMiddleware</span></i>.
If you need to set cookies for a request, use the <sub><span style='font-size:
15.5pt;line-height:94%'>Request.cookies</span></sub> parameter. This is a known
current limitation that is being worked on.</p>

</div>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:.4pt;margin-left:30.75pt;text-align:center;line-height:104%'>New
in version 2.6.0: Cookie values that are <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>boo</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>l</span></sub></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/functions.html#float"><span
style='color:#377063;text-decoration:none'>floa</span></a><a
href="https://docs.python.org/3/library/functions.html#float"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063'> </span></sub>or <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>in</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063'> </span></sub>are
casted to <a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>r</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>encoding <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the encoding of this
request (defaults to '<sub><span style='font-size:15.5pt;line-height:103%'>utf-8</span></sub>').
This encoding will be used to percent-encode the URL and to convert the body to
bytes (if given as a string).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>priority <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>in</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the priority of this
request (defaults to 0). The priority is used by the scheduler to define the
order used to process requests. Requests with a higher priority value will
execute earlier. Negative values are allowed in order to indicate relatively
low-priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
.1in;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dont_filter <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – indicates that this
request should not be filtered by the scheduler. This is used when you want to
perform an identical request multiple times, to ignore the duplicates filter.
Use it with care, or you will get into crawling loops. Default to False.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>errback <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Callable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>)</span></a> – a function that will be
called if any exception was raised while processing the request. This includes
pages that failed with 404 HTTP errors and such. It receives a <a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Failur</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>as first
parameter. For more information, see <i><span style='color:#355F7C'>Using
errbacks to catch exceptions in request processing </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:82.9pt'>Changed in version 2.0: The <i>callback </i>parameter is no
longer required when the <i>errback </i>parameter is specified.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
.45pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>flags <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>lis</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – Flags sent to the
request, can be used for logging or similar purposes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.2pt;margin-bottom:
5.5pt;margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>cb_kwargs <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dic</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – A dict with arbitrary
data that will be passed as keyword arguments to the Request’s callback.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>url</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A string containing the URL of this request. Keep in mind
that this attribute contains the escaped URL, so it can differ from the URL
passed in the __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This attribute is read-only. To change the URL of a Request
use <i><span style='color:#355F7C'>replace()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>method</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                      </span>A string
representing the HTTP method in the request.    This is guaranteed to be
uppercase.     Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:47.3pt;text-align:left;line-height:112%'>&quot;GET&quot;,
&quot;POST&quot;, &quot;PUT&quot;, etc</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>headers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>A dictionary-like object which contains the request
headers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>The request body as bytes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>This attribute is read-only. To change the body of a
Request use <i><span style='color:#355F7C'>replace()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.55pt;margin-left:24.65pt;text-align:left;line-height:110%'>meta
= {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:65.95pt'>A dictionary of arbitrary metadata for the request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:65.95pt'>You may extend request metadata as you see fit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:65.95pt'>Request metadata can also be accessed through the <i><span
style='color:#355F7C'>meta </span></i>attribute of a response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.5pt;margin-left:65.95pt'>To pass data from one spider callback to another,
consider using <i><span style='color:#355F7C'>cb_kwargs </span></i>instead.
However, request metadata may be the right choice in certain scenarios, such as
to maintain some debugging data across all follow-up requests (e.g. the source
URL).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.5pt;margin-left:65.95pt'>A common use of request metadata is to define
request-specific parameters for Scrapy components (extensions, middlewares,
etc.). For example, if you set dont_retry to True, <i><span style='color:#355F7C'>RetryMiddleware
</span></i>will never retry that request, even if it fails. See <i><span
style='color:#355F7C'>Request.meta special keys</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.5pt;margin-left:65.95pt'>You may also use request metadata in your custom
Scrapy components, for example, to keep request state information relevant to
your component. For example, <i><span style='color:#355F7C'>RetryMiddleware </span></i>uses
the retry_times metadata key to keep track of how many times a request has been
retried so far.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.5pt;margin-left:65.95pt'>Copying all the metadata of a previous request into
a new, follow-up request in a spider callback is a bad practice, because
request metadata may include metadata set by Scrapy components that is not
meant to be copied into other requests. For example, copying the retry_times metadata
key into follow-up requests can lower the amount of retries allowed for those
follow-up requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.5pt;margin-left:65.95pt'>You should only copy all request metadata from one
request to another if the new request is meant to replace the old request, as
is often the case when returning a request from a <i><span style='color:#355F7C'>downloader
middleware </span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:65.95pt'>Also mind that the <i><span style='color:#355F7C'>copy() </span></i>and
<i><span style='color:#355F7C'>replace() </span></i>request methods <a
href="https://docs.python.org/3/library/copy.html"><span style='color:#377063;
text-decoration:none'>shallow-copy</span></a><span style='color:#377063'> </span>request
metadata.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>cb_kwargs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.35pt'>A dictionary that contains arbitrary metadata for this
request. Its contents will be passed to the Request’s callback as keyword
arguments. It is empty for new Requests, which means by default callbacks only
get a <i><span style='color:#355F7C'>Response </span></i>object as argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:47.35pt'>This dict is <a
href="https://docs.python.org/3/library/copy.html"><span style='color:#377063;
text-decoration:none'>shallow copied</span></a><span style='color:#377063'> </span>when
the request is cloned using the copy() or replace() methods, and can also be
accessed, in your spider, from the response.cb_kwargs attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:47.35pt'>In case of a failure to process the request, this dict can
be accessed as failure.request.cb_kwargs in the request’s errback. For more
information, see <i><span style='color:#355F7C'>Accessing additional data in
errback functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:110%'>attributes:
<a href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> ...] = ('url',
'callback', 'method', 'headers', 'body', 'cookies', 'meta', 'encoding',
'priority', 'dont_filter', 'errback', 'flags',</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:24.65pt;text-align:left;line-height:110%'>'cb_kwargs')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.45pt;
margin-left:47.3pt'>A tuple of <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
containing the name of all public attributes of the class that are also keyword
parameters of the __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.7pt;
margin-left:47.3pt;line-height:108%'>Currently used by <i><span
style='color:#355F7C'>Request.replace()</span></i>, <i><span style='color:#355F7C'>Request.to_dict()
</span></i>and <i><span style='color:#355F7C'>request_from_dict()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>copy()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.4pt;
margin-left:47.3pt'>Return a new Request which is a copy of this Request.           See
also: <i><span style='color:#355F7C'>Passing additional data to callback
functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:66.75pt;text-align:left;text-indent:-41.85pt;
line-height:104%'>replace<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><span
style='font-size:14.5pt;line-height:104%'>[</span><i>url</i>, <i>method</i>, <i>headers</i>,
<i>body</i>, <i>cookies</i>, <i>meta</i>, <i>flags</i>, <i>encoding</i>, <i>priority</i>,
<i>dont_filter</i>, <i>callback</i>, <i>errback</i>, <i>cb_kwargs</i><span
style='font-size:14.5pt;line-height:104%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:47.3pt'>Return a Request object with the same members, except for
those members given new values by whichever keyword arguments are specified.
The <i><span style='color:#355F7C'>Request.cb_kwargs </span></i>and <i><span
style='color:#355F7C'>Request.meta </span></i>attributes are shallow copied by
default (unless new values are given as arguments). See also <i><span
style='color:#355F7C'>Passing additional data to callback functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>classmethod
from_curl<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>curl_command:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>ignore_unknown_options:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>, <i>**kwargs: Any</i>)<span
style='font-family:"Cambria",serif'>&#8594;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.3pt;
margin-left:140.5pt'>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Create a Request object from a string containing a <a
href="https://curl.se/"><span style='color:#377063;text-decoration:none'>cURL</span></a><span
style='color:#377063'> </span>command. It populates the HTTP method, the URL,
the headers, the cookies and the body. It accepts the same arguments as the <i><span
style='color:#355F7C'>Request </span></i>class, taking preference and
overriding the values of the same arguments contained in the cURL command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.05pt;
margin-left:47.3pt'>Unrecognized options are ignored by default. To raise an
error when finding unknown options call this method by passing ignore_unknown_options=False.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:.75in;
margin-right:3.2pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.7pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Using
<i><span style='color:#355F7C'>from_curl() </span></i>from <i><span
style='color:#355F7C'>Request </span></i>subclasses, such as <i><span
style='color:#355F7C'>JsonRequest</span></i>, or XmlRpcRequest, as well as
having <i><span style='color:#355F7C'>downloader middlewares </span></i>and <i><span
style='color:#355F7C'>spider middlewares </span></i>enabled, such</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:117%;border:none;padding:0in'>as <i><span style='color:#355F7C'>DefaultHeadersMiddleware</span></i>,
<i><span style='color:#355F7C'>UserAgentMiddleware</span></i>, or <i><span
style='color:#355F7C'>HttpCompressionMiddleware</span></i>, may modify the <i><span
style='color:#355F7C'>Request </span></i>object.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>To translate a cURL command into a Scrapy request, you may
use <a href="https://michael-shub.github.io/curl2scrapy/"><span
style='color:#377063;text-decoration:none'>curl2scrapy</span></a><a
href="https://michael-shub.github.io/curl2scrapy/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:172.55pt;margin-bottom:
5.5pt;margin-left:.65in;text-indent:-21.9pt;line-height:125%'>to_dict<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>*</i>, <i>spider: </i><span
style='color:#355F7C'>Spider </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>] </span></a>Return a dictionary
containing the Request’s data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Use <i><span style='color:#355F7C'>request_from_dict() </span></i>to
convert back into a Request object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:47.3pt'>If a spider is given, this method will try to find out the
name of the spider methods used as callback and errback and include them in the
output dict, raising an exception if they cannot be found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
functions related to requests</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.7pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.http.request.NO_CALLBACK(<i>*args:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/typing.html#typing.NoReturn"><span
style='color:#377063;text-decoration:none'>NoReturn</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:123%'>When assigned to the callback parameter of
<i><span style='color:#355F7C'>Request</span></i>, it indicates that the
request is not meant to have a spider callback at all. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image255.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:25.4pt'>This value should be used by <i><span style='color:#355F7C'>components
</span></i>that create and handle their own requests, e.g. through scrapy.core.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:25.4pt'>engine.ExecutionEngine.download(), so that downloader
middlewares handling such requests can treat them differently from requests
intended for the <i><span style='color:#355F7C'>parse() </span></i>callback.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.7pt;margin-left:24.15pt;text-align:left;text-indent:-24.9pt;
line-height:135%'>scrapy.utils.request.request_from_dict(<i>d: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a>, <i>*</i>, <i>spider:
</i><span style='color:#355F7C'>Spider </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><i><span style='color:#355F7C'>Request </span></i>Create a Request object
from a dict.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:25.4pt'>If a spider is given, it will try to resolve the callbacks
looking at the spider for methods with the same name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Passing
additional data to callback functions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:125%'>The callback of a request is a function that
will be called when the response of that request is downloaded. The callback
function will be called with the downloaded <i><span style='color:#355F7C'>Response
</span></i>object as its first argument. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image256.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>In some cases you may be interested in passing arguments to
those callback functions so you can receive the arguments later, in the second
callback. The following example shows how to achieve this by using the <i><span
style='color:#355F7C'>Request.cb_kwargs </span></i>attribute:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:23.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=264 src="Scrapy%20Documentation_files/image257.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.65pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b><i><span
style='color:#355F7C'>Request.cb_kwargs </span></i>was introduced in version 1.7.
Prior to that, using <i><span style='color:#355F7C'>Request.meta </span></i>was
recommended for passing information around callbacks. After <sub><span
style='font-size:15.5pt;line-height:94%'>1.7</span></sub>, <i><sub><span
style='font-size:15.5pt;line-height:94%;color:#355F7C'>Request.cb_kwargs</span></sub></i><i><span
style='color:#355F7C'> </span></i>became the preferred way for handling user
information, leaving <i><sub><span style='font-size:15.5pt;line-height:94%;
color:#355F7C'>Request.meta</span></sub></i><i><span style='color:#355F7C'> </span></i>for
communication with components like middlewares and extensions.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using
errbacks to catch exceptions in request processing</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The errback of a request is a function that will be called
when an exception is raise while processing it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>It receives a <a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Failur</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>as first
parameter and can be used to track connection establishment timeouts, DNS
errors etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here’s an example spider logging all errors and catching some
specific errors if needed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=306 src="Scrapy%20Documentation_files/image258.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=549 src="Scrapy%20Documentation_files/image259.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Accessing
additional data in errback functions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.8pt;
margin-left:.5pt'>In case of a failure to process the request, you may be
interested in accessing arguments to the callback functions so you can process
further based on the arguments in the errback. The following example shows how
to achieve this by using Failure.request.cb_kwargs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=194 src="Scrapy%20Documentation_files/image260.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=135 src="Scrapy%20Documentation_files/image261.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Request
fingerprints</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are some aspects of scraping, such as filtering out
duplicate requests (see <i><span style='color:#355F7C'>DUPEFILTER_CLASS</span></i>)
or caching responses (see <i><span style='color:#355F7C'>HTTPCACHE_POLICY</span></i>),
where you need the ability to generate a short, unique identifier from a <i><span
style='color:#355F7C'>Request </span></i>object: a request fingerprint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You often do not need to worry about request fingerprints,
the default request fingerprinter works for most projects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>However, there is no universal way to generate a unique
identifier from a request, because different situations require comparing
requests differently. For example, sometimes you may need to compare URLs
case-insensitively, include URL fragments, exclude certain URL query
parameters, include some or all headers, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.5pt'>To change how request fingerprints are built for your
requests, use the <i><span style='color:#355F7C'>REQUEST_FINGERPRINTER_CLASS </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REQUEST_FINGERPRINTER_CLASS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.55pt;
margin-left:.5pt'>New in version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:210.65pt;margin-bottom:
1.6pt;margin-left:.5pt;line-height:156%'>Default: <i><span style='color:#355F7C'>scrapy.utils.request.RequestFingerprinter
</span></i>A <i><span style='color:#355F7C'>request fingerprinter class </span></i>or
its import path.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.utils.request.RequestFingerprinter(<i>crawler: </i><span
style='color:#355F7C'>Crawler </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:25.4pt'>Default fingerprinter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>It takes into account a canonical version (<a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.url.canonicalize_url"><span
style='color:#377063;text-decoration:none'>w3lib.url.canonicalize_url()</span></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.url.canonicalize_url"><span
style='color:black;text-decoration:none'>)</span></a> of <i><span
style='color:#355F7C'>request.url </span></i>and the values of <i><span
style='color:#355F7C'>request.method </span></i>and <i><span style='color:#355F7C'>request.body</span></i>.
It then generates an <a href="https://en.wikipedia.org/wiki/SHA-1"><span
style='color:#377063;text-decoration:none'>SHA1</span></a><span
style='color:#377063'> </span>hash.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.45pt;margin-left:25.4pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.4pt;margin-left:25.4pt;text-align:left;line-height:112%'>REQUEST_FINGERPRINTER_IMPLEMENTATION.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Writing
your own request fingerprinter</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:.5pt'>A request fingerprinter is a class that must implement the
following method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.45pt;margin-left:-.25pt;text-align:left;line-height:104%'>fingerprint(<i>self</i>,
<i>request</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:211.95pt;margin-bottom:
0in;margin-left:25.4pt;line-height:149%'>Return a <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>byte</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><sub><span
style='font-size:15.5pt;line-height:149%;color:#377063;text-decoration:none'>s</span></sub></a><sub><span
style='font-size:15.5pt;line-height:149%;color:#377063'> </span></sub>object
that uniquely identifies <i>request</i>. See also <i><span style='color:#355F7C'>Request
fingerprint restrictions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:163.95pt;
margin-bottom:.2pt;margin-left:-.75pt;text-align:left;text-indent:.65in;
line-height:126%'><b>Parameters </b>request (<span style='color:#355F7C'>scrapy.http.Request</span>)
– request to fingerprint Additionally, it may also implement the following
method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>cls</i>, <i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If present, this class method is called to create a request
fingerprinter instance from a <i><span style='color:#355F7C'>Crawler </span></i>object.
It must return a new instance of the request fingerprinter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'><i>crawler </i>provides access to all Scrapy core
components like settings and signals; it is a way for the request fingerprinter
to access them and hook its functionality into Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:116.3pt;margin-bottom:
7.5pt;margin-left:65.45pt;text-indent:-18.65pt'><b>Parameters </b>crawler (<i><span
style='color:#355F7C'>Crawler </span></i>object) – crawler that uses this
request fingerprinter</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:2.65pt;margin-left:-.25pt;text-align:left;line-height:126%'>The <i><span
style='color:#355F7C'>fingerprint() </span></i>method    of            the          default    request   fingerprinter,         <i><span
style='color:#355F7C'>scrapy.utils.request. RequestFingerprinter</span></i>,     uses
<i><span style='color:#355F7C'>scrapy.utils.request.fingerprint() </span></i>with              its            default    parameters.            For
some common use cases you can use <i><span style='color:#355F7C'>scrapy.utils.request.fingerprint()
</span></i>as well in your <i><span style='color:#355F7C'>fingerprint() </span></i>method
implementation: scrapy.utils.request.fingerprint(<i>request: </i><span
style='color:#355F7C'>Request</span>, <i>*</i>, <i>include_headers: Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>keep_fragments: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>bytes </span></a>Return the request
fingerprint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.3pt;
margin-left:25.4pt;line-height:129%'>The request fingerprint is a hash that
uniquely identifies the resource the request points to. For example, take the
following two urls: http://www.example.com/query?id=111&amp;cat=222, http://www.example.com/
query?cat=222&amp;id=111.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Even though those are two different URLs both point to the
same resource and are equivalent (i.e. they should return the same response).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Another example are cookies used to store session ids.
Suppose the following page is only accessible to authenticated users: http://www.example.com/members/offers.html.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Lots of sites use a cookie to store the session id, which
adds a random component to the HTTP Request and thus should be ignored when
calculating the fingerprint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>For this reason, request headers are ignored by default
when calculating the fingerprint. If you want to include specific headers use
the include_headers argument, which is a list of Request headers to include.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Also, servers usually ignore fragments in urls when
handling requests, so they are also ignored by default when calculating the
fingerprint. If you want to include them, set the keep_fragments argument to
True (for instance when handling requests with a headless browser).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For example, to take the value of a request header named X-ID
into account:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image262.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:.5pt'>You can also write your own fingerprinting logic from
scratch.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>However, if you do not use <i><span style='color:#355F7C'>scrapy.utils.request.fingerprint()</span></i>,
make sure you use <a
href="https://docs.python.org/3/library/weakref.html#weakref.WeakKeyDictionary"><span
style='color:#377063;text-decoration:none'>WeakKeyDictionary</span></a><span
style='color:#377063'> </span>to cache request fingerprints:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Caching saves CPU by
ensuring that fingerprints are calculated only once per request, and not once
per Scrapy component that needs the fingerprint of a request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Using <a
href="https://docs.python.org/3/library/weakref.html#weakref.WeakKeyDictionary"><span
style='color:#377063;text-decoration:none'>WeakKeyDictionar</span></a><a
href="https://docs.python.org/3/library/weakref.html#weakref.WeakKeyDictionary"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>y</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>saves
memory by ensuring that request objects do not stay in memory forever just
because you have references to them in your cache dictionary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>For example, to take into account only the URL of a request,
without any prior URL canonicalization or taking the request method or body
into account:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image263.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:.5pt'>If you need to be able to override the request fingerprinting
for arbitrary requests from your spider callbacks, you may implement a request
fingerprinter that reads fingerprints from <i><span style='color:#355F7C'>request.meta
</span></i>when available, and then falls back to <i><span style='color:#355F7C'>scrapy.utils.request.fingerprint()</span></i>.
For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137 src="Scrapy%20Documentation_files/image264.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.05pt;
margin-left:.5pt'>If you need to reproduce the same fingerprinting algorithm as
Scrapy 2.6 without using the deprecated '<sub><span style='font-size:15.5pt;
line-height:103%'>2.6</span></sub>' value of the REQUEST_FINGERPRINTER_IMPLEMENTATION
setting, use the following request fingerprinter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=274 src="Scrapy%20Documentation_files/image265.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image266.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Request
fingerprint restrictions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy components that use request fingerprints may impose
additional restrictions on the format of the fingerprints that your <i><span
style='color:#355F7C'>request fingerprinter </span></i>generates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.4pt;
margin-left:.5pt'>The following built-in Scrapy components have such
restrictions:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:155%'><span
style='line-height:155%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.extensions.httpcache.FilesystemCacheStorage </span></i>(default
value of <i><span style='color:#355F7C'>HTTPCACHE_STORAGE</span></i>) Request
fingerprints must be at least 1 byte long.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:25.4pt'>Path and filename length limits of the file system of <i><span
style='color:#355F7C'>HTTPCACHE_DIR </span></i>also apply. Inside <i><span
style='color:#355F7C'>HTTPCACHE_DIR</span></i>, the following directory
structure is created:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:37.35pt;text-align:left;line-height:112%'><b>–
</b>Spider.name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:55.85pt'>&#8727; first byte of a request fingerprint as hexadecimal</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:75.4pt'>· fingerprint as hexadecimal</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:75.4pt'>· filenames up to 16 characters long</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:25.4pt'>For example, if a request fingerprint is made of 20 bytes
(default), <i><span style='color:#355F7C'>HTTPCACHE_DIR </span></i>is '/home/user/project/
.scrapy/httpcache', and the name of your spider is 'my_spider' your file system
must support a file path like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:112%'><span
style='color:#666666'>/</span>home<span style='color:#666666'>/</span>user<span
style='color:#666666'>/</span>project<span style='color:#666666'>/.</span>scrapy<span
style='color:#666666'>/</span>httpcache<span style='color:#666666'>/</span>my_spider<span
style='color:#666666'>/</span><span style='color:#217F4F'>01</span><span
style='color:#666666'>/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.05pt;margin-left:28.05pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895773184'><span style='left:0px;position:
absolute;left:29px;top:-65758px;width:600px;height:1px'><img width=600
height=1 src="Scrapy%20Documentation_files/image181.gif"></span></span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#217F4F'>0123456789</span>abcdef0123456789abcdef01234567<span
style='color:#666666'>/</span>response_headers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.extensions.httpcache.DbmCacheStorage</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:25.4pt'>The underlying DBM implementation must support keys as long
as twice the number of bytes of a request fingerprint, plus 5. For example, if
a request fingerprint is made of 20 bytes (default), 45-character-long keys
must be supported.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.2 Request.meta
special keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt;line-height:123%'>The <i><span style='color:#355F7C'>Request.meta
</span></i>attribute can contain any arbitrary data, but there are some special
keys recognized by Scrapy and its built-in extensions. Those are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>autothrottle_dont_adjust_delay</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>bindaddress</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>cookiejar</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dont_cache</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dont_merge_cookies</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dont_obey_robotstxt</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dont_redirect</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dont_retry</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>download_fail_on_dataloss</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>download_latency</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>download_maxsize</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>download_warnsize</span></i></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:8.15pt;margin-left:
16.2pt;line-height:108%'><a name="_Toc600034"><span style='color:black;
font-weight:normal'>• </span></a><i><span style='color:#355F7C;font-weight:
normal'>download_timeout</span></i></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ftp_password (See <i><span
style='color:#355F7C'>FTP_PASSWORD </span></i>for more info)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ftp_user (See <i><span
style='color:#355F7C'>FTP_USER </span></i>for more info)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>handle_httpstatus_all</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>handle_httpstatus_list</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>max_retry_times</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>proxy</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>redirect_reasons</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>redirect_urls</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>referrer_policy</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>bindaddress</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:96.3pt;margin-bottom:
0in;margin-left:.5pt;line-height:262%'>The IP of the outgoing IP address to use
for the performing the request. <b><span style='color:#20435C'>download_timeout</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:263%'>The amount of time (in secs) that the
downloader will wait before timing out. See also: <i><span style='color:#355F7C'>DOWNLOAD_TIMEOUT</span></i>.
<b><span style='color:#20435C'>download_latency</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:.5pt;line-height:152%'>The amount of time spent to fetch the
response, since the request has been started, i.e. HTTP message sent over the
network. This meta key only becomes available when the response has been
downloaded. While most other meta keys are used to control Scrapy behavior,
this one is supposed to be read-only. <b><span style='color:#20435C'>download_fail_on_dataloss</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:58.8pt;margin-bottom:
0in;margin-left:.5pt;line-height:265%'>Whether or not to fail on broken
responses. See: <i><span style='color:#355F7C'>DOWNLOAD_FAIL_ON_DATALOSS</span></i>.
<b><span style='color:#20435C'>max_retry_times</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The meta key is used set retry times per request. When
initialized, the <i><span style='color:#355F7C'>max_retry_times </span></i>meta
key takes higher precedence over the <i><span style='color:#355F7C'>RETRY_TIMES
</span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.7pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.3 Stopping the
download of a Response</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Raising a <i><span style='color:#355F7C'>StopDownload </span></i>exception
from a handler for the <i><span style='color:#355F7C'>bytes_received </span></i>or
<i><span style='color:#355F7C'>headers_received </span></i>signals will stop
the download of a given response. See the following example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=344 src="Scrapy%20Documentation_files/image267.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.45pt;
margin-left:.5pt'>which produces the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2020</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>05</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 17</span>:<span style='color:#217F4F'>26</span>:<span
style='color:#217F4F'>12 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Spider opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895772160'><span
style='left:0px;position:absolute;left:-5px;top:-67453px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image268.gif"></span></span><span
style='color:#217F4F'>2020</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>05</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 17</span>:<span style='color:#217F4F'>26</span>:<span
style='color:#217F4F'>12 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>logstats] INFO: Crawled <span style='color:#217F4F'>0
</span>pages (at <span style='color:#217F4F'>0 </span>pages<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>),<span
style='color:red'>&#9251; </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>scraped
<span style='color:#217F4F'>0 </span>items (at <span style='color:#217F4F'>0 </span>items<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2020</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>05</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 17</span>:<span style='color:#217F4F'>26</span>:<span
style='color:#217F4F'>13 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>downloader<span style='color:#666666'>.</span>handlers<span
style='color:#666666'>.</span>http11] DEBUG: Download stopped <span
style='color:#007021'>for</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>docs<span
style='color:#666666'>.</span>scrapy<span style='color:#666666'>.</span>org<span
style='color:#666666'>/</span>en<span style='color:#666666'>/</span>latest<span
style='color:#666666'>/&gt; </span><span style='color:#007021'>from </span><span
style='color:#0D85B5'>signal </span>handler StopSpider<span style='color:#666666'>.</span>on_bytes_</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>received</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2020</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>05</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>19 17</span>:<span
style='color:#217F4F'>26</span>:<span style='color:#217F4F'>13 </span>[scrapy<span
style='color:#666666'>.</span>core<span style='color:#666666'>.</span>engine]
DEBUG: Crawled (<span style='color:#217F4F'>200</span>) <span style='color:
#666666'>&lt;</span>GET https:<span style='color:#666666'>//</span>docs<span
style='color:#666666'>.</span>scrapy<span style='color:#666666'>. </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>org<span
style='color:#666666'>/</span>en<span style='color:#666666'>/</span>latest<span
style='color:#666666'>/&gt; </span>(referer: <span style='color:#007021'>None</span>)
[<span style='color:#4070A1'>'download_stopped'</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2020</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>05</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 17</span>:<span style='color:#217F4F'>26</span>:<span
style='color:#217F4F'>13 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>scraper] DEBUG: Scraped <span style='color:#007021'>from
</span><span style='color:#666666'>&lt;</span><span style='color:#217F4F'>200 </span>https:<span
style='color:#666666'>//</span>docs<span style='color:#666666'>.</span>scrapy<span
style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>org<span
style='color:#666666'>/</span>en<span style='color:#666666'>/</span>latest<span
style='color:#666666'>/&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:39.05pt;
margin-bottom:11.9pt;margin-left:-.25pt;text-align:left;line-height:112%'>{<span
style='color:#4070A1'>'len'</span>: <span style='color:#217F4F'>279</span>, <span
style='color:#4070A1'>'last_chars'</span>: <span style='color:#4070A1'>'dth,
initial-scale=1.0&quot;&gt;\n \n &lt;title&gt;Scr'</span>} <span
style='color:#217F4F'>2020</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>05</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>19 17</span>:<span style='color:#217F4F'>26</span>:<span
style='color:#217F4F'>13 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Closing spider (finished)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default, resulting responses are handled by their
corresponding errbacks. To call their callback instead, like in this example,
pass fail=False to the <i><span style='color:#355F7C'>StopDownload </span></i>exception.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.4 Request
subclasses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>Here is the list of built-in <i><span style='color:#355F7C'>Request
</span></i>subclasses. You can also subclass it to implement your own custom
functionality.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FormRequest
objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>The FormRequest class extends the base <i><span
style='color:#355F7C'>Request </span></i>with functionality for dealing with
HTML forms. It uses <a href="https://lxml.de/lxmlhtml.html#forms"><span
style='color:#377063;text-decoration:none'>lxml.html </span></a><a
href="https://lxml.de/lxmlhtml.html#forms"><span style='color:#377063;
text-decoration:none'>forms</span></a><span style='color:#377063'> </span>to
pre-populate form fields with form data from <i><span style='color:#355F7C'>Response
</span></i>objects.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:7.8pt;margin-left:-.25pt;text-align:left;line-height:188%'>class
scrapy.http.request.form.FormRequest class scrapy.http.FormRequest</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.FormRequest(<i>url</i><span style='font-size:14.5pt;line-height:110%'>[</span>,
<i>formdata</i>, <i>...</i><span style='font-size:14.5pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The FormRequest class adds a new keyword parameter to the __init__
method. The remaining arguments are the same as for the <i><span
style='color:#355F7C'>Request </span></i>class and are not documented here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>formdata <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Iterable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable"><span
style='color:black;text-decoration:none'>)</span></a> – is a dictionary (or
iterable of (key, value) tuples) containing HTML Form data which will be
url-encoded and assigned to the body of the request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:11.65pt;
margin-left:25.4pt'>The FormRequest objects support the following class method
in addition to the standard <i><span style='color:#355F7C'>Request </span></i>methods:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:4.5pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:107%'>classmethod
FormRequest.from_response(<i>response</i><span style='font-size:14.5pt;
line-height:107%'>[</span>, <i>formname=None</i>, <i>formid=None</i>, <i>formnumber=0</i>,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:173.85pt'><i>formdata=None</i>, <i>formxpath=None</i>,
<i>formcss=None</i>, <i>clickdata=None</i>, <i>dont_click=False</i>, <i>...</i><span
style='font-size:14.5pt;line-height:103%'>]</span>) Returns a new FormRequest object
with its form field values pre-populated with those found in the HTML &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>form&gt; </span></sub>element
contained in the given response. For an example see <i><span style='color:#355F7C'>Using
FormRequest.from_response() to simulate a user login</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.85pt;
margin-left:50.3pt'>The policy is to automatically simulate a click, by
default, on any form control that looks clickable, like a &lt;input
type=&quot;submit&quot;&gt;. Even though this is quite convenient, and often
the desired behaviour, sometimes it can cause problems which could be hard to
debug. For example, when working with forms that are filled and/or submitted
using javascript, the default from_response() behaviour may not be the most
appropriate. To disable this behaviour you can set the dont_click argument to True.
Also, if you want to change the control clicked (instead of disabling it) you
can also use the clickdata argument.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:57.0pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.65pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Using
this method with select elements which have leading or trailing whitespace in
the option values will not work due to a <a
href="https://bugs.launchpad.net/lxml/+bug/1665241"><span style='color:#377063;
text-decoration:none'>bug in lxml</span></a><a
href="https://bugs.launchpad.net/lxml/+bug/1665241"><span style='color:black;
text-decoration:none'>,</span></a> which should be fixed in lxml 3.8 and above.</p>

</div>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response containing a
HTML form which will be used to pre-populate the form fields</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formname <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – if given, the form with
name attribute set to this value will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formid <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – if given, the form with
id attribute set to this value will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formxpath <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – if given, the first
form that matches the xpath will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formcss <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – if given, the first
form that matches the css selector will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formnumber <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>in</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the number of form to
use, when the response contains multiple forms. The first one (and also the
default) is 0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:107.3pt;text-indent:-8.45pt;line-height:90%'><span
style='line-height:90%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>formdata
<a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dic</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><sub><span
style='font-size:15.5pt;line-height:90%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – fields to override in
the form data. If a field was already present in the response &lt;<sub><span
style='font-size:15.5pt;line-height:90%'>form&gt; </span></sub>element, its
value is overridden by the one passed in this parameter. If a value passed in
this parameter is None, the field will not be included in the request, even if
it was present in the response &lt;<sub><span style='font-size:15.5pt;
line-height:90%'>form&gt; </span></sub>element.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>clickdata <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dic</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – attributes to lookup
the control clicked. If it’s not given, the form data will be submitted
simulating a click on the first clickable element. In addition to html
attributes, the control can be identified by its zero-based index relative to
other submittable inputs inside the form, via the nr attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dont_click <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – If True, the form data
will be submitted without clicking in any element.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:50.3pt'>The other parameters of this class method are passed
directly to the FormRequest__init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Request
usage examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using
FormRequest to send data via HTTP POST</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.4pt;
margin-left:.5pt'>If you want to simulate a HTML Form POST in your spider and
send a couple of key-value fields, you can return a FormRequest object (from
your spider) like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image269.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Using
FormRequest.from_response() to simulate a user login</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>It is usual for web sites to provide pre-populated form
fields through &lt;<sub><span style='font-size:15.5pt;line-height:103%'>input
type=&quot;hidden&quot;&gt; </span></sub>elements, such as session related data
or authentication tokens (for login pages). When scraping, you’ll want these
fields to be automatically pre-populated and only override a couple of them,
such as the user name and password. You can use the FormRequest.from_response()
method for this job. Here’s an example spider which uses it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=258 src="Scrapy%20Documentation_files/image270.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=199 src="Scrapy%20Documentation_files/image271.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JsonRequest</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:11.85pt;
margin-left:.5pt'>The JsonRequest class extends the base <i><span
style='color:#355F7C'>Request </span></i>class with functionality for dealing
with JSON requests.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.http.JsonRequest(<i>url</i><span style='font-size:14.5pt;line-height:
104%'>[</span>, <i>... data</i>, <i>dumps_kwargs</i><span style='font-size:
14.5pt;line-height:104%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>JsonRequest </span></i>class
adds two new keyword parameters to the __init__ method. The remaining arguments
are the same as for the <i><span style='color:#355F7C'>Request </span></i>class
and are not documented here.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.4pt;margin-left:25.4pt;text-align:left;line-height:112%'>Using
the <i><span style='color:#355F7C'>JsonRequest </span></i>will set the Content-Type
header to application/json and Accept header to application/json,
text/javascript, */*; q=0.01</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:12.8pt;margin-bottom:
.1in;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>data <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>objec</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – is any JSON
serializable object that needs to be JSON encoded and assigned to body. if <i><span
style='color:#355F7C'>Request.body </span></i>argument is provided this
parameter will be ignored. if <i><span style='color:#355F7C'>Request.body </span></i>argument
is not provided and data argument is provided <i><span style='color:#355F7C'>Request.
method </span></i>will be set to 'POST' automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.8pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dumps_kwargs <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – Parameters that will be
passed to underlying <a
href="https://docs.python.org/3/library/json.html#json.dumps"><span
style='color:#377063;text-decoration:none'>json.dumps() </span></a>method which
is used to serialize data into JSON format.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:24.65pt;text-align:left;line-height:110%'>attributes:
<a href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> ...] = ('url',
'callback', 'method', 'headers', 'body', 'cookies', 'meta', 'encoding',
'priority', 'dont_filter', 'errback', 'flags',</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.45pt;margin-left:24.65pt;text-align:left;line-height:110%'>'cb_kwargs',
'dumps_kwargs')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.45pt;
margin-left:50.3pt'>A tuple of <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
containing the name of all public attributes of the class that are also keyword
parameters of the __init__ method.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:19.35pt;margin-left:9.75pt;text-align:center;line-height:110%'>Currently
used by <i><span style='color:#355F7C'>Request.replace()</span></i>, <i><span
style='color:#355F7C'>Request.to_dict() </span></i>and <i><span
style='color:#355F7C'>request_from_dict()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JsonRequest
usage example</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=115 src="Scrapy%20Documentation_files/image272.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.5 Response objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.http.Response(<i>*args: Any</i>, <i>**kwargs: Any</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>An object that represents an HTTP response, which is
usually downloaded (by the Downloader) and fed to the Spiders for processing.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>url <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the URL of this
response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>status <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>in</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the HTTP status of the
response. Defaults to 200.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>headers <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dic</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – the headers of this
response. The dict values can be strings (for single valued headers) or lists
(for multi-valued headers).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>body <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – the response body. To
access the decoded text as a string, use response. text from an encoding-aware <i><span
style='color:#355F7C'>Response subclass</span></i>, such as <i><span
style='color:#355F7C'>TextResponse</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>flags <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – is a list containing
the initial values for the <i><span style='color:#355F7C'>Response.flags </span></i>attribute.
If given, the list will be shallow copied.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (<i>scrapy.Request</i>)
– the initial value of the <i><span style='color:#355F7C'>Response.request </span></i>attribute.
This represents the <i><span style='color:#355F7C'>Request </span></i>that
generated this response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>certificate <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><i><span
style='color:#377063;text-decoration:none'>twisted.internet.ssl.Certificate</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><span
style='color:black;text-decoration:none'>)</span></a> – an object representing
the server’s SSL certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ip_address <a
href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address"><span
style='color:#377063;text-decoration:none'>ipaddress.IPv4Address</span></a><span
style='color:#377063'> </span>or <a
href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Address"><span
style='color:#377063;text-decoration:none'>ipaddress.IPv6Address</span></a><a
href="https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv6Address"><span
style='color:black;text-decoration:none'>)</span></a> – The IP address of the
server from which the Response originated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>protocol <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – The protocol that was
used to download the response. For instance: “HTTP/1.0”, “HTTP/1.1”, “h2”</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:25.4pt'>New in version 2.0.0: The certificate parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:234.6pt;
margin-bottom:.2pt;margin-left:25.4pt;text-align:left;line-height:153%'>New in
version 2.1.0: The ip_address parameter. New in version 2.5.0: The protocol parameter.
url</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>A string containing the URL of the response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This attribute is read-only. To change the URL of a
Response use <i><span style='color:#355F7C'>replace()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>status</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>An integer representing the HTTP status of the response.
Example: 200, 404.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>headers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:50.3pt'>A dictionary-like object which contains the response
headers. Values can be accessed using get() to return the first header value
with the specified name or getlist() to return all header values with the
specified name. For example, this call will give you all cookies in the
headers:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:10.85pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=25 src="Scrapy%20Documentation_files/image273.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>The response body as bytes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If you want the body as a string, use <i><span
style='color:#355F7C'>TextResponse.text </span></i>(only available in <i><span
style='color:#355F7C'>TextResponse </span></i>and subclasses).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This attribute is read-only. To change the body of a
Response use <i><span style='color:#355F7C'>replace()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>request</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:32.9pt;text-align:center;line-height:104%'>The
<i><span style='color:#355F7C'>Request </span></i>object that generated this
response. This attribute is assigned in the Scrapy engine, after the response
and the request have passed through all <i><span style='color:#355F7C'>Downloader
Middlewares</span></i>. In particular, this means that:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>HTTP
redirections will create a new request from the request before redirection. It
has the majority of the same metadata and original request attributes and gets
assigned to the redirected response instead of the propagation of the original
request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Response.request.url
doesn’t always equal Response.url</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>This attribute
is only available in the spider code, and in the <i><span style='color:#355F7C'>Spider
Middlewares</span></i>, but not in Downloader Middlewares (although you have
the Request available there by other means) and handlers of the <i><span
style='color:#355F7C'>response_downloaded </span></i>signal.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:24.65pt;text-align:left;line-height:110%'>meta</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.6pt;
margin-left:50.3pt;line-height:136%'>A shortcut to the <i><span
style='color:#355F7C'>Request.meta </span></i>attribute of the <i><span
style='color:#355F7C'>Response.request </span></i>object (i.e. self.request.meta).
Unlike the <i><span style='color:#355F7C'>Response.request </span></i>attribute,
the <i><span style='color:#355F7C'>Response.meta </span></i>attribute is
propagated along redirects and retries, so you will get the original <i><span
style='color:#355F7C'>Request.meta </span></i>sent from your spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.1in;margin-left:50.3pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:50.3pt;line-height:108%'><i><span style='color:#355F7C'>Request.meta
</span></i>attribute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>cb_kwargs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:50.3pt'>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:131%'>A shortcut to the <i><span
style='color:#355F7C'>Request.cb_kwargs </span></i>attribute of the <i><span
style='color:#355F7C'>Response.request </span></i>object (i.e. self.request.
cb_kwargs).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Unlike the <i><span style='color:#355F7C'>Response.request </span></i>attribute,
the <i><span style='color:#355F7C'>Response.cb_kwargs </span></i>attribute is
propagated along redirects and retries, so you will get the original <i><span
style='color:#355F7C'>Request.cb_kwargs </span></i>sent from your spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.45pt;margin-left:50.3pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.55pt;
margin-left:50.3pt;line-height:108%'><i><span style='color:#355F7C'>Request.cb_kwargs
</span></i>attribute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>flags</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:50.3pt'>A list that contains flags for this response. Flags are
labels used for tagging Responses. For example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>'<sub><span style='font-size:15.5pt;line-height:103%'>cached</span></sub>',
'<sub><span style='font-size:15.5pt;line-height:103%'>redirected</span></sub>’,
etc. And they’re shown on the string representation of the Response (<i>__str__
</i>method) which is used by the engine for logging.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>certificate</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:50.3pt'>New in version 2.0.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.85pt;margin-bottom:
0in;margin-left:50.3pt;line-height:158%'>A <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><span
style='color:#377063;text-decoration:none'>twisted.internet.ssl.Certificate</span></a><span
style='color:#377063'> </span>object representing the server’s SSL certificate.
Only populated for https responses, None otherwise.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>ip_address</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.1.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The IP address of the server from which the Response
originated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This attribute is currently only populated by the HTTP 1.1
download handler, i.e. for http(s) responses. For other handlers, <i><span
style='color:#355F7C'>ip_address </span></i>is always None.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>protocol</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.5.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The protocol that was used to download the response. For
instance: “HTTP/1.0”, “HTTP/1.1”</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.75pt;
margin-left:50.3pt'>This attribute is currently only populated by the HTTP
download handlers, i.e. for http(s) responses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For other handlers, <i><span style='color:#355F7C'>protocol
</span></i>is always None.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4pt;margin-left:24.65pt;text-align:left;line-height:110%'>attributes:
<a href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> ...] = ('url', 'status',
'headers', 'body', 'flags',</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.45pt;margin-left:24.65pt;text-align:left;line-height:110%'>'request',
'certificate', 'ip_address', 'protocol')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:50.3pt'>A tuple of <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
containing the name of all public attributes of the class that are also keyword
parameters of the __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Currently used by <i><span style='color:#355F7C'>Response.replace()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>copy()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.35pt;
margin-left:50.3pt'>Returns a new Response which is a copy of this Response.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>replace<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><span style='font-size:
14.5pt;line-height:104%'>[</span><i>url</i>, <i>status</i>, <i>headers</i>, <i>body</i>,
<i>request</i>, <i>flags</i>, <i>cls</i><span style='font-size:14.5pt;
line-height:104%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.5pt;
margin-left:50.3pt'>Returns a Response object with the same members, except for
those members given new values by whichever keyword arguments are specified.
The attribute <i><span style='color:#355F7C'>Response.meta </span></i>is copied
by default.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>urljoin(<i>url</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.35pt;margin-bottom:
0in;margin-left:50.3pt'>Constructs an absolute url by combining the Response’s <i><span
style='color:#355F7C'>url </span></i>with a possible relative url. This is a
wrapper over <a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urljoin"><span
style='color:#377063;text-decoration:none'>urljoin(</span></a><a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urljoin"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>)</span></sub></a><a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urljoin"><span
style='color:black;text-decoration:none'>,</span></a> it’s merely an alias for
making this call:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=25 src="Scrapy%20Documentation_files/image274.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.75pt;margin-left:61.5pt;text-align:left;text-indent:-36.6pt;
line-height:104%'>follow<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>url:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Link</span>, <i>callback:
CallbackT | </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>method: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'GET'</i>, <i>headers: Mapping[AnyStr, Any] |
Iterable[</i><a href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>AnyStr, Any]] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>body: </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cookies: CookiesT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>meta: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>encoding: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= 'utf-8'</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>= 0</i>, <i>dont_filter: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>errback: Callable[[Failure], Any]
| </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cb_kwargs: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>flags: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><i><span style='color:#355F7C'>Request</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return a <i><span style='color:#355F7C'>Request </span></i>instance
to follow a link url. It accepts the same arguments as Request.__init__ method,
but url can be a relative URL or a scrapy.link.Link object, not only an
absolute URL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'><i><span style='color:#355F7C'>TextResponse </span></i>provides
a <i><span style='color:#355F7C'>follow() </span></i>method which supports
selectors in addition to absolute/relative URLs and Link objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.0: The <i>flags </i>parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>follow_all<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>urls: Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Link</span><i>]</i>,
<i>callback: CallbackT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>method: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'GET'</i>, <i>headers:</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:82.95pt;text-align:left;line-height:104%'><i>Mapping[AnyStr,
Any] | Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>AnyStr, Any]] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>body: </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cookies: CookiesT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>meta: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>encoding: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>|</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:82.95pt;text-align:left;line-height:104%'><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= 'utf-8'</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>= 0</i>, <i>dont_filter: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>errback: Callable[[Failure], Any]
| </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cb_kwargs: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>flags: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:298.5pt;margin-bottom:
2.45pt;margin-left:49.8pt;text-indent:32.65pt;line-height:131%'>Iterable[<i><span
style='color:#355F7C'>Request</span></i>] New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return an iterable of <i><span style='color:#355F7C'>Request
</span></i>instances to follow all links in urls. It accepts the same arguments
as Request.__init__ method, but elements of urls can be relative URLs or <i><span
style='color:#355F7C'>Link </span></i>objects, not only absolute URLs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'><i><span style='color:#355F7C'>TextResponse </span></i>provides
a <i><span style='color:#355F7C'>follow_all() </span></i>method which supports
selectors in addition to absolute/relative URLs and Link objects.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.9.6 Response
subclasses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.1pt;
margin-left:.5pt'>Here is the list of available built-in Response subclasses.
You can also subclass the Response class to implement your own functionality.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TextResponse
objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.http.TextResponse(<i>url</i><span style='font-size:14.5pt;line-height:
110%'>[</span>, <i>encoding</i><span style='font-size:14.5pt;line-height:110%'>[</span>,
<i>...</i><span style='font-size:14.5pt;line-height:110%'>]]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:25.4pt'><i><span style='color:#355F7C'>TextResponse </span></i>objects
adds encoding capabilities to the base <i><span style='color:#355F7C'>Response </span></i>class,
which is meant to be used only for binary data, such as images, sounds or any
media file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'><i><span style='color:#355F7C'>TextResponse </span></i>objects
support a new __init__ method argument, in addition to the base <i><span
style='color:#355F7C'>Response </span></i>objects. The remaining functionality
is the same as for the <i><span style='color:#355F7C'>Response </span></i>class
and is not documented here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
6.6pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>encoding <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – is a string which
contains the encoding to use for this response. If you create a <i><span
style='color:#355F7C'>TextResponse </span></i>object with a string as body, it
will be converted to bytes encoded using this encoding. If <i>encoding </i>is None
(default), the encoding will be looked up in the response headers and body
instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:26.5pt;margin-bottom:
0in;margin-left:25.4pt;line-height:150%'><i><span style='color:#355F7C'>TextResponse
</span></i>objects support the following attributes in addition to the standard
<i><span style='color:#355F7C'>Response </span></i>ones: text</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:50.3pt'>Response body, as a string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:50.3pt'>The same as response.body.decode(response.encoding), but
the result is cached after the first call, so you can access response.text multiple
times without extra overhead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:49.8pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=559 height=1 id="Group 496257"
src="Scrapy%20Documentation_files/image275.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:50.3pt'><b>Note: </b>str(response.body) is not a correct way to
convert the response body into a string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:15.4pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=51 src="Scrapy%20Documentation_files/image276.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>encoding</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>A string with the encoding of this response. The encoding
is resolved by trying the following mechanisms, in order:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>the
encoding passed in the __init__ method encoding argument</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>the
encoding declared in the Content-Type HTTP header. If this encoding is not
valid (i.e. unknown), it is ignored and the next resolution mechanism is tried.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>the
encoding declared in the response body. The TextResponse class doesn’t provide
any special functionality for this. However, the <i><span style='color:#355F7C'>HtmlResponse
</span></i>and <i><span style='color:#355F7C'>XmlResponse </span></i>classes
do.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>the
encoding inferred by looking at the response body. This is the more fragile
method but also the last one tried.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>selector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>A Selector instance using the response as target. The
selector is lazily instantiated on first access.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:24.65pt;text-align:left;line-height:110%'>attributes:
<a href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> ...] = ('url', 'status',
'headers', 'body', 'flags',</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.05pt;margin-left:24.65pt;text-align:left;line-height:110%'>'request',
'certificate', 'ip_address', 'protocol', 'encoding')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:50.3pt'>A tuple of <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
containing the name of all public attributes of the class that are also keyword
parameters of the __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Currently used by <i><span style='color:#355F7C'>Response.replace()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:170%'><i><span style='color:#355F7C'>TextResponse
</span></i>objects support the following methods in addition to the standard <i><span
style='color:#355F7C'>Response </span></i>ones: jmespath(<i>query</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:50.3pt;text-align:left;line-height:112%'>A
shortcut to TextResponse.selector.jmespath(query):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.55pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=25 src="Scrapy%20Documentation_files/image277.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.65pt;margin-left:25.4pt;text-align:left;line-height:104%'>xpath(<i>query</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:50.3pt;text-align:left;line-height:112%'>A
shortcut to TextResponse.selector.xpath(query):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.25pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=25 src="Scrapy%20Documentation_files/image278.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.55pt;margin-left:25.4pt;text-align:left;line-height:104%'>css(<i>query</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:50.3pt;text-align:left;line-height:112%'>A
shortcut to TextResponse.selector.css(query):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=25 src="Scrapy%20Documentation_files/image279.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.75pt;margin-left:61.5pt;text-align:left;text-indent:-36.6pt;
line-height:104%'>follow<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>url:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Link </span><i>|
parsel.Selector</i>, <i>callback: CallbackT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>method: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'GET'</i>, <i>headers: Mapping[AnyStr, Any] |
Iterable[</i><a href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>AnyStr, Any]] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>body: </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cookies: CookiesT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>meta: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>encoding: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>= 0</i>, <i>dont_filter: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>errback: Callable[[Failure], Any]
| </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cb_kwargs: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>flags: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><i><span style='color:#355F7C'>Request</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return a <i><span style='color:#355F7C'>Request </span></i>instance
to follow a link url. It accepts the same arguments as Request.__init__ method,
but url can be not only an absolute URL, but also</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a relative URL</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:7.95pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a <i><span style='color:#355F7C'>Link </span></i>object, e.g. the
result of <i><span style='color:#355F7C'>Link Extractors</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:7.3pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a <i><span style='color:#355F7C'>Selector </span></i>object for a
&lt;link&gt; or &lt;a&gt; element, e.g. response.css('a.my_link')[0]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:4.4pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>an            attribute <i><span style='color:#355F7C'>Selector </span></i>(not        SelectorList),          e.g.
response.css('a::attr(href)')[0] or response.xpath('//img/@src')[0]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:50.3pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>A shortcut for creating Requests </span></i>for usage
examples.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>follow_all<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>urls: Iterable[</i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Link</span><i>]
| parsel.SelectorList | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>callback: CallbackT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>=</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:82.95pt;text-align:left;line-height:104%'><i>None</i>,
<i>method: </i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'GET'</i>, <i>headers: Mapping[AnyStr, Any] |
Iterable[</i><a href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>AnyStr, Any]] |</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:82.95pt;text-align:left;line-height:104%'><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>body: </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cookies: CookiesT | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>meta: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>, </span></i></a><i>Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>encoding: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>= 0</i>, <i>dont_filter: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>errback: Callable[[Failure], Any]
| </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>cb_kwargs: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> Any] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>flags: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>css: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>xpath: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.85pt;
margin-left:82.95pt'>Iterable[<i><span style='color:#355F7C'>Request</span></i>]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>A generator that produces <i><span style='color:#355F7C'>Request
</span></i>instances to follow all links in urls. It accepts the same arguments
as the <i><span style='color:#355F7C'>Request</span></i>’s __init__ method,
except that each urls element does not need to be an absolute URL, it can be
any of the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a relative URL</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:7.95pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a <i><span style='color:#355F7C'>Link </span></i>object, e.g. the
result of <i><span style='color:#355F7C'>Link Extractors</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:7.3pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a <i><span style='color:#355F7C'>Selector </span></i>object for a
&lt;link&gt; or &lt;a&gt; element, e.g. response.css('a.my_link')[0]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.25pt;margin-left:71.7pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>an            attribute <i><span style='color:#355F7C'>Selector </span></i>(not        SelectorList),          e.g.
response.css('a::attr(href)')[0] or response.xpath('//img/@src')[0]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>In addition, css and xpath arguments are accepted to
perform the link extraction within the follow_all method (only one of urls, css
and xpath is accepted).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Note that when passing a SelectorList as argument for the urls
parameter or using the css or xpath parameters, this method will not produce
requests for selectors from which links cannot be obtained (for instance,
anchor tags without an href attribute)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>json()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Deserialize a JSON document to a Python object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:50.3pt'>Returns a Python object from deserialized JSON document.
The result is cached after the first call.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>urljoin(<i>url</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.85pt;
margin-left:50.3pt'>Constructs an absolute url by combining the Response’s base
url with a possible relative url. The base url shall be extracted from the &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>base&gt; </span></sub>tag, or just
the Response’s url if there is no such tag.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HtmlResponse
objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.http.HtmlResponse(<i>url</i><span style='font-size:14.5pt;line-height:
110%'>[</span>, <i>...</i><span style='font-size:14.5pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>HtmlResponse </span></i>class
is a subclass of <i><span style='color:#355F7C'>TextResponse </span></i>which
adds encoding auto-discovering support by looking into the HTML <a
href="https://www.w3schools.com/TAGS/att_meta_http_equiv.asp"><span
style='color:#377063;text-decoration:none'>meta http-equiv</span></a><span
style='color:#377063'> </span>attribute. See <i><span style='color:#355F7C'>TextResponse.encoding</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>XmlResponse
objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.http.XmlResponse(<i>url</i><span style='font-size:14.5pt;line-height:
110%'>[</span>, <i>...</i><span style='font-size:14.5pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>XmlResponse </span></i>class
is a subclass of <i><span style='color:#355F7C'>TextResponse </span></i>which
adds encoding auto-discovering support by looking into the XML declaration
line. See <i><span style='color:#355F7C'>TextResponse.encoding</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JsonResponse
objects</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.http.JsonResponse(<i>url</i><span style='font-size:14.5pt;line-height:
110%'>[</span>, <i>...</i><span style='font-size:14.5pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.7pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>JsonResponse </span></i>class
is a subclass of <i><span style='color:#355F7C'>TextResponse </span></i>that is
used when the response has a <a
href="https://mimesniff.spec.whatwg.org/#json-mime-type"><span
style='color:#377063;text-decoration:none'>JSON MIME </span></a><a
href="https://mimesniff.spec.whatwg.org/#json-mime-type"><span
style='color:#377063;text-decoration:none'>type</span></a><span
style='color:#377063'> </span>in its <i>Content-Type </i>header.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.10 Link Extractors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A link extractor is an object that extracts links from
responses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>The __init__ method of <i><span style='color:#355F7C'>LxmlLinkExtractor
</span></i>takes settings that determine which links may be extracted. <i><span
style='color:#355F7C'>LxmlLinkExtractor.extract_links </span></i>returns a list
of matching <i><span style='color:#355F7C'>Link </span></i>objects from a <i><span
style='color:#355F7C'>Response </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Link extractors are used in <i><span style='color:#355F7C'>CrawlSpider
</span></i>spiders through a set of <i><span style='color:#355F7C'>Rule </span></i>objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can also use link extractors in regular spiders. For
example, you can instantiate <i><span style='color:#355F7C'>LinkExtractor </span></i>into
a class variable in your spider, and use it from your spider callbacks:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image280.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection20>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.9pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.10.1 Link extractor
reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:126%'>The link extractor class is <i><span
style='color:#355F7C'>scrapy.linkextractors.lxmlhtml.LxmlLinkExtractor</span></i>.
For convenience it can also be imported as scrapy.linkextractors.LinkExtractor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image281.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LxmlLinkExtractor</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>class scrapy.linkextractors.lxmlhtml.LxmlLinkExtractor(<i>allow=()</i>,
<i>deny=()</i>, <i>allow_domains=()</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.4pt;margin-left:288.15pt;text-align:left;line-height:104%'><i>deny_domains=()</i>,
<i>deny_extensions=None</i>, <i>restrict_xpaths=()</i>, <i>restrict_css=()</i>,
<i>tags=('a', 'area')</i>, <i>attrs=('href',)</i>, <i>canonicalize=False</i>, <i>unique=True</i>,
<i>process_value=None</i>, <i>strip=True</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>LxmlLinkExtractor is the recommended link extractor with
handy filtering options. It is implemented using lxml’s robust HTMLParser.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>allow <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:103%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>list</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single regular
expression (or list of regular expressions) that the (absolute) urls must match
in order to be extracted. If not given (or empty), it will match all links.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>deny <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:103%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>list</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single regular
expression (or list of regular expressions) that the (absolute) urls must match
in order to be excluded (i.e. not extracted). It has precedence over the allow parameter.
If not given (or empty) it won’t exclude any links. • allow_domains <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single value or a
list of string containing domains which will be considered for extracting the
links</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>deny_domains <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single value or a
list of strings containing domains which won’t be considered for extracting the
links</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
8.15pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>deny_extensions <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single value or list
of strings containing extensions that should be ignored when extracting links.
If not given, it will default to scrapy. linkextractors.IGNORED_EXTENSIONS.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.75pt;
margin-bottom:6.1pt;margin-left:90.85pt;text-align:left;line-height:112%'>Changed
in version 2.0: IGNORED_EXTENSIONS now includes 7z, 7zip, apk, bz2, cdr, dmg, ico,
iso, tar, tar.gz, webm, and xz.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
6.6pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>restrict_xpaths <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – is an XPath (or list of
XPath’s) which defines regions inside the response where links should be
extracted from. If given, only the text selected by those XPath will be scanned
for links.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
7.35pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>restrict_css <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a CSS selector (or list
of selectors) which defines regions inside the response where links should be
extracted from. Has the same behaviour as restrict_xpaths.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>restrict_text <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a single regular
expression (or list of regular expressions) that the link’s text must match in
order to be extracted. If not given (or empty), it will match all links. If a
list of regular expressions is given, the link will be extracted if it matches
at least one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
45.4pt;margin-left:90.35pt;text-indent:-8.45pt;line-height:123%'><span
style='line-height:123%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>tags
<a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:123%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:123%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:123%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:123%;color:#377063;text-decoration:none'>list</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – a tag or a list of tags
to consider when extracting links. Defaults to ('a', 'area').</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.10.
Link Extractors</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>attrs <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>lis</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – an attribute or list of
attributes which should be considered when looking for links to extract (only
for those tags specified in the tags parameter). Defaults to</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:90.85pt;text-align:left;line-height:112%'>('href',)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>canonicalize <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – canonicalize each
extracted url (using w3lib.url.canonicalize_url). Defaults to False. Note that
canonicalize_url is meant for duplicate checking; it can change the URL visible
at server side, so the response can be different for requests with
canonicalized and raw URLs. If you’re using LinkExtractor to follow links it is
more robust to keep the default canonicalize=False.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
.45pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>unique <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – whether duplicate
filtering should be applied to extracted links.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>process_value <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Callable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>)</span></a> – a function which
receives each value extracted from the tag and attributes scanned and can
modify the value and return a new one, or return None to ignore the link
altogether. If not given, process_value defaults to lambda x: x.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:90.85pt'>For example, to extract links from this code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.7pt;
margin-bottom:12.6pt;margin-left:92.95pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='position:relative;z-index:-1895771136'><span
style='left:0px;position:absolute;left:116px;top:-76872px;width:479px;
height:1px'><img width=479 height=1
src="Scrapy%20Documentation_files/image282.gif"></span></span>&lt;<span
style='color:#052973'>a </span><span style='color:#4070A1'>href</span><span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;javascript:goToPage('../other/page.html');
return false&quot;</span>&gt; <i><span style='font-size:5.0pt;line-height:111%;
font-family:"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:
7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>Link
text&lt;/<span style='color:#052973'>a</span>&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:90.85pt'>You can use the following function in process_value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.9pt;margin-left:86.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=479 height=73 src="Scrapy%20Documentation_files/image283.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
6.85pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strip <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – whether to strip
whitespaces from extracted attributes. According to HTML5 standard, leading and
trailing whitespaces must be stripped from href attributes of &lt;a&gt;, &lt;area&gt;
and many other elements, src attribute of &lt;img&gt;, &lt;iframe&gt; elements,
etc., so LinkExtractor strips space chars by default. Set strip=False to turn
it off (e.g. if you’re extracting urls from elements or attributes which allow
leading/trailing whitespaces).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:24.65pt;text-align:left;line-height:110%'>extract_links(<i>response:
</i><span style='color:#355F7C'>TextResponse</span>)<span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>list</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>[</span></a><i><span style='color:
#355F7C'>Link</span></i>]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a list of <i><span style='color:#355F7C'>Link </span></i>objects
from the specified <i><span style='color:#355F7C'>response</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.45pt;
margin-left:50.3pt;line-height:152%'>Only links that match the settings passed
to the __init__ method of the link extractor are returned. Duplicate links are
omitted if the unique attribute is set to True, otherwise they are returned.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:92.25pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:169%'><b><span
style='color:#20435C'>Link </span></b>class scrapy.link.Link(<i>url: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>text: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= ''</i>, <i>fragment: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= ''</i>, <i>nofollow: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>) Link objects represent an extracted
link by the LinkExtractor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>Using the anchor tag sample below to illustrate the
parameters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.1pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image284.gif"></span></p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt;line-height:130%'><span
style='line-height:130%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>url
– the absolute url being linked to in the anchor tag. From the sample, this is https:/
/example.com/nofollow.html.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>text – the text in
the anchor tag. From the sample, this is Dont follow this one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fragment – the part
of the url after the hash symbol. From the sample, this is foo.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.7pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>nofollow – an
indication of the presence or absence of a nofollow value in the rel attribute
of the anchor tag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.11 Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The Scrapy settings allows you to customize the behaviour of
all Scrapy components, including the core, extensions, pipelines and spiders
themselves.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The infrastructure of the settings provides a global
namespace of key-value mappings that the code can use to pull configuration
values from. The settings can be populated through different mechanisms, which
are described below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
16.95pt;margin-left:.5pt;line-height:148%'>The settings are also the mechanism
for selecting the currently active Scrapy project (in case you have many). For
a list of available built-in settings see: <i><span style='color:#355F7C'>Built-in
settings reference</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Designating the
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:.5pt'>When you use Scrapy, you have to tell it which settings
you’re using. You can do this by using an environment variable,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:-.25pt;text-align:left;line-height:112%'>SCRAPY_SETTINGS_MODULE.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:.5pt'>The value of SCRAPY_SETTINGS_MODULE should be in Python path
syntax, e.g. myproject.settings. Note that the settings module should be on the
Python <a href="https://docs.python.org/3/tutorial/modules.html#tut-searchpath"><span
style='color:#377063;text-decoration:none'>import search path</span></a><a
href="https://docs.python.org/3/tutorial/modules.html#tut-searchpath"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Populating the settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Settings can be populated using different mechanisms, each of
which having a different precedence. Here is the list of them in decreasing
order of precedence:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Command line
options (most precedence)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Settings
per-spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Project
settings module</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Settings set by
add-ons</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Default
settings per-command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Default global
settings (less precedence)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The population of these settings sources is taken care of
internally, but a manual handling is possible using API calls. See the <i><span
style='color:#355F7C'>Settings API </span></i>topic for reference.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These mechanisms are described in more detail below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Command line options</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.4pt;
margin-left:.5pt'>Arguments provided by the command line are the ones that take
most precedence, overriding any other options. You can explicitly override one
(or more) settings using the -<sub><span style='font-size:15.5pt;line-height:
103%'>s </span></sub>(or --<sub><span style='font-size:15.5pt;line-height:103%'>set</span></sub>)
command line option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.4pt;
margin-left:.5pt'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image285.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Settings per-spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.3pt;
margin-left:.5pt'>Spiders (See the <i><span style='color:#355F7C'>Spiders </span></i>chapter
for reference) can define their own settings that will take precedence and
override the project ones. One way to do so is by setting their <i><span
style='color:#355F7C'>custom_settings </span></i>attribute:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image286.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>It’s often better to implement <i><span style='color:#355F7C'>update_settings()
</span></i>instead, and settings set there should use the “spider” priority
explicitly:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image287.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.11.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>It’s also possible to modify the settings in the <i><span
style='color:#355F7C'>from_crawler() </span></i>method, e.g. based on <i><span
style='color:#355F7C'>spider arguments </span></i>or other logic:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=210 src="Scrapy%20Documentation_files/image288.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image289.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Project settings module</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:.5pt'>The project settings module is the standard configuration
file for your Scrapy project, it’s where most of your custom settings will be
populated. For a standard Scrapy project, this means you’ll be adding or
changing the settings in the settings.py file created for your project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Settings set by add-ons</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Add-ons </span></i>can modify
settings. They should do this with this priority, though this is not enforced.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Default settings per-command</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>Each <i><span style='color:#355F7C'>Scrapy tool </span></i>command
can have its own default settings, which override the global default settings.
Those custom command settings are specified in the default_settings attribute
of the command class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Default global settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>The global defaults are located in the scrapy.settings.default_settings
module and documented in the <i><span style='color:#355F7C'>Built-in settings
reference </span></i>section.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.3 Compatibility
with pickle</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>Setting values must be <a
href="https://docs.python.org/3/library/pickle.html#pickle-picklable"><span
style='color:#377063;text-decoration:none'>picklable</span></a><a
href="https://docs.python.org/3/library/pickle.html#pickle-picklable"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.4 Import paths and
classes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.4.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When a setting references a callable object to be imported by
Scrapy, such as a class or a function, there are two different ways you can
specify that object:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:16.2pt'>• As a string containing the import path of that object</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=186 src="Scrapy%20Documentation_files/image290.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 502723" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:   </b>Passing
non-callable objects is not supported.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 502724"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.5 How to access
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>In a spider, the settings are available through self.settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105 src="Scrapy%20Documentation_files/image291.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 502726" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:.5pt'><b>Note: </b>The settings attribute is set in the base Spider
class after the spider is initialized. If you want to use the settings before
the initialization (e.g., in your spider’s __init__() method), you’ll need to
override the <i><span style='color:#355F7C'>from_crawler() </span></i>method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 502727"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.5pt;
margin-left:.5pt'>Settings can be accessed through the <i><span
style='color:#355F7C'>scrapy.crawler.Crawler.settings </span></i>attribute of
the Crawler that is passed to from_crawler method in extensions, middlewares
and item pipelines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image292.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>The settings object can be used like a dict (e.g., settings['<sub><span
style='font-size:15.5pt;line-height:103%'>LOG_ENABLED</span></sub>'<sub><span
style='font-size:15.5pt;line-height:103%'>]</span></sub>), but it’s usually
preferred to extract the setting in the format you need it to avoid type
errors, using one of the methods provided by the <i><span style='color:#355F7C'>Settings
</span></i>API.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.6 Rationale for
setting names</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.75pt;
margin-left:.5pt'>Setting names are usually prefixed with the component that
they configure. For example, proper setting names for a fictional robots.txt
extension would be ROBOTSTXT_ENABLED, ROBOTSTXT_OBEY, ROBOTSTXT_CACHEDIR, etc.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.11.7 Built-in
settings reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here’s a list of all available Scrapy settings, in
alphabetical order, along with their default values and the scope where they
apply.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The scope, where available, shows where the setting is being
used, if it’s tied to any particular component. In that case the module of that
component will be shown, typically an extension, middleware or pipeline. It
also means that the component must be enabled in order for the setting to have
any effect.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ADDONS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:31.15pt;
margin-left:.5pt'>A dict containing paths to the add-ons enabled in your
project and their priorities. For more information, see <i><span
style='color:#355F7C'>Add-ons</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_ACCESS_KEY_ID</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The AWS access key used by code that requires access to <a
href="https://aws.amazon.com/"><span style='color:#377063;text-decoration:none'>Amazon
Web services</span></a><a href="https://aws.amazon.com/"><span
style='color:black;text-decoration:none'>,</span></a> such as the <i><span
style='color:#355F7C'>S3 feed storage backend</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_SECRET_ACCESS_KEY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The AWS secret key used by code that requires access to <a
href="https://aws.amazon.com/"><span style='color:#377063;text-decoration:none'>Amazon
Web services</span></a><a href="https://aws.amazon.com/"><span
style='color:black;text-decoration:none'>,</span></a> such as the <i><span
style='color:#355F7C'>S3 feed storage backend</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_SESSION_TOKEN</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The AWS security token used by code that requires access to <a
href="https://aws.amazon.com/"><span style='color:#377063;text-decoration:none'>Amazon
Web services</span></a><a href="https://aws.amazon.com/"><span
style='color:black;text-decoration:none'>,</span></a> such as the <i><span
style='color:#355F7C'>S3 feed storage backend</span></i>, when using <a
href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span
style='color:#377063;text-decoration:none'>temporary security credentials</span></a><a
href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_ENDPOINT_URL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Endpoint URL used for S3-like storage, for example Minio or
s3.scality.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_USE_SSL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Use this option if you want to disable SSL connection for
communication with S3 or S3-like storage. By default SSL will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_VERIFY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Verify SSL connection between Scrapy and S3 or S3-like
storage. By default SSL verification will occur.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AWS_REGION_NAME</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The name of the region associated with the AWS client.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ASYNCIO_EVENT_LOOP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Import path of a given asyncio event loop class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If the asyncio reactor is enabled (see <i><span
style='color:#355F7C'>TWISTED_REACTOR</span></i>) this setting can be used to
specify the asyncio event loop to be used with it. Set the setting to the
import path of the desired asyncio event loop class. If the setting is set to None
the default asyncio event loop will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:.5pt'>If you are installing the asyncio reactor manually using the <i><span
style='color:#355F7C'>install_reactor() </span></i>function, you can use the event_loop_path
parameter to indicate the import path of the event loop class to be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.85pt;
margin-left:.5pt'>Note that the event loop class must inherit from <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop"><span
style='color:#377063;text-decoration:none'>asyncio.AbstractEventLoop</span></a><a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop"><span
style='color:black;text-decoration:none'>.</span></a></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:34.15pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Please
be aware that, when using a non-default event loop (either defined via <i><span
style='color:#355F7C'>ASYNCIO_EVENT_LOOP </span></i>or installed with <i><span
style='color:#355F7C'>install_reactor()</span></i>), Scrapy will call <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.set_event_loop"><span
style='color:#377063;text-decoration:none'>asyncio.set_event_loop()</span></a><a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.set_event_loop"><span
style='color:black;text-decoration:none'>,</span></a> which will set the
specified event loop as the current loop for the current OS thread.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>BOT_NAME</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapybot'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The name of the bot implemented by this Scrapy project (also
known as the project name). This name will be used for the logging too.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>It’s automatically populated with your project name when you
create your project with the <i><span style='color:#355F7C'>startproject </span></i>command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CONCURRENT_ITEMS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 100</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Maximum number of concurrent items (per response) to process
in parallel in <i><span style='color:#355F7C'>item pipelines</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CONCURRENT_REQUESTS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 16</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The maximum number of concurrent (i.e. simultaneous) requests
that will be performed by the Scrapy downloader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 8</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:.5pt'>The maximum number of concurrent (i.e. simultaneous) requests
that will be performed to any single domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.2pt;
margin-left:.5pt;line-height:108%'>See also: <i><span style='color:#355F7C'>AutoThrottle
extension </span></i>and its <i><span style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY
</span></i>option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CONCURRENT_REQUESTS_PER_IP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:.5pt'>The maximum number of concurrent (i.e. simultaneous) requests
that will be performed to any single IP. If non-zero, the <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN </span></i>setting is
ignored, and this one is used instead. In other words, concurrency limits will
be applied per IP, not per domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>This setting also affects <i><span style='color:#355F7C'>DOWNLOAD_DELAY
</span></i>and <i><span style='color:#355F7C'>AutoThrottle extension</span></i>:
if <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP </span></i>is
nonzero, download delay is enforced per IP, not per domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DEFAULT_ITEM_CLASS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.2pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.Item'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The default class that will be used for instantiating items
in the <i><span style='color:#355F7C'>the Scrapy shell</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DEFAULT_REQUEST_HEADERS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Default:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=73 src="Scrapy%20Documentation_files/image293.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.35pt;
margin-left:.5pt'>The default headers used for Scrapy HTTP Requests. They’re
populated in the <i><span style='color:#355F7C'>DefaultHeadersMiddleware</span></i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45in;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Cookies
set via the <sub><span style='font-size:15.5pt;line-height:94%'>Cookie</span></sub>
header are not considered by the <i><span style='color:#355F7C'>CookiesMiddleware</span></i>.
If you need to set cookies for a request, use the <sub><span style='font-size:
15.5pt;line-height:94%'>Request.cookies</span></sub> parameter. This is a known
current limitation that is being worked on.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DEPTH_LIMIT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.8pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.spidermiddlewares.depth.DepthMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The maximum depth that will be allowed to crawl for any site.
If zero, no limit will be imposed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DEPTH_PRIORITY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.8pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:149.4pt;margin-bottom:
0in;margin-left:.5pt;line-height:156%'>Scope: scrapy.spidermiddlewares.depth.DepthMiddleware
An integer that is used to adjust the priority of a Request based on its depth.
The priority of a request is adjusted as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image294.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>As depth increases, positive values of DEPTH_PRIORITY decrease
request priority (BFO), while negative values increase request priority (DFO).
See also <i><span style='color:#355F7C'>Does Scrapy crawl in breadth-first or
depth-first order?</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 499549" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:129%'><b>Note:      </b>This         setting    adjusts    priority   <b>in             the          opposite                way         </b>compared               to            other                priority   settings
<i><span style='color:#355F7C'>REDIRECT_PRIORITY_ADJUST </span></i>and <i><span
style='color:#355F7C'>RETRY_PRIORITY_ADJUST</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 499550"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DEPTH_STATS_VERBOSE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.spidermiddlewares.depth.DepthMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:31.15pt;
margin-left:.5pt'>Whether to collect verbose depth stats. If this is enabled,
the number of requests for each depth is collected in the stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DNSCACHE_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether to enable DNS in-memory cache.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DNSCACHE_SIZE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 10000</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>DNS in-memory cache size.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DNS_RESOLVER</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.5pt;
margin-left:.5pt'>New in version 2.0.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.95pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.resolver.CachingThreadedResolver'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The class to be used to resolve DNS names. The default scrapy.resolver.CachingThreadedResolver
supports specifying a timeout for DNS requests via the <i><span
style='color:#355F7C'>DNS_TIMEOUT </span></i>setting, but works only with IPv4
addresses. Scrapy provides an alternative resolver, scrapy.resolver.CachingHostnameResolver,
which supports IPv4/IPv6 addresses but does not take the <i><span
style='color:#355F7C'>DNS_TIMEOUT </span></i>setting into account.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DNS_TIMEOUT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 60</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Timeout for processing of DNS queries in seconds. Float is
supported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:233.75pt;margin-bottom:
13.0pt;margin-left:.5pt;line-height:155%'>Default: 'scrapy.core.downloader.Downloader'
The downloader to use for crawling.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_HTTPCLIENTFACTORY</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.65pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.core.downloader.webclient.ScrapyHTTPClientFactory'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.25pt;margin-left:0in;text-align:left;text-indent:0in'>Defines      a                 Twisted
protocol.ClientFactory class                to      use      for      HTTP/1.0      connections     (for</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTP10DownloadHandler).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 501565" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:124%'><b>Note: </b>HTTP/1.0 is rarely used
nowadays so you can safely ignore this setting, unless you really want to use
HTTP/1.0 and override <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS </span></i>for
http(s) scheme accordingly, i.e. to 'scrapy.core.downloader.
handlers.http.HTTP10DownloadHandler'.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 501566"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_CLIENTCONTEXTFACTORY</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.6pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:155%'>Default:
'scrapy.core.downloader.contextfactory.ScrapyClientContextFactory' Represents
the classpath to the ContextFactory to use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt'>Here, “ContextFactory” is a Twisted term for SSL/TLS
contexts, defining the TLS/SSL protocol version to use, whether to do
certificate verification, or even enable client-side authentication (and
various other things).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.8pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 501567" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Note:      </b>Scrapy default context factory <b>does NOT
perform remote server certificate verification</b>. This is usually fine for
web scraping.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:.5pt'>If you do need remote server certificate verification
enabled, Scrapy also has another context factory class that you can set, 'scrapy.core.downloader.contextfactory.BrowserLikeContextFactory',
which uses the platform’s certificates to validate remote endpoints.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.55pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 501568"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:124%'>If you do use a custom ContextFactory, make
sure its __init__ method accepts a method parameter (this is the OpenSSL.SSL method
mapping <i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_METHOD</span></i>),
a tls_verbose_logging parameter (bool) and a tls_ciphers parameter (see <i><span
style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_CIPHERS</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_CLIENT_TLS_CIPHERS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'DEFAULT'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use this setting to customize the TLS/SSL ciphers used by the
default HTTP/1.1 downloader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:.5pt'>The setting should contain a string in the <a
href="https://docs.openssl.org/master/man1/openssl-ciphers/#cipher-list-format"><span
style='color:#377063;text-decoration:none'>OpenSSL cipher list format</span></a><a
href="https://docs.openssl.org/master/man1/openssl-ciphers/#cipher-list-format"><span
style='color:black;text-decoration:none'>,</span></a> these ciphers will be
used as client ciphers. Changing this setting may be necessary to access
certain HTTPS websites: for example, you may need to use '<sub><span
style='font-size:15.5pt;line-height:103%'>DEFAULT:!DH</span></sub>' for a
website with weak DH parameters or enable a specific cipher that is not
included in DEFAULT if a website requires</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:.5pt'>it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_CLIENT_TLS_METHOD</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'TLS'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:77.4pt;margin-bottom:
1.4pt;margin-left:.5pt;line-height:147%'>Use this setting to customize the
TLS/SSL method used by the default HTTP/1.1 downloader. This setting must be
one of these string values:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'TLS': maps to
OpenSSL’s TLS_method() (a.k.a SSLv23_method()), which allows protocol
negotiation, starting from the highest supported by the platform; <b>default,
recommended</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'<sub><span
style='font-size:15.5pt;line-height:103%'>TLSv1.0</span></sub>': this value
forces HTTPS connections to use TLS version 1.0 ; set this if you want the
behavior of Scrapy&lt;1.1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'TLSv1.1': forces TLS
version 1.1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>'TLSv1.2': forces TLS
version 1.2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:.5pt'>Setting this to True will enable DEBUG level messages about
TLS connection parameters after establishing HTTPS connections. The kind of
information logged depends on the versions of OpenSSL and pyOpenSSL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.8pt;
margin-left:.5pt'>This setting is only used for the default <i><span
style='color:#355F7C'>DOWNLOADER_CLIENTCONTEXTFACTORY</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_MIDDLEWARES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default:: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>A dict containing the downloader middlewares enabled in your
project, and their orders. For more info see <i><span style='color:#355F7C'>Activating
a downloader middleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_MIDDLEWARES_BASE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:.5pt'>Default:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>{</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.offsite.OffsiteMiddleware&quot;</span>:
<span style='color:#217F4F'>50</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware&quot;</span>:
<span style='color:#217F4F'>100</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware&quot;</span>:
<span style='color:#217F4F'>300</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware&quot;</span>:
<span style='color:#217F4F'>350</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895770112'><span style='left:0px;position:
absolute;left:-5px;top:-85547px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image295.gif"></span></span><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware&quot;</span>:
<span style='color:#217F4F'>400</span>, <span style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.useragent.UserAgentMiddleware&quot;</span>:
<span style='color:#217F4F'>500</span>,</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.8pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.retry.RetryMiddleware&quot;</span>:
<span style='color:#217F4F'>550</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.ajaxcrawl.AjaxCrawlMiddleware&quot;</span>:
<span style='color:#217F4F'>560</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware&quot;</span>:
<span style='color:#217F4F'>580</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware&quot;</span>:
<span style='color:#217F4F'>590</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.redirect.RedirectMiddleware&quot;</span>:
<span style='color:#217F4F'>600</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.cookies.CookiesMiddleware&quot;</span>:
<span style='color:#217F4F'>700</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895769088'><span style='left:0px;position:
absolute;left:-5px;top:-85744px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image296.gif"></span></span><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware&quot;</span>:
<span style='color:#217F4F'>750</span>, <span style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.stats.DownloaderStats&quot;</span>:
<span style='color:#217F4F'>850</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware&quot;</span>:
<span style='color:#217F4F'>900</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:.5pt'>A dict containing the downloader middlewares enabled by
default in Scrapy. Low orders are closer to the engine, high orders are closer
to the downloader. You should never modify this setting in your project, modify
<i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES </span></i>instead. For
more info see <i><span style='color:#355F7C'>Activating a downloader middleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOADER_STATS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether to enable downloader stats collection.</p>

<h1 style='margin-left:-.25pt'><a name="_Toc600035">DOWNLOAD_DELAY</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Minimum seconds to wait between 2 consecutive requests to the
same domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use <i><span style='color:#355F7C'>DOWNLOAD_DELAY </span></i>to
throttle your crawling speed, to avoid hitting servers too hard.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Decimal numbers are supported. For example, to send a maximum
of 4 requests every 10 seconds:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image297.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>This setting is also affected by the <i><span
style='color:#355F7C'>RANDOMIZE_DOWNLOAD_DELAY </span></i>setting, which is
enabled by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:.5pt'>When <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP
</span></i>is non-zero, delays are enforced per IP address instead of per
domain.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>Note        that         <i><span
style='color:#355F7C'>DOWNLOAD_DELAY              </span></i>can          lower      the          effective  per-domain            concurrency           below
<i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i>.       If              the          response                time        of            a              domain   is             lower than
<i><span style='color:#355F7C'>DOWNLOAD_DELAY</span></i>, the           effective  concurrency           for           that         domain   is             1.             When     testing throttling                configurations,      it              usually    makes
sense          to            lower <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN
</span></i>first,        and         only        increase <i><span
style='color:#355F7C'>DOWNLOAD_DELAY </span></i>once <i><span style='color:
#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN </span></i>is 1 but a higher throttling
is desired.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503343"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:    </b>This
delay can be set per spider using download_delay spider attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503344"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>It is also possible to change this setting per domain,
although it requires non-trivial code. See the implementation of the <i><span
style='color:#355F7C'>AutoThrottle </span></i>extension for an example.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_HANDLERS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>A dict containing the request downloader handlers enabled in
your project. See <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS_BASE </span></i>for
example format.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_HANDLERS_BASE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:.5pt'>Default:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>{</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895768064'><span style='left:0px;position:
absolute;left:-5px;top:-86646px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image175.gif"></span></span><span
style='color:#4070A1'>&quot;data&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.datauri.DataURIDownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;file&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.file.FileDownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;http&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.http.HTTPDownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;https&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.http.HTTPDownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;s3&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.s3.S3DownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;ftp&quot;</span>: <span style='color:#4070A1'>&quot;scrapy.core.downloader.handlers.ftp.FTPDownloadHandler&quot;</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt'>A dict containing the request download handlers enabled by
default in Scrapy. You should never modify this setting in your project, modify
<i><span style='color:#355F7C'>DOWNLOAD_HANDLERS </span></i>instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.2pt;
margin-left:.5pt'>You can disable any of these download handlers by assigning None
to their URI scheme in <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>.
E.g., to disable the built-in FTP handler (without replacement), place this in
your settings.py:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image298.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The default HTTPS handler uses HTTP/1.1. To use HTTP/2:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install Twisted[http2]&gt;=17.9.0
to install the packages required to enable HTTP/2 support in Twisted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Update <i><span
style='color:#355F7C'>DOWNLOAD_HANDLERS </span></i>as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:21.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=601 height=57 src="Scrapy%20Documentation_files/image299.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.4pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>HTTP/2
support in Scrapy is experimental, and not yet recommended for production
environments. Future Scrapy versions may introduce related changes without a
deprecation period or warning.</p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503534"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in'><b>Note:   </b>Known limitations of the current HTTP/2
implementation of Scrapy include:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>No support for HTTP/2
Cleartext (h2c), since no major browser supports HTTP/2 unencrypted (refer <a
href="https://http2.github.io/faq/#does-http2-require-encryption"><span
style='color:#377063;text-decoration:none'>http2 faq</span></a><a
href="https://http2.github.io/faq/#does-http2-require-encryption"><span
style='color:black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>No
setting to specify a maximum <a
href="https://datatracker.ietf.org/doc/html/rfc7540#section-4.2"><span
style='color:#377063;text-decoration:none'>frame size</span></a><span
style='color:#377063'> </span>larger than the default value, 16384. Connections
to servers that send a larger frame will fail.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>No support for <a
href="https://datatracker.ietf.org/doc/html/rfc7540#section-8.2"><span
style='color:#377063;text-decoration:none'>server pushes</span></a><a
href="https://datatracker.ietf.org/doc/html/rfc7540#section-8.2"><span
style='color:black;text-decoration:none'>,</span></a> which are ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>No support for the <i><span
style='color:#355F7C'>bytes_received </span></i>and <i><span style='color:#355F7C'>headers_received
</span></i>signals.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503536"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_SLOTS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Allows to define concurrency/delay parameters on per slot
(domain) basis:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.7pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=89 src="Scrapy%20Documentation_files/image300.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 503286" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.9pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>For
other downloader slots default settings values will be used:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOAD_DELAY</span></i>: delay</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i>: concurrency</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RANDOMIZE_DOWNLOAD_DELAY</span></i>: randomize_delay</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503287"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_TIMEOUT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 180</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:.5pt'>The amount of time (in secs) that the downloader will wait
before timing out.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 503288" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.5pt'><b>Note: </b>This timeout can be set per spider using download_timeout
spider attribute and per-request using <i><span style='color:#355F7C'>download_timeout
</span></i>Request.meta key.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 503290"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_MAXSIZE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 1073741824 (1 GiB)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The maximum response body size (in bytes) allowed. Bigger
responses are aborted and ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This applies both before and after compression. If
decompressing a response body would exceed this limit, decompression is aborted
and the response is ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use 0 to disable this limit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.65pt;
margin-left:.5pt'>This limit can be set per spider using the download_maxsize spider
attribute and per request using the <i><span style='color:#355F7C'>download_maxsize
</span></i>Request.meta key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_WARNSIZE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 33554432 (32 MiB)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If the size of a response exceeds this value, before or after
compression, a warning will be logged about it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use 0 to disable this limit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This limit can be set per spider using the download_warnsize spider
attribute and per request using the <i><span style='color:#355F7C'>download_warnsize
</span></i>Request.meta key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DOWNLOAD_FAIL_ON_DATALOSS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:.5pt'>Whether or not to fail on broken responses, that is, declared
Content-Length does not match content sent by the server or chunked response
was not properly finish. If True, these responses raise a ResponseFailed([_DataLoss])
error. If False, these responses are passed through and the flag dataloss is
added to the response, i.e.: 'dataloss' in response.flags is True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.6pt;
margin-left:.5pt'>Optionally, this can be set per-request basis by using the <i><span
style='color:#355F7C'>download_fail_on_dataloss </span></i>Request.meta key to False.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 504639" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.35pt;
margin-left:.5pt'><b>Note: </b>A broken response, or data loss error, may
happen under several circumstances, from server misconfiguration to network
errors to data corruption. It is up to the user to decide if it makes sense to
process broken responses considering they may contain partial or incomplete
content. If <i><span style='color:#355F7C'>RETRY_ENABLED </span></i>is True and
this setting is set to True, the ResponseFailed([_DataLoss]) failure will be
retried as usual.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:27.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 504640"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:34.25pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>This
setting is ignored by the H2DownloadHandler download handler (see <i><span
style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>). In case of a data loss
error, the corresponding HTTP/2 connection may be corrupted, affecting other
requests that use the same connection; hence, a ResponseFailed([InvalidBodyLengthError])
failure is always raised for every request that was using that connection.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.1pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DUPEFILTER_CLASS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:238.95pt;margin-bottom:
1.2pt;margin-left:.5pt;line-height:155%'>Default: 'scrapy.dupefilters.RFPDupeFilter'
The class used to detect and filter duplicate requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.65pt;
margin-left:.5pt;line-height:127%'>The default (RFPDupeFilter) filters based on
the <i><span style='color:#355F7C'>REQUEST_FINGERPRINTER_CLASS </span></i>setting.
You can disable filtering of duplicate requests by setting <i><span
style='color:#355F7C'>DUPEFILTER_CLASS </span></i>to 'scrapy.dupefilters.
BaseDupeFilter'. Be very careful about this however, because you can get into
crawling loops. It’s usually a better idea to set the dont_filter parameter to True
on the specific Request that should not be filtered.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DUPEFILTER_DEBUG</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>By default, RFPDupeFilter only logs the first duplicate
request. Setting <i><span style='color:#355F7C'>DUPEFILTER_DEBUG </span></i>to True
will make it log all duplicate requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>EDITOR</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: vi (on Unix systems) or the IDLE editor (on Windows)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The editor to use for editing spiders with the <i><span
style='color:#355F7C'>edit </span></i>command. Additionally, if the EDITOR environment
variable is set, the <i><span style='color:#355F7C'>edit </span></i>command
will prefer it over the default setting.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection21>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>EXTENSIONS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default:: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>A dict containing the extensions enabled in your project, and
their orders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>EXTENSIONS_BASE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=211 src="Scrapy%20Documentation_files/image301.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A dict containing the extensions available by default in
Scrapy, and their orders. This setting contains all stable built-in extensions.
Keep in mind that some of them need to be enabled through a setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.55pt;margin-left:.5pt;text-align:left;line-height:110%'>For
more information See the <i><span style='color:#355F7C'>extensions user guide </span></i>and
the <i><span style='color:#355F7C'>list of available extensions</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_TEMPDIR</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>The Feed Temp dir allows you to set a custom folder to save
crawler temporary files before uploading with <i><span style='color:#355F7C'>FTP
feed storage </span></i>and <i><span style='color:#355F7C'>Amazon S3</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FEED_STORAGE_GCS_ACL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The Access Control List (ACL) used when storing items to <i><span
style='color:#355F7C'>Google Cloud Storage</span></i>. For more information on
how to set this value, please refer to the column <i>JSON API </i>in <a
href="https://cloud.google.com/storage/docs/access-control/lists"><span
style='color:#377063;text-decoration:none'>Google Cloud documentation</span></a><a
href="https://cloud.google.com/storage/docs/access-control/lists"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>FTP_PASSIVE_MODE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:151.1pt;
margin-left:.5pt'>Whether or not to use passive mode when initiating FTP
transfers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.11.
Settings</b></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;margin-left:
-.25pt'><a name="_Toc600036">FTP_PASSWORD</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:.5pt'>Default: &quot;guest&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.55pt;
margin-left:.5pt'>The password to use for FTP connections when there is no &quot;ftp_password&quot;
in Request meta.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 505299" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Paraphrasing <a
href="https://datatracker.ietf.org/doc/html/rfc1635"><span style='color:#377063;
text-decoration:none'>RFC 1635</span></a><a
href="https://datatracker.ietf.org/doc/html/rfc1635"><span style='color:black;
text-decoration:none'>,</span></a> although it is common to use either the
password “guest” or one’s e-mail address for anonymous FTP, some FTP servers
explicitly ask for the user’s e-mail address and will not allow login with the
“guest” password.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 505300"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;margin-left:
-.25pt'><a name="_Toc600037">FTP_USER</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
&quot;anonymous&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>The username to use for FTP connections when there is no &quot;ftp_user&quot;
in Request meta.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>GCS_PROJECT_ID</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The Project ID that will be used when storing data on <a
href="https://cloud.google.com/storage/"><span style='color:#377063;text-decoration:
none'>Google Cloud Storage</span></a><a href="https://cloud.google.com/storage/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ITEM_PIPELINES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.5pt'>A dict containing the item pipelines to use, and their
orders. Order values are arbitrary, but it is customary to define them in the
0-1000 range. Lower orders process before higher orders. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image302.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ITEM_PIPELINES_BASE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A dict containing the pipelines enabled by default in Scrapy.
You should never modify this setting in your project, modify <i><span
style='color:#355F7C'>ITEM_PIPELINES </span></i>instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>JOBDIR</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>A string indicating the directory for storing the state of a
crawl when <i><span style='color:#355F7C'>pausing and resuming crawls</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether to enable logging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_ENCODING</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'utf-8'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The encoding to use for logging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_FILE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>File name to use for logging output. If None, standard error
will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_FILE_APPEND</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>If False, the log file specified with <i><span
style='color:#355F7C'>LOG_FILE </span></i>will be overwritten (discarding the
output from previous runs, if any).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.3pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_FORMAT</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'%(asctime)s [%(name)s] %(levelname)s: %(message)s'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>String for formatting log messages. Refer to the <a
href="https://docs.python.org/3/library/logging.html#logrecord-attributes"><span
style='color:#377063;text-decoration:none'>Python logging documentation</span></a><span
style='color:#377063'> </span>for the whole list of available placeholders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_DATEFORMAT</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'%Y-%m-%d %H:%M:%S'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>String for formatting date/time, expansion of the %(asctime)s
placeholder in <i><span style='color:#355F7C'>LOG_FORMAT</span></i>. Refer to
the <a
href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior"><span
style='color:#377063;text-decoration:none'>Python date</span></a><a
href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior"><span
style='color:#377063;text-decoration:none'>time documentation</span></a><span
style='color:#377063'> </span>for the whole list of available directives.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_FORMATTER</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.75pt;
margin-left:.5pt;line-height:108%'>Default: <i><span style='color:#355F7C'>scrapy.logformatter.LogFormatter</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The class to use for <i><span style='color:#355F7C'>formatting
log messages </span></i>for different actions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_LEVEL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'DEBUG'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>Minimum level to log. Available levels are: CRITICAL, ERROR,
WARNING, INFO, DEBUG. For more info see <i><span style='color:#355F7C'>Logging</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_STDOUT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:.5pt'>If True, all standard output (and error) of your process will
be redirected to the log. For example if you print('hello') it will appear in
the Scrapy log.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOG_SHORT_NAMES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>If True, the logs will just contain the root path. If it is
set to False then it displays the component responsible for the log output</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>LOGSTATS_INTERVAL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 60.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>The interval (in seconds) between each logging printout of
the stats by <i><span style='color:#355F7C'>LogStats</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMDEBUG_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether to enable memory debugging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMDEBUG_NOTIFY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When memory debugging is enabled a memory report will be sent
to the specified addresses if this setting is not empty, otherwise the report
will be written to the log.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image303.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMUSAGE_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.85pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.extensions.memusage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.0pt;
margin-left:.5pt'>Whether to enable the memory usage extension. This extension
keeps track of a peak memory used by the process (it writes it to stats). It
can also optionally shutdown the Scrapy process when it exceeds a memory limit
(see <i><span style='color:#355F7C'>MEMUSAGE_LIMIT_MB</span></i>), and notify
by email when that happened (see <i><span style='color:#355F7C'>MEMUSAGE_NOTIFY_MAIL</span></i>).
See <i><span style='color:#355F7C'>Memory usage extension</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMUSAGE_LIMIT_MB</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.extensions.memusage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.95pt;
margin-left:.5pt'>The maximum amount of memory to allow (in megabytes) before
shutting down Scrapy (if MEMUSAGE_ENABLED is True). If zero, no check will be
performed. See <i><span style='color:#355F7C'>Memory usage extension</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMUSAGE_CHECK_INTERVAL_SECONDS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.85pt;
margin-left:.5pt'>Default: 60.0</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.15pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.extensions.memusage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>Memory usage extension </span></i>checks
the current memory usage, versus the limits set by <i><span style='color:#355F7C'>MEMUSAGE_LIMIT_MB
</span></i>and <i><span style='color:#355F7C'>MEMUSAGE_WARNING_MB</span></i>,
at fixed time intervals.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:256.65pt;margin-bottom:
14.0pt;margin-left:.5pt;line-height:147%'>This sets the length of these
intervals, in seconds. See <i><span style='color:#355F7C'>Memory usage
extension</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMUSAGE_NOTIFY_MAIL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.extensions.memusage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:179.05pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>A list of emails to notify if the memory
limit has been reached. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image304.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Memory usage extension</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MEMUSAGE_WARNING_MB</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.extensions.memusage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The maximum amount of memory to allow (in megabytes) before
sending a warning email notifying about it. If zero, no warning will be
produced.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>NEWSPIDER_MODULE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: ''</p>

<p class=MsoNormal style='margin-top:0in;margin-right:153.1pt;margin-bottom:
0in;margin-left:.5pt;line-height:149%'>Module where to create new spiders using
the <i><span style='color:#355F7C'>genspider </span></i>command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:153.1pt;margin-bottom:
0in;margin-left:.5pt;line-height:149%'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image305.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RANDOMIZE_DOWNLOAD_DELAY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If enabled, Scrapy will wait a random amount of time (between
0.5 * <i><span style='color:#355F7C'>DOWNLOAD_DELAY </span></i>and 1.5 * <i><span
style='color:#355F7C'>DOWNLOAD_DELAY</span></i>) while fetching requests from
the same website.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This randomization decreases the chance of the crawler being
detected (and subsequently blocked) by sites which analyze requests looking for
statistically significant similarities in the time between their requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:156.65pt;margin-bottom:
12.9pt;margin-left:.5pt;line-height:159%'>The randomization policy is the same
used by <a href="https://www.gnu.org/software/wget/manual/wget.html"><span
style='color:#377063;text-decoration:none'>wget</span></a><span
style='color:#377063'> </span>--<sub><span style='font-size:15.5pt;line-height:
159%'>random-wait </span></sub>option. If <i><span style='color:#355F7C'>DOWNLOAD_DELAY
</span></i>is zero (default) this option has no effect.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REACTOR_THREADPOOL_MAXSIZE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 10</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The maximum limit for Twisted Reactor thread pool size. This
is common multi-purpose thread pool used by various Scrapy components. Threaded
DNS Resolver, BlockingFeedStorage, S3FilesStore just to name a few. Increase
this value if you’re experiencing problems with insufficient blocking IO.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REDIRECT_PRIORITY_ADJUST</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:.5pt'>Default: +2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:118.55pt;margin-bottom:
2.6pt;margin-left:.5pt;line-height:155%'>Scope: scrapy.downloadermiddlewares.redirect.RedirectMiddleware
Adjust redirect request priority relative to original request:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.7pt;margin-left:24.5pt;text-align:left;text-indent:-8.45pt;
line-height:108%'><span style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b>a positive priority adjust (default) means higher priority.</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:24.5pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>a negative priority adjust means lower priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ROBOTSTXT_OBEY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
scrapy.downloadermiddlewares.robotstxt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.25pt;
margin-left:.5pt'>If enabled, Scrapy will respect robots.txt policies. For more
information see <i><span style='color:#355F7C'>RobotsTxtMiddleware</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 505941" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.2pt;
margin-left:.5pt'><b>Note: </b>While the default value is False for historical
reasons, this option is enabled by default in settings.py file generated by scrapy
startproject command.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 505942"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ROBOTSTXT_PARSER</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.9pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.robotstxt.ProtegoRobotParser'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>The parser backend to use for parsing robots.txt files. For
more information see <i><span style='color:#355F7C'>RobotsTxtMiddleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>ROBOTSTXT_USER_AGENT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>The user agent string to use for matching in the robots.txt
file. If None, the User-Agent header you are sending with the request or the <i><span
style='color:#355F7C'>USER_AGENT </span></i>setting (in that order) will be
used for determining the user agent to use in the robots.txt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.1pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCHEDULER</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.core.scheduler.Scheduler'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The scheduler class to be used for crawling. See the <i><span
style='color:#355F7C'>Scheduler </span></i>topic for details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCHEDULER_DEBUG</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:128%'>Setting to True will log debug information
about the requests scheduler. This currently logs (only once) if the requests
cannot be serialized to disk. Stats counter (scheduler/unserializable) tracks
the number of times this happens. Example entry in logs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895767040'><span style='left:0px;position:
absolute;left:-5px;top:-94429px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image150.gif"></span></span><span
style='color:#217F4F'>1956</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>01</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>31 00</span>:<span style='color:#217F4F'>00</span>:<span
style='color:#217F4F'>00</span><span style='color:#666666'>+</span><span
style='color:#217F4F'>0800 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>scheduler] ERROR: Unable to serialize request:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>example<span
style='color:#666666'>.</span>com<span style='color:#666666'>&gt; - </span>reason:
cannot serialize <span style='color:#666666'>&lt;</span>Request at <span
style='color:#217F4F'>0x9a7c7ec</span><span style='color:#666666'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>(<span
style='color:#007021'>type </span>Request)<span style='color:#666666'>&gt; - </span>no
more unserializable requests will be logged</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>(see <span
style='color:#4070A1'>'scheduler/unserializable' </span>stats counter)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCHEDULER_DISK_QUEUE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.75pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.squeues.PickleLifoDiskQueue'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.7pt;margin-left:-.25pt;text-align:left;line-height:134%'>Type        of            disk         queue     that         will          be            used        by            scheduler.               Other      available types       are
scrapy. squeues.PickleFifoDiskQueue,              scrapy.squeues.MarshalFifoDiskQueue,           scrapy.squeues.
MarshalLifoDiskQueue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.1pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCHEDULER_MEMORY_QUEUE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.65pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.squeues.LifoMemoryQueue'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:.5pt'>Type of in-memory queue used by scheduler. Other available
type is: scrapy.squeues.FifoMemoryQueue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCHEDULER_PRIORITY_QUEUE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.2pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.pqueues.ScrapyPriorityQueue'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
18.7pt;margin-left:-.25pt;line-height:115%'>Type of priority queue used by the
scheduler. Another available type is scrapy.pqueues.
DownloaderAwarePriorityQueue. scrapy.pqueues.DownloaderAwarePriorityQueue works
better than scrapy.pqueues.ScrapyPriorityQueue when you crawl many different
domains in parallel. But currently scrapy.pqueues.DownloaderAwarePriorityQueue does
not work together with <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SCRAPER_SLOT_MAX_ACTIVE_SIZE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:.5pt'>New in version 2.0.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
5_000_000</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Soft limit (in bytes) for response data being processed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>While the sum of the sizes of all responses being processed
is above this value, Scrapy does not process new requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_CONTRACTS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default:: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>A dict containing the spider contracts enabled in your
project, used for testing spiders.      For more info see <i><span
style='color:#355F7C'>Spiders Contracts</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_CONTRACTS_BASE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=115 src="Scrapy%20Documentation_files/image306.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A dict containing the Scrapy contracts enabled by default in
Scrapy. You should never modify this setting in your project, modify <i><span
style='color:#355F7C'>SPIDER_CONTRACTS </span></i>instead. For more info see <i><span
style='color:#355F7C'>Spiders Contracts</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.5pt'>You can disable any of these contracts by assigning None to
their class path in <i><span style='color:#355F7C'>SPIDER_CONTRACTS</span></i>.
E.g., to disable the built-in ScrapesContract, place this in your settings.py:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image307.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.1pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_LOADER_CLASS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.spiderloader.SpiderLoader'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The class that will be used for loading spiders, which must
implement the <i><span style='color:#355F7C'>SpiderLoader API</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_LOADER_WARN_ONLY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:.5pt'>By default, when Scrapy tries to import spider classes from <i><span
style='color:#355F7C'>SPIDER_MODULES</span></i>, it will fail loudly if there
is any ImportError or SyntaxError exception. But you can choose to silence this
exception and turn it into a simple warning by setting SPIDER_LOADER_WARN_ONLY
= True.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 508046"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.9pt;
margin-left:.5pt'><b>Note: </b>Some <i><span style='color:#355F7C'>scrapy
commands </span></i>run with this setting to True already (i.e. they will only
issue a warning and will not fail) since they do not actually need to load
spider classes to work: <i><span style='color:#355F7C'>scrapy runspider</span></i>,
<i><span style='color:#355F7C'>scrapy settings</span></i>, <i><span
style='color:#355F7C'>scrapy startproject</span></i>, <i><span
style='color:#355F7C'>scrapy version</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 508048"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_MIDDLEWARES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default:: {}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>A dict containing the spider middlewares enabled in your
project, and their orders. For more info see <i><span style='color:#355F7C'>Activating
a spider middleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_MIDDLEWARES_BASE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=131 src="Scrapy%20Documentation_files/image308.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A dict containing the spider middlewares enabled by default
in Scrapy, and their orders. Low orders are closer to the engine, high orders
are closer to the spider. For more info see <i><span style='color:#355F7C'>Activating
a spider middleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>SPIDER_MODULES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:219.35pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>A list of modules where Scrapy will look
for spiders. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image309.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>STATS_CLASS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy.statscollectors.MemoryStatsCollector'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The class to use for collecting stats, who must implement the
<i><span style='color:#355F7C'>Stats Collector API</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>STATS_DUMP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:189.3pt;margin-bottom:
13.9pt;margin-left:.5pt;line-height:148%'>Dump the <i><span style='color:#355F7C'>Scrapy
stats </span></i>(to the Scrapy log) once the spider finishes. For more info
see: <i><span style='color:#355F7C'>Stats Collection</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>STATSMAILER_RCPTS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: [] (empty list)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Send Scrapy stats after spiders finish scraping. See <i><span
style='color:#355F7C'>StatsMailer </span></i>for more info.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TELNETCONSOLE_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>A boolean which specifies if the <i><span style='color:#355F7C'>telnet
console </span></i>will be enabled (provided its extension is also enabled).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TEMPLATES_DIR</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: templates dir inside scrapy module</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The directory where to look for templates when creating new
projects with <i><span style='color:#355F7C'>startproject </span></i>command
and new spiders with <i><span style='color:#355F7C'>genspider </span></i>command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The project name must not conflict with the name of custom
files or directories in the project subdirectory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TWISTED_REACTOR</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:.5pt'>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Import path of a given <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reactor</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy will install this reactor if no other reactor is
installed yet, such as when the scrapy CLI program is invoked or when using the
<i><span style='color:#355F7C'>CrawlerProcess </span></i>class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:129%'>If you are using the <i><span
style='color:#355F7C'>CrawlerRunner </span></i>class, you also need to install
the correct reactor manually. You can do that using <i><span style='color:#355F7C'>install_reactor()</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.9pt;text-indent:-24.9pt'>scrapy.utils.reactor.install_reactor(<i>reactor_path:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>event_loop_path: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Installs the <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>with the
specified import path. Also installs the asyncio event loop with the specified
import path if the asyncio reactor is enabled</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:.5pt'>If a reactor is already installed, <i><span style='color:
#355F7C'>install_reactor() </span></i>has no effect.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>CrawlerRunner.__init__ raises <a
href="https://docs.python.org/3/library/exceptions.html#Exception"><span
style='color:#377063;text-decoration:none'>Exception</span></a><span
style='color:#377063'> </span>if the installed reactor does not match the <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>setting; therefore, having
top-level <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>imports
in project files and imported third-party libraries will make Scrapy raise <a
href="https://docs.python.org/3/library/exceptions.html#Exception"><span
style='color:#377063;text-decoration:none'>Exceptio</span></a><a
href="https://docs.python.org/3/library/exceptions.html#Exception"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>n</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>when it
checks which reactor is installed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=445 src="Scrapy%20Documentation_files/image310.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image311.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=358 src="Scrapy%20Documentation_files/image312.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:.5pt'>The default value of the <i><span style='color:#355F7C'>TWISTED_REACTOR
</span></i>setting is None, which means that Scrapy will use the existing
reactor if one is already installed, or install the default reactor defined by
Twisted for the current platform. This is to maintain backward compatibility
and avoid possible problems caused by using a non-default reactor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.85pt;
margin-left:.5pt;line-height:140%'>Changed in version 2.7: The <i><span
style='color:#355F7C'>startproject </span></i>command now sets this setting to twisted.internet.
asyncioreactor.AsyncioSelectorReactor in the generated settings.py file. For
additional information, see <a
href="https://docs.twisted.org/en/stable/core/howto/choosing-reactor.html"><span
style='color:#377063;text-decoration:none'>Choosing a Reactor and GUI Toolkit
Integration</span></a><a
href="https://docs.twisted.org/en/stable/core/howto/choosing-reactor.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>URLLENGTH_LIMIT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>Default: 2083</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>Scope:
spidermiddlewares.urllength</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The maximum URL length to allow for crawled URLs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.15pt;
margin-left:.5pt;line-height:130%'>This setting can act as a stopping condition
in case of URLs of ever-increasing length, which may be caused for example by a
programming error either in the target server or in your code. See also <i><span
style='color:#355F7C'>REDIRECT_MAX_TIMES </span></i>and <i><span
style='color:#355F7C'>DEPTH_LIMIT</span></i>. Use 0 to allow URLs of any
length.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The default value is copied from the <a
href="https://support.microsoft.com/en-us/topic/maximum-url-length-is-2-083-characters-in-internet-explorer-174e7c8a-6666-f4e0-6fd6-908b53c12246"><span
style='color:#377063;text-decoration:none'>Microsoft Internet Explorer maximum
URL length</span></a><a
href="https://support.microsoft.com/en-us/topic/maximum-url-length-is-2-083-characters-in-internet-explorer-174e7c8a-6666-f4e0-6fd6-908b53c12246"><span
style='color:black;text-decoration:none'>,</span></a> even though this setting
exists for different reasons.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection22>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>USER_AGENT</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
&quot;Scrapy/VERSION (+https://scrapy.org)&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The default User-Agent to use when crawling, unless
overridden. This user agent is also used by <i><span style='color:#355F7C'>RobotsTxtMiddleware
</span></i>if <i><span style='color:#355F7C'>ROBOTSTXT_USER_AGENT </span></i>setting
is None and there is no overriding User-Agent header specified for the request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Settings
documented elsewhere:</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The following settings are documented elsewhere, please check
each specific case to see how to enable and use them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ADDONS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AJAXCRAWL_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ASYNCIO_EVENT_LOOP</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AUTOTHROTTLE_DEBUG</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AUTOTHROTTLE_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AUTOTHROTTLE_MAX_DELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AUTOTHROTTLE_START_DELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_ACCESS_KEY_ID</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_ENDPOINT_URL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_REGION_NAME</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_SECRET_ACCESS_KEY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_SESSION_TOKEN</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_USE_SSL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>AWS_VERIFY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>BOT_NAME</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_ERRORCOUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_ITEMCOUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_PAGECOUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_PAGECOUNT_NO_ITEM</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_TIMEOUT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>CLOSESPIDER_TIMEOUT_NO_ITEM</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>COMMANDS_MODULE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:148%'><span style='line-height:148%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>COMPRESSION_ENABLED
CONCURRENT_ITEMS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>COOKIES_DEBUG</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>COOKIES_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>DEFAULT_ITEM_CLASS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>DEFAULT_REQUEST_HEADERS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DEPTH_LIMIT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DEPTH_PRIORITY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DEPTH_STATS_VERBOSE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DNSCACHE_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DNSCACHE_SIZE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DNS_RESOLVER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DNS_TIMEOUT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_CLIENTCONTEXTFACTORY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_CIPHERS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_METHOD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_HTTPCLIENTFACTORY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOADER_STATS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_DELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_FAIL_ON_DATALOSS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_HANDLERS_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_MAXSIZE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_SLOTS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_TIMEOUT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DOWNLOAD_WARNSIZE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DUPEFILTER_CLASS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DUPEFILTER_DEBUG</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>EDITOR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>EXTENSIONS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>EXTENSIONS_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEEDS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEED_EXPORTERS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEED_EXPORTERS_BASE FEED_EXPORT_BATCH_ITEM_COUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEED_EXPORT_ENCODING</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEED_EXPORT_FIELDS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>FEED_EXPORT_INDENT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORAGES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORAGES_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORAGE_FTP_ACTIVE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORAGE_GCS_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORAGE_S3_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_STORE_EMPTY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_TEMPDIR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FEED_URI_PARAMS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_EXPIRES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_RESULT_FIELD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_STORE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_STORE_GCS_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_STORE_S3_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FILES_URLS_FIELD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FTP_PASSIVE_MODE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FTP_PASSWORD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>FTP_USER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>GCS_PROJECT_ID</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_ALWAYS_STORE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_DBM_MODULE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_DIR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_EXPIRATION_SECS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_GZIP</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_IGNORE_HTTP_CODES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_IGNORE_MISSING</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_IGNORE_SCHEMES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>HTTPCACHE_POLICY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>HTTPCACHE_STORAGE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>HTTPERROR_ALLOWED_CODES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>HTTPERROR_ALLOW_ALL HTTPPROXY_AUTH_ENCODING</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>HTTPPROXY_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>IMAGES_EXPIRES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>IMAGES_MIN_HEIGHT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_MIN_WIDTH</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_RESULT_FIELD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_STORE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_STORE_GCS_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_STORE_S3_ACL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_THUMBS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>IMAGES_URLS_FIELD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ITEM_PIPELINES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ITEM_PIPELINES_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>JOBDIR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOGSTATS_INTERVAL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_DATEFORMAT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_ENCODING</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_FILE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_FILE_APPEND</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_FORMAT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_FORMATTER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_LEVEL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_SHORT_NAMES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>LOG_STDOUT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_FROM</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_HOST</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_PASS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_PORT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_SSL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_TLS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>MAIL_USER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEDIA_ALLOW_REDIRECTS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMDEBUG_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMDEBUG_NOTIFY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMUSAGE_CHECK_INTERVAL_SECONDS MEMUSAGE_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMUSAGE_LIMIT_MB</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMUSAGE_NOTIFY_MAIL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>MEMUSAGE_WARNING_MB</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>METAREFRESH_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>METAREFRESH_IGNORE_TAGS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>METAREFRESH_MAXDELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>NEWSPIDER_MODULE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>PERIODIC_LOG_DELTA</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>PERIODIC_LOG_STATS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>PERIODIC_LOG_TIMING_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RANDOMIZE_DOWNLOAD_DELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REACTOR_THREADPOOL_MAXSIZE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REDIRECT_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REDIRECT_MAX_TIMES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REDIRECT_PRIORITY_ADJUST</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REFERER_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REFERRER_POLICY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>REQUEST_FINGERPRINTER_CLASS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RETRY_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RETRY_EXCEPTIONS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RETRY_HTTP_CODES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RETRY_PRIORITY_ADJUST</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RETRY_TIMES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ROBOTSTXT_OBEY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ROBOTSTXT_PARSER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>ROBOTSTXT_USER_AGENT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>SCHEDULER</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>SCHEDULER_DEBUG</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>SCHEDULER_DISK_QUEUE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>SCHEDULER_MEMORY_QUEUE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:148%'><span style='line-height:148%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE
SCRAPER_SLOT_MAX_ACTIVE_SIZE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_CONTRACTS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_CONTRACTS_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_LOADER_CLASS</span></i></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection23>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_LOADER_WARN_ONLY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_MIDDLEWARES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_MIDDLEWARES_BASE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>SPIDER_MODULES</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>STATSMAILER_RCPTS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>STATS_CLASS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>STATS_DUMP</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TELNETCONSOLE_ENABLED</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TELNETCONSOLE_HOST</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TELNETCONSOLE_PASSWORD</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TELNETCONSOLE_PORT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TELNETCONSOLE_USERNAME</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TEMPLATES_DIR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>TWISTED_REACTOR</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>URLLENGTH_LIMIT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.9pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>USER_AGENT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.45pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>3.12 Exceptions</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>3.12.1 Built-in
Exceptions reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Here’s a list of all exceptions included in Scrapy and their
usage.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:177.0pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:222%'><b><span
style='color:#20435C'>CloseSpider </span></b>exception
scrapy.exceptions.CloseSpider(<i>reason='cancelled'</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This exception can be raised from a spider callback to
request the spider to be closed/stopped. Supported arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:244.0pt;
margin-bottom:.2pt;margin-left:-.75pt;text-align:left;text-indent:49.8pt;
line-height:126%'><b>Parameters </b>reason <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the reason for closing
For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image313.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DontCloseSpider</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.85pt;margin-left:.5pt;text-align:left;line-height:110%'>exception
scrapy.exceptions.DontCloseSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>This exception can be raised in a <i><span style='color:#355F7C'>spider_idle
</span></i>signal handler to prevent the spider from being closed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>DropItem</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.2pt;margin-left:-.25pt;text-align:left;line-height:112%'>exception
scrapy.exceptions.DropItem</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>The exception that must be raised by item pipeline stages to
stop processing an Item. For more information see <i><span style='color:#355F7C'>Item
Pipeline</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>IgnoreRequest</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.3pt;margin-left:.5pt;text-align:left;line-height:110%'>exception
scrapy.exceptions.IgnoreRequest</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>This exception can be raised by the Scheduler or any
downloader middleware to indicate that the request should be ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>NotConfigured</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.3pt;margin-left:.5pt;text-align:left;line-height:110%'>exception
scrapy.exceptions.NotConfigured</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This exception can be raised by some components to indicate
that they will remain disabled. Those components include:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extensions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Item pipelines</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Downloader
middlewares</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider middlewares</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The exception must be raised in the component’s __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>NotSupported</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.3pt;margin-left:.5pt;text-align:left;line-height:110%'>exception
scrapy.exceptions.NotSupported</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>This exception is raised to indicate an unsupported feature.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:210.45pt;margin-bottom:
.35pt;margin-left:0in;text-indent:0in;line-height:187%'><b><span
style='color:#20435C'>StopDownload </span></b>New in version 2.2. exception
scrapy.exceptions.StopDownload(<i>fail=True</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Raised from a <i><span style='color:#355F7C'>bytes_received </span></i>or
<i><span style='color:#355F7C'>headers_received </span></i>signal handler to
indicate that no further bytes should be downloaded for a response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:62.85pt;
margin-left:.5pt'>The fail boolean parameter controls which method will handle
the resulting response:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>3.12.
Exceptions</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If fail=True (default),
the request errback is called. The response object is available as the response
attribute of the StopDownload exception, which is in turn stored as the value attribute
of the received <a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Failure</span></a><span
style='color:#377063'> </span>object. This means that in an errback defined as def
errback(self, failure), the response can be accessed though failure.value.response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If fail=False, the
request callback is called instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:.5pt'>In both cases, the response could have its body truncated:
the body contains all bytes received up until the exception is raised,
including the bytes received in the signal handler that raises the exception.
Also, the response object is marked with &quot;download_stopped&quot; in its Response.flags
attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.7pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 506742" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:132%'><b>Note: </b>fail is a keyword-only
parameter, i.e. raising StopDownload(False) or StopDownload(True) will raise a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeError</span></a><a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 506743"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>See the documentation for the <i><span style='color:#355F7C'>bytes_received
</span></i>and <i><span style='color:#355F7C'>headers_received </span></i>signals
and the <i><span style='color:#355F7C'>Stopping the download of a Response </span></i>topic
for additional information and examples.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Command line tool</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn about the command-line tool used to manage your
Scrapy project.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Spiders</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Write the rules to crawl your websites.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Selectors</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Extract the data from web pages using XPath.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Scrapy shell</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Test your extraction code in an interactive environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Items</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Define the data you want to scrape.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Item Loaders</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Populate your items with the extracted data.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Item Pipeline</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Post-process and store your scraped data.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Feed exports</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Output your scraped data using different formats and
storages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Requests and Responses</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Understand the classes used to represent HTTP requests and
responses.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Link Extractors</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Convenient classes to extract links to follow from pages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Settings</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to configure Scrapy and see all <i><span
style='color:#355F7C'>available settings</span></i>.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>Exceptions</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>See all available exceptions and their meaning.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection24>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 506680"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>FOUR</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 506681"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>BUILT-IN SERVICES</span></b></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'><b><span style='font-size:14.5pt;line-height:107%;color:#20435C'>4.1
Logging</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 506682" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b><sub><span style='font-size:15.5pt;line-height:
103%'>scrapy.log </span></sub>has been deprecated alongside its functions in
favor of explicit calls to the Python standard logging. Keep reading to learn
more about the new logging system.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 506683"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy uses <a
href="https://docs.python.org/3/library/logging.html#module-logging"><span
style='color:#377063;text-decoration:none'>loggin</span></a><a
href="https://docs.python.org/3/library/logging.html#module-logging"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>g</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>for event
logging. We’ll provide some simple examples to get you started, but for more
advanced use-cases it’s strongly suggested to read thoroughly its
documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>Logging works out of the box, and can be configured to some
extent with the Scrapy settings listed in <i><span style='color:#355F7C'>Logging
settings</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Scrapy calls <i><span style='color:#355F7C'>scrapy.utils.log.configure_logging()
</span></i>to set some reasonable defaults and handle those settings in <i><span
style='color:#355F7C'>Logging settings </span></i>when running commands, so
it’s recommended to manually call it if you’re running Scrapy from scripts as
described in <i><span style='color:#355F7C'>Run Scrapy from a script</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.1.1 Log levels</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:.5pt'>Python’s builtin logging defines 5 different levels to
indicate the severity of a given log message. Here are the standard ones,
listed in decreasing order:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>logging.CRITICAL
- for critical errors (highest severity)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>logging.ERROR -
for regular errors</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>logging.WARNING
- for warning messages</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>logging.INFO -
for informational messages</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>logging.DEBUG -
for debugging messages (lowest severity)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.1.2 How to log
messages</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here’s a quick example of how to log a message using the logging.WARNING
level:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image314.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are shortcuts for issuing log messages on any of the
standard 5 levels, and there’s also a general logging.log method which takes a
given level as argument. If needed, the last example could be rewritten as:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image315.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>On top of that, you can create different “loggers” to
encapsulate messages. (For example, a common practice is to create different
loggers for every module). These loggers can be configured independently, and
they allow hierarchical constructions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The previous examples use the root logger behind the scenes,
which is a top level logger where all messages are propagated to (unless
otherwise specified). Using logging helpers is merely a shortcut for getting
the root logger explicitly, so this is also an equivalent of the last snippets:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image316.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>You can use a different logger just by getting its name with
the logging.getLogger function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image317.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Finally, you can ensure having a custom logger for any module
you’re working on by using the __name__ variable, which is populated with
current module’s path:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image318.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:344.5pt;margin-bottom:
6.75pt;margin-left:24.9pt;text-indent:-24.9pt'><b>Module logging, </b><a
href="https://docs.python.org/3/howto/logging.html"><b><span style='color:#377063;
text-decoration:none'>HowTo </span></b></a>Basic Logging Tutorial</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:108%'><b>Module
logging, </b><a href="https://docs.python.org/3/library/logging.html#logger"><b><span
style='color:#377063;text-decoration:none'>Loggers</span></b></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:25.4pt'>Further documentation on loggers</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.1.3 Logging from
Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Scrapy provides a <i><span style='color:#355F7C'>logger </span></i>within
each Spider instance, which can be accessed and used like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image319.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>That logger is created using the Spider’s name, but you can
use any custom Python logger you want. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200 src="Scrapy%20Documentation_files/image320.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.1.4 Logging
configuration</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Loggers on their own don’t manage how messages sent through
them are displayed. For this task, different “handlers” can be attached to any
logger instance and they will redirect those messages to appropriate
destinations, such as the standard output, files, emails, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>By default, Scrapy sets and configures a handler for the root
logger, based on the settings below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Logging
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.75pt;
margin-left:.5pt'>These settings can be used to configure the logging:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_FILE</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_FILE_APPEND</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_ENCODING</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_LEVEL</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_FORMAT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_DATEFORMAT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_STDOUT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LOG_SHORT_NAMES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The first couple of settings define a destination for log
messages. If <i><span style='color:#355F7C'>LOG_FILE </span></i>is set,
messages sent through the root logger will be redirected to a file named <i><span
style='color:#355F7C'>LOG_FILE </span></i>with encoding <i><span
style='color:#355F7C'>LOG_ENCODING</span></i>. If unset and <i><span
style='color:#355F7C'>LOG_ENABLED </span></i>is True, log messages will be
displayed on the standard error. If <i><span style='color:#355F7C'>LOG_FILE </span></i>is
set and <i><span style='color:#355F7C'>LOG_FILE_APPEND </span></i>is False, the
file will be overwritten (discarding the output from previous runs, if any).
Lastly, if <i><span style='color:#355F7C'>LOG_ENABLED </span></i>is False,
there won’t be any visible log output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>LOG_LEVEL </span></i>determines
the minimum level of severity to display, those messages with lower severity
will be filtered out. It ranges through the possible levels listed in <i><span
style='color:#355F7C'>Log levels</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>LOG_FORMAT </span></i>and <i><span
style='color:#355F7C'>LOG_DATEFORMAT </span></i>specify formatting strings used
as layouts for all messages. Those strings can contain any placeholders listed
in <a href="https://docs.python.org/3/library/logging.html#logrecord-attributes"><span
style='color:#377063;text-decoration:none'>logging’s logrecord attributes docs</span></a><span
style='color:#377063'> </span>and <a
href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior"><span
style='color:#377063;text-decoration:none'>datetime’s strftime and strptime
directives </span></a>respectively.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:26.1pt;
margin-left:.5pt'>If <i><span style='color:#355F7C'>LOG_SHORT_NAMES </span></i>is
set, then the logs will not display the Scrapy component that prints the log.
It is unset by default, hence logs contain the Scrapy component responsible for
that log output.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.1.
Logging</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Command-line
options</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.75pt;
margin-left:.5pt'>There are command-line arguments, available for all commands,
that you can use to override some of the Scrapy settings regarding logging.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.15pt;margin-left:24.9pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>--logfile FILE Overrides <i><span style='color:#355F7C'>LOG_FILE</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.9pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>--loglevel/-L LEVEL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:50.3pt'>Overrides <i><span style='color:#355F7C'>LOG_LEVEL</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.9pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>--nolog</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:50.3pt;line-height:108%'>Sets <i><span style='color:#355F7C'>LOG_ENABLED
</span></i>to False</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><b>Module </b><a
href="https://docs.python.org/3/library/logging.handlers.html#module-logging.handlers"><span
style='color:#377063;text-decoration:none'>logging.handlers</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:25.4pt'>Further documentation on available handlers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Custom Log
Formats</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:129%'>A custom log format can be set for different
actions by extending <i><span style='color:#355F7C'>LogFormatter </span></i>class
and making <i><span style='color:#355F7C'>LOG_FORMATTER </span></i>point to
your new class. class scrapy.logformatter.LogFormatter</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Class for generating log messages for different actions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:25.4pt;line-height:128%'>All methods must return a dictionary
listing the parameters level, msg and args which are going to be used for
constructing the log message when calling logging.log. Dictionary keys for the
method outputs:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.05pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>level
is the log level for that action, you can use those from the <a
href="https://docs.python.org/3/library/logging.html"><span style='color:#377063;
text-decoration:none'>python logging library</span></a><span style='color:#377063'>
</span>: logging.DEBUG, logging.INFO, logging.WARNING, logging.ERROR and logging.CRITICAL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>msg should be a
string that can contain different formatting placeholders. This string,
formatted with the provided args, is going to be the long message for that
action.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.25pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:125%'><span
style='line-height:125%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>args
should be a tuple or dict with the formatting placeholders for msg. The final
log message is computed as msg % args.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Users can define their own LogFormatter class if they want
to customize how each action is logged or if they want to omit it entirely. In
order to omit logging an action the method must return None.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>Here is an example on how to create a custom log formatter
to lower the severity level of the log message when an item is dropped from the
pipeline:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=168 src="Scrapy%20Documentation_files/image321.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:66.9pt;margin-bottom:
3.7pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:124%'>crawled<sub><span
style='font-size:15.5pt;line-height:124%'>(</span></sub><i>request: </i><span
style='color:#355F7C'>Request</span>, <i>response: </i><span style='color:#355F7C'>Response</span>,
<i>spider: </i><span style='color:#355F7C'>Spider</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span>LogFormatterResult Logs a
message when the crawler finds a webpage.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:103.35pt;text-align:left;text-indent:-78.45pt;
line-height:104%'>download_error<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>failure: </i><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>Failure</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>,</span></a> <i>request: </i><span
style='color:#355F7C'>Request</span>, <i>spider: </i><span style='color:#355F7C'>Spider</span>,
<i>errmsg: </i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span>LogFormatterResult</p>

<p class=MsoNormal style='margin-top:0in;margin-right:73.65pt;margin-bottom:
.6pt;margin-left:50.3pt;line-height:147%'>Logs a download error message from a
spider (typically coming from the engine). New in version 2.0.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:66.75pt;text-align:left;text-indent:-41.85pt;
line-height:104%'>dropped<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>item:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>exception: </i><a
href="https://docs.python.org/3/library/exceptions.html#BaseException"><i><span
style='color:#377063;text-decoration:none'>BaseException</span></i></a><a
href="https://docs.python.org/3/library/exceptions.html#BaseException"><span
style='color:black;text-decoration:none'>,</span></a> <i>response: </i><span
style='color:#355F7C'>Response </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>spider: </i><span
style='color:#355F7C'>Spider</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span>LogFormatterResult</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Logs a message when an item is dropped while it is passing
through the item pipeline.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:82.45pt;text-align:left;text-indent:-57.55pt;
line-height:104%'>item_error<sub><span style='font-size:15.5pt;line-height:
104%'>(</span></sub><i>item: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>exception: </i><a
href="https://docs.python.org/3/library/exceptions.html#BaseException"><i><span
style='color:#377063;text-decoration:none'>BaseException</span></i></a><a
href="https://docs.python.org/3/library/exceptions.html#BaseException"><span
style='color:black;text-decoration:none'>,</span></a> <i>response: </i><span
style='color:#355F7C'>Response </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>spider: </i><span
style='color:#355F7C'>Spider</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span>LogFormatterResult</p>

<p class=MsoNormal style='margin-top:0in;margin-right:38.75pt;margin-bottom:
.6pt;margin-left:50.3pt;line-height:147%'>Logs a message when an item causes an
error while it is passing through the item pipeline. New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:29.5pt;margin-bottom:
.05in;margin-left:49.8pt;text-indent:-24.9pt;line-height:124%'>scraped<sub><span
style='font-size:15.5pt;line-height:124%'>(</span></sub><i>item: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>response: </i><span
style='color:#355F7C'>Response </span><i>| </i><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>Failure</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>spider: </i><span
style='color:#355F7C'>Spider</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span>LogFormatterResult Logs a message when an item is scraped by a spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:40.7pt;
margin-bottom:2.8pt;margin-left:49.8pt;text-align:left;text-indent:-24.9pt;
line-height:126%'>spider_error<sub><span style='font-size:15.5pt;line-height:
126%'>(</span></sub><i>failure: </i><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>Failure</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>,</span></a> <i>request: </i><span
style='color:#355F7C'>Request</span>, <i>response: </i><span style='color:#355F7C'>Response
</span><i>| </i><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>Failure</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>,</span></a> <i>spider: </i><span
style='color:#355F7C'>Spider</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span>LogFormatterResult Logs an error message from a spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:50.3pt'>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Advanced
customization</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:.5pt'>Because Scrapy uses stdlib logging module, you can customize
logging using all features of stdlib logging. For example, let’s say you’re
scraping a website which returns many HTTP 404 and 500 responses, and you want
to hide all messages like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:86.2pt;
margin-bottom:13.45pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895766016'><span style='left:0px;position:
absolute;left:-5px;top:-109285px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image165.gif"></span></span><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 22</span>:<span style='color:#217F4F'>00</span>:<span
style='color:#217F4F'>06 </span>[scrapy<span style='color:#666666'>.</span>spidermiddlewares<span
style='color:#666666'>.</span>httperror] INFO: Ignoring response <span
style='color:#666666'>&lt;</span><span style='color:#217F4F'>500 </span>https:<span
style='color:#666666'>//</span>quotes<span style='color:#666666'>.</span>toscrape<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>page<span
style='color:#666666'>/</span><span style='color:#217F4F'>1</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>34</span><span
style='color:#666666'>/&gt;</span>: HTTP status code <span style='color:#007021'>is
not </span>handled <span style='color:#007021'>or not </span>allowed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The first thing to note is a logger name - it is in brackets:
[scrapy.spidermiddlewares.httperror]. If you get just [scrapy] then <i><span
style='color:#355F7C'>LOG_SHORT_NAMES </span></i>is likely set to True; set it
to False and re-run the crawl.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.7pt;
margin-left:.5pt'>Next, we can see that the message has INFO level. To hide it
we should set logging level for scrapy. spidermiddlewares.httperror higher than
INFO; next level after INFO is WARNING. It could be done e.g. in the spider’s __init__
method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:31.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image322.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.1.
Logging</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>If you run this spider again then INFO messages from scrapy.spidermiddlewares.httperror
logger will be gone. You can also filter log records by <a
href="https://docs.python.org/3/library/logging.html#logging.LogRecord"><span
style='color:#377063;text-decoration:none'>LogRecor</span></a><a
href="https://docs.python.org/3/library/logging.html#logging.LogRecord"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>data. For
example, you can filter log records by message content using a substring or a
regular expression. Create a <a
href="https://docs.python.org/3/library/logging.html#logging.Filter"><span
style='color:#377063;text-decoration:none'>logging.Filte</span></a><a
href="https://docs.python.org/3/library/logging.html#logging.Filter"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>subclass
and equip it with a regular expression pattern to filter out unwanted messages:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image323.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>A project-level filter may be attached to the root handler
created by Scrapy, this is a wieldy way to filter all loggers in different
parts of the project (middlewares, spider, etc.):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image324.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Alternatively, you may choose a specific logger and hide it
without affecting other loggers:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image325.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.05pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.1.5 scrapy.utils.log
module</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:11.7pt;
margin-bottom:4.9pt;margin-left:24.15pt;text-align:left;text-indent:-24.9pt;
line-height:104%'>scrapy.utils.log.configure_logging(<i>settings: </i><span
style='color:#355F7C'>Settings </span><i>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Union"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Union"><i><span
style='color:#377063;text-decoration:none'>Union</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> NoneType], </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>install_root_handler: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Initialize logging
defaults for Scrapy.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>settings (dict, <i><span
style='color:#355F7C'>Settings </span></i>object or None) – settings used to
create and configure a handler for the root logger (default: None).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>install_root_handler
<a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – whether to install root
logging handler (default: True) This function does:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Route warnings and
twisted logging through Python standard logging</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Assign DEBUG and
ERROR level to Scrapy and Twisted loggers respectively</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Route stdout to log
if LOG_STDOUT setting is True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:25.4pt'>When install_root_handler is True (default), this function
also creates a handler for the root logger according to given settings (see <i><span
style='color:#355F7C'>Logging settings</span></i>). You can override default
options using settings argument. When settings is empty or None, defaults are
used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>configure_logging is automatically called when using Scrapy
commands or <i><span style='color:#355F7C'>CrawlerProcess</span></i>, but needs
to be called explicitly when running custom scripts using <i><span
style='color:#355F7C'>CrawlerRunner</span></i>. In that case, its usage is not
required but it’s recommended.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:25.4pt'>Another option when running custom scripts is to manually
configure the logging. To do this you can use <a
href="https://docs.python.org/3/library/logging.html#logging.basicConfig"><span
style='color:#377063;text-decoration:none'>logging.basicConfig()</span></a><span
style='color:#377063'> </span>to set a basic root handler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.8pt;
margin-left:25.4pt;line-height:125%'>Note that <i><span style='color:#355F7C'>CrawlerProcess
</span></i>automatically calls configure_logging, so it is recommended to only
use <a href="https://docs.python.org/3/library/logging.html#logging.basicConfig"><span
style='color:#377063;text-decoration:none'>logging.basicConfig()</span></a><span
style='color:#377063'> </span>together with <i><span style='color:#355F7C'>CrawlerRunner</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>This is an example on how to redirect INFO or higher
messages to a file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.35pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89 src="Scrapy%20Documentation_files/image326.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.55pt;
margin-left:25.4pt'>Refer to <i><span style='color:#355F7C'>Run Scrapy from a
script </span></i>for more details about using Scrapy this way.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>4.2 Stats Collection</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy provides a convenient facility for collecting stats in
the form of key/values, where values are often counters. The facility is called
the Stats Collector, and can be accessed through the <i><span style='color:
#355F7C'>stats </span></i>attribute of the <i><span style='color:#355F7C'>Crawler
API</span></i>, as illustrated by the examples in the <i><span
style='color:#355F7C'>Common Stats Collector uses </span></i>section below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>However, the Stats Collector is always available, so you can
always import it in your module and use its API (to increment or set new stat
keys), regardless of whether the stats collection is enabled or not. If it’s
disabled, the API will still work but it won’t collect anything. This is aimed
at simplifying the stats collector usage: you should spend no more than one
line of code for collecting stats in your spider, Scrapy extension, or whatever
code you’re using the Stats Collector from.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Another feature of the Stats Collector is that it’s very
efficient (when enabled) and extremely efficient (almost unnoticeable) when
disabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:147.45pt;
margin-left:.5pt'>The Stats Collector keeps a stats table per open spider which
is automatically opened when the spider is opened, and closed when the spider
is closed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.2.
Stats Collection</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.2.1 Common Stats
Collector uses</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Access the stats collector through the <i><span
style='color:#355F7C'>stats </span></i>attribute. Here is an example of an
extension that access stats:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=148 src="Scrapy%20Documentation_files/image327.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image328.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Increment stat value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image329.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Set stat value only if greater than previous:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image330.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Set stat value only if lower than previous:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image331.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Get stat value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image332.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>Get all stats:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>stats<span style='color:#666666'>.</span>get_stats()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895764992'><span style='left:0px;position:
absolute;left:-5px;top:-111948px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#333333'>{'custom_count': 1, 'start_time': datetime.datetime(2009,
7, 14, 21, 47, 28, 977139)}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.2.2 Available Stats
Collectors</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.9pt;
margin-left:.5pt'>Besides the basic StatsCollector there are other Stats
Collectors available in Scrapy which extend the basic Stats Collector. You can
select which Stats Collector to use through the <i><span style='color:#355F7C'>STATS_CLASS
</span></i>setting. The default Stats Collector used is the MemoryStatsCollector.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:211.7pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>MemoryStatsCollector </span></b>class
scrapy.statscollectors.MemoryStatsCollector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>A simple stats collector that keeps the stats of the last
scraping run (for each spider) in memory, after they’re closed. The stats can
be accessed through the <i><span style='color:#355F7C'>spider_stats </span></i>attribute,
which is a dict keyed by spider domain name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:185.1pt;margin-bottom:
0in;margin-left:25.4pt;line-height:147%'>This is the default Stats Collector
used in Scrapy. spider_stats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:50.3pt'>A dict of dicts (keyed by spider name) containing the stats
of the last scraping run for each spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:216.95pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>DummyStatsCollector </span></b>class
scrapy.statscollectors.DummyStatsCollector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.7pt;
margin-left:25.4pt'>A Stats collector which does nothing but is very efficient
(because it does nothing). This stats collector can be set via the <i><span
style='color:#355F7C'>STATS_CLASS </span></i>setting, to disable stats collect
in order to improve performance. However, the performance penalty of stats
collection is usually marginal compared to other Scrapy workload like parsing
pages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>4.3 Sending e-mail</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Although Python makes sending e-mails relatively easy via the
<a href="https://docs.python.org/3/library/smtplib.html#module-smtplib"><span
style='color:#377063;text-decoration:none'>smtpli</span></a><a
href="https://docs.python.org/3/library/smtplib.html#module-smtplib"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>b</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>library,
Scrapy provides its own facility for sending e-mails which is very easy to use
and it’s implemented using <a
href="https://docs.twisted.org/en/stable/core/howto/defer-intro.html"><span
style='color:#377063;text-decoration:none'>Twisted non-blocking IO</span></a><a
href="https://docs.twisted.org/en/stable/core/howto/defer-intro.html"><span
style='color:black;text-decoration:none'>,</span></a> to avoid interfering with
the non-blocking IO of the crawler. It also provides a simple API for sending
attachments and it’s very easy to configure, with a few <i><span
style='color:#355F7C'>settings</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.3.1 Quick example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>There are two ways to instantiate the mail sender. You can
instantiate it using the standard __init__ method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image333.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Or you can instantiate it passing a scrapy.Crawler instance,
which will respect the <i><span style='color:#355F7C'>settings</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image334.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>And here is how to use it to send an e-mail (without
attachments):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image335.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:22.25pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.3.
Sending e-mail</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image336.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.3.2 MailSender class
reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>MailSender is the preferred class to use for sending emails
from Scrapy, as it uses <a
href="https://docs.twisted.org/en/stable/core/howto/defer-intro.html"><span
style='color:#377063;text-decoration:none'>Twisted non-blocking IO</span></a><a
href="https://docs.twisted.org/en/stable/core/howto/defer-intro.html"><span
style='color:black;text-decoration:none'>,</span></a> like the rest of the
framework.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.25pt;margin-left:150.95pt;text-align:left;text-indent:-151.7pt;
line-height:104%'>class scrapy.mail.MailSender(<i>smtphost=None</i>, <i>mailfrom=None</i>,
<i>smtpuser=None</i>, <i>smtppass=None</i>, <i>smtpport=None</i>)</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtphost <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – the SMTP host to use
for sending the emails. If omitted, the <i><span style='color:#355F7C'>MAIL_HOST
</span></i>setting will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mailfrom <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the address used to
send emails (in the From: header). If omitted, the <i><span style='color:#355F7C'>MAIL_FROM
</span></i>setting will be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtpuser – the SMTP
user. If omitted, the <i><span style='color:#355F7C'>MAIL_USER </span></i>setting
will be used. If not given, no SMTP authentication will be performed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtppass <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – the SMTP pass for
authentication.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtpport <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the SMTP port to
connect to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtptls <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – enforce using SMTP
STARTTLS</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>smtpssl <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – enforce using a secure
SSL connection</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.35pt;margin-left:24.65pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Instantiate using a scrapy.Crawler instance, which will
respect <i><span style='color:#355F7C'>these Scrapy settings</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:287.2pt;margin-bottom:
5.5pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>crawler – the
crawler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:85.7pt;
margin-bottom:4.75pt;margin-left:49.8pt;text-align:left;text-indent:-24.9pt;
line-height:104%'>send<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>to</i>,
<i>subject</i>, <i>body</i>, <i>cc=None</i>, <i>attachs=()</i>, <i>mimetype='text/plain'</i>,
<i>charset=None</i>) Send email to the given recipients.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>to <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:103%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>list</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – the e-mail recipients
as a string or as a list of strings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>subject <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the subject of the
e-mail</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>cc <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:103%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>list</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – the e-mails to CC as a
string or as a list of strings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>body <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the e-mail body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>attachs <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Iterable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable"><span
style='color:black;text-decoration:none'>)</span></a> – an iterable of tuples (attach_name,
mimetype, file_object) where attach_name is a string with the name that will
appear on the e-mail’s attachment, mimetype is the mimetype of the attachment
and file_object is a readable file object with the contents of the attachment</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mimetype <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the MIME type of the
e-mail</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>charset <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the character encoding
to use for the e-mail contents</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.3.3 Mail settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>These settings define the default __init__ method values of
the <i><span style='color:#355F7C'>MailSender </span></i>class, and can be used
to configure e-mail notifications in your project without writing any code (for
those extensions and code that uses <i><span style='color:#355F7C'>MailSender</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_FROM</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'scrapy@localhost'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>Sender email to use (From: header) for sending emails.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_HOST</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'localhost'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>SMTP host to use for sending emails.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_PORT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 25</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>SMTP port to use for sending emails.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_USER</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>User to use for SMTP authentication. If disabled no SMTP
authentication will be performed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_PASS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Password to use for SMTP authentication, along with <i><span
style='color:#355F7C'>MAIL_USER</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_TLS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Enforce using STARTTLS. STARTTLS is a way to take an existing
insecure connection, and upgrade it to a secure connection using SSL/TLS.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MAIL_SSL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:87.8pt;
margin-left:.5pt'>Enforce connecting using an SSL encrypted connection</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.3.
Sending e-mail</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>4.4 Telnet Console</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy comes with a built-in telnet console for inspecting
and controlling a Scrapy running process. The telnet console is just a regular
python shell running inside the Scrapy process, so you can do literally
anything from it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.85pt;
margin-left:.5pt'>The telnet console is a <i><span style='color:#355F7C'>built-in
Scrapy extension </span></i>which comes enabled by default, but you can also
disable it if you want. For more information about the extension itself see <i><span
style='color:#355F7C'>Telnet console extension</span></i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.35pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>It is
not secure to use telnet console via public networks, as telnet doesn’t provide
any transport-layer security. Having username/password authentication doesn’t
change that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:33.0pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'>Intended usage is
connecting to a running Scrapy spider locally (spider process and telnet client
are on the same machine) or over a secure connection (VPN, SSH tunnel). Please
avoid using telnet console over insecure connections, or disable it completely
using <i><span style='color:#355F7C'>TELNETCONSOLE_ENABLED </span></i>option.</p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.4.1 How to access the
telnet console</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The telnet console listens in the TCP port defined in the <i><span
style='color:#355F7C'>TELNETCONSOLE_PORT </span></i>setting, which defaults to 6023.
To access the console you need to type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image337.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:.5pt'>By default Username is scrapy and Password is autogenerated.
The autogenerated Password can be seen on Scrapy logs like the example below:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.5pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895763968'><span style='left:0px;position:
absolute;left:-5px;top:-115174px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>2018-10-16
14:35:21 [scrapy.extensions.telnet] INFO: Telnet Password: 16f92501e8a59326</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.4pt;
margin-left:.5pt;line-height:131%'>Default   Username              and         Password                can          be            overridden            by            the          settings
<i><span style='color:#355F7C'>TELNETCONSOLE_USERNAME </span></i>and <i><span
style='color:#355F7C'>TELNETCONSOLE_PASSWORD</span></i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>Username
and password provide only a limited protection, as telnet is not using secure
transport - by default traffic is not encrypted even if username and password
are set.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You need the telnet program which comes installed by default
in Windows, and most Linux distros.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.4.2 Available
variables in the telnet console</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The telnet console is like a regular Python shell running
inside the Scrapy process, so you can do anything from it including importing
new modules, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.35pt;
margin-left:.5pt'>However, the telnet console comes with some default variables
defined for convenience:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=405
 style='width:303.8pt;margin-left:82.1pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=86 valign=top style='width:64.35pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Shortcut</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Description</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=86 valign=top style='width:64.35pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>crawler</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the Scrapy Crawler (<i><span style='color:#355F7C'>scrapy.crawler.Crawler
  </span></i>object)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>engine</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Crawler.engine attribute</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>spider</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the active spider</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>slot</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the engine slot</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>extensions</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the Extension Manager (Crawler.extensions attribute)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>stats</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the Stats Collector (Crawler.stats attribute)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>settings</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>the Scrapy settings object (Crawler.settings attribute)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>est</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>print a report of the engine status</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>prefs</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>for memory debugging (see <i><span style='color:#355F7C'>Debugging
  memory leaks</span></i>)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=86 valign=top style='width:64.35pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>p</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>a shortcut to the <a
  href="https://docs.python.org/3/library/pprint.html#pprint.pprint"><span
  style='color:#377063;text-decoration:none'>pprint.pprint()</span></a><span
  style='color:#377063'> </span>function</p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=86 valign=top style='width:64.35pt;border:none;border-bottom:solid black 1.0pt;
  background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>hpy</p>
  </td>
  <td width=319 valign=top style='width:239.45pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:
  13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>for memory debugging (see <i><span style='color:#355F7C'>Debugging
  memory leaks</span></i>)</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.4.3 Telnet console
usage examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Here are some example tasks you can do with the telnet
console:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>View engine
status</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>You can use the est() method of the Scrapy engine to quickly
show its state using the telnet console:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:88.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=296 src="Scrapy%20Documentation_files/image338.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.4.
Telnet Console</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Pause,
resume and stop the Scrapy engine</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To pause:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image339.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To resume:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image339.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To stop:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image339.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.65pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.4.4 Telnet Console
signals</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.extensions.telnet.update_telnet_vars(<i>telnet_vars</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent just before the telnet console is opened. You can hook
up to this signal to add, remove or update the variables that will be available
in the telnet local namespace. In order to do that, you need to update the telnet_vars
dict in your handler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:50.3pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.7pt;
margin-left:72.25pt'>telnet_vars <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>)</span></a> – the dict of telnet
variables</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>4.4.5 Telnet settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>These are the settings that control the telnet console’s
behaviour:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TELNETCONSOLE_PORT</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
[6023, 6073]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The port range to use for the telnet console. If set to None,
a dynamically assigned port is used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TELNETCONSOLE_HOST</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'127.0.0.1'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The interface the telnet console should listen on</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.95pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TELNETCONSOLE_USERNAME</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'scrapy'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The username used for the telnet console</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>TELNETCONSOLE_PASSWORD</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The password used for the telnet console, default behaviour
is to have it autogenerated</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Logging</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to use Python’s builtin logging on Scrapy.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Stats Collection</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Collect statistics about your scraping crawler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Sending e-mail</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Send email notifications when certain events occur.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>Telnet Console</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:419.25pt;
margin-left:25.4pt'>Inspect a running crawler using a built-in Python console.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>4.4.
Telnet Console</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection25>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 512345"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>FIVE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 512346"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>SOLVING SPECIFIC PROBLEMS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.5pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.1 Frequently Asked
Questions</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.1 How does Scrapy
compare to BeautifulSoup or lxml?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a href="https://www.crummy.com/software/BeautifulSoup/"><span
style='color:#377063;text-decoration:none'>BeautifulSoup</span></a><span
style='color:#377063'> </span>and <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><span
style='color:#377063'> </span>are libraries for parsing HTML and XML. Scrapy is
an application framework for writing web spiders that crawl web sites and
extract data from them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy provides a built-in mechanism for extracting data
(called <i><span style='color:#355F7C'>selectors</span></i>) but you can easily
use <a href="https://www.crummy.com/software/BeautifulSoup/"><span
style='color:#377063;text-decoration:none'>BeautifulSoup</span></a><span
style='color:#377063'> </span>(or <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>)</span></a>
instead, if you feel more comfortable working with them. After all, they’re
just parsing libraries which can be imported and used from any Python code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>In other words, comparing <a
href="https://www.crummy.com/software/BeautifulSoup/"><span style='color:#377063;
text-decoration:none'>BeautifulSoup</span></a><span style='color:#377063'> </span>(or
<a href="https://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>)</span></a>
to Scrapy is like comparing <a
href="https://palletsprojects.com/projects/jinja/"><span style='color:#377063;
text-decoration:none'>jinja2</span></a><span style='color:#377063'> </span>to <a
href="https://www.djangoproject.com/"><span style='color:#377063;text-decoration:
none'>Django</span></a><a href="https://www.djangoproject.com/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.2 Can I use Scrapy
with BeautifulSoup?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>Yes,
you can. As mentioned <i><span style='color:#355F7C'>above</span></i>, <a
href="https://www.crummy.com/software/BeautifulSoup/"><span style='color:#377063;
text-decoration:none'>BeautifulSoup</span></a><span style='color:#377063'> </span>can
be used for parsing HTML responses in Scrapy callbacks. You just have to feed
the response’s body into a BeautifulSoup object and extract whatever data you
need from it. Here’s an example spider using BeautifulSoup API, with lxml as
the HTML parser:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216 src="Scrapy%20Documentation_files/image340.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 512348"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b><sub><span style='font-size:15.5pt;line-height:
103%'>BeautifulSoup </span></sub>supports several HTML/XML parsers. See <a
href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#specifying-the-parser-to-use"><span
style='color:#377063;text-decoration:none'>BeautifulSoup’s official
documentation</span></a><span style='color:#377063'> </span>on which ones are
available.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 512349"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.3 Did Scrapy
“steal” X from Django?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Probably, but we don’t like that word. We think <a
href="https://www.djangoproject.com/"><span style='color:#377063;text-decoration:
none'>Django</span></a><span style='color:#377063'> </span>is a great open
source project and an example to follow, so we’ve used it as an inspiration for
Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We believe that, if something is already done well, there’s
no need to reinvent it. This concept, besides being one of the foundations for
open source and free software, not only applies to software but also to
documentation, procedures, policies, etc. So, instead of going through each
problem ourselves, we choose to copy ideas from those projects that have
already solved them properly, and focus on the real problems we need to solve.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>We’d be proud if Scrapy serves as an inspiration for other
projects. Feel free to steal from us!</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.4 Does Scrapy work
with HTTP proxies?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.4pt;
margin-left:.5pt;line-height:128%'>Yes. Support for HTTP proxies is provided
(since Scrapy 0.8) through the HTTP Proxy downloader middleware. See <i><span
style='color:#355F7C'>HttpProxyMiddleware</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.5 How can I scrape
an item with attributes in different pages?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Passing additional data to callback functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.6 How can I
simulate a user login in my spider?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Using FormRequest.from_response() to simulate a user
login</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.7 Does Scrapy crawl
in breadth-first or depth-first order?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default, Scrapy uses a <a
href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)"><span
style='color:#377063;text-decoration:none'>LIFO</span></a><span
style='color:#377063'> </span>queue for storing pending requests, which
basically means that it crawls in <a
href="https://en.wikipedia.org/wiki/Depth-first_search"><span style='color:
#377063;text-decoration:none'>DFO order</span></a><a
href="https://en.wikipedia.org/wiki/Depth-first_search"><span style='color:
black;text-decoration:none'>. </span></a>This order is more convenient in most
cases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>If you do want to crawl in true <a
href="https://en.wikipedia.org/wiki/Breadth-first_search"><span
style='color:#377063;text-decoration:none'>BFO order</span></a><a
href="https://en.wikipedia.org/wiki/Breadth-first_search"><span
style='color:black;text-decoration:none'>,</span></a> you can do it by setting
the following settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image341.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:0in;text-align:left;text-indent:0in'>While       pending       requests      are       below       the       configured       values        of       <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS</span></i>,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:.5pt'><i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN
</span></i>or <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i>,
those requests are sent concurrently. As a result, the first few requests of a
crawl rarely follow the desired order. Lowering those settings to 1 enforces
the desired order, but it significantly slows down the crawl as a whole.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.8 My Scrapy crawler
has memory leaks. What can I do?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Debugging memory leaks</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Also, Python has a builtin memory leak issue which is
described in <i><span style='color:#355F7C'>Leaks without leaks</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.9 How can I make
Scrapy consume less memory?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>See previous question.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.10 How can I
prevent memory errors due to many allowed domains?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you have a spider with a long list of <i><span
style='color:#355F7C'>allowed_domains </span></i>(e.g. 50,000+), consider
replacing the default <i><span style='color:#355F7C'>OffsiteMiddleware </span></i>downloader
middleware with a <i><span style='color:#355F7C'>custom downloader middleware </span></i>that
requires less memory. For example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If your domain names
are similar enough, use your own regular expression instead joining the strings
in <i><span style='color:#355F7C'>allowed_domains </span></i>into a complex
regular expression.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If you can meet the
installation requirements, use <a href="https://github.com/andreasvc/pyre2"><span
style='color:#377063;text-decoration:none'>pyre2</span></a><span
style='color:#377063'> </span>instead of Python’s <a
href="https://docs.python.org/3/library/re.html"><span style='color:#377063;
text-decoration:none'>re</span></a><span style='color:#377063'> </span>to
compile your URL-filtering regular expression. See <a
href="https://github.com/scrapy/scrapy/issues/1908"><span style='color:#377063;
text-decoration:none'>issue 1908</span></a><a
href="https://github.com/scrapy/scrapy/issues/1908"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.5pt;
margin-left:.5pt;line-height:110%'>See also <a
href="https://stackoverflow.com/q/36440681"><span style='color:#377063;
text-decoration:none'>other suggestions at StackOverflow</span></a><a
href="https://stackoverflow.com/q/36440681"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 512497" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:.5pt'><b>Note: </b>Remember to disable <i><span style='color:#355F7C'>scrapy.downloadermiddlewares.offsite.OffsiteMiddleware
</span></i>when you enable your custom implementation:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:29.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=83 src="Scrapy%20Documentation_files/image342.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.65pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.11 Can I use Basic
HTTP Authentication in my spiders?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.55pt;
margin-left:.5pt;line-height:108%'>Yes, see <i><span style='color:#355F7C'>HttpAuthMiddleware</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.12 Why does Scrapy
download pages in English instead of my native language?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Try changing the default <a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4"><span
style='color:#377063;text-decoration:none'>Accept-Language</span></a><span
style='color:#377063'> </span>request header by overriding the <i><span
style='color:#355F7C'>DEFAULT_REQUEST_HEADERS </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.13 Where can I find
some example Scrapy projects?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3in;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Examples</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.14 Can I run a
spider without creating a project?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Yes. You can use the <i><span style='color:#355F7C'>runspider
</span></i>command. For example, if you have a spider written in a my_spider.py
file you can run it with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image343.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:63.55pt;
margin-left:.5pt'>See <i><span style='color:#355F7C'>runspider </span></i>command
for more info.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.1.
Frequently Asked Questions</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.15 I get “Filtered
offsite request” messages. How can I fix them?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Those messages (logged with DEBUG level) don’t necessarily
mean there is a problem, so you may not need to fix them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Those messages are thrown by <i><span style='color:#355F7C'>OffsiteMiddleware</span></i>,
which is a downloader middleware (enabled by default) whose purpose is to
filter out requests to domains outside the ones covered by the spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.16 What is the
recommended way to deploy a Scrapy crawler in production?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Deploying Spiders</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.17 Can I use JSON
for large exports?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>It’ll depend on how large your output is. See <i><span
style='color:#355F7C'>this warning </span></i>in <i><span style='color:#355F7C'>JsonItemExporter
</span></i>documentation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.18 Can I return
(Twisted) deferreds from signal handlers?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Some signals support returning deferreds from their handlers,
others don’t. See the <i><span style='color:#355F7C'>Built-in signals reference
</span></i>to know which ones.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.19 What does the
response status code 999 mean?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>999 is a custom response status code used by Yahoo sites to
throttle requests. Try slowing down the crawling speed by using a download
delay of 2 (or higher) in your spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image344.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Or by setting a global download delay in your project with
the <i><span style='color:#355F7C'>DOWNLOAD_DELAY </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.20 Can I call </span></b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>pdb.set_trace() <b>from
my spiders to debug them?</b></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Yes, but you can also use the Scrapy shell which allows you
to quickly analyze (and even modify) the response being processed by your
spider, which is, quite often, more useful than plain old pdb.set_trace().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'>For more
info see <i><span style='color:#355F7C'>Invoking the shell from spiders to
inspect responses</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.21 Simplest way to
dump all my scraped items into a JSON/CSV/XML file?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To dump into a JSON file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image345.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To dump into a CSV file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image346.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To dump into an XML file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image347.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.35pt;
margin-left:.5pt'>For more information see <i><span style='color:#355F7C'>Feed
exports</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.22 What’s this huge
cryptic </span></b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>__VIEWSTATE
<b>parameter used in some forms?</b></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>The __VIEWSTATE parameter is used in sites built with
ASP.NET/VB.NET. For more info on how it works see <a
href="https://metacpan.org/release/ECARROLL/HTML-TreeBuilderX-ASP_NET-0.09/view/lib/HTML/TreeBuilderX/ASP_NET.pm"><span
style='color:#377063;text-decoration:none'>this </span></a><a
href="https://metacpan.org/release/ECARROLL/HTML-TreeBuilderX-ASP_NET-0.09/view/lib/HTML/TreeBuilderX/ASP_NET.pm"><span
style='color:#377063;text-decoration:none'>page</span></a><a
href="https://metacpan.org/release/ECARROLL/HTML-TreeBuilderX-ASP_NET-0.09/view/lib/HTML/TreeBuilderX/ASP_NET.pm"><span
style='color:black;text-decoration:none'>.</span></a> Also, here’s an <a
href="https://github.com/AmbientLighter/rpn-fas/blob/master/fas/spiders/rnp.py"><span
style='color:#377063;text-decoration:none'>example spider</span></a><span
style='color:#377063'> </span>which scrapes one of these sites.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.23 What’s the best
way to parse big XML/CSV data feeds?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Parsing big feeds with XPath selectors can be problematic
since they need to build the DOM of the entire feed in memory, and this can be
quite slow and consume a lot of memory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:.5pt;line-height:127%'>In order to avoid parsing all the entire
feed at once in memory, you can use the <i><span style='color:#355F7C'>xmliter_lxml()
</span></i>and <i><span style='color:#355F7C'>csviter() </span></i>functions.
In fact, this is what <i><span style='color:#355F7C'>XMLFeedSpider </span></i>uses.
scrapy.utils.iterators.xmliter_lxml(<i>obj: </i><span style='color:#355F7C'>Response
</span><i>| </i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>,</span></a> <i>nodename: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>namespace: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>prefix: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'x'</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span>Iterator[<i><span style='color:#355F7C'>Selector</span></i>]</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:5.3pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:107%'>scrapy.utils.iterators.csviter(<i>obj:
</i><span style='color:#355F7C'>Response </span><i>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>,</span></a> <i>delimiter: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>headers: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>encoding: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>quotechar: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i><sub><span style='font-size:15.5pt;
line-height:107%'>)</span></sub></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:140.3pt;
margin-bottom:2.25pt;margin-left:24.9pt;text-align:left;text-indent:137.25pt;
line-height:126%'><span style='font-family:"Cambria",serif'>&#8594; </span>Iterator[<a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>]</span></a>] Returns an iterator of
dictionaries from the given csv object obj can be: - a Response object - a
unicode string - a string encoded as utf-8 delimiter is the character used to
separate fields on the given obj.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.0pt;
margin-left:25.4pt;line-height:147%'>headers is an iterable that when provided
offers the keys for the returned dictionaries, if not the first row is used.
quotechar is the character used to enclosure fields on the given obj.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.24 Does Scrapy
manage cookies automatically?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Yes, Scrapy receives and keeps track of cookies sent by
servers, and sends them back on subsequent requests, like any regular web
browser does.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:71.6pt;margin-left:.5pt;text-align:left;line-height:110%'>For
more info see <i><span style='color:#355F7C'>Requests and Responses </span></i>and
<i><span style='color:#355F7C'>CookiesMiddleware</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.1.
Frequently Asked Questions</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.7pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.25 How can I see
the cookies being sent and received from Scrapy?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.8pt;
margin-left:.5pt'>Enable the <i><span style='color:#355F7C'>COOKIES_DEBUG </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.15pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.26 How can I
instruct a spider to stop itself?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.65pt;
margin-left:.5pt'>Raise the <i><span style='color:#355F7C'>CloseSpider </span></i>exception
from a callback. For more info see: <i><span style='color:#355F7C'>CloseSpider</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.27 How can I
prevent my Scrapy bot from getting banned?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'>See <i><span
style='color:#355F7C'>Avoiding getting banned</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.28 Should I use
spider arguments or settings to configure my spider?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Both <i><span style='color:#355F7C'>spider arguments </span></i>and
<i><span style='color:#355F7C'>settings </span></i>can be used to configure
your spider. There is no strict rule that mandates to use one or the other, but
settings are more suited for parameters that, once set, don’t change much,
while spider arguments are meant to change more often, even on each spider run
and sometimes are required for the spider to run at all (for example, to set
the start url of a spider).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>To illustrate with an example, assuming you have a spider
that needs to log into a site to scrape data, and you only want to scrape data
from a certain section of the site (which varies each time). In that case, the
credentials to log in would be settings, while the url of the section to scrape
would be a spider argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:38.45pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.29
I’m scraping a XML document and my XPath selector doesn’t return any items</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:.5pt'>You may need to remove namespaces. See <i><span
style='color:#355F7C'>Removing namespaces</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.30 How to split an
item into multiple items in an item pipeline?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.9pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Item pipelines </span></i>cannot
yield multiple items per input item. <i><span style='color:#355F7C'>Create a
spider middleware </span></i>instead, and use its <i><span style='color:#355F7C'>process_spider_output()
</span></i>method for this purpose. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200 src="Scrapy%20Documentation_files/image348.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.05pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.31 Does Scrapy
support IPv6 addresses?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Yes, by setting <i><span style='color:#355F7C'>DNS_RESOLVER </span></i>to
scrapy.resolver.CachingHostnameResolver. Note that by doing so, you lose the
ability to set a specific timeout for DNS requests (the value of the <i><span
style='color:#355F7C'>DNS_TIMEOUT </span></i>setting is ignored).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.2pt;margin-left:38.45pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.32
How to deal with </span></b><span style='font-size:12.0pt;line-height:108%;
color:#20435C'>&lt;class 'ValueError'&gt;: filedescriptor out of range in
select() <b>exceptions?</b></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>This issue <a
href="https://github.com/scrapy/scrapy/issues/2905"><span style='color:#377063;
text-decoration:none'>has been reported</span></a><span style='color:#377063'> </span>to
appear when running broad crawls in macOS, where the default Twisted reactor is
<a
href="https://docs.twisted.org/en/stable/api/twisted.internet.selectreactor.SelectReactor.html"><span
style='color:#377063;text-decoration:none'>twisted.internet.selectreactor.SelectReactor</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.selectreactor.SelectReactor.html"><span
style='color:black;text-decoration:none'>.</span></a> Switching to a different
reactor is possible by using the <i><span style='color:#355F7C'>TWISTED_REACTOR
</span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.33 How can I cancel
the download of a given response?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.05pt;
margin-left:.5pt'>In some situations, it might be useful to stop the download
of a certain response. For instance, sometimes you can determine whether or not
you need the full contents of a response by inspecting its headers or the first
bytes of its body. In that case, you could save resources by attaching a
handler to the <i><span style='color:#355F7C'>bytes_received </span></i>or <i><span
style='color:#355F7C'>headers_received </span></i>signals and raising a <i><span
style='color:#355F7C'>StopDownload </span></i>exception. Please refer to the <i><span
style='color:#355F7C'>Stopping the download of a Response </span></i>topic for
additional information and examples.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.34 How can I make a
blank request?</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image349.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.35pt;
margin-left:.5pt'>In this case, the URL is set to a data URI scheme. Data URLs
allow you to include data inline within web pages, similar to external
resources. The “data:” scheme with an empty content (“,”) essentially creates a
request to a data URL without any specific content.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.2pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.1.35 Running </span></b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>runspider <b>I get </b>error:
No spider found in file: &lt;filename&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.4pt;
margin-left:.5pt'>This may happen if your Scrapy project has a spider module
with a name that conflicts with the name of one of the <a
href="https://docs.python.org/3/py-modindex.html"><span style='color:#377063;
text-decoration:none'>Python standard library modules</span></a><a
href="https://docs.python.org/3/py-modindex.html"><span style='color:black;
text-decoration:none'>,</span></a> such as csv.py or os.py, or any <a
href="https://pypi.org/"><span style='color:#377063;text-decoration:none'>Python
package</span></a><span style='color:#377063'> </span>that you have installed.
See <a href="https://github.com/scrapy/scrapy/issues/2680"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/2680"><span style='color:#377063;
text-decoration:none'>2680</span></a><a
href="https://github.com/scrapy/scrapy/issues/2680"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.2 Debugging Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This document explains the most common techniques for
debugging spiders. Consider the following Scrapy spider below:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:22.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=114 src="Scrapy%20Documentation_files/image350.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.2.
Debugging Spiders</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection26>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=375 src="Scrapy%20Documentation_files/image351.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Basically this is a simple spider which parses two pages of
items (the start_urls). Items also have a details page with additional
information, so we use the cb_kwargs functionality of Request to pass a
partially populated item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.2.1 Parse Command</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The most basic way of checking the output of your spider is
to use the <i><span style='color:#355F7C'>parse </span></i>command. It allows
to check the behaviour of different parts of the spider at the method level. It
has the advantage of being flexible and simple to use, but does not allow
debugging code inside a method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=179 src="Scrapy%20Documentation_files/image352.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.2pt;
margin-left:.5pt'>Using the --<sub><span style='font-size:15.5pt;line-height:
103%'>verbose </span></sub>or -<sub><span style='font-size:15.5pt;line-height:
103%'>v </span></sub>option we can see the status at each depth level:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>$
scrapy parse --spider=myspider -c parse_item -d 2 -v &lt;item_url&gt;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.45pt;margin-left:-.25pt;text-align:left;line-height:112%'>[
... scrapy log lines crawling example.com spider ... ]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:65.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895762944'><span style='left:0px;position:
absolute;left:-5px;top:-124697px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image353.gif"></span></span>&gt;&gt;&gt;
DEPTH LEVEL: 1 &lt;&lt;&lt; # Scraped Items
------------------------------------------------------------</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=200 src="Scrapy%20Documentation_files/image354.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>Checking items scraped from a single start_url, can also be
easily achieved using:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.05pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895761920'><span style='left:0px;position:
absolute;left:-5px;top:-124974px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>$ scrapy
parse --spider=myspider -d 3 'http://example.com/page1'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.2.2 Scrapy Shell</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>While the <i><span style='color:#355F7C'>parse </span></i>command
is very useful for checking behaviour of a spider, it is of little help to
check what happens inside a callback, besides showing the response received and
the output. How to debug the situation when parse_details sometimes receives no
item?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Fortunately, the <i><span style='color:#355F7C'>shell </span></i>is
your bread and butter in this case (see <i><span style='color:#355F7C'>Invoking
the shell from spiders to inspect responses</span></i>):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image355.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'>See
also: <i><span style='color:#355F7C'>Invoking the shell from spiders to inspect
responses</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.2.3 Open in browser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:130%'>Sometimes you just want to see how a certain
response looks in a browser, you can use the <i><span style='color:#355F7C'>open_in_browser()
</span></i>function for that: scrapy.utils.response.open_in_browser(<i>response:
TextResponse, _openfunc: Callable[[str], Any] =</i></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:35.0pt;text-align:center;line-height:106%'><i>&lt;function
open&gt;</i>)<span style='font-family:"Cambria",serif'>&#8594; </span>Any</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:25.4pt;text-align:left;line-height:126%'>Open <i>response
</i>in a local web browser, adjusting the <a
href="https://www.w3schools.com/tags/tag_base.asp"><span style='color:#377063;
text-decoration:none'>base tag</span></a><span style='color:#377063'> </span>for
external links to work, e.g. so that images and styles are displayed. For
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=40 src="Scrapy%20Documentation_files/image356.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:27.75pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.2.
Debugging Spiders</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.2.4 Logging</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Logging is another useful option for getting information
about your spider run. Although not as convenient, it comes with the advantage
that the logs will be available in all future runs should they be necessary
again:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:22.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=132 src="Scrapy%20Documentation_files/image357.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.2.5 Visual Studio
Code</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=125 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=600 height=1 src="Scrapy%20Documentation_files/image358.gif"></td>
 </tr>
</table>

<br clear=ALL>
To debug spiders with Visual Studio Code you can use the following launch.json:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=264 src="Scrapy%20Documentation_files/image359.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Also, make sure you enable “User Uncaught Exceptions”, to
catch exceptions in your Scrapy spider.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection27>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.3 Spiders Contracts</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Testing spiders can get particularly annoying and while
nothing prevents you from writing unit tests the task gets cumbersome quickly.
Scrapy offers an integrated way of testing your spiders by the means of
contracts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>This allows you to test each callback of your spider by
hardcoding a sample url and check various constraints for how the callback
processes the response. Each contract is prefixed with an @ and included in the
docstring. See the following example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=196 src="Scrapy%20Documentation_files/image360.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.contracts.default.UrlContract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>This contract (@url) sets the sample URL used when checking
other contract conditions for this spider. This contract is mandatory. All
callbacks lacking this contract are ignored when running the checks:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.0pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image361.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.2pt;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.contracts.default.CallbackKeywordArgumentsContract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>This contract (@cb_kwargs) sets the cb_kwargs attribute for
the sample request.     It must be a valid JSON dictionary.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.05pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image362.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.contracts.default.MetadataContract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>This contract (@meta) sets the meta attribute for the
sample request. It must be a valid JSON dictionary.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.05pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image363.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.contracts.default.ReturnsContract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>This contract (@returns) sets lower and upper bounds for
the items and requests returned by the spider. The upper bound is optional:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:11.05pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image364.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.contracts.default.ScrapesContract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>This contract (@scrapes) checks that all the items returned
by the callback have the specified fields:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image365.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:60.2pt;
margin-left:.5pt'>Use the <i><span style='color:#355F7C'>check </span></i>command
to run the contract checks.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.3.
Spiders Contracts</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.3.1 Custom Contracts</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.85pt;
margin-left:.5pt'>If you find you need more power than the built-in Scrapy
contracts you can create and load your own contracts in the project by using
the <i><span style='color:#355F7C'>SPIDER_CONTRACTS </span></i>setting:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image366.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:140.5pt;margin-bottom:
.85pt;margin-left:.5pt;line-height:172%'>Each contract must inherit from <i><span
style='color:#355F7C'>Contract </span></i>and can override three methods: class
scrapy.contracts.Contract(<i>method</i>, <i>*args</i>)</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>method <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Callable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>)</span></a> – callback function to
which the contract is associated</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>args <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>lis</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>)</span></a> – list of arguments
passed into the docstring (whitespace separated)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.0pt;margin-left:24.65pt;text-align:left;line-height:110%'>adjust_request_args(<i>args</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This receives a dict as an argument containing default
arguments for request object. Request is used by default, but this can be
changed with the request_cls attribute. If multiple contracts in chain have
this attribute defined, the last one is used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:50.3pt'>Must return the same or a modified version of it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>pre_process(<i>response</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:50.3pt'>This allows hooking in various checks on the response
received from the sample request, before it’s being passed to the callback.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>post_process(<i>output</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:50.3pt'>This allows processing the output of the callback.
Iterators are converted to lists before being passed to this hook.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:111.2pt;margin-bottom:
.2pt;margin-left:.5pt;line-height:145%'>Raise <i><span style='color:#355F7C'>ContractFail
</span></i>from <i><span style='color:#355F7C'>pre_process </span></i>or <i><span
style='color:#355F7C'>post_process </span></i>if expectations are not met: class
scrapy.exceptions.ContractFail Error raised in case of a failing contract</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is a demo contract which checks the presence of a custom
header in the response received:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=242 src="Scrapy%20Documentation_files/image367.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image368.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.3.2 Detecting check
runs</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.75pt;
margin-left:.5pt'>When scrapy check is running, the SCRAPY_CHECK environment
variable is set to the true string. You can use <a
href="https://docs.python.org/3/library/os.html#os.environ"><span
style='color:#377063;text-decoration:none'>os.environ</span></a><span
style='color:#377063'> </span>to perform any change to your spiders or your
settings when scrapy check is used:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image369.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.4 Common Practices</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>This section documents common practices when using Scrapy.
These are things that cover many topics and don’t often fall into any other
specific section.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.4.1 Run Scrapy from a
script</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.9pt;margin-left:-.25pt;text-align:left;line-height:126%'>You
can use the <i><span style='color:#355F7C'>API </span></i>to run Scrapy from a
script, instead of the typical way of running Scrapy via scrapy crawl. Remember
that Scrapy is built on top of the Twisted asynchronous networking library, so
you need to run it inside the Twisted reactor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The first utility you can use to run your spiders is <i><span
style='color:#355F7C'>scrapy.crawler.CrawlerProcess</span></i>. This class will
start a Twisted reactor for you, configuring the logging and setting shutdown
handlers. This class is the one used by all Scrapy com-</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>mands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here’s an example showing how to run a single spider with it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=210 src="Scrapy%20Documentation_files/image370.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection28>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=148 src="Scrapy%20Documentation_files/image371.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>acquainted with its usage details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you are inside a Scrapy project there are some additional
helpers you can use to import those components within the project. You can
automatically import your spiders passing their name to <i><span
style='color:#355F7C'>CrawlerProcess</span></i>, and use get_project_settings to
get a <i><span style='color:#355F7C'>Settings </span></i>instance with your
project settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>What follows is a working example of how to do that, using
the <a href="https://github.com/scrapinghub/testspiders"><span
style='color:#377063;text-decoration:none'>testspiders</span></a><span
style='color:#377063'> </span>project as example.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=137 src="Scrapy%20Documentation_files/image372.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There’s another Scrapy utility that provides more control
over the crawling process: <i><span style='color:#355F7C'>scrapy.crawler.
CrawlerRunner</span></i>. This class is a thin wrapper that encapsulates some
simple helpers to run multiple crawlers, but it won’t start or interfere with
existing reactors in any way.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Using this class the reactor should be explicitly run after
scheduling your spiders. It’s recommended you use <i><span style='color:#355F7C'>CrawlerRunner
</span></i>instead of <i><span style='color:#355F7C'>CrawlerProcess </span></i>if
your application is already using Twisted and you want to run Scrapy in the
same reactor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Note that you will also have to shutdown the Twisted reactor
yourself after the spider is finished. This can be achieved by adding callbacks
to the deferred returned by the <i><span style='color:#355F7C'>CrawlerRunner.crawl
</span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here’s an example of its usage, along with a callback to
manually stop the reactor after MySpider has finished running.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=274 src="Scrapy%20Documentation_files/image373.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.2pt;
margin-left:.5pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=635 height=1 src="Scrapy%20Documentation_files/image374.gif"></td>
 </tr>
</table>

<br clear=ALL>
Same example but using a non-default reactor, it’s only necessary call install_reactor
if you are using CrawlerRunner since CrawlerProcess already does this
automatically.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:5.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=386 src="Scrapy%20Documentation_files/image375.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.55pt;
margin-left:.5pt;line-height:110%'><a
href="https://docs.twisted.org/en/stable/core/howto/reactor-basics.html"><span
style='color:#377063;text-decoration:none'>Reactor Overview</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.4.2 Running multiple
spiders in the same process</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default, Scrapy runs a single spider per process when you
run scrapy crawl. However, Scrapy supports running multiple spiders per process
using the <i><span style='color:#355F7C'>internal API</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is an example that runs multiple spiders simultaneously:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=194 src="Scrapy%20Documentation_files/image376.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=152 src="Scrapy%20Documentation_files/image377.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=481 src="Scrapy%20Documentation_files/image378.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Same example but running the spiders sequentially by chaining
the deferreds:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=162 src="Scrapy%20Documentation_files/image379.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=375 src="Scrapy%20Documentation_files/image380.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:8.5pt;margin-left:-.25pt;text-align:left;line-height:98%'>Different
spiders can set different values for the same setting, but when they run in the
same process it may be impossible, by design or because of some limitations, to
use these different values. What happens in practice is different for different
settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SPIDER_LOADER_CLASS </span></i>and the ones used by its
value (<i><span style='color:#355F7C'>SPIDER_MODULES</span></i>, <i><span
style='color:#355F7C'>SPIDER_LOADER_WARN_ONLY </span></i>for the default one)
cannot be read from the per-spider settings. These are applied when the <i><span
style='color:#355F7C'>CrawlerRunner </span></i>or <i><span style='color:#355F7C'>CrawlerProcess
</span></i>object is created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>For <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>and <i><span style='color:
#355F7C'>ASYNCIO_EVENT_LOOP </span></i>the first available value is used, and
if a spider requests a</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:25.4pt'>different reactor an exception will be raised. These are
applied when the reactor is installed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>For <i><span
style='color:#355F7C'>REACTOR_THREADPOOL_MAXSIZE</span></i>, <i><span
style='color:#355F7C'>DNS_RESOLVER </span></i>and the ones used by the resolver
(<i><span style='color:#355F7C'>DNSCACHE_ENABLED</span></i>, <i><span
style='color:#355F7C'>DNSCACHE_SIZE</span></i>, <i><span style='color:#355F7C'>DNS_TIMEOUT
</span></i>for ones included in Scrapy) the first available value is used.
These are applied when the reactor is started.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>See
also:</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:.5pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>Run Scrapy from a script</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.4.3 Distributed
crawls</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy doesn’t provide any built-in facility for running
crawls in a distribute (multi-server) manner. However, there are some ways to
distribute crawls, which vary depending on how you plan to distribute them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you have many spiders, the obvious way to distribute the
load is to setup many Scrapyd instances and distribute spider runs among those.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you instead want to run a single (big) spider through many
machines, what you usually do is partition the urls to crawl and send them to
each separate spider. Here is a concrete example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>First, you prepare the list of urls to crawl and put them
into separate files/urls:</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection29>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.7pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895758848'><span style='left:0px;position:
absolute;left:-5px;top:-132222px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image165.gif"></span></span>http:<span
style='color:#666666'>//</span>somedomain<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>urls<span style='color:#666666'>-</span>to<span
style='color:#666666'>-</span>crawl<span style='color:#666666'>/</span>spider1<span
style='color:#666666'>/</span>part1<span style='color:#666666'>.</span>list
http:<span style='color:#666666'>//</span>somedomain<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>urls<span style='color:#666666'>-</span>to<span
style='color:#666666'>-</span>crawl<span style='color:#666666'>/</span>spider1<span
style='color:#666666'>/</span>part2<span style='color:#666666'>.</span>list
http:<span style='color:#666666'>//</span>somedomain<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>urls<span style='color:#666666'>-</span>to<span
style='color:#666666'>-</span>crawl<span style='color:#666666'>/</span>spider1<span
style='color:#666666'>/</span>part3<span style='color:#666666'>.</span>list</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.65pt;
margin-left:.5pt'>Then you fire a spider run on 3 different Scrapyd servers.
The spider would receive a (spider) argument part with the number of the
partition to crawl:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>curl
http:<span style='color:#666666'>//</span>scrapy1<span style='color:#666666'>.</span>mycompany<span
style='color:#666666'>.</span>com:<span style='color:#217F4F'>6800</span><span
style='color:#666666'>/</span>schedule<span style='color:#666666'>.</span>json <span
style='color:#666666'>-</span>d project<span style='color:#666666'>=</span>myproject
<span style='color:#666666'>-</span>d<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:65.25pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:2.6pt;
line-height:112%'><i><span style='font-size:5.0pt;line-height:112%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>spider<span
style='color:#666666'>=</span>spider1 <span style='color:#666666'>-</span>d
part<span style='color:#666666'>=</span><span style='color:#217F4F'>1 </span>curl
http:<span style='color:#666666'>//</span>scrapy2<span style='color:#666666'>.</span>mycompany<span
style='color:#666666'>.</span>com:<span style='color:#217F4F'>6800</span><span
style='color:#666666'>/</span>schedule<span style='color:#666666'>.</span>json <span
style='color:#666666'>-</span>d project<span style='color:#666666'>=</span>myproject
<span style='color:#666666'>-</span>d<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:65.25pt;
margin-bottom:28.9pt;margin-left:-.75pt;text-align:left;text-indent:2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895757824'><span
style='left:0px;position:absolute;left:-5px;top:-132369px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image381.gif"></span></span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>spider<span
style='color:#666666'>=</span>spider1 <span style='color:#666666'>-</span>d
part<span style='color:#666666'>=</span><span style='color:#217F4F'>2 </span>curl
http:<span style='color:#666666'>//</span>scrapy3<span style='color:#666666'>.</span>mycompany<span
style='color:#666666'>.</span>com:<span style='color:#217F4F'>6800</span><span
style='color:#666666'>/</span>schedule<span style='color:#666666'>.</span>json <span
style='color:#666666'>-</span>d project<span style='color:#666666'>=</span>myproject
<span style='color:#666666'>-</span>d<span style='color:red'>&#9251; </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>spider<span
style='color:#666666'>=</span>spider1 <span style='color:#666666'>-</span>d
part<span style='color:#666666'>=</span><span style='color:#217F4F'>3</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.4.4 Avoiding getting
banned</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Some websites implement certain measures to prevent bots from
crawling them, with varying degrees of sophistication. Getting around those
measures can be difficult and tricky, and may sometimes require special
infrastructure. Please consider contacting <a href="https://scrapy.org/support/"><span
style='color:#377063;text-decoration:none'>commercial support</span></a><span
style='color:#377063'> </span>if in doubt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here are some tips to keep in mind when dealing with these
kinds of sites:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rotate your user
agent from a pool of well-known ones from browsers (google around to get a list
of them)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>disable cookies (see <i><span
style='color:#355F7C'>COOKIES_ENABLED</span></i>) as some sites may use cookies
to spot bot behaviour</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>use download delays
(2 or higher). See <i><span style='color:#355F7C'>DOWNLOAD_DELAY </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if possible, use <a
href="https://commoncrawl.org/"><span style='color:#377063;text-decoration:
none'>Common Crawl</span></a><span style='color:#377063'> </span>to fetch
pages, instead of hitting the sites directly</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>use a pool of
rotating IPs. For example, the free <a href="https://www.torproject.org/"><span
style='color:#377063;text-decoration:none'>Tor project</span></a><span
style='color:#377063'> </span>or paid services like <a
href="https://proxymesh.com/"><span style='color:#377063;text-decoration:none'>ProxyMesh</span></a><a
href="https://proxymesh.com/"><span style='color:black;text-decoration:none'>.</span></a>
An open source alternative is <a href="https://scrapoxy.io/"><span
style='color:#377063;text-decoration:none'>scrapoxy</span></a><a
href="https://scrapoxy.io/"><span style='color:black;text-decoration:none'>,</span></a>
a super proxy that you can attach your own proxies to.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>use a ban avoidance
service, such as <a href="https://docs.zyte.com/zyte-api/get-started.html"><span
style='color:#377063;text-decoration:none'>Zyte API</span></a><a
href="https://docs.zyte.com/zyte-api/get-started.html"><span style='color:black;
text-decoration:none'>,</span></a> which provides a <a
href="https://github.com/scrapy-plugins/scrapy-zyte-api"><span
style='color:#377063;text-decoration:none'>Scrapy plugin</span></a><span
style='color:#377063'> </span>and additional features, like <a
href="https://www.zyte.com/ai-web-scraping/"><span style='color:#377063;
text-decoration:none'>AI </span></a><a
href="https://www.zyte.com/ai-web-scraping/"><span style='color:#377063;
text-decoration:none'>web scraping</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.55pt;
margin-left:.5pt'>If you are still unable to prevent your bot getting banned,
consider contacting <a href="https://scrapy.org/support/"><span
style='color:#377063;text-decoration:none'>commercial support</span></a><a
href="https://scrapy.org/support/"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.5 Broad Crawls</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy defaults are optimized for crawling specific sites.
These sites are often handled by a single Scrapy spider, although this is not
necessary or required (for example, there are generic spiders that handle any
given site thrown at them).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In addition to this “focused crawl”, there is another common
type of crawling which covers a large (potentially unlimited) number of
domains, and is only limited by time or other arbitrary constraint, rather than
stopping when the domain was crawled to completion or when there are no more
requests to perform. These are called “broad crawls” and is the typical
crawlers employed by search engines.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>These are some common properties often found in broad crawls:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>they crawl many
domains (often, unbounded) instead of a specific set of sites</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>they don’t
necessarily crawl domains to completion, because it would be impractical (or
impossible) to do so, and instead limit the crawl by time or number of pages
crawled</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>they are simpler in
logic (as opposed to very complex spiders with many extraction rules) because
data is often post-processed in a separate stage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>they crawl many
domains concurrently, which allows them to achieve faster crawl speeds by not
being limited by any particular site constraint (each site is crawled slowly to
respect politeness, but many sites are crawled in parallel)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:.5pt'>As said above, Scrapy default settings are optimized for
focused crawls, not broad crawls. However, due to its asynchronous
architecture, Scrapy is very well suited for performing fast broad crawls. This
page summarizes some things you need to keep in mind when using Scrapy for
doing broad crawls, along with concrete suggestions of Scrapy settings to tune
in order to achieve an efficient broad crawl.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Use the right </span></b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>SCHEDULER_PRIORITY_QUEUE</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:.5pt;line-height:125%'>Scrapy’s default scheduler priority queue is
'scrapy.pqueues.ScrapyPriorityQueue'. It works best during single-domain crawl.
It does not work well with crawling many different domains in parallel To apply
the recommended priority queue use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895756800'><span style='left:0px;position:
absolute;left:-5px;top:-133329px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>SCHEDULER_PRIORITY_QUEUE
<span style='color:#666666'>= </span><span style='color:#4070A1'>&quot;scrapy.pqueues.DownloaderAwarePriorityQueue&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Increase concurrency</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:.5pt'>Concurrency is the number of requests that are processed in
parallel. There is a global limit (<i><span style='color:#355F7C'>CONCURRENT_REQUESTS</span></i>)
and an additional limit that can be set either per domain (<i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i>) or per IP (<i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i>).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 514088" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:                   </b>The     scheduler     priority     queue    <i><span
style='color:#355F7C'>recommended     for     broad     crawls     </span></i>does     not    support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.5pt;line-height:108%'><i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 514089"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The default global concurrency limit in Scrapy is not
suitable for crawling many different domains in parallel, so you will want to
increase it. How much to increase it will depend on how much CPU and memory
your crawler will have available.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>A good starting point is 100:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image382.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>But the best way to find out is by doing some trials and
identifying at what concurrency your Scrapy process gets CPU bounded. For
optimum performance, you should pick a concurrency where CPU usage is at
80-90%.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:148.9pt;
margin-left:.5pt'>Increasing concurrency also increases memory usage. If memory
usage is a concern, you might need to lower your global concurrency limit
accordingly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.5.
Broad Crawls</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.3 Increase Twisted
IO thread pool maximum size</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Currently Scrapy does DNS resolution in a blocking way with
usage of thread pool. With higher concurrency levels the crawling could be slow
or even fail hitting DNS resolver timeouts. Possible solution to increase the
number of threads handling DNS queries. The DNS queue will be processed faster
speeding up establishing of connection and crawling overall.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To increase maximum thread pool size use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image383.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.4 Setup your own
DNS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>If you have multiple crawling processes and single central
DNS, it can act like DoS attack on the DNS server resulting to slow down of
entire network or even blocking your machines. To avoid this setup your own DNS
server with local cache and upstream to some large DNS like OpenDNS or Verizon.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.5 Reduce log level</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.9pt;
margin-left:.5pt'>When doing broad crawls you are often only interested in the
crawl rates you get and any errors found. These stats are reported by Scrapy
when using the INFO log level. In order to save CPU (and log storage
requirements) you should not use DEBUG log level when performing large broad
crawls in production. Using DEBUG level when developing your (broad) crawler
may be fine though. To set the log level use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image384.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.6 Disable cookies</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Disable cookies unless you <i>really </i>need. Cookies are
often not needed when doing broad crawls (search engine crawlers ignore them),
and they improve performance by saving some CPU cycles and reducing the memory
footprint of your Scrapy crawler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To disable cookies use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image385.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.7 Disable retries</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Retrying failed HTTP requests can slow down the crawls
substantially, specially when sites causes are very slow (or fail) to respond,
thus causing a timeout error which gets retried many times, unnecessarily,
preventing crawler capacity to be reused for other domains.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To disable retries use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image386.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.8 Reduce download
timeout</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.5pt'>Unless you are crawling from a very slow connection (which
shouldn’t be the case for broad crawls) reduce the download timeout so that
stuck requests are discarded quickly and free up capacity to process the next
ones. To reduce the download timeout use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image387.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.9 Disable redirects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Consider disabling redirects, unless you are interested in
following them. When doing broad crawls it’s common to save redirects and
resolve them when revisiting the site at a later crawl. This also help to keep
the number of request constant per crawl batch, otherwise redirect loops may
cause the crawler to dedicate too many resources on any specific domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To disable redirects use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image388.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.10 Enable crawling
of “Ajax Crawlable Pages”</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.5pt;line-height:123%'>Some pages (up to 1%, based on empirical
data from year 2013) declare themselves as ajax crawlable. This means they
provide plain HTML version of content that is usually available only via AJAX.
Pages can indicate it in two ways: 1) by using #! in URL - this is the default
way;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.9pt;margin-bottom:
0in;margin-left:0in;text-indent:11.65pt;line-height:148%'>2) by using a special
meta tag - this way is used on “main”, “index” website pages. Scrapy handles
(1) automatically; to handle (2) enable <i><span style='color:#355F7C'>AjaxCrawlMiddleware</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image389.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>When doing broad crawls it’s common to crawl a lot of “index”
web pages; AjaxCrawlMiddleware helps to crawl them correctly. It is turned OFF
by default because it has some performance overhead, and enabling it for
focused crawls doesn’t make much sense.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.11 Crawl in BFO
order</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>Scrapy crawls in DFO order by default</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In broad crawls, however, page crawling tends to be faster
than page processing. As a result, unprocessed early requests stay in memory
until the final depth is reached, which can significantly increase memory
usage.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:134.05pt;
margin-left:.5pt'><i><span style='color:#355F7C'>Crawl in BFO order </span></i>instead
to save memory.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.5.
Broad Crawls</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.12 Be mindful of
memory leaks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>If your broad crawl shows a high memory usage, in addition to
<i><span style='color:#355F7C'>crawling in BFO order </span></i>and <i><span
style='color:#355F7C'>lowering concurrency </span></i>you should <i><span
style='color:#355F7C'>debug your memory leaks</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.5.13 Install a
specific Twisted reactor</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:28.1pt;
margin-left:.5pt'>If the crawl is exceeding the system’s capabilities, you
might want to try installing a specific Twisted reactor, via the <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.6 Using your
browser’s Developer Tools for scraping</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here is a general guide on how to use your browser’s
Developer Tools to ease the scraping process. Today almost all browsers come
with built in <a href="https://en.wikipedia.org/wiki/Web_development_tools"><span
style='color:#377063;text-decoration:none'>Developer Tools</span></a><span
style='color:#377063'> </span>and although we will use Firefox in this guide,
the concepts are applicable to any other browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>In this guide we’ll introduce the basic tools to use from a
browser’s Developer Tools by scraping <a href="https://quotes.toscrape.com/"><span
style='color:#377063;text-decoration:none'>quotes.toscrape.com</span></a><a
href="https://quotes.toscrape.com/"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.6.1 Caveats with
inspecting the live browser DOM</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Since Developer Tools operate on a live browser DOM, what
you’ll actually see when inspecting the page source is not the original HTML,
but a modified one after applying some browser clean up and executing
JavaScript code. Firefox, in particular, is known for adding &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>tbody&gt; </span></sub>elements to
tables. Scrapy, on the other hand, does not modify the original page HTML, so
you won’t be able to extract any data if you use &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>tbody&gt; </span></sub>in your XPath
expressions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Therefore, you should keep in mind the following things:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Disable JavaScript
while inspecting the DOM looking for XPaths to be used in Scrapy (in the
Developer Tools settings click <i>Disable JavaScript</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Never use full XPath
paths, use relative and clever ones based on attributes (such as id, class, width,
etc) or any identifying features like contains(@href, 'image').</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Never include &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>tbody&gt; </span></sub>elements in
your XPath expressions unless you really know what you’re doing</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.6.2 Inspecting a
website</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By far the most handy feature of the Developer Tools is the <i>Inspector
</i>feature, which allows you to inspect the underlying HTML code of any
webpage. To demonstrate the Inspector, let’s look at the <a
href="https://quotes.toscrape.com/"><span style='color:#377063;text-decoration:
none'>quotes.toscrape.com</span></a><a href="https://quotes.toscrape.com/"><span
style='color:black;text-decoration:none'>-</span></a>site.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>On the site we have a total of ten quotes from various
authors with specific tags, as well as the Top Ten Tags. Let’s say we want to
extract all the quotes on this page, without any meta-information about
authors, tags, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Instead of viewing the whole source code for the page, we can
simply right click on a quote and select Inspect Element (Q), which opens up
the <i>Inspector</i>. In it you should see something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.4pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><img border=0 width=624 height=377 id="Picture 32846"
src="Scrapy%20Documentation_files/image390.jpg"></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=115 src="Scrapy%20Documentation_files/image391.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you hover over the first div directly above the span tag
highlighted in the screenshot, you’ll see that the corresponding section of the
webpage gets highlighted as well. So now we have a section, but we can’t find
our quote text anywhere.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:.5pt'>The advantage of the <i>Inspector </i>is that it
automatically expands and collapses sections and tags of a webpage, which
greatly improves readability. You can expand and collapse a tag by clicking on
the arrow in front of it or by double clicking directly on the tag. If we
expand the span tag with the class= &quot;text&quot; we will see the quote-text
we clicked on. The <i>Inspector </i>lets you copy XPaths to selected elements.
Let’s try it out. First open the Scrapy shell at <a
href="https://quotes.toscrape.com/"><span style='color:#377063;text-decoration:
none'>https://quotes.toscrape.com/</span></a><span style='color:#377063'> </span>in
a terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image392.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.5pt'>Then, back to your web browser, right-click on the span tag,
select Copy &gt; XPath and paste it in the Scrapy shell like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>&quot;/html/body/div/div[2]/div[1]/div[1]/span[1]/text()&quot;</span>)<span
style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='position:relative;z-index:-1895755776'><span
style='left:0px;position:absolute;left:-5px;top:-137094px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image165.gif"></span></span><span
style='color:#333333'>['“The world as we have created it is a process of our
thinking. It cannot be changed</span><span style='color:red'>&#9251; </span><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>without changing our thinking.”']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Adding text() at the end we are able to extract the first
quote with this basic selector. But this XPath is not really that clever. All
it does is go down a desired path in the source code starting from html. So
let’s see if we can refine our XPath a bit:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.8pt;
margin-left:.5pt'>If we check the <i>Inspector </i>again we’ll see that
directly beneath our expanded div tag we have nine identical div tags,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.6.
Using your browser’s Developer Tools for scraping</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:.5pt'>each with the same attributes as our first. If we expand any
of them, we’ll see the same structure as with our first quote: Two span tags
and one div tag. We can expand each span tag with the class=&quot;text&quot; inside
our div tags and see each quote:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=137 src="Scrapy%20Documentation_files/image393.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.75pt;
margin-left:.5pt'>With this knowledge we can refine our XPath: Instead of a
path to follow, we’ll simply select all span tags with the class=&quot;text&quot;
by using the <a
href="https://parsel.readthedocs.io/en/latest/usage.html#other-xpath-extensions"><span
style='color:#377063;text-decoration:none'>has-class-extension</span></a><a
href="https://parsel.readthedocs.io/en/latest/usage.html#other-xpath-extensions"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>response<span style='color:#666666'>.</span>xpath(<span
style='color:#4070A1'>'//span[has-class(&quot;text&quot;)]/text()'</span>)<span
style='color:#666666'>.</span>getall()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='color:#333333'>['“The world as we have created
it is a process of our thinking. It cannot be changed</span><span
style='color:red'>&#9251; </span><i><span style='font-size:5.0pt;line-height:
111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>without changing our thinking.”',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895754752'><span style='left:0px;position:
absolute;left:-5px;top:-137515px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image394.gif"></span></span><span
style='color:#333333'>'“It is our choices, Harry, that show what we truly are,
far more than our abilities.”', '“There are only two ways to live your life.
One is as though nothing is a miracle. The</span><span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>other is as though everything is a miracle.”',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='color:#333333'>...]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>And with one simple, cleverer XPath we are able to extract
all quotes from the page. We could have constructed a loop over our first XPath
to increase the number of the last div, but this would have been unnecessarily
complex and by simply constructing an XPath with has-class(&quot;text&quot;) we
were able to extract all quotes in one line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The <i>Inspector </i>has a lot of other helpful features,
such as searching in the source code or directly scrolling to an element you
selected. Let’s demonstrate a use case:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:19.95pt;margin-left:-.25pt;text-align:left;line-height:126%'>Say
you want to find the Next button on the page. Type Next into the search bar on
the top right of the <i>Inspector</i>. You should get two results. The first is
a li tag with the class=&quot;next&quot;, the second the text of an a tag.
Right click on the a tag and select Scroll into View. If you hover over the
tag, you’ll see the button highlighted. From here we could easily create a <i><span
style='color:#355F7C'>Link Extractor </span></i>to follow the pagination. On a
simple site such as this, there may not be the need to find an element visually
but the Scroll into View function can be quite useful on complex sites. Note
that the search bar can also be used to search for and test CSS selectors. For
example, you could search for span. text to find all quote texts. Instead of a
full text search, this searches for exactly the span tag with the class=&quot;text&quot;
in the page.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.6.3 The Network-tool</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>While scraping you may come across dynamic webpages where
some parts of the page are loaded dynamically through multiple requests. While
this can be quite tricky, the <i>Network</i>-tool in the Developer Tools
greatly facilitates this task. To demonstrate the Network-tool, let’s take a
look at the page <a href="https://quotes.toscrape.com/scroll"><span
style='color:#377063;text-decoration:none'>quotes.toscrape.com/scroll</span></a><a
href="https://quotes.toscrape.com/scroll"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>The page is quite similar to the basic <a
href="https://quotes.toscrape.com/"><span style='color:#377063;text-decoration:
none'>quotes.toscrape.com</span></a><a href="https://quotes.toscrape.com/"><span
style='color:black;text-decoration:none'>-</span></a>page, but instead of the
above-mentioned Next button, the page automatically loads new quotes when you
scroll to the bottom. We could go ahead and try out different XPaths directly,
but instead we’ll check another quite useful command from the Scrapy shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image395.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.5pt;
margin-left:.5pt'>A browser window should open with the webpage but with one
crucial difference: Instead of the quotes we just see a greenish bar with the
word Loading....</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><img border=0 width=624 height=238 id="Picture 33175"
src="Scrapy%20Documentation_files/image396.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The view(response) command let’s us view the response our
shell or later our spider receives from the server. Here we see that some basic
template is loaded which includes the title, the login-button and the footer,
but the quotes are missing. This tells us that the quotes are being loaded from
a different request than quotes.toscrape/scroll.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>If you
click on the Network tab, you will probably only see two entries. The first
thing we do is enable persistent logs by clicking on Persist Logs. If this
option is disabled, the log is automatically cleared each time you navigate to
a different page. Enabling this option is a good default, since it gives us
control on when to clear the logs. If we reload the page now, you’ll see the
log get populated with six new requests.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.4pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><img border=0 width=624 height=194 id="Picture 33192"
src="Scrapy%20Documentation_files/image397.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here we see every request that has been made when reloading
the page and can inspect each request and its response. So let’s find out where
our quotes are coming from:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>First click on the request with the name scroll. On the right
you can now inspect the request. In Headers you’ll find details about the
request headers, such as the URL, the method, the IP-address, and so on. We’ll
ignore the other tabs and click directly on Response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:.5pt'>What you should see in the Preview pane is the rendered
HTML-code, that is exactly what we saw when we called view(response) in the
shell. Accordingly the type of the request in the log is html. The other
requests have types like css or js, but what interests us is the one request
called quotes?page=1 with the type json.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:42.65pt;margin-left:-.25pt;text-align:left;line-height:126%'>If
we click on this request, we see that the request URL is https://quotes.toscrape.com/api/quotes?page=1
and the response is a JSON-object that contains our quotes. We can also
right-click on the request and open Open in new tab to get a better overview.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.6.
Using your browser’s Developer Tools for scraping</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.4pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><img border=0 width=624 height=301 id="Picture 33238"
src="Scrapy%20Documentation_files/image398.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>With this response we can now easily parse the JSON-object
and also request each page to get every quote on the site:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=296 src="Scrapy%20Documentation_files/image399.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This spider starts at the first page of the quotes-API. With
each response, we parse the response.text and assign it to data. This lets us
operate on the JSON-object like on a Python dictionary. We iterate through the quotes
and print out the quote[&quot;text&quot;]. If the handy has_next element is true
(try loading <a href="https://quotes.toscrape.com/api/quotes?page=10"><span
style='color:#377063;text-decoration:none'>quotes.toscrape.com/api/quotes?page=10
</span></a>in your browser or a page-number greater than 10), we increment the page
attribute and yield a new request, inserting the incremented page-number into
our url.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>In more complex websites, it could be difficult to easily
reproduce the requests, as we could need to add headers or cookies to make it
work. In those cases you can export the requests in <a href="https://curl.se/"><span
style='color:#377063;text-decoration:none'>cURL</span></a><span
style='color:#377063'> </span>format, by right-clicking on each of them in the
network tool and using the from_curl() method to generate an equivalent
request:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=70 src="Scrapy%20Documentation_files/image400.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.75pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.9pt;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895753728'><span style='left:0px;position:
absolute;left:-5px;top:-139898px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image401.gif"></span></span><span
style='color:#4070A1'>&quot;la/5.0 (X11; Linux x86_64; rv:67.0) Gecko/20100101
Firefox/67.0' -H 'Acce&quot; &quot;pt: */*' -H 'Accept-Language:
ca,en-US;q=0.7,en;q=0.3' --compressed -H 'X&quot; &quot;-Requested-With:
XMLHttpRequest' -H 'Proxy-Authorization: Basic QFRLLTAzM&quot;
&quot;zEwZTAxLTk5MWUtNDFiNC1iZWRmLTJjNGI4M2ZiNDBmNDpAVEstMDMzMTBlMDEtOTkxZS00MW&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;I0LWJlZGYtMmM0YjgzZmI0MGY0' -H 'Connection:
keep-alive' -H 'Referer: http&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:21.4pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>&quot;://quotes.toscrape.com/scroll' -H 'Cache-Control:
max-age=0'&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.5pt;line-height:127%'>Alternatively, if you want to know the
arguments needed to recreate that request you can use the <i><span
style='color:#355F7C'>curl_to_request_kwargs() </span></i>function to get a
dictionary with the equivalent arguments: scrapy.utils.curl.curl_to_request_kwargs(<i>curl_command:
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>ignore_unknown_options:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>] </span></a>Convert a cURL command
syntax to Request kwargs.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:3.1pt;margin-bottom:7.0pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>curl_command <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – string containing the
curl command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:3.1pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore_unknown_options
<a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – If true, only a warning
is emitted when cURL options are unknown. Otherwise raises an error. (default:
True)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:279.95pt;margin-bottom:
5.5pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Returns </b>dictionary of
Request kwargs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Note that to translate a cURL command into a Scrapy request,
you may use <a href="https://michael-shub.github.io/curl2scrapy/"><span
style='color:#377063;text-decoration:none'>curl2scrapy</span></a><a
href="https://michael-shub.github.io/curl2scrapy/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:.5pt'>As you can see, with a few inspections in the <i>Network</i>-tool
we were able to easily replicate the dynamic requests of the scrolling
functionality of the page. Crawling dynamic pages can be quite daunting and
pages can be very complex, but it (mostly) boils down to identifying the
correct request and replicating it in your spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.7 Selecting
dynamically-loaded content</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Some webpages show the desired data when you load them in a
web browser. However, when you download them using Scrapy, you cannot reach the
desired data using <i><span style='color:#355F7C'>selectors</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When this happens, the recommended approach is to <i><span
style='color:#355F7C'>find the data source </span></i>and extract the data from
it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:.5pt'>If you fail to do that, and you can nonetheless access the
desired data through the <i><span style='color:#355F7C'>DOM </span></i>from
your web browser, see <i><span style='color:#355F7C'>Pre-rendering JavaScript</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.1 Finding the data
source</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To extract the desired data, you must first find its source
location.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If the data is in a non-text-based format, such as an image
or a PDF document, use the <i><span style='color:#355F7C'>network tool </span></i>of
your web browser to find the corresponding request, and <i><span
style='color:#355F7C'>reproduce it</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If your web browser lets you select the desired data as text,
the data may be defined in embedded JavaScript code, or loaded from an external
resource in a text-based format.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In that case, you can use a tool like <a
href="https://github.com/stav/wgrep"><span style='color:#377063;text-decoration:
none'>wgrep</span></a><span style='color:#377063'> </span>to find the URL of
that resource.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If the data turns out to come from the original URL itself,
you must <i><span style='color:#355F7C'>inspect the source code of the webpage </span></i>to
determine where the data is located.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.55pt;
margin-left:.5pt'>If the data comes from a different URL, you will need to <i><span
style='color:#355F7C'>reproduce the corresponding request</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.7.
Selecting dynamically-loaded content</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Inspecting the source
code of a webpage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sometimes you need to inspect the source code of a webpage
(not the <i><span style='color:#355F7C'>DOM</span></i>) to determine where some
desired data is located.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Use Scrapy’s <i><span style='color:#355F7C'>fetch </span></i>command
to download the webpage contents as seen by Scrapy:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image402.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>If the desired data is in embedded JavaScript code within a &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>script/&gt; </span></sub>element, see
<i><span style='color:#355F7C'>Parsing JavaScript code</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you cannot find the desired data, first make sure it’s not
just Scrapy: download the webpage with an HTTP client like <a
href="https://curl.se/"><span style='color:#377063;text-decoration:none'>curl</span></a><span
style='color:#377063'> </span>or <a href="https://www.gnu.org/software/wget/"><span
style='color:#377063;text-decoration:none'>wget</span></a><span
style='color:#377063'> </span>and see if the information can be found in the
response they get.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If they get a response with the desired data, modify your
Scrapy Request to match that of the other HTTP client. For example, try using
the same user-agent string (<i><span style='color:#355F7C'>USER_AGENT</span></i>)
or the same headers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>If they also get a response without the desired data, you’ll
need to take steps to make your request more similar to that of the web
browser. See <i><span style='color:#355F7C'>Reproducing requests</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Reproducing requests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sometimes we need to reproduce a request the way our web
browser performs it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use the <i><span style='color:#355F7C'>network tool </span></i>of
your web browser to see how your web browser performs the desired request, and
try to reproduce that request with Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>It might be enough to yield a Request with the same HTTP
method and URL. However, you may also need to reproduce the body, headers and
form parameters (see FormRequest) of that request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As all major browsers allow to export the requests in <a
href="https://curl.se/"><span style='color:#377063;text-decoration:none'>curl</span></a><span
style='color:#377063'> </span>format, Scrapy incorporates the method from_curl()
to generate an equivalent Request from a cURL command. To get more information
visit <i><span style='color:#355F7C'>request from curl </span></i>inside the
network tool section.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once you get the expected response, you can <i><span
style='color:#355F7C'>extract the desired data from it</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can reproduce any request with Scrapy. However, some
times reproducing all necessary requests may not seem efficient in developer
time. If that is your case, and crawling speed is not a major concern for you,
you can alternatively consider <i><span style='color:#355F7C'>JavaScript
pre-rendering</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you get the expected response <i>sometimes</i>, but not
always, the issue is probably not your request, but the target server. The
target server might be buggy, overloaded, or <i><span style='color:#355F7C'>banning
</span></i>some of your requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>Note that to translate a cURL command into a Scrapy request,
you may use <a href="https://michael-shub.github.io/curl2scrapy/"><span
style='color:#377063;text-decoration:none'>curl2scrapy</span></a><a
href="https://michael-shub.github.io/curl2scrapy/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.4 Handling
different response formats</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once you have a response with the desired data, how you
extract the desired data from it depends on the type of response:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is
HTML, XML or JSON, use <i><span style='color:#355F7C'>selectors </span></i>as
usual.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is
JSON, use response.json() to load the desired data:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image403.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If the desired data is inside HTML or XML code embedded
within JSON data, you can load that HTML or XML code into a Selector and then <i><span
style='color:#355F7C'>use it </span></i>as usual:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image404.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is
JavaScript, or HTML with a &lt;<sub><span style='font-size:15.5pt;line-height:
103%'>script/&gt; </span></sub>element containing the desired data, see <i><span
style='color:#355F7C'>Parsing JavaScript code</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is
CSS, use a <a href="https://docs.python.org/3/library/re.html"><span
style='color:#377063;text-decoration:none'>regular expression</span></a><span
style='color:#377063'> </span>to extract the desired data from <i><span
style='color:#355F7C'>response.text</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is an
image or another format based on images (e.g. PDF), read the response as bytes
from response.body and use an OCR solution to extract the desired data as text.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>For example, you can use <a
href="https://github.com/madmaze/pytesseract"><span style='color:#377063;
text-decoration:none'>pytesseract</span></a><a
href="https://github.com/madmaze/pytesseract"><span style='color:black;
text-decoration:none'>.</span></a> To read a table from a PDF, <a
href="https://github.com/chezou/tabula-py"><span style='color:#377063;
text-decoration:none'>tabula-py</span></a><span style='color:#377063'> </span>may
be a better choice.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the response is
SVG, or HTML with embedded SVG containing the desired data, you may be able to
extract the desired data using <i><span style='color:#355F7C'>selectors</span></i>,
since SVG is based on XML.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:25.4pt'>Otherwise, you might need to convert the SVG code into a
raster image, and <i><span style='color:#355F7C'>handle that raster image</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.5 Parsing
JavaScript code</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If the desired data is hardcoded in JavaScript, you first
need to get the JavaScript code:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the JavaScript
code is in a JavaScript file, simply read <i><span style='color:#355F7C'>response.text</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the JavaScript
code is within a &lt;<sub><span style='font-size:15.5pt;line-height:103%'>script/&gt;
</span></sub>element of an HTML page, use <i><span style='color:#355F7C'>selectors
</span></i>to extract the text within that &lt;script/&gt; element.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once you have a string with the JavaScript code, you can
extract the desired data from it:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You might be able to
use a <a href="https://docs.python.org/3/library/re.html"><span
style='color:#377063;text-decoration:none'>regular expression</span></a><span
style='color:#377063'> </span>to extract the desired data in JSON format, which
you can then parse with <a
href="https://docs.python.org/3/library/json.html#json.loads"><span
style='color:#377063;text-decoration:none'>json.loads()</span></a><a
href="https://docs.python.org/3/library/json.html#json.loads"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>For example, if the JavaScript code contains a separate
line like var data = {&quot;field&quot;: &quot;value&quot;}; you can extract
that data as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=73 src="Scrapy%20Documentation_files/image405.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://github.com/Nykakin/chompjs"><span style='color:#377063;
text-decoration:none'>chompjs</span></a><span style='color:#377063'> </span>provides
an API to parse JavaScript objects into a <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.75pt;
margin-left:25.4pt'>For example, if the JavaScript code contains var data =
{field: &quot;value&quot;, secondField: &quot;second value&quot;}; you can
extract that data as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89 src="Scrapy%20Documentation_files/image406.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Otherwise, use <a
href="https://github.com/scrapinghub/js2xml"><span style='color:#377063;
text-decoration:none'>js2xml</span></a><span style='color:#377063'> </span>to
convert the JavaScript code into an XML document that you can parse using <i><span
style='color:#355F7C'>selectors</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>For example, if the JavaScript code contains var data =
{field: &quot;value&quot;}; you can extract that data as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=56 src="Scrapy%20Documentation_files/image407.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:25.95pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.7.
Selecting dynamically-loaded content</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.75pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>javascript <span style='color:#666666'>=
</span>response<span style='color:#666666'>.</span>css(<span style='color:#4070A1'>&quot;script::text&quot;</span>)<span
style='color:#666666'>.</span>get()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>xml <span style='color:#666666'>= </span>lxml<span
style='color:#666666'>.</span>etree<span style='color:#666666'>.</span>tostring(js2xml<span
style='color:#666666'>.</span>parse(javascript), encoding<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;unicode&quot;</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:112%'><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>selector <span style='color:#666666'>=
</span>Selector(text<span style='color:#666666'>=</span>xml)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:25.4pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895752704'><span style='left:0px;position:
absolute;left:29px;top:-142633px;width:600px;height:1px'><img width=600
height=1 src="Scrapy%20Documentation_files/image408.gif"></span></span><span
style='color:#C75C0A'>&gt;&gt;&gt; </span>selector<span style='color:#666666'>.</span>css(<span
style='color:#4070A1'>'var[name=&quot;data&quot;]'</span>)<span
style='color:#666666'>.</span>get() <span style='color:#333333'>'&lt;var
name=&quot;data&quot;&gt;&lt;object&gt;&lt;property
name=&quot;field&quot;&gt;&lt;string&gt;value&lt;/string&gt;&lt;/property&gt;&lt;/
</span><i><span style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;
color:red'>,</span></i><sub><span style='font-size:7.5pt;line-height:111%;
font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>object&gt;&lt;/var&gt;'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.6 Pre-rendering
JavaScript</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>On webpages that fetch data from additional requests,
reproducing those requests that contain the desired data is the preferred
approach. The effort is often worth the result: structured, complete data with
minimum parsing time and network transfer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>However, sometimes it can be really hard to reproduce certain
requests. Or you may need something that no request can give you, such as a
screenshot of a webpage as seen in a web browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.5pt;line-height:123%'>In these cases use the <a
href="https://github.com/scrapinghub/splash"><span style='color:#377063;
text-decoration:none'>Splash</span></a><span style='color:#377063'> </span>JavaScript-rendering
service, along with <a href="https://github.com/scrapy-plugins/scrapy-splash"><span
style='color:#377063;text-decoration:none'>scrapy-splash</span></a><span
style='color:#377063'> </span>for seamless integration. Splash returns as HTML
the <i><span style='color:#355F7C'>DOM </span></i>of a webpage, so that you can
parse it with <i><span style='color:#355F7C'>selectors</span></i>. It provides
great flexibility through <a
href="https://splash.readthedocs.io/en/stable/api.html"><span style='color:
#377063;text-decoration:none'>configuration</span></a><span style='color:#377063'>
</span>or <a
href="https://splash.readthedocs.io/en/stable/scripting-tutorial.html"><span
style='color:#377063;text-decoration:none'>scripting</span></a><a
href="https://splash.readthedocs.io/en/stable/scripting-tutorial.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>If you need something beyond what Splash offers, such as
interacting with the DOM on-the-fly from Python code instead of using a
previously-written script, or handling multiple web browser windows, you might
need to <i><span style='color:#355F7C'>use a headless browser </span></i>instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.7.7 Using a headless
browser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>A <a href="https://en.wikipedia.org/wiki/Headless_browser"><span
style='color:#377063;text-decoration:none'>headless browser</span></a><span
style='color:#377063'> </span>is a special web browser that provides an API for
automation. By installing the <i><span style='color:#355F7C'>asyncio reactor</span></i>,
it is possible to integrate asyncio-based libraries which handle headless
browsers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>One such library is <a
href="https://github.com/microsoft/playwright-python"><span style='color:#377063;
text-decoration:none'>playwright-python</span></a><span style='color:#377063'> </span>(an
official Python port of <a href="https://github.com/microsoft/playwright"><span
style='color:#377063;text-decoration:none'>playwright</span></a><a
href="https://github.com/microsoft/playwright"><span style='color:black;
text-decoration:none'>)</span></a>. The following is a simple snippet to
illustrate its usage within a Scrapy spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248 src="Scrapy%20Documentation_files/image409.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>However, using <a
href="https://github.com/microsoft/playwright-python"><span style='color:#377063;
text-decoration:none'>playwright-python</span></a><span style='color:#377063'> </span>directly
as in the above example circumvents most of the Scrapy components (middlewares,
dupefilter, etc). We recommend using <a
href="https://github.com/scrapy-plugins/scrapy-playwright"><span
style='color:#377063;text-decoration:none'>scrapy-playwright</span></a><span
style='color:#377063'> </span>for a better integration.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.8 Debugging memory
leaks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In Scrapy, objects such as requests, responses and items have
a finite lifetime: they are created, used for a while, and finally destroyed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>From all those objects, the Request is probably the one with
the longest lifetime, as it stays waiting in the Scheduler queue until it’s
time to process it. For more info see <i><span style='color:#355F7C'>Architecture
overview</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As these Scrapy objects have a (rather long) lifetime, there
is always the risk of accumulating them in memory without releasing them
properly and thus causing what is known as a “memory leak”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>To help debugging memory leaks, Scrapy provides a built-in
mechanism for tracking objects references called <i><span style='color:#355F7C'>trackref
</span></i>, and you can also use a third-party library called <i><span
style='color:#355F7C'>muppy </span></i>for more advanced memory debugging (see
below for more info). Both mechanisms must be used from the <i><span
style='color:#355F7C'>Telnet Console</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.8.1 Common causes of
memory leaks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>It happens quite often (sometimes by accident, sometimes on
purpose) that the Scrapy developer passes objects referenced in Requests (for
example, using the cb_kwargs or meta attributes or the request callback
function) and that effectively bounds the lifetime of those referenced objects
to the lifetime of the Request. This is, by far, the most common cause of
memory leaks in Scrapy projects, and a quite difficult one to debug for
newcomers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In big projects, the spiders are typically written by
different people and some of those spiders could be “leaking” and thus
affecting the rest of the other (well-written) spiders when they get to run
concurrently, which, in turn, affects the whole crawling process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.5pt'>The leak could also come from a custom middleware, pipeline
or extension that you have written, if you are not releasing the (previously
allocated) resources properly. For example, allocating resources on <i><span
style='color:#355F7C'>spider_opened </span></i>but not releasing them on <i><span
style='color:#355F7C'>spider_closed </span></i>may cause problems if you’re
running <i><span style='color:#355F7C'>multiple spiders per process</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Too Many
Requests?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>By default Scrapy keeps the request queue in memory; it
includes Request objects and all objects referenced in Request attributes (e.g.
in cb_kwargs and meta). While not necessarily a leak, this can take a lot of
memory. Enabling <i><span style='color:#355F7C'>persistent job queue </span></i>could
help keeping memory usage in control.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.8.2 Debugging memory
leaks with </span></b><span style='font-size:12.0pt;line-height:108%;
color:#20435C'>trackref</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>trackref is a module provided by Scrapy to debug the most
common cases of memory leaks. It basically tracks the references to all live
Request, Response, Item, Spider and Selector objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.7pt;
margin-left:.5pt'>You can enter the telnet console and inspect how many objects
(of the classes mentioned above) are currently alive using the prefs() function
which is an alias to the <i><span style='color:#355F7C'>print_live_refs() </span></i>function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:27.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=162 src="Scrapy%20Documentation_files/image410.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.8.
Debugging memory leaks</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40 src="Scrapy%20Documentation_files/image411.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.1pt;
margin-left:.5pt'>As you can see, that report also shows the “age” of the
oldest object in each class. If you’re running multiple spiders per process
chances are you can figure out which spider is leaking by looking at the oldest
request or response. You can get the oldest object of each class using the <i><span
style='color:#355F7C'>get_oldest() </span></i>function (from the telnet
console).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Which
objects are tracked?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:.5pt'>The objects tracked by trackrefs are all from these classes
(and all its subclasses):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.Request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.http.Response</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.Item</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.Selector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.Spider</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>A real
example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:.5pt'>Let’s see a concrete example of a hypothetical case of memory
leaks. Suppose we have some spider with a line similar to this one:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.0pt;margin-left:77.7pt;text-align:left;text-indent:-78.45pt;
line-height:111%'><span style='position:relative;z-index:-1895751680'><span
style='left:0px;position:absolute;left:-5px;top:-144752px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image145.gif"></span></span><span
style='color:#007021'>return </span>Request(<span style='color:#4070A1'>f&quot;http://www.somenastyspider.com/product.php?pid=</span><i><span
style='color:#70A1D1'>{</span></i>product_id<i><span style='color:#70A1D1'>}</span></i><span
style='color:#4070A1'>&quot;</span>, callback<span style='color:#666666'>=</span><span
style='color:#007021'>self</span><span style='color:#666666'>.</span>parse,
cb_kwargs<span style='color:#666666'>=</span>{<span style='color:#4070A1'>'referer'</span>:
response})</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>That line is passing a response reference inside a request
which effectively ties the response lifetime to the requests’ one, and that
would definitely cause memory leaks.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>Let’s
see how we can discover the cause (without knowing it a priori, of course) by
using the trackref tool. After the crawler is running for a few minutes and we
notice its memory usage has grown a lot, we can enter its telnet console and
check the live references:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image412.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The fact that there are so many live responses (and that
they’re so old) is definitely suspicious, as responses should have a relatively
short lifetime compared to Requests. The number of responses is similar to the
number of requests, so it looks like they are tied in a some way. We can now go
and check the code of the spider to discover the nasty line that is generating
the leaks (passing response references inside requests).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Sometimes extra information about live objects can be
helpful. Let’s check the oldest response:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image413.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.55pt;
margin-left:.5pt'>If you want to iterate over all objects, instead of getting
the oldest one, you can use the <i><span style='color:#355F7C'>scrapy.utils.trackref.
iter_all() </span></i>function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image414.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Too many
spiders?</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>If your project has too many spiders executed in parallel,
the output of prefs() can be difficult to read. For this reason, that function
has a ignore argument which can be used to ignore a particular class (and all
its subclasses). For example, this won’t show any live references to spiders:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image415.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>scrapy.utils.trackref
module</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:210.3pt;margin-bottom:
0in;margin-left:.5pt;line-height:159%'>Here are the functions available in the <i><span
style='color:#355F7C'>trackref </span></i>module. class scrapy.utils.trackref.object_ref</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:25.4pt'>Inherit from this class if you want to track live instances
with the trackref module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:121.1pt;margin-bottom:
2.25pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:129%'>scrapy.utils.trackref.print_live_refs(<i>class_name</i>,
<i>ignore=NoneType</i>) Print a report of live references, grouped by class
name.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:24.9pt;
margin-bottom:10.0pt;margin-left:71.7pt;text-align:left;text-indent:-21.9pt;
line-height:90%'><b>Parameters </b>ignore <a
href="https://docs.python.org/3/library/functions.html#type"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>typ</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><sub><span
style='font-size:15.5pt;line-height:90%;color:#377063;text-decoration:none'>e</span></sub></i></a><i><sub><span
style='font-size:15.5pt;line-height:90%;color:#377063'> </span></sub></i><i><sub><span
style='font-size:15.5pt;line-height:90%'>or </span></sub></i><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><sub><span
style='font-size:15.5pt;line-height:90%;color:#377063;text-decoration:none'>tuple</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:black;text-decoration:none'>)</span></a> – if given, all objects
from the specified class (or tuple of classes) will be ignored.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.utils.trackref.get_oldest(<i>class_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.45pt;
margin-left:25.4pt'>Return the oldest object alive with the given class name,
or None if none is found. Use <i><span style='color:#355F7C'>print_live_refs() </span></i>first
to get a list of all tracked live objects per class name.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.utils.trackref.iter_all(<i>class_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:25.4pt'>Return an iterator over all objects alive with the given
class name, or None if none is found. Use <i><span style='color:#355F7C'>print_live_refs()
</span></i>first to get a list of all tracked live objects per class name.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.8.3 Debugging memory
leaks with muppy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>trackref provides a very convenient mechanism for tracking
down memory leaks, but it only keeps track of the objects that are more likely
to cause memory leaks. However, there are other cases where the memory leaks
could come from other (more or less obscure) objects. If this is your case, and
you can’t find your leaks using trackref, you still have another resource: the
muppy library.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can use muppy from <a
href="https://pypi.org/project/Pympler/"><span style='color:#377063;text-decoration:
none'>Pympler</span></a><a href="https://pypi.org/project/Pympler/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>If you use pip, you can install muppy with the following
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image416.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.9pt;
margin-left:.5pt'>Here’s an example to view all Python objects available in the
heap using muppy:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.8.
Debugging memory leaks</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=392 src="Scrapy%20Documentation_files/image417.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>For more info about muppy, refer to the <a
href="https://pythonhosted.org/Pympler/muppy.html"><span style='color:#377063;
text-decoration:none'>muppy documentation</span></a><a
href="https://pythonhosted.org/Pympler/muppy.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.8.4 Leaks without
leaks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sometimes, you may notice that the memory usage of your
Scrapy process will only increase, but never decrease. Unfortunately, this
could happen even though neither Scrapy nor your project are leaking memory.
This is due to a (not so well) known problem of Python, which may not return
released memory to the operating system in some cases. For more information on
this issue see:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://www.evanjones.ca/python-memory.html"><span style='color:#377063;
text-decoration:none'>Python Memory Management</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://www.evanjones.ca/python-memory-part2.html"><span
style='color:#377063;text-decoration:none'>Python Memory Management Part</span></a><span
style='color:#377063'> </span><a
href="https://www.evanjones.ca/python-memory-part2.html"><span
style='color:#377063;text-decoration:none'>2</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://www.evanjones.ca/python-memory-part3.html"><span
style='color:#377063;text-decoration:none'>Python Memory Management Part</span></a><span
style='color:#377063'> </span><a
href="https://www.evanjones.ca/python-memory-part3.html"><span
style='color:#377063;text-decoration:none'>3</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The improvements proposed by Evan Jones, which are detailed
in <a href="https://www.evanjones.ca/memoryallocator/"><span style='color:#377063;
text-decoration:none'>this paper</span></a><a
href="https://www.evanjones.ca/memoryallocator/"><span style='color:black;
text-decoration:none'>,</span></a> got merged in Python 2.5, but this only
reduces the problem, it doesn’t fix it completely. To quote the paper:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
5.05pt;margin-left:25.4pt;line-height:108%'><i>Unfortunately, this patch can
only free an arena if there are no more objects allocated in it anymore. This
means that fragmentation is a large issue. An application could have many
megabytes of free memory, scattered throughout all the arenas, but it will be
unable to free any of it. This is a problem experienced by all memory
allocators. The only way to solve it is to move to a compacting garbage
collector, which is able to move objects in memory. This would require
significant changes to the Python interpreter.</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To keep memory consumption reasonable you can split the job
into several smaller jobs or enable <i><span style='color:#355F7C'>persistent
job queue </span></i>and stop/start spider from time to time.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection30>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.9 Downloading and
processing files and images</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy provides reusable <i><span style='color:#355F7C'>item
pipelines </span></i>for downloading files attached to a particular item (for
example, when you scrape products and also want to download their images
locally). These pipelines share a bit of functionality and structure (we refer
to them as media pipelines), but typically you’ll either use the Files Pipeline
or the Images Pipeline.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Both pipelines implement these features:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Avoid re-downloading
media that was downloaded recently</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Specifying where to
store the media (filesystem directory, FTP server, Amazon S3 bucket, Google
Cloud Storage bucket)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The Images Pipeline has a few extra functions for processing
images:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Convert all
downloaded images to a common format (JPG) and mode (RGB)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Thumbnail generation</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Check images
width/height to make sure they meet a minimum constraint</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>The pipelines also keep an internal queue of those media URLs
which are currently being scheduled for download, and connect those responses
that arrive containing the same media to that queue. This avoids downloading
the same media more than once when it’s shared by several items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.1 Using the Files
Pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The typical workflow, when using the FilesPipeline goes like
this:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>In a Spider,
you scrape an item and put the URLs of the desired into a file_urls field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The item is
returned from the spider and goes to the item pipeline.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>When the item
reaches the FilesPipeline, the URLs in the file_urls field are scheduled for
download using the standard Scrapy scheduler and downloader (which means the
scheduler and downloader middlewares are reused), but with a higher priority,
processing them before other pages are scraped. The item remains “locked” at
that particular pipeline stage until the files have finish downloading (or fail
for some reason).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>When the files
are downloaded, another field (files) will be populated with the results. This
field will contain a list of dicts with information about the downloaded files,
such as the downloaded path, the original scraped url</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:25.4pt'>(taken from the file_urls field), the file checksum and the
file status. The files in the list of the files field will retain the same
order of the original file_urls field. If some file failed downloading, an
error will be logged and the file won’t be present in the files field.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.2 Using the Images
Pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Using the <i><span style='color:#355F7C'>ImagesPipeline </span></i>is
a lot like using the FilesPipeline, except the default field names used are
different: you use image_urls for the image URLs of an item and it will
populate an images field for the information about the downloaded images.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The advantage of using the <i><span style='color:#355F7C'>ImagesPipeline
</span></i>for image files is that you can configure some extra functions like
generating thumbnails and filtering the images based on their size.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The Images Pipeline requires <a
href="https://github.com/python-pillow/Pillow"><span style='color:#377063;
text-decoration:none'>Pillow</span></a><span style='color:#377063'> </span>7.1.0
or greater. It is used for thumbnailing and normalizing images to JPEG/RGB
format.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.3 Enabling your
Media Pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:83.85pt;margin-bottom:
0in;margin-left:.5pt;line-height:149%'>To enable your media pipeline you must
first add it to your project <i><span style='color:#355F7C'>ITEM_PIPELINES </span></i>setting.
For Images Pipeline, use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image418.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For Files Pipeline, use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image419.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 518057" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>You
can also use both the Files and Images Pipeline at the same time.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 518058"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:131%'>Then, configure the target storage setting
to a valid value that will be used for storing the downloaded images. Otherwise
the pipeline will remain disabled, even if you include it in the <i><span
style='color:#355F7C'>ITEM_PIPELINES </span></i>setting. For the Files
Pipeline, set the <i><span style='color:#355F7C'>FILES_STORE </span></i>setting:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image420.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For the Images Pipeline, set the <i><span style='color:#355F7C'>IMAGES_STORE
</span></i>setting:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image421.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.4 File Naming</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Default
File Naming</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:130.85pt;margin-bottom:
0in;margin-left:.5pt;line-height:147%'>By default, files are stored using an <a
href="https://en.wikipedia.org/wiki/SHA_hash_functions"><span style='color:
#377063;text-decoration:none'>SHA-1 hash</span></a><span style='color:#377063'>
</span>of their URLs for the file names. For example, the following image URL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image422.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Whose SHA-1
hash is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image423.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Will be downloaded and stored using your chosen <i><span
style='color:#355F7C'>storage method </span></i>and the following file name:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image424.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Custom File
Naming</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You may wish to use a different calculated file name for
saved files. For example, classifying an image by including meta in the file
name.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:121.1pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:159%'><span
style='position:relative;z-index:-1895750656'><span style='left:0px;position:
absolute;left:-5px;top:-148543px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>Customize
file names by overriding the file_path method of your media pipeline. For
example, an image pipeline with image URL: http:<span style='color:#666666'>//</span>www<span
style='color:#666666'>.</span>example<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>product<span style='color:#666666'>/</span>images<span
style='color:#666666'>/</span>large<span style='color:#666666'>/</span>front<span
style='color:#666666'>/</span><span style='color:#217F4F'>0000000004166 </span>Can
be processed into a file name with a condensed hash and the perspective front:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image425.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>By overriding file_path like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:21.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153 src="Scrapy%20Documentation_files/image426.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.35pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>If
your custom file name scheme relies on meta data that can vary between scrapes
it may lead to unexpected re-downloading of existing media using new file
names.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'>For example, if your
custom file name scheme uses a product title and the site changes an item’s
product title between scrapes, Scrapy will re-download the same media using
updated file names.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>For more information about the file_path method, see <i><span
style='color:#355F7C'>Extending the Media Pipelines</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.5 Supported Storage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>File system
storage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>File system storage will save files to the following path:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image427.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>Where:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&lt;IMAGES_STORE&gt; is
the directory defined in <i><span style='color:#355F7C'>IMAGES_STORE </span></i>setting
for the Images Pipeline.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>full is a
sub-directory to separate full images from thumbnails (if used). For more info
see <i><span style='color:#355F7C'>Thumbnail generation for images</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&lt;<sub><span
style='font-size:15.5pt;line-height:103%'>FILE_NAME&gt; </span></sub>is the
file name assigned to the file. For more info see <i><span style='color:#355F7C'>File
Naming</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:359.3pt;margin-bottom:
0in;margin-left:.5pt;line-height:200%'><b><span style='color:#20435C'>FTP
server storage </span></b>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:161%'><i><span style='color:#355F7C'>FILES_STORE </span></i>and
<i><span style='color:#355F7C'>IMAGES_STORE </span></i>can point to an FTP
server. Scrapy will automatically upload the files to the server. <i><span
style='color:#355F7C'>FILES_STORE </span></i>and <i><span style='color:#355F7C'>IMAGES_STORE
</span></i>should be written in one of the following forms:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image428.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If username and password are not provided, they are taken
from the <i><span style='color:#355F7C'>FTP_USER </span></i>and <i><span
style='color:#355F7C'>FTP_PASSWORD </span></i>settings respectively.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:.5pt'>FTP supports two different connection modes: active or
passive. Scrapy uses the passive connection mode by default. To use the active
connection mode instead, set the <i><span style='color:#355F7C'>FEED_STORAGE_FTP_ACTIVE
</span></i>setting to True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Amazon S3
storage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:129%'>If <a href="https://github.com/boto/botocore"><span
style='color:#377063;text-decoration:none'>botocore</span></a><span
style='color:#377063'> </span>&gt;= 1.4.87 is installed, <i><span
style='color:#355F7C'>FILES_STORE </span></i>and <i><span style='color:#355F7C'>IMAGES_STORE
</span></i>can represent an Amazon S3 bucket. Scrapy will automatically upload
the files to the bucket. For example, this is a valid <i><span
style='color:#355F7C'>IMAGES_STORE </span></i>value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image429.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:.5pt'>You can modify the Access Control List (ACL) policy used for
the stored files, which is defined by the <i><span style='color:#355F7C'>FILES_STORE_S3_ACL
</span></i>and <i><span style='color:#355F7C'>IMAGES_STORE_S3_ACL </span></i>settings.
By default, the ACL is set to private. To make the files publicly available use
the public-read policy:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image430.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For more information, see <a
href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl"><span
style='color:#377063;text-decoration:none'>canned ACLs</span></a><span
style='color:#377063'> </span>in the Amazon S3 Developer Guide.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can also use other S3-like storages. Storages like
self-hosted <a href="https://github.com/minio/minio"><span style='color:#377063;
text-decoration:none'>Minio</span></a><span style='color:#377063'> </span>or <a
href="https://www.zenko.io/cloudserver/"><span style='color:#377063;text-decoration:
none'>Zenko CloudServer</span></a><a href="https://www.zenko.io/cloudserver/"><span
style='color:black;text-decoration:none'>.</span></a> All you need to do is set
endpoint option in you Scrapy settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image431.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For self-hosting you also might feel the need not to use SSL
and not to verify SSL connection:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image432.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Google
Cloud Storage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:.5pt'><i><span style='color:#355F7C'>FILES_STORE </span></i>and <i><span
style='color:#355F7C'>IMAGES_STORE </span></i>can represent a Google Cloud
Storage bucket. Scrapy will automatically upload the files to the bucket.
(requires <a
href="https://cloud.google.com/storage/docs/reference/libraries#client-libraries-install-python"><span
style='color:#377063;text-decoration:none'>google-cloud-storage</span></a><span
style='color:#377063'> </span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>For example, these are valid <i><span style='color:#355F7C'>IMAGES_STORE
</span></i>and <i><span style='color:#355F7C'>GCS_PROJECT_ID </span></i>settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image433.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For information about authentication, see this <a
href="https://cloud.google.com/docs/authentication"><span style='color:#377063;
text-decoration:none'>documentation</span></a><a
href="https://cloud.google.com/docs/authentication"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.65pt;
margin-left:.5pt'>You can modify the Access Control List (ACL) policy used for
the stored files, which is defined by the <i><span style='color:#355F7C'>FILES_STORE_GCS_ACL
</span></i>and <i><span style='color:#355F7C'>IMAGES_STORE_GCS_ACL </span></i>settings.
By default, the ACL is set to '' (empty string) which means that Cloud Storage
applies the bucket’s default object ACL to the object. To make the files
publicly available use the publicRead policy:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image434.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For more information, see <a
href="https://cloud.google.com/storage/docs/access-control/lists#predefined-acl"><span
style='color:#377063;text-decoration:none'>Predefined ACLs</span></a><span
style='color:#377063'> </span>in the Google Cloud Platform Developer Guide.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.6 Usage example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In order to use a media pipeline, first <i><span
style='color:#355F7C'>enable it</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Then, if a spider returns an <i><span style='color:#355F7C'>item
object </span></i>with the URLs field (file_urls or image_urls, for the Files
or Images Pipeline respectively), the pipeline will put the results under the
respective field (files or images).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:.5pt'>When using <i><span style='color:#355F7C'>item types </span></i>for
which fields are defined beforehand, you must define both the URLs field and
the results field. For example, when using the images pipeline, items must
define both the image_urls and the images field. For instance, using the <i><span
style='color:#355F7C'>Item </span></i>class:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image435.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:.5pt'>If you want to use another field name for the URLs key or for
the results key, it is also possible to override it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.05pt;
margin-left:.5pt'>For the Files Pipeline, set <i><span style='color:#355F7C'>FILES_URLS_FIELD
</span></i>and/or <i><span style='color:#355F7C'>FILES_RESULT_FIELD </span></i>settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>FILES_URLS_FIELD
<span style='color:#666666'>= </span><span style='color:#4070A1'>&quot;field_name_for_your_files_urls&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.15pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895749632'><span style='left:0px;position:
absolute;left:-5px;top:-150563px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span>FILES_RESULT_FIELD
<span style='color:#666666'>= </span><span style='color:#4070A1'>&quot;field_name_for_your_processed_files&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.05pt;
margin-left:.5pt'>For the Images Pipeline, set <i><span style='color:#355F7C'>IMAGES_URLS_FIELD
</span></i>and/or <i><span style='color:#355F7C'>IMAGES_RESULT_FIELD </span></i>settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>IMAGES_URLS_FIELD
<span style='color:#666666'>= </span><span style='color:#4070A1'>&quot;field_name_for_your_images_urls&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.3pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895748608'><span style='left:0px;position:
absolute;left:-5px;top:-150653px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image145.gif"></span></span>IMAGES_RESULT_FIELD
<span style='color:#666666'>= </span><span style='color:#4070A1'>&quot;field_name_for_your_processed_images&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>If you need something more complex and want to override the
custom pipeline behaviour, see <i><span style='color:#355F7C'>Extending the
Media</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:.5pt;text-align:left;line-height:110%'><i><span
style='color:#355F7C'>Pipelines</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>If you have multiple image pipelines inheriting from
ImagePipeline and you want to have different settings in different pipelines
you can set setting keys preceded with uppercase name of your pipeline class.
E.g. if your pipeline is called MyPipeline and you want to have custom
IMAGES_URLS_FIELD you define setting MYPIPELINE_IMAGES_URLS_FIELD and your
custom settings will be used.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.7 Additional
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>File
expiration</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:.5pt'>The Image Pipeline avoids downloading files that were
downloaded recently. To adjust this retention delay use the <i><span
style='color:#355F7C'>FILES_EXPIRES </span></i>setting (or <i><span
style='color:#355F7C'>IMAGES_EXPIRES</span></i>, in case of Images Pipeline),
which specifies the delay in number of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:.5pt'>days:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=116 src="Scrapy%20Documentation_files/image436.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you have pipeline that subclasses FilesPipeline and you’d
like to have different setting for it you can set setting keys preceded by
uppercase class name. E.g. given pipeline class called MyPipeline you can set
setting key:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>MYPIPELINE_FILES_EXPIRES = 180</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>and pipeline class MyPipeline will have expiration time set
to 180.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.85pt;
margin-left:.5pt'>The last modified time from the file is used to determine the
age of the file in days, which is then compared to the set expiration time to
determine if the file is expired.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Thumbnail
generation for images</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>The
Images Pipeline can automatically create thumbnails of the downloaded images.         In
order to use this feature, you must set <i><span style='color:#355F7C'>IMAGES_THUMBS
</span></i>to a dictionary where the keys are the thumbnail names and the
values are their dimensions. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image437.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>When you use this feature, the Images Pipeline will create
thumbnails of the each specified size with this format:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image438.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:.5pt'>Where:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&lt;size_name&gt; is
the one specified in the <i><span style='color:#355F7C'>IMAGES_THUMBS </span></i>dictionary
keys (small, big, etc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&lt;image_id&gt; is
the <a href="https://en.wikipedia.org/wiki/SHA_hash_functions"><span
style='color:#377063;text-decoration:none'>SHA-1 hash</span></a><span
style='color:#377063'> </span>of the image url</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:.5pt'>Example of image files stored using small and big thumbnail
names:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#666666'>&lt;</span>IMAGES_STORE<span style='color:#666666'>&gt;/</span>full<span
style='color:#666666'>/</span><span style='color:#217F4F'>63</span>bbfea82b8880ed33cdb762aa11fab722a90a24<span
style='color:#666666'>.</span>jpg</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#666666'>&lt;</span>IMAGES_STORE<span style='color:#666666'>&gt;/</span>thumbs<span
style='color:#666666'>/</span>small<span style='color:#666666'>/</span><span
style='color:#217F4F'>63</span>bbfea82b8880ed33cdb762aa11fab722a90a24<span
style='color:#666666'>.</span>jpg</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:1.2in;
margin-bottom:6.4pt;margin-left:-.25pt;text-align:left;line-height:205%'><span
style='position:relative;z-index:-1895747584'><span style='left:0px;position:
absolute;left:-5px;top:-151578px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image165.gif"></span></span><span
style='color:#666666'>&lt;</span>IMAGES_STORE<span style='color:#666666'>&gt;/</span>thumbs<span
style='color:#666666'>/</span>big<span style='color:#666666'>/</span><span
style='color:#217F4F'>63</span>bbfea82b8880ed33cdb762aa11fab722a90a24<span
style='color:#666666'>.</span>jpg The first one is the full image, as
downloaded from the site.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Filtering
out small images</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:137%'>When using the Images Pipeline, you can drop
images which are too small, by specifying the minimum allowed size in the <i><span
style='color:#355F7C'>IMAGES_MIN_HEIGHT </span></i>and <i><span
style='color:#355F7C'>IMAGES_MIN_WIDTH </span></i>settings. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image439.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 520611" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>The
size constraints don’t affect thumbnail generation at all.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 520612"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>It is possible to set just one size constraint or both. When
setting both of them, only images that satisfy both minimum sizes will be
saved. For the above example, images of sizes (105 x 105) or (105 x 200) or
(200 x 105) will all be dropped because at least one dimension is shorter than
the constraint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default, there are no size constraints, so all images are
processed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Allowing
redirections</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default media pipelines ignore redirects, i.e. an HTTP
redirection to a media file URL request will mean the media download is
considered failed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To handle media redirections, set this setting to True:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image440.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.8 Extending the
Media Pipelines</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:163.1pt;margin-bottom:
0in;margin-left:.5pt;line-height:138%'>See here the methods that you can
override in your custom Files Pipeline: class
scrapy.pipelines.files.FilesPipeline file_path<sub><span style='font-size:15.5pt;
line-height:138%'>(</span></sub><i>self</i>, <i>request</i>, <i>response=None</i>,
<i>info=None</i>, <i>*</i>, <i>item=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:50.3pt'>This method is called once per downloaded item. It returns
the download path of the file originating from the specified <i><span
style='color:#355F7C'>response</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:63.8pt;margin-bottom:
1.15pt;margin-left:50.3pt;line-height:150%'>In addition to response, this
method receives the original request, info and <i><span style='color:#355F7C'>item
</span></i>You can override this method to customize the download path of each
file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:50.3pt'>For example, if file URLs end like regular paths (e.g. https://example.com/a/b/c/foo.png),
you can use the following approach to download all files into the files folder
with their original filenames (e.g. files/foo.png):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=153 src="Scrapy%20Documentation_files/image441.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:50.3pt'>Similarly, you can use the item to determine the file path
based on some item property.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:32.85pt;margin-bottom:
1.85pt;margin-left:50.3pt;line-height:155%'>By default the <i><span
style='color:#355F7C'>file_path() </span></i>method returns full/&lt;request
URL hash&gt;.&lt;extension&gt;. New in version 2.4: The <i>item </i>parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_media_requests(<i>item</i>,
<i>info</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.3pt;
margin-left:50.3pt'>As seen on the workflow, the pipeline will get the URLs of
the images to download from the item. In order to do this, you can override the
<i><span style='color:#355F7C'>get_media_requests() </span></i>method and
return a Request for each file URL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=121 src="Scrapy%20Documentation_files/image442.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.8pt;
margin-left:50.3pt'>Those requests will be processed by the pipeline and, when
they have finished downloading, the results will be sent to the <i><span
style='color:#355F7C'>item_completed() </span></i>method, as a list of
2-element tuples. Each tuple will contain</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.1pt;margin-left:50.3pt;text-align:left;line-height:112%'>(success,
file_info_or_error) where:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>success is a
boolean which is True if the image was downloaded successfully or False if it
failed for some reason</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>file_info_or_error
is a dict containing the following keys (if success is True) or a <a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:#377063;text-decoration:none'>Failure</span></a><span
style='color:#377063'> </span>if there was a problem.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:90.35pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><sub><span
style='font-size:15.5pt;line-height:103%'>url </span></sub>- the url where the
file was downloaded from. This is the url of the request returned from the <i><span
style='color:#355F7C'>get_media_requests() </span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:90.35pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>path - the path
(relative to <i><span style='color:#355F7C'>FILES_STORE</span></i>) where the
file was stored</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:90.35pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>checksum - a <a
href="https://en.wikipedia.org/wiki/MD5"><span style='color:#377063;text-decoration:
none'>MD5 hash</span></a><span style='color:#377063'> </span>of the image
contents</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>status - the
file status indication.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.85pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:90.85pt'>It can be one of the following:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:97.7pt'>&#8727; downloaded - file was downloaded.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-10.1pt'>&#8727; uptodate - file was not
downloaded, as it was downloaded recently, according to the file expiration
policy.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:6.85pt;
margin-bottom:6.15pt;margin-left:3.0pt;text-align:right'>&#8727; cached - file
was already scheduled for download, by another item sharing the same file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.25pt;
margin-left:50.3pt'>The list of tuples received by <i><span style='color:#355F7C'>item_completed()
</span></i>is guaranteed to retain the same order of the requests returned from
the <i><span style='color:#355F7C'>get_media_requests() </span></i>method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=568 height=227 src="Scrapy%20Documentation_files/image443.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:50.3pt'>By default the <i><span style='color:#355F7C'>get_media_requests()
</span></i>method returns None which means there are no files to download for
the item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>item_completed(<i>results</i>,
<i>item</i>, <i>info</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The <i><span style='color:#355F7C'>FilesPipeline.item_completed()
</span></i>method called when all file requests for a single item have
completed (either finished downloading, or failed for some reason).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The <i><span style='color:#355F7C'>item_completed() </span></i>method
must return the output that will be sent to subsequent item pipeline stages, so
you must return (or drop) the item, as you would in any pipeline.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Here is an example of the <i><span style='color:#355F7C'>item_completed()
</span></i>method where we store the downloaded file paths (passed in results)
in the file_paths item field, and we drop the item if it doesn’t contain any
files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.75pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=184 src="Scrapy%20Documentation_files/image444.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:166.2pt;margin-bottom:
3.55pt;margin-left:0in;text-indent:49.8pt;line-height:154%'>By default, the <i><span
style='color:#355F7C'>item_completed() </span></i>method returns the item. See
here the methods that you can override in your custom Images Pipeline: class
scrapy.pipelines.images.ImagesPipeline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The <i><span style='color:#355F7C'>ImagesPipeline </span></i>is
an extension of the FilesPipeline, customizing the field names and adding
custom behavior for images.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>file_path<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>self</i>, <i>request</i>,
<i>response=None</i>, <i>info=None</i>, <i>*</i>, <i>item=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:50.3pt'>This method is called once per downloaded item. It returns
the download path of the file originating from the specified <i><span
style='color:#355F7C'>response</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:63.8pt;margin-bottom:
1.15pt;margin-left:50.3pt;line-height:150%'>In addition to response, this
method receives the original request, info and <i><span style='color:#355F7C'>item
</span></i>You can override this method to customize the download path of each
file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.95pt;
margin-left:50.3pt'>For example, if file URLs end like regular paths (e.g. https://example.com/a/b/c/foo.png),
you can use the following approach to download all files into the files folder
with their original filenames (e.g. files/foo.png):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:46.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=567 height=153 src="Scrapy%20Documentation_files/image445.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:50.3pt'>Similarly, you can use the item to determine the file path
based on some item property.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:32.85pt;margin-bottom:
0in;margin-left:50.3pt;line-height:155%'>By default the <i><span
style='color:#355F7C'>file_path() </span></i>method returns full/&lt;request
URL hash&gt;.&lt;extension&gt;. New in version 2.4: The <i>item </i>parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>thumb_path<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>self</i>, <i>request</i>,
<i>thumb_id</i>, <i>response=None</i>, <i>info=None</i>, <i>*</i>, <i>item=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:50.3pt'>This method is called for every item of <i><span
style='color:#355F7C'>IMAGES_THUMBS </span></i>per downloaded item. It returns
the thumbnail download path of the image originating from the specified <i><span
style='color:#355F7C'>response</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>In addition to response, this method receives the original request,
thumb_id, info and <i><span style='color:#355F7C'>item</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:50.3pt;line-height:135%'>You can override this method to customize
the thumbnail download path of each image. You can use the item to determine
the file path based on some item property. By default the <i><span
style='color:#355F7C'>thumb_path() </span></i>method returns thumbs/&lt;size
name&gt;/&lt;request URL hash&gt;.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:50.3pt;text-align:left;line-height:112%'>&lt;extension&gt;.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.1pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_media_requests(<i>item</i>,
<i>info</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Works the same way as FilesPipeline.get_media_requests() method,
but using a different field name for image urls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:50.3pt'>Must return a Request for each image URL.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.3pt;margin-left:25.4pt;text-align:left;line-height:104%'>item_completed(<i>results</i>,
<i>item</i>, <i>info</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:50.3pt'>The <i><span style='color:#355F7C'>ImagesPipeline.item_completed()
</span></i>method is called when all image requests for a single item have
completed (either finished downloading, or failed for some reason).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>Works the same way as FilesPipeline.item_completed() method,
but using a different field names for storing image downloading results.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.65pt;
margin-left:50.3pt'>By default, the <i><span style='color:#355F7C'>item_completed()
</span></i>method returns the item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.9.9 Custom Images
pipeline example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is a full example of the Images Pipeline whose methods
are exemplified above:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=296 src="Scrapy%20Documentation_files/image446.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>To enable your custom media pipeline component you must add
its class import path to the <i><span style='color:#355F7C'>ITEM_PIPELINES </span></i>setting,
like in the following example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image447.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.10 Deploying Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This section describes the different options you have for
deploying your Scrapy spiders to run them on a regular basis. Running Scrapy
spiders in your local machine is very convenient for the (early) development
stage, but not so much when you need to execute long-running spiders or move
spiders to run in production continuously. This is where the solutions for
deploying Scrapy spiders come in.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Popular choices for deploying Scrapy spiders are:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Scrapyd </span></i>(open source)</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection31>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:.3in;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Zyte Scrapy Cloud </span></i>(cloud-based)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.10.1 Deploying to a
Scrapyd Server</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a href="https://github.com/scrapy/scrapyd"><span
style='color:#377063;text-decoration:none'>Scrapyd</span></a><span
style='color:#377063'> </span>is an open source application to run Scrapy
spiders. It provides a server with HTTP API, capable of running and monitoring
Scrapy spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.95pt;
margin-left:.5pt'>To deploy spiders to Scrapyd, you can use the scrapyd-deploy
tool provided by the <a href="https://github.com/scrapy/scrapyd-client"><span
style='color:#377063;text-decoration:none'>scrapyd-client</span></a><span
style='color:#377063'> </span>package. Please refer to the <a
href="https://scrapyd.readthedocs.io/en/latest/deploy.html"><span
style='color:#377063;text-decoration:none'>scrapyd-deploy documentation</span></a><span
style='color:#377063'> </span>for more information. Scrapyd is maintained by
some of the Scrapy developers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.10.2 Deploying to
Zyte Scrapy Cloud</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><a href="https://www.zyte.com/scrapy-cloud/"><span
style='color:#377063;text-decoration:none'>Zyte Scrapy Cloud</span></a><span
style='color:#377063'> </span>is a hosted, cloud-based service by <a
href="https://www.zyte.com/"><span style='color:#377063;text-decoration:none'>Zyte</span></a><a
href="https://www.zyte.com/"><span style='color:black;text-decoration:none'>,</span></a>
the company behind Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Zyte Scrapy Cloud removes the need to setup and monitor
servers and provides a nice UI to manage spiders and review scraped items, logs
and stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To deploy spiders to Zyte Scrapy Cloud you can use the <a
href="https://shub.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>shub</span></a><span style='color:#377063'> </span>command
line tool. Please refer to the <a href="https://docs.zyte.com/scrapy-cloud.html"><span
style='color:#377063;text-decoration:none'>Zyte Scrapy Cloud </span></a><a
href="https://docs.zyte.com/scrapy-cloud.html"><span style='color:#377063;
text-decoration:none'>documentation</span></a><span style='color:#377063'> </span>for
more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:28.0pt;
margin-left:.5pt'>Zyte Scrapy Cloud is compatible with Scrapyd and one can
switch between them as needed - the configuration is read from the scrapy.cfg file
just like scrapyd-deploy.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.11 AutoThrottle
extension</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>This is an extension for automatically throttling crawling
speed based on load of both the Scrapy server and the website you are crawling.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.11.1 Design goals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>be nicer to
sites instead of using default download delay of zero</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>automatically
adjust Scrapy to the optimum crawling speed, so the user doesn’t have to tune
the download delays to find the optimum one. The user only needs to specify the
maximum concurrent requests it allows, and the extension does the rest.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.11.2 How it works</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy allows defining the concurrency and delay of different
download slots, e.g. through the <i><span style='color:#355F7C'>DOWNLOAD_SLOTS </span></i>setting.
By default requests are assigned to slots based on their URL domain, although
it is possible to customize the download slot of any request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The AutoThrottle extension adjusts the delay of each download
slot dynamically, to make your spider send <i><span style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY
</span></i>concurrent requests on average to each remote website.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>It uses download latency to compute the delays. The main idea
is the following: if a server needs latency seconds to respond, a client should
send a request each latency/N seconds to have N requests processed in parallel.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:25.65pt;
margin-left:.5pt'>Instead of adjusting the delays one can just set a small
fixed download delay and impose hard limits on concurrency using <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN </span></i>or <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP </span></i>options. It will
provide a similar effect, but there are some important differences:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.11.
AutoThrottle extension</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>because the download
delay is small there will be occasional bursts of requests;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>often non-200 (error)
responses can be returned faster than regular responses, so with a small
download delay and a hard concurrency limit crawler will be sending requests to
server faster when server starts to return errors. But this is an opposite of what
crawler should do - in case of errors it makes more sense to slow down: these
errors may be caused by the high request rate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>AutoThrottle doesn’t have these issues.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.11.3 Throttling
algorithm</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:.5pt'>AutoThrottle algorithm adjusts download delays based on the
following rules:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>spiders always
start with a download delay of <i><span style='color:#355F7C'>AUTOTHROTTLE_START_DELAY</span></i>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>when a response
is received, the target download delay is calculated as latency / N where latency
is a latency of the response, and N is <i><span style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>download delay
for next requests is set to the average of previous download delay and the
target download delay;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>latencies of
non-200 responses are not allowed to decrease the delay;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.75pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>download delay
can’t become less than <i><span style='color:#355F7C'>DOWNLOAD_DELAY </span></i>or
greater than <i><span style='color:#355F7C'>AUTOTHROTTLE_MAX_DELAY</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 520172" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.5pt'><b>Note: </b>The AutoThrottle extension honours the standard
Scrapy settings for concurrency and delay. This means that it will respect <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN </span></i>and <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP </span></i>options and never
set a download delay lower than <i><span style='color:#355F7C'>DOWNLOAD_DELAY</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 520173"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In Scrapy, the download latency is measured as the time
elapsed between establishing the TCP connection and receiving the HTTP headers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Note that these latencies are very hard to measure accurately
in a cooperative multitasking environment because Scrapy may be busy processing
a spider callback, for example, and unable to attend downloads. However, these
latencies should still give a reasonable estimate of how busy Scrapy (and
ultimately, the server) is, and this extension builds on that premise.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.11.4 Prevent specific
requests from triggering slot delay adjustments</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:.5pt'>AutoThrottle adjusts the delay of download slots based on the
latencies of responses that belong to that download slot. The only exceptions
are non-200 responses, which are only taken into account to increase that
delay, but ignored if they would decrease that delay.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can also set the autothrottle_dont_adjust_delay request
metadata key to True in any request to prevent its response latency from
impacting the delay of its download slot:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image448.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Note, however, that AutoThrottle still determines the
starting delay of every download slot by setting the download_delay attribute
on the running spider. If you want AutoThrottle not to impact a download slot
at all, in addition to setting this meta key in all requests that use that
download slot, you might want to set a custom value for the delay attribute of
that download slot, e.g. using <i><span style='color:#355F7C'>DOWNLOAD_SLOTS</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.11.5 Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>The settings used to control the AutoThrottle extension are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AUTOTHROTTLE_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AUTOTHROTTLE_START_DELAY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AUTOTHROTTLE_MAX_DELAY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>AUTOTHROTTLE_DEBUG</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOAD_DELAY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>For more information see <i><span style='color:#355F7C'>How
it works</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AUTOTHROTTLE_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Enables the AutoThrottle extension.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AUTOTHROTTLE_START_DELAY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 5.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The initial download delay (in seconds).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AUTOTHROTTLE_MAX_DELAY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 60.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The maximum download delay (in seconds) to be set in case of
high latencies.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AUTOTHROTTLE_TARGET_CONCURRENCY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 1.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Average number of requests Scrapy should be sending in
parallel to remote websites. It must be higher than 0.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:.5pt'>By default, AutoThrottle adjusts the delay to send a single
concurrent request to each of the remote websites. Set this option to a higher
value (e.g. 2.0) to increase the throughput and the load on remote servers. A
lower AUTOTHROTTLE_TARGET_CONCURRENCY value (e.g. 0.5) makes the crawler more
conservative and polite.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Note that <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN
</span></i>and <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP </span></i>options
are still respected when AutoThrottle extension is enabled. This means that if AUTOTHROTTLE_TARGET_CONCURRENCY
is set to a value higher than <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN
</span></i>or <i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i>,
the crawler won’t reach this number of concurrent requests.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in'>At     every     given     time     point     Scrapy     can     be     sending     more    or     less     concurrent    requests    than</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:47.7pt;
margin-left:.5pt'>AUTOTHROTTLE_TARGET_CONCURRENCY; it is a suggested value the
crawler tries to approach, not a hard limit.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.11.
AutoThrottle extension</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AUTOTHROTTLE_DEBUG</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.6pt;
margin-left:.5pt'>Enable AutoThrottle debug mode which will display stats on
every response received, so you can see how the throttling parameters are being
adjusted in real time.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.12 Benchmarking</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.15pt;
margin-left:.5pt'>Scrapy comes with a simple benchmarking suite that spawns a
local HTTP server and crawls it at the maximum possible speed. The goal of this
benchmarking is to get an idea of how Scrapy performs in your hardware, in
order to have a common baseline for comparisons. It uses a simple spider that
does nothing and just follows links. To run it use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image449.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.3pt;
margin-left:.5pt'>You should see an output like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>48 </span>[scrapy<span style='color:#666666'>.</span>utils<span
style='color:#666666'>.</span>log] INFO: Scrapy <span style='color:#217F4F'>1.2.2
</span>started (bot: quotesbot)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:111%'><span style='position:relative;z-index:-1895746560'><span
style='left:0px;position:absolute;left:-5px;top:-158507px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image450.gif"></span></span><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>48 </span>[scrapy<span style='color:#666666'>.</span>utils<span
style='color:#666666'>.</span>log] INFO: Overridden settings: {<span
style='color:#4070A1'>'CLOSESPIDER_TIMEOUT </span><i><span style='font-size:
5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>'</span>: <span style='color:#217F4F'>10</span>, <span
style='color:#4070A1'>'ROBOTSTXT_OBEY'</span>: <span style='color:#007021'>True</span>,
<span style='color:#4070A1'>'SPIDER_MODULES'</span>: [<span style='color:#4070A1'>'quotesbot.spiders'</span>],
<span style='color:#4070A1'>'LOGSTATS_ </span><i><span style='font-size:5.0pt;
line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>INTERVAL'</span>: <span style='color:#217F4F'>1</span>, <span
style='color:#4070A1'>'BOT_NAME'</span>: <span style='color:#4070A1'>'quotesbot'</span>,
<span style='color:#4070A1'>'LOG_LEVEL'</span>: <span style='color:#4070A1'>'INFO'</span>,
<span style='color:#4070A1'>'NEWSPIDER_MODULE'</span>: <i><span
style='font-size:5.0pt;line-height:111%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:111%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#4070A1'>'quotesbot.spiders'</span>}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>middleware]
INFO: Enabled extensions:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>[<span
style='color:#4070A1'>'scrapy.extensions.closespider.CloseSpider'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.extensions.logstats.LogStats'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.extensions.telnet.TelnetConsole'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.extensions.corestats.CoreStats'</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>middleware]
INFO: Enabled downloader middlewares:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>[<span
style='color:#4070A1'>'scrapy.downloadermiddlewares.offsite.OffsiteMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.retry.RetryMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.redirect.RedirectMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.cookies.CookiesMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.downloadermiddlewares.stats.DownloaderStats'</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>middleware]
INFO: Enabled spider middlewares:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>[<span
style='color:#4070A1'>'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.spidermiddlewares.referer.RefererMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scrapy.spidermiddlewares.depth.DepthMiddleware'</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>middleware]
INFO: Enabled item pipelines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>[]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Spider opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>49 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>logstats] INFO: Crawled <span style='color:#217F4F'>0
</span>pages (at <span style='color:#217F4F'>0 </span>pages<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>),<span
style='color:red'>&#9251; </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>scraped
<span style='color:#217F4F'>0 </span>items (at <span style='color:#217F4F'>0 </span>items<span
style='color:#666666'>/</span><span style='color:#007021'>min</span>) <span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>50 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>logstats] INFO: Crawled <span style='color:#217F4F'>70
</span>pages (at <span style='color:#217F4F'>4200 </span>pages<span
style='color:#666666'>/</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.95pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>51 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>134 </span>pages (at <span
style='color:#217F4F'>3840 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895745536'><span
style='left:0px;position:absolute;left:-5px;top:-159204px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image451.gif"></span></span><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>52 </span>[scrapy<span style='color:#666666'>.</span>extensions<span
style='color:#666666'>.</span>logstats] INFO: Crawled <span style='color:#217F4F'>198
</span>pages (at <span style='color:#217F4F'>3840 </span>pages<span
style='color:#666666'>/ </span><i><span style='font-size:5.0pt;line-height:
112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>53 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>254 </span>pages (at <span
style='color:#217F4F'>3360 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>54 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>302 </span>pages (at <span
style='color:#217F4F'>2880 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>55 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>358 </span>pages (at <span
style='color:#217F4F'>3360 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>56 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>406 </span>pages (at <span
style='color:#217F4F'>2880 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>57 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>438 </span>pages (at <span
style='color:#217F4F'>1920 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>58 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>470 </span>pages (at <span
style='color:#217F4F'>1920 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>18</span>:<span
style='color:#217F4F'>59 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Closing spider
(closespider_timeout)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:1.85pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='color:#217F4F'>2016</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>12</span><span
style='color:#666666'>-</span><span style='color:#217F4F'>16 21</span>:<span
style='color:#217F4F'>18</span>:<span style='color:#217F4F'>59 </span>[scrapy<span
style='color:#666666'>.</span>extensions<span style='color:#666666'>.</span>logstats]
INFO: Crawled <span style='color:#217F4F'>518 </span>pages (at <span
style='color:#217F4F'>2880 </span>pages<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#007021'>min</span>), scraped <span style='color:#217F4F'>0 </span>items
(at <span style='color:#217F4F'>0 </span>items<span style='color:#666666'>/</span><span
style='color:#007021'>min</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>19</span>:<span
style='color:#217F4F'>00 </span>[scrapy<span style='color:#666666'>.</span>statscollectors]
INFO: Dumping Scrapy stats:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;line-height:111%'>{<span
style='color:#4070A1'>'downloader/request_bytes'</span>: <span
style='color:#217F4F'>229995</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'downloader/request_count'</span>: <span
style='color:#217F4F'>534</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'downloader/request_method_count/GET'</span>: <span
style='color:#217F4F'>534</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'downloader/response_bytes'</span>: <span
style='color:#217F4F'>1565504</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'downloader/response_count'</span>: <span
style='color:#217F4F'>534</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'downloader/response_status_count/200'</span>: <span
style='color:#217F4F'>534</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'finish_reason'</span>: <span style='color:#4070A1'>'closespider_timeout'</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:5.75pt;text-align:left;line-height:112%'><span
style='color:#4070A1'>'finish_time'</span>: datetime<span style='color:#666666'>.</span>datetime(<span
style='color:#217F4F'>2016</span>, <span style='color:#217F4F'>12</span>, <span
style='color:#217F4F'>16</span>, <span style='color:#217F4F'>16</span>, <span
style='color:#217F4F'>19</span>, <span style='color:#217F4F'>0</span>, <span
style='color:#217F4F'>647725</span>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'log_count/INFO'</span>: <span style='color:#217F4F'>17</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'request_depth_max'</span>: <span style='color:#217F4F'>19</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'response_received_count'</span>: <span style='color:
#217F4F'>534</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scheduler/dequeued'</span>: <span style='color:#217F4F'>533</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scheduler/dequeued/memory'</span>: <span
style='color:#217F4F'>533</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scheduler/enqueued'</span>: <span style='color:#217F4F'>10661</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:5.75pt;text-align:left;line-height:111%'><span
style='color:#4070A1'>'scheduler/enqueued/memory'</span>: <span
style='color:#217F4F'>10661</span>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:5.75pt;text-align:left;line-height:112%'><span
style='color:#4070A1'>'start_time'</span>: datetime<span style='color:#666666'>.</span>datetime(<span
style='color:#217F4F'>2016</span>, <span style='color:#217F4F'>12</span>, <span
style='color:#217F4F'>16</span>, <span style='color:#217F4F'>16</span>, <span
style='color:#217F4F'>18</span>, <span style='color:#217F4F'>49</span>, <span
style='color:#217F4F'>799869</span>)}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.05pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2016</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>12</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>16 21</span>:<span style='color:#217F4F'>19</span>:<span
style='color:#217F4F'>00 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Spider closed (closespider_timeout)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:132.5pt;
margin-left:.5pt'>That tells you that Scrapy is able to crawl about 3000 pages
per minute in the hardware where you run it. Note that this is a very simple
spider intended to follow links, any custom spider you write will probably do
more stuff which results in slower crawl rates. How slower depends on how much
your spider does and how well it’s written. Use <a
href="https://github.com/scrapy/scrapy-bench"><span style='color:#377063;
text-decoration:none'>scrapy-bench</span></a><span style='color:#377063'> </span>for
more complex benchmarking.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.12.
Benchmarking</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.13 Jobs: pausing and
resuming crawls</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sometimes, for big sites, it’s desirable to pause crawls and
be able to resume them later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy supports this functionality out of the box by
providing the following facilities:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a scheduler that
persists scheduled requests on disk</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a duplicates filter
that persists visited requests on disk</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>an extension that
keeps some spider state (key/value pairs) persistent between batches</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.13.1 Job directory</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>To enable persistence support you just need to define a <i>job
directory </i>through the JOBDIR setting. This directory will be for storing
all required data to keep the state of a single job (i.e. a spider run). It’s
important to note that this directory must not be shared by different spiders,
or even different jobs/runs of the same spider, as it’s meant to be used for
storing the state of a <i>single </i>job.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.13.2 How to use it</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To start a spider with persistence support enabled, run it
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image452.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Then, you can stop the spider safely at any time (by pressing
Ctrl-C or sending a signal), and resume it later by issuing the same command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image452.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.13.3 Keeping
persistent state between batches</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.7pt;margin-left:-.25pt;text-align:left;line-height:100%'>Sometimes
you’ll want to keep some persistent spider state between pause/resume batches.
You can use the spider. state attribute for that, which should be a dict.
There’s <i><span style='color:#355F7C'>a built-in extension </span></i>that
takes care of serializing, storing and loading that attribute from the job
directory, when the spider starts and stops.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here’s an example of a callback that uses the spider state
(other spider code is omitted for brevity):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image453.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.13.4 Persistence
gotchas</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are a few things to keep in mind if you want to be able
to use the Scrapy persistence support:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Cookies
expiration</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Cookies may expire. So, if you don’t resume your spider
quickly the requests scheduled may no longer work. This won’t be an issue if
your spider doesn’t rely on cookies.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Request
serialization</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For persistence to work, Request objects must be serializable
with <a href="https://docs.python.org/3/library/pickle.html#module-pickle"><span
style='color:#377063;text-decoration:none'>pickle</span></a><a
href="https://docs.python.org/3/library/pickle.html#module-pickle"><span
style='color:black;text-decoration:none'>,</span></a> except for the callback and
errback values passed to their __init__ method, which must be methods of the
running <i><span style='color:#355F7C'>Spider </span></i>class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:.5pt'>If you wish to log the requests that couldn’t be serialized,
you can set the <i><span style='color:#355F7C'>SCHEDULER_DEBUG </span></i>setting
to True in the project’s settings page. It is False by default.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.14 Coroutines</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:.5pt'>Scrapy has <i><span style='color:#355F7C'>partial support </span></i>for
the <a href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:#377063;text-decoration:none'>coroutine syntax</span></a><a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.14.1 Supported
callables</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt;line-height:128%'>The following callables may be defined as
coroutines using async def, and hence use coroutine syntax (e.g. await, async
for, async with):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request callbacks.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:25.4pt;text-align:left;line-height:110%'>If you
are using any custom or third-party <i><span style='color:#355F7C'>spider
middleware</span></i>, see <i><span style='color:#355F7C'>Mixing synchronous
and asynchronous spider middlewares</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:25.4pt'>Changed in version 2.7: Output of async callbacks is now
processed asynchronously instead of collecting all of it first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>process_item() </span></i>method of <i><span
style='color:#355F7C'>item pipelines</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
<i><span style='color:#355F7C'>process_request()</span></i>, <i><span
style='color:#355F7C'>process_response()</span></i>, and <i><span
style='color:#355F7C'>process_exception() </span></i>methods of <i><span
style='color:#355F7C'>downloader middlewares</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Signal handlers that support deferreds</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
<i><span style='color:#355F7C'>process_spider_output() </span></i>method of <i><span
style='color:#355F7C'>spider middlewares</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.05pt;
margin-bottom:144.3pt;margin-left:25.4pt;text-align:left;line-height:148%'>It
must be defined as an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous generator</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:black;text-decoration:none'>.</span></a> The input result parameter
is an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:#377063;text-decoration:none'>asynchronous iterable</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:black;text-decoration:none'>. </span></a>See also <i><span
style='color:#355F7C'>Mixing synchronous and asynchronous spider middlewares </span></i>and
<i><span style='color:#355F7C'>Universal spider middlewares</span></i>. New in
version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.14.
Coroutines</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.14.2 General usage</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are several use cases for coroutines in Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Code that would return Deferreds when written for previous
Scrapy versions, such as downloader middlewares and signal handlers, can be
rewritten to be shorter and cleaner:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=232 src="Scrapy%20Documentation_files/image454.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=163 src="Scrapy%20Documentation_files/image455.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Coroutines may be used to call asynchronous code. This
includes other coroutines, functions that return Deferreds and functions that
return <a href="https://docs.python.org/3/glossary.html#term-awaitable"><span
style='color:#377063;text-decoration:none'>awaitable objects</span></a><span
style='color:#377063'> </span>such as <a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:#377063;text-decoration:none'>Futur</span></a><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:black;text-decoration:none'>.</span></a> This means you can use
many useful Python libraries providing such code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=248 src="Scrapy%20Documentation_files/image456.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 522580" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'><b>Note:      </b>Many libraries that use coroutines, such as
<a href="https://github.com/aio-libs"><span style='color:#377063;text-decoration:
none'>aio-libs</span></a><a href="https://github.com/aio-libs"><span
style='color:black;text-decoration:none'>,</span></a> require the <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>loop and
to use them you need to <i><span style='color:#355F7C'>enable asyncio support
in Scrapy</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:22.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522776"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522777"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:   </b>If
you want to await on Deferreds while using the asyncio reactor, you need to <i><span
style='color:#355F7C'>wrap them</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522778"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Common use cases for asynchronous code include:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>requesting data from
websites, databases and other services (in callbacks, pipelines and
middlewares);</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>storing data in
databases (in pipelines and middlewares);</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>delaying the spider
initialization until some external event (in the <i><span style='color:#355F7C'>spider_opened
</span></i>handler);</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>calling asynchronous
Scrapy methods like ExecutionEngine.download() (see <i><span style='color:#355F7C'>the
screenshot pipeline example</span></i>).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.14.3 Inline requests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>The spider below shows how to send a request and await its
response all from within a spider callback:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:5.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=292 src="Scrapy%20Documentation_files/image457.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:22.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=258 src="Scrapy%20Documentation_files/image458.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.14.
Coroutines</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=167 src="Scrapy%20Documentation_files/image459.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.14.4 Mixing
synchronous and asynchronous spider middlewares</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>New in version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The output of a Request callback is passed as the result parameter
to the <i><span style='color:#355F7C'>process_spider_output() </span></i>method
of the first <i><span style='color:#355F7C'>spider middleware </span></i>from
the <i><span style='color:#355F7C'>list of active spider middlewares</span></i>.
Then the output of that process_spider_output method is passed to the process_spider_output
method of the next spider middleware, and so on for every active spider
middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy supports mixing <a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:#377063;text-decoration:none'>coroutine methods</span></a><span
style='color:#377063'> </span>and synchronous methods in this chain of calls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:.5pt'>However, if any of the process_spider_output methods is
defined as a synchronous method, and the previous Request callback or process_spider_output
method is a coroutine, there are some drawbacks to the
asynchronousto-synchronous conversion that Scrapy does so that the synchronous process_spider_output
method gets a synchronous iterable as its result parameter:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The whole output of
the previous Request callback or process_spider_output method is awaited at
this point.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If an exception
raises while awaiting the output of the previous Request callback or process_spider_output
method, none of that output will be processed.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.05pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'>This
contrasts with the regular behavior, where all items yielded before an
exception raises are processed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Asynchronous-to-synchronous conversions are supported for
backward compatibility, but they are deprecated and will stop working in a
future version of Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:.5pt'>To avoid asynchronous-to-synchronous conversions, when
defining Request callbacks as coroutine methods or when using spider
middlewares whose process_spider_output method is an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous generator</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:black;text-decoration:none'>,</span></a> all active spider
middlewares must either have their process_spider_output method defined as an
asynchronous generator or <i><span style='color:#355F7C'>define a
process_spider_output_async method</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 522653" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>When using third-party spider middlewares that
only define a synchronous process_spider_output method, consider <i><span
style='color:#355F7C'>making them universal </span></i>through <a
href="https://docs.python.org/3/tutorial/classes.html#tut-inheritance"><span
style='color:#377063;text-decoration:none'>subclassing</span></a><a
href="https://docs.python.org/3/tutorial/classes.html#tut-inheritance"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522654"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.14.5 Universal spider
middlewares</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.5pt'>To allow writing a spider middleware that supports
asynchronous execution of its process_spider_output method in Scrapy 2.7 and
later (avoiding <i><span style='color:#355F7C'>asynchronous-to-synchronous
conversions</span></i>) while maintaining support for older Scrapy versions,
you may define process_spider_output as a synchronous method and define an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous generator </span></a>version
of that method with an alternative name: process_spider_output_async. For
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168 src="Scrapy%20Documentation_files/image460.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 523709" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Note: </b>This is an interim measure to allow, for a time,
to write code that works in Scrapy 2.7 and later without requiring
asynchronous-to-synchronous conversions, and works in earlier Scrapy versions
as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>In some future version of Scrapy, however, this feature will
be deprecated and, eventually, in a later version of Scrapy, this feature will
be removed, and all spider middlewares will be expected to define their process_spider_output
method as an asynchronous generator.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 523710"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>5.15 asyncio</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Scrapy has partial support for <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:black;text-decoration:none'>.</span></a> After you <i><span
style='color:#355F7C'>install the asyncio reactor</span></i>, you may use <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>and <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"></a>powered
libraries in any <i><span style='color:#355F7C'>coroutine</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.1 Installing the
asyncio reactor</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.7pt;margin-left:0in;text-align:left;text-indent:0in'>To enable <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asyncio</span></a><span
style='color:#377063'> </span>support,                                    set
the <i><span style='color:#355F7C'>TWISTED_REACTOR </span></i>setting to 'twisted.internet.asyncioreactor.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.95pt;margin-left:-.25pt;text-align:left;line-height:112%'>AsyncioSelectorReactor'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.75pt;
margin-left:.5pt'>If you are using <i><span style='color:#355F7C'>CrawlerRunner</span></i>,
you also need to install the <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.asyncioreactor.AsyncioSelectorReactor.html"><span
style='color:#377063;text-decoration:none'>AsyncioSelectorReactor</span></a><span
style='color:#377063'> </span>reactor manually. You can do that using <i><span
style='color:#355F7C'>install_reactor()</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:109.0pt;margin-left:-.25pt;text-align:left;line-height:111%'><span
style='position:relative;z-index:-1895744512'><span style='left:0px;position:
absolute;left:-5px;top:-164852px;width:633px;height:1px'><img width=633
height=1 src="Scrapy%20Documentation_files/image104.gif"></span></span>install_reactor(<span
style='color:#4070A1'>'twisted.internet.asyncioreactor.AsyncioSelectorReactor'</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.15.
asyncio</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.2 Handling a
pre-installed reactor</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>twisted.internet.reactor and some other Twisted imports
install the default Twisted reactor as a side effect. Once a Twisted reactor is
installed, it is not possible to switch to a different reactor at run time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you <i><span style='color:#355F7C'>configure the asyncio
Twisted reactor </span></i>and, at run time, Scrapy complains that a different
reactor is already installed, chances are you have some such imports in your
code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can usually fix the issue by moving those offending
module-level Twisted imports to the method or function definitions where they
are used. For example, if you have something like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image461.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Switch to something like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image462.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Alternatively, you can try to <i><span style='color:#355F7C'>manually
install the asyncio reactor</span></i>, with <i><span style='color:#355F7C'>install_reactor()</span></i>,
before those imports happen.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.3 Awaiting on
Deferreds</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>When the asyncio reactor isn’t installed, you can await on
Deferreds in the coroutines directly. When it is installed, this is not
possible anymore, due to specifics of the Scrapy coroutine integration (the
coroutines are wrapped into <a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:#377063;text-decoration:none'>asyncio</span></a><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>.</span></sub></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:.5pt'><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:#377063;text-decoration:none'>Futur</span></a><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects,
not into <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>directly),
and you need to wrap them into Futures. Scrapy provides two helpers for this:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:121.65pt;margin-bottom:
3.85pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:129%'>scrapy.utils.defer.deferred_to_future(<i>d:
</i><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><i><span
style='color:#377063;text-decoration:none'>Deferred</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Future[_T] New in version
2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Return an <a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:#377063;text-decoration:none'>asyncio.Future</span></a><span
style='color:#377063'> </span>object that wraps <i>d</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:25.4pt'>When <i><span style='color:#355F7C'>using the asyncio
reactor</span></i>, you cannot await on <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
from <i><span style='color:#355F7C'>Scrapy callables defined as coroutines</span></i>,
you can only await on Future objects. Wrapping Deferred objects into Future objects
allows you to wait on them:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.55pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=105 src="Scrapy%20Documentation_files/image463.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.25pt;margin-bottom:
2.4pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:128%'>scrapy.utils.defer.maybe_deferred_to_future(<i>d:
</i><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><i><span
style='color:#377063;text-decoration:none'>Deferred</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:black;text-decoration:none'>[</span></a>_T] | Future[_T] New in
version 2.6.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Return <i>d </i>as an object that can be awaited from a <i><span
style='color:#355F7C'>Scrapy callable defined as a coroutine</span></i>.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.4pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'>What
you can await in Scrapy callables defined as coroutines depends on the value of
<i><span style='color:#355F7C'>TWISTED_REACTOR</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When not using the
asyncio reactor, you can only await on <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When <i><span
style='color:#355F7C'>using the asyncio reactor</span></i>, you can only await
on <a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><span
style='color:#377063;text-decoration:none'>asyncio.Futur</span></a><a
href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:25.4pt'>If you want to write code that uses Deferred objects but
works with any reactor, use this function on all Deferred objects:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.7pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=105 src="Scrapy%20Documentation_files/image464.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522815"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Tip: </b>If you need to use these functions in code that
aims to be compatible with lower versions of Scrapy that do not provide these
functions, down to Scrapy 2.0 (earlier versions do not support <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:black;text-decoration:none'>)</span></a>, you can copy the
implementation of these functions into your own code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522818"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.4 Enforcing
asyncio as a requirement</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.5pt'>If              you         are           writing    a              <i><span
style='color:#355F7C'>component            </span></i>that         requires  asyncio   to            work,      use
scrapy.utils.reactor. is_asyncio_reactor_installed() to <i><span
style='color:#355F7C'>enforce it as a requirement</span></i>. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=200 src="Scrapy%20Documentation_files/image465.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.5 Windows-specific
notes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:.5pt'>The Windows implementation of <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asyncio</span></a><span
style='color:#377063'> </span>can use two event loop implementations, <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop"><span
style='color:#377063;text-decoration:none'>ProactorEventLoop</span></a><span
style='color:#377063'> </span>(default) and <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop"><span
style='color:#377063;text-decoration:none'>SelectorEventLoop</span></a><a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop"><span
style='color:black;text-decoration:none'>.</span></a> However, only <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop"><span
style='color:#377063;text-decoration:none'>SelectorEventLoop</span></a><span
style='color:#377063'> </span>works with Twisted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.65pt;
margin-left:.5pt'>Scrapy changes the event loop class to <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.SelectorEventLoop"><span
style='color:#377063;text-decoration:none'>SelectorEventLoop</span></a><span
style='color:#377063'> </span>automatically when you change the <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>setting or call <i><span
style='color:#355F7C'>install_reactor()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 522824" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Other libraries you use may require <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop"><span
style='color:#377063;text-decoration:none'>ProactorEventLoo</span></a><a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>p</span></sub></a><a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.ProactorEventLoop"><span
style='color:black;text-decoration:none'>,</span></a> e.g. because it supports
subprocesses (this is the case with <a
href="https://github.com/microsoft/playwright-python"><span style='color:#377063;
text-decoration:none'>playwright</span></a><a
href="https://github.com/microsoft/playwright-python"><span style='color:black;
text-decoration:none'>)</span></a>, so you cannot use them together with Scrapy
on Windows (but you should be able to use them on WSL or native Linux).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:68.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 522825"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.15.
asyncio</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>5.15.6 Using custom
asyncio loops</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can also use custom asyncio event loops with the asyncio
reactor. Set the <i><span style='color:#355F7C'>ASYNCIO_EVENT_LOOP </span></i>setting
to the import path of the desired event loop class to use it instead of the
default asyncio event loop.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Frequently Asked Questions</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Get answers to most frequently asked questions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Debugging Spiders</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to debug common problems of your Scrapy spider.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Spiders Contracts</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to use contracts for testing your spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Common Practices</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Get familiar with some Scrapy common practices.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>Broad Crawls</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Tune Scrapy for crawling a lot domains in parallel.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:215.55pt;margin-bottom:
5.5pt;margin-left:24.9pt;text-indent:-24.9pt'><b><i><span style='color:#355F7C'>Using
your browser’s Developer Tools for scraping </span></i></b>Learn how to scrape
with your browser’s developer tools.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Selecting dynamically-loaded content</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Read webpage data that is loaded dynamically.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Debugging memory leaks</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to find and get rid of memory leaks in your
crawler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Downloading and processing files and images</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Download files and/or images associated with your scraped
items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Deploying Spiders</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Deploying your Scrapy spiders and run them in a remote
server.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>AutoThrottle extension</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Adjust crawl rate dynamically based on load.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Benchmarking</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Check how Scrapy performs on your hardware.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Jobs: pausing and resuming crawls</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to pause and resume crawls for large spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Coroutines</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'>Use the <a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:#377063;text-decoration:none'>coroutine syntax</span></a><a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>asyncio</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Use <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asyncio</span></a><span
style='color:#377063'> </span>and <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asyncio</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:black;text-decoration:none'>-</span></a>powered libraries.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection32>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 521500"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>SIX</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 521501"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>EXTENDING SCRAPY</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.1 Architecture
overview</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>This document describes the architecture of Scrapy and how
its components interact.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.1.1 Overview</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>The following diagram shows an overview of the Scrapy
architecture with its components and an outline of the data flow that takes
place inside the system (shown by the red arrows). A brief description of the
components is included below with links for more detailed information about
them. The data flow is also described below.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.1.2 Data flow</span></b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><img border=0 width=624 height=419 id="Picture 38795"
src="Scrapy%20Documentation_files/image466.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The data flow in Scrapy is controlled by the execution
engine, and goes like this:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Engine </span></i>gets the initial Requests to crawl from
the <i><span style='color:#355F7C'>Spider</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Engine </span></i>schedules the Requests in the <i><span
style='color:#355F7C'>Scheduler </span></i>and asks for the next Requests to
crawl.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Scheduler </span></i>returns the next Requests to the <i><span
style='color:#355F7C'>Engine</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05in;
margin-left:24.9pt;text-indent:-12.45pt;line-height:127%'><span
style='line-height:127%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>The <i><span style='color:#355F7C'>Engine </span></i>sends the
Requests to the <i><span style='color:#355F7C'>Downloader</span></i>, passing
through the <i><span style='color:#355F7C'>Downloader Middlewares </span></i>(see
<i><span style='color:#355F7C'>process_request()</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Once the page
finishes downloading the <i><span style='color:#355F7C'>Downloader </span></i>generates
a Response (with that page) and sends it to the Engine, passing through the <i><span
style='color:#355F7C'>Downloader Middlewares </span></i>(see <i><span
style='color:#355F7C'>process_response()</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Engine </span></i>receives the Response from the <i><span
style='color:#355F7C'>Downloader </span></i>and sends it to the <i><span
style='color:#355F7C'>Spider </span></i>for processing, passing through the <i><span
style='color:#355F7C'>Spider Middleware </span></i>(see <i><span
style='color:#355F7C'>process_spider_input()</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Spider </span></i>processes the Response and returns
scraped items and new Requests (to follow) to the <i><span style='color:#355F7C'>Engine</span></i>,
passing through the <i><span style='color:#355F7C'>Spider Middleware </span></i>(see
<i><span style='color:#355F7C'>process_spider_output()</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The <i><span
style='color:#355F7C'>Engine </span></i>sends processed items to <i><span
style='color:#355F7C'>Item Pipelines</span></i>, then send processed Requests
to the <i><span style='color:#355F7C'>Scheduler </span></i>and asks for
possible next Requests to crawl.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The process
repeats (from step 3) until there are no more requests from the <i><span
style='color:#355F7C'>Scheduler</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.1.3 Components</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Scrapy
Engine</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The engine is responsible for controlling the data flow
between all components of the system, and triggering events when certain
actions occur. See the <i><span style='color:#355F7C'>Data Flow </span></i>section
above for more details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Scheduler</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>scheduler </span></i>receives
requests from the engine and enqueues them for feeding them later (also to the
engine) when the engine requests them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Downloader</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The Downloader is responsible for fetching web pages and
feeding them to the engine which, in turn, feeds them to the spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Spiders are custom classes written by Scrapy users to parse
responses and extract <i><span style='color:#355F7C'>items </span></i>from them
or additional requests to follow. For more information see <i><span
style='color:#355F7C'>Spiders</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Item
Pipeline</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>The Item Pipeline is responsible for processing the items
once they have been extracted (or scraped) by the spiders. Typical tasks
include cleansing, validation and persistence (like storing the item in a
database). For more information see <i><span style='color:#355F7C'>Item
Pipeline</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Downloader
middlewares</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Downloader middlewares are specific hooks that sit between
the Engine and the Downloader and process requests when they pass from the
Engine to the Downloader, and responses that pass from Downloader to the
Engine.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use a Downloader middleware if you need to do one of the
following:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>process a request
just before it is sent to the Downloader (i.e. right before Scrapy sends the
request to the website);</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>change received
response before passing it to a spider;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>send
a new Request instead of passing received response to a spider; • pass response
to a spider without fetching a web page;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>silently drop some
requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>For more information see <i><span style='color:#355F7C'>Downloader
Middleware</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Spider
middlewares</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Spider middlewares are specific hooks that sit between the
Engine and the Spiders and are able to process spider input (responses) and
output (items and requests).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Use a Spider middleware if you need to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>post-process output
of spider callbacks - change/add/remove requests or items;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>post-process
start_requests;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>handle spider
exceptions;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>call errback instead
of callback for some of the requests based on response content.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:.5pt'>For more information see <i><span style='color:#355F7C'>Spider
Middleware</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.1.4 Event-driven
networking</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy is written with <a href="https://twisted.org/"><span
style='color:#377063;text-decoration:none'>Twisted</span></a><a
href="https://twisted.org/"><span style='color:black;text-decoration:none'>,</span></a>
a popular event-driven networking framework for Python. Thus, it’s implemented
using a non-blocking (aka asynchronous) code for concurrency.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For more information about asynchronous programming and
Twisted see these links:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://docs.twisted.org/en/stable/core/howto/defer-intro.html"><span
style='color:#377063;text-decoration:none'>Introduction to Deferreds</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:112.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://krondo.com/an-introduction-to-asynchronous-programming-and-twisted/"><span
style='color:#377063;text-decoration:none'>Twisted Introduction - Krondo</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.1.
Architecture overview</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.2 Add-ons</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Scrapy’s add-on system is a framework which unifies managing
and configuring components that extend Scrapy’s core functionality, such as
middlewares, extensions, or pipelines. It provides users with a plug-and-play
experience in Scrapy extension management, and grants extensive configuration
control to developers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>6.2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Activating and
configuring add-ons</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>During <i><span style='color:#355F7C'>Crawler </span></i>initialization,
the list of enabled add-ons is read from your ADDONS setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:5.15pt;margin-bottom:
0in;margin-left:.5pt;line-height:153%'>The ADDONS setting is a dict in which
every key is an add-on class or its import path and the value is its priority.
This is an example where two add-ons are enabled in a project’s settings.py:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image467.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>6.2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Writing your own
add-ons</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:99.65pt;margin-bottom:
0in;margin-left:.5pt;line-height:169%'>Add-ons are Python classes that include
the following method: update_settings(<i>settings</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This method is called during the initialization of the <i><span
style='color:#355F7C'>Crawler</span></i>. Here, you should perform dependency
checks (e.g. for external Python libraries) and update the <i><span
style='color:#355F7C'>Settings </span></i>object as wished, e.g. enable
components for this add-on or set required configuration of other extensions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.25pt;
margin-bottom:5.3pt;margin-left:-.75pt;text-align:left;text-indent:49.8pt;
line-height:126%'><b>Parameters </b>settings (<i><span style='color:#355F7C'>Settings</span></i>)
– The settings object storing Scrapy/component configuration They can also have
the following method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>cls</i>, <i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If present, this class method is called to create an add-on
instance from a <i><span style='color:#355F7C'>Crawler</span></i>. It must
return a new instance of the add-on. The crawler object provides access to all
Scrapy core components like settings and signals; it is a way for the add-on to
access them and hook its functionality into Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:172.25pt;margin-bottom:
6.7pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>crawler (<i><span
style='color:#355F7C'>Crawler</span></i>) – The crawler that uses this add-on</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:130%'>The settings set by the add-on should use
the addon priority (see <i><span style='color:#355F7C'>Populating the settings </span></i>and
<i><span style='color:#355F7C'>scrapy.settings. BaseSettings.set()</span></i>):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image468.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This allows users to override these settings in the project
or spider configuration. This is not possible with settings that are mutable
objects, such as the dict that is a value of <i><span style='color:#355F7C'>ITEM_PIPELINES</span></i>.
In these cases you can provide an add-onspecific setting that governs whether
the add-on will modify <i><span style='color:#355F7C'>ITEM_PIPELINES</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image469.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>If the update_settings method raises <i><span
style='color:#355F7C'>scrapy.exceptions.NotConfigured</span></i>, the add-on
will be skipped. This makes it easy to enable an add-on only when some
conditions are met.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Fallbacks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:.5pt'>Some components provided by add-ons need to fall back to
“default” implementations, e.g. a custom download handler needs to send the
request that it doesn’t handle via the default download handler, or a stats
collector that includes some additional processing but otherwise uses the
default stats collector. And it’s possible that a project needs to use several
custom components of the same type, e.g. two custom download handlers that
support different kinds of custom requests and still need to use the default
download handler for other requests. To make such use cases easier to
configure, we recommend that such custom components should be written in the
following way:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The custom
component (e.g. MyDownloadHandler) shouldn’t inherit from the default Scrapy
one (e.g. scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>core.downloader.handlers.http.HTTPDownloadHandler), but
instead be able to load the class of the fallback component from a special
setting (e.g. MY_FALLBACK_DOWNLOAD_HANDLER), create an instance of it and use
it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The add-ons
that include these components should read the current value of the default
setting (e.g. DOWNLOAD_HANDLERS) in their update_settings() methods, save that
value into the fallback setting (MY_FALLBACK_DOWNLOAD_HANDLER mentioned
earlier) and set the default setting to the component provided by the add-on
(e.g. MyDownloadHandler). If the fallback setting is already set by the user,
they shouldn’t change</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'>it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.8pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>This way, if
there are several add-ons that want to modify the same setting, all of them
will fallback to the component from the previous one and then to the Scrapy
default. The order of that depends on the priority order in the ADDONS setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.2.3 Add-on examples</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Set some basic configuration:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image470.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:44.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=174 src="Scrapy%20Documentation_files/image471.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.2.
Add-ons</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=196 src="Scrapy%20Documentation_files/image472.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=503 src="Scrapy%20Documentation_files/image473.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection33>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.3 Downloader
Middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.2pt;
margin-left:.5pt'>The downloader middleware is a framework of hooks into
Scrapy’s request/response processing. It’s a light, low-level system for
globally altering Scrapy’s requests and responses.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.3.1 Activating a
downloader middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:124%'>To activate a downloader middleware
component, add it to the <i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES </span></i>setting,
which is a dict whose keys are the middleware class paths and their values are
the middleware orders. Here’s an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image474.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES </span></i>setting
is merged with the <i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES_BASE </span></i>setting
defined in Scrapy (and not meant to be overridden) and then sorted by order to
get the final sorted list of enabled middlewares: the first middleware is the
one closer to the engine and the last is the one closer to the downloader. In
other words, the <i><span style='color:#355F7C'>process_request() </span></i>method
of each middleware will be invoked in increasing middleware order (100, 200,
300, ...) and the <i><span style='color:#355F7C'>process_response() </span></i>method
of each middleware will be invoked in decreasing order.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt'>To decide which order to assign to your middleware see the <i><span
style='color:#355F7C'>DOWNLOADER_MIDDLEWARES_BASE </span></i>setting and pick a
value according to where you want to insert the middleware. The order does
matter because each middleware performs a different action and your middleware
could depend on some previous (or subsequent) middleware being applied.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.5pt'>If you want to disable a built-in middleware (the ones
defined in <i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES_BASE </span></i>and
enabled by default) you must define it in your project’s <i><span
style='color:#355F7C'>DOWNLOADER_MIDDLEWARES </span></i>setting and assign None
as its value. For example, if you want to disable the user-agent middleware:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image475.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.2pt;
margin-left:.5pt'>Finally, keep in mind that some middlewares may need to be
enabled through a particular setting. See each middleware documentation for
more info.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.3.2 Writing your own
downloader middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Each downloader middleware is a Python class that defines one
or more of the methods defined below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.5pt;line-height:130%'>The main entry point is the from_crawler class
method, which receives a <i><span style='color:#355F7C'>Crawler </span></i>instance.
The <i><span style='color:#355F7C'>Crawler </span></i>object gives you access,
for example, to the <i><span style='color:#355F7C'>settings</span></i>. class
scrapy.downloadermiddlewares.DownloaderMiddleware</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.95pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 526495"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>           </span><b>Note: </b>Any of
the downloader middleware methods may also return a deferred.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.05pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 526496"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>process_request(<i>request</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:50.3pt'>This method is called for each request that goes through
the download middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:126%'><i><span style='color:#355F7C'>process_request()
</span></i>should either: return None, return a Response object, return a <i><span
style='color:#355F7C'>Request </span></i>object, or raise <i><span
style='color:#355F7C'>IgnoreRequest</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:50.3pt'>If it returns None, Scrapy will continue processing this
request, executing all other middlewares until, finally, the appropriate
downloader handler is called the request performed (and its response
downloaded).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>If it returns a <i><span style='color:#355F7C'>Response </span></i>object,
Scrapy won’t bother calling <i>any </i>other <i><span style='color:#355F7C'>process_request()
</span></i>or <i><span style='color:#355F7C'>process_exception() </span></i>methods,
or the appropriate download function; it’ll return that response. The <i><span
style='color:#355F7C'>process_response() </span></i>methods of installed
middleware is always called on every response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:50.3pt'>If it returns a Request object, Scrapy will stop calling <i><span
style='color:#355F7C'>process_request() </span></i>methods and reschedule the
returned request. Once the newly returned request is performed, the appropriate
middleware chain will be called on the downloaded response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:50.3pt'>If it raises an <i><span style='color:#355F7C'>IgnoreRequest
</span></i>exception, the <i><span style='color:#355F7C'>process_exception() </span></i>methods
of installed downloader middleware will be called. If none of them handle the
exception, the errback function of the request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>(Request.errback) is called. If no code handles the raised
exception, it is ignored and not logged (unlike other exceptions).</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request being processed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider for which this
request is intended</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:49.8pt;text-indent:-24.9pt;line-height:131%'>process_response(<i>request</i>,
<i>response</i>, <i>spider</i>) <i><span style='color:#355F7C'>process_response()
</span></i>should either: return a <i><span style='color:#355F7C'>Response </span></i>object,
return a Request object or raise a <i><span style='color:#355F7C'>IgnoreRequest
</span></i>exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:50.3pt'>If it returns a <i><span style='color:#355F7C'>Response </span></i>(it
could be the same given response, or a brand-new one), that response will
continue to be processed with the <i><span style='color:#355F7C'>process_response()
</span></i>of the next middleware in the chain. If it returns a Request object,
the middleware chain is halted and the returned request is rescheduled to be
downloaded in the future. This is the same behavior as if a request is returned
from <i><span style='color:#355F7C'>process_request()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it raises an <i><span style='color:#355F7C'>IgnoreRequest
</span></i>exception, the errback function of the request (Request.errback) is
called. If no code handles the raised exception, it is ignored and not logged
(unlike other exceptions).</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:36.35pt;margin-bottom:
6.8pt;margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (is a Request
object) – the request that originated the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:36.35pt;margin-bottom:
.9pt;margin-left:107.3pt;text-indent:-8.45pt;line-height:157%'><span
style='line-height:157%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response
(<i><span style='color:#355F7C'>Response </span></i>object) – the response
being processed • spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider for which this response is intended</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.5pt;margin-left:25.4pt;text-align:left;line-height:104%'>process_exception(<i>request</i>,
<i>exception</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.05pt;
margin-left:50.3pt;line-height:137%'>Scrapy calls <i><span style='color:#355F7C'>process_exception()
</span></i>when a download handler or a <i><span style='color:#355F7C'>process_request()
</span></i>(from a downloader middleware) raises an exception (including an <i><span
style='color:#355F7C'>IgnoreRequest </span></i>exception) <i><span
style='color:#355F7C'>process_exception() </span></i>should return: either None,
a <i><span style='color:#355F7C'>Response </span></i>object, or a Request object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:50.3pt'>If it returns None, Scrapy will continue processing this
exception, executing any other <i><span style='color:#355F7C'>process_exception()
</span></i>methods of installed middleware, until no middleware is left and the
default exception handling kicks in.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it returns a <i><span style='color:#355F7C'>Response </span></i>object,
the <i><span style='color:#355F7C'>process_response() </span></i>method chain
of installed middleware is started, and Scrapy won’t bother calling any other <i><span
style='color:#355F7C'>process_exception() </span></i>methods of middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it returns a Request object, the returned request is
rescheduled to be downloaded in the future. This stops the execution of <i><span
style='color:#355F7C'>process_exception() </span></i>methods of the middleware
the same as returning a response would.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (is a Request
object) – the request that generated the exception</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>exception (an Exception
object) – the raised exception</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider for which this
request is intended</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>from_crawler(<i>cls</i>,
<i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If present, this classmethod is called to create a
middleware instance from a <i><span style='color:#355F7C'>Crawler</span></i>.
It must return a new instance of the middleware. Crawler object provides access
to all Scrapy core components like settings and signals; it is a way for
middleware to access them and hook its functionality into Scrapy.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:71.5pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:90.85pt'>crawler (<i><span style='color:#355F7C'>Crawler </span></i>object)
– crawler that uses this middleware</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.3.3 Built-in
downloader middleware reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>This page describes all downloader middleware components that
come with Scrapy. For information on how to use them and how to write your own
downloader middleware, see the <i><span style='color:#355F7C'>downloader
middleware usage guide</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.5pt'>For a list of the components enabled by default (and their
orders) see the <i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES_BASE </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:154.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>CookiesMiddleware </span></b>class
scrapy.downloadermiddlewares.cookies.CookiesMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.0pt;
margin-left:25.4pt'>This middleware enables working with sites that require
cookies, such as those that use sessions. It keeps track of cookies sent by web
servers, and sends them back on subsequent requests (from that spider), just
like web browsers do.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:35.2pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>When
non-UTF8 encoded byte sequences are passed to a Request, the CookiesMiddleware will
log a warning. Refer to <i><span style='color:#355F7C'>Advanced customization </span></i>to
customize the logging behaviour.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Caution: </b>Cookies
set via the <sub><span style='font-size:15.5pt;line-height:94%'>Cookie</span></sub>
header are not considered by the <i><span style='color:#355F7C'>CookiesMiddleware</span></i>.
If you need to set cookies for a request, use the <sub><span style='font-size:
15.5pt;line-height:94%'>Request.cookies</span></sub> parameter. This is a known
current limitation that is being worked on.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:.5pt'>The following settings can be used to configure the cookie
middleware:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>COOKIES_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>COOKIES_DEBUG</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Multiple
cookie sessions per spider</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:123%'>There is support for keeping multiple cookie
sessions per spider by using the <i><span style='color:#355F7C'>cookiejar </span></i>Request
meta key. By default it uses a single cookie jar (session), but you can pass an
identifier to use different ones. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image476.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Keep in mind that the <i><span style='color:#355F7C'>cookiejar
</span></i>meta key is not “sticky”. You need to keep passing it along on
subsequent requests. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image477.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>COOKIES_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:.5pt'>Whether to enable the cookies middleware. If disabled, no
cookies will be sent to web servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>Notice that despite the value of <i><span style='color:#355F7C'>COOKIES_ENABLED
</span></i>setting if Request.<i><span style='color:#355F7C'>meta['dont_merge_cookies']
</span></i>evaluates to True the request cookies will <b><sub><span
style='font-size:15.5pt;line-height:103%'>not </span></sub></b>be sent to the
web server and received cookies in <i><span style='color:#355F7C'>Response </span></i>will
<b><sub><span style='font-size:15.5pt;line-height:103%'>not </span></sub></b>be
merged with the existing cookies.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>For more detailed information see the cookies parameter in Request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>COOKIES_DEBUG</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.7pt;
margin-left:.5pt'>If enabled, Scrapy will log all cookies sent in requests
(i.e. Cookie header) and all cookies received in responses (i.e.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.15pt;margin-left:-.25pt;text-align:left;line-height:112%'>Set-Cookie
header).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.8pt;
margin-left:.5pt'>Here’s an example of a log with <i><span style='color:#355F7C'>COOKIES_DEBUG
</span></i>enabled:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2011</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>04</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>06 14</span>:<span style='color:#217F4F'>35</span>:<span
style='color:#217F4F'>10</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0300 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] INFO: Spider opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2011</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>04</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>06 14</span>:<span style='color:#217F4F'>35</span>:<span
style='color:#217F4F'>10</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0300 </span>[scrapy<span style='color:#666666'>.</span>downloadermiddlewares<span
style='color:#666666'>.</span>cookies] DEBUG: Sending cookies<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:117.55pt;
margin-bottom:.25pt;margin-left:38.45pt;text-align:left;text-indent:-39.2pt;
line-height:112%'><span style='position:relative;z-index:-1895743488'><span
style='left:0px;position:absolute;left:-5px;top:-175584px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image478.gif"></span></span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>to:
<span style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>www<span
style='color:#666666'>.</span>diningcity<span style='color:#666666'>.</span>com<span
style='color:#666666'>/</span>netherlands<span style='color:#666666'>/</span>index<span
style='color:#666666'>.</span>html<span style='color:#666666'>&gt; </span>Cookie:
clientlanguage_nl<span style='color:#666666'>=</span>en_EN</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2011</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>04</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>06 14</span>:<span style='color:#217F4F'>35</span>:<span
style='color:#217F4F'>14</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0300 </span>[scrapy<span style='color:#666666'>.</span>downloadermiddlewares<span
style='color:#666666'>.</span>cookies] DEBUG: Received cookies<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>from:
<span style='color:#666666'>&lt;</span><span style='color:#217F4F'>200 </span>http:<span
style='color:#666666'>//</span>www<span style='color:#666666'>.</span>diningcity<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>netherlands<span
style='color:#666666'>/</span>index<span style='color:#666666'>.</span>html<span
style='color:#666666'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:42.35pt;text-align:left;line-height:112%'>Set<span
style='color:#666666'>-</span>Cookie: JSESSIONID<span style='color:#666666'>=</span>B<span
style='color:#666666'>~</span>FA4DC0C496C8762AE4F1A620EAB34F38; Path<span
style='color:#666666'>=/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:42.35pt;text-align:left;line-height:112%'>Set<span
style='color:#666666'>-</span>Cookie: ip_isocode<span style='color:#666666'>=</span>US</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:42.35pt;text-align:left;line-height:112%'>Set<span
style='color:#666666'>-</span>Cookie: clientlanguage_nl<span style='color:#666666'>=</span>en_EN;
Expires<span style='color:#666666'>=</span>Thu, <span style='color:#217F4F'>07</span><span
style='color:#666666'>-</span>Apr<span style='color:#666666'>-</span><span
style='color:#217F4F'>2011 21</span>:<span style='color:#217F4F'>21</span>:<span
style='color:#217F4F'>34 </span>GMT;<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>Path<span
style='color:#666666'>=/</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#217F4F'>2011</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>04</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>06 14</span>:<span style='color:#217F4F'>49</span>:<span
style='color:#217F4F'>50</span><span style='color:#666666'>-</span><span
style='color:#217F4F'>0300 </span>[scrapy<span style='color:#666666'>.</span>core<span
style='color:#666666'>.</span>engine] DEBUG: Crawled (<span style='color:#217F4F'>200</span>)
<span style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>www<span
style='color:#666666'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>diningcity<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span>netherlands<span
style='color:#666666'>/</span>index<span style='color:#666666'>.</span>html<span
style='color:#666666'>&gt; </span>(referer: <span style='color:#007021'>None</span>)</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>[<span style='color:#666666'>...</span>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:80.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>DefaultHeadersMiddleware </span></b>class scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:25.4pt'>This middleware sets all default requests headers specified
in the <i><span style='color:#355F7C'>DEFAULT_REQUEST_HEADERS </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.5pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>DownloadTimeoutMiddleware </span></b>class
scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.65pt;
margin-left:25.4pt'>This middleware sets the download timeout for requests
specified in the <i><span style='color:#355F7C'>DOWNLOAD_TIMEOUT </span></i>setting
or download_timeout spider attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 524515"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note:      </b>You can also set download timeout
per-request using <i><span style='color:#355F7C'>download_timeout </span></i>Request.meta
key; this is supported even when DownloadTimeoutMiddleware is disabled.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 524516"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:143.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>HttpAuthMiddleware </span></b>class
scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware authenticates all requests generated from
certain spiders using <a
href="https://en.wikipedia.org/wiki/Basic_access_authentication"><span
style='color:#377063;text-decoration:none'>Basic access authentication</span></a><span
style='color:#377063'> </span>(aka. HTTP auth).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:25.4pt'>To enable HTTP authentication for a spider, set the http_user
and http_pass spider attributes to the authentication data and the http_auth_domain
spider attribute to the domain which requires this authentication (its
subdomains will be also handled in the same way). You can set http_auth_domain to
None to enable the authentication for all requests but you risk leaking your
authentication credentials to unrelated domains.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>In
previous Scrapy versions HttpAuthMiddleware sent the authentication data with
all requests, which is a security problem if the spider makes requests to
several different domains. Currently if the http_auth_domain attribute is not
set, the middleware will use the domain of the first request, which will work
for some spiders but not for others. In the future the middleware will produce
an error instead.</p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=168 src="Scrapy%20Documentation_files/image479.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>HttpCacheMiddleware </span></b>class
scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware provides low-level cache to all HTTP
requests and responses. It has to be combined with a cache storage backend as
well as a cache policy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Scrapy ships with the following HTTP cache storage
backends:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Filesystem storage backend
(default)</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>DBM storage backend</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>You can change the HTTP cache storage backend with the <i><span
style='color:#355F7C'>HTTPCACHE_STORAGE </span></i>setting. Or you can also <i><span
style='color:#355F7C'>implement your own storage backend.</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Scrapy ships with two HTTP cache policies:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>RFC2616 policy</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><i><span style='color:#355F7C'>Dummy policy (default)</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:25.4pt'>You can change the HTTP cache policy with the <i><span
style='color:#355F7C'>HTTPCACHE_POLICY </span></i>setting. Or you can also
implement your own policy.     You can also avoid caching a response on every
policy using <i><span style='color:#355F7C'>dont_cache </span></i>meta key
equals True.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:232.65pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>Dummy policy (default) </span></b>class
scrapy.extensions.httpcache.DummyPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This policy has no awareness of any HTTP Cache-Control
directives. Every request and its corresponding response are cached. When the
same request is seen again, the response is returned without transferring
anything from the Internet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:25.4pt'>The Dummy policy is useful for testing spiders faster
(without having to wait for downloads every time) and for trying your spider
offline, when an Internet connection is not available. The goal is to be able
to “replay” a spider run <i>exactly as it ran before</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:239%'><b><span
style='color:#20435C'>RFC2616 policy </span></b>class
scrapy.extensions.httpcache.RFC2616Policy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This policy provides a RFC2616 compliant HTTP cache, i.e.
with HTTP Cache-Control awareness, aimed at production and used in continuous
runs to avoid downloading unmodified data (to save bandwidth and speed up
crawls).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>What is implemented:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not attempt to
store responses/requests with no-store cache-control directive set</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not serve
responses from cache if no-cache cache-control directive is set even for fresh
responses</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute freshness
lifetime from max-age cache-control directive</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute freshness
lifetime from Expires response header</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute freshness
lifetime from Last-Modified response header (heuristic used by Firefox)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute current age
from Age response header</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute current age
from Date header</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Revalidate stale
responses based on Last-Modified response header</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Revalidate stale
responses based on ETag response header</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection34>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Set Date header for
any received response missing it</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support max-stale cache-control
directive in requests</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This allows spiders to be configured with the full RFC2616
cache policy, but avoid revalidation on a request-byrequest basis, while
remaining conformant with the HTTP spec. Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.7pt;
margin-left:25.4pt;line-height:132%'>Add Cache-Control: max-stale=600 to
Request headers to accept responses that have exceeded their expiration time by
no more than 600 seconds. See also: RFC2616, 14.9.3 What is missing:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pragma:
no-cache support <a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.1"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9.1</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Vary
header support <a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.6"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.6</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Invalidation
after updates or deletes <a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.10"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.10</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>... probably others
..</p>

<p class=MsoNormal style='margin-top:0in;margin-right:175.1pt;margin-bottom:
0in;margin-left:-.25pt;line-height:239%'><b><span style='color:#20435C'>Filesystem
storage backend (default) </span></b>class
scrapy.extensions.httpcache.FilesystemCacheStorage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>File system storage backend is available for the HTTP cache
middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:25.4pt'>Each request/response pair is stored in a different
directory containing the following files:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request_body - the
plain request body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request_headers - the
request headers (in raw HTTP format)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response_body - the
plain response body</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response_headers -
the request headers (in raw HTTP format)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>meta - some metadata
of this cache resource in Python repr() format (grep-friendly format)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pickled_meta - the
same metadata in meta but pickled for more efficient deserialization</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:25.4pt'>The directory name is made from the request fingerprint
(see scrapy.utils.request.fingerprint), and one level of subdirectories is used
to avoid creating too many files into the same directory (which is inefficient
in many file systems). An example directory could be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.25pt;margin-left:25.4pt;text-align:left;line-height:112%'><span
style='position:relative;z-index:-1895742464'><span style='left:0px;position:
absolute;left:29px;top:-177970px;width:600px;height:1px'><img width=600
height=1 src="Scrapy%20Documentation_files/image480.gif"></span></span><span
style='color:#666666'>/</span>path<span style='color:#666666'>/</span>to<span
style='color:#666666'>/</span>cache<span style='color:#666666'>/</span><span
style='color:#007021'>dir</span><span style='color:#666666'>/</span>example<span
style='color:#666666'>.</span>com<span style='color:#666666'>/</span><span
style='color:#217F4F'>72</span><span style='color:#666666'>/</span><span
style='color:#217F4F'>72811</span>f648e718090f041317756c03adb0ada46c7</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:211.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:239%'><b><span
style='color:#20435C'>DBM storage backend </span></b>class
scrapy.extensions.httpcache.DbmCacheStorage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:25.4pt'>A <a href="https://en.wikipedia.org/wiki/Dbm"><span
style='color:#377063;text-decoration:none'>DBM</span></a><span
style='color:#377063'> </span>storage backend is also available for the HTTP
cache middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.25in;
margin-left:25.4pt'>By default, it uses the <a
href="https://docs.python.org/3/library/dbm.html#module-dbm"><span
style='color:#377063;text-decoration:none'>dbm</span></a><a
href="https://docs.python.org/3/library/dbm.html#module-dbm"><span
style='color:black;text-decoration:none'>,</span></a> but you can change it
with the <i><span style='color:#355F7C'>HTTPCACHE_DBM_MODULE </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.3.
Downloader Middleware</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Writing
your own storage backend</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:.5pt'>You can implement a cache storage backend by creating a
Python class that defines the methods described below.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.extensions.httpcache.CacheStorage</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:24.65pt;text-align:left;line-height:110%'>open_spider(<i>spider</i>)</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.45pt;margin-left:3.0pt;text-align:right'>This method gets
called after a spider has been opened for crawling. It handles the <i><span
style='color:#355F7C'>open_spider </span></i>signal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:134.5pt;margin-bottom:
8.35pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which has been
opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.0pt;margin-left:24.65pt;text-align:left;line-height:110%'>close_spider(<i>spider</i>)</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:8.55pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'>This
method gets called after a spider has been closed. It handles the <i><span
style='color:#355F7C'>close_spider </span></i>signal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:137.85pt;margin-bottom:
7.95pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which has been
closed</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>retrieve_response(<i>spider</i>,
<i>request</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return response if present in cache, or None otherwise.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:4.7pt;margin-bottom:6.45pt;
margin-left:62.0pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider which generated the request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.7pt;margin-bottom:7.3pt;
margin-left:62.0pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>request (Request
object) – the request to find cached response for</p>

<p class=MsoNormal style='margin-top:0in;margin-right:239.75pt;margin-bottom:
2.4pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:127%'>store_response(<i>spider</i>,
<i>request</i>, <i>response</i>) Store the given response in the cache.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:57.25pt;text-indent:98.85pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider for which the response is intended</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:57.25pt;text-indent:98.85pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>request (Request object) – the corresponding request the spider
generated</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.7pt;
margin-left:57.25pt;text-indent:98.85pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>response (<i><span style='color:#355F7C'>Response </span></i>object)
– the response to store in the cache In order to use your storage backend, set:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:57.25pt;text-indent:98.85pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>HTTPCACHE_STORAGE </span></i>to
the Python import path of your custom storage class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.7pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCache
middleware settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.5pt'>The HttpCacheMiddleware can be configured through the
following settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Whether the HTTP cache will be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_EXPIRATION_SECS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Expiration time for cached requests, in seconds.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Cached requests older than this time will be re-downloaded.
If zero, cached requests will never expire.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_DIR</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
'httpcache'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:.5pt'>The directory to use for storing the (low-level) HTTP cache.
If empty, the HTTP cache will be disabled. If a relative path is given, is
taken relative to the project data dir. For more info see: <i><span
style='color:#355F7C'>Default structure of Scrapy projects</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_IGNORE_HTTP_CODES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Don’t cache response with these HTTP codes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_IGNORE_MISSING</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>If enabled, requests not found in the cache will be ignored
instead of downloaded.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_IGNORE_SCHEMES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: ['file']</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Don’t cache responses with these URI schemes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_STORAGE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:144.8pt;margin-bottom:
12.95pt;margin-left:.5pt;line-height:155%'>Default: 'scrapy.extensions.httpcache.FilesystemCacheStorage'
The class which implements the cache storage backend.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.95pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_DBM_MODULE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 'dbm'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The database module to use in the <i><span style='color:#355F7C'>DBM
storage backend</span></i>. This setting is specific to the DBM backend.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_POLICY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:202.35pt;margin-bottom:
12.95pt;margin-left:.5pt;line-height:155%'>Default: 'scrapy.extensions.httpcache.DummyPolicy'
The class which implements the cache policy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_GZIP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>If enabled, will compress all cached data with gzip. This
setting is specific to the Filesystem backend.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_ALWAYS_STORE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If enabled, will cache pages unconditionally.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.5pt'>A spider may wish to have all responses available in the
cache, for future use with Cache-Control: max-stale, for instance. The
DummyPolicy caches all responses but never revalidates them, and sometimes a
more nuanced policy is desirable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>This setting still respects Cache-Control: no-store directives
in responses. If you don’t want that, filter no-store out of the Cache-Control
headers in responses you feed to the cache middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>List of Cache-Control directives in responses to be ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sites often set “no-store”, “no-cache”, “must-revalidate”,
etc., but get upset at the traffic a spider can generate if it actually
respects those directives. This allows to selectively ignore Cache-Control
directives that are known to be unimportant for the sites being crawled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>We assume that the spider will not issue Cache-Control
directives in requests unless it actually needs them, so directives in requests
are not filtered.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.5pt;margin-bottom:
0in;margin-left:.5pt;line-height:170%'><b><span style='color:#20435C'>HttpCompressionMiddleware
</span></b>class
scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware This
middleware allows compressed (gzip, deflate) traffic to be sent/received from
web sites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware also supports decoding <a
href="https://www.ietf.org/rfc/rfc7932.txt"><span style='color:#377063;
text-decoration:none'>brotli-compressed</span></a><span style='color:#377063'> </span>as
well as <a href="https://www.ietf.org/rfc/rfc8478.txt"><span style='color:#377063;
text-decoration:none'>zstd-compressed</span></a><span style='color:#377063'> </span>responses,
provided that <a href="https://pypi.org/project/Brotli/"><span
style='color:#377063;text-decoration:none'>brotli</span></a><span
style='color:#377063'> </span>or <a href="https://pypi.org/project/zstandard/"><span
style='color:#377063;text-decoration:none'>zstandard</span></a><span
style='color:#377063'> </span>is installed, respectively.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HttpCompressionMiddleware
Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>COMPRESSION_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether the Compression middleware will be enabled.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>HttpProxyMiddleware </span></b>class
scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.6pt;
margin-left:25.4pt'>This middleware sets the HTTP proxy to use for requests, by
setting the proxy meta value for Request objects. Like the Python standard
library module <a
href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request"><span
style='color:#377063;text-decoration:none'>urllib.reques</span></a><a
href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/urllib.request.html#module-urllib.request"><span
style='color:black;text-decoration:none'>,</span></a> it obeys the following
environment variables:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.95pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>http_proxy</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.9pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>https_proxy</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.95pt;margin-left:49.8pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>no_proxy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.1pt;
margin-left:25.4pt'>You can also set the meta key proxy per-request, to a value
like http://some_proxy_server:port or http://username:password@some_proxy_server:port.
Keep in mind this value will take precedence over http_proxy/https_proxy environment
variables, and it will also ignore no_proxy environment variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:154.2pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:170%'><b><span style='color:#20435C'>OffsiteMiddleware
</span></b>class scrapy.downloadermiddlewares.offsite.OffsiteMiddleware New in
version 2.11.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Filters out Requests for URLs outside the domains covered
by the spider.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware filters out every request whose host names
aren’t in the spider’s <i><span style='color:#355F7C'>allowed_domains </span></i>attribute.
All subdomains of any domain in the list are also allowed. E.g. the rule www.example.org
will also allow bob.www.example.org but not www2.example.com nor example.com.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.65pt;
margin-left:25.4pt'>When your spider returns a request for a domain not
belonging to those covered by the spider, this middleware will log a debug
message similar to this one:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:27.5pt;text-align:left;text-indent:-2.6pt;
line-height:112%'><span style='position:relative;z-index:-1895741440'><span
style='left:0px;position:absolute;left:29px;top:-181193px;width:600px;
height:1px'><img width=600 height=1
src="Scrapy%20Documentation_files/image181.gif"></span></span>DEBUG: Filtered
offsite request to <span style='color:#4070A1'>'offsite.example'</span>: <span
style='color:#666666'>&lt;</span>GET http:<span style='color:#666666'>//</span>offsite<span
style='color:#666666'>.</span>example<span style='color:#666666'>/ </span><i><span
style='font-size:5.0pt;line-height:112%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:112%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>some<span
style='color:#666666'>/</span>page<span style='color:#666666'>.</span>html<span
style='color:#666666'>&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To avoid filling the log with too much noise, it will only
print one of these messages for each new domain filtered. So, for example, if
another request for offsite.example is filtered, no log message will be
printed. But if a request for other.example is filtered, a message will be
printed (but only for the first request filtered). If the spider doesn’t define
an <i><span style='color:#355F7C'>allowed_domains </span></i>attribute, or the
attribute is empty, the offsite middleware will allow all requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If the request has the dont_filter attribute set, the
offsite middleware will allow the request even if its domain is not listed in
allowed domains.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:143.7pt;margin-bottom:
0in;margin-left:.5pt;line-height:170%'><b><span style='color:#20435C'>RedirectMiddleware
</span></b>class scrapy.downloadermiddlewares.redirect.RedirectMiddleware This
middleware handles redirection of requests based on response status.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The urls which the request goes through (while being
redirected) can be found in the redirect_urlsRequest.meta key. The reason
behind each redirect in <i><span style='color:#355F7C'>redirect_urls </span></i>can
be found in the redirect_reasonsRequest.meta key. For example: [301, 302, 307,
'meta refresh'].</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in'>The format
of a reason depends on the middleware that handled the corresponding redirect.                   For
example,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>RedirectMiddleware </span></i>indicates
the triggering response status code as an integer, while <i><span
style='color:#355F7C'>MetaRefreshMiddleware </span></i>always uses the 'meta
refresh' string as reason.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>RedirectMiddleware </span></i>can
be configured through the following settings (see the settings documentation
for more info):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>REDIRECT_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>REDIRECT_MAX_TIMES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:.5pt'>If Request.meta has dont_redirect key set to True, the
request will be ignored by this middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you want to handle some redirect status codes in your
spider, you can specify these in the handle_httpstatus_list spider attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>For example, if you want the redirect middleware to ignore
301 and 302 responses (and pass them through to your spider) you can do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image481.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>The handle_httpstatus_list key of Request.meta can also be
used to specify which response codes to allow on a per-request basis. You can
also set the meta key handle_httpstatus_all to True if you want to allow any
response code for a request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RedirectMiddleware
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REDIRECT_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether the Redirect middleware will be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REDIRECT_MAX_TIMES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 20</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The maximum number of redirections that will be followed for
a single request. If maximum redirections are exceeded, the request is aborted
and ignored.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:128.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>MetaRefreshMiddleware </span></b>class
scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware handles redirection of requests based on
meta-refresh html tag.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>MetaRefreshMiddleware </span></i>can
be configured through the following settings (see the settings documentation
for more info):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>METAREFRESH_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>METAREFRESH_MAXDELAY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.9pt;
margin-left:.5pt;line-height:108%'>This middleware obey <i><span
style='color:#355F7C'>REDIRECT_MAX_TIMES </span></i>setting, <i><span
style='color:#355F7C'>dont_redirect</span></i>, <i><span style='color:#355F7C'>redirect_urls
</span></i>and <i><span style='color:#355F7C'>redirect_reasons </span></i>request
meta keys as described for <i><span style='color:#355F7C'>RedirectMiddleware</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MetaRefreshMiddleware
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>METAREFRESH_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether the Meta Refresh middleware will be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>METAREFRESH_IGNORE_TAGS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:.5pt'>Meta tags within these tags are ignored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:.5pt'>Changed in version 2.0: The default value of <i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS </span></i>changed from [&quot;script&quot;,
&quot;noscript&quot;] to [].</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:.5pt'>Changed in version 2.11.2: The default value of <i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS </span></i>changed from [] to [&quot;noscript&quot;].</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>METAREFRESH_MAXDELAY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 100</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>The maximum meta-refresh delay (in seconds) to follow the
redirection. Some sites use meta-refresh for redirecting to a session expired
page, so we restrict automatic redirection to the maximum delay.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.1pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>RetryMiddleware </span></b>class
scrapy.downloadermiddlewares.retry.RetryMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>A middleware to retry failed requests that are potentially
caused by temporary problems such as a connection timeout or HTTP 500 error.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Failed pages are collected on the scraping process and
rescheduled at the end, once the spider has finished crawling all regular (non
failed) pages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>RetryMiddleware </span></i>can
be configured through the following settings (see the settings documentation
for more info):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RETRY_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RETRY_TIMES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RETRY_HTTP_CODES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RETRY_EXCEPTIONS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:61.95pt;margin-bottom:
1.25pt;margin-left:.5pt;line-height:158%'>If Request.meta has dont_retry key
set to True, the request will be ignored by this middleware. To retry requests
from a spider callback, you can use the <i><span style='color:#355F7C'>get_retry_request()
</span></i>function:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:276.45pt;text-indent:-3.85in;line-height:108%'>scrapy.downloadermiddlewares.retry.get_retry_request(<i>request:
Request</i>, <i>*</i>, <i>spider: Spider</i>, <i>reason: str | Exception |
type[Exception] = 'unspecified'</i>, <i>max_retry_times: int | None = None</i>,
<i>priority_adjust: int | None = None</i>, <i>logger: Logger = &lt;Logger</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:277.7pt;text-align:left;line-height:104%'><i>scrapy.downloadermiddlewares.retry
(WARNING)&gt;</i>, <i>stats_base_key: str = 'retry'</i><sub><span
style='font-size:15.5pt;line-height:104%'>)</span></sub></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:3.5pt;margin-left:158.85pt;text-align:center;text-indent:0in;
line-height:107%'><span style='font-family:"Cambria",serif'>&#8594; </span><i><span
style='color:#355F7C'>Request </span></i>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Returns a new Request object to retry the specified
request, or None if retries of the specified request have been exhausted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>For example, in a <i><span style='color:#355F7C'>Spider </span></i>callback,
you could use it as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=137 src="Scrapy%20Documentation_files/image482.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'><i>spider </i>is the <i><span style='color:#355F7C'>Spider </span></i>instance
which is asking for the retry request. It is used to access the <i><span
style='color:#355F7C'>settings </span></i>and <i><span style='color:#355F7C'>stats</span></i>,
and to provide extra logging context (see <a
href="https://docs.python.org/3/library/logging.html#logging.debug"><span
style='color:#377063;text-decoration:none'>logging.debug()</span></a><a
href="https://docs.python.org/3/library/logging.html#logging.debug"><span
style='color:black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'><i>reason </i>is a string or an <a
href="https://docs.python.org/3/library/exceptions.html#Exception"><span
style='color:#377063;text-decoration:none'>Exceptio</span></a><a
href="https://docs.python.org/3/library/exceptions.html#Exception"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>n</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>object
that indicates the reason why the request needs to be retried. It is used to
name retry stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'><i>max_retry_times </i>is a number that determines the
maximum number of times that <i>request </i>can be retried. If not specified or
None, the number is read from the <i><span style='color:#355F7C'>max_retry_times
</span></i>meta key of the request. If the <i><span style='color:#355F7C'>max_retry_times
</span></i>meta key is not defined or None, the number is read from the <i><span
style='color:#355F7C'>RETRY_TIMES </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:25.4pt;text-align:left;line-height:126%'><i>priority_adjust
</i>is a number that determines how the priority of the new request changes in
relation to <i>request</i>. If not specified, the number is read from the <i><span
style='color:#355F7C'>RETRY_PRIORITY_ADJUST </span></i>setting. <i>logger </i>is
the logging.Logger object to be used when logging messages <i>stats_base_key </i>is
a string to be used as the base key for the retry-related job stats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RetryMiddleware
Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RETRY_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether the Retry middleware will be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RETRY_TIMES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Maximum number of times to retry, in addition to the first
download.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>Maximum number of retries can also be specified per-request
using <i><span style='color:#355F7C'>max_retry_times </span></i>attribute of Request.meta.
When initialized, the <i><span style='color:#355F7C'>max_retry_times </span></i>meta
key takes higher precedence over the <i><span style='color:#355F7C'>RETRY_TIMES
</span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RETRY_HTTP_CODES</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
[500, 502, 503, 504, 522, 524, 408, 429]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Which HTTP response codes to retry. Other errors (DNS lookup
issues, connections lost, etc) are always retried.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>In some cases you may want to add 400 to <i><span
style='color:#355F7C'>RETRY_HTTP_CODES </span></i>because it is a common code
used to indicate server overload. It is not included by default because HTTP
specs say so.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RETRY_EXCEPTIONS</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=242 src="Scrapy%20Documentation_files/image483.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>List of exceptions to retry.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Each list entry may be an exception type or its import path
as a string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>An exception will not be caught when the exception type is
not in <i><span style='color:#355F7C'>RETRY_EXCEPTIONS </span></i>or when the
maximum number of retries for a request has been exceeded (see <i><span
style='color:#355F7C'>RETRY_TIMES</span></i>). To learn about uncaught
exception propagation, see <i><span style='color:#355F7C'>process_exception()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RETRY_PRIORITY_ADJUST</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: -1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Adjust retry request priority relative to original request:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a positive priority
adjust means higher priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>a
negative priority adjust (default) means lower priority.</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>RobotsTxtMiddleware </span></b>class
scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware filters out requests forbidden by the
robots.txt exclusion standard.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To make sure Scrapy respects robots.txt make sure the
middleware is enabled and the <i><span style='color:#355F7C'>ROBOTSTXT_OBEY </span></i>setting
is enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>ROBOTSTXT_USER_AGENT </span></i>setting
can be used to specify the user agent string to use for matching in the <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>file. If it is None,
the User-Agent header you are sending with the request or the <i><span
style='color:#355F7C'>USER_AGENT </span></i>setting (in that order) will be
used for determining the user agent to use in the <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This middleware has to be combined with a <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>parser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Scrapy ships with support for the following <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>parsers:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Protego </span></i>(default)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RobotFileParser</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Robotexclusionrulesparser</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:25.4pt'>You can change the <a href="https://www.robotstxt.org/"><span
style='color:#377063;text-decoration:none'>robots.txt</span></a><span
style='color:#377063'> </span>parser with the <i><span style='color:#355F7C'>ROBOTSTXT_PARSER
</span></i>setting. Or you can also <i><span style='color:#355F7C'>implement
support for a new parser</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If Request.meta has dont_obey_robotstxt key set to True the
request will be ignored by this middleware even if <i><span style='color:#355F7C'>ROBOTSTXT_OBEY
</span></i>is enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Parsers vary in several aspects:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Language of
implementation</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Supported
specification</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for wildcard
matching</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Usage of <a
href="https://developers.google.com/search/docs/crawling-indexing/robots/robots_txt#order-of-precedence-for-rules"><span
style='color:#377063;text-decoration:none'>length based rule</span></a><a
href="https://developers.google.com/search/docs/crawling-indexing/robots/robots_txt#order-of-precedence-for-rules"><span
style='color:black;text-decoration:none'>:</span></a> in particular for Allow and
Disallow directives, where the most specific rule based on the length of the
path trumps the less specific (shorter) rule</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Performance comparison of different parsers is available at <a
href="https://github.com/scrapy/scrapy/issues/3969"><span style='color:#377063;
text-decoration:none'>the following link</span></a><a
href="https://github.com/scrapy/scrapy/issues/3969"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Protego
parser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Based on <a href="https://github.com/scrapy/protego"><span
style='color:#377063;text-decoration:none'>Protego</span></a><a
href="https://github.com/scrapy/protego"><span style='color:black;text-decoration:
none'>:</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>implemented in Python</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>is
compliant with <a
href="https://developers.google.com/search/docs/crawling-indexing/robots/robots_txt"><span
style='color:#377063;text-decoration:none'>Google’s Robots.txt Specification</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>supports wildcard
matching</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>uses the length based
rule</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Scrapy uses this parser by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RobotFileParser</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left;line-height:110%'>Based
on <a
href="https://docs.python.org/3/library/urllib.robotparser.html#urllib.robotparser.RobotFileParser"><span
style='color:#377063;text-decoration:none'>RobotFileParser</span></a><a
href="https://docs.python.org/3/library/urllib.robotparser.html#urllib.robotparser.RobotFileParser"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>is Python’s built-in <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>parser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>is
compliant with <a href="https://www.robotstxt.org/norobots-rfc.txt"><span
style='color:#377063;text-decoration:none'>Martijn Koster’s 1996 draft
specification</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>lacks support for
wildcard matching</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doesn’t use the
length based rule</p>

<p class=MsoNormal style='margin-top:0in;margin-right:113.25pt;margin-bottom:
.05in;margin-left:.5pt;line-height:147%'>It is faster than Protego and
backward-compatible with versions of Scrapy before 1.8.0. In order to use this
parser, set:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ROBOTSTXT_PARSER </span></i>to scrapy.robotstxt.PythonRobotParser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Robotexclusionrulesparser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:.5pt;line-height:110%'>Based on <a
href="https://pypi.org/project/robotexclusionrulesparser/"><span
style='color:#377063;text-decoration:none'>Robotexclusionrulesparser</span></a><a
href="https://pypi.org/project/robotexclusionrulesparser/"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>implemented in Python</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>is
compliant with <a href="https://www.robotstxt.org/norobots-rfc.txt"><span
style='color:#377063;text-decoration:none'>Martijn Koster’s 1996 draft
specification</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>supports wildcard
matching</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doesn’t
use the length based rule In order to use this parser:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Install
Robotexclusionrulesparser by running pip install robotexclusionrulesparser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Set
<i><span style='color:#355F7C'>ROBOTSTXT_PARSER </span></i>setting to scrapy.robotstxt.RerpRobotParser</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Implementing
support for a new parser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:149%'>You can implement support for a new <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>parser by
subclassing the abstract base class <i><span style='color:#355F7C'>RobotParser </span></i>and
implementing the methods described below. class scrapy.robotstxt.RobotParser
abstract allowed(<i>url: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>,</span></a> <i>user_agent: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return True if user_agent is allowed to crawl url,
otherwise return False.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>url <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – Absolute URL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.95pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>user_agent <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – User agent</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>abstract
classmethod from_crawler(<i>crawler: </i><span style='color:#355F7C'>Crawler</span>,
<i>robotstxt_body: </i><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Parse the content of a <a href="https://www.robotstxt.org/"><span
style='color:#377063;text-decoration:none'>robots.txt</span></a><span
style='color:#377063'> </span>file as bytes. This must be a class method. It
must return a new instance of the parser backend.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:8.75pt;margin-bottom:
5.45pt;margin-left:62.0pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>crawler (<i><span style='color:#355F7C'>Crawler </span></i>instance)
– crawler which made the request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:8.75pt;margin-bottom:
19.75pt;margin-left:62.0pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>robotstxt_body <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><i><span
style='color:#377063;text-decoration:none'>bytes</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>)</span></a> – content of a <a
href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.1pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>DownloaderStats </span></b>class scrapy.downloadermiddlewares.stats.DownloaderStats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Middleware that stores stats of all requests, responses and
exceptions that pass through it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:25.4pt'>To use this middleware you must enable the <i><span
style='color:#355F7C'>DOWNLOADER_STATS </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:133.25pt;margin-bottom:
0in;margin-left:.5pt;line-height:170%'><b><span style='color:#20435C'>UserAgentMiddleware
</span></b>class scrapy.downloadermiddlewares.useragent.UserAgentMiddleware Middleware
that allows spiders to override the default user agent.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:25.4pt'>In order for a spider to override the default user agent,
its user_agent attribute must be set.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>AjaxCrawlMiddleware </span></b>class
scrapy.downloadermiddlewares.ajaxcrawl.AjaxCrawlMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:25.4pt'>Middleware that finds ‘AJAX crawlable’ page variants based
on meta-fragment html tag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.25pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 527008"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'><b>Note: </b>Scrapy finds ‘AJAX crawlable’ pages for URLs
like 'http://example.com/!#foo=bar' even without this middleware.
AjaxCrawlMiddleware is necessary when URL doesn’t contain '<sub><span
style='font-size:15.5pt;line-height:103%'>!#</span></sub>'. This is often a
case for ‘index’ or ‘main’ website pages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 527009"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AjaxCrawlMiddleware
Settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>AJAXCRAWL_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether the AjaxCrawlMiddleware will be enabled. You may want
to enable it for <i><span style='color:#355F7C'>broad crawls</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HttpProxyMiddleware
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPPROXY_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Whether or not to enable the HttpProxyMiddleware.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection35>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPPROXY_AUTH_ENCODING</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Default:
&quot;latin-1&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.9pt;
margin-left:.5pt'>The default encoding for proxy authentication on HttpProxyMiddleware.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.4 Spider Middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>The spider middleware is a framework of hooks into Scrapy’s
spider processing mechanism where you can plug custom functionality to process
the responses that are sent to <i><span style='color:#355F7C'>Spiders </span></i>for
processing and to process the requests and items that are generated from
spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.4.1 Activating a
spider middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:123%'>To activate a spider middleware component,
add it to the <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES </span></i>setting,
which is a dict whose keys are the middleware class path and their values are
the middleware orders. Here’s an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image484.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:.5pt'>The <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES </span></i>setting
is merged with the <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES_BASE </span></i>setting
defined in Scrapy (and not meant to be overridden) and then sorted by order to
get the final sorted list of enabled middlewares: the first middleware is the
one closer to the engine and the last is the one closer to the spider. In other
words, the <i><span style='color:#355F7C'>process_spider_input() </span></i>method
of each middleware will be invoked in increasing middleware order (100, 200,
300, ...), and the <i><span style='color:#355F7C'>process_spider_output() </span></i>method
of each middleware will be invoked in decreasing order.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To decide which order to assign to your middleware see the <i><span
style='color:#355F7C'>SPIDER_MIDDLEWARES_BASE </span></i>setting and pick a
value according to where you want to insert the middleware. The order does
matter because each middleware performs a different action and your middleware
could depend on some previous (or subsequent) middleware being applied.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:.5pt'>If you want to disable a builtin middleware (the ones defined
in <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES_BASE</span></i>, and
enabled by default) you must define it in your project <i><span
style='color:#355F7C'>SPIDER_MIDDLEWARES </span></i>setting and assign None as
its value. For example, if you want to disable the off-site middleware:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image485.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Finally, keep in mind that some middlewares may need to be
enabled through a particular setting. See each middleware documentation for
more info.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.4.2 Writing your own
spider middleware</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Each spider middleware is a Python class that defines one or
more of the methods defined below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:152%'>The main entry point is the from_crawler class
method, which receives a <i><span style='color:#355F7C'>Crawler </span></i>instance.
The <i><span style='color:#355F7C'>Crawler </span></i>object gives you access,
for example, to the <i><span style='color:#355F7C'>settings</span></i>. class
scrapy.spidermiddlewares.SpiderMiddleware process_spider_input(<i>response</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:50.3pt'>This method is called for each response that goes through
the spider middleware and into the spider, for processing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'><i><span style='color:#355F7C'>process_spider_input() </span></i>should
return None or raise an exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it returns None, Scrapy will continue processing this
response, executing all other middlewares until, finally, the response is
handed to the spider for processing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it raises an exception, Scrapy won’t bother calling any
other spider middleware <i><span style='color:#355F7C'>process_spider_input() </span></i>and
will call the request errback if there is one, otherwise it will start the <i><span
style='color:#355F7C'>process_spider_exception() </span></i>chain. The output
of the errback is chained back in the other direction for <i><span
style='color:#355F7C'>process_spider_output() </span></i>to process it, or <i><span
style='color:#355F7C'>process_spider_exception() </span></i>if it raised an
exception.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:72.05pt;margin-bottom:
1.15pt;margin-left:99.35pt;line-height:157%'>• response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response being
processed • spider (<i><span style='color:#355F7C'>Spider </span></i>object) –
the spider for which this response is intended</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>process_spider_output(<i>response</i>,
<i>result</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:50.3pt'>This method is called with the results returned from the
Spider, after it has processed the response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'><i><span style='color:#355F7C'>process_spider_output() </span></i>must
return an iterable of Request objects and <i><span style='color:#355F7C'>item
objects</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Changed in version 2.7: This method may be defined as an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous generator</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:black;text-decoration:none'>,</span></a> in which case result is
an <a href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:#377063;text-decoration:none'>asynchronous iterable</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Consider defining this method as an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous generator</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:black;text-decoration:none'>,</span></a> which will be a
requirement in a future version of Scrapy. However, if you plan on sharing your
spider middleware with other people, consider either <i><span style='color:
#355F7C'>enforcing Scrapy 2.7 </span></i>as a minimum requirement of your
spider middleware, or <i><span style='color:#355F7C'>making your spider
middleware universal </span></i>so that it works with Scrapy versions earlier
than Scrapy 2.7.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response which
generated this output from the spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>result (an iterable
of Request objects and <i><span style='color:#355F7C'>item objects</span></i>)
– the result returned by the spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider whose result is
being processed</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:180.15pt;
margin-bottom:4.1pt;margin-left:49.05pt;text-align:left;text-indent:-24.9pt;
line-height:110%'>process_spider_output_async(<i>response</i>, <i>result</i>, <i>spider</i>)
New in version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:50.3pt'>If defined, this method must be an <span style='color:#377063'>asynchronous
generato</span><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>r</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:black;text-decoration:none'>,</span></a> which will be called
instead of <i><span style='color:#355F7C'>process_spider_output() </span></i>if
result is an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:#377063;text-decoration:none'>asynchronous iterable</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-iterable"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.35pt;margin-left:24.65pt;text-align:left;line-height:110%'>process_spider_exception(<i>response</i>,
<i>exception</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This method is called when a spider or <i><span
style='color:#355F7C'>process_spider_output() </span></i>method (from a
previous spider middleware) raises an exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'><i><span style='color:#355F7C'>process_spider_exception() </span></i>should
return either None or an iterable of Request or <i><span style='color:#355F7C'>item
</span></i>objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it returns None, Scrapy will continue processing this
exception, executing any other <i><span style='color:#355F7C'>process_spider_exception()
</span></i>in the following middleware components, until no middleware
components are left and the exception reaches the engine (where it’s logged and
discarded).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it returns an iterable the <i><span style='color:#355F7C'>process_spider_output()
</span></i>pipeline kicks in, starting from the next spider middleware, and no
other <i><span style='color:#355F7C'>process_spider_exception() </span></i>will
be called.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response being
processed when the exception was raised</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>exception <a
href="https://docs.python.org/3/library/exceptions.html#Exception"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/exceptions.html#Exception"><span
style='color:#377063;text-decoration:none'>Exception</span></a><span
style='color:#377063'> </span>object) – the exception raised</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:107.3pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider
(<i><span style='color:#355F7C'>Spider </span></i>object) – the spider which
raised the exception</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>process_start_requests(<i>start_requests</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This method is called with the start requests of the
spider, and works similarly to the <i><span style='color:#355F7C'>process_spider_output()
</span></i>method, except that it doesn’t have a response associated and must
return only requests (not items).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:50.3pt'>It receives an iterable (in the start_requests parameter)
and must return another iterable of Request objects and/or <i><span
style='color:#355F7C'>item objects</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:49.8pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=559 height=1 id="Group 525925"
src="Scrapy%20Documentation_files/image275.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                      </span><b>Note: </b>When
implementing this method in your spider middleware, you should always return an
iterable</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:50.3pt'>(that follows the input one) and not consume all start_requests
iterator because it can be very large (or even unbounded) and cause a memory
overflow. The Scrapy engine is designed to pull start requests while it has
capacity to process them, so the start requests iterator can be effectively
endless where there is some other condition for stopping the spider (like a
time limit or item/page count).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.65pt;margin-left:49.8pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=559 height=1 id="Group 525926"
src="Scrapy%20Documentation_files/image275.gif"></span></p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:76.05pt;margin-bottom:
.1in;margin-left:99.35pt;line-height:158%'>• start_requests (an iterable of Request)
– the start requests • spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider to whom the start requests belong</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>from_crawler(<i>cls</i>,
<i>crawler</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If present, this classmethod is called to create a
middleware instance from a <i><span style='color:#355F7C'>Crawler</span></i>.
It must return a new instance of the middleware. Crawler object provides access
to all Scrapy core components like settings and signals; it is a way for
middleware to access them and hook its functionality into Scrapy.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:71.5pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:90.85pt'>crawler (<i><span style='color:#355F7C'>Crawler </span></i>object)
– crawler that uses this middleware</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.4.3 Built-in spider
middleware reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:.5pt'>This page describes all spider middleware components that
come with Scrapy. For information on how to use them and how to write your own
spider middleware, see the <i><span style='color:#355F7C'>spider middleware
usage guide</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For a list of the components enabled by default (and their
orders) see the <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES_BASE </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:196.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>DepthMiddleware </span></b>class
scrapy.spidermiddlewares.depth.DepthMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>DepthMiddleware is used for tracking the depth of each
Request inside the site being scraped. It works by setting request.meta['depth']
= 0 whenever there is no value previously set (usually just the first Request)
and incrementing it by 1 otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>It can be used to limit the maximum depth to scrape,
control Request priority based on their depth, and things like that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>DepthMiddleware </span></i>can
be configured through the following settings (see the settings documentation
for more info):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DEPTH_LIMIT </span></i>- The maximum depth that will be
allowed to crawl for any site. If zero, no limit will be imposed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DEPTH_STATS_VERBOSE </span></i>- Whether to collect the
number of requests for each depth.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DEPTH_PRIORITY </span></i>- Whether to prioritize the
requests based on their depth.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:154.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>HttpErrorMiddleware </span></b>class
scrapy.spidermiddlewares.httperror.HttpErrorMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Filter out unsuccessful (erroneous) HTTP responses so that
spiders don’t have to deal with them, which (most of the time) imposes an
overhead, consumes more resources, and makes the spider logic more complex.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:1.25pt;margin-left:-.25pt;text-align:left;line-height:126%'>According
to the <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"><span
style='color:#377063;text-decoration:none'>HTTP standard</span></a><a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"><span
style='color:black;text-decoration:none'>,</span></a> successful responses are
those whose status codes are in the 200-300 range. If you still want to process
response codes outside that range, you can specify which response codes the
spider is able to handle using the handle_httpstatus_list spider attribute or <i><span
style='color:#355F7C'>HTTPERROR_ALLOWED_CODES </span></i>setting. For example,
if you want your spider to handle 404 responses you can do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89 src="Scrapy%20Documentation_files/image486.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The handle_httpstatus_list key of Request.meta can also be
used to specify which response codes to allow on a per-request basis. You can
also set the meta key handle_httpstatus_all to True if you want to allow any
response code for a request, and False to disable the effects of the handle_httpstatus_all
key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Keep in mind, however, that it’s usually a bad idea to handle
non-200 responses, unless you really know what you’re doing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:.5pt;line-height:110%'>For more information see: <a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"><span
style='color:#377063;text-decoration:none'>HTTP Status Code Definitions</span></a><a
href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HttpErrorMiddleware
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPERROR_ALLOWED_CODES</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: []</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Pass all responses with non-200 status codes contained in
this list.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>HTTPERROR_ALLOW_ALL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Pass all responses, regardless of its status code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.1pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>RefererMiddleware </span></b>class
scrapy.spidermiddlewares.referer.RefererMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:25.4pt'>Populates Request Referer header, based on the URL of the
Response which generated it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>RefererMiddleware
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REFERER_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: True</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Whether to enable referer middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>REFERRER_POLICY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.3pt;
margin-left:.5pt'>Default: 'scrapy.spidermiddlewares.referer.DefaultReferrerPolicy'
<a href="https://www.w3.org/TR/referrer-policy"><span style='color:#377063;
text-decoration:none'>Referrer Policy</span></a><span style='color:#377063'> </span>to
apply when populating Request “Referer” header.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 525724" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.7pt;
margin-left:.5pt'><b>Note: </b>You can also set the Referrer Policy per
request, using the special &quot;referrer_policy&quot; <i><span
style='color:#355F7C'>Request.meta </span></i>key, with the same acceptable
values as for the REFERRER_POLICY setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 525725"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Acceptable
values for REFERRER_POLICY</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>either a path to a scrapy.spidermiddlewares.referer.ReferrerPolicy
subclass — a custom policy or one of the built-in ones (see classes below),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>or one or more
comma-separated standard W3C-defined string values,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>or the special &quot;scrapy-default&quot;.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=624
 style='width:468.2pt;margin-left:-.1pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=180 valign=top style='width:134.85pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 0in 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>String value</p>
  </td>
  <td width=444 valign=top style='width:333.35pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 0in 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Class name (as a string)</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=180 valign=top style='width:134.85pt;border:none;background:#EBEBEB;
  padding:0in 0in 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;scrapy-default&quot; (default)</p>
  </td>
  <td width=444 valign=top style='width:333.35pt;border:none;background:#EBEBEB;
  padding:0in 0in 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.DefaultReferrerPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=180 valign=top style='width:134.85pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer"><span
  style='color:#377063;text-decoration:none'>“no-referrer”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.NoReferrerPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:23.9pt'>
  <td width=180 valign=top style='width:134.85pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:23.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:5.1pt;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade"><span
  style='color:#377063;text-decoration:none'>“no-referrer-when</span></a><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade"><span
  style='color:#377063;text-decoration:none'>downgrade”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:23.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.NoReferrerWhenDowngradePolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=180 valign=top style='width:134.85pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-same-origin"><span
  style='color:#377063;text-decoration:none'>“same-origin”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.SameOriginPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=180 valign=top style='width:134.85pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-origin"><span
  style='color:#377063;text-decoration:none'>“origin”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.OriginPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=180 valign=top style='width:134.85pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin"><span
  style='color:#377063;text-decoration:none'>“strict-origin”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.StrictOriginPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=180 valign=top style='width:134.85pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-origin-when-cross-origin"><span
  style='color:#377063;text-decoration:none'>“origin-when-cross-origin”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#EBEBEB;padding:
  0in 0in 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.OriginWhenCrossOriginPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:23.9pt'>
  <td width=180 valign=top style='width:134.85pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:23.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin-when-cross-origin"><span
  style='color:#377063;text-decoration:none'>“strict-origin-when-cross</span></a><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin-when-cross-origin"><span
  style='color:#377063;text-decoration:none'>origin”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;background:#FAFAFA;padding:
  0in 0in 0in 6.0pt;height:23.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:-17.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.StrictOriginWhenCrossOriginPolicy</span></i></p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=180 valign=top style='width:134.85pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:0in 0in 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'><a
  href="https://www.w3.org/TR/referrer-policy/#referrer-policy-unsafe-url"><span
  style='color:#377063;text-decoration:none'>“unsafe-url”</span></a></p>
  </td>
  <td width=444 valign=top style='width:333.35pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:0in 0in 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='color:#355F7C'>scrapy.spidermiddlewares.referer.UnsafeUrlPolicy</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.DefaultReferrerPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.1pt;
margin-left:25.4pt'>A variant of “no-referrer-when-downgrade”, with the
addition that “Referer” is not sent if the parent request was using file:// or s3://
scheme.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:6.4pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>Scrapy’s
default referrer policy — just like <a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade"><span
style='color:#377063;text-decoration:none'>“no-referrer-when-downgrade”</span></a><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade"><span
style='color:black;text-decoration:none'>,</span></a> the W3C-recommended value
for browsers — will send a non-empty “Referer” header from any <sub><span
style='font-size:15.5pt;line-height:94%'>http(s)://</span></sub> to any <sub><span
style='font-size:15.5pt;line-height:94%'>https://</span></sub> URL, even if the
domain is different.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-same-origin"><span
style='color:#377063;text-decoration:none'>“same-origin”</span></a><span
style='color:#377063'> </span>may be a better choice if you want to remove
referrer information for cross-domain requests.</p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.NoReferrerPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:25.4pt'>The simplest policy is “no-referrer”, which specifies that
no referrer information is to be sent along with requests made from a
particular request client to any origin. The header will be omitted entirely.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.spidermiddlewares.referer.NoReferrerWhenDowngradePolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-no-referrer-when-downgrade</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.0pt;margin-left:25.4pt;text-align:left;line-height:98%'>The
“no-referrer-when-downgrade” policy sends a full URL along with requests from a
TLS-protected environment settings object to a potentially trustworthy URL, and
requests from clients which are not TLS-protected to any origin.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Requests from TLS-protected clients to non-potentially
trustworthy URLs, on the other hand, will contain no referrer information. A
Referer HTTP header will not be sent.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:25.4pt'>This is a user agent’s default behavior, if no policy is
otherwise specified.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 531925" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.55pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:  </b>“no-referrer-when-downgrade”
policy is the W3C-recommended default, and is used by major web browsers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>However, it is NOT Scrapy’s default referrer policy (see <i><span
style='color:#355F7C'>DefaultReferrerPolicy</span></i>).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 531926"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.SameOriginPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-same-origin"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-same-origin</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The “same-origin” policy specifies that a full URL,
stripped for use as a referrer, is sent as referrer information when making
same-origin requests from a particular request client.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Cross-origin requests, on the other hand, will contain no
referrer information. A Referer HTTP header will not be sent.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.OriginPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-origin"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-origin</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:25.4pt'>The “origin” policy specifies that only the ASCII
serialization of the origin of the request client is sent as referrer
information when making both same-origin requests and cross-origin requests
from a particular request client.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:24.9pt;text-indent:-24.9pt;line-height:110%'>class
scrapy.spidermiddlewares.referer.StrictOriginPolicy <a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The “strict-origin” policy sends the ASCII serialization of
the origin of the request client when making requests: - from a TLS-protected
environment settings object to a potentially trustworthy URL, and - from
non-TLSprotected environment settings objects to any origin.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:25.4pt'>Requests from TLS-protected request clients to non-
potentially trustworthy URLs, on the other hand, will contain no referrer
information. A Referer HTTP header will not be sent.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.OriginWhenCrossOriginPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-origin-when-cross-origin"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-origin-when-cross-origin</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:25.4pt'>The “origin-when-cross-origin” policy specifies that a full
URL, stripped for use as a referrer, is sent as referrer information when
making same-origin requests from a particular request client, and only the
ASCII serialization of the origin of the request client is sent as referrer
information when making cross-origin requests from a particular request client.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>class
scrapy.spidermiddlewares.referer.StrictOriginWhenCrossOriginPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin-when-cross-origin"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-strict-origin-when-cross-origin</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The “strict-origin-when-cross-origin” policy specifies that
a full URL, stripped for use as a referrer, is sent as referrer information
when making same-origin requests from a particular request client, and only the
ASCII serialization of the origin of the request client when making
cross-origin requests:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>from a TLS-protected
environment settings object to a potentially trustworthy URL, and</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>from
non-TLS-protected environment settings objects to any origin.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:25.4pt'>Requests from TLS-protected clients to non- potentially
trustworthy URLs, on the other hand, will contain no referrer information. A
Referer HTTP header will not be sent.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spidermiddlewares.referer.UnsafeUrlPolicy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://www.w3.org/TR/referrer-policy/#referrer-policy-unsafe-url"><span
style='color:#377063;text-decoration:none'>https://www.w3.org/TR/referrer-policy/#referrer-policy-unsafe-url</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The “unsafe-url” policy specifies that a full URL, stripped
for use as a referrer, is sent along with both cross-origin requests and
same-origin requests made from a particular request client.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:25.4pt'>Note: The policy’s name doesn’t lie; it is unsafe. This
policy will leak origins and paths from TLS-protected resources to insecure
origins. Carefully consider the impact of setting such a policy for potentially
sensitive</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:25.4pt'>documents.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=623
 style='width:467.0pt;margin-left:.5pt;border-collapse:collapse'>
 <tr style='height:22.35pt'>
  <td width=72 style='width:54.15pt;border:solid black 1.0pt;border-right:none;
  padding:2.95pt 5.75pt 0in 0in;height:22.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b>Warning:</b></p>
  </td>
  <td width=551 valign=top style='width:412.9pt;border:solid black 1.0pt;
  border-left:none;padding:2.95pt 5.75pt 0in 0in;height:22.35pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>“unsafe-url” policy is NOT recommended.</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:154.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>UrlLengthMiddleware </span></b>class
scrapy.spidermiddlewares.urllength.UrlLengthMiddleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Filters out requests with URLs longer than URLLENGTH_LIMIT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>UrlLengthMiddleware </span></i>can
be configured through the following settings (see the settings documentation
for more info):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.85pt;
margin-left:41.85pt'>• <i><span style='color:#355F7C'>URLLENGTH_LIMIT </span></i>-
The maximum URL length to allow for crawled URLs.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.5 Extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.0pt;
margin-left:.5pt;line-height:147%'>The extensions framework provides a
mechanism for inserting your own custom functionality into Scrapy. Extensions
are just regular classes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.1 Extension
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Extensions use the <i><span style='color:#355F7C'>Scrapy
settings </span></i>to manage their settings, just like any other Scrapy code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:23.1pt;
margin-left:.5pt'>It is customary for extensions to prefix their settings with
their own name, to avoid collision with existing (and future) extensions. For
example, a hypothetical extension to handle <a
href="https://en.wikipedia.org/wiki/Sitemaps"><span style='color:#377063;
text-decoration:none'>Google Sitemaps</span></a><span style='color:#377063'> </span>would
use settings like GOOGLESITEMAP_ENABLED, GOOGLESITEMAP_DEPTH, and so on.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.2 Loading &amp;
activating extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Extensions are loaded and activated at startup by
instantiating a single instance of the extension class per spider being run.
All the extension initialization code must be performed in the class __init__ method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>To make an extension available, add it to the <i><span
style='color:#355F7C'>EXTENSIONS </span></i>setting in your Scrapy settings. In
<i><span style='color:#355F7C'>EXTENSIONS</span></i>, each extension is
represented by a string: the full Python path to the extension’s class name.
For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73 src="Scrapy%20Documentation_files/image487.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As you can see, the <i><span style='color:#355F7C'>EXTENSIONS
</span></i>setting is a dict where the keys are the extension paths, and their
values are the orders, which define the extension <i>loading </i>order. The <i><span
style='color:#355F7C'>EXTENSIONS </span></i>setting is merged with the <i><span
style='color:#355F7C'>EXTENSIONS_BASE </span></i>setting defined in Scrapy (and
not meant to be overridden) and then sorted by order to get the final sorted
list of enabled</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As extensions typically do not depend on each other, their
loading order is irrelevant in most cases. This is why the <i><span
style='color:#355F7C'>EXTENSIONS_BASE </span></i>setting defines all extensions
with the same order (0). However, this feature can be exploited if you need to
add an extension which depends on other extensions already loaded.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection36>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.3 Available,
enabled and disabled extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:.5pt'>Not all available extensions will be enabled. Some of them
usually depend on a particular setting. For example, the HTTP Cache extension
is available by default but disabled unless the <i><span style='color:#355F7C'>HTTPCACHE_ENABLED
</span></i>setting is set.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.4 Disabling an
extension</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05pt;
margin-left:.5pt'>In order to disable an extension that comes enabled by
default (i.e. those included in the <i><span style='color:#355F7C'>EXTENSIONS_BASE
</span></i>setting) you must set its order to None. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image488.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.5 Writing your own
extension</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Each extension is a Python class. The main entry point for a
Scrapy extension (this also includes middlewares and pipelines) is the from_crawler
class method which receives a Crawler instance. Through the Crawler object you
can access settings, signals, stats, and also control the crawling behaviour.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Typically, extensions connect to <i><span style='color:#355F7C'>signals
</span></i>and perform tasks triggered by them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>Finally, if the from_crawler method raises the <i><span
style='color:#355F7C'>NotConfigured </span></i>exception, the extension will be
disabled. Otherwise, the extension will be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Sample
extension</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Here we will implement a simple extension to illustrate the
concepts described in the previous section. This extension will log a message
every time:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a spider is opened</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a spider is closed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a specific number of
items are scraped</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:.5pt'>The extension will be enabled through the MYEXT_ENABLED setting
and the number of items will be specified through the MYEXT_ITEMCOUNT setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=252 src="Scrapy%20Documentation_files/image489.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=502 src="Scrapy%20Documentation_files/image490.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.5.6 Built-in
extensions reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:253.55pt;margin-bottom:
5.5pt;margin-left:.5pt;line-height:206%'><b><span style='color:#20435C'>General
purpose extensions Log Stats extension </span></b>class
scrapy.extensions.logstats.LogStats Log basic stats like crawled pages and
scraped items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:243.1pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>Core Stats extension </span></b>class
scrapy.extensions.corestats.CoreStats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Enable the collection of core statistics, provided the stats
collection is enabled (see <i><span style='color:#355F7C'>Stats Collection</span></i>).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:237.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:239%'><b><span
style='color:#20435C'>Telnet console extension </span></b>class
scrapy.extensions.telnet.TelnetConsole</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Provides a telnet console for getting into a Python
interpreter inside the currently running Scrapy process, which can be very
useful for debugging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.65pt;
margin-left:.5pt'>The telnet console must be enabled by the <i><span
style='color:#355F7C'>TELNETCONSOLE_ENABLED </span></i>setting, and the server
will listen in the port specified in <i><span style='color:#355F7C'>TELNETCONSOLE_PORT</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Memory
usage extension</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.extensions.memusage.MemoryUsage</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 529597"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:   </b>This
extension does not work in Windows.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 529598"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Monitors the memory used by the Scrapy process that runs the
spider and:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>sends a
notification e-mail when it exceeds a certain value</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>closes the
spider when it exceeds a certain value</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The notification e-mails can be triggered when a certain
warning value is reached (<i><span style='color:#355F7C'>MEMUSAGE_WARNING_MB</span></i>)
and when the maximum value is reached (<i><span style='color:#355F7C'>MEMUSAGE_LIMIT_MB</span></i>)
which will also cause the spider to be closed and the Scrapy process to be
terminated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.5pt'>This extension is enabled by the <i><span style='color:#355F7C'>MEMUSAGE_ENABLED
</span></i>setting and can be configured with the following settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>MEMUSAGE_LIMIT_MB</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>MEMUSAGE_WARNING_MB</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>MEMUSAGE_NOTIFY_MAIL</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>MEMUSAGE_CHECK_INTERVAL_SECONDS</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:239%'><b><span
style='color:#20435C'>Memory debugger extension </span></b>class
scrapy.extensions.memdebug.MemoryDebugger</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>An extension for debugging memory usage. It collects
information about:</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>objects
uncollected by the Python garbage collector</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>objects
left alive that shouldn’t. For more info, see <i><span style='color:#355F7C'>Debugging
memory leaks with trackref</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To enable this extension, turn on the <i><span
style='color:#355F7C'>MEMDEBUG_ENABLED </span></i>setting. The info will be
stored in the stats.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>Spider state extension </span></b>class
scrapy.extensions.spiderstate.SpiderState</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Manages spider state data by loading it before a crawl and
saving it after.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Give a value to the <i><span style='color:#355F7C'>JOBDIR </span></i>setting
to enable this extension. When enabled, this extension manages the <i><span
style='color:#355F7C'>state </span></i>attribute of your <i><span
style='color:#355F7C'>Spider </span></i>instance:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When your spider
closes (<i><span style='color:#355F7C'>spider_closed</span></i>), the contents
of its <i><span style='color:#355F7C'>state </span></i>attribute are serialized
into a file named spider.state in the <i><span style='color:#355F7C'>JOBDIR </span></i>folder.</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When
your spider opens (<i><span style='color:#355F7C'>spider_opened</span></i>), if
a previously-generated spider.state file exists in the <i><span
style='color:#355F7C'>JOBDIR </span></i>folder, it is loaded into the <i><span
style='color:#355F7C'>state </span></i>attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.55pt;margin-left:.5pt;text-align:left;line-height:110%'>For an
example, see <i><span style='color:#355F7C'>Keeping persistent state between
batches</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>Close spider extension </span></b>class
scrapy.extensions.closespider.CloseSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:8.95pt;margin-bottom:
3.65pt;margin-left:.5pt;line-height:147%'>Closes a spider automatically when
some conditions are met, using a specific closing reason for each condition.
The conditions for closing a spider can be configured through the following
settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CLOSESPIDER_TIMEOUT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CLOSESPIDER_TIMEOUT_NO_ITEM</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CLOSESPIDER_ITEMCOUNT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CLOSESPIDER_PAGECOUNT</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CLOSESPIDER_ERRORCOUNT</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 531151" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.0pt;
margin-left:.5pt'><b>Note: </b>When a certain closing condition is met,
requests which are currently in the downloader queue (up to <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS </span></i>requests) are still
processed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 531152"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_TIMEOUT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>An integer which specifies a number of seconds. If the spider
remains open for more than that number of second, it will be automatically
closed with the reason closespider_timeout. If zero (or non set), spiders won’t
be closed by timeout.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_TIMEOUT_NO_ITEM</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>An integer which specifies a number of seconds. If the spider
has not produced any items in the last number of seconds, it will be closed
with the reason closespider_timeout_no_item. If zero (or non set), spiders
won’t be closed regardless if it hasn’t produced any items.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_ITEMCOUNT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>An integer which specifies a number of items. If the spider
scrapes more than that amount and those items are passed by the item pipeline,
the spider will be closed with the reason closespider_itemcount. If zero (or
non set), spiders won’t be closed by number of passed items.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_PAGECOUNT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:19.35pt;margin-left:-.25pt;text-align:left;line-height:102%'>An
integer which specifies the maximum number of responses to crawl. If the spider
crawls more than that, the spider will be closed with the reason closespider_pagecount.
If zero (or non set), spiders won’t be closed by number of crawled responses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_PAGECOUNT_NO_ITEM</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>An integer which specifies the maximum number of consecutive
responses to crawl without items scraped. If the spider crawls more consecutive
responses than that and no items are scraped in the meantime, the spider will
be closed with the reason closespider_pagecount_no_item. If zero (or not set),
spiders won’t be closed by number of crawled responses with no items.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>CLOSESPIDER_ERRORCOUNT</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Default: 0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:.5pt'>An integer which specifies the maximum number of errors to
receive before closing the spider. If the spider generates more than that
number of errors, it will be closed with the reason closespider_errorcount. If
zero (or non set), spiders won’t be closed by number of errors.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>StatsMailer extension </span></b>class
scrapy.extensions.statsmailer.StatsMailer</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This simple extension can be used to send a notification
e-mail every time a domain has finished scraping, including the Scrapy stats
collected. The email will be sent to all recipients specified in the <i><span
style='color:#355F7C'>STATSMAILER_RCPTS </span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Emails can be sent using the <i><span style='color:#355F7C'>MailSender
</span></i>class. To see a full list of parameters, including examples on how
to instantiate <i><span style='color:#355F7C'>MailSender </span></i>and use
mail settings, see <i><span style='color:#355F7C'>Sending e-mail</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:213.95pt;margin-bottom:
0in;margin-left:.5pt;line-height:208%'><b><span style='color:#20435C'>Periodic
log extension </span></b>class scrapy.extensions.periodic_log.PeriodicLog This
extension periodically logs rich stat data as a JSON object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=567 src="Scrapy%20Documentation_files/image491.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This extension logs the following configurable sections:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;delta&quot; shows
how some numeric stats have changed since the last stats log message.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>PERIODIC_LOG_DELTA </span></i>setting
determines the target stats. They must have int or float values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;stats&quot; shows
the current value of some stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>PERIODIC_LOG_STATS </span></i>setting
determines the target stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;time&quot; shows
detailed timing data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The <i><span style='color:#355F7C'>PERIODIC_LOG_TIMING_ENABLED
</span></i>setting determines whether or not to show this section.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This extension logs data at the start, then on a fixed time
interval configurable through the <i><span style='color:#355F7C'>LOGSTATS_INTERVAL
</span></i>setting, and finally right before the crawl ends.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=211 src="Scrapy%20Documentation_files/image492.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PERIODIC_LOG_DELTA</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_DELTA&quot;:
True - show deltas for all int and float stat values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_DELTA&quot;:
{&quot;include&quot;: [&quot;downloader/&quot;, &quot;scheduler/&quot;]} - show
deltas for stats with names containing any configured substring.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_DELTA&quot;:
{&quot;exclude&quot;: [&quot;downloader/&quot;]} - show deltas for all stats
with names not containing any configured substring.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PERIODIC_LOG_STATS</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:.5pt'>Default: None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_STATS&quot;:
True - show the current value of all stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_STATS&quot;:
{&quot;include&quot;: [&quot;downloader/&quot;, &quot;scheduler/&quot;]} - show
current values for stats with names containing any configured substring.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>&quot;PERIODIC_LOG_STATS&quot;:
{&quot;exclude&quot;: [&quot;downloader/&quot;]} - show current values for all
stats with</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:25.4pt'>names not containing any configured substring.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PERIODIC_LOG_TIMING_ENABLED</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt'>Default: False</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>True enables logging of timing data (i.e. the &quot;time&quot;
section).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:201.25pt;margin-bottom:
0in;margin-left:-.25pt;line-height:220%'><b><span style='color:#20435C'>Debugging
extensions Stack trace dump extension </span></b>class
scrapy.extensions.periodic_log.StackTraceDump</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:.5pt'>Dumps information about the running process when a <a
href="https://en.wikipedia.org/wiki/SIGQUIT"><span style='color:#377063;
text-decoration:none'>SIGQUIT</span></a><span style='color:#377063'> </span>or <a
href="https://en.wikipedia.org/wiki/SIGUSR1_and_SIGUSR2"><span
style='color:#377063;text-decoration:none'>SIGUSR2</span></a><span
style='color:#377063'> </span>signal is received. The information dumped is the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.15pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:112%'><span style='line-height:112%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>engine status (using scrapy.utils.engine.get_engine_status())</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.7pt;margin-left:24.9pt;text-align:left;text-indent:-12.45pt;
line-height:110%'><span style='line-height:110%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>live references (see <i><span style='color:#355F7C'>Debugging
memory leaks with trackref </span></i>)</p>

<p class=MsoNormal align=left style='margin-left:24.9pt;text-align:left;
text-indent:-12.45pt'><span style='line-height:103%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>stack trace of all threads</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>After the stack trace and engine status is dumped, the Scrapy
process continues running normally.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This extension only works on POSIX-compliant platforms (i.e.
not Windows), because the <a href="https://en.wikipedia.org/wiki/SIGQUIT"><span
style='color:#377063;text-decoration:none'>SIGQUIT</span></a><span
style='color:#377063'> </span>and <a
href="https://en.wikipedia.org/wiki/SIGUSR1_and_SIGUSR2"><span
style='color:#377063;text-decoration:none'>SIGUSR2 </span></a>signals are not
available on Windows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are at least two ways to send Scrapy the <a
href="https://en.wikipedia.org/wiki/SIGQUIT"><span style='color:#377063;
text-decoration:none'>SIGQUIT</span></a><span style='color:#377063'> </span>signal:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>By pressing
Ctrl-while a Scrapy process is running (Linux only?)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>By running this
command (assuming &lt;<sub><span style='font-size:15.5pt;line-height:103%'>pid&gt;
</span></sub>is the process id of the Scrapy process):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:23.95pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image493.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:232.65pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:240%'><b><span
style='color:#20435C'>Debugger extension </span></b>class
scrapy.extensions.periodic_log.Debugger</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Invokes a <a href="https://docs.python.org/3/library/pdb.html"><span
style='color:#377063;text-decoration:none'>Python debugger</span></a><span
style='color:#377063'> </span>inside a running Scrapy process when a <a
href="https://en.wikipedia.org/wiki/SIGUSR1_and_SIGUSR2"><span
style='color:#377063;text-decoration:none'>SIGUSR2</span></a><span
style='color:#377063'> </span>signal is received. After the debugger is exited,
the Scrapy process continues running normally.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:26.85pt;
margin-left:.5pt'>This extension only works on POSIX-compliant platforms (i.e.
not Windows).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.6 Signals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy uses signals extensively to notify when certain events
occur. You can catch some of those signals in your Scrapy project (using an <i><span
style='color:#355F7C'>extension</span></i>, for example) to perform additional
tasks or extend Scrapy to add functionality not provided out of the box.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Even though signals provide several arguments, the handlers
that catch them don’t need to accept all of them - the signal dispatching
mechanism will only deliver the arguments that the handler receives.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can connect to signals (or send your own) through the <i><span
style='color:#355F7C'>Signals API</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Here is a simple example showing how you can catch signals
and perform some action:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130 src="Scrapy%20Documentation_files/image494.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection37>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=278 src="Scrapy%20Documentation_files/image495.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>6.6.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Deferred signal
handlers</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Some signals support returning <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>or <a
href="https://docs.python.org/3/glossary.html#term-awaitable"><span
style='color:#377063;text-decoration:none'>awaitable objects</span></a><span
style='color:#377063'> </span>from their handlers, allowing you to run
asynchronous code that does not block Scrapy. If a signal handler returns one
of these objects, Scrapy waits for that asynchronous operation to finish.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=459 src="Scrapy%20Documentation_files/image496.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image497.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.35pt;
margin-left:.5pt'>See the <i><span style='color:#355F7C'>Built-in signals
reference </span></i>below to know which signals support <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>and <a
href="https://docs.python.org/3/glossary.html#term-awaitable"><span
style='color:#377063;text-decoration:none'>awaitable objects</span></a><a
href="https://docs.python.org/3/glossary.html#term-awaitable"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>6.6.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Built-in signals
reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Here’s the list of Scrapy built-in signals and their meaning.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:305.85pt;
margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
215%'><b><span style='color:#20435C'>Engine signals</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:305.85pt;
margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
215%'><b><span style='color:#20435C'>engine_started </span></b>scrapy.signals.engine_started()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when the Scrapy engine has started crawling.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:25.4pt'>This signal supports returning deferreds from its handlers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 533470"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.65pt;
margin-left:.5pt'><b>Note:      </b>This signal may be fired <i>after </i>the <i><span
style='color:#355F7C'>spider_opened </span></i>signal, depending on how the
spider was started. So <b>don’t </b>rely on this signal getting fired before <i><span
style='color:#355F7C'>spider_opened</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 533471"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:229.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:230%'><b><span
style='color:#20435C'>engine_stopped</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:229.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:230%'>scrapy.signals.engine_stopped()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:56.55pt;margin-bottom:
13.95pt;margin-left:25.4pt;line-height:147%'>Sent when the Scrapy engine is
stopped (for example, when a crawling process has finished). This signal
supports returning deferreds from its handlers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.55pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Item
signals</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 533472" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:           </b>As
at max <i><span style='color:#355F7C'>CONCURRENT_ITEMS </span></i>items are
processed in parallel, many deferreds are fired together using</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.DeferredList.html"><span
style='color:#377063;text-decoration:none'>DeferredList</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.DeferredList.html"><span
style='color:black;text-decoration:none'>.</span></a> Hence the next batch
waits for the <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.DeferredList.html"><span
style='color:#377063;text-decoration:none'>DeferredList</span></a><span
style='color:#377063'> </span>to fire and then runs the respective item signal
handler for the next batch of scraped items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 533473"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.95pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>item_scraped</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.05pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.item_scraped(<i>item</i>,
<i>response</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:147%'>Sent when an item has been scraped, after
it has passed all the <i><span style='color:#355F7C'>Item Pipeline </span></i>stages
(without being dropped). This signal supports returning deferreds from its
handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item (<i><span
style='color:#355F7C'>item object</span></i>) – the scraped item</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which scraped the
item</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>| None) – the response from where the
item was scraped, or None if it was yielded from <i><span style='color:#355F7C'>start_requests()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>item_dropped</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.item_dropped(<i>item</i>,
<i>response</i>, <i>exception</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:148%'>Sent after an item has been dropped from
the <i><span style='color:#355F7C'>Item Pipeline </span></i>when some stage
raised a <i><span style='color:#355F7C'>DropItem </span></i>exception. This
signal supports returning deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item (<i><span
style='color:#355F7C'>item object</span></i>) – the item dropped from the <i><span
style='color:#355F7C'>Item Pipeline</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which scraped the
item</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>| None) – the response from where the
item was dropped, or None if it was yielded from <i><span style='color:#355F7C'>start_requests()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>exception (<i><span
style='color:#355F7C'>DropItem </span></i>exception) – the exception (which
must be a <i><span style='color:#355F7C'>DropItem </span></i>subclass) which
caused the item to be dropped</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>item_error</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.35pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.item_error(<i>item</i>,
<i>response</i>, <i>spider</i>, <i>failure</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:28.9pt;margin-bottom:
0in;margin-left:25.4pt;line-height:148%'>Sent when a <i><span style='color:
#355F7C'>Item Pipeline </span></i>generates an error (i.e. raises an
exception), except <i><span style='color:#355F7C'>DropItem </span></i>exception.
This signal supports returning deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item (<i><span
style='color:#355F7C'>item object</span></i>) – the item that caused the error
in the <i><span style='color:#355F7C'>Item Pipeline</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>| None) – the response being
processed when the exception was raised, or None if it was yielded from <i><span
style='color:#355F7C'>start_requests()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which raised the
exception</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:90.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>failure
<a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>twisted.python.failure.Failure</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>)</span></a> – the exception raised</p>

<p class=MsoNormal style='margin-top:0in;margin-right:254.4pt;margin-bottom:
0in;margin-left:-.25pt;line-height:226%'><b><span style='color:#20435C'>Spider
signals spider_closed </span></b>scrapy.signals.spider_closed(<i>spider</i>, <i>reason</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:148%'>Sent after a spider has been closed. This
can be used to release per-spider resources reserved on <i><span
style='color:#355F7C'>spider_opened</span></i>. This signal supports returning
deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:12.8pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which has been
closed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.8pt;margin-bottom:
17.45pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>reason <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – a string which
describes the reason why the spider was closed. If it was closed because the
spider has completed scraping, the reason is '<sub><span style='font-size:15.5pt;
line-height:103%'>finished</span></sub>'. Otherwise, if the spider was manually
closed by calling the close_spider engine method, then the reason is the one
passed in the reason argument of that method (which defaults to '<sub><span
style='font-size:15.5pt;line-height:103%'>cancelled</span></sub>'). If the
engine was shutdown (for example, by hitting Ctrl-C to stop it) the reason will
be 'shutdown'.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:214.8pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:256%'><b><span
style='color:#20435C'>spider_opened</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:214.8pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:256%'>scrapy.signals.spider_opened(<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent after a spider has been opened for crawling. This is
typically used to reserve per-spider resources, but can be used for any task
that needs to be performed when a spider is opened. This signal supports
returning deferreds from its handlers.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:72.25pt'>spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider which has been opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:243.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:255%'><b><span
style='color:#20435C'>spider_idle </span></b>scrapy.signals.spider_idle(<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when a spider has gone idle, which means the spider
has no further:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>requests waiting to
be downloaded</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>requests scheduled</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>items being processed
in the item pipeline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If the idle state persists after all handlers of this
signal have finished, the engine starts closing the spider. After the spider
has finished closing, the <i><span style='color:#355F7C'>spider_closed </span></i>signal
is sent.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>You may raise a <i><span style='color:#355F7C'>DontCloseSpider
</span></i>exception to prevent the spider from being closed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Alternatively, you may raise a <i><span style='color:#355F7C'>CloseSpider
</span></i>exception to provide a custom spider closing reason. An idle handler
is the perfect place to put some code that assesses the final spider results
and update the final closing reason accordingly (e.g. setting it to
‘too_few_results’ instead of ‘finished’). This signal does not support
returning deferreds from its handlers.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.55pt;
margin-left:72.25pt'>spider (<i><span style='color:#355F7C'>Spider </span></i>object)
– the spider which has gone idle</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 532986" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Scheduling some requests in your <i><span
style='color:#355F7C'>spider_idle </span></i>handler does <b><sub><span
style='font-size:15.5pt;line-height:103%'>not </span></sub></b>guarantee that
it can prevent the spider from being closed, although it sometimes can. That’s
because the spider may still remain idle if all the scheduled requests are
rejected by the scheduler (e.g. filtered due to duplication).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 532987"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>spider_error</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.spider_error(<i>failure</i>,
<i>response</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when a spider callback generates an error (i.e. raises
an exception).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal does not support returning deferreds from its
handlers.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.1in;margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:90.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>failure
<a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><i><span
style='color:#377063;text-decoration:none'>twisted.python.failure.Failure</span></i></a><a
href="https://docs.twisted.org/en/stable/api/twisted.python.failure.Failure.html"><span
style='color:black;text-decoration:none'>)</span></a> – the exception raised</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response being
processed when the exception was raised</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider which raised the
exception</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:262.95pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:194%'><b><span
style='color:#20435C'>feed_slot_closed </span></b>scrapy.signals.feed_slot_closed(<i>slot</i>)
Sent when a <i><span style='color:#355F7C'>feed exports </span></i>slot is
closed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal supports returning deferreds from its handlers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:105.4pt;
margin-bottom:17.95pt;margin-left:71.7pt;text-align:left;text-indent:-21.9pt;
line-height:121%'><b>Parameters </b>slot (<i>scrapy.extensions.feedexport.FeedSlot</i>)
– the slot closed</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:171.6pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:230%'><b><span
style='color:#20435C'>feed_exporter_closed</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:171.6pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:230%'>scrapy.signals.feed_exporter_closed()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when the <i><span style='color:#355F7C'>feed exports </span></i>extension
is closed, during the handling of the <i><span style='color:#355F7C'>spider_closed
</span></i>signal by the extension, after all feed exporting has been handled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:25.4pt'>This signal supports returning deferreds from its handlers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:230.95pt;margin-bottom:
0in;margin-left:-.25pt;line-height:226%'><b><span style='color:#20435C'>Request
signals request_scheduled </span></b>scrapy.signals.request_scheduled(<i>request</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when the engine is asked to schedule a Request, to be
downloaded later, before the request reaches the <i><span style='color:#355F7C'>scheduler</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:138.55pt;margin-bottom:
.65pt;margin-left:25.4pt;line-height:149%'>Raise <i><span style='color:#355F7C'>IgnoreRequest
</span></i>to drop a request before it reaches the scheduler. This signal does
not support returning deferreds from its handlers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>New in version 2.11.2: Allow dropping requests with <i><span
style='color:#355F7C'>IgnoreRequest</span></i>.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:105.9pt;margin-bottom:
13.0pt;margin-left:82.4pt;line-height:157%'>• request (Request object) – the
request that reached the scheduler • spider (<i><span style='color:#355F7C'>Spider
</span></i>object) – the spider that yielded the request</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:193.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:252%'><b><span
style='color:#20435C'>request_dropped </span></b>scrapy.signals.request_dropped(<i>request</i>,
<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:29.05pt;margin-bottom:
0in;margin-left:25.4pt;line-height:148%'>Sent when a Request, scheduled by the
engine to be downloaded later, is rejected by the scheduler. This signal does
not support returning deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request that reached the scheduler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider that yielded the
request</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:166.15pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:195%'><b><span
style='color:#20435C'>request_reached_downloader </span></b>scrapy.signals.request_reached_downloader(<i>request</i>,
<i>spider</i>) Sent when a Request reached downloader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal does not support returning deferreds from its
handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:111.9pt;margin-bottom:
12.95pt;margin-left:82.4pt;line-height:157%'>• request (Request object) – the
request that reached downloader • spider (<i><span style='color:#355F7C'>Spider
</span></i>object) – the spider that yielded the request</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:181.2pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:192%'><b><span
style='color:#20435C'>request_left_downloader</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:181.2pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:192%'>scrapy.signals.request_left_downloader(<i>request</i>,
<i>spider</i>) New in version 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent when a Request leaves the downloader, even in case of
failure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal does not support returning deferreds from its
handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:97.25pt;margin-bottom:
13.0pt;margin-left:82.4pt;line-height:157%'>• request (Request object) – the
request that reached the downloader • spider (<i><span style='color:#355F7C'>Spider
</span></i>object) – the spider that yielded the request</p>

<p class=MsoNormal style='margin-top:0in;margin-right:5.25in;margin-bottom:
0in;margin-left:.5pt;line-height:229%'><b><span style='color:#20435C'>bytes_received</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:5.25in;margin-bottom:
0in;margin-left:.5pt;line-height:229%'>New in version 2.2.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.95pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.bytes_received(<i>data</i>,
<i>request</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent by the HTTP 1.1 and S3 download handlers when a group
of bytes is received for a specific request. This signal might be fired
multiple times for the same request, with partial data each time. For instance,
a possible scenario for a 25 kb response would be two signals fired with 10 kb
of data, and a final one with 5 kb of data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:25.4pt;line-height:124%'>Handlers for this signal can stop the
download of a response while it is in progress by raising the <i><span
style='color:#355F7C'>StopDownload </span></i>exception. Please refer to the <i><span
style='color:#355F7C'>Stopping the download of a Response </span></i>topic for
additional information and examples. This signal does not support returning
deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>data <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>byte</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>s</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>object) –
the data received by the download handler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request that generated the download</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider associated with
the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>headers_received</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:.5pt'>New in version 2.5.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.signals.headers_received(<i>headers</i>,
<i>body_length</i>, <i>request</i>, <i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Sent by the HTTP 1.1 and S3 download handlers when the
response headers are available for a given request, before downloading any
additional content.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:25.4pt;line-height:124%'>Handlers for this signal can stop the
download of a response while it is in progress by raising the <i><span
style='color:#355F7C'>StopDownload </span></i>exception. Please refer to the <i><span
style='color:#355F7C'>Stopping the download of a Response </span></i>topic for
additional information and examples. This signal does not support returning
deferreds from its handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>headers (scrapy.http.headers.Headers
object) – the headers received by the download handler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>body_length (<i>int</i>)
– expected size of the response body, in bytes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request that generated the download</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider associated with
the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:293.1pt;margin-bottom:
6.0pt;margin-left:-.25pt;line-height:200%'><b><span style='color:#20435C'>Response
signals response_received</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:164.9pt;margin-bottom:
1.8pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:134%'>scrapy.signals.response_received(<i>response</i>,
<i>request</i>, <i>spider</i>) Sent when the engine receives a new <i><span
style='color:#355F7C'>Response </span></i>from the downloader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal does not support returning deferreds from its
handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response received</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request that generated the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider for which the
response is intended</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 532984"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.5pt;
margin-left:.5pt'><b>Note: </b>The request argument might not contain the
original request that reached the downloader, if a <i><span style='color:#355F7C'>Downloader
Middleware </span></i>modifies the <i><span style='color:#355F7C'>Response </span></i>object
and sets a specific request attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 532985"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.0pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>response_downloaded</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:162.65pt;margin-bottom:
1.55pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:136%'>scrapy.signals.response_downloaded(<i>response</i>,
<i>request</i>, <i>spider</i>) Sent by the downloader right after a HTTPResponse
is downloaded.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This signal does not support returning deferreds from its
handlers.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:70.05pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>response (<i><span
style='color:#355F7C'>Response </span></i>object) – the response downloaded</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:70.05pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request (Request object)
– the request that generated the response</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:70.05pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>spider (<i><span
style='color:#355F7C'>Spider </span></i>object) – the spider for which the
response is intended</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.7 Scheduler</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>The scheduler component receives requests from the <i><span
style='color:#355F7C'>engine </span></i>and stores them into persistent and/or
non-persistent data structures. It also gets those requests and feeds them back
to the engine when it asks for a next request to be downloaded.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:125.8pt;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>6.7.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Overriding the default
scheduler</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:.5pt'>You can use your own custom scheduler class by supplying its
full Python path in the <i><span style='color:#355F7C'>SCHEDULER </span></i>setting.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:125.8pt;
margin-bottom:0in;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:226%'><b><span style='font-size:12.0pt;line-height:226%;color:#20435C'>6.7.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:226%;color:#20435C'>Minimal scheduler
interface </span></b>class scrapy.core.scheduler.BaseScheduler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The scheduler component is responsible for storing requests
received from the engine, and feeding them back upon request (also to the
engine).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The original sources of said requests are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:70.05pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider: start_requests
method, requests created for URLs in the start_urls attribute, request
callbacks</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:70.05pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider
middleware: process_spider_output and process_spider_exception methods</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.3pt;
margin-left:70.05pt;text-indent:-8.45pt;line-height:128%'><span
style='line-height:128%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Downloader
middleware: process_request, process_response and process_exception methods The
order in which the scheduler returns its stored requests (via the next_request method)
plays a great part in determining the order in which those requests are
downloaded.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The methods defined in this class constitute the minimal
interface that the Scrapy engine will interact with.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:25.4pt;line-height:110%'>close<sub><span style='font-size:15.5pt;
line-height:110%'>(</span></sub><i>reason: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a> | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Called when the spider is closed by the engine. It receives
the reason why the crawl finished as argument and it’s useful to execute
cleaning code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:65.65pt;margin-bottom:
2.3pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>reason <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – a string which
describes the reason why the spider was closed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:177.25pt;margin-bottom:
3.0pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:128%'>abstract
enqueue_request(<i>request: </i><span style='color:#355F7C'>Request</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool </span></a>Process a request
received by the engine.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return True if the request is stored correctly, False otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:50.3pt'>If False, the engine will fire a request_dropped signal,
and will not make further attempts to schedule the request at a later time. For
reference, the default Scrapy scheduler returns False when the request is
rejected by the dupefilter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>crawler: </i><span style='color:#355F7C'>Crawler</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.55pt;
margin-left:50.3pt'>Factory method which receives the current <i><span
style='color:#355F7C'>Crawler </span></i>object as argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.35pt;margin-left:24.65pt;text-align:left;line-height:110%'>abstract
has_pending_requests()<span style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:50.3pt'>True if the scheduler has enqueued requests, False otherwise</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:24.65pt;text-align:left;line-height:110%'>abstract
next_request()<span style='font-family:"Cambria",serif'>&#8594; </span><i><span
style='color:#355F7C'>Request </span></i>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the next <i><span style='color:#355F7C'>Request </span></i>to
be processed, or None to indicate that there are no requests to be considered
ready at the moment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returning None implies that no request from the scheduler
will be sent to the downloader in the current reactor cycle. The engine will
continue calling next_request until has_pending_requests is False.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection38>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:25.4pt;line-height:110%'>open<sub><span style='font-size:15.5pt;
line-height:110%'>(</span></sub><i>spider: </i><span style='color:#355F7C'>Spider</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a> | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Called when the spider is opened by the engine. It receives
the spider instance as argument and it’s useful to execute initialization code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:71.5pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:90.85pt'>spider (<i><span style='color:#355F7C'>Spider</span></i>)
– the spider object for the current crawl</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.2pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.7.3 Default Scrapy
scheduler</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.core.scheduler.Scheduler(<i>dupefilter: BaseDupeFilter</i>, <i>jobdir: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>dqclass:</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.95pt;margin-left:199.25pt;text-align:left;line-height:104%'><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>BaseQueue] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>mqclass: </i><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>BaseQueue] | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>logunser: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>stats: </i><span
style='color:#355F7C'>StatsCollector </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None </span></i></a><i>= None</i>, <i>pqclass:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>ScrapyPriorityQueue]
| </i><a href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>crawler: </i><span
style='color:#355F7C'>Crawler </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Default Scrapy scheduler. This implementation also handles
duplication filtering via the <i><span style='color:#355F7C'>dupefilter</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This scheduler stores requests into several priority queues
(defined by the <i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE </span></i>setting).
In turn, said priority queues are backed by either memory or disk based queues
(respectively defined by the <i><span style='color:#355F7C'>SCHEDULER_MEMORY_QUEUE
</span></i>and <i><span style='color:#355F7C'>SCHEDULER_DISK_QUEUE </span></i>settings).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Request prioritization is almost entirely delegated to the
priority queue. The only prioritization performed by this scheduler is using
the disk-based queue if present (i.e. if the <i><span style='color:#355F7C'>JOBDIR
</span></i>setting is defined) and falling back to the memory-based queue if a
serialization error occurs. If the disk queue is not present, the memory one is
used directly.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dupefilter (scrapy.dupefilters.BaseDupeFilter
instance or similar: any class that implements the <i>BaseDupeFilter </i>interface)
– An object responsible for checking and filtering duplicate requests. The
value for the <i><span style='color:#355F7C'>DUPEFILTER_CLASS </span></i>setting
is used by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>jobdir <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>st</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>or None)
– The path of a directory to be used for persisting the crawl’s state. The
value for the <i><span style='color:#355F7C'>JOBDIR </span></i>setting is used
by default. See <i><span style='color:#355F7C'>Jobs: pausing and resuming
crawls</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dqclass (<i>class</i>)
– A class to be used as persistent request queue. The value for the <i><span
style='color:#355F7C'>SCHEDULER_DISK_QUEUE </span></i>setting is used by
default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mqclass (<i>class</i>)
– A class to be used as non-persistent request queue. The value for the <i><span
style='color:#355F7C'>SCHEDULER_MEMORY_QUEUE </span></i>setting is used by
default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
7.9pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>logunser <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>boo</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – A boolean that
indicates whether or not unserializable requests should be logged. The value
for the <i><span style='color:#355F7C'>SCHEDULER_DEBUG </span></i>setting is
used by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
5.5pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>stats (<i><span
style='color:#355F7C'>scrapy.statscollectors.StatsCollector </span></i>instance
or similar: any class that implements the <i>StatsCollector </i>interface) – A
stats collector object to record stats about the request scheduling process.
The value for the <i><span style='color:#355F7C'>STATS_CLASS </span></i>setting
is used by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
7.3pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pqclass (<i>class</i>)
– A class to be used as priority queue for requests. The value for the <i><span
style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE </span></i>setting is used by
default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.45pt;margin-bottom:
8.3pt;margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>crawler (<i><span
style='color:#355F7C'>scrapy.crawler.Crawler</span></i>) – The crawler object
corresponding to the current crawl.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>__len__()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:29.55pt;
margin-left:50.3pt'>Return the total amount of enqueued requests</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.7.
Scheduler</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.8pt;
margin-left:25.4pt;line-height:110%'>close<sub><span style='font-size:15.5pt;
line-height:110%'>(</span></sub><i>reason: </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a> | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:42.25pt;margin-bottom:
5.5pt;margin-left:40.0pt;text-indent:30.25pt'><span style='line-height:103%'>(1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>dump pending requests to disk if there is a disk queue</p>

<p class=MsoNormal style='margin-top:0in;margin-right:42.25pt;margin-bottom:
0in;margin-left:40.0pt;text-indent:30.25pt;line-height:165%'><span
style='line-height:165%'>(2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>return the result of the dupefilter’s close method enqueue_request(<i>request:
</i><span style='color:#355F7C'>Request</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:50.3pt'>Unless the received request is filtered out by the
Dupefilter, attempt to push it into the disk queue, falling back to pushing it
into the memory queue.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.4pt;margin-left:50.3pt;text-align:left;line-height:134%'>Increment         the          appropriate           stats,       such        as:
scheduler/enqueued, scheduler/enqueued/disk, scheduler/enqueued/memory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:50.3pt'>Return True if the request was stored successfully, False otherwise.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>classmethod
from_crawler(<i>crawler: </i><span style='color:#355F7C'>Crawler</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:50.3pt'>Factory method, initializes the scheduler with arguments
taken from the crawl settings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:24.65pt;text-align:left;line-height:110%'>has_pending_requests()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:84.05pt;margin-bottom:
0in;margin-left:24.9pt;text-indent:24.9pt;line-height:167%'>True if the
scheduler has enqueued requests, False otherwise next_request()<span
style='font-family:"Cambria",serif'>&#8594; </span><i><span style='color:#355F7C'>Request
</span></i>| <a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:50.3pt'>Return a <i><span style='color:#355F7C'>Request </span></i>object
from the memory queue, falling back to the disk queue if the memory queue is
empty. Return None if there are no more enqueued requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:24.9pt;line-height:115%'>Increment the
appropriate stats, such as: scheduler/dequeued, scheduler/dequeued/disk, scheduler/dequeued/memory.
open<sub><span style='font-size:15.5pt;line-height:115%'>(</span></sub><i>spider:
</i><span style='color:#355F7C'>Spider</span>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a> | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-16.6pt'><span style='line-height:103%'>(1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>initialize
the memory queue</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.75pt;text-indent:-16.6pt'><span style='line-height:103%'>(2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>initialize
the disk queue if the jobdir attribute is a valid directory</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.65pt;
margin-left:71.75pt;text-indent:-16.6pt'><span style='line-height:103%'>(3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>return
the result of the dupefilter’s open method</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.8 Item Exporters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Once you have scraped your items, you often want to persist
or export those items, to use the data in some other application. That is,
after all, the whole purpose of the scraping process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>For this purpose Scrapy provides a collection of Item
Exporters for different output formats, such as XML, CSV or JSON.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.8.1 Using Item
Exporters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>If you are in a hurry, and just want to use an Item Exporter
to output scraped data see the <i><span style='color:#355F7C'>Feed exports</span></i>.
Otherwise, if you want to know how Item Exporters work or need more custom
functionality (not covered by the default exports), continue reading below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In order to use an Item Exporter, you must instantiate it
with its required args. Each Item Exporter requires different arguments, so
check each exporter documentation to be sure, in <i><span style='color:#355F7C'>Built-in
Item Exporters reference</span></i>. After you have instantiated your exporter,
you have to:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.15in;text-indent:-.15in'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>call the method <i><span
style='color:#355F7C'>start_exporting() </span></i>in order to signal the
beginning of the exporting process</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.15in;text-indent:-.15in'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>call the <i><span
style='color:#355F7C'>export_item() </span></i>method for each item you want to
export</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.15in;text-indent:-.15in'><span style='line-height:103%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>and finally call the <i><span
style='color:#355F7C'>finish_exporting() </span></i>to signal the end of the
exporting process</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Here you can see an <i><span style='color:#355F7C'>Item
Pipeline </span></i>which uses multiple Item Exporters to group scraped items
to different files according to the value of one of their fields:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=471 src="Scrapy%20Documentation_files/image498.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.8.2 Serialization of
item fields</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>By default, the field values are passed unmodified to the
underlying serialization library, and the decision of how to serialize them is
delegated to each particular serialization library.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:13.55pt;margin-bottom:
13.9pt;margin-left:.5pt;line-height:147%'>However, you can customize how each
field value is serialized <i>before it is passed to the serialization library</i>.
There are two ways to customize how a field will be serialized, which are
described next.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Declaring a serializer in the
field</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.0pt;
margin-left:.5pt'>If you use <i><span style='color:#355F7C'>Item </span></i>you
can declare a serializer in the <i><span style='color:#355F7C'>field metadata</span></i>.
The serializer must be a callable which receives a value and returns its
serialized form. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72 src="Scrapy%20Documentation_files/image499.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119 src="Scrapy%20Documentation_files/image500.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:12.0pt;text-indent:-12.0pt;line-height:110%'><b><span
style='line-height:110%;color:#20435C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></b><b><span style='color:#20435C'>Overriding the
serialize_field() method</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can also override the <i><span style='color:#355F7C'>serialize_field()
</span></i>method to customize how your field value will be exported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:77.9pt;margin-bottom:
0in;margin-left:.5pt;line-height:150%'>Make sure you call the base class <i><span
style='color:#355F7C'>serialize_field() </span></i>method after your custom
code. Example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137 src="Scrapy%20Documentation_files/image501.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.8.3 Built-in Item
Exporters reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Here is a list of the Item Exporters bundled with Scrapy.
Some of them contain output examples, which assume you’re exporting these two
items:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image502.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>BaseItemExporter</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:208.45pt;text-align:left;text-indent:-209.2pt;
line-height:104%'>class scrapy.exporters.BaseItemExporter(<i>fields_to_export=None</i>,
<i>export_empty_fields=False</i>, <i>encoding='utf-8'</i>, <i>indent=0</i>, <i>dont_fail=False</i><sub><span
style='font-size:15.5pt;line-height:104%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This is the (abstract) base class for all Item Exporters.
It provides support for common features used by all (concrete) Item Exporters,
such as defining what fields to export, whether to export empty fields, or
which encoding to use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:150%'>These features can be configured through
the __init__ method arguments which populate their respective instance
attributes: <i><span style='color:#355F7C'>fields_to_export</span></i>, <i><span
style='color:#355F7C'>export_empty_fields</span></i>, <i><span
style='color:#355F7C'>encoding</span></i>, <i><span style='color:#355F7C'>indent</span></i>.
New in version 2.0: The <i>dont_fail </i>parameter. export_item(<i>item</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:50.3pt'>Exports the given item. This method must be implemented in
subclasses.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>serialize_field(<i>field</i>,
<i>name</i>, <i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the serialized value for the given field. You can
override this method (in your custom Item Exporters) if you want to control how
a particular field or value will be serialized/exported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>By default, this method looks for a serializer <i><span
style='color:#355F7C'>declared in the item field </span></i>and returns the
result of applying that serializer to the value. If no serializer is found, it
returns the value unchanged.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.55pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>field (<i><span
style='color:#355F7C'>Field </span></i>object or a <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>instance)
– the field being serialized. If the source <i><span style='color:#355F7C'>item
object </span></i>does not define field metadata, <i>field </i>is an empty <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the name of the field
being serialized</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>value – the
value being serialized</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>start_exporting()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Signal the beginning of the exporting process. Some
exporters may use this to generate some required header (for example, the <i><span
style='color:#355F7C'>XmlItemExporter</span></i>). You must call this method
before exporting any items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>finish_exporting()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:50.3pt'>Signal the end of the exporting process. Some exporters may
use this to generate some required footer</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>(for example, the <i><span style='color:#355F7C'>XmlItemExporter</span></i>).
You must always call this method after you have no more items to export.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:24.65pt;text-align:left;line-height:110%'>fields_to_export</p>

<p class=MsoNormal style='margin-top:0in;margin-right:176.15pt;margin-bottom:
0in;margin-left:50.3pt;line-height:162%'>Fields to export, their order<a
href="#_ftn1" name="_ftnref1" title=""><sup><span style='color:#355F7C'><sup><span
style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:#355F7C'>[1]</span></sup></span></sup></a><sup><span style='color:#355F7C'>
</span></sup>and their output names. Possible values are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>None (all
fields<a href="#_ftn2" name="_ftnref2" title=""><sup><span style='color:#355F7C'><sup><span
style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:#355F7C'>[2]</span></sup></span></sup></a>, default)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>A list of
fields:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:68.35pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=538 height=25 src="Scrapy%20Documentation_files/image503.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>A dict where
keys are fields and values are output names:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:10.85pt;margin-left:68.35pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=538 height=25 src="Scrapy%20Documentation_files/image504.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>export_empty_fields</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.35pt;
margin-left:50.3pt;line-height:128%'>Whether to include empty/unpopulated item
fields in the exported data. Defaults to False. Some exporters (like <i><span
style='color:#355F7C'>CsvItemExporter</span></i>) ignore this attribute and
always export all empty fields. This option is ignored for dict items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>encoding</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The output character encoding.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>indent</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Amount of spaces used to indent the output on each level.
Defaults to 0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>indent=None selects
the most compact representation, all items in the same line with no indentation</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>indent&lt;=0 each
item on its own line, no indentation</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>indent&gt;0 each
item on its own line, indented with the provided numeric value</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PythonItemExporter</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.65pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.exporters.PythonItemExporter(<i>*</i>, <i>dont_fail: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>, <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:19.9pt;margin-left:25.4pt;text-align:left;line-height:98%'>This
is a base class for item exporters that extends <i><span style='color:#355F7C'>BaseItemExporter
</span></i>with support for nested items. It serializes items to built-in
Python types, so that any serialization library (e.g. <a
href="https://docs.python.org/3/library/json.html#module-json"><span
style='color:#377063;text-decoration:none'>jso</span></a><a
href="https://docs.python.org/3/library/json.html#module-json"><sub><span
style='font-size:15.5pt;line-height:98%;color:#377063;text-decoration:none'>n</span></sub></a><sub><span
style='font-size:15.5pt;line-height:98%;color:#377063'> </span></sub>or <a
href="https://pypi.org/project/msgpack/"><span style='color:#377063;text-decoration:
none'>msgpack</span></a><a href="https://pypi.org/project/msgpack/"><span
style='color:black;text-decoration:none'>)</span></a> can be used on top of it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>XmlItemExporter</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:24.9pt;text-indent:-24.9pt;line-height:127%'>class
scrapy.exporters.XmlItemExporter(<i>file</i>, <i>item_element='item'</i>, <i>root_element='items'</i>,
<i>**kwargs</i>) Exports items in XML format to the specified file object.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>file – the file-like
object to use for exporting the data. Its write method should accept bytes (a
disk file opened in binary mode, a io.BytesIO object, etc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.45pt;
margin-left:90.35pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>root_element
<a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – The name of root
element in the exported XML.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>item_element <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – The name of each item
element in the exported XML.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>The additional keyword arguments of this __init__ method
are passed to the <i><span style='color:#355F7C'>BaseItemExporter</span></i>__init__
method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=211 src="Scrapy%20Documentation_files/image505.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>Unless overridden in the serialize_field() method,
multi-valued fields are exported by serializing each value inside a &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>value&gt; </span></sub>element. This
is for convenience, as multi-valued fields are very common. For example, the
item:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image506.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=601 height=172 src="Scrapy%20Documentation_files/image507.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=40 src="Scrapy%20Documentation_files/image508.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:48.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:160%'><b><span
style='color:#20435C'>CsvItemExporter </span></b>class
scrapy.exporters.CsvItemExporter(<i>file</i>, <i>include_headers_line=True</i>,
<i>join_multivalued=','</i>, <i>errors=None</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Exports items in CSV format to the given file-like object.
If the fields_to_export attribute is set, it will be used to define the CSV
columns, their order and their column names. The export_empty_fields attribute
has no effect on this exporter.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.25in;margin-bottom:6.8pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>file – the file-like
object to use for exporting the data. Its write method should accept bytes (a
disk file opened in binary mode, a io.BytesIO object, etc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.25in;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include_headers_line <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – If enabled, makes the
exporter output a header line with the field names taken from <i><span
style='color:#355F7C'>BaseItemExporter.fields_to_export </span></i>or the first
exported item fields.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.25in;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>join_multivalued –
The char (or chars) that will be used for joining multi-valued fields, if
found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.25in;margin-bottom:7.05pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>errors <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – The optional string
that specifies how encoding and decoding errors are to be handled. For more
information see <a
href="https://docs.python.org/3/library/io.html#io.TextIOWrapper"><span
style='color:#377063;text-decoration:none'>io.TextIOWrapper</span></a><a
href="https://docs.python.org/3/library/io.html#io.TextIOWrapper"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The additional keyword arguments of this __init__ method
are passed to the <i><span style='color:#355F7C'>BaseItemExporter</span></i>__init__
method, and the leftover arguments to the <a
href="https://docs.python.org/3/library/csv.html#csv.writer"><span
style='color:#377063;text-decoration:none'>csv.writer()</span></a><span
style='color:#377063'> </span>function, so you can use any <a
href="https://docs.python.org/3/library/csv.html#csv.writer"><span
style='color:#377063;text-decoration:none'>csv.writer()</span></a><span
style='color:#377063'> </span>function argument to customize this exporter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>A typical output of this exporter would be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=57 src="Scrapy%20Documentation_files/image509.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.55pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>PickleItemExporter</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:106.4pt;margin-bottom:
2.2pt;margin-left:24.9pt;text-indent:-24.9pt;line-height:129%'>class
scrapy.exporters.PickleItemExporter(<i>file</i>, <i>protocol=0</i>, <i>**kwargs</i>)
Exports items in pickle format to the given file-like object.</p>

<h2 style='margin-left:50.3pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>file – the file-like
object to use for exporting the data. Its write method should accept bytes (a
disk file opened in binary mode, a io.BytesIO object, etc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:90.35pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>protocol <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – The pickle protocol to
use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>For more information, see <a
href="https://docs.python.org/3/library/pickle.html#module-pickle"><span
style='color:#377063;text-decoration:none'>pickl</span></a><a
href="https://docs.python.org/3/library/pickle.html#module-pickle"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><a
href="https://docs.python.org/3/library/pickle.html#module-pickle"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The additional keyword arguments of this __init__ method
are passed to the <i><span style='color:#355F7C'>BaseItemExporter</span></i>__init__
method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Pickle isn’t a human readable format, so no output examples
are provided.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:187.6pt;margin-bottom:
0in;margin-left:.5pt;line-height:177%'><b><span style='color:#20435C'>PprintItemExporter
</span></b>class scrapy.exporters.PprintItemExporter(<i>file</i>, <i>**kwargs</i>)
Exports items in pretty print format to the specified file object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
.4pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>file – the
file-like object to use for exporting the data. Its write method should accept bytes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:72.25pt'>(a disk file opened in binary mode, a io.BytesIO object,
etc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The additional keyword arguments of this __init__ method
are passed to the <i><span style='color:#355F7C'>BaseItemExporter</span></i>__init__
method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>A typical output of this exporter would be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image510.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:25.4pt'>Longer lines (when present) are pretty-formatted.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:198.05pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:225%'><b><span
style='color:#20435C'>JsonItemExporter </span></b>class
scrapy.exporters.JsonItemExporter(<i>file</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:2.95pt;margin-left:25.4pt;text-align:left;line-height:126%'>Exports
items in JSON format to the specified file-like object, writing all objects as
a list of objects. The additional __init__ method arguments are passed to the <i><span
style='color:#355F7C'>BaseItemExporter</span></i>__init__ method, and the
leftover arguments to the <a
href="https://docs.python.org/3/library/json.html#json.JSONEncoder"><span
style='color:#377063;text-decoration:none'>JSONEncoder</span></a>__init__ method,
so you can use any <a
href="https://docs.python.org/3/library/json.html#json.JSONEncoder"><span
style='color:#377063;text-decoration:none'>JSONEncoder</span></a>__init__ method
argument to customize this exporter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
.4pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>file – the
file-like object to use for exporting the data. Its write method should accept bytes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:141.55pt;margin-bottom:
0in;margin-left:24.9pt;text-indent:.65in;line-height:149%'>(a disk file opened
in binary mode, a io.BytesIO object, etc) A typical output of this exporter
would be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:21.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image511.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:32.1pt;
margin-right:6.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:29.55pt;
margin-left:.5pt;line-height:94%;border:none;padding:0in'><b>Warning: </b>JSON
is very simple and flexible serialization format, but it doesn’t scale well for
large amounts of data since incremental (aka. stream-mode) parsing is not well
supported (if at all) among JSON parsers (on any language), and most of them
just parse the entire object in memory. If you want the power and simplicity of
JSON with a more stream-friendly format, consider using <i><span
style='color:#355F7C'>JsonLinesItemExporter </span></i>instead, or splitting
the output in multiple chunks.</p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:171.9pt;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:225%'><b><span
style='color:#20435C'>JsonLinesItemExporter </span></b>class
scrapy.exporters.JsonLinesItemExporter(<i>file</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Exports items in JSON format to the specified file-like
object, writing one JSON-encoded item per line. The additional __init__ method
arguments are passed to the <i><span style='color:#355F7C'>BaseItemExporter</span></i>__init__
method, and the leftover arguments to the <a
href="https://docs.python.org/3/library/json.html#json.JSONEncoder"><span
style='color:#377063;text-decoration:none'>JSONEncoder</span></a>__init__ method,
so you can use any <a
href="https://docs.python.org/3/library/json.html#json.JSONEncoder"><span
style='color:#377063;text-decoration:none'>JSONEncoder</span></a>__init__ method
argument to customize this exporter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
.4pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>file – the
file-like object to use for exporting the data. Its write method should accept bytes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:72.25pt'>(a disk file opened in binary mode, a io.BytesIO object,
etc)</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection39>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>A typical output of this exporter would be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image512.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:25.4pt'>Unlike the one produced by <i><span style='color:#355F7C'>JsonItemExporter</span></i>,
the format produced by this exporter is well suited for serializing large
amounts of data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>MarshalItemExporter</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:90.45pt;margin-bottom:
0in;margin-left:24.9pt;text-indent:-24.9pt'>class
scrapy.exporters.MarshalItemExporter(<i>file: BytesIO</i>, <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>) </span></a>Exports items in a
Python-specific binary format (see <a
href="https://docs.python.org/3/library/marshal.html#module-marshal"><span
style='color:#377063;text-decoration:none'>marsha</span></a><a
href="https://docs.python.org/3/library/marshal.html#module-marshal"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>l</span></sub></a><a
href="https://docs.python.org/3/library/marshal.html#module-marshal"><span
style='color:black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.9pt;margin-bottom:
22.3pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>file – The
file-like object to use for exporting the data. Its write method should accept <a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>byte</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#bytes"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>s</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>(a disk
file opened in binary mode, a <a
href="https://docs.python.org/3/library/io.html#io.BytesIO"><span
style='color:#377063;text-decoration:none'>BytesI</span></a><a
href="https://docs.python.org/3/library/io.html#io.BytesIO"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>O</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>object,
etc)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.9 Components</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:90.6pt;margin-bottom:
3.25pt;margin-left:.5pt;line-height:150%'>A Scrapy component is any class whose
objects are built using <i><span style='color:#355F7C'>build_from_crawler()</span></i>.
That includes the classes that you may assign to the following settings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DNS_RESOLVER</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOADER_CLIENTCONTEXTFACTORY</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOADER_MIDDLEWARES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DUPEFILTER_CLASS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>EXTENSIONS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:185%'><span
style='line-height:185%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORTERS </span></i>• <i><span style='color:#355F7C'>FEED_STORAGES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ITEM_PIPELINES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SCHEDULER</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SCHEDULER_DISK_QUEUE</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SCHEDULER_MEMORY_QUEUE</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>SPIDER_MIDDLEWARES</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:106.15pt;
margin-left:.5pt'>Third-party Scrapy components may also let you define
additional Scrapy components, usually configurable through <i><span
style='color:#355F7C'>settings</span></i>, to modify their behavior.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.9.
Components</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.9.1 Enforcing
component requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Sometimes, your components may only be intended to work under
certain conditions. For example, they may require a minimum version of Scrapy
to work as intended, or they may require certain settings to have specific
values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>In addition to describing those conditions in the
documentation of your component, it is a good practice to raise an exception
from the __init__ method of your component if those conditions are not met at
run time.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:110%'>In the
case of <i><span style='color:#355F7C'>downloader middlewares</span></i>, <i><span
style='color:#355F7C'>extensions</span></i>, <i><span style='color:#355F7C'>item
pipelines</span></i>, and <i><span style='color:#355F7C'>spider middlewares</span></i>,
you should raise <i><span style='color:#355F7C'>scrapy.</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><i><span style='color:#355F7C'>exceptions.NotConfigured</span></i>,
passing a description of the issue as a parameter to the exception so that it
is printed in the logs, for the user to see. For other components, feel free to
raise whatever other exception feels right to you; for example, <a
href="https://docs.python.org/3/library/exceptions.html#RuntimeError"><span
style='color:#377063;text-decoration:none'>RuntimeError</span></a><span
style='color:#377063'> </span>would make sense for a Scrapy version mismatch,
while <a href="https://docs.python.org/3/library/exceptions.html#ValueError"><span
style='color:#377063;text-decoration:none'>ValueError</span></a><span
style='color:#377063'> </span>may be better if the issue is the value of a
setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>If your requirement is a minimum Scrapy version, you may use scrapy.__version__
to enforce your requirement. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=232 src="Scrapy%20Documentation_files/image513.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.9.2 API reference</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.5pt;line-height:132%'>The following function can be used to create
an instance of a component class: scrapy.utils.misc.build_from_crawler(<i>objcls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>T]</i>, <i>crawler:
</i><span style='color:#355F7C'>Crawler</span>, <i>/</i>, <i>*args: Any</i>, <i>**kwargs:
Any</i>)<span style='font-family:"Cambria",serif'>&#8594; </span>T</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.25in;margin-bottom:
.75pt;margin-left:25.4pt;line-height:151%'>Construct a class instance using its
from_crawler or from_settings constructor. New in version 2.12.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:25.4pt'>*args and **kwargs are forwarded to the constructor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Raises TypeError if the resulting instance is None.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.65pt;
margin-left:.5pt'>The following function can also be useful when implementing a
component, to report the import path of the component class, e.g. when
reporting problems:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:172.1pt;margin-bottom:
0in;margin-left:24.9pt;text-indent:-24.9pt;line-height:130%'>scrapy.utils.python.global_object_name(<i>obj:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str </span></a>Return the full
import path of the given class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=57 src="Scrapy%20Documentation_files/image514.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.55pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>6.10 Core API</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>This section documents the Scrapy core API, and it’s intended
for developers of extensions and middlewares.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.10.1 Crawler API</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The main entry point to Scrapy API is the <i><span
style='color:#355F7C'>Crawler </span></i>object, passed to extensions through
the from_crawler class method. This object provides access to all Scrapy core
components, and it’s the only way for extensions to access them and hook their
functionality into Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:.5pt'>The Extension Manager is responsible for loading and keeping
track of installed extensions and it’s configured through the <i><span
style='color:#355F7C'>EXTENSIONS </span></i>setting which contains a dictionary
of all available extensions and their order similar to how you <i><span
style='color:#355F7C'>configure the downloader middlewares</span></i>. class
scrapy.crawler.Crawler(<i>spidercls: </i><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><span
style='color:#355F7C'>scrapy.spiders.Spider</span><i>]</i>, <i>settings: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><span
style='color:#355F7C'>Settings </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:27.75pt;
margin-bottom:4.75pt;margin-left:8.15pt;text-align:center;line-height:106%'><i>=
None</i>, <i>init_reactor: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The Crawler object must be instantiated with a <i><span
style='color:#355F7C'>scrapy.Spider </span></i>subclass and a <i><span
style='color:#355F7C'>scrapy.settings.Settings </span></i>object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>request_fingerprinter</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The request fingerprint builder of this crawler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This is used from extensions and middlewares to build
short, unique identifiers for requests. See <i><span style='color:#355F7C'>Request
fingerprints</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>settings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The settings manager of this crawler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.5pt;margin-bottom:
1.15pt;margin-left:50.3pt;line-height:148%'>This is used by extensions &amp;
middlewares to access the Scrapy settings of this crawler. For an introduction
on Scrapy settings see <i><span style='color:#355F7C'>Settings</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For the API see <i><span style='color:#355F7C'>Settings </span></i>class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>signals</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The signals manager of this crawler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.7pt;margin-bottom:
1.6pt;margin-left:50.3pt;line-height:148%'>This is used by extensions &amp;
middlewares to hook themselves into Scrapy functionality. For an introduction
on signals see <i><span style='color:#355F7C'>Signals</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For the API see <i><span style='color:#355F7C'>SignalManager
</span></i>class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>stats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The stats collector of this crawler.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This is used from extensions &amp; middlewares to record
stats of their behaviour, or access stats collected by other extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:50.3pt'>For an introduction on stats collection see <i><span
style='color:#355F7C'>Stats Collection</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For the API see <i><span style='color:#355F7C'>StatsCollector
</span></i>class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>extensions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The extension manager that keeps track of enabled
extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Most extensions won’t need to access this attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For an introduction on extensions and a list of available
extensions on Scrapy see <i><span style='color:#355F7C'>Extensions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>engine</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The execution engine, which coordinates the core crawling
logic between the scheduler, downloader and spiders.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Some extension may want to access the Scrapy engine, to
inspect or modify the downloader and scheduler behaviour, although this is an
advanced use and this API is not yet stable.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:50.3pt'>Spider currently being crawled. This is an instance of the
spider class provided while constructing the crawler, and it is created after
the arguments given in the <i><span style='color:#355F7C'>crawl() </span></i>method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:25.4pt;text-align:left;line-height:104%'>crawl(<i>*args</i>,
<i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.65pt;
margin-left:50.3pt;line-height:123%'>Starts the crawler by instantiating its
spider class with the given args and kwargs arguments, while setting the
execution engine in motion. Should be called only once. Returns a deferred that
is fired when the crawl is finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'>stop<sub><span style='font-size:15.5pt;line-height:103%'>()</span></sub><span
style='font-family:"Cambria",serif'>&#8594; </span>Generator[Deferred[Any],
Any, <a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.9pt;text-indent:24.9pt;line-height:160%'>Starts a graceful stop
of the crawler and returns a deferred that is fired when the crawler is
stopped. get_addon(<i>cls: </i><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>_T | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.25pt;
margin-left:50.3pt;line-height:147%'>Return the run-time instance of an <i><span
style='color:#355F7C'>add-on </span></i>of the specified class or a subclass,
or None if none is found. New in version 2.12.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_downloader_middleware(<i>cls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>_T | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the run-time instance of a <i><span
style='color:#355F7C'>downloader middleware </span></i>of the specified class
or a subclass, or None if none is found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.12.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:126%'>This method can only be called after the
crawl engine has been created, e.g. at signals <i><span style='color:#355F7C'>engine_started
</span></i>or <i><span style='color:#355F7C'>spider_opened</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_extension(<i>cls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>_T | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:50.3pt;line-height:147%'>Return the run-time instance of an <i><span
style='color:#355F7C'>extension </span></i>of the specified class or a
subclass, or None if none is found. New in version 2.12.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:127%'>This method can only be called after the
extension manager has been created, e.g. at signals <i><span style='color:#355F7C'>engine_started
</span></i>or <i><span style='color:#355F7C'>spider_opened</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_item_pipeline(<i>cls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>_T | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.6pt;
margin-left:50.3pt;line-height:147%'>Return the run-time instance of a <i><span
style='color:#355F7C'>item pipeline </span></i>of the specified class or a
subclass, or None if none is found. New in version 2.12.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:126%'>This method can only be called after the
crawl engine has been created, e.g. at signals <i><span style='color:#355F7C'>engine_started
</span></i>or <i><span style='color:#355F7C'>spider_opened</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_spider_middleware(<i>cls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><i>_T]</i>)<span
style='font-family:"Cambria",serif'>&#8594; </span>_T | <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the run-time instance of a <i><span
style='color:#355F7C'>spider middleware </span></i>of the specified class or a
subclass, or None if none is found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>New in version 2.12.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt;line-height:126%'>This method can only be called after the
crawl engine has been created, e.g. at signals <i><span style='color:#355F7C'>engine_started
</span></i>or <i><span style='color:#355F7C'>spider_opened</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.crawler.CrawlerRunner(<i>settings: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><span
style='color:#355F7C'>Settings </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt;line-height:152%'>This is a convenient helper class that
keeps track of, manages and runs crawlers inside an already setup <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:152%;color:#377063;text-decoration:none'>r</span></sub></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:black;text-decoration:none'>. </span></a>The CrawlerRunner object
must be instantiated with a <i><span style='color:#355F7C'>Settings </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This class shouldn’t be needed (since Scrapy is responsible
of using it accordingly) unless writing scripts that manually handle the
crawling process. See <i><span style='color:#355F7C'>Run Scrapy from a script </span></i>for
an example.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:56.3pt;text-align:left;text-indent:-31.4pt;
line-height:104%'>crawl<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>crawler_or_spidercls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><span
style='color:#355F7C'>scrapy.spiders.Spider</span><i>] | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Crawler</span>,
<i>*args: </i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Run a crawler with the provided arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>It will call the given Crawler’s <i><span style='color:
#355F7C'>crawl() </span></i>method, while keeping track of it so it can be
stopped later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If crawler_or_spidercls isn’t a <i><span style='color:#355F7C'>Crawler
</span></i>instance, this method will try to create one using this parameter as
the spider class given to it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a deferred that is fired when the crawling is
finished.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:89.5pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>crawler_or_spidercls (<i><span
style='color:#355F7C'>Crawler </span></i>instance, <i><span style='color:#355F7C'>Spider
</span></i>subclass or string) – already created crawler, or a spider class or
spider’s name inside the project to create it</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:89.5pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>args – arguments to
initialize the spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:89.5pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>kwargs – keyword
arguments to initialize the spider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>property
crawlers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:50.3pt'>Set of <i><span style='color:#355F7C'>crawlers </span></i>started
by <i><span style='color:#355F7C'>crawl() </span></i>and managed by this class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:3.3pt;margin-left:49.8pt;text-align:left;text-indent:-24.9pt;
line-height:137%'>create_crawler<sub><span style='font-size:15.5pt;line-height:
137%'>(</span></sub><i>crawler_or_spidercls: </i><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><span
style='color:#355F7C'>scrapy.spiders.Spider</span><i>] | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Crawler</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span><i><span style='color:#355F7C'>Crawler
</span></i>Return a <i><span style='color:#355F7C'>Crawler </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:89.5pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If crawler_or_spidercls
is a Crawler, it is returned as-is.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:89.5pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If
crawler_or_spidercls is a Spider subclass, a new Crawler is constructed for it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:89.5pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If crawler_or_spidercls
is a string, this function finds a spider with this name in a Scrapy project
(using spider loader), then creates a Crawler instance for it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>join()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:50.3pt'>Returns a deferred that is fired when all managed <i><span
style='color:#355F7C'>crawlers </span></i>have completed their executions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.0pt;
margin-left:25.4pt;line-height:110%'>stop()<span style='font-family:"Cambria",serif'>&#8594;
</span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Stops simultaneously all the crawling jobs taking place.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:50.3pt'>Returns a deferred that is fired when they all have ended.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.0pt;margin-left:187.55pt;text-align:left;text-indent:-188.3pt;
line-height:104%'>class scrapy.crawler.CrawlerProcess(<i>settings: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><span
style='color:#355F7C'>Settings </span><i>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>, <i>install_root_handler: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.55pt;
margin-left:25.4pt;line-height:108%'>Bases: <i><span style='color:#355F7C'>CrawlerRunner</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>A class to run multiple scrapy crawlers in a process
simultaneously.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This class extends <i><span style='color:#355F7C'>CrawlerRunner
</span></i>by adding support for starting a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>and
handling shutdown signals, like the keyboard interrupt command Ctrl-C. It also
configures top-level logging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This utility should be a better fit than <i><span
style='color:#355F7C'>CrawlerRunner </span></i>if you aren’t running another <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>within
your application.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The CrawlerProcess object must be instantiated with a <i><span
style='color:#355F7C'>Settings </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:67.7pt;margin-bottom:
5.5pt;margin-left:71.7pt;text-indent:-21.9pt'><b>Parameters </b>install_root_handler
– whether to install root logging handler (default: True)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This class shouldn’t be needed (since Scrapy is responsible
of using it accordingly) unless writing scripts that manually handle the
crawling process. See <i><span style='color:#355F7C'>Run Scrapy from a script </span></i>for
an example.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:56.3pt;text-align:left;text-indent:-31.4pt;
line-height:104%'>crawl<sub><span style='font-size:15.5pt;line-height:104%'>(</span></sub><i>crawler_or_spidercls:
</i><a href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><span
style='color:#355F7C'>scrapy.spiders.Spider</span><i>] | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Crawler</span>,
<i>*args: </i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Run a crawler with the provided arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:50.3pt'>It will call the given Crawler’s <i><span style='color:
#355F7C'>crawl() </span></i>method, while keeping track of it so it can be
stopped later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If crawler_or_spidercls isn’t a <i><span style='color:#355F7C'>Crawler
</span></i>instance, this method will try to create one using this parameter as
the spider class given to it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a deferred that is fired when the crawling is
finished.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>crawler_or_spidercls
(<i><span style='color:#355F7C'>Crawler </span></i>instance, <i><span
style='color:#355F7C'>Spider </span></i>subclass or string) – already created
crawler, or a spider class or spider’s name inside the project to create it</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:71.7pt;text-indent:-8.45pt;line-height:152%'><span
style='line-height:152%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>args – arguments to initialize the spider • kwargs – keyword
arguments to initialize the spider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>property
crawlers</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:50.3pt'>Set of <i><span style='color:#355F7C'>crawlers </span></i>started
by <i><span style='color:#355F7C'>crawl() </span></i>and managed by this class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:3.3pt;margin-left:49.8pt;text-align:left;text-indent:-24.9pt;
line-height:137%'>create_crawler<sub><span style='font-size:15.5pt;line-height:
137%'>(</span></sub><i>crawler_or_spidercls: </i><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:#377063;text-decoration:none'>type</span></i></a><a
href="https://docs.python.org/3/library/functions.html#type"><i><span
style='color:black;text-decoration:none'>[</span></i></a><span
style='color:#355F7C'>scrapy.spiders.Spider</span><i>] | </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><span style='color:#355F7C'>Crawler</span>)<span
style='font-family:"Cambria",serif'>&#8594; </span><i><span style='color:#355F7C'>Crawler
</span></i>Return a <i><span style='color:#355F7C'>Crawler </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If crawler_or_spidercls
is a Crawler, it is returned as-is.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If crawler_or_spidercls
is a Spider subclass, a new Crawler is constructed for it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If crawler_or_spidercls
is a string, this function finds a spider with this name in a Scrapy project
(using spider loader), then creates a Crawler instance for it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>join()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a deferred that is fired when all managed <i><span
style='color:#355F7C'>crawlers </span></i>have completed their executions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>start<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>stop_after_crawl: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>, <i>install_signal_handlers: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= True</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:50.3pt'>This method starts a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reactor</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:black;text-decoration:none'>,</span></a> adjusts its pool size to <i><span
style='color:#355F7C'>REACTOR_THREADPOOL_MAXSIZE</span></i>, and installs a DNS
cache based on <i><span style='color:#355F7C'>DNSCACHE_ENABLED </span></i>and <i><span
style='color:#355F7C'>DNSCACHE_SIZE</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If stop_after_crawl is True, the reactor will be stopped
after all crawlers have finished, using <i><span style='color:#355F7C'>join()</span></i>.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>stop_after_crawl <a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – stop or not the reactor
when all crawlers have finished</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>install_signal_handlers
<a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>)</span></a> – whether to install the
OS signal handlers from Twisted and Scrapy (default: True)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.0pt;
margin-left:25.4pt;line-height:110%'>stop()<span style='font-family:"Cambria",serif'>&#8594;
</span><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Stops simultaneously all the crawling jobs taking place.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a deferred that is fired when they all have ended.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.6pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.10.2 Settings API</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:.5pt;text-align:left;line-height:110%'>scrapy.settings.SETTINGS_PRIORITIES</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Dictionary that sets the key name and priority level of the
default settings priorities used in Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:25.4pt'>Each item defines a settings entry point, giving it a code
name for identification and an integer priority. Greater priorities take more
precedence over lesser ones when setting and retrieving values in the <i><span
style='color:#355F7C'>Settings </span></i>class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=137 src="Scrapy%20Documentation_files/image515.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:25.4pt'>For a detailed explanation on each settings sources, see: <i><span
style='color:#355F7C'>Settings</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.3pt;margin-left:.5pt;text-align:left;line-height:110%'>scrapy.settings.get_settings_priority(<i>priority:
</i><a href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:25.4pt'>Small helper function that looks up a given string priority
in the <i><span style='color:#355F7C'>SETTINGS_PRIORITIES </span></i>dictionary
and returns its numerical value, or directly returns a given numerical
priority.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.settings.Settings(<i>values: _SettingsInputT = None</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'project'</i>)</p>

<p class=MsoNormal style='margin-left:25.4pt;line-height:108%'>Bases: <i><span
style='color:#355F7C'>BaseSettings</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This object stores Scrapy settings for the configuration of
internal components, and can be used for any further customization.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:25.4pt'>It is a direct subclass and supports all methods of <i><span
style='color:#355F7C'>BaseSettings</span></i>. Additionally, after
instantiation of this class, the new object will have the global default
settings described on <i><span style='color:#355F7C'>Built-in settings
reference </span></i>already populated.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>class
scrapy.settings.BaseSettings(<i>values: _SettingsInputT = None</i>, <i>priority:
</i><a href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'project'</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Instances of this class behave like dictionaries, but store
priorities along with their (<sub><span style='font-size:15.5pt;line-height:
103%'>key, value) </span></sub>pairs, and can be frozen (i.e. marked
immutable).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Key-value entries can be passed on initialization with the values
argument, and they would take the priority level (unless values is already an
instance of <i><span style='color:#355F7C'>BaseSettings</span></i>, in which
case the existing priority levels will be kept). If the priority argument is a
string, the priority name will be looked up in <i><span style='color:#355F7C'>SETTINGS_PRIORITIES</span></i>.
Otherwise, a specific integer should be provided.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.75pt;
margin-left:25.4pt'>Once the object is created, new settings can be loaded or
updated with the <i><span style='color:#355F7C'>set() </span></i>method, and
can be accessed with the square bracket notation of dictionaries, or with the <i><span
style='color:#355F7C'>get() </span></i>method of the instance and its value
conversion variants. When requesting a stored key, the value with the highest
priority will be retrieved. copy()<span style='font-family:"Cambria",serif'>&#8594;
</span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Make a deep copy of current settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This method returns a new instance of the <i><span
style='color:#355F7C'>Settings </span></i>class, populated with the same values
and their priorities.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Modifications to the new object won’t be reflected on the
original settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:141.25pt;margin-bottom:
2.65pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:125%'>copy_to_dict()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Union"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Union"><span
style='color:#377063;text-decoration:none'>Union</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/functions.html#float"><span
style='color:#377063;text-decoration:none'>float</span></a><a
href="https://docs.python.org/3/library/functions.html#float"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> NoneType], <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>] </span></a>Make a copy of current
settings and convert to a dict.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This method returns a new dict populated with the same
values and their priorities as the current settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Modifications to the returned dict won’t be reflected on
the original settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:50.3pt'>This method can be useful for example for printing settings
in Scrapy shell.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>freeze()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Disable further changes to the current settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.35pt;
margin-left:50.3pt'>After calling this method, the present state of the
settings will become immutable. Trying to change values through the <i><span
style='color:#355F7C'>set() </span></i>method and its variants won’t be
possible and will be alerted.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>frozencopy()<span
style='font-family:"Cambria",serif'>&#8594; </span>Self</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return an immutable copy of the current settings.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:147.8pt;
margin-bottom:2.9pt;margin-left:24.9pt;text-align:left;text-indent:24.9pt;
line-height:126%'>Alias for a <i><span style='color:#355F7C'>freeze() </span></i>call
in the object returned by <i><span style='color:#355F7C'>copy()</span></i>. get<sub><span
style='font-size:15.5pt;line-height:126%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any </span></a>Get a setting value
without affecting its original type.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal style='margin-top:0in;margin-right:123.2pt;margin-bottom:
5.5pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:125%'>getbool<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>= False</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool </span></a>Get a setting value
as a boolean.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>1, '1', <i>True` </i>and 'True' return True, while 0, '0', False,
'False' and None return False. For example, settings populated through
environment variables set to '<sub><span style='font-size:15.5pt;line-height:
103%'>0</span></sub>' will return False when using this method.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-24.9pt'>getdict<sub><span style='font-size:
15.5pt;line-height:103%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>] </span></a>Get a setting value as a
dictionary. If the setting original type is a dictionary, a copy of it will be
returned. If it is a string it will be evaluated as a JSON dictionary. In the
case that it is a <i><span style='color:#355F7C'>BaseSettings </span></i>instance
itself, it will be converted to a dictionary, containing all its current
settings values as they would be returned by <i><span style='color:#355F7C'>get()</span></i>,
and losing all information about priority and mutability.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:6.6pt;margin-left:89.5pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name
<a href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:89.5pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default
<a href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.05pt;margin-left:97.35pt;text-align:left;text-indent:-73.2pt;
line-height:106%'>getdictorlist<sub><span style='font-size:15.5pt;line-height:
106%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><i><span
style='color:#377063;text-decoration:none'>dict</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>,</span></i></a><i> </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><i><span
style='color:#377063;text-decoration:none'>tuple</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dict</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a> | <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>list</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:50.3pt'>Get a setting value as either a <a
href="https://docs.python.org/3/library/stdtypes.html#dict"><span
style='color:#377063;text-decoration:none'>dic</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#dict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>or a <a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>lis</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If the setting is already a dict or a list, a copy of it
will be returned.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:21.1pt;margin-bottom:
3.3pt;margin-left:50.3pt;line-height:147%'>If it is a string it will be
evaluated as JSON, or as a comma-separated list of strings as a fallback. For
example, settings populated from the command line will return:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:.1in;margin-left:89.5pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>{'key1': 'value1', 'key2': 'value2'} if           set           to
'{&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}'</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:11.2pt;margin-left:89.5pt;text-align:left;text-indent:-8.45pt;
line-height:112%'><span style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>['one', 'two'] if set to '[&quot;one&quot;, &quot;two&quot;]' or 'one,two'</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>string</i>)
– the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default (<i>any</i>)
– the value to return if no setting is found</p>

<p class=MsoNormal style='margin-top:0in;margin-right:126.65pt;margin-bottom:
2.65pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:125%'>getfloat<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>= 0.0</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/functions.html#float"><span
style='color:#377063;text-decoration:none'>float </span></a>Get a setting value
as a float.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal style='margin-top:0in;margin-right:158.95pt;margin-bottom:
2.65pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:125%'>getint<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>= 0</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int </span></a>Get a setting value
as an int.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:24.65pt;text-align:left;line-height:106%'>getlist<sub><span
style='font-size:15.5pt;line-height:106%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>default: </i><a
href="https://docs.python.org/3/library/stdtypes.html#list"><i><span
style='color:#377063;text-decoration:none'>list</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>[</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:black;text-decoration:none'>]</span></i></a><i> | </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><i><span
style='color:#377063'> </span>= None</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>list</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Get a setting value as a list. If the setting original type
is a list, a copy of it will be returned. If it’s a string it will be split by
“,”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>For example, settings populated through environment
variables set to '<sub><span style='font-size:15.5pt;line-height:103%'>one,two</span></sub>'
will return a list [‘one’, ‘two’] when using this method.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>default <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to return if
no setting is found</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:24.65pt;text-align:left;line-height:106%'>getpriority(<i>name:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a><span
style='color:#377063'> </span>| <a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the current numerical priority value of a setting,
or None if the given name does not exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:256.25pt;margin-bottom:
6.8pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:24.65pt;text-align:left;line-height:106%'>getwithbase(<i>name:
</i><a href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><i><span style='color:#355F7C'>BaseSettings</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Get a composition of a dictionary-like setting and its <i>_BASE
</i>counterpart.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:184.55pt;margin-bottom:
3.0pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>st</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – name of the
dictionary-like setting</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>maxpriority()<span
style='font-family:"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.55pt;
margin-left:24.9pt;text-indent:24.9pt'>Return the numerical value of the
highest priority present throughout all settings, or the numerical value for default
from <i><span style='color:#355F7C'>SETTINGS_PRIORITIES </span></i>if there are
no settings stored. pop<sub><span style='font-size:15.5pt;line-height:103%'>(</span></sub><i>k</i><span
style='font-size:14.5pt;line-height:103%'>[</span>, <i>d </i><span
style='font-size:14.5pt;line-height:103%'>]</span>)<span style='font-family:
"Cambria",serif'>&#8594; </span>v, remove specified key and return the
corresponding value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If key is not found, d is returned if given, otherwise
KeyError is raised.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.4pt;margin-bottom:
3.45pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:124%'>set<sub><span
style='font-size:15.5pt;line-height:124%'>(</span></sub><i>name: </i><a
href="https://docs.python.org/3/library/functions.html#bool"><i><span
style='color:#377063;text-decoration:none'>bool</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#float"><i><span
style='color:#377063;text-decoration:none'>float</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/constants.html#None"><i><span
style='color:#377063;text-decoration:none'>None</span></i></a><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:black;text-decoration:none'>,</span></a> <i>value: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'project'</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Store a key/value
attribute with a given priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Settings should be populated <i>before </i>configuring the
Crawler object (through the configure() method), otherwise they won’t have any
effect.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the setting name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>value <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>objec</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the value to associate
with the setting</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.1pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>priority <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the priority of the
setting.              Should be a key of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.9pt;
margin-left:107.8pt;line-height:108%'><i><span style='color:#355F7C'>SETTINGS_PRIORITIES
</span></i>or an integer</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:110.5pt;
margin-bottom:3.15pt;margin-left:25.4pt;text-align:left;line-height:126%'>setdefault<sub><span
style='font-size:15.5pt;line-height:126%'>(</span></sub><i>k</i><span
style='font-size:14.5pt;line-height:126%'>[</span>, <i>d </i><span
style='font-size:14.5pt;line-height:126%'>]</span>)<span style='font-family:
"Cambria",serif'>&#8594; </span>D.get(k,d), also set D[k]=d if k not in D setmodule<sub><span
style='font-size:15.5pt;line-height:126%'>(</span></sub><i>module: ModuleType |
</i><a href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>,</span></a> <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'project'</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Store settings from
a module with a given priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This is a helper function that calls <i><span
style='color:#355F7C'>set() </span></i>for every globally declared uppercase
variable of module with the provided priority.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>module <a
href="https://docs.python.org/3/library/types.html#types.ModuleType"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/types.html#types.ModuleType"><i><span
style='color:#377063;text-decoration:none'>types.ModuleType</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – the module or the path
of the module</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.1pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>priority <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the priority of the
settings.            Should be a key of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.2pt;
margin-left:107.8pt;line-height:108%'><i><span style='color:#355F7C'>SETTINGS_PRIORITIES
</span></i>or an integer</p>

<p class=MsoNormal style='margin-top:0in;margin-right:134.6pt;margin-bottom:
3.7pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:125%'>update<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>values:
_SettingsInputT</i>, <i>priority: </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><i><span
style='color:#377063'> </span>| </i><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>= 'project'</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span><a href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Store key/value
pairs with a given priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This is a helper function that calls <i><span
style='color:#355F7C'>set() </span></i>for every item of values with the
provided priority.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.5pt;
margin-left:50.3pt'>If values is a string, it is assumed to be JSON-encoded and
parsed into a dict with json.loads() first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>If it is a <i><span style='color:#355F7C'>BaseSettings </span></i>instance,
the per-key priorities will be used and the priority parameter ignored. This
allows inserting/updating settings with different priorities with a single
command.</p>

<h2 style='margin-left:71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>values (dict or
string or <i><span style='color:#355F7C'>BaseSettings</span></i>) – the
settings names and values</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.7pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>priority <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><i><span
style='color:#377063'> </span>or </i><a
href="https://docs.python.org/3/library/functions.html#int"><i><span
style='color:#377063;text-decoration:none'>int</span></i></a><a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:black;text-decoration:none'>)</span></a> – the priority of the
settings. Should be a key of <i><span style='color:#355F7C'>SETTINGS_PRIORITIES
</span></i>or an integer</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.7pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.10.3 SpiderLoader API</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>class
scrapy.spiderloader.SpiderLoader</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>This class is in charge of retrieving and handling the
spider classes defined across the project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.15pt;
margin-left:25.4pt;line-height:127%'>Custom spider loaders can be employed by
specifying their path in the <i><span style='color:#355F7C'>SPIDER_LOADER_CLASS
</span></i>project setting. They must fully implement the scrapy.interfaces.ISpiderLoader
interface to guarantee an errorless execution. from_settings(<i>settings</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>This class method is used by Scrapy to create an instance
of the class. It’s called with the current project settings, and it loads the
spiders found recursively in the modules of the <i><span style='color:#355F7C'>SPIDER_MODULES
</span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:179.05pt;margin-bottom:
7.1pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters </b>settings (<i><span
style='color:#355F7C'>Settings </span></i>instance) – project settings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:25.4pt;text-align:left;line-height:104%'>load(<i>spider_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Get the Spider class with the given name. It’ll look into
the previously loaded spiders for a spider class with name spider_name and will
raise a KeyError if not found.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:214.65pt;
margin-bottom:.2pt;margin-left:90.4pt;text-align:left;text-indent:-18.65pt;
line-height:126%'><b>Parameters </b>spider_name <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><i><span
style='color:#377063;text-decoration:none'>str</span></i></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>)</span></a> – spider class name list()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:50.3pt'>Get the names of the available spiders in the project.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>find_by_request(<i>request</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>List the spiders’ names that can handle the given request.
Will try to match the request’s url against the domains of the spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:71.5pt;text-align:left;line-height:108%'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.7pt;
margin-left:90.85pt'>request (Request instance) – queried request</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.0pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.10.4 Signals API</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:136.7pt;margin-bottom:
4.4pt;margin-left:24.15pt;text-indent:-24.9pt;line-height:108%'>class
scrapy.signalmanager.SignalManager(<i>sender: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><i><span
style='color:#377063'> </span>= _Anonymous</i>) connect<sub><span
style='font-size:15.5pt;line-height:108%'>(</span></sub><i>receiver: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>signal: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Connect a receiver
function to a signal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The signal can be any object, although Scrapy comes with
some predefined signals that are documented in the <i><span style='color:#355F7C'>Signals
</span></i>section.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:6.8pt;margin-left:
71.5pt'>Parameters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>receiver <a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><i><span
style='color:#377063;text-decoration:none'>collections.abc.Callable</span></i></a><a
href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable"><span
style='color:black;text-decoration:none'>)</span></a> – the function to be
connected</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:107.3pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>signal <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the signal to connect
to</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:104%'>disconnect<sub><span
style='font-size:15.5pt;line-height:104%'>(</span></sub><i>receiver: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>signal: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:50.3pt'>Disconnect a receiver function from a signal. This has the
opposite effect of the <i><span style='color:#355F7C'>connect() </span></i>method,
and the arguments are the same.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:166.4pt;margin-bottom:
2.45pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:127%'>disconnect_all(<i>signal:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/constants.html#None"><span
style='color:#377063;text-decoration:none'>None </span></a>Disconnect all
receivers from the given signal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:179.8pt;margin-bottom:
6.9pt;margin-left:90.4pt;text-indent:-18.65pt'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:179.8pt;margin-bottom:
6.9pt;margin-left:90.4pt;text-indent:-18.65pt'>signal <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><i><span
style='color:#377063;text-decoration:none'>object</span></i></a><a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:black;text-decoration:none'>)</span></a> – the signal to
disconnect from</p>

<p class=MsoNormal style='margin-top:0in;margin-right:128.75pt;margin-bottom:
3.0pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:126%'>send_catch_log(<i>signal:
</i><a href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <i>**kwargs: </i><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><i><span
style='color:#377063;text-decoration:none'>Any</span></i></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>)</span></a><span style='font-family:
"Cambria",serif'>&#8594; </span><a
href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>list</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:#377063;text-decoration:none'>Any</span></a><a
href="https://docs.python.org/3/library/typing.html#typing.Any"><span
style='color:black;text-decoration:none'>]</span></a>] Send a signal, catch
exceptions and log them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:50.3pt'>The keyword arguments are passed to the signal handlers
(connected through the <i><span style='color:#355F7C'>connect() </span></i>method).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:42.1pt;margin-bottom:
1.6pt;margin-left:49.8pt;text-indent:-24.9pt;line-height:137%'>send_catch_log_deferred(<i>signal:
Any</i>, <i>**kwargs: Any</i>)<span style='font-family:"Cambria",serif'>&#8594;
</span>Deferred[<a href="https://docs.python.org/3/library/stdtypes.html#list"><span
style='color:#377063;text-decoration:none'>list</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:black;text-decoration:none'>[</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:#377063;text-decoration:none'>tuple</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#tuple"><span
style='color:black;text-decoration:none'>[</span></a>Any, Any]]] Like <i><span
style='color:#355F7C'>send_catch_log() </span></i>but supports returning <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><span
style='color:#377063'> </span>objects from signal handlers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Returns a Deferred that gets fired once all signal handlers
deferreds were fired. Send a signal, catch exceptions and log them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>The keyword arguments are passed to the signal handlers
(connected through the <i><span style='color:#355F7C'>connect() </span></i>method).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>6.10.5 Stats Collector
API</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt;line-height:152%'>There are several Stats Collectors available
under the <i><span style='color:#355F7C'>scrapy.statscollectors </span></i>module
and they all implement the Stats Collector API defined by the <i><span
style='color:#355F7C'>StatsCollector </span></i>class (which they all inherit
from). class scrapy.statscollectors.StatsCollector get_value(<i>key</i>, <i>default=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Return the value for the given stats key or default if it
doesn’t exist.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>get_stats()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:50.3pt'>Get all stats from the currently running spider as a dict.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>set_value(<i>key</i>,
<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:50.3pt'>Set the given value for the given stats key.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>set_stats(<i>stats</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:50.3pt'>Override the current stats with the dict passed in stats argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.65pt;margin-left:25.4pt;text-align:left;line-height:104%'>inc_value(<i>key</i>,
<i>count=1</i>, <i>start=0</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:50.3pt'>Increment the value of the given stats key, by the given
count, assuming the start value given (when it’s not set).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>max_value(<i>key</i>,
<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:50.3pt'>Set the given value for the given key only if current value
for the same key is lower than value. If there is no current value for the
given key, the value is always set.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>min_value(<i>key</i>,
<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Set the given value for the given key only if current value
for the same key is greater than value. If there is no current value for the
given key, the value is always set.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>clear_stats()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Clear all stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.15pt;
margin-left:25.4pt'>The following methods are not part of the stats collection
api but instead used when implementing custom stats collectors:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>open_spider(<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:50.3pt'>Open the given spider for stats collection.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.8pt;margin-left:24.65pt;text-align:left;line-height:110%'>close_spider(<i>spider</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>Close the given spider. After this is called, no more
specific stats can be accessed or collected.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Architecture overview</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Understand the Scrapy architecture.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Add-ons</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Enable and configure third-party extensions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Downloader Middleware</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Customize how pages get requested and downloaded.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Spider Middleware</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Customize the input and output of your spiders.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Extensions</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Extend Scrapy with your custom functionality</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Signals</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>See all available signals and how to work with them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Scheduler</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Understand the scheduler component.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Item Exporters</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Quickly export your scraped items to a file (XML, CSV,
etc).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Components</span></i></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:74.5pt;
margin-bottom:5.3pt;margin-left:3.0pt;text-align:right'>Learn the common API
and some good practices when building custom Scrapy components.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>Core API</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Use it on extensions and middlewares to extend Scrapy
functionality.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection40>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 539220"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>SEVEN</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 539221"
src="Scrapy%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:45.75pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>ALL THE REST</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.5pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>7.1 Release notes</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.1 Scrapy 2.12.0
(2024-11-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped support for
Python 3.8, added support for Python 3.13</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>start_requests() </span></i>can now yield items</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>JsonResponse</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>CLOSESPIDER_PAGECOUNT_NO_ITEM</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped support for
Python 3.8. (<a href="https://github.com/scrapy/scrapy/issues/6466"><span
style='color:#377063;text-decoration:none'>issue 6466</span></a><a
href="https://github.com/scrapy/scrapy/issues/6466"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6472"><span style='color:#377063;
text-decoration:none'>issue 6472</span></a><a
href="https://github.com/scrapy/scrapy/issues/6472"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
Python 3.13. (<a href="https://github.com/scrapy/scrapy/issues/6166"><span
style='color:#377063;text-decoration:none'>issue 6166</span></a><a
href="https://github.com/scrapy/scrapy/issues/6166"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minimum versions
increased for these dependencies:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://twisted.org/"><span style='color:#377063;text-decoration:none'>Twisted</span></a><a
href="https://twisted.org/"><span style='color:black;text-decoration:none'>:</span></a>
18.9.0 <span style='font-family:"Cambria",serif'>&#8594; </span>21.7.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://cryptography.io/en/latest/"><span style='color:#377063;
text-decoration:none'>cryptography</span></a><a
href="https://cryptography.io/en/latest/"><span style='color:black;text-decoration:
none'>:</span></a> 36.0.0 <span style='font-family:"Cambria",serif'>&#8594; </span>37.0.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://www.pyopenssl.org/en/stable/"><span style='color:#377063;
text-decoration:none'>pyOpenSSL</span></a><a
href="https://www.pyopenssl.org/en/stable/"><span style='color:black;
text-decoration:none'>:</span></a> 21.0.0 <span style='font-family:"Cambria",serif'>&#8594;
</span>22.0.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>:</span></a>
4.4.1 <span style='font-family:"Cambria",serif'>&#8594; </span>4.6.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed setuptools from
the dependency list. (<a href="https://github.com/scrapy/scrapy/issues/6487"><span
style='color:#377063;text-decoration:none'>issue 6487</span></a><a
href="https://github.com/scrapy/scrapy/issues/6487"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>User-defined cookies
for HTTPS requests will have the secure flag set to True unless it’s set to False
explictly. This is important when these cookies are reused in HTTP requests,
e.g. after a redirect to an HTTP URL. (<a
href="https://github.com/scrapy/scrapy/issues/6357"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6357"><span style='color:#377063;
text-decoration:none'>6357</span></a><a
href="https://github.com/scrapy/scrapy/issues/6357"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The Reppy-based robots.txt
parser, scrapy.robotstxt.ReppyRobotParser, was removed, as it doesn’t support
Python 3.9+. (<a href="https://github.com/scrapy/scrapy/issues/5230"><span
style='color:#377063;text-decoration:none'>issue 5230</span></a><a
href="https://github.com/scrapy/scrapy/issues/5230"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6099"><span style='color:#377063;
text-decoration:none'>issue 6099</span></a><a
href="https://github.com/scrapy/scrapy/issues/6099"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6499"><span style='color:#377063;
text-decoration:none'>issue 6499</span></a><a
href="https://github.com/scrapy/scrapy/issues/6499"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The initialization
API of scrapy.pipelines.media.MediaPipeline and its subclasses was improved and
it’s possible that some previously working usage scenarios will no longer work.
It can only affect you if you define custom subclasses of MediaPipeline or
create instances of these pipelines via from_settings() or __init__() calls
instead of from_crawler() calls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:25.4pt'>Previously, MediaPipeline.from_crawler() called the from_settings()
method if it existed or the __init__() method otherwise, and then did some
additional initialization using the crawler instance. If the from_settings() method
existed (like in FilesPipeline) it called __init__() to create the instance. It
wasn’t possible to override from_crawler() without calling MediaPipeline.from_crawler()
from it which, in turn, couldn’t be called in some cases (including subclasses
of FilesPipeline).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:25.4pt'>Now, in line with the general usage of from_crawler() and from_settings()
and the deprecation of the latter the recommended initialization order is the
following one:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>All __init__() methods
should take a crawler argument. If they also take a settings argument they
should ignore it, using crawler.settings instead. When they call __init__() of
the base class they should pass the crawler argument to it too.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>A from_settings()
method shouldn’t be defined. Class-specific initialization code should go into
either an overriden from_crawler() method or into __init__().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>It’s now
possible to override from_crawler() and it’s not necessary to call MediaPipeline.
from_crawler() in it if other recommendations were followed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If pipeline
instances were created with from_settings() or __init__() calls (which wasn’t
supported even before, as it missed important initialization code), they should
now be created with from_crawler() calls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The response_body argument
of ImagesPipeline.convert_image is now positional-only, as it was changed from
optional to required. (<a href="https://github.com/scrapy/scrapy/issues/6500"><span
style='color:#377063;text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The convert argument
of scrapy.utils.conf.build_component_list() is now positional-only, as the
preceding argument (custom) was removed. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
overwrite_output argument of scrapy.utils.conf.feed_process_params_from_cli() is
now</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:25.4pt'>positional-only, as the preceding argument (output_format)
was removed. (<a href="https://github.com/scrapy/scrapy/issues/6500"><span
style='color:#377063;text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.utils.request.request_fingerprint()
function, deprecated in Scrapy 2.7.0. (<a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:#377063;
text-decoration:none'>is</span></a><a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:#377063;
text-decoration:none'>sue 6212</span></a><a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:#377063;
text-decoration:none'>issue 6213</span></a><a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed support for
value &quot;2.6&quot; of setting REQUEST_FINGERPRINTER_IMPLEMENTATION,
deprecated in Scrapy 2.7.0. (<a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:#377063;
text-decoration:none'>issue 6212</span></a><a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:#377063;
text-decoration:none'>issue 6213</span></a><a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>RFPDupeFilter subclasses
now require supporting the fingerprinter parameter in their __init__ method,
introduced in Scrapy 2.7.0. (<a
href="https://github.com/scrapy/scrapy/issues/6102"><span style='color:#377063;
text-decoration:none'>issue 6102</span></a><a
href="https://github.com/scrapy/scrapy/issues/6102"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.downloadermiddlewares.decompression
module, deprecated in Scrapy 2.7.0. (<a
href="https://github.com/scrapy/scrapy/issues/6100"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6100"><span style='color:#377063;
text-decoration:none'>6100</span></a><a
href="https://github.com/scrapy/scrapy/issues/6100"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.utils.response.response_httprepr()
function, deprecated in Scrapy 2.6.0. (<a
href="https://github.com/scrapy/scrapy/issues/6111"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6111"><span style='color:#377063;
text-decoration:none'>6111</span></a><a
href="https://github.com/scrapy/scrapy/issues/6111"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6116"><span style='color:#377063;
text-decoration:none'>issue 6116</span></a><a
href="https://github.com/scrapy/scrapy/issues/6116"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spiders with
spider-level HTTP authentication, i.e. with the http_user or http_pass attributes,
must now define http_auth_domain as well, which was introduced in Scrapy 2.5.1.
(<a href="https://github.com/scrapy/scrapy/issues/6103"><span style='color:
#377063;text-decoration:none'>issue 6103</span></a><a
href="https://github.com/scrapy/scrapy/issues/6103"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:115%'><span
style='line-height:115%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Media pipelines </span></i>methods file_path(), file_downloaded(),
get_images(), image_downloaded(), media_downloaded(), media_to_download(), and thumb_path()
must now support an item parameter, added in Scrapy 2.4.0. (<a
href="https://github.com/scrapy/scrapy/issues/6107"><span style='color:#377063;
text-decoration:none'>issue 6107</span></a><a
href="https://github.com/scrapy/scrapy/issues/6107"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The __init__() and from_crawler()
methods of <i><span style='color:#355F7C'>feed storage backend classes </span></i>must
now support the keyword-only feed_options parameter, introduced in Scrapy
2.4.0. (<a href="https://github.com/scrapy/scrapy/issues/6105"><span
style='color:#377063;text-decoration:none'>issue 6105</span></a><a
href="https://github.com/scrapy/scrapy/issues/6105"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.loader.common
and scrapy.loader.processors modules, deprecated in Scrapy 2.3.0. (<a
href="https://github.com/scrapy/scrapy/issues/6106"><span style='color:#377063;
text-decoration:none'>issue 6106</span></a><a
href="https://github.com/scrapy/scrapy/issues/6106"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.utils.misc.extract_regex()
function, deprecated in Scrapy 2.3.0. (<a
href="https://github.com/scrapy/scrapy/issues/6106"><span style='color:#377063;
text-decoration:none'>issue 6106</span></a><a
href="https://github.com/scrapy/scrapy/issues/6106"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.http.JSONRequest
class, replaced with JsonRequest in Scrapy 1.8.0. (<a
href="https://github.com/scrapy/scrapy/issues/6110"><span style='color:#377063;
text-decoration:none'>issue 6110</span></a><a
href="https://github.com/scrapy/scrapy/issues/6110"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.log.logformatter_adapter
no longer supports missing args, level, or msg parameters, and no longer
supports a format parameter, all scenarios that were deprecated in Scrapy
1.0.0. (<a href="https://github.com/scrapy/scrapy/issues/6109"><span
style='color:#377063;text-decoration:none'>issue 6109</span></a><a
href="https://github.com/scrapy/scrapy/issues/6109"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6116"><span style='color:#377063;
text-decoration:none'>issue 6116</span></a><a
href="https://github.com/scrapy/scrapy/issues/6116"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A custom class
assigned to the <i><span style='color:#355F7C'>SPIDER_LOADER_CLASS </span></i>setting
that does not implement the ISpiderLoader interface will now raise a zope.interface.verify.DoesNotImplement
exception at run time. Non-compliant classes have been triggering a deprecation
warning since Scrapy 1.0.0. (<a
href="https://github.com/scrapy/scrapy/issues/6101"><span style='color:#377063;
text-decoration:none'>issue 6101</span></a><a
href="https://github.com/scrapy/scrapy/issues/6101"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:#377063;
text-decoration:none'>issue 6113</span></a><a
href="https://github.com/scrapy/scrapy/issues/6113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the --output-format/-t
command line option, deprecated in Scrapy 2.1.0. -O &lt;URI&gt;:&lt;FORMAT&gt; should
be used instead. (<a href="https://github.com/scrapy/scrapy/issues/6500"><span
style='color:#377063;text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Running <i><span
style='color:#355F7C'>crawl() </span></i>more than once on the same <i><span
style='color:#355F7C'>Crawler </span></i>instance, deprecated in Scrapy 2.11.0,
now raises an exception. (<a href="https://github.com/scrapy/scrapy/issues/6500"><span
style='color:#377063;text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Subclassing <i><span
style='color:#355F7C'>HttpCompressionMiddleware </span></i>without support for
the crawler argument in __init__() and without a custom from_crawler() method,
deprecated in Scrapy 2.5.0, is no longer allowed. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the EXCEPTIONS_TO_RETRY
attribute of <i><span style='color:#355F7C'>RetryMiddleware</span></i>,
deprecated in Scrapy 2.10.0.       (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed support for <i><span
style='color:#355F7C'>S3 feed exports </span></i>without the <a
href="https://github.com/boto/boto3"><span style='color:#377063;text-decoration:
none'>boto3</span></a><span style='color:#377063'> </span>package installed,
deprecated in Scrapy 2.10.0. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.extensions.feedexport._FeedSlot
class, deprecated in Scrapy 2.10.0. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the scrapy.pipelines.images.NoimagesDrop
exception, deprecated in Scrapy 2.8.0. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The response_body argument
of ImagesPipeline.convert_image is now required, not passing it was deprecated
in Scrapy 2.8.0. (<a href="https://github.com/scrapy/scrapy/issues/6500"><span
style='color:#377063;text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the custom argument
of scrapy.utils.conf.build_component_list(), deprecated in Scrapy 2.10.0. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed     the
scrapy.utils.reactor.get_asyncio_event_loop_policy() function,          deprecated             in</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:25.4pt'>Scrapy 2.9.0. Use <a
href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.get_event_loop"><span
style='color:#377063;text-decoration:none'>asyncio.get_event_loop()</span></a><span
style='color:#377063'> </span>and related standard library functions instead. (<a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:#377063;
text-decoration:none'>issue 6500</span></a><a
href="https://github.com/scrapy/scrapy/issues/6500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The from_settings() methods
of the <i><span style='color:#355F7C'>Scrapy components </span></i>that have
them are now deprecated. from_crawler() should now be used instead. Affected
components:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:112%'><span
style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.dupefilters.RFPDupeFilter</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.85pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>scrapy.mail.MailSender</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:112%'><span
style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.middleware.MiddlewareManager</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:112%'><span
style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.core.downloader.contextfactory.ScrapyClientContextFactory</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.85pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>scrapy.pipelines.files.FilesPipeline</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.85pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>scrapy.pipelines.images.ImagesPipeline</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.35pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>scrapy.spidermiddlewares.urllength.UrlLengthMiddleware</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.0pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>It’s now deprecated
to have a from_settings() method but no from_crawler() method in 3rd-party <i><span
style='color:#355F7C'>Scrapy components</span></i>. You can define a simple from_crawler()
method that calls cls.from_settings(crawler. settings) to fix this if you don’t
want to refactor the code. Note that if you have a from_crawler() method Scrapy
will not call the from_settings() method so the latter can be removed. (<a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The initialization
API of scrapy.pipelines.media.MediaPipeline and its subclasses was improved and
some old usage scenarios are now deprecated (see also the
“Backward-incompatible changes” section). Specifically:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>It’s deprecated
to define an __init__() method that doesn’t take a crawler argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>It’s deprecated
to call an __init__() method without passing a crawler argument. If it’s
passed, it’s also deprecated to pass a settings argument, which will be ignored
anyway.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Calling from_settings()
is deprecated, use from_crawler() instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.2pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:152%'><span
style='line-height:152%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Overriding from_settings() is deprecated, override from_crawler()
instead. <a href="https://github.com/scrapy/scrapy/issues/6540"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
REQUEST_FINGERPRINTER_IMPLEMENTATION setting is now deprecated. (<a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:#377063;
text-decoration:none'>issue 6212</span></a><a
href="https://github.com/scrapy/scrapy/issues/6212"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:#377063;
text-decoration:none'>issue 6213</span></a><a
href="https://github.com/scrapy/scrapy/issues/6213"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.misc.create_instance()
function is now deprecated, use <i><span style='color:#355F7C'>scrapy.utils.misc.
build_from_crawler() </span></i>instead. (<a
href="https://github.com/scrapy/scrapy/issues/5523"><span style='color:#377063;
text-decoration:none'>issue 5523</span></a><a
href="https://github.com/scrapy/scrapy/issues/5523"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5884"><span style='color:#377063;
text-decoration:none'>issue 5884</span></a><a
href="https://github.com/scrapy/scrapy/issues/5884"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6162"><span style='color:#377063;
text-decoration:none'>issue 6162</span></a><a
href="https://github.com/scrapy/scrapy/issues/6162"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6169"><span style='color:#377063;
text-decoration:none'>issue 6169</span></a><a
href="https://github.com/scrapy/scrapy/issues/6169"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.core.downloader.Downloader._get_slot_key()
is deprecated, use scrapy.core. downloader.Downloader.get_slot_key() instead. (<a
href="https://github.com/scrapy/scrapy/issues/6340"><span style='color:#377063;
text-decoration:none'>issue 6340</span></a><a
href="https://github.com/scrapy/scrapy/issues/6340"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6352"><span style='color:#377063;
text-decoration:none'>issue 6352</span></a><a
href="https://github.com/scrapy/scrapy/issues/6352"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.defer.process_chain_both()
is now deprecated. (<a href="https://github.com/scrapy/scrapy/issues/6397"><span
style='color:#377063;text-decoration:none'>issue 6397</span></a><a
href="https://github.com/scrapy/scrapy/issues/6397"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.twisted_version
is now deprecated, you should instead use twisted.version directly (but note
that it’s an incremental.Version object, not a tuple). (<a
href="https://github.com/scrapy/scrapy/issues/6509"><span style='color:#377063;
text-decoration:none'>issue 6509</span></a><a
href="https://github.com/scrapy/scrapy/issues/6509"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6512"><span style='color:#377063;
text-decoration:none'>issue 6512</span></a><a
href="https://github.com/scrapy/scrapy/issues/6512"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.python.flatten()
and scrapy.utils.python.iflatten() are now deprecated. (<a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:#377063;
text-decoration:none'>6517</span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:#377063;
text-decoration:none'>issue 6519</span></a><a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.python.equal_attributes()
is now deprecated. (<a href="https://github.com/scrapy/scrapy/issues/6517"><span
style='color:#377063;text-decoration:none'>issue 6517</span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:#377063;
text-decoration:none'>issue 6519</span></a><a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.request.request_authenticate()
is now deprecated, you should instead just set the Authorization header
directly. (<a href="https://github.com/scrapy/scrapy/issues/6517"><span
style='color:#377063;text-decoration:none'>issue 6517</span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:#377063;
text-decoration:none'>issue 6519</span></a><a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.serialize.ScrapyJSONDecoder
is now deprecated, it didn’t contain any code since Scrapy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:25.4pt;line-height:110%'>1.0.0. (<a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:#377063;
text-decoration:none'>issue 6517</span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:#377063;
text-decoration:none'>issue 6519</span></a><a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.test.assert_samelines()
is now deprecated. (<a href="https://github.com/scrapy/scrapy/issues/6517"><span
style='color:#377063;text-decoration:none'>issue 6517</span></a><a
href="https://github.com/scrapy/scrapy/issues/6517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:#377063;
text-decoration:none'>issue 6519</span></a><a
href="https://github.com/scrapy/scrapy/issues/6519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.extensions.feedexport.build_storage()
is now deprecated. You can instead call the builder callable directly. (<a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:#377063;
text-decoration:none'>issue 6540</span></a><a
href="https://github.com/scrapy/scrapy/issues/6540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>start_requests() </span></i>can now yield items. (<a
href="https://github.com/scrapy/scrapy/issues/5289"><span style='color:#377063;
text-decoration:none'>issue 5289</span></a><a
href="https://github.com/scrapy/scrapy/issues/5289"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6417"><span style='color:#377063;
text-decoration:none'>issue 6417</span></a><a
href="https://github.com/scrapy/scrapy/issues/6417"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a new <i><span
style='color:#355F7C'>Response </span></i>subclass, <i><span style='color:#355F7C'>JsonResponse</span></i>,
for responses with a <a href="https://mimesniff.spec.whatwg.org/#json-mime-type"><span
style='color:#377063;text-decoration:none'>JSON MIME type</span></a><a
href="https://mimesniff.spec.whatwg.org/#json-mime-type"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6069"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6069"><span style='color:#377063;
text-decoration:none'>issue 6069</span></a><a
href="https://github.com/scrapy/scrapy/issues/6069"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6171"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6171"><span style='color:#377063;
text-decoration:none'>6171</span></a><a
href="https://github.com/scrapy/scrapy/issues/6171"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6174"><span style='color:#377063;
text-decoration:none'>issue 6174</span></a><a
href="https://github.com/scrapy/scrapy/issues/6174"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>LogStats </span></i>extension now adds items_per_minute and
responses_per_minute to the <i><span style='color:#355F7C'>stats </span></i>when
the spider closes. (<a href="https://github.com/scrapy/scrapy/issues/4110"><span
style='color:#377063;text-decoration:none'>issue 4110</span></a><a
href="https://github.com/scrapy/scrapy/issues/4110"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4111"><span style='color:#377063;
text-decoration:none'>issue 4111</span></a><a
href="https://github.com/scrapy/scrapy/issues/4111"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>CLOSESPIDER_PAGECOUNT_NO_ITEM </span></i>which allows
closing the spider if no items were scraped in a set amount of time. (<a
href="https://github.com/scrapy/scrapy/issues/6434"><span style='color:#377063;
text-decoration:none'>issue 6434</span></a><a
href="https://github.com/scrapy/scrapy/issues/6434"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>User-defined cookies
can now include the secure field. (<a
href="https://github.com/scrapy/scrapy/issues/6357"><span style='color:#377063;
text-decoration:none'>issue 6357</span></a><a
href="https://github.com/scrapy/scrapy/issues/6357"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:129%'><span
style='line-height:129%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
component getters to <i><span style='color:#355F7C'>Crawler</span></i>: <i><span
style='color:#355F7C'>get_addon()</span></i>, <i><span style='color:#355F7C'>get_downloader_middleware()</span></i>,
<i><span style='color:#355F7C'>get_extension()</span></i>, <i><span
style='color:#355F7C'>get_item_pipeline()</span></i>, <i><span
style='color:#355F7C'>get_spider_middleware()</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/6181"><span style='color:#377063;
text-decoration:none'>issue 6181</span></a><a
href="https://github.com/scrapy/scrapy/issues/6181"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Slot delay updates by
the <i><span style='color:#355F7C'>AutoThrottle extension </span></i>based on
response latencies can now be disabled for specific requests via the <i><span
style='color:#355F7C'>autothrottle_dont_adjust_delay </span></i>meta key. (<a
href="https://github.com/scrapy/scrapy/issues/6246"><span style='color:#377063;
text-decoration:none'>issue 6246</span></a><a
href="https://github.com/scrapy/scrapy/issues/6246"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6527"><span style='color:#377063;
text-decoration:none'>issue 6527</span></a><a
href="https://github.com/scrapy/scrapy/issues/6527"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If <i><span
style='color:#355F7C'>SPIDER_LOADER_WARN_ONLY </span></i>is set to True, <i><span
style='color:#355F7C'>SpiderLoader </span></i>does not raise <a
href="https://docs.python.org/3/library/exceptions.html#SyntaxError"><span
style='color:#377063;text-decoration:none'>SyntaxError</span></a><span
style='color:#377063'> </span>but emits a warning instead. (<a
href="https://github.com/scrapy/scrapy/issues/6483"><span style='color:#377063;
text-decoration:none'>issue 6483</span></a><a
href="https://github.com/scrapy/scrapy/issues/6483"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6484"><span style='color:#377063;
text-decoration:none'>issue 6484</span></a><a
href="https://github.com/scrapy/scrapy/issues/6484"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
multiple-compressed responses (ones with several encodings in the Content-Encoding
header). (<a href="https://github.com/scrapy/scrapy/issues/5143"><span
style='color:#377063;text-decoration:none'>issue 5143</span></a><a
href="https://github.com/scrapy/scrapy/issues/5143"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5964"><span style='color:#377063;
text-decoration:none'>issue 5964</span></a><a
href="https://github.com/scrapy/scrapy/issues/5964"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6063"><span style='color:#377063;
text-decoration:none'>issue 6063</span></a><a
href="https://github.com/scrapy/scrapy/issues/6063"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
multiple standard values in <i><span style='color:#355F7C'>REFERRER_POLICY</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/6381"><span style='color:
#377063;text-decoration:none'>issue 6381</span></a><a
href="https://github.com/scrapy/scrapy/issues/6381"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for <a
href="https://github.com/python-hyper/brotlicffi"><span style='color:#377063;
text-decoration:none'>brotlicffi</span></a><span style='color:#377063'> </span>(previously
named <a href="https://github.com/python-hyper/brotlipy/"><span
style='color:#377063;text-decoration:none'>brotlipy</span></a><a
href="https://github.com/python-hyper/brotlipy/"><span style='color:black;
text-decoration:none'>)</span></a>. <a href="https://github.com/google/brotli"><span
style='color:#377063;text-decoration:none'>brotli</span></a><span
style='color:#377063'> </span>is still recommended but only <a
href="https://github.com/python-hyper/brotlicffi"><span style='color:#377063;
text-decoration:none'>brotlicffi</span></a><span style='color:#377063'> </span>works
on PyPy. (<a href="https://github.com/scrapy/scrapy/issues/6263"><span
style='color:#377063;text-decoration:none'>issue 6263</span></a><a
href="https://github.com/scrapy/scrapy/issues/6263"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6269"><span style='color:#377063;
text-decoration:none'>issue 6269</span></a><a
href="https://github.com/scrapy/scrapy/issues/6269"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>MetadataContract </span></i>that sets the request meta. (<a
href="https://github.com/scrapy/scrapy/issues/6468"><span style='color:#377063;
text-decoration:none'>issue 6468</span></a><a
href="https://github.com/scrapy/scrapy/issues/6468"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6469"><span style='color:#377063;
text-decoration:none'>issue 6469</span></a><a
href="https://github.com/scrapy/scrapy/issues/6469"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended the list of
file extensions that <i><span style='color:#355F7C'>LinkExtractor </span></i>ignores
by default. (<a href="https://github.com/scrapy/scrapy/issues/6074"><span
style='color:#377063;text-decoration:none'>issue 6074</span></a><a
href="https://github.com/scrapy/scrapy/issues/6074"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6125"><span style='color:#377063;
text-decoration:none'>issue 6125</span></a><a
href="https://github.com/scrapy/scrapy/issues/6125"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.httpobj.urlparse_cached()
is now used in more places instead of <a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse"><span
style='color:#377063;text-decoration:none'>urllib.parse.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.9pt;
margin-left:25.4pt;line-height:110%'><a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse"><span
style='color:#377063;text-decoration:none'>urlparse()</span></a><a
href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlparse"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6228"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6228"><span style='color:#377063;
text-decoration:none'>issue 6228</span></a><a
href="https://github.com/scrapy/scrapy/issues/6228"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6229"><span style='color:#377063;
text-decoration:none'>issue 6229</span></a><a
href="https://github.com/scrapy/scrapy/issues/6229"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MediaPipeline is now
an abstract class and its methods that were expected to be overridden in
subclasses are now abstract methods. (<a
href="https://github.com/scrapy/scrapy/issues/6365"><span style='color:#377063;
text-decoration:none'>issue 6365</span></a><a
href="https://github.com/scrapy/scrapy/issues/6365"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6368"><span style='color:#377063;
text-decoration:none'>issue 6368</span></a><a
href="https://github.com/scrapy/scrapy/issues/6368"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed handling of
invalid @-prefixed lines in contract extraction. (<a
href="https://github.com/scrapy/scrapy/issues/6383"><span style='color:#377063;
text-decoration:none'>issue 6383</span></a><a
href="https://github.com/scrapy/scrapy/issues/6383"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6388"><span style='color:#377063;
text-decoration:none'>issue 6388</span></a><a
href="https://github.com/scrapy/scrapy/issues/6388"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Importing scrapy.extensions.telnet
no longer installs the default reactor. (<a
href="https://github.com/scrapy/scrapy/issues/6432"><span style='color:#377063;
text-decoration:none'>issue 6432</span></a><a
href="https://github.com/scrapy/scrapy/issues/6432"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reduced log verbosity
for dropped requests that was increased in 2.11.2. (<a
href="https://github.com/scrapy/scrapy/issues/6433"><span style='color:#377063;
text-decoration:none'>issue 6433</span></a><a
href="https://github.com/scrapy/scrapy/issues/6433"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6475"><span style='color:#377063;
text-decoration:none'>issue 6475</span></a><a
href="https://github.com/scrapy/scrapy/issues/6475"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added SECURITY.md that
documents the security policy. (<a
href="https://github.com/scrapy/scrapy/issues/5364"><span style='color:#377063;
text-decoration:none'>issue 5364</span></a><a
href="https://github.com/scrapy/scrapy/issues/5364"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6051"><span style='color:#377063;
text-decoration:none'>issue 6051</span></a><a
href="https://github.com/scrapy/scrapy/issues/6051"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Example code for <i><span
style='color:#355F7C'>running Scrapy from a script </span></i>no longer imports
twisted.internet.reactor at the top level, which caused problems with
non-default reactors when this code was used unmodified. (<a
href="https://github.com/scrapy/scrapy/issues/6361"><span style='color:#377063;
text-decoration:none'>issue 6361</span></a><a
href="https://github.com/scrapy/scrapy/issues/6361"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6374"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6374"><span style='color:#377063;
text-decoration:none'>6374</span></a><a
href="https://github.com/scrapy/scrapy/issues/6374"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented the <i><span
style='color:#355F7C'>SpiderState </span></i>extension. (<a
href="https://github.com/scrapy/scrapy/issues/6278"><span style='color:#377063;
text-decoration:none'>issue 6278</span></a><a
href="https://github.com/scrapy/scrapy/issues/6278"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6522"><span style='color:#377063;
text-decoration:none'>issue 6522</span></a><a
href="https://github.com/scrapy/scrapy/issues/6522"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:103.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other
documentation improvements and fixes. (<a
href="https://github.com/scrapy/scrapy/issues/5920"><span style='color:#377063;
text-decoration:none'>issue 5920</span></a><a
href="https://github.com/scrapy/scrapy/issues/5920"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6094"><span style='color:#377063;
text-decoration:none'>issue 6094</span></a><a
href="https://github.com/scrapy/scrapy/issues/6094"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6177"><span style='color:#377063;
text-decoration:none'>issue 6177</span></a><a
href="https://github.com/scrapy/scrapy/issues/6177"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6200"><span style='color:#377063;
text-decoration:none'>issue 6200</span></a><a
href="https://github.com/scrapy/scrapy/issues/6200"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6207"><span style='color:#377063;
text-decoration:none'>issue 6207</span></a><a
href="https://github.com/scrapy/scrapy/issues/6207"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6216"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6216"><span style='color:#377063;
text-decoration:none'>6216</span></a><a
href="https://github.com/scrapy/scrapy/issues/6216"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6223"><span style='color:#377063;
text-decoration:none'>issue 6223</span></a><a
href="https://github.com/scrapy/scrapy/issues/6223"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6317"><span style='color:#377063;
text-decoration:none'>issue 6317</span></a><a
href="https://github.com/scrapy/scrapy/issues/6317"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6328"><span style='color:#377063;
text-decoration:none'>issue 6328</span></a><a
href="https://github.com/scrapy/scrapy/issues/6328"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6389"><span style='color:#377063;
text-decoration:none'>issue 6389</span></a><a
href="https://github.com/scrapy/scrapy/issues/6389"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6394"><span style='color:#377063;
text-decoration:none'>issue 6394</span></a><a
href="https://github.com/scrapy/scrapy/issues/6394"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6402"><span style='color:#377063;
text-decoration:none'>issue 6402</span></a><a
href="https://github.com/scrapy/scrapy/issues/6402"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6411"><span style='color:#377063;
text-decoration:none'>issue 6411</span></a><a
href="https://github.com/scrapy/scrapy/issues/6411"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6427"><span style='color:#377063;
text-decoration:none'>issue 6427</span></a><a
href="https://github.com/scrapy/scrapy/issues/6427"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6429"><span style='color:#377063;
text-decoration:none'>issue 6429</span></a><a
href="https://github.com/scrapy/scrapy/issues/6429"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6440"><span style='color:#377063;
text-decoration:none'>issue 6440</span></a><a
href="https://github.com/scrapy/scrapy/issues/6440"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6448"><span style='color:#377063;
text-decoration:none'>issue 6448</span></a><a
href="https://github.com/scrapy/scrapy/issues/6448"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6449"><span style='color:#377063;
text-decoration:none'>issue 6449</span></a><a
href="https://github.com/scrapy/scrapy/issues/6449"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6462"><span style='color:#377063;
text-decoration:none'>issue 6462</span></a><a
href="https://github.com/scrapy/scrapy/issues/6462"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6497"><span style='color:#377063;
text-decoration:none'>issue 6497</span></a><a
href="https://github.com/scrapy/scrapy/issues/6497"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6506"><span style='color:#377063;
text-decoration:none'>issue 6506</span></a><a
href="https://github.com/scrapy/scrapy/issues/6506"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6507"><span style='color:#377063;
text-decoration:none'>issue 6507</span></a><a
href="https://github.com/scrapy/scrapy/issues/6507"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6524"><span style='color:#377063;
text-decoration:none'>issue 6524</span></a><a
href="https://github.com/scrapy/scrapy/issues/6524"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
py.typed, in line with <a href="https://peps.python.org/pep-0561/"><span
style='color:#377063;text-decoration:none'>PEP 561</span></a><a
href="https://peps.python.org/pep-0561/"><span style='color:black;text-decoration:
none'>.</span></a> <a href="https://github.com/scrapy/scrapy/issues/6058"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6058"><span style='color:#377063;
text-decoration:none'>issue 6058</span></a><a
href="https://github.com/scrapy/scrapy/issues/6058"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6059"><span style='color:#377063;
text-decoration:none'>issue 6059</span></a><a
href="https://github.com/scrapy/scrapy/issues/6059"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fully
covered the code with type hints (except for the most complicated parts, mostly
related to twisted.web. http and other Twisted parts without type hints). (<a
href="https://github.com/scrapy/scrapy/issues/5989"><span style='color:#377063;
text-decoration:none'>issue 5989</span></a><a
href="https://github.com/scrapy/scrapy/issues/5989"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6097"><span style='color:#377063;
text-decoration:none'>issue 6097</span></a><a
href="https://github.com/scrapy/scrapy/issues/6097"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6127"><span style='color:#377063;
text-decoration:none'>issue 6127</span></a><a
href="https://github.com/scrapy/scrapy/issues/6127"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6129"><span style='color:#377063;
text-decoration:none'>issue 6129</span></a><a
href="https://github.com/scrapy/scrapy/issues/6129"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6130"><span style='color:#377063;
text-decoration:none'>issue 6130</span></a><a
href="https://github.com/scrapy/scrapy/issues/6130"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6133"><span style='color:#377063;
text-decoration:none'>issue 6133</span></a><a
href="https://github.com/scrapy/scrapy/issues/6133"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6143"><span style='color:#377063;
text-decoration:none'>issue 6143</span></a><a
href="https://github.com/scrapy/scrapy/issues/6143"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6191"><span style='color:#377063;
text-decoration:none'>issue 6191</span></a><a
href="https://github.com/scrapy/scrapy/issues/6191"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6268"><span style='color:#377063;
text-decoration:none'>issue 6268</span></a><a
href="https://github.com/scrapy/scrapy/issues/6268"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6274"><span style='color:#377063;
text-decoration:none'>issue 6274</span></a><a
href="https://github.com/scrapy/scrapy/issues/6274"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6275"><span style='color:#377063;
text-decoration:none'>issue 6275</span></a><a
href="https://github.com/scrapy/scrapy/issues/6275"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6276"><span style='color:#377063;
text-decoration:none'>issue 6276</span></a><a
href="https://github.com/scrapy/scrapy/issues/6276"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6279"><span style='color:#377063;
text-decoration:none'>issue 6279</span></a><a
href="https://github.com/scrapy/scrapy/issues/6279"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6325"><span style='color:#377063;
text-decoration:none'>issue 6325</span></a><a
href="https://github.com/scrapy/scrapy/issues/6325"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6326"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6326"><span style='color:#377063;
text-decoration:none'>6326</span></a><a
href="https://github.com/scrapy/scrapy/issues/6326"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6333"><span style='color:#377063;
text-decoration:none'>issue 6333</span></a><a
href="https://github.com/scrapy/scrapy/issues/6333"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6335"><span style='color:#377063;
text-decoration:none'>issue 6335</span></a><a
href="https://github.com/scrapy/scrapy/issues/6335"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6336"><span style='color:#377063;
text-decoration:none'>issue 6336</span></a><a
href="https://github.com/scrapy/scrapy/issues/6336"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6337"><span style='color:#377063;
text-decoration:none'>issue 6337</span></a><a
href="https://github.com/scrapy/scrapy/issues/6337"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6341"><span style='color:#377063;
text-decoration:none'>issue 6341</span></a><a
href="https://github.com/scrapy/scrapy/issues/6341"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6353"><span style='color:#377063;
text-decoration:none'>issue 6353</span></a><a
href="https://github.com/scrapy/scrapy/issues/6353"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6356"><span style='color:#377063;
text-decoration:none'>issue 6356</span></a><a
href="https://github.com/scrapy/scrapy/issues/6356"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6370"><span style='color:#377063;
text-decoration:none'>issue 6370</span></a><a
href="https://github.com/scrapy/scrapy/issues/6370"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6371"><span style='color:#377063;
text-decoration:none'>issue 6371</span></a><a
href="https://github.com/scrapy/scrapy/issues/6371"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6384"><span style='color:#377063;
text-decoration:none'>issue 6384</span></a><a
href="https://github.com/scrapy/scrapy/issues/6384"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6385"><span style='color:#377063;
text-decoration:none'>issue 6385</span></a><a
href="https://github.com/scrapy/scrapy/issues/6385"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6387"><span style='color:#377063;
text-decoration:none'>issue 6387</span></a><a
href="https://github.com/scrapy/scrapy/issues/6387"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6391"><span style='color:#377063;
text-decoration:none'>issue 6391</span></a><a
href="https://github.com/scrapy/scrapy/issues/6391"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6395"><span style='color:#377063;
text-decoration:none'>issue 6395</span></a><a
href="https://github.com/scrapy/scrapy/issues/6395"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6414"><span style='color:#377063;
text-decoration:none'>issue 6414</span></a><a
href="https://github.com/scrapy/scrapy/issues/6414"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6422"><span style='color:#377063;
text-decoration:none'>issue 6422</span></a><a
href="https://github.com/scrapy/scrapy/issues/6422"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6460"><span style='color:#377063;
text-decoration:none'>issue 6460</span></a><a
href="https://github.com/scrapy/scrapy/issues/6460"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6466"><span style='color:#377063;
text-decoration:none'>issue 6466</span></a><a
href="https://github.com/scrapy/scrapy/issues/6466"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6472"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6472"><span style='color:#377063;
text-decoration:none'>6472</span></a><a
href="https://github.com/scrapy/scrapy/issues/6472"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6494"><span style='color:#377063;
text-decoration:none'>issue 6494</span></a><a
href="https://github.com/scrapy/scrapy/issues/6494"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6498"><span style='color:#377063;
text-decoration:none'>issue 6498</span></a><a
href="https://github.com/scrapy/scrapy/issues/6498"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6516"><span style='color:#377063;
text-decoration:none'>issue 6516</span></a><a
href="https://github.com/scrapy/scrapy/issues/6516"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
<a href="https://bandit.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>Bandit</span></a><span style='color:#377063'> </span>checks.
(<a href="https://github.com/scrapy/scrapy/issues/6260"><span style='color:
#377063;text-decoration:none'>issue 6260</span></a><a
href="https://github.com/scrapy/scrapy/issues/6260"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6264"><span style='color:#377063;
text-decoration:none'>issue 6264</span></a><a
href="https://github.com/scrapy/scrapy/issues/6264"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6265"><span style='color:#377063;
text-decoration:none'>issue 6265</span></a><a
href="https://github.com/scrapy/scrapy/issues/6265"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <a
href="https://github.com/asottile/pyupgrade"><span style='color:#377063;
text-decoration:none'>pyupgrade</span></a><span style='color:#377063'> </span>to
the pre-commit configuration. (<a
href="https://github.com/scrapy/scrapy/issues/6392"><span style='color:#377063;
text-decoration:none'>issue 6392</span></a><a
href="https://github.com/scrapy/scrapy/issues/6392"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
flake8-bugbear, flake8-comprehensions, flake8-debugger, flake8-docstrings, flake8-string-format
and flake8-type-checking to the pre-commit configuration.          (<a
href="https://github.com/scrapy/scrapy/issues/6406"><span style='color:#377063;
text-decoration:none'>issue 6406</span></a><a
href="https://github.com/scrapy/scrapy/issues/6406"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6413"><span style='color:#377063;
text-decoration:none'>issue 6413</span></a><a
href="https://github.com/scrapy/scrapy/issues/6413"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CI
and test improvements and fixes. (<a
href="https://github.com/scrapy/scrapy/issues/5285"><span style='color:#377063;
text-decoration:none'>issue 5285</span></a><a
href="https://github.com/scrapy/scrapy/issues/5285"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5454"><span style='color:#377063;
text-decoration:none'>issue 5454</span></a><a
href="https://github.com/scrapy/scrapy/issues/5454"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5997"><span style='color:#377063;
text-decoration:none'>issue 5997</span></a><a
href="https://github.com/scrapy/scrapy/issues/5997"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6078"><span style='color:#377063;
text-decoration:none'>issue 6078</span></a><a
href="https://github.com/scrapy/scrapy/issues/6078"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6084"><span style='color:#377063;
text-decoration:none'>issue 6084</span></a><a
href="https://github.com/scrapy/scrapy/issues/6084"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6087"><span style='color:#377063;
text-decoration:none'>issue 6087</span></a><a
href="https://github.com/scrapy/scrapy/issues/6087"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6132"><span style='color:#377063;
text-decoration:none'>issue 6132</span></a><a
href="https://github.com/scrapy/scrapy/issues/6132"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6153"><span style='color:#377063;
text-decoration:none'>issue 6153</span></a><a
href="https://github.com/scrapy/scrapy/issues/6153"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6154"><span style='color:#377063;
text-decoration:none'>issue 6154</span></a><a
href="https://github.com/scrapy/scrapy/issues/6154"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6201"><span style='color:#377063;
text-decoration:none'>issue 6201</span></a><a
href="https://github.com/scrapy/scrapy/issues/6201"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6231"><span style='color:#377063;
text-decoration:none'>issue 6231</span></a><a
href="https://github.com/scrapy/scrapy/issues/6231"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6232"><span style='color:#377063;
text-decoration:none'>issue 6232</span></a><a
href="https://github.com/scrapy/scrapy/issues/6232"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6235"><span style='color:#377063;
text-decoration:none'>issue 6235</span></a><a
href="https://github.com/scrapy/scrapy/issues/6235"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6236"><span style='color:#377063;
text-decoration:none'>issue 6236</span></a><a
href="https://github.com/scrapy/scrapy/issues/6236"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6242"><span style='color:#377063;
text-decoration:none'>issue 6242</span></a><a
href="https://github.com/scrapy/scrapy/issues/6242"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6245"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6245"><span style='color:#377063;
text-decoration:none'>6245</span></a><a
href="https://github.com/scrapy/scrapy/issues/6245"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6253"><span style='color:#377063;
text-decoration:none'>issue 6253</span></a><a
href="https://github.com/scrapy/scrapy/issues/6253"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6258"><span style='color:#377063;
text-decoration:none'>issue 6258</span></a><a
href="https://github.com/scrapy/scrapy/issues/6258"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6259"><span style='color:#377063;
text-decoration:none'>issue 6259</span></a><a
href="https://github.com/scrapy/scrapy/issues/6259"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6270"><span style='color:#377063;
text-decoration:none'>issue 6270</span></a><a
href="https://github.com/scrapy/scrapy/issues/6270"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6272"><span style='color:#377063;
text-decoration:none'>issue 6272</span></a><a
href="https://github.com/scrapy/scrapy/issues/6272"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6286"><span style='color:#377063;
text-decoration:none'>issue 6286</span></a><a
href="https://github.com/scrapy/scrapy/issues/6286"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6290"><span style='color:#377063;
text-decoration:none'>issue 6290</span></a><a
href="https://github.com/scrapy/scrapy/issues/6290"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6296"><span style='color:#377063;
text-decoration:none'>issue 6296</span></a><span style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/6367"><span style='color:#377063;
text-decoration:none'>issue 6367</span></a><a
href="https://github.com/scrapy/scrapy/issues/6367"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6372"><span style='color:#377063;
text-decoration:none'>issue 6372</span></a><a
href="https://github.com/scrapy/scrapy/issues/6372"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6403"><span style='color:#377063;
text-decoration:none'>issue 6403</span></a><a
href="https://github.com/scrapy/scrapy/issues/6403"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6416"><span style='color:#377063;
text-decoration:none'>issue 6416</span></a><a
href="https://github.com/scrapy/scrapy/issues/6416"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6435"><span style='color:#377063;
text-decoration:none'>issue 6435</span></a><a
href="https://github.com/scrapy/scrapy/issues/6435"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6489"><span style='color:#377063;
text-decoration:none'>issue 6489</span></a><a
href="https://github.com/scrapy/scrapy/issues/6489"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6501"><span style='color:#377063;
text-decoration:none'>issue 6501</span></a><a
href="https://github.com/scrapy/scrapy/issues/6501"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6504"><span style='color:#377063;
text-decoration:none'>issue 6504</span></a><a
href="https://github.com/scrapy/scrapy/issues/6504"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6511"><span style='color:#377063;
text-decoration:none'>issue 6511</span></a><a
href="https://github.com/scrapy/scrapy/issues/6511"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6543"><span style='color:#377063;
text-decoration:none'>issue 6543</span></a><a
href="https://github.com/scrapy/scrapy/issues/6543"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6545"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6545"><span style='color:#377063;
text-decoration:none'>6545</span></a><a
href="https://github.com/scrapy/scrapy/issues/6545"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Code
cleanups. (<a href="https://github.com/scrapy/scrapy/issues/6196"><span
style='color:#377063;text-decoration:none'>issue 6196</span></a><a
href="https://github.com/scrapy/scrapy/issues/6196"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6197"><span style='color:#377063;
text-decoration:none'>issue 6197</span></a><a
href="https://github.com/scrapy/scrapy/issues/6197"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6198"><span style='color:#377063;
text-decoration:none'>issue 6198</span></a><a
href="https://github.com/scrapy/scrapy/issues/6198"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6199"><span style='color:#377063;
text-decoration:none'>issue 6199</span></a><a
href="https://github.com/scrapy/scrapy/issues/6199"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6254"><span style='color:#377063;
text-decoration:none'>issue 6254</span></a><a
href="https://github.com/scrapy/scrapy/issues/6254"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6257"><span style='color:#377063;
text-decoration:none'>issue 6257</span></a><a
href="https://github.com/scrapy/scrapy/issues/6257"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6285"><span style='color:#377063;
text-decoration:none'>issue 6285</span></a><a
href="https://github.com/scrapy/scrapy/issues/6285"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6305"><span style='color:#377063;
text-decoration:none'>issue 6305</span></a><a
href="https://github.com/scrapy/scrapy/issues/6305"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6343"><span style='color:#377063;
text-decoration:none'>issue 6343</span></a><a
href="https://github.com/scrapy/scrapy/issues/6343"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6349"><span style='color:#377063;
text-decoration:none'>issue 6349</span></a><a
href="https://github.com/scrapy/scrapy/issues/6349"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6386"><span style='color:#377063;
text-decoration:none'>issue 6386</span></a><a
href="https://github.com/scrapy/scrapy/issues/6386"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6415"><span style='color:#377063;
text-decoration:none'>issue 6415</span></a><a
href="https://github.com/scrapy/scrapy/issues/6415"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6463"><span style='color:#377063;
text-decoration:none'>issue 6463</span></a><a
href="https://github.com/scrapy/scrapy/issues/6463"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6470"><span style='color:#377063;
text-decoration:none'>issue 6470</span></a><a
href="https://github.com/scrapy/scrapy/issues/6470"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6499"><span style='color:#377063;
text-decoration:none'>issue 6499</span></a><a
href="https://github.com/scrapy/scrapy/issues/6499"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6505"><span style='color:#377063;
text-decoration:none'>issue 6505</span></a><a
href="https://github.com/scrapy/scrapy/issues/6505"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6510"><span style='color:#377063;
text-decoration:none'>issue 6510</span></a><a
href="https://github.com/scrapy/scrapy/issues/6510"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6531"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6531"><span style='color:#377063;
text-decoration:none'>6531</span></a><a
href="https://github.com/scrapy/scrapy/issues/6531"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6542"><span style='color:#377063;
text-decoration:none'>issue 6542</span></a><a
href="https://github.com/scrapy/scrapy/issues/6542"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Issue tracker
improvements. (<a href="https://github.com/scrapy/scrapy/issues/6066"><span
style='color:#377063;text-decoration:none'>issue 6066</span></a><a
href="https://github.com/scrapy/scrapy/issues/6066"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.2 Scrapy 2.11.2
(2024-05-14)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Security
bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Redirects to non-HTTP
protocols are no longer followed. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-23j4-mw76-5v7h"><span
style='color:#377063;text-decoration:none'>23j4-mw76-5v7h security advisory</span></a><span
style='color:#377063'> </span>for more information. (<a
href="https://github.com/scrapy/scrapy/issues/457"><span style='color:#377063;
text-decoration:none'>issue 457</span></a><a
href="https://github.com/scrapy/scrapy/issues/457"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The Authorization header
is now dropped on redirects to a different scheme (http:// or https://) or
port, even if the domain is the same. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-4qqq-9vqf-3h3f"><span
style='color:#377063;text-decoration:none'>4qqq-9vqf-3h3f security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using system
proxy settings that are different for http:// and https://, redirects to a
different URL scheme will now also trigger the corresponding change in proxy
settings for the redirected request. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-jm3v-qxmh-hxwv"><span
style='color:#377063;text-decoration:none'>jm3v-qxmh-hxwv security advisory</span></a><span
style='color:#377063'> </span>for more information. (<a
href="https://github.com/scrapy/scrapy/issues/767"><span style='color:#377063;
text-decoration:none'>issue 767</span></a><a
href="https://github.com/scrapy/scrapy/issues/767"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Spider.allowed_domains </span></i>is now enforced for all
requests, and not only requests from spider callbacks. (<a
href="https://github.com/scrapy/scrapy/issues/1042"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1042"><span style='color:#377063;
text-decoration:none'>1042</span></a><a
href="https://github.com/scrapy/scrapy/issues/1042"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2241"><span style='color:#377063;
text-decoration:none'>issue 2241</span></a><a
href="https://github.com/scrapy/scrapy/issues/2241"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6358"><span style='color:#377063;
text-decoration:none'>issue 6358</span></a><a
href="https://github.com/scrapy/scrapy/issues/6358"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>xmliter_lxml() </span></i>no longer resolves XML
entities. (<a href="https://github.com/scrapy/scrapy/issues/6265"><span
style='color:#377063;text-decoration:none'>issue 6265</span></a><a
href="https://github.com/scrapy/scrapy/issues/6265"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://github.com/tiran/defusedxml"><span style='color:#377063;
text-decoration:none'>defusedxml</span></a><span style='color:#377063'> </span>is
now used to make scrapy.http.request.rpc.XmlRpcRequest more secure. (<a
href="https://github.com/scrapy/scrapy/issues/6250"><span style='color:#377063;
text-decoration:none'>issue 6250</span></a><a
href="https://github.com/scrapy/scrapy/issues/6250"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6251"><span style='color:#377063;
text-decoration:none'>issue 6251</span></a><a
href="https://github.com/scrapy/scrapy/issues/6251"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Restored support for <a
href="https://github.com/python-hyper/brotlipy/"><span style='color:#377063;
text-decoration:none'>brotlipy</span></a><a
href="https://github.com/python-hyper/brotlipy/"><span style='color:black;
text-decoration:none'>,</span></a> which had been dropped in Scrapy 2.11.1 in
favor of <a href="https://github.com/google/brotli"><span style='color:#377063;
text-decoration:none'>brotli</span></a><a
href="https://github.com/google/brotli"><span style='color:black;text-decoration:
none'>.</span></a> <a href="https://github.com/scrapy/scrapy/issues/6261"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6261"><span style='color:#377063;
text-decoration:none'>issue 6261</span></a><a
href="https://github.com/scrapy/scrapy/issues/6261"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.95pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 538510"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>           </span><b>Note:  </b>brotlipy
is deprecated, both in Scrapy and upstream. Use brotli instead if you can.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.5pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 538511"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make <i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS</span></i>[&quot;noscript&quot;] by
default. This prevents <i><span style='color:#355F7C'>MetaRefreshMiddleware </span></i>from
following redirects that would not be followed by web browsers with JavaScript
enabled. (<a href="https://github.com/scrapy/scrapy/issues/6342"><span
style='color:#377063;text-decoration:none'>issue 6342</span></a><a
href="https://github.com/scrapy/scrapy/issues/6342"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6347"><span style='color:#377063;
text-decoration:none'>issue 6347</span></a><a
href="https://github.com/scrapy/scrapy/issues/6347"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>During <i><span
style='color:#355F7C'>feed export</span></i>, do not close the underlying file
from <i><span style='color:#355F7C'>built-in post-processing plugins</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5932"><span style='color:
#377063;text-decoration:none'>issue 5932</span></a><a
href="https://github.com/scrapy/scrapy/issues/5932"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6178"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6178"><span style='color:#377063;
text-decoration:none'>6178</span></a><a
href="https://github.com/scrapy/scrapy/issues/6178"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6239"><span style='color:#377063;
text-decoration:none'>issue 6239</span></a><a
href="https://github.com/scrapy/scrapy/issues/6239"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LinkExtractor </span></i>now properly applies the unique and
canonicalize parameters. (<a href="https://github.com/scrapy/scrapy/issues/3273"><span
style='color:#377063;text-decoration:none'>issue 3273</span></a><a
href="https://github.com/scrapy/scrapy/issues/3273"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6221"><span style='color:#377063;
text-decoration:none'>issue 6221</span></a><a
href="https://github.com/scrapy/scrapy/issues/6221"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not initialize the
scheduler disk queue if <i><span style='color:#355F7C'>JOBDIR </span></i>is an
empty string. (<a href="https://github.com/scrapy/scrapy/issues/6121"><span
style='color:#377063;text-decoration:none'>issue 6121</span></a><a
href="https://github.com/scrapy/scrapy/issues/6121"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6124"><span style='color:#377063;
text-decoration:none'>issue 6124</span></a><a
href="https://github.com/scrapy/scrapy/issues/6124"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix <i><span
style='color:#355F7C'>Spider.logger </span></i>not logging custom extra
information. (<a href="https://github.com/scrapy/scrapy/issues/6323"><span
style='color:#377063;text-decoration:none'>issue 6323</span></a><a
href="https://github.com/scrapy/scrapy/issues/6323"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6324"><span style='color:#377063;
text-decoration:none'>issue 6324</span></a><a
href="https://github.com/scrapy/scrapy/issues/6324"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>robots.txt files with
a non-UTF-8 encoding no longer prevent parsing the UTF-8-compatible (e.g.
ASCII) parts of the document. (<a
href="https://github.com/scrapy/scrapy/issues/6292"><span style='color:#377063;
text-decoration:none'>issue 6292</span></a><a
href="https://github.com/scrapy/scrapy/issues/6292"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6298"><span style='color:#377063;
text-decoration:none'>issue 6298</span></a><a
href="https://github.com/scrapy/scrapy/issues/6298"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.http.cookies.WrappedRequest.get_header()
no longer raises an exception if default is None. <a
href="https://github.com/scrapy/scrapy/issues/6308"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/6308"><span style='color:#377063;
text-decoration:none'>issue 6308</span></a><a
href="https://github.com/scrapy/scrapy/issues/6308"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6310"><span style='color:#377063;
text-decoration:none'>issue 6310</span></a><a
href="https://github.com/scrapy/scrapy/issues/6310"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Selector </span></i>now uses scrapy.utils.response.get_base_url()
to determine the base URL of a given <i><span style='color:#355F7C'>Response</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/6265"><span style='color:
#377063;text-decoration:none'>issue 6265</span></a><a
href="https://github.com/scrapy/scrapy/issues/6265"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The media_to_download()
method of <i><span style='color:#355F7C'>media pipelines </span></i>now logs
exceptions before stripping them. (<a
href="https://github.com/scrapy/scrapy/issues/5067"><span style='color:#377063;
text-decoration:none'>issue 5067</span></a><a
href="https://github.com/scrapy/scrapy/issues/5067"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5068"><span style='color:#377063;
text-decoration:none'>issue 5068</span></a><a
href="https://github.com/scrapy/scrapy/issues/5068"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When passing a
callback to the <i><span style='color:#355F7C'>parse </span></i>command, build
the callback callable with the right signature. (<a
href="https://github.com/scrapy/scrapy/issues/6182"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/6182"><span style='color:#377063;
text-decoration:none'>6182</span></a><a
href="https://github.com/scrapy/scrapy/issues/6182"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a FAQ entry about
<i><span style='color:#355F7C'>creating blank requests</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/6203"><span style='color:#377063;
text-decoration:none'>issue 6203</span></a><a
href="https://github.com/scrapy/scrapy/issues/6203"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6208"><span style='color:#377063;
text-decoration:none'>issue 6208</span></a><a
href="https://github.com/scrapy/scrapy/issues/6208"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document
that scrapy.selector.Selector.type can be &quot;json&quot;. (<a
href="https://github.com/scrapy/scrapy/issues/6328"><span style='color:#377063;
text-decoration:none'>issue 6328</span></a><a
href="https://github.com/scrapy/scrapy/issues/6328"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6334"><span style='color:#377063;
text-decoration:none'>issue 6334</span></a><a
href="https://github.com/scrapy/scrapy/issues/6334"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make builds
reproducible. (<a href="https://github.com/scrapy/scrapy/issues/5019"><span
style='color:#377063;text-decoration:none'>issue 5019</span></a><a
href="https://github.com/scrapy/scrapy/issues/5019"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6322"><span style='color:#377063;
text-decoration:none'>issue 6322</span></a><a
href="https://github.com/scrapy/scrapy/issues/6322"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Packaging
and test fixes. (<a href="https://github.com/scrapy/scrapy/issues/6286"><span
style='color:#377063;text-decoration:none'>issue 6286</span></a><a
href="https://github.com/scrapy/scrapy/issues/6286"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6290"><span style='color:#377063;
text-decoration:none'>issue 6290</span></a><a
href="https://github.com/scrapy/scrapy/issues/6290"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6312"><span style='color:#377063;
text-decoration:none'>issue 6312</span></a><a
href="https://github.com/scrapy/scrapy/issues/6312"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6316"><span style='color:#377063;
text-decoration:none'>issue 6316</span></a><a
href="https://github.com/scrapy/scrapy/issues/6316"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6344"><span style='color:#377063;
text-decoration:none'>issue 6344</span></a><a
href="https://github.com/scrapy/scrapy/issues/6344"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.3 Scrapy 2.11.1
(2024-02-14)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Security bug fixes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:60.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support
for Twisted &gt;= 23.8.0. • Documentation improvements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Security
bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Addressed
<a
href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS"><span
style='color:#377063;text-decoration:none'>ReDoS vulnerabilities</span></a><a
href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:22.2pt;margin-bottom:
4.25pt;margin-left:42.35pt;text-indent:-9.95pt;line-height:124%'><span
style='line-height:124%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.iterators.xmliter is now deprecated in favor of <i><span
style='color:#355F7C'>xmliter_lxml()</span></i>, which <i><span
style='color:#355F7C'>XMLFeedSpider </span></i>now uses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>To minimize the impact of this change on existing code, <i><span
style='color:#355F7C'>xmliter_lxml() </span></i>now supports indicating the
node namespace with a prefix in the node name, and big files with highly nested
trees when using libxml2 2.7+.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:22.2pt;margin-bottom:
1.2pt;margin-left:42.35pt;text-indent:-9.95pt;line-height:150%'><span
style='line-height:150%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Fixed regular expressions in the implementation of the <i><span
style='color:#355F7C'>open_in_browser() </span></i>function. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cc65-xxvf-f7r9"><span
style='color:#377063;text-decoration:none'>cc65-xxvf-f7r9 security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOAD_MAXSIZE </span></i>and <i><span
style='color:#355F7C'>DOWNLOAD_WARNSIZE </span></i>now also apply to the
decompressed response body. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:#377063;text-decoration:none'>7j7m-v7m3-jqm7 security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Also              in             relation   with        the          <span
style='color:#377063'>7j7m-v7m3-jqm7 security  advisor</span><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:#377063;text-decoration:none'>y</span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:black;text-decoration:none'>,</span></a> the          deprecated scrapy.
downloadermiddlewares.decompression module has been removed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The Authorization header
is now dropped on redirects to a different domain. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cw9j-q3vf-hrrv"><span
style='color:#377063;text-decoration:none'>cw9j-q3vf-hrrv </span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cw9j-q3vf-hrrv"><span
style='color:#377063;text-decoration:none'>security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The Twisted
dependency is no longer restricted to &lt; 23.8.0. (<a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:#377063;
text-decoration:none'>issue 6024</span></a><a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6064"><span style='color:#377063;
text-decoration:none'>issue 6064</span></a><a
href="https://github.com/scrapy/scrapy/issues/6064"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6142"><span style='color:#377063;
text-decoration:none'>issue 6142</span></a><a
href="https://github.com/scrapy/scrapy/issues/6142"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The OS signal
handling code was refactored to no longer use private Twisted functions. (<a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:#377063;
text-decoration:none'>issue 6024</span></a><a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6064"><span style='color:#377063;
text-decoration:none'>issue 6064</span></a><a
href="https://github.com/scrapy/scrapy/issues/6064"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6112"><span style='color:#377063;
text-decoration:none'>issue 6112</span></a><a
href="https://github.com/scrapy/scrapy/issues/6112"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
documentation for <i><span style='color:#355F7C'>Crawler </span></i>initialization
changes made in the 2.11.0 release. (<a
href="https://github.com/scrapy/scrapy/issues/6057"><span style='color:#377063;
text-decoration:none'>issue 6057</span></a><a
href="https://github.com/scrapy/scrapy/issues/6057"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6147"><span style='color:#377063;
text-decoration:none'>issue 6147</span></a><a
href="https://github.com/scrapy/scrapy/issues/6147"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended
documentation for <i><span style='color:#355F7C'>Request.meta</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5565"><span style='color:#377063;
text-decoration:none'>issue 5565</span></a><a
href="https://github.com/scrapy/scrapy/issues/5565"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the <i><span
style='color:#355F7C'>dont_merge_cookies </span></i>documentation. (<a
href="https://github.com/scrapy/scrapy/issues/5936"><span style='color:#377063;
text-decoration:none'>issue 5936</span></a><a
href="https://github.com/scrapy/scrapy/issues/5936"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6077"><span style='color:#377063;
text-decoration:none'>issue 6077</span></a><a
href="https://github.com/scrapy/scrapy/issues/6077"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a link to
Zyte’s export guides to the <i><span style='color:#355F7C'>feed exports </span></i>documentation.
(<a href="https://github.com/scrapy/scrapy/issues/6183"><span style='color:
#377063;text-decoration:none'>issue 6183</span></a><a
href="https://github.com/scrapy/scrapy/issues/6183"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a missing note
about backward-incompatible changes in <i><span style='color:#355F7C'>PythonItemExporter
</span></i>to the 2.11.0 release notes. (<a
href="https://github.com/scrapy/scrapy/issues/6060"><span style='color:#377063;
text-decoration:none'>issue 6060</span></a><a
href="https://github.com/scrapy/scrapy/issues/6060"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6081"><span style='color:#377063;
text-decoration:none'>issue 6081</span></a><a
href="https://github.com/scrapy/scrapy/issues/6081"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a missing note
about removing the deprecated scrapy.utils.boto.is_botocore() function to the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>2.8.0 release notes. (<a
href="https://github.com/scrapy/scrapy/issues/6056"><span style='color:#377063;
text-decoration:none'>issue 6056</span></a><a
href="https://github.com/scrapy/scrapy/issues/6056"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6061"><span style='color:#377063;
text-decoration:none'>issue 6061</span></a><a
href="https://github.com/scrapy/scrapy/issues/6061"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other
documentation improvements. (<a
href="https://github.com/scrapy/scrapy/issues/6128"><span style='color:#377063;
text-decoration:none'>issue 6128</span></a><a
href="https://github.com/scrapy/scrapy/issues/6128"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6144"><span style='color:#377063;
text-decoration:none'>issue 6144</span></a><a
href="https://github.com/scrapy/scrapy/issues/6144"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6163"><span style='color:#377063;
text-decoration:none'>issue 6163</span></a><a
href="https://github.com/scrapy/scrapy/issues/6163"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6190"><span style='color:#377063;
text-decoration:none'>issue 6190</span></a><a
href="https://github.com/scrapy/scrapy/issues/6190"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6192"><span style='color:#377063;
text-decoration:none'>issue 6192</span></a><a
href="https://github.com/scrapy/scrapy/issues/6192"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added Python 3.12 to
the CI configuration, re-enabled tests that were disabled when the pre-release
support was added. (<a href="https://github.com/scrapy/scrapy/issues/5985"><span
style='color:#377063;text-decoration:none'>issue 5985</span></a><a
href="https://github.com/scrapy/scrapy/issues/5985"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6083"><span style='color:#377063;
text-decoration:none'>issue 6083</span></a><a
href="https://github.com/scrapy/scrapy/issues/6083"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6098"><span style='color:#377063;
text-decoration:none'>issue 6098</span></a><a
href="https://github.com/scrapy/scrapy/issues/6098"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a test issue on
PyPy 7.3.14. (<a href="https://github.com/scrapy/scrapy/issues/6204"><span
style='color:#377063;text-decoration:none'>issue 6204</span></a><a
href="https://github.com/scrapy/scrapy/issues/6204"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6205"><span style='color:#377063;
text-decoration:none'>issue 6205</span></a><a
href="https://github.com/scrapy/scrapy/issues/6205"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.4 Scrapy 2.11.0
(2023-09-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spiders can now
modify <i><span style='color:#355F7C'>settings </span></i>in their <i><span
style='color:#355F7C'>from_crawler() </span></i>methods, e.g. based on <i><span
style='color:#355F7C'>spider arguments</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Periodic logging of
stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.3pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Most of the
initialization of <i><span style='color:#355F7C'>scrapy.crawler.Crawler </span></i>instances
is now done in <i><span style='color:#355F7C'>crawl()</span></i>, so the state
of instances before that method is called is now different compared to older
Scrapy versions. We do not recommend using the <i><span style='color:#355F7C'>Crawler
</span></i>instances before <i><span style='color:#355F7C'>crawl() </span></i>is
called. (<a href="https://github.com/scrapy/scrapy/issues/6038"><span
style='color:#377063;text-decoration:none'>issue 6038</span></a><a
href="https://github.com/scrapy/scrapy/issues/6038"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.Spider.from_crawler() </span></i>is now called
before the initialization of various components previously initialized in scrapy.crawler.Crawler.__init__()
and before the settings are finalized and frozen. This change was needed to
allow changing the settings in <i><span style='color:#355F7C'>scrapy.Spider.from_crawler()</span></i>.
If you want to access the final setting values and the initialized <i><span
style='color:#355F7C'>Crawler </span></i>attributes in the spider code as early
as possible you can do this in <i><span style='color:#355F7C'>start_requests() </span></i>or
in a handler of the <i><span style='color:#355F7C'>engine_started </span></i>signal.
(<a href="https://github.com/scrapy/scrapy/issues/6038"><span style='color:
#377063;text-decoration:none'>issue 6038</span></a><a
href="https://github.com/scrapy/scrapy/issues/6038"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>TextResponse.json </span></i>method now requires the
response to be in a valid JSON encoding (UTF-8, UTF-16, or UTF-32). If you need
to deal with JSON documents in an invalid encoding, use json.loads(response.
text) instead. (<a href="https://github.com/scrapy/scrapy/issues/6016"><span
style='color:#377063;text-decoration:none'>issue 6016</span></a><a
href="https://github.com/scrapy/scrapy/issues/6016"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>PythonItemExporter </span></i>used the binary output by
default but it no longer does. (<a
href="https://github.com/scrapy/scrapy/issues/6006"><span style='color:#377063;
text-decoration:none'>issue 6006</span></a><a
href="https://github.com/scrapy/scrapy/issues/6006"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6007"><span style='color:#377063;
text-decoration:none'>issue 6007</span></a><a
href="https://github.com/scrapy/scrapy/issues/6007"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the binary
export mode of <i><span style='color:#355F7C'>PythonItemExporter</span></i>,
deprecated in Scrapy 1.1.0.            (<a
href="https://github.com/scrapy/scrapy/issues/6006"><span style='color:#377063;
text-decoration:none'>issue 6006</span></a><a
href="https://github.com/scrapy/scrapy/issues/6006"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6007"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6007"><span style='color:#377063;
text-decoration:none'>6007</span></a><a
href="https://github.com/scrapy/scrapy/issues/6007"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 539576"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.4pt;
margin-left:25.4pt'><b>Note: </b>If you are using this Scrapy version on Scrapy
Cloud with a stack that includes an older Scrapy version and get a “TypeError:
Unexpected options: binary” error, you may need to add scrapinghub-entrypoint-scrapy
&gt;= 0.14.1 to your project requirements or switch to a stack that includes
Scrapy 2.11.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.75pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 539577"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the CrawlerRunner.spiders
attribute, deprecated in Scrapy 1.0.0, use CrawlerRunner. spider_loader instead.
(<a href="https://github.com/scrapy/scrapy/issues/6010"><span style='color:
#377063;text-decoration:none'>issue 6010</span></a><a
href="https://github.com/scrapy/scrapy/issues/6010"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.response.response_httprepr()
function, deprecated in Scrapy 2.6.0, has now been</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:107.5pt;
margin-left:25.4pt'>removed. (<a
href="https://github.com/scrapy/scrapy/issues/6111"><span style='color:#377063;
text-decoration:none'>issue 6111</span></a><a
href="https://github.com/scrapy/scrapy/issues/6111"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.3pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Running <i><span
style='color:#355F7C'>crawl() </span></i>more than once on the same <i><span
style='color:#355F7C'>scrapy.crawler.Crawler </span></i>instance is now
deprecated. (<a href="https://github.com/scrapy/scrapy/issues/1587"><span
style='color:#377063;text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/1587"><span style='color:#377063;
text-decoration:none'>1587</span></a><a
href="https://github.com/scrapy/scrapy/issues/1587"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6040"><span style='color:#377063;
text-decoration:none'>issue 6040</span></a><a
href="https://github.com/scrapy/scrapy/issues/6040"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spiders can now
modify settings in their <i><span style='color:#355F7C'>from_crawler() </span></i>method,
e.g. based on <i><span style='color:#355F7C'>spider arguments</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/1305"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1305"><span style='color:#377063;
text-decoration:none'>1305</span></a><a
href="https://github.com/scrapy/scrapy/issues/1305"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1580"><span style='color:#377063;
text-decoration:none'>issue 1580</span></a><a
href="https://github.com/scrapy/scrapy/issues/1580"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2392"><span style='color:#377063;
text-decoration:none'>issue 2392</span></a><a
href="https://github.com/scrapy/scrapy/issues/2392"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3663"><span style='color:#377063;
text-decoration:none'>issue 3663</span></a><a
href="https://github.com/scrapy/scrapy/issues/3663"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6038"><span style='color:#377063;
text-decoration:none'>issue 6038</span></a><a
href="https://github.com/scrapy/scrapy/issues/6038"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added the <i><span
style='color:#355F7C'>PeriodicLog </span></i>extension which can be enabled to
log stats and/or their differences periodically. (<a
href="https://github.com/scrapy/scrapy/issues/5926"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5926"><span style='color:#377063;
text-decoration:none'>5926</span></a><a
href="https://github.com/scrapy/scrapy/issues/5926"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Optimized the memory
usage in <i><span style='color:#355F7C'>TextResponse.json </span></i>by
removing unnecessary body decoding. (<a
href="https://github.com/scrapy/scrapy/issues/5968"><span style='color:#377063;
text-decoration:none'>issue 5968</span></a><a
href="https://github.com/scrapy/scrapy/issues/5968"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/6016"><span style='color:#377063;
text-decoration:none'>issue 6016</span></a><a
href="https://github.com/scrapy/scrapy/issues/6016"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Links to .webp files
are now ignored by <i><span style='color:#355F7C'>link extractors</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/6021"><span style='color:#377063;
text-decoration:none'>issue 6021</span></a><a
href="https://github.com/scrapy/scrapy/issues/6021"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed logging enabled
add-ons. (<a href="https://github.com/scrapy/scrapy/issues/6036"><span
style='color:#377063;text-decoration:none'>issue 6036</span></a><a
href="https://github.com/scrapy/scrapy/issues/6036"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>MailSender </span></i>producing invalid message bodies
when the charset argument is passed to <i><span style='color:#355F7C'>send()</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5096"><span style='color:
#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5096"><span style='color:#377063;
text-decoration:none'>5096</span></a><a
href="https://github.com/scrapy/scrapy/issues/5096"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5118"><span style='color:#377063;
text-decoration:none'>issue 5118</span></a><a
href="https://github.com/scrapy/scrapy/issues/5118"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an exception
when accessing self.EXCEPTIONS_TO_RETRY from a subclass of <i><span
style='color:#355F7C'>RetryMiddleware</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/6049"><span style='color:#377063;
text-decoration:none'>is</span></a><a
href="https://github.com/scrapy/scrapy/issues/6049"><span style='color:#377063;
text-decoration:none'>sue 6049</span></a><a
href="https://github.com/scrapy/scrapy/issues/6049"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6050"><span style='color:#377063;
text-decoration:none'>issue 6050</span></a><a
href="https://github.com/scrapy/scrapy/issues/6050"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>scrapy.settings.BaseSettings.getdictorlist()</span></i>,
used to parse <i><span style='color:#355F7C'>FEED_EXPORT_FIELDS</span></i>, now
handles tuple values. (<a href="https://github.com/scrapy/scrapy/issues/6011"><span
style='color:#377063;text-decoration:none'>issue 6011</span></a><a
href="https://github.com/scrapy/scrapy/issues/6011"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6013"><span style='color:#377063;
text-decoration:none'>issue 6013</span></a><a
href="https://github.com/scrapy/scrapy/issues/6013"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Calls to datetime.utcnow(),
no longer recommended to be used, have been replaced with calls to datetime.
now() with a timezone. (<a href="https://github.com/scrapy/scrapy/issues/6014"><span
style='color:#377063;text-decoration:none'>issue 6014</span></a><a
href="https://github.com/scrapy/scrapy/issues/6014"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated a deprecated
function call in a pipeline example. (<a
href="https://github.com/scrapy/scrapy/issues/6008"><span style='color:#377063;
text-decoration:none'>issue 6008</span></a><a
href="https://github.com/scrapy/scrapy/issues/6008"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6009"><span style='color:#377063;
text-decoration:none'>issue 6009</span></a><a
href="https://github.com/scrapy/scrapy/issues/6009"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended
typing hints. (<a href="https://github.com/scrapy/scrapy/issues/6003"><span
style='color:#377063;text-decoration:none'>issue 6003</span></a><a
href="https://github.com/scrapy/scrapy/issues/6003"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6005"><span style='color:#377063;
text-decoration:none'>issue 6005</span></a><a
href="https://github.com/scrapy/scrapy/issues/6005"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6031"><span style='color:#377063;
text-decoration:none'>issue 6031</span></a><a
href="https://github.com/scrapy/scrapy/issues/6031"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6034"><span style='color:#377063;
text-decoration:none'>issue 6034</span></a><a
href="https://github.com/scrapy/scrapy/issues/6034"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pinned <a
href="https://github.com/google/brotli"><span style='color:#377063;text-decoration:
none'>brotli</span></a><span style='color:#377063'> </span>to 1.0.9 for the
PyPy tests as 1.1.0 breaks them. (<a
href="https://github.com/scrapy/scrapy/issues/6044"><span style='color:#377063;
text-decoration:none'>issue 6044</span></a><a
href="https://github.com/scrapy/scrapy/issues/6044"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6045"><span style='color:#377063;
text-decoration:none'>issue 6045</span></a><a
href="https://github.com/scrapy/scrapy/issues/6045"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other CI and
pre-commit improvements. (<a href="https://github.com/scrapy/scrapy/issues/6002"><span
style='color:#377063;text-decoration:none'>issue 6002</span></a><a
href="https://github.com/scrapy/scrapy/issues/6002"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6013"><span style='color:#377063;
text-decoration:none'>issue 6013</span></a><a
href="https://github.com/scrapy/scrapy/issues/6013"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6046"><span style='color:#377063;
text-decoration:none'>issue 6046</span></a><a
href="https://github.com/scrapy/scrapy/issues/6046"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 2.10.1
(2023-08-30)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:.5pt'>Marked Twisted &gt;= 23.8.0 as unsupported. (<a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:#377063;
text-decoration:none'>issue 6024</span></a><a
href="https://github.com/scrapy/scrapy/issues/6024"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6026"><span style='color:#377063;
text-decoration:none'>issue 6026</span></a><a
href="https://github.com/scrapy/scrapy/issues/6026"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:68.55pt;text-align:left;text-indent:-32.55pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 2.10.0
(2023-08-04)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added Python 3.12
support, dropped Python 3.7 support.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new add-ons
framework simplifies configuring 3rd-party components that support it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exceptions to retry
can now be configured.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Many fixes and
improvements for feed exports.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped support for
Python 3.7. (<a href="https://github.com/scrapy/scrapy/issues/5953"><span
style='color:#377063;text-decoration:none'>issue 5953</span></a><a
href="https://github.com/scrapy/scrapy/issues/5953"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for the
upcoming Python 3.12. (<a href="https://github.com/scrapy/scrapy/issues/5984"><span
style='color:#377063;text-decoration:none'>issue 5984</span></a><a
href="https://github.com/scrapy/scrapy/issues/5984"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minimum versions
increased for these dependencies:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>:</span></a>
4.3.0 <span style='font-family:"Cambria",serif'>&#8594; </span>4.4.1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><a
href="https://cryptography.io/en/latest/"><span style='color:#377063;
text-decoration:none'>cryptography</span></a><a
href="https://cryptography.io/en/latest/"><span style='color:black;text-decoration:
none'>:</span></a> 3.4.6 <span style='font-family:"Cambria",serif'>&#8594; </span>36.0.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pkg_resources is no
longer used. (<a href="https://github.com/scrapy/scrapy/issues/5956"><span
style='color:#377063;text-decoration:none'>issue 5956</span></a><a
href="https://github.com/scrapy/scrapy/issues/5956"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5958"><span style='color:#377063;
text-decoration:none'>issue 5958</span></a><a
href="https://github.com/scrapy/scrapy/issues/5958"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://github.com/boto/boto3"><span style='color:#377063;text-decoration:
none'>boto3</span></a><span style='color:#377063'> </span>is now recommended
instead of <a href="https://github.com/boto/botocore"><span style='color:#377063;
text-decoration:none'>botocore</span></a><span style='color:#377063'> </span>for
exporting to S3. (<a href="https://github.com/scrapy/scrapy/issues/5833"><span
style='color:#377063;text-decoration:none'>issue 5833</span></a><a
href="https://github.com/scrapy/scrapy/issues/5833"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The value of the <i><span
style='color:#355F7C'>FEED_STORE_EMPTY </span></i>setting is now True instead
of False. In earlier Scrapy versions empty files were created even when this
setting was False (which was a bug that is now fixed), so the new default
should keep the old behavior. (<a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:#377063;
text-decoration:none'>issue 872</span></a><a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:#377063;
text-decoration:none'>issue 5847</span></a><a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a function is
assigned to the <i><span style='color:#355F7C'>FEED_URI_PARAMS </span></i>setting,
returning None or modifying the params input parameter, deprecated in Scrapy
2.6, is no longer supported. (<a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:#377063;
text-decoration:none'>issue 5994</span></a><a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:#377063;
text-decoration:none'>issue 5996</span></a><a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.reqser
module, deprecated in Scrapy 2.6, is removed. (<a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:#377063;
text-decoration:none'>issue 5994</span></a><a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:#377063;
text-decoration:none'>issue 5996</span></a><a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:115%'><span
style='line-height:115%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.squeues classes PickleFifoDiskQueueNonRequest, PickleLifoDiskQueueNonRequest,
MarshalFifoDiskQueueNonRequest, and MarshalLifoDiskQueueNonRequest, deprecated
in Scrapy 2.6, are removed. (<a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:#377063;
text-decoration:none'>issue 5994</span></a><a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:#377063;
text-decoration:none'>issue 5996</span></a><a
href="https://github.com/scrapy/scrapy/issues/5996"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The property open_spiders
and the methods has_capacity and schedule of scrapy.core.engine.
ExecutionEngine, deprecated in Scrapy 2.6, are removed. (<a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:#377063;
text-decoration:none'>issue 5994</span></a><a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5998"><span style='color:#377063;
text-decoration:none'>issue 5998</span></a><a
href="https://github.com/scrapy/scrapy/issues/5998"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:69.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Passing a spider argument
to the spider_is_idle(), crawl() and download() methods of scrapy.core.
engine.ExecutionEngine, deprecated in Scrapy 2.6, is no longer supported. (<a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:#377063;
text-decoration:none'>issue 5994</span></a><a
href="https://github.com/scrapy/scrapy/issues/5994"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5998"><span style='color:#377063;
text-decoration:none'>issue 5998</span></a><a
href="https://github.com/scrapy/scrapy/issues/5998"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.datatypes.CaselessDict         is             deprecated,            use          scrapy.utils.datatypes.
CaseInsensitiveDict instead. (<a
href="https://github.com/scrapy/scrapy/issues/5146"><span style='color:#377063;
text-decoration:none'>issue 5146</span></a><a
href="https://github.com/scrapy/scrapy/issues/5146"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Passing the custom argument
to scrapy.utils.conf.build_component_list() is deprecated, it was used in the
past to merge FOO and FOO_BASE setting values but now Scrapy uses <i><span
style='color:#355F7C'>scrapy.settings.BaseSettings. getwithbase() </span></i>to
do the same. Code that uses this argument and cannot be switched to getwithbase()
can be switched to merging the values explicitly. (<a
href="https://github.com/scrapy/scrapy/issues/5726"><span style='color:#377063;
text-decoration:none'>issue 5726</span></a><a
href="https://github.com/scrapy/scrapy/issues/5726"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5923"><span style='color:#377063;
text-decoration:none'>issue 5923</span></a><a
href="https://github.com/scrapy/scrapy/issues/5923"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for <i><span
style='color:#355F7C'>Scrapy add-ons</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5950"><span style='color:#377063;
text-decoration:none'>issue 5950</span></a><a
href="https://github.com/scrapy/scrapy/issues/5950"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added the <i><span
style='color:#355F7C'>RETRY_EXCEPTIONS </span></i>setting that configures which
exceptions will be retried by <i><span style='color:#355F7C'>RetryMiddleware</span></i>.
<a href="https://github.com/scrapy/scrapy/issues/2701"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2701"><span style='color:#377063;
text-decoration:none'>issue 2701</span></a><a
href="https://github.com/scrapy/scrapy/issues/2701"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5929"><span style='color:#377063;
text-decoration:none'>issue 5929</span></a><a
href="https://github.com/scrapy/scrapy/issues/5929"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added the possiiblity
to close the spider if no items were produced in the specified time, configured
by <i><span style='color:#355F7C'>CLOSESPIDER_TIMEOUT_NO_ITEM</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5979"><span style='color:#377063;
text-decoration:none'>issue 5979</span></a><a
href="https://github.com/scrapy/scrapy/issues/5979"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for the
<i><span style='color:#355F7C'>AWS_REGION_NAME </span></i>setting to feed
exports. (<a href="https://github.com/scrapy/scrapy/issues/5980"><span
style='color:#377063;text-decoration:none'>issue 5980</span></a><a
href="https://github.com/scrapy/scrapy/issues/5980"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
using <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Pat</span></a><a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>h</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>objects
that refer to absolute Windows paths in the <i><span style='color:#355F7C'>FEEDS
</span></i>setting. (<a href="https://github.com/scrapy/scrapy/issues/5939"><span
style='color:#377063;text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5939"><span style='color:#377063;
text-decoration:none'>5939</span></a><a
href="https://github.com/scrapy/scrapy/issues/5939"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed creating empty
feeds even with FEED_STORE_EMPTY=False. (<a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:#377063;
text-decoration:none'>issue 872</span></a><a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:#377063;
text-decoration:none'>issue 5847</span></a><a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed using absolute
Windows paths when specifying output files. (<a
href="https://github.com/scrapy/scrapy/issues/5969"><span style='color:#377063;
text-decoration:none'>issue 5969</span></a><a
href="https://github.com/scrapy/scrapy/issues/5969"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5971"><span style='color:#377063;
text-decoration:none'>issue 5971</span></a><a
href="https://github.com/scrapy/scrapy/issues/5971"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed problems with
uploading large files to S3 by switching to multipart uploads (requires <a
href="https://github.com/boto/boto3"><span style='color:#377063;text-decoration:
none'>boto3</span></a><a href="https://github.com/boto/boto3"><span
style='color:black;text-decoration:none'>)</span></a>. (<a
href="https://github.com/scrapy/scrapy/issues/960"><span style='color:#377063;
text-decoration:none'>issue 960</span></a><a
href="https://github.com/scrapy/scrapy/issues/960"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5735"><span style='color:#377063;
text-decoration:none'>issue 5735</span></a><a
href="https://github.com/scrapy/scrapy/issues/5735"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5833"><span style='color:#377063;
text-decoration:none'>issue 5833</span></a><a
href="https://github.com/scrapy/scrapy/issues/5833"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the JSON
exporter writing extra commas when some exceptions occur. (<a
href="https://github.com/scrapy/scrapy/issues/3090"><span style='color:#377063;
text-decoration:none'>issue 3090</span></a><a
href="https://github.com/scrapy/scrapy/issues/3090"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5952"><span style='color:#377063;
text-decoration:none'>issue 5952</span></a><a
href="https://github.com/scrapy/scrapy/issues/5952"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the “read of
closed file” error in the CSV exporter. (<a
href="https://github.com/scrapy/scrapy/issues/5043"><span style='color:#377063;
text-decoration:none'>issue 5043</span></a><a
href="https://github.com/scrapy/scrapy/issues/5043"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5705"><span style='color:#377063;
text-decoration:none'>issue 5705</span></a><a
href="https://github.com/scrapy/scrapy/issues/5705"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error when a
component added by the class object throws <i><span style='color:#355F7C'>NotConfigured
</span></i>with a message. (<a
href="https://github.com/scrapy/scrapy/issues/5950"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5950"><span style='color:#377063;
text-decoration:none'>5950</span></a><a
href="https://github.com/scrapy/scrapy/issues/5950"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5992"><span style='color:#377063;
text-decoration:none'>issue 5992</span></a><a
href="https://github.com/scrapy/scrapy/issues/5992"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
the missing <i><span style='color:#355F7C'>scrapy.settings.BaseSettings.pop() </span></i>method.
(<a href="https://github.com/scrapy/scrapy/issues/5959"><span style='color:
#377063;text-decoration:none'>issue 5959</span></a><a
href="https://github.com/scrapy/scrapy/issues/5959"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5960"><span style='color:#377063;
text-decoration:none'>issue 5960</span></a><a
href="https://github.com/scrapy/scrapy/issues/5960"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5963"><span style='color:#377063;
text-decoration:none'>issue 5963</span></a><a
href="https://github.com/scrapy/scrapy/issues/5963"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added CaseInsensitiveDict
as a replacement for CaselessDict that fixes some API inconsistencies. (<a
href="https://github.com/scrapy/scrapy/issues/5146"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5146"><span style='color:#377063;
text-decoration:none'>5146</span></a><a
href="https://github.com/scrapy/scrapy/issues/5146"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
<i><span style='color:#355F7C'>scrapy.Spider.update_settings()</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5745"><span style='color:#377063;
text-decoration:none'>issue 5745</span></a><a
href="https://github.com/scrapy/scrapy/issues/5745"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5846"><span style='color:#377063;
text-decoration:none'>issue 5846</span></a><a
href="https://github.com/scrapy/scrapy/issues/5846"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented possible
problems with early Twisted reactor installation and their solutions. (<a
href="https://github.com/scrapy/scrapy/issues/5981"><span style='color:#377063;
text-decoration:none'>issue 5981</span></a><a
href="https://github.com/scrapy/scrapy/issues/5981"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/6000"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/6000"><span style='color:#377063;
text-decoration:none'>6000</span></a><a
href="https://github.com/scrapy/scrapy/issues/6000"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added examples of
making additional requests in callbacks. (<a
href="https://github.com/scrapy/scrapy/issues/5927"><span style='color:#377063;
text-decoration:none'>issue 5927</span></a><a
href="https://github.com/scrapy/scrapy/issues/5927"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved the feed
export docs. (<a href="https://github.com/scrapy/scrapy/issues/5579"><span
style='color:#377063;text-decoration:none'>issue 5579</span></a><a
href="https://github.com/scrapy/scrapy/issues/5579"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5931"><span style='color:#377063;
text-decoration:none'>issue 5931</span></a><a
href="https://github.com/scrapy/scrapy/issues/5931"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified the docs
about request objects on redirection. (<a
href="https://github.com/scrapy/scrapy/issues/5707"><span style='color:#377063;
text-decoration:none'>issue 5707</span></a><a
href="https://github.com/scrapy/scrapy/issues/5707"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5937"><span style='color:#377063;
text-decoration:none'>issue 5937</span></a><a
href="https://github.com/scrapy/scrapy/issues/5937"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
running tests against the installed Scrapy version. (<a
href="https://github.com/scrapy/scrapy/issues/4914"><span style='color:#377063;
text-decoration:none'>issue 4914</span></a><a
href="https://github.com/scrapy/scrapy/issues/4914"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5949"><span style='color:#377063;
text-decoration:none'>issue 5949</span></a><a
href="https://github.com/scrapy/scrapy/issues/5949"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended typing
hints. (<a href="https://github.com/scrapy/scrapy/issues/5925"><span
style='color:#377063;text-decoration:none'>issue 5925</span></a><a
href="https://github.com/scrapy/scrapy/issues/5925"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5977"><span style='color:#377063;
text-decoration:none'>issue 5977</span></a><a
href="https://github.com/scrapy/scrapy/issues/5977"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
the test_utils_asyncio.AsyncioTest.test_set_asyncio_event_loop test. (<a
href="https://github.com/scrapy/scrapy/issues/5951"><span style='color:#377063;
text-decoration:none'>issue 5951</span></a><a
href="https://github.com/scrapy/scrapy/issues/5951"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
the test_feedexport.BatchDeliveriesTest.test_batch_path_differ test on Windows.
(<a href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:
#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:#377063;
text-decoration:none'>5847</span></a><a
href="https://github.com/scrapy/scrapy/issues/5847"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enabled CI runs for
Python 3.11 on Windows. (<a href="https://github.com/scrapy/scrapy/issues/5999"><span
style='color:#377063;text-decoration:none'>issue 5999</span></a><a
href="https://github.com/scrapy/scrapy/issues/5999"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplified skipping
tests that depend on uvloop. (<a
href="https://github.com/scrapy/scrapy/issues/5984"><span style='color:#377063;
text-decoration:none'>issue 5984</span></a><a
href="https://github.com/scrapy/scrapy/issues/5984"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the extra-deps-pinned
tox env. (<a href="https://github.com/scrapy/scrapy/issues/5948"><span
style='color:#377063;text-decoration:none'>issue 5948</span></a><a
href="https://github.com/scrapy/scrapy/issues/5948"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Implemented cleanups.
(<a href="https://github.com/scrapy/scrapy/issues/5965"><span style='color:
#377063;text-decoration:none'>issue 5965</span></a><a
href="https://github.com/scrapy/scrapy/issues/5965"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5986"><span style='color:#377063;
text-decoration:none'>issue 5986</span></a><a
href="https://github.com/scrapy/scrapy/issues/5986"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.7 Scrapy 2.9.0
(2023-05-08)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Per-domain download
settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compatibility with
new <a href="https://cryptography.io/en/latest/"><span style='color:#377063;
text-decoration:none'>cryptography</span></a><span style='color:#377063'> </span>and
new <a href="https://github.com/scrapy/parsel"><span style='color:#377063;
text-decoration:none'>parsel</span></a><a
href="https://github.com/scrapy/parsel"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>JMESPath selectors
from the new <a href="https://github.com/scrapy/parsel"><span style='color:
#377063;text-decoration:none'>parsel</span></a><a
href="https://github.com/scrapy/parsel"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bug fixes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.extensions.feedexport._FeedSlot
is          renamed                 to scrapy.extensions.feedexport.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:25.4pt'>FeedSlot and the old name is deprecated. (<a
href="https://github.com/scrapy/scrapy/issues/5876"><span style='color:#377063;
text-decoration:none'>issue 5876</span></a><a
href="https://github.com/scrapy/scrapy/issues/5876"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Settings
corresponding to <i><span style='color:#355F7C'>DOWNLOAD_DELAY</span></i>, <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN </span></i>and <i><span
style='color:#355F7C'>RANDOMIZE_DOWNLOAD_DELAY </span></i>can now be set on a
per-domain basis via the new <i><span style='color:#355F7C'>DOWNLOAD_SLOTS</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>setting. (<a
href="https://github.com/scrapy/scrapy/issues/5328"><span style='color:#377063;
text-decoration:none'>issue 5328</span></a><a
href="https://github.com/scrapy/scrapy/issues/5328"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added TextResponse.jmespath(),
a shortcut for JMESPath selectors available since <a
href="https://github.com/scrapy/parsel"><span style='color:#377063;text-decoration:
none'>parsel</span></a><span style='color:#377063'> </span>1.8.1. (<a
href="https://github.com/scrapy/scrapy/issues/5894"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5894"><span style='color:#377063;
text-decoration:none'>5894</span></a><a
href="https://github.com/scrapy/scrapy/issues/5894"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5915"><span style='color:#377063;
text-decoration:none'>issue 5915</span></a><a
href="https://github.com/scrapy/scrapy/issues/5915"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>feed_slot_closed </span></i>and <i><span
style='color:#355F7C'>feed_exporter_closed </span></i>signals. (<a
href="https://github.com/scrapy/scrapy/issues/5876"><span style='color:#377063;
text-decoration:none'>issue 5876</span></a><a
href="https://github.com/scrapy/scrapy/issues/5876"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added scrapy.utils.request.request_to_curl(),
a function to produce a curl command from a Request object. (<a
href="https://github.com/scrapy/scrapy/issues/5892"><span style='color:#377063;
text-decoration:none'>issue 5892</span></a><a
href="https://github.com/scrapy/scrapy/issues/5892"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:120.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Values of <i><span
style='color:#355F7C'>FILES_STORE </span></i>and <i><span style='color:#355F7C'>IMAGES_STORE
</span></i>can now be <a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Path</span></a><span
style='color:#377063'> </span>instances. (<a
href="https://github.com/scrapy/scrapy/issues/5801"><span style='color:#377063;
text-decoration:none'>issue 5801</span></a><a
href="https://github.com/scrapy/scrapy/issues/5801"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a warning with
Parsel 1.8.1+. (<a href="https://github.com/scrapy/scrapy/issues/5903"><span
style='color:#377063;text-decoration:none'>issue 5903</span></a><a
href="https://github.com/scrapy/scrapy/issues/5903"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5918"><span style='color:#377063;
text-decoration:none'>issue 5918</span></a><a
href="https://github.com/scrapy/scrapy/issues/5918"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error when
using feed postprocessing with S3 storage. (<a
href="https://github.com/scrapy/scrapy/issues/5500"><span style='color:#377063;
text-decoration:none'>issue 5500</span></a><a
href="https://github.com/scrapy/scrapy/issues/5500"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5581"><span style='color:#377063;
text-decoration:none'>issue 5581</span></a><a
href="https://github.com/scrapy/scrapy/issues/5581"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
the missing <i><span style='color:#355F7C'>scrapy.settings.BaseSettings.setdefault()
</span></i>method. (<a href="https://github.com/scrapy/scrapy/issues/5811"><span
style='color:#377063;text-decoration:none'>issue 5811</span></a><a
href="https://github.com/scrapy/scrapy/issues/5811"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5821"><span style='color:#377063;
text-decoration:none'>issue 5821</span></a><a
href="https://github.com/scrapy/scrapy/issues/5821"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error when
using <a href="https://cryptography.io/en/latest/"><span style='color:#377063;
text-decoration:none'>cryptography</span></a><span style='color:#377063'> </span>40.0.0+
and <i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING </span></i>is
enabled. (<a href="https://github.com/scrapy/scrapy/issues/5857"><span
style='color:#377063;text-decoration:none'>issue 5857</span></a><a
href="https://github.com/scrapy/scrapy/issues/5857"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5858"><span style='color:#377063;
text-decoration:none'>issue 5858</span></a><a
href="https://github.com/scrapy/scrapy/issues/5858"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The checksums
returned by <i><span style='color:#355F7C'>FilesPipeline </span></i>for files
on Google Cloud Storage are no longer Base64-encoded. <a
href="https://github.com/scrapy/scrapy/issues/5874"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5874"><span style='color:#377063;
text-decoration:none'>issue 5874</span></a><a
href="https://github.com/scrapy/scrapy/issues/5874"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5891"><span style='color:#377063;
text-decoration:none'>issue 5891</span></a><a
href="https://github.com/scrapy/scrapy/issues/5891"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.request.request_from_curl()
now supports $-prefixed string values for the curl --<sub><span
style='font-size:15.5pt;line-height:103%'>data-raw </span></sub>argument, which
are produced by browsers for data that includes certain symbols. (<a
href="https://github.com/scrapy/scrapy/issues/5899"><span style='color:#377063;
text-decoration:none'>issue 5899</span></a><a
href="https://github.com/scrapy/scrapy/issues/5899"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5901"><span style='color:#377063;
text-decoration:none'>issue 5901</span></a><a
href="https://github.com/scrapy/scrapy/issues/5901"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>parse </span></i>command now also works with async
generator callbacks. (<a href="https://github.com/scrapy/scrapy/issues/5819"><span
style='color:#377063;text-decoration:none'>issue 5819</span></a><a
href="https://github.com/scrapy/scrapy/issues/5819"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5824"><span style='color:#377063;
text-decoration:none'>issue 5824</span></a><a
href="https://github.com/scrapy/scrapy/issues/5824"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>genspider </span></i>command now properly works with
HTTPS URLs. (<a href="https://github.com/scrapy/scrapy/issues/3553"><span
style='color:#377063;text-decoration:none'>issue 3553</span></a><a
href="https://github.com/scrapy/scrapy/issues/3553"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5808"><span style='color:#377063;
text-decoration:none'>issue 5808</span></a><a
href="https://github.com/scrapy/scrapy/issues/5808"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved handling of
asyncio loops. (<a href="https://github.com/scrapy/scrapy/issues/5831"><span
style='color:#377063;text-decoration:none'>issue 5831</span></a><a
href="https://github.com/scrapy/scrapy/issues/5831"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5832"><span style='color:#377063;
text-decoration:none'>issue 5832</span></a><a
href="https://github.com/scrapy/scrapy/issues/5832"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LinkExtractor </span></i>now skips certain malformed URLs
instead of raising an exception. (<a
href="https://github.com/scrapy/scrapy/issues/5881"><span style='color:#377063;
text-decoration:none'>issue 5881</span></a><a
href="https://github.com/scrapy/scrapy/issues/5881"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.python.get_func_args()
now supports more types of callables. (<a
href="https://github.com/scrapy/scrapy/issues/5872"><span style='color:#377063;
text-decoration:none'>issue 5872</span></a><a
href="https://github.com/scrapy/scrapy/issues/5872"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5885"><span style='color:#377063;
text-decoration:none'>issue 5885</span></a><a
href="https://github.com/scrapy/scrapy/issues/5885"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error when
processing non-UTF8 values of Content-Type headers. (<a
href="https://github.com/scrapy/scrapy/issues/5914"><span style='color:#377063;
text-decoration:none'>issue 5914</span></a><a
href="https://github.com/scrapy/scrapy/issues/5914"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5917"><span style='color:#377063;
text-decoration:none'>issue 5917</span></a><a
href="https://github.com/scrapy/scrapy/issues/5917"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error
breaking user handling of send failures in <i><span style='color:#355F7C'>scrapy.mail.MailSender.send()</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/1611"><span style='color:
#377063;text-decoration:none'>issue 1611</span></a><a
href="https://github.com/scrapy/scrapy/issues/1611"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5880"><span style='color:#377063;
text-decoration:none'>issue 5880</span></a><a
href="https://github.com/scrapy/scrapy/issues/5880"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Expanded contributing
docs. (<a href="https://github.com/scrapy/scrapy/issues/5109"><span
style='color:#377063;text-decoration:none'>issue 5109</span></a><a
href="https://github.com/scrapy/scrapy/issues/5109"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5851"><span style='color:#377063;
text-decoration:none'>issue 5851</span></a><a
href="https://github.com/scrapy/scrapy/issues/5851"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <a
href="https://github.com/adamchainz/blacken-docs"><span style='color:#377063;
text-decoration:none'>blacken-docs</span></a><span style='color:#377063'> </span>to
pre-commit and reformatted the docs with it. (<a
href="https://github.com/scrapy/scrapy/issues/5813"><span style='color:#377063;
text-decoration:none'>issue 5813</span></a><a
href="https://github.com/scrapy/scrapy/issues/5813"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5816"><span style='color:#377063;
text-decoration:none'>issue 5816</span></a><a
href="https://github.com/scrapy/scrapy/issues/5816"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a JS issue. (<a
href="https://github.com/scrapy/scrapy/issues/5875"><span style='color:#377063;
text-decoration:none'>issue 5875</span></a><a
href="https://github.com/scrapy/scrapy/issues/5875"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5877"><span style='color:#377063;
text-decoration:none'>issue 5877</span></a><a
href="https://github.com/scrapy/scrapy/issues/5877"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
make htmlview. (<a href="https://github.com/scrapy/scrapy/issues/5878"><span
style='color:#377063;text-decoration:none'>issue 5878</span></a><a
href="https://github.com/scrapy/scrapy/issues/5878"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5879"><span style='color:#377063;
text-decoration:none'>issue 5879</span></a><a
href="https://github.com/scrapy/scrapy/issues/5879"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
typos and other small errors. (<a
href="https://github.com/scrapy/scrapy/issues/5827"><span style='color:#377063;
text-decoration:none'>issue 5827</span></a><a
href="https://github.com/scrapy/scrapy/issues/5827"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5839"><span style='color:#377063;
text-decoration:none'>issue 5839</span></a><a
href="https://github.com/scrapy/scrapy/issues/5839"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5883"><span style='color:#377063;
text-decoration:none'>issue 5883</span></a><a
href="https://github.com/scrapy/scrapy/issues/5883"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5890"><span style='color:#377063;
text-decoration:none'>issue 5890</span></a><a
href="https://github.com/scrapy/scrapy/issues/5890"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5895"><span style='color:#377063;
text-decoration:none'>issue 5895</span></a><a
href="https://github.com/scrapy/scrapy/issues/5895"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5904"><span style='color:#377063;
text-decoration:none'>issue 5904</span></a><a
href="https://github.com/scrapy/scrapy/issues/5904"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended
typing hints. (<a href="https://github.com/scrapy/scrapy/issues/5805"><span
style='color:#377063;text-decoration:none'>issue 5805</span></a><a
href="https://github.com/scrapy/scrapy/issues/5805"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5889"><span style='color:#377063;
text-decoration:none'>issue 5889</span></a><a
href="https://github.com/scrapy/scrapy/issues/5889"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5896"><span style='color:#377063;
text-decoration:none'>issue 5896</span></a><a
href="https://github.com/scrapy/scrapy/issues/5896"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tests for most of the
examples in the docs are now run as a part of CI, found problems were fixed. (<a
href="https://github.com/scrapy/scrapy/issues/5816"><span style='color:#377063;
text-decoration:none'>issue 5816</span></a><a
href="https://github.com/scrapy/scrapy/issues/5816"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5826"><span style='color:#377063;
text-decoration:none'>issue 5826</span></a><a
href="https://github.com/scrapy/scrapy/issues/5826"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5919"><span style='color:#377063;
text-decoration:none'>issue 5919</span></a><a
href="https://github.com/scrapy/scrapy/issues/5919"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed usage of
deprecated Python classes. (<a
href="https://github.com/scrapy/scrapy/issues/5849"><span style='color:#377063;
text-decoration:none'>issue 5849</span></a><a
href="https://github.com/scrapy/scrapy/issues/5849"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Silenced include-ignored
warnings from coverage. (<a href="https://github.com/scrapy/scrapy/issues/5820"><span
style='color:#377063;text-decoration:none'>issue 5820</span></a><a
href="https://github.com/scrapy/scrapy/issues/5820"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a random
failure of the test_feedexport.test_batch_path_differ test. (<a
href="https://github.com/scrapy/scrapy/issues/5855"><span style='color:#377063;
text-decoration:none'>issue 5855</span></a><a
href="https://github.com/scrapy/scrapy/issues/5855"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5898"><span style='color:#377063;
text-decoration:none'>issue 5898</span></a><a
href="https://github.com/scrapy/scrapy/issues/5898"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated docstrings to
match output produced by <a href="https://github.com/scrapy/parsel"><span
style='color:#377063;text-decoration:none'>parsel</span></a><span
style='color:#377063'> </span>1.8.1 so that they don’t cause test failures. (<a
href="https://github.com/scrapy/scrapy/issues/5902"><span style='color:#377063;
text-decoration:none'>issue 5902</span></a><a
href="https://github.com/scrapy/scrapy/issues/5902"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5919"><span style='color:#377063;
text-decoration:none'>issue 5919</span></a><a
href="https://github.com/scrapy/scrapy/issues/5919"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other CI and
pre-commit improvements. (<a href="https://github.com/scrapy/scrapy/issues/5802"><span
style='color:#377063;text-decoration:none'>issue 5802</span></a><a
href="https://github.com/scrapy/scrapy/issues/5802"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5823"><span style='color:#377063;
text-decoration:none'>issue 5823</span></a><a
href="https://github.com/scrapy/scrapy/issues/5823"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5908"><span style='color:#377063;
text-decoration:none'>issue 5908</span></a><a
href="https://github.com/scrapy/scrapy/issues/5908"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.8 Scrapy 2.8.0
(2023-02-02)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>This is a maintenance release, with minor features, bug
fixes, and cleanups.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.gz.read1
function, deprecated in Scrapy 2.0, has now been removed. Use the <a
href="https://docs.python.org/3/library/io.html#io.BufferedIOBase.read1"><span
style='color:#377063;text-decoration:none'>read1() </span></a>method of <a
href="https://docs.python.org/3/library/gzip.html#gzip.GzipFile"><span
style='color:#377063;text-decoration:none'>GzipFile</span></a><span
style='color:#377063'> </span>instead. (<a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>issue 5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.python.to_native_str
function, deprecated in Scrapy 2.0, has now been removed. Use scrapy.utils.python.to_unicode()
instead. (<a href="https://github.com/scrapy/scrapy/issues/5719"><span
style='color:#377063;text-decoration:none'>issue 5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.python.MutableChain.next
method, deprecated in Scrapy 2.0, has now been removed. Use __next__() instead.
(<a href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:
#377063;text-decoration:none'>issue 5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.linkextractors.FilteringLinkExtractor
class, deprecated in Scrapy 2.0, has now been removed. Use <i><span
style='color:#355F7C'>LinkExtractor </span></i>instead. (<a
href="https://github.com/scrapy/scrapy/issues/5720"><span style='color:#377063;
text-decoration:none'>issue 5720</span></a><a
href="https://github.com/scrapy/scrapy/issues/5720"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for using
environment variables prefixed with SCRAPY_ to override settings, deprecated in
Scrapy 2.0, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5724"><span style='color:#377063;
text-decoration:none'>issue 5724</span></a><a
href="https://github.com/scrapy/scrapy/issues/5724"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for the noconnect
query string argument in proxy URLs, deprecated in Scrapy 2.0, has now been
removed. We expect proxies that used to need it to work fine without it. (<a
href="https://github.com/scrapy/scrapy/issues/5731"><span style='color:#377063;
text-decoration:none'>issue 5731</span></a><a
href="https://github.com/scrapy/scrapy/issues/5731"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.python.retry_on_eintr
function, deprecated in Scrapy 2.3, has now been removed. <a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>issue 5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.python.WeakKeyCache
class, deprecated in Scrapy 2.4, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.boto.is_botocore()
function, deprecated in Scrapy 2.4, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:#377063;
text-decoration:none'>5719</span></a><a
href="https://github.com/scrapy/scrapy/issues/5719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.95pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.pipelines.images.NoimagesDrop
is now deprecated. (<a href="https://github.com/scrapy/scrapy/issues/5368"><span
style='color:#377063;text-decoration:none'>issue 5368</span></a><a
href="https://github.com/scrapy/scrapy/issues/5368"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5489"><span style='color:#377063;
text-decoration:none'>issue 5489</span></a><a
href="https://github.com/scrapy/scrapy/issues/5489"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImagesPipeline.convert_image
must now accept a response_body parameter. (<a
href="https://github.com/scrapy/scrapy/issues/3055"><span style='color:#377063;
text-decoration:none'>issue 3055</span></a><a
href="https://github.com/scrapy/scrapy/issues/3055"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3689"><span style='color:#377063;
text-decoration:none'>issue 3689</span></a><a
href="https://github.com/scrapy/scrapy/issues/3689"><span style='color:black;
text-decoration:none'>,</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4753"><span style='color:#377063;
text-decoration:none'>issue 4753</span></a><a
href="https://github.com/scrapy/scrapy/issues/4753"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Applied <a
href="https://black.readthedocs.io/en/stable/"><span style='color:#377063;
text-decoration:none'>black</span></a><span style='color:#377063'> </span>coding
style to files generated with the <i><span style='color:#355F7C'>genspider </span></i>and
<i><span style='color:#355F7C'>startproject </span></i>commands. (<a
href="https://github.com/scrapy/scrapy/issues/5809"><span style='color:#377063;
text-decoration:none'>issue 5809</span></a><a
href="https://github.com/scrapy/scrapy/issues/5809"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5814"><span style='color:#377063;
text-decoration:none'>issue 5814</span></a><a
href="https://github.com/scrapy/scrapy/issues/5814"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FEED_EXPORT_ENCODING </span></i>is now set to &quot;utf-8&quot;
in the settings.py file that the <i><span style='color:#355F7C'>startproject </span></i>command
generates. With this value, JSON exports won’t force the use of escape
sequences for non-ASCII characters. <a
href="https://github.com/scrapy/scrapy/issues/5797"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5797"><span style='color:#377063;
text-decoration:none'>issue 5797</span></a><a
href="https://github.com/scrapy/scrapy/issues/5797"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5800"><span style='color:#377063;
text-decoration:none'>issue 5800</span></a><a
href="https://github.com/scrapy/scrapy/issues/5800"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>MemoryUsage </span></i>extension now logs the peak memory
usage during checks, and the binary unit MiB is now used to avoid confusion. (<a
href="https://github.com/scrapy/scrapy/issues/5717"><span style='color:#377063;
text-decoration:none'>issue 5717</span></a><a
href="https://github.com/scrapy/scrapy/issues/5717"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5722"><span style='color:#377063;
text-decoration:none'>issue 5722</span></a><a
href="https://github.com/scrapy/scrapy/issues/5722"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5727"><span style='color:#377063;
text-decoration:none'>issue 5727</span></a><a
href="https://github.com/scrapy/scrapy/issues/5727"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The callback parameter
of <i><span style='color:#355F7C'>Request </span></i>can now be set to <i><span
style='color:#355F7C'>scrapy.http.request.NO_CALLBACK()</span></i>, to distin-</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:67.85pt;margin-left:3.0pt;text-align:right'>guish it from None,
as the latter indicates that the default spider callback (<i><span
style='color:#355F7C'>parse()</span></i>) is to be used. (<a
href="https://github.com/scrapy/scrapy/issues/5798"><span style='color:#377063;
text-decoration:none'>issue 5798</span></a><a
href="https://github.com/scrapy/scrapy/issues/5798"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enabled unsafe legacy
SSL renegotiation to fix access to some outdated websites. (<a
href="https://github.com/scrapy/scrapy/issues/5491"><span style='color:#377063;
text-decoration:none'>issue 5491</span></a><a
href="https://github.com/scrapy/scrapy/issues/5491"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5790"><span style='color:#377063;
text-decoration:none'>issue 5790</span></a><a
href="https://github.com/scrapy/scrapy/issues/5790"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed STARTTLS-based
email delivery not working with Twisted 21.2.0 and better. (<a
href="https://github.com/scrapy/scrapy/issues/5386"><span style='color:#377063;
text-decoration:none'>issue 5386</span></a><a
href="https://github.com/scrapy/scrapy/issues/5386"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5406"><span style='color:#377063;
text-decoration:none'>issue 5406</span></a><a
href="https://github.com/scrapy/scrapy/issues/5406"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the finish_exporting()
method of <i><span style='color:#355F7C'>item exporters </span></i>not being
called for empty files. (<a href="https://github.com/scrapy/scrapy/issues/5537"><span
style='color:#377063;text-decoration:none'>issue 5537</span></a><a
href="https://github.com/scrapy/scrapy/issues/5537"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5758"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5758"><span style='color:#377063;
text-decoration:none'>5758</span></a><a
href="https://github.com/scrapy/scrapy/issues/5758"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed HTTP/2
responses getting only the last value for a header when multiple headers with
the same name are received. (<a
href="https://github.com/scrapy/scrapy/issues/5777"><span style='color:#377063;
text-decoration:none'>issue 5777</span></a><a
href="https://github.com/scrapy/scrapy/issues/5777"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an exception
raised by the <i><span style='color:#355F7C'>shell </span></i>command on some
cases when <i><span style='color:#355F7C'>using asyncio</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5740"><span style='color:#377063;
text-decoration:none'>issue 5740</span></a><a
href="https://github.com/scrapy/scrapy/issues/5740"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5742"><span style='color:#377063;
text-decoration:none'>issue 5742</span></a><a
href="https://github.com/scrapy/scrapy/issues/5742"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5748"><span style='color:#377063;
text-decoration:none'>issue 5748</span></a><a
href="https://github.com/scrapy/scrapy/issues/5748"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5759"><span style='color:#377063;
text-decoration:none'>issue 5759</span></a><a
href="https://github.com/scrapy/scrapy/issues/5759"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5760"><span style='color:#377063;
text-decoration:none'>issue 5760</span></a><a
href="https://github.com/scrapy/scrapy/issues/5760"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5771"><span style='color:#377063;
text-decoration:none'>issue 5771</span></a><a
href="https://github.com/scrapy/scrapy/issues/5771"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using <i><span
style='color:#355F7C'>CrawlSpider</span></i>, callback keyword arguments (cb_kwargs)
added to a request in the process_request callback of a <i><span
style='color:#355F7C'>Rule </span></i>will no longer be ignored. (<a
href="https://github.com/scrapy/scrapy/issues/5699"><span style='color:#377063;
text-decoration:none'>issue 5699</span></a><a
href="https://github.com/scrapy/scrapy/issues/5699"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>images pipeline </span></i>no longer re-encodes JPEG
files. (<a href="https://github.com/scrapy/scrapy/issues/3055"><span
style='color:#377063;text-decoration:none'>issue 3055</span></a><a
href="https://github.com/scrapy/scrapy/issues/3055"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3689"><span style='color:#377063;
text-decoration:none'>issue 3689</span></a><a
href="https://github.com/scrapy/scrapy/issues/3689"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4753"><span style='color:#377063;
text-decoration:none'>issue 4753</span></a><a
href="https://github.com/scrapy/scrapy/issues/4753"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the handling of
transparent WebP images by the <i><span style='color:#355F7C'>images pipeline</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/3072"><span style='color:
#377063;text-decoration:none'>issue 3072</span></a><a
href="https://github.com/scrapy/scrapy/issues/3072"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5766"><span style='color:#377063;
text-decoration:none'>issue 5766</span></a><a
href="https://github.com/scrapy/scrapy/issues/5766"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5767"><span style='color:#377063;
text-decoration:none'>issue 5767</span></a><a
href="https://github.com/scrapy/scrapy/issues/5767"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.shell.inspect_response()
no longer inhibits SIGINT (Ctrl+C). (<a
href="https://github.com/scrapy/scrapy/issues/2918"><span style='color:#377063;
text-decoration:none'>issue 2918</span></a><a
href="https://github.com/scrapy/scrapy/issues/2918"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LinkExtractor </span></i>with unique=False no longer
filters out links that have identical URL <i>and </i>text. (<a
href="https://github.com/scrapy/scrapy/issues/3798"><span style='color:#377063;
text-decoration:none'>issue 3798</span></a><a
href="https://github.com/scrapy/scrapy/issues/3798"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3799"><span style='color:#377063;
text-decoration:none'>issue 3799</span></a><a
href="https://github.com/scrapy/scrapy/issues/3799"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4695"><span style='color:#377063;
text-decoration:none'>issue 4695</span></a><a
href="https://github.com/scrapy/scrapy/issues/4695"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5458"><span style='color:#377063;
text-decoration:none'>issue 5458</span></a><a
href="https://github.com/scrapy/scrapy/issues/5458"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>RobotsTxtMiddleware </span></i>now ignores URL protocols
that do not support robots.txt (data://, file://). <a
href="https://github.com/scrapy/scrapy/issues/5807"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5807"><span style='color:#377063;
text-decoration:none'>issue 5807</span></a><a
href="https://github.com/scrapy/scrapy/issues/5807"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Silenced the filelock
debug log messages introduced in Scrapy 2.6. (<a
href="https://github.com/scrapy/scrapy/issues/5753"><span style='color:#377063;
text-decoration:none'>issue 5753</span></a><a
href="https://github.com/scrapy/scrapy/issues/5753"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5754"><span style='color:#377063;
text-decoration:none'>issue 5754</span></a><a
href="https://github.com/scrapy/scrapy/issues/5754"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the output of scrapy
-h showing an unintended **commands** line.                (<a
href="https://github.com/scrapy/scrapy/issues/5709"><span style='color:#377063;
text-decoration:none'>issue 5709</span></a><a
href="https://github.com/scrapy/scrapy/issues/5709"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5711"><span style='color:#377063;
text-decoration:none'>issue 5711</span></a><a
href="https://github.com/scrapy/scrapy/issues/5711"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5712"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5712"><span style='color:#377063;
text-decoration:none'>5712</span></a><a
href="https://github.com/scrapy/scrapy/issues/5712"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made the active
project indication in the output of <i><span style='color:#355F7C'>commands </span></i>more
clear. (<a href="https://github.com/scrapy/scrapy/issues/5715"><span
style='color:#377063;text-decoration:none'>issue 5715</span></a><a
href="https://github.com/scrapy/scrapy/issues/5715"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
how to <i><span style='color:#355F7C'>debug spiders from Visual Studio Code</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5721"><span style='color:
#377063;text-decoration:none'>issue 5721</span></a><a
href="https://github.com/scrapy/scrapy/issues/5721"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented how <i><span
style='color:#355F7C'>DOWNLOAD_DELAY </span></i>affects per-domain concurrency.
(<a href="https://github.com/scrapy/scrapy/issues/5083"><span style='color:
#377063;text-decoration:none'>issue 5083</span></a><a
href="https://github.com/scrapy/scrapy/issues/5083"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5540"><span style='color:#377063;
text-decoration:none'>issue 5540</span></a><a
href="https://github.com/scrapy/scrapy/issues/5540"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved consistency.
(<a href="https://github.com/scrapy/scrapy/issues/5761"><span style='color:
#377063;text-decoration:none'>issue 5761</span></a><a
href="https://github.com/scrapy/scrapy/issues/5761"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
typos. (<a href="https://github.com/scrapy/scrapy/issues/5714"><span
style='color:#377063;text-decoration:none'>issue 5714</span></a><a
href="https://github.com/scrapy/scrapy/issues/5714"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5744"><span style='color:#377063;
text-decoration:none'>issue 5744</span></a><a
href="https://github.com/scrapy/scrapy/issues/5744"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5764"><span style='color:#377063;
text-decoration:none'>issue 5764</span></a><a
href="https://github.com/scrapy/scrapy/issues/5764"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Applied <i><span
style='color:#355F7C'>black coding style</span></i>, sorted import statements,
and introduced <i><span style='color:#355F7C'>pre-commit</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/4654"><span style='color:#377063;
text-decoration:none'>issue 4654</span></a><a
href="https://github.com/scrapy/scrapy/issues/4654"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4658"><span style='color:#377063;
text-decoration:none'>issue 4658</span></a><a
href="https://github.com/scrapy/scrapy/issues/4658"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5734"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5734"><span style='color:#377063;
text-decoration:none'>5734</span></a><a
href="https://github.com/scrapy/scrapy/issues/5734"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5737"><span style='color:#377063;
text-decoration:none'>issue 5737</span></a><a
href="https://github.com/scrapy/scrapy/issues/5737"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5806"><span style='color:#377063;
text-decoration:none'>issue 5806</span></a><a
href="https://github.com/scrapy/scrapy/issues/5806"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5810"><span style='color:#377063;
text-decoration:none'>issue 5810</span></a><a
href="https://github.com/scrapy/scrapy/issues/5810"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Switched
from <a href="https://docs.python.org/3/library/os.path.html#module-os.path"><span
style='color:#377063;text-decoration:none'>os.path</span></a><span
style='color:#377063'> </span>to <a
href="https://docs.python.org/3/library/pathlib.html#module-pathlib"><span
style='color:#377063;text-decoration:none'>pathlib</span></a><a
href="https://docs.python.org/3/library/pathlib.html#module-pathlib"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4916"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4916"><span style='color:#377063;
text-decoration:none'>issue 4916</span></a><a
href="https://github.com/scrapy/scrapy/issues/4916"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4497"><span style='color:#377063;
text-decoration:none'>issue 4497</span></a><a
href="https://github.com/scrapy/scrapy/issues/4497"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5682"><span style='color:#377063;
text-decoration:none'>issue 5682</span></a><a
href="https://github.com/scrapy/scrapy/issues/5682"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Addressed many issues
reported by Pylint. (<a href="https://github.com/scrapy/scrapy/issues/5677"><span
style='color:#377063;text-decoration:none'>issue 5677</span></a><a
href="https://github.com/scrapy/scrapy/issues/5677"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved code
readability. (<a href="https://github.com/scrapy/scrapy/issues/5736"><span
style='color:#377063;text-decoration:none'>issue 5736</span></a><a
href="https://github.com/scrapy/scrapy/issues/5736"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved package
metadata. (<a href="https://github.com/scrapy/scrapy/issues/5768"><span
style='color:#377063;text-decoration:none'>issue 5768</span></a><a
href="https://github.com/scrapy/scrapy/issues/5768"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed direct
invocations of setup.py. (<a href="https://github.com/scrapy/scrapy/issues/5774"><span
style='color:#377063;text-decoration:none'>issue 5774</span></a><a
href="https://github.com/scrapy/scrapy/issues/5774"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5776"><span style='color:#377063;
text-decoration:none'>issue 5776</span></a><a
href="https://github.com/scrapy/scrapy/issues/5776"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed unnecessary <a
href="https://docs.python.org/3/library/collections.html#collections.OrderedDict"><span
style='color:#377063;text-decoration:none'>OrderedDic</span></a><a
href="https://docs.python.org/3/library/collections.html#collections.OrderedDict"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>usages. (<a
href="https://github.com/scrapy/scrapy/issues/5795"><span style='color:#377063;
text-decoration:none'>issue 5795</span></a><a
href="https://github.com/scrapy/scrapy/issues/5795"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed unnecessary __str__
definitions. (<a href="https://github.com/scrapy/scrapy/issues/5150"><span
style='color:#377063;text-decoration:none'>issue 5150</span></a><a
href="https://github.com/scrapy/scrapy/issues/5150"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed obsolete code
and comments. (<a href="https://github.com/scrapy/scrapy/issues/5725"><span
style='color:#377063;text-decoration:none'>issue 5725</span></a><a
href="https://github.com/scrapy/scrapy/issues/5725"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5729"><span style='color:#377063;
text-decoration:none'>issue 5729</span></a><a
href="https://github.com/scrapy/scrapy/issues/5729"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5730"><span style='color:#377063;
text-decoration:none'>issue 5730</span></a><a
href="https://github.com/scrapy/scrapy/issues/5730"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5732"><span style='color:#377063;
text-decoration:none'>issue 5732</span></a><a
href="https://github.com/scrapy/scrapy/issues/5732"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
test and CI issues. (<a href="https://github.com/scrapy/scrapy/issues/5749"><span
style='color:#377063;text-decoration:none'>issue 5749</span></a><a
href="https://github.com/scrapy/scrapy/issues/5749"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5750"><span style='color:#377063;
text-decoration:none'>issue 5750</span></a><a
href="https://github.com/scrapy/scrapy/issues/5750"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5756"><span style='color:#377063;
text-decoration:none'>issue 5756</span></a><a
href="https://github.com/scrapy/scrapy/issues/5756"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5762"><span style='color:#377063;
text-decoration:none'>issue 5762</span></a><a
href="https://github.com/scrapy/scrapy/issues/5762"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5765"><span style='color:#377063;
text-decoration:none'>issue 5765</span></a><a
href="https://github.com/scrapy/scrapy/issues/5765"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5780"><span style='color:#377063;
text-decoration:none'>issue 5780</span></a><a
href="https://github.com/scrapy/scrapy/issues/5780"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5781"><span style='color:#377063;
text-decoration:none'>issue 5781</span></a><a
href="https://github.com/scrapy/scrapy/issues/5781"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5782"><span style='color:#377063;
text-decoration:none'>issue 5782</span></a><a
href="https://github.com/scrapy/scrapy/issues/5782"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5783"><span style='color:#377063;
text-decoration:none'>issue 5783</span></a><a
href="https://github.com/scrapy/scrapy/issues/5783"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5785"><span style='color:#377063;
text-decoration:none'>issue 5785</span></a><a
href="https://github.com/scrapy/scrapy/issues/5785"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5786"><span style='color:#377063;
text-decoration:none'>issue 5786</span></a><a
href="https://github.com/scrapy/scrapy/issues/5786"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.9 Scrapy 2.7.1
(2022-11-02)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Relaxed the
restriction introduced in 2.6.2 so that the Proxy-Authorization header can
again be set explicitly, as long as the proxy URL in the <i><span
style='color:#355F7C'>proxy </span></i>metadata has no other credentials, and
for as long as that proxy URL remains the same; this restores compatibility
with scrapy-zyte-smartproxy 2.1.0 and older (<a
href="https://github.com/scrapy/scrapy/issues/5626"><span style='color:#377063;
text-decoration:none'>issue 5626</span></a><a
href="https://github.com/scrapy/scrapy/issues/5626"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Using -O/--overwrite-output
and -t/--output-format options together now produces an error instead of
ignoring the former option (<a
href="https://github.com/scrapy/scrapy/issues/5516"><span style='color:#377063;
text-decoration:none'>issue 5516</span></a><a
href="https://github.com/scrapy/scrapy/issues/5516"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5605"><span style='color:#377063;
text-decoration:none'>issue 5605</span></a><a
href="https://github.com/scrapy/scrapy/issues/5605"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replaced deprecated <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>APIs that
implicitly use the current event loop with code that explicitly requests a loop
from the event loop policy (<a
href="https://github.com/scrapy/scrapy/issues/5685"><span style='color:#377063;
text-decoration:none'>issue 5685</span></a><a
href="https://github.com/scrapy/scrapy/issues/5685"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5689"><span style='color:#377063;
text-decoration:none'>issue 5689</span></a><a
href="https://github.com/scrapy/scrapy/issues/5689"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed uses of
deprecated Scrapy APIs in Scrapy itself (<a
href="https://github.com/scrapy/scrapy/issues/5588"><span style='color:#377063;
text-decoration:none'>issue 5588</span></a><a
href="https://github.com/scrapy/scrapy/issues/5588"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5589"><span style='color:#377063;
text-decoration:none'>issue 5589</span></a><a
href="https://github.com/scrapy/scrapy/issues/5589"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed uses of a
deprecated Pillow API (<a href="https://github.com/scrapy/scrapy/issues/5684"><span
style='color:#377063;text-decoration:none'>issue 5684</span></a><a
href="https://github.com/scrapy/scrapy/issues/5684"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5692"><span style='color:#377063;
text-decoration:none'>issue 5692</span></a><a
href="https://github.com/scrapy/scrapy/issues/5692"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved code that
checks if generators return values, so that it no longer fails on decorated
methods and partial methods (<a
href="https://github.com/scrapy/scrapy/issues/5323"><span style='color:#377063;
text-decoration:none'>issue 5323</span></a><a
href="https://github.com/scrapy/scrapy/issues/5323"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5592"><span style='color:#377063;
text-decoration:none'>issue 5592</span></a><a
href="https://github.com/scrapy/scrapy/issues/5592"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5599"><span style='color:#377063;
text-decoration:none'>issue 5599</span></a><a
href="https://github.com/scrapy/scrapy/issues/5599"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5691"><span style='color:#377063;
text-decoration:none'>issue 5691</span></a><a
href="https://github.com/scrapy/scrapy/issues/5691"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Upgraded the Code of
Conduct to Contributor Covenant v2.1 (<a
href="https://github.com/scrapy/scrapy/issues/5698"><span style='color:#377063;
text-decoration:none'>issue 5698</span></a><a
href="https://github.com/scrapy/scrapy/issues/5698"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
typos (<a href="https://github.com/scrapy/scrapy/issues/5681"><span
style='color:#377063;text-decoration:none'>issue 5681</span></a><a
href="https://github.com/scrapy/scrapy/issues/5681"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5694"><span style='color:#377063;
text-decoration:none'>issue 5694</span></a><a
href="https://github.com/scrapy/scrapy/issues/5694"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Re-enabled some
erroneously disabled flake8 checks (<a
href="https://github.com/scrapy/scrapy/issues/5688"><span style='color:#377063;
text-decoration:none'>issue 5688</span></a><a
href="https://github.com/scrapy/scrapy/issues/5688"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ignored harmless
deprecation warnings from <a
href="https://docs.python.org/3/library/typing.html#module-typing"><span
style='color:#377063;text-decoration:none'>typin</span></a><a
href="https://docs.python.org/3/library/typing.html#module-typing"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>g</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>in tests
(<a href="https://github.com/scrapy/scrapy/issues/5686"><span style='color:
#377063;text-decoration:none'>issue 5686</span></a><a
href="https://github.com/scrapy/scrapy/issues/5686"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5697"><span style='color:#377063;
text-decoration:none'>issue 5697</span></a><a
href="https://github.com/scrapy/scrapy/issues/5697"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Modernized our CI
configuration (<a href="https://github.com/scrapy/scrapy/issues/5695"><span
style='color:#377063;text-decoration:none'>issue 5695</span></a><a
href="https://github.com/scrapy/scrapy/issues/5695"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5696"><span style='color:#377063;
text-decoration:none'>issue 5696</span></a><a
href="https://github.com/scrapy/scrapy/issues/5696"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.10 Scrapy 2.7.0
(2022-10-17)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added Python 3.11
support, dropped Python 3.6 support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
support for <i><span style='color:#355F7C'>asynchronous callbacks</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Asyncio support </span></i>is enabled by default on new
projects</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Output names of item
fields can now be arbitrary strings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Centralized <i><span
style='color:#355F7C'>request fingerprinting </span></i>configuration is now
possible</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Python 3.7 or greater is now required; support for Python 3.6
has been dropped. Support for the upcoming Python 3.11 has been added.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The minimum required version of some dependencies has changed
as well:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><a
href="https://lxml.de/"><span style='color:black;text-decoration:none'>:</span></a>
3.5.0 <span style='font-family:"Cambria",serif'>&#8594; </span>4.3.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://python-pillow.org/"><span style='color:#377063;text-decoration:
none'>Pillow</span></a><span style='color:#377063'> </span>(<i><span
style='color:#355F7C'>images pipeline</span></i>): 4.0.0 <span
style='font-family:"Cambria",serif'>&#8594; </span>7.1.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://zopeinterface.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>zope.interface</span></a><a
href="https://zopeinterface.readthedocs.io/en/latest/"><span style='color:black;
text-decoration:none'>:</span></a> 5.0.0 <span style='font-family:"Cambria",serif'>&#8594;
</span>5.1.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:.5pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5512"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5512"><span style='color:#377063;
text-decoration:none'>issue 5512</span></a><a
href="https://github.com/scrapy/scrapy/issues/5512"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5514"><span style='color:#377063;
text-decoration:none'>issue 5514</span></a><a
href="https://github.com/scrapy/scrapy/issues/5514"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5524"><span style='color:#377063;
text-decoration:none'>issue 5524</span></a><a
href="https://github.com/scrapy/scrapy/issues/5524"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5563"><span style='color:#377063;
text-decoration:none'>issue 5563</span></a><a
href="https://github.com/scrapy/scrapy/issues/5563"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5664"><span style='color:#377063;
text-decoration:none'>issue 5664</span></a><a
href="https://github.com/scrapy/scrapy/issues/5664"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5670"><span style='color:#377063;
text-decoration:none'>issue 5670</span></a><a
href="https://github.com/scrapy/scrapy/issues/5670"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5678"><span style='color:#377063;
text-decoration:none'>issue 5678</span></a><a
href="https://github.com/scrapy/scrapy/issues/5678"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ImagesPipeline.thumb_path </span></i>must now accept an item
parameter (<a href="https://github.com/scrapy/scrapy/issues/5504"><span
style='color:#377063;text-decoration:none'>issue 5504</span></a><a
href="https://github.com/scrapy/scrapy/issues/5504"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5508"><span style='color:#377063;
text-decoration:none'>issue 5508</span></a><a
href="https://github.com/scrapy/scrapy/issues/5508"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.downloadermiddlewares.decompression module is now deprecated (<a
href="https://github.com/scrapy/scrapy/issues/5546"><span style='color:#377063;
text-decoration:none'>issue 5546</span></a><a
href="https://github.com/scrapy/scrapy/issues/5546"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5547"><span style='color:#377063;
text-decoration:none'>issue 5547</span></a><a
href="https://github.com/scrapy/scrapy/issues/5547"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>process_spider_output() </span></i>method of <i><span
style='color:#355F7C'>spider middlewares </span></i>can now be defined as an <a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>asynchronous gen</span></a><a
href="https://docs.python.org/3/glossary.html#term-asynchronous-generator"><span
style='color:#377063;text-decoration:none'>erator</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:#377063;
text-decoration:none'>issue 4978</span></a><a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The output of Request
callbacks defined as <i><span style='color:#355F7C'>coroutines </span></i>is
now processed asynchronously (<a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:#377063;
text-decoration:none'>issue 4978</span></a><a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CrawlSpider
now supports <i><span style='color:#355F7C'>asynchronous callbacks </span></i><a
href="https://github.com/scrapy/scrapy/issues/5657"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5657"><span style='color:#377063;
text-decoration:none'>issue 5657</span></a><a
href="https://github.com/scrapy/scrapy/issues/5657"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New projects created
with the <i><span style='color:#355F7C'>startproject </span></i>command have <i><span
style='color:#355F7C'>asyncio support </span></i>enabled by default (<a
href="https://github.com/scrapy/scrapy/issues/5590"><span style='color:#377063;
text-decoration:none'>issue 5590</span></a><a
href="https://github.com/scrapy/scrapy/issues/5590"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5679"><span style='color:#377063;
text-decoration:none'>issue 5679</span></a><a
href="https://github.com/scrapy/scrapy/issues/5679"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>FEED_EXPORT_FIELDS </span></i>setting can now be defined
as a dictionary to customize the output name of item fields, lifting the
restriction that required output names to be valid Python identifiers, e.g.
preventing them to have whitespace (<a
href="https://github.com/scrapy/scrapy/issues/1008"><span style='color:#377063;
text-decoration:none'>issue 1008</span></a><a
href="https://github.com/scrapy/scrapy/issues/1008"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3266"><span style='color:#377063;
text-decoration:none'>issue 3266</span></a><a
href="https://github.com/scrapy/scrapy/issues/3266"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3696"><span style='color:#377063;
text-decoration:none'>issue 3696</span></a><a
href="https://github.com/scrapy/scrapy/issues/3696"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can now customize
<i><span style='color:#355F7C'>request fingerprinting </span></i>through the
new <i><span style='color:#355F7C'>REQUEST_FINGERPRINTER_CLASS </span></i>setting,
instead of having to change it on every Scrapy component that relies on request
fingerprinting (<a href="https://github.com/scrapy/scrapy/issues/900"><span
style='color:#377063;text-decoration:none'>issue 900</span></a><a
href="https://github.com/scrapy/scrapy/issues/900"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3420"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3420"><span style='color:#377063;
text-decoration:none'>3420</span></a><a
href="https://github.com/scrapy/scrapy/issues/3420"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4113"><span style='color:#377063;
text-decoration:none'>issue 4113</span></a><a
href="https://github.com/scrapy/scrapy/issues/4113"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4762"><span style='color:#377063;
text-decoration:none'>issue 4762</span></a><a
href="https://github.com/scrapy/scrapy/issues/4762"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4524"><span style='color:#377063;
text-decoration:none'>issue 4524</span></a><a
href="https://github.com/scrapy/scrapy/issues/4524"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>jsonl is now
supported and encouraged as a file extension for <a
href="https://jsonlines.org/"><span style='color:#377063;text-decoration:none'>JSON
Lines</span></a><span style='color:#377063'> </span>files (<a
href="https://github.com/scrapy/scrapy/issues/4848"><span style='color:#377063;
text-decoration:none'>issue 4848</span></a><a
href="https://github.com/scrapy/scrapy/issues/4848"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ImagesPipeline.thumb_path </span></i>now receives the
source <i><span style='color:#355F7C'>item </span></i><a
href="https://github.com/scrapy/scrapy/issues/5504"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5504"><span style='color:#377063;
text-decoration:none'>issue 5504</span></a><a
href="https://github.com/scrapy/scrapy/issues/5504"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5508"><span style='color:#377063;
text-decoration:none'>issue 5508</span></a><a
href="https://github.com/scrapy/scrapy/issues/5508"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using Google
Cloud Storage with a <i><span style='color:#355F7C'>media pipeline</span></i>, <i><span
style='color:#355F7C'>FILES_EXPIRES </span></i>now also works when <i><span
style='color:#355F7C'>FILES_STORE </span></i>does not point at the root of your
Google Cloud Storage bucket (<a
href="https://github.com/scrapy/scrapy/issues/5317"><span style='color:#377063;
text-decoration:none'>issue 5317</span></a><a
href="https://github.com/scrapy/scrapy/issues/5317"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5318"><span style='color:#377063;
text-decoration:none'>issue 5318</span></a><a
href="https://github.com/scrapy/scrapy/issues/5318"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>parse </span></i>command now supports <i><span
style='color:#355F7C'>asynchronous callbacks </span></i><a
href="https://github.com/scrapy/scrapy/issues/5424"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5424"><span style='color:#377063;
text-decoration:none'>issue 5424</span></a><a
href="https://github.com/scrapy/scrapy/issues/5424"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5577"><span style='color:#377063;
text-decoration:none'>issue 5577</span></a><a
href="https://github.com/scrapy/scrapy/issues/5577"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using the <i><span
style='color:#355F7C'>parse </span></i>command with a URL for which there is no
available spider, an exception is no longer raised (<a
href="https://github.com/scrapy/scrapy/issues/3264"><span style='color:#377063;
text-decoration:none'>issue 3264</span></a><a
href="https://github.com/scrapy/scrapy/issues/3264"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3265"><span style='color:#377063;
text-decoration:none'>issue 3265</span></a><a
href="https://github.com/scrapy/scrapy/issues/3265"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5375"><span style='color:#377063;
text-decoration:none'>issue 5375</span></a><a
href="https://github.com/scrapy/scrapy/issues/5375"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5376"><span style='color:#377063;
text-decoration:none'>issue 5376</span></a><a
href="https://github.com/scrapy/scrapy/issues/5376"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5497"><span style='color:#377063;
text-decoration:none'>issue 5497</span></a><a
href="https://github.com/scrapy/scrapy/issues/5497"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>TextResponse </span></i>now gives higher priority to the <a
href="https://en.wikipedia.org/wiki/Byte_order_mark"><span style='color:#377063;
text-decoration:none'>byte order mark</span></a><span style='color:#377063'> </span>when
determining the text encoding of the response body, following the <a
href="https://html.spec.whatwg.org/multipage/parsing.html#determining-the-character-encoding"><span
style='color:#377063;text-decoration:none'>HTML living standard</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/5601"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5601"><span style='color:#377063;
text-decoration:none'>issue 5601</span></a><a
href="https://github.com/scrapy/scrapy/issues/5601"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5611"><span style='color:#377063;
text-decoration:none'>issue 5611</span></a><a
href="https://github.com/scrapy/scrapy/issues/5611"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MIME sniffing takes
the response body into account in FTP and HTTP/1.0 requests, as well as in
cached requests <a href="https://github.com/scrapy/scrapy/issues/4873"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4873"><span style='color:#377063;
text-decoration:none'>issue 4873</span></a><a
href="https://github.com/scrapy/scrapy/issues/4873"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MIME sniffing now
detects valid HTML 5 documents even if the html tag is missing (<a
href="https://github.com/scrapy/scrapy/issues/4873"><span style='color:#377063;
text-decoration:none'>issue 4873</span></a><a
href="https://github.com/scrapy/scrapy/issues/4873"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>An exception is now
raised if <i><span style='color:#355F7C'>ASYNCIO_EVENT_LOOP </span></i>has a
value that does not match the asyncio event loop actually installed (<a
href="https://github.com/scrapy/scrapy/issues/5529"><span style='color:#377063;
text-decoration:none'>issue 5529</span></a><a
href="https://github.com/scrapy/scrapy/issues/5529"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed Headers.getlist
returning only the last header (<a
href="https://github.com/scrapy/scrapy/issues/5515"><span style='color:#377063;
text-decoration:none'>issue 5515</span></a><a
href="https://github.com/scrapy/scrapy/issues/5515"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5526"><span style='color:#377063;
text-decoration:none'>issue 5526</span></a><a
href="https://github.com/scrapy/scrapy/issues/5526"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>LinkExtractor </span></i>not ignoring the tar.gz file
extension by default (<a href="https://github.com/scrapy/scrapy/issues/1837"><span
style='color:#377063;text-decoration:none'>issue 1837</span></a><a
href="https://github.com/scrapy/scrapy/issues/1837"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2067"><span style='color:#377063;
text-decoration:none'>issue 2067</span></a><a
href="https://github.com/scrapy/scrapy/issues/2067"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4066"><span style='color:#377063;
text-decoration:none'>issue 4066</span></a><a
href="https://github.com/scrapy/scrapy/issues/4066"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified the return
type of <i><span style='color:#355F7C'>Spider.parse </span></i><a
href="https://github.com/scrapy/scrapy/issues/5602"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5602"><span style='color:#377063;
text-decoration:none'>issue 5602</span></a><a
href="https://github.com/scrapy/scrapy/issues/5602"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5608"><span style='color:#377063;
text-decoration:none'>issue 5608</span></a><a
href="https://github.com/scrapy/scrapy/issues/5608"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>To enable <i><span
style='color:#355F7C'>HttpCompressionMiddleware </span></i>to do <a
href="https://www.ietf.org/rfc/rfc7932.txt"><span style='color:#377063;
text-decoration:none'>brotli compression</span></a><a
href="https://www.ietf.org/rfc/rfc7932.txt"><span style='color:black;
text-decoration:none'>,</span></a> installing <a
href="https://github.com/google/brotli"><span style='color:#377063;text-decoration:
none'>brotli</span></a><span style='color:#377063'> </span>is now recommended
instead of installing <a href="https://github.com/python-hyper/brotlipy/"><span
style='color:#377063;text-decoration:none'>brotlipy</span></a><a
href="https://github.com/python-hyper/brotlipy/"><span style='color:black;
text-decoration:none'>,</span></a> as the former provides a more recent version
of brotli.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Signal documentation </span></i>now mentions <i><span
style='color:#355F7C'>coroutine support </span></i>and uses it in code examples
(<a href="https://github.com/scrapy/scrapy/issues/4852"><span style='color:
#377063;text-decoration:none'>issue 4852</span></a><a
href="https://github.com/scrapy/scrapy/issues/4852"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5358"><span style='color:#377063;
text-decoration:none'>issue 5358</span></a><a
href="https://github.com/scrapy/scrapy/issues/5358"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Avoiding getting banned </span></i>now recommends <a
href="https://commoncrawl.org/"><span style='color:#377063;text-decoration:
none'>Common Crawl</span></a><span style='color:#377063'> </span>instead of <a
href="https://www.googleguide.com/cached_pages.html"><span style='color:#377063;
text-decoration:none'>Google cache</span></a><span style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/3582"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3582"><span style='color:#377063;
text-decoration:none'>issue 3582</span></a><a
href="https://github.com/scrapy/scrapy/issues/3582"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5432"><span style='color:#377063;
text-decoration:none'>issue 5432</span></a><a
href="https://github.com/scrapy/scrapy/issues/5432"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:98%'><span
style='line-height:98%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
new <i><span style='color:#355F7C'>Components </span></i>topic covers enforcing
requirements on Scrapy components, like <i><span style='color:#355F7C'>downloader
middlewares</span></i>, <i><span style='color:#355F7C'>extensions</span></i>, <i><span
style='color:#355F7C'>item pipelines</span></i>, <i><span style='color:#355F7C'>spider
middlewares</span></i>, and more; <i><span style='color:#355F7C'>Enforcing
asyncio as a requirement </span></i>has also been added (<a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:#377063;
text-decoration:none'>issue 4978</span></a><a
href="https://github.com/scrapy/scrapy/issues/4978"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Settings </span></i>now indicates that setting values
must be <a href="https://docs.python.org/3/library/pickle.html#pickle-picklable"><span
style='color:#377063;text-decoration:none'>picklable</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/5607"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5607"><span style='color:#377063;
text-decoration:none'>issue 5607</span></a><a
href="https://github.com/scrapy/scrapy/issues/5607"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5629"><span style='color:#377063;
text-decoration:none'>issue 5629</span></a><a
href="https://github.com/scrapy/scrapy/issues/5629"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
outdated documentation (<a href="https://github.com/scrapy/scrapy/issues/5446"><span
style='color:#377063;text-decoration:none'>issue 5446</span></a><a
href="https://github.com/scrapy/scrapy/issues/5446"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5373"><span style='color:#377063;
text-decoration:none'>issue 5373</span></a><a
href="https://github.com/scrapy/scrapy/issues/5373"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5369"><span style='color:#377063;
text-decoration:none'>issue 5369</span></a><a
href="https://github.com/scrapy/scrapy/issues/5369"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5370"><span style='color:#377063;
text-decoration:none'>issue 5370</span></a><a
href="https://github.com/scrapy/scrapy/issues/5370"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5554"><span style='color:#377063;
text-decoration:none'>issue 5554</span></a><a
href="https://github.com/scrapy/scrapy/issues/5554"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
typos (<a href="https://github.com/scrapy/scrapy/issues/5442"><span
style='color:#377063;text-decoration:none'>issue 5442</span></a><a
href="https://github.com/scrapy/scrapy/issues/5442"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5455"><span style='color:#377063;
text-decoration:none'>issue 5455</span></a><a
href="https://github.com/scrapy/scrapy/issues/5455"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5457"><span style='color:#377063;
text-decoration:none'>issue 5457</span></a><a
href="https://github.com/scrapy/scrapy/issues/5457"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5461"><span style='color:#377063;
text-decoration:none'>issue 5461</span></a><a
href="https://github.com/scrapy/scrapy/issues/5461"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5538"><span style='color:#377063;
text-decoration:none'>issue 5538</span></a><a
href="https://github.com/scrapy/scrapy/issues/5538"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5553"><span style='color:#377063;
text-decoration:none'>issue 5553</span></a><a
href="https://github.com/scrapy/scrapy/issues/5553"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5558"><span style='color:#377063;
text-decoration:none'>issue 5558</span></a><a
href="https://github.com/scrapy/scrapy/issues/5558"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5624"><span style='color:#377063;
text-decoration:none'>issue 5624</span></a><a
href="https://github.com/scrapy/scrapy/issues/5624"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5631"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5631"><span style='color:#377063;
text-decoration:none'>5631</span></a><a
href="https://github.com/scrapy/scrapy/issues/5631"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
other issues (<a href="https://github.com/scrapy/scrapy/issues/5283"><span
style='color:#377063;text-decoration:none'>issue 5283</span></a><a
href="https://github.com/scrapy/scrapy/issues/5283"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5284"><span style='color:#377063;
text-decoration:none'>issue 5284</span></a><a
href="https://github.com/scrapy/scrapy/issues/5284"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5559"><span style='color:#377063;
text-decoration:none'>issue 5559</span></a><a
href="https://github.com/scrapy/scrapy/issues/5559"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5567"><span style='color:#377063;
text-decoration:none'>issue 5567</span></a><a
href="https://github.com/scrapy/scrapy/issues/5567"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5648"><span style='color:#377063;
text-decoration:none'>issue 5648</span></a><a
href="https://github.com/scrapy/scrapy/issues/5648"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5659"><span style='color:#377063;
text-decoration:none'>issue 5659</span></a><a
href="https://github.com/scrapy/scrapy/issues/5659"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5665"><span style='color:#377063;
text-decoration:none'>issue 5665</span></a><a
href="https://github.com/scrapy/scrapy/issues/5665"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a continuous
integration job to run <a
href="https://twine.readthedocs.io/en/stable/#twine-check"><span
style='color:#377063;text-decoration:none'>twine check</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/5655"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5655"><span style='color:#377063;
text-decoration:none'>issue 5655</span></a><a
href="https://github.com/scrapy/scrapy/issues/5655"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5656"><span style='color:#377063;
text-decoration:none'>issue 5656</span></a><a
href="https://github.com/scrapy/scrapy/issues/5656"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Addressed
test issues and warnings (<a href="https://github.com/scrapy/scrapy/issues/5560"><span
style='color:#377063;text-decoration:none'>issue 5560</span></a><a
href="https://github.com/scrapy/scrapy/issues/5560"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5561"><span style='color:#377063;
text-decoration:none'>issue 5561</span></a><a
href="https://github.com/scrapy/scrapy/issues/5561"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5612"><span style='color:#377063;
text-decoration:none'>issue 5612</span></a><a
href="https://github.com/scrapy/scrapy/issues/5612"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5617"><span style='color:#377063;
text-decoration:none'>issue 5617</span></a><a
href="https://github.com/scrapy/scrapy/issues/5617"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5639"><span style='color:#377063;
text-decoration:none'>issue 5639</span></a><a
href="https://github.com/scrapy/scrapy/issues/5639"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5645"><span style='color:#377063;
text-decoration:none'>issue 5645</span></a><a
href="https://github.com/scrapy/scrapy/issues/5645"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5662"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5662"><span style='color:#377063;
text-decoration:none'>5662</span></a><a
href="https://github.com/scrapy/scrapy/issues/5662"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5671"><span style='color:#377063;
text-decoration:none'>issue 5671</span></a><a
href="https://github.com/scrapy/scrapy/issues/5671"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5675"><span style='color:#377063;
text-decoration:none'>issue 5675</span></a><a
href="https://github.com/scrapy/scrapy/issues/5675"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cleaned
up code (<a href="https://github.com/scrapy/scrapy/issues/4991"><span
style='color:#377063;text-decoration:none'>issue 4991</span></a><a
href="https://github.com/scrapy/scrapy/issues/4991"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4995"><span style='color:#377063;
text-decoration:none'>issue 4995</span></a><a
href="https://github.com/scrapy/scrapy/issues/4995"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5451"><span style='color:#377063;
text-decoration:none'>issue 5451</span></a><a
href="https://github.com/scrapy/scrapy/issues/5451"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5487"><span style='color:#377063;
text-decoration:none'>issue 5487</span></a><a
href="https://github.com/scrapy/scrapy/issues/5487"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5542"><span style='color:#377063;
text-decoration:none'>issue 5542</span></a><a
href="https://github.com/scrapy/scrapy/issues/5542"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5667"><span style='color:#377063;
text-decoration:none'>issue 5667</span></a><a
href="https://github.com/scrapy/scrapy/issues/5667"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5668"><span style='color:#377063;
text-decoration:none'>issue 5668</span></a><a
href="https://github.com/scrapy/scrapy/issues/5668"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5672"><span style='color:#377063;
text-decoration:none'>issue 5672</span></a><a
href="https://github.com/scrapy/scrapy/issues/5672"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Applied minor code
improvements (<a href="https://github.com/scrapy/scrapy/issues/5661"><span
style='color:#377063;text-decoration:none'>issue 5661</span></a><a
href="https://github.com/scrapy/scrapy/issues/5661"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.11 Scrapy 2.6.3
(2022-09-27)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for <a
href="https://www.pyopenssl.org/en/stable/"><span style='color:#377063;
text-decoration:none'>pyOpenSSL</span></a><span style='color:#377063'> </span>22.1.0,
removing support for SSLv3 (<a
href="https://github.com/scrapy/scrapy/issues/5634"><span style='color:#377063;
text-decoration:none'>issue 5634</span></a><a
href="https://github.com/scrapy/scrapy/issues/5634"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5635"><span style='color:#377063;
text-decoration:none'>issue 5635</span></a><a
href="https://github.com/scrapy/scrapy/issues/5635"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5636"><span style='color:#377063;
text-decoration:none'>issue 5636</span></a><a
href="https://github.com/scrapy/scrapy/issues/5636"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Upgraded the minimum
versions of the following dependencies:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://cryptography.io/en/latest/"><span
style='color:#377063;text-decoration:none'>cryptography</span></a><a
href="https://cryptography.io/en/latest/"><span style='color:black;text-decoration:
none'>:</span></a> 2.0 <span style='font-family:"Cambria",serif'>&#8594; </span>3.3</p>

<p class=MsoNormal style='margin-left:49.8pt;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://www.pyopenssl.org/en/stable/"><span
style='color:#377063;text-decoration:none'>pyOpenSSL</span></a><a
href="https://www.pyopenssl.org/en/stable/"><span style='color:black;
text-decoration:none'>:</span></a> 16.2.0 <span style='font-family:"Cambria",serif'>&#8594;
</span>21.0.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://service-identity.readthedocs.io/en/stable/"><span
style='color:#377063;text-decoration:none'>service_identity</span></a><a
href="https://service-identity.readthedocs.io/en/stable/"><span
style='color:black;text-decoration:none'>:</span></a> 16.0.0 <span
style='font-family:"Cambria",serif'>&#8594; </span>18.1.0</p>

<p class=MsoNormal style='margin-left:49.8pt;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://twisted.org/"><span style='color:#377063;
text-decoration:none'>Twisted</span></a><a href="https://twisted.org/"><span
style='color:black;text-decoration:none'>:</span></a> 17.9.0 <span
style='font-family:"Cambria",serif'>&#8594; </span>18.9.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://zopeinterface.readthedocs.io/en/latest/"><span
style='color:#377063;text-decoration:none'>zope.interface</span></a><a
href="https://zopeinterface.readthedocs.io/en/latest/"><span style='color:black;
text-decoration:none'>:</span></a> 4.1.3 <span style='font-family:"Cambria",serif'>&#8594;
</span>5.0.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5621"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5621"><span style='color:#377063;
text-decoration:none'>issue 5621</span></a><a
href="https://github.com/scrapy/scrapy/issues/5621"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5632"><span style='color:#377063;
text-decoration:none'>issue 5632</span></a><a
href="https://github.com/scrapy/scrapy/issues/5632"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixes test and
documentation issues (<a href="https://github.com/scrapy/scrapy/issues/5612"><span
style='color:#377063;text-decoration:none'>issue 5612</span></a><a
href="https://github.com/scrapy/scrapy/issues/5612"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5617"><span style='color:#377063;
text-decoration:none'>issue 5617</span></a><a
href="https://github.com/scrapy/scrapy/issues/5617"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5631"><span style='color:#377063;
text-decoration:none'>issue 5631</span></a><a
href="https://github.com/scrapy/scrapy/issues/5631"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.12 Scrapy 2.6.2
(2022-07-25)</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>Security
bug fix:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>processes a request with <i><span
style='color:#355F7C'>proxy </span></i>metadata, and that <i><span
style='color:#355F7C'>proxy </span></i>metadata includes proxy credentials, <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>sets the Proxy-Authorization
header, but only if that header is not already set.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>There are third-party proxy-rotation downloader middlewares
that set different <i><span style='color:#355F7C'>proxy </span></i>metadata
every time they process a request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Because of request retries and redirects, the same request
can be processed by downloader middlewares more than once, including both <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>and any third-party
proxy-rotation downloader middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>These third-party proxy-rotation downloader middlewares
could change the <i><span style='color:#355F7C'>proxy </span></i>metadata of a
request to a new value, but fail to remove the Proxy-Authorization header from
the previous value of the <i><span style='color:#355F7C'>proxy </span></i>metadata,
causing the credentials of one proxy to be sent to a different proxy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To prevent the unintended leaking of proxy credentials, the
behavior of <i><span style='color:#355F7C'>HttpProxyMiddleware </span></i>is
now as follows when processing a request:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:123%'><span
style='line-height:123%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>If the request being processed defines <i><span style='color:
#355F7C'>proxy </span></i>metadata that includes credentials, the Proxy-Authorization
header is always updated to feature those credentials. <b>– </b>If the request
being processed defines <i><span style='color:#355F7C'>proxy </span></i>metadata
without credentials, the Proxy-Authorization header is removed <i>unless </i>it
was originally defined for the same proxy URL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>To remove proxy credentials while keeping the same proxy
URL, remove the Proxy-Authorization header.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If the request
has no <i><span style='color:#355F7C'>proxy </span></i>metadata, or that
metadata is a falsy value (e.g. None), the Proxy-Authorization header is
removed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:0in;text-indent:49.8pt;line-height:130%'>It is no longer possible
to set a proxy URL through the <i><span style='color:#355F7C'>proxy </span></i>metadata
but set the credentials through the Proxy-Authorization header. Set proxy
credentials through the <i><span style='color:#355F7C'>proxy </span></i>metadata
instead. Also fixes the following regressions introduced in 2.6.0:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CrawlerProcess </span></i>supports again crawling
multiple spiders (<a href="https://github.com/scrapy/scrapy/issues/5435"><span
style='color:#377063;text-decoration:none'>issue 5435</span></a><a
href="https://github.com/scrapy/scrapy/issues/5435"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5436"><span style='color:#377063;
text-decoration:none'>issue 5436</span></a><a
href="https://github.com/scrapy/scrapy/issues/5436"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Installing a Twisted
reactor before Scrapy does (e.g. importing <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>twisted.internet.reactor</span></a><span
style='color:#377063'> </span>somewhere at the module level) no longer prevents
Scrapy from starting, as long as a different reactor is not specified in <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i><a
href="https://github.com/scrapy/scrapy/issues/5525"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5525"><span style='color:#377063;
text-decoration:none'>issue 5525</span></a><a
href="https://github.com/scrapy/scrapy/issues/5525"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5528"><span style='color:#377063;
text-decoration:none'>issue 5528</span></a><a
href="https://github.com/scrapy/scrapy/issues/5528"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an exception
that was being logged after the spider finished under certain conditions (<a
href="https://github.com/scrapy/scrapy/issues/5437"><span style='color:#377063;
text-decoration:none'>issue 5437</span></a><a
href="https://github.com/scrapy/scrapy/issues/5437"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5440"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5440"><span style='color:#377063;
text-decoration:none'>5440</span></a><a
href="https://github.com/scrapy/scrapy/issues/5440"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --<sub><span
style='font-size:15.5pt;line-height:103%'>output</span></sub>/-<sub><span
style='font-size:15.5pt;line-height:103%'>o </span></sub>command-line parameter
supports again a value starting with a hyphen (<a
href="https://github.com/scrapy/scrapy/issues/5444"><span style='color:#377063;
text-decoration:none'>issue 5444</span></a><a
href="https://github.com/scrapy/scrapy/issues/5444"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5445"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><a
href="https://github.com/scrapy/scrapy/issues/5445"><span style='color:#377063;
text-decoration:none'>5445</span></a><a
href="https://github.com/scrapy/scrapy/issues/5445"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy parse -h command
no longer throws an error (<a
href="https://github.com/scrapy/scrapy/issues/5481"><span style='color:#377063;
text-decoration:none'>issue 5481</span></a><a
href="https://github.com/scrapy/scrapy/issues/5481"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5482"><span style='color:#377063;
text-decoration:none'>issue 5482</span></a><a
href="https://github.com/scrapy/scrapy/issues/5482"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.13<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 2.6.1
(2022-03-01)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>Fixes a regression introduced in 2.6.0 that would unset the
request method when following redirects.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.14<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 2.6.0
(2022-03-01)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Security fixes for cookie handling</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 3.10 support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>asyncio support </span></i>is no longer considered
experimental, and works out-of-the-box on Windows regardless of your Python
version</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Feed exports now
support <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Pat</span></a><a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>h</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>output
paths and per-feed <i><span style='color:#355F7C'>item filtering </span></i>and
<i><span style='color:#355F7C'>post-processing</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Security
bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a <i><span
style='color:#355F7C'>Request </span></i>object with cookies defined gets a
redirect response causing a new <i><span style='color:#355F7C'>Request </span></i>object
to be scheduled, the cookies defined in the original <i><span style='color:
#355F7C'>Request </span></i>object are no longer copied into the new <i><span
style='color:#355F7C'>Request </span></i>object. If you manually set the Cookie
header on a <i><span style='color:#355F7C'>Request </span></i>object and the
domain name of the redirect URL is not an exact match for the domain of the URL
of the original <i><span style='color:#355F7C'>Request </span></i>object, your Cookie
header is now dropped from the new <i><span style='color:#355F7C'>Request </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:25.4pt'>The old behavior could be exploited by an attacker to gain
access to your cookies. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cjvr-mfj7-j4j8"><span
style='color:#377063;text-decoration:none'>cjvr-mfj7-j4j8 </span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cjvr-mfj7-j4j8"><span
style='color:#377063;text-decoration:none'>security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 544184"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.25pt;margin-left:3.0pt;text-align:right'><b>Note: </b>It is
still possible to enable the sharing of cookies between different domains with
a shared domain suffix</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05pt;
margin-left:25.4pt'>(e.g. example.com and any subdomain) by defining the shared
domain suffix (e.g. example.com) as the cookie domain when defining your
cookies. See the documentation of the <i><span style='color:#355F7C'>Request </span></i>class
for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.7pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 544185"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When the domain of a
cookie, either received in the Set-Cookie header of a response or defined in a <i><span
style='color:#355F7C'>Request </span></i>object, is set to a <a
href="https://publicsuffix.org/"><span style='color:#377063;text-decoration:
none'>public suffix</span></a><a href="https://publicsuffix.org/"><span
style='color:black;text-decoration:none'>,</span></a> the cookie is now ignored
unless the cookie domain is the same as the request domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:25.4pt'>The old behavior could be exploited by an attacker to
inject cookies from a controlled domain into your cookiejar that could be sent
to other domains not controlled by the attacker. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-mfjm-vh54-3f96"><span
style='color:#377063;text-decoration:none'>mfjm-vh54-3f96 security </span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-mfjm-vh54-3f96"><span
style='color:#377063;text-decoration:none'>advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:143.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <a
href="https://pypi.org/project/h2/"><span style='color:#377063;text-decoration:
none'>h2</span></a><span style='color:#377063'> </span>dependency is now
optional, only needed to <i><span style='color:#355F7C'>enable HTTP/2 support</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5113"><span style='color:
#377063;text-decoration:none'>issue 5113</span></a><a
href="https://github.com/scrapy/scrapy/issues/5113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The formdata parameter
of FormRequest, if specified for a non-POST request, now overrides the URL
query string, instead of being appended to it. (<a
href="https://github.com/scrapy/scrapy/issues/2919"><span style='color:#377063;
text-decoration:none'>issue 2919</span></a><a
href="https://github.com/scrapy/scrapy/issues/2919"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3579"><span style='color:#377063;
text-decoration:none'>issue 3579</span></a><a
href="https://github.com/scrapy/scrapy/issues/3579"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a function is
assigned to the <i><span style='color:#355F7C'>FEED_URI_PARAMS </span></i>setting,
now the return value of that function, and not the params input parameter, will
determine the feed URI parameters, unless that return value is None. (<a
href="https://github.com/scrapy/scrapy/issues/4962"><span style='color:#377063;
text-decoration:none'>issue 4962</span></a><a
href="https://github.com/scrapy/scrapy/issues/4962"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:#377063;
text-decoration:none'>issue 4966</span></a><a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In
scrapy.core.engine.ExecutionEngine, methods crawl(), download(), schedule(),
and spider_is_idle() now raise <a
href="https://docs.python.org/3/library/exceptions.html#RuntimeError"><span
style='color:#377063;text-decoration:none'>RuntimeError</span></a><span
style='color:#377063'> </span>if called before open_spider(). (<a
href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:#377063;
text-decoration:none'>issue 5090</span></a><a
href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>These methods used to assume that ExecutionEngine.slot had
been defined by a prior call to open_spider(), so they were raising <a
href="https://docs.python.org/3/library/exceptions.html#AttributeError"><span
style='color:#377063;text-decoration:none'>AttributeError</span></a><span
style='color:#377063'> </span>instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the API of the
configured <i><span style='color:#355F7C'>scheduler </span></i>does not meet
expectations, <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>is now
raised at startup time. Before, other exceptions would be raised at run time. (<a
href="https://github.com/scrapy/scrapy/issues/3559"><span style='color:#377063;
text-decoration:none'>issue 3559</span></a><a
href="https://github.com/scrapy/scrapy/issues/3559"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The _encoding field
of serialized <i><span style='color:#355F7C'>Request </span></i>objects is now
named encoding, in line with all other fields (<a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:#377063;
text-decoration:none'>5130</span></a><a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.http.TextResponse.body_as_unicode,
deprecated in Scrapy 2.2, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5393"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5393"><span style='color:#377063;
text-decoration:none'>5393</span></a><a
href="https://github.com/scrapy/scrapy/issues/5393"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.item.BaseItem,
deprecated in Scrapy 2.2, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5398"><span style='color:#377063;
text-decoration:none'>issue 5398</span></a><a
href="https://github.com/scrapy/scrapy/issues/5398"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.item.DictItem,
deprecated in Scrapy 1.8, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/5398"><span style='color:#377063;
text-decoration:none'>issue 5398</span></a><a
href="https://github.com/scrapy/scrapy/issues/5398"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.Spider.make_requests_from_url,
deprecated in Scrapy 1.4, has now been removed. (<a
href="https://github.com/scrapy/scrapy/issues/4178"><span style='color:#377063;
text-decoration:none'>issue 4178</span></a><a
href="https://github.com/scrapy/scrapy/issues/4178"><span style='color:black;
text-decoration:none'>,</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:#377063;
text-decoration:none'>issue 4356</span></a><a
href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a function is
assigned to the <i><span style='color:#355F7C'>FEED_URI_PARAMS </span></i>setting,
returning None or modifying the params input parameter is now deprecated.
Return a new dictionary instead. (<a
href="https://github.com/scrapy/scrapy/issues/4962"><span style='color:#377063;
text-decoration:none'>issue 4962</span></a><a
href="https://github.com/scrapy/scrapy/issues/4962"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:#377063;
text-decoration:none'>issue 4966</span></a><a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.reqser
is deprecated. (<a href="https://github.com/scrapy/scrapy/issues/5130"><span
style='color:#377063;text-decoration:none'>issue 5130</span></a><a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.8pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Instead of request_to_dict(),
use the new <i><span style='color:#355F7C'>Request.to_dict </span></i>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Instead of request_from_dict(), use the new <i><span
style='color:#355F7C'>scrapy.utils.request.request_from_dict() </span></i>function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In scrapy.squeues,
the following queue classes are deprecated: PickleFifoDiskQueueNonRequest,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
6.0pt;margin-left:25.4pt;line-height:115%'>PickleLifoDiskQueueNonRequest, MarshalFifoDiskQueueNonRequest,
and MarshalLifoDiskQueueNonRequest. You should instead use: PickleFifoDiskQueue,
PickleLifoDiskQueue, MarshalFifoDiskQueue, and MarshalLifoDiskQueue. (<a
href="https://github.com/scrapy/scrapy/issues/5117"><span style='color:#377063;
text-decoration:none'>issue 5117</span></a><a
href="https://github.com/scrapy/scrapy/issues/5117"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Many aspects of scrapy.core.engine.ExecutionEngine
that come from a time when this class could handle multiple <i><span
style='color:#355F7C'>Spider </span></i>objects at a time have been deprecated.
(<a href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:
#377063;text-decoration:none'>issue 5090</span></a><a
href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The has_capacity()
method is deprecated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The schedule() method
is deprecated, use crawl() or download() instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The open_spiders
attribute is deprecated, use spider instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The spider parameter
is deprecated for the following methods:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.7pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
spider_is_idle()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.75pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
crawl()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.0pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
download()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:50.3pt'>Instead, call open_spider() first to set the <i><span
style='color:#355F7C'>Spider </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.response.response_httprepr()
is now deprecated. (<a href="https://github.com/scrapy/scrapy/issues/4972"><span
style='color:#377063;text-decoration:none'>issue 4972</span></a><a
href="https://github.com/scrapy/scrapy/issues/4972"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can now use <i><span
style='color:#355F7C'>item filtering </span></i>to control which items are
exported to each output feed. (<a
href="https://github.com/scrapy/scrapy/issues/4575"><span style='color:#377063;
text-decoration:none'>issue 4575</span></a><a
href="https://github.com/scrapy/scrapy/issues/4575"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5178"><span style='color:#377063;
text-decoration:none'>issue 5178</span></a><a
href="https://github.com/scrapy/scrapy/issues/5178"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5161"><span style='color:#377063;
text-decoration:none'>issue 5161</span></a><a
href="https://github.com/scrapy/scrapy/issues/5161"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5203"><span style='color:#377063;
text-decoration:none'>issue 5203</span></a><a
href="https://github.com/scrapy/scrapy/issues/5203"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can now apply <i><span
style='color:#355F7C'>post-processing </span></i>to feeds, and <i><span
style='color:#355F7C'>built-in post-processing plugins </span></i>are provided
for output file compression. (<a
href="https://github.com/scrapy/scrapy/issues/2174"><span style='color:#377063;
text-decoration:none'>issue 2174</span></a><a
href="https://github.com/scrapy/scrapy/issues/2174"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5168"><span style='color:#377063;
text-decoration:none'>issue 5168</span></a><a
href="https://github.com/scrapy/scrapy/issues/5168"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5190"><span style='color:#377063;
text-decoration:none'>issue 5190</span></a><a
href="https://github.com/scrapy/scrapy/issues/5190"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>FEEDS </span></i>setting now supports <a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Path</span></a><span
style='color:#377063'> </span>objects as keys. (<a
href="https://github.com/scrapy/scrapy/issues/5383"><span style='color:#377063;
text-decoration:none'>issue 5383</span></a><a
href="https://github.com/scrapy/scrapy/issues/5383"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5384"><span style='color:#377063;
text-decoration:none'>issue 5384</span></a><a
href="https://github.com/scrapy/scrapy/issues/5384"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enabling <i><span
style='color:#355F7C'>asyncio </span></i>while using Windows and Python 3.8 or
later will automatically switch the asyncio event loop to one that allows
Scrapy to work. See <i><span style='color:#355F7C'>Windows-specific notes</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/4976"><span style='color:
#377063;text-decoration:none'>issue 4976</span></a><a
href="https://github.com/scrapy/scrapy/issues/4976"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5315"><span style='color:#377063;
text-decoration:none'>issue 5315</span></a><a
href="https://github.com/scrapy/scrapy/issues/5315"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>genspider </span></i>command now supports a start URL
instead of a domain name. (<a
href="https://github.com/scrapy/scrapy/issues/4439"><span style='color:#377063;
text-decoration:none'>issue 4439</span></a><a
href="https://github.com/scrapy/scrapy/issues/4439"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.defer        gained    2              new         functions,               <i><span
style='color:#355F7C'>deferred_to_future()            </span></i>and <i><span
style='color:#355F7C'>maybe_deferred_to_future()</span></i>,  to help <i><span
style='color:#355F7C'>await on Deferreds when using the asyncio reactor</span></i>.       (<a
href="https://github.com/scrapy/scrapy/issues/5288"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5288"><span style='color:#377063;
text-decoration:none'>5288</span></a><a
href="https://github.com/scrapy/scrapy/issues/5288"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Amazon S3 feed export storage </span></i>gained support
for <a
href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span
style='color:#377063;text-decoration:none'>temporary security credentials</span></a><span
style='color:#377063'> </span>(<i><span style='color:#355F7C'>AWS_SESSION_TOKEN</span></i>)
and endpoint customization (<i><span style='color:#355F7C'>AWS_ENDPOINT_URL</span></i>).
(<a href="https://github.com/scrapy/scrapy/issues/4998"><span style='color:
#377063;text-decoration:none'>issue 4998</span></a><a
href="https://github.com/scrapy/scrapy/issues/4998"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5210"><span style='color:#377063;
text-decoration:none'>issue 5210</span></a><a
href="https://github.com/scrapy/scrapy/issues/5210"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>LOG_FILE_APPEND </span></i>setting to allow truncating
the log file. (<a href="https://github.com/scrapy/scrapy/issues/5279"><span
style='color:#377063;text-decoration:none'>issue 5279</span></a><a
href="https://github.com/scrapy/scrapy/issues/5279"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request.cookies values
that are <a href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:#377063;text-decoration:none'>bool</span></a><a
href="https://docs.python.org/3/library/functions.html#bool"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://docs.python.org/3/library/functions.html#float"><span
style='color:#377063;text-decoration:none'>float</span></a><span
style='color:#377063'> </span>or <a
href="https://docs.python.org/3/library/functions.html#int"><span
style='color:#377063;text-decoration:none'>int</span></a><span
style='color:#377063'> </span>are cast to <a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:#377063;text-decoration:none'>str</span></a><a
href="https://docs.python.org/3/library/stdtypes.html#str"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5252"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5252"><span style='color:#377063;
text-decoration:none'>issue 5252</span></a><a
href="https://github.com/scrapy/scrapy/issues/5252"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5253"><span style='color:#377063;
text-decoration:none'>issue 5253</span></a><a
href="https://github.com/scrapy/scrapy/issues/5253"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You may now raise <i><span
style='color:#355F7C'>CloseSpider </span></i>from a handler of the <i><span
style='color:#355F7C'>spider_idle </span></i>signal to customize the reason why
the spider is stopping. (<a href="https://github.com/scrapy/scrapy/issues/5191"><span
style='color:#377063;text-decoration:none'>issue 5191</span></a><a
href="https://github.com/scrapy/scrapy/issues/5191"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using <i><span
style='color:#355F7C'>HttpProxyMiddleware</span></i>, the proxy URL for
non-HTTPS HTTP/1.1 requests no longer needs to include a URL scheme. (<a
href="https://github.com/scrapy/scrapy/issues/4505"><span style='color:#377063;
text-decoration:none'>issue 4505</span></a><a
href="https://github.com/scrapy/scrapy/issues/4505"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4649"><span style='color:#377063;
text-decoration:none'>issue 4649</span></a><a
href="https://github.com/scrapy/scrapy/issues/4649"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>All built-in queues
now expose a peek method that returns the next queue object (like pop) but does
not remove the returned object from the queue. (<a
href="https://github.com/scrapy/scrapy/issues/5112"><span style='color:#377063;
text-decoration:none'>issue 5112</span></a><a
href="https://github.com/scrapy/scrapy/issues/5112"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:25.4pt'>If the underlying queue does not support peeking (e.g.
because you are not using queuelib 1.6.1 or later), the peek method raises <a
href="https://docs.python.org/3/library/exceptions.html#NotImplementedError"><span
style='color:#377063;text-decoration:none'>NotImplementedError</span></a><a
href="https://docs.python.org/3/library/exceptions.html#NotImplementedError"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request </span></i>and <i><span style='color:#355F7C'>Response
</span></i>now have an attributes attribute that makes subclassing easier. For <i><span
style='color:#355F7C'>Request</span></i>, it also allows subclasses to work
with <i><span style='color:#355F7C'>scrapy.utils.request.request_from_dict()</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/1877"><span style='color:
#377063;text-decoration:none'>issue 1877</span></a><a
href="https://github.com/scrapy/scrapy/issues/1877"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:#377063;
text-decoration:none'>issue 5130</span></a><a
href="https://github.com/scrapy/scrapy/issues/5130"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5218"><span style='color:#377063;
text-decoration:none'>issue 5218</span></a><a
href="https://github.com/scrapy/scrapy/issues/5218"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>open() </span></i>and <i><span style='color:#355F7C'>close()
</span></i>methods of the <i><span style='color:#355F7C'>scheduler </span></i>are
now optional. (<a href="https://github.com/scrapy/scrapy/issues/3559"><span
style='color:#377063;text-decoration:none'>issue 3559</span></a><a
href="https://github.com/scrapy/scrapy/issues/3559"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTP/1.1 TunnelError exceptions
now only truncate response bodies longer than 1000 characters, instead of those
longer than 32 characters, making it easier to debug such errors. (<a
href="https://github.com/scrapy/scrapy/issues/4881"><span style='color:#377063;
text-decoration:none'>issue 4881</span></a><a
href="https://github.com/scrapy/scrapy/issues/4881"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5007"><span style='color:#377063;
text-decoration:none'>issue 5007</span></a><a
href="https://github.com/scrapy/scrapy/issues/5007"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:85.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ItemLoader </span></i>now supports non-text responses. (<a
href="https://github.com/scrapy/scrapy/issues/5145"><span style='color:#377063;
text-decoration:none'>issue 5145</span></a><a
href="https://github.com/scrapy/scrapy/issues/5145"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5269"><span style='color:#377063;
text-decoration:none'>issue 5269</span></a><a
href="https://github.com/scrapy/scrapy/issues/5269"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.8pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>and <i><span style='color:
#355F7C'>ASYNCIO_EVENT_LOOP </span></i>settings         are           no           longer     ignored   if              defined   in
<i><span style='color:#355F7C'>custom_settings</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/4485"><span style='color:#377063;
text-decoration:none'>issue 4485</span></a><a
href="https://github.com/scrapy/scrapy/issues/4485"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5352"><span style='color:#377063;
text-decoration:none'>issue 5352</span></a><a
href="https://github.com/scrapy/scrapy/issues/5352"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed a
module-level Twisted reactor import that could prevent <i><span
style='color:#355F7C'>using the asyncio reactor</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5357"><span style='color:#377063;
text-decoration:none'>issue 5357</span></a><a
href="https://github.com/scrapy/scrapy/issues/5357"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>startproject </span></i>command works with existing
folders again. (<a href="https://github.com/scrapy/scrapy/issues/4665"><span
style='color:#377063;text-decoration:none'>issue 4665</span></a><a
href="https://github.com/scrapy/scrapy/issues/4665"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4676"><span style='color:#377063;
text-decoration:none'>issue 4676</span></a><a
href="https://github.com/scrapy/scrapy/issues/4676"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>FEED_URI_PARAMS </span></i>setting now behaves as
documented. (<a href="https://github.com/scrapy/scrapy/issues/4962"><span
style='color:#377063;text-decoration:none'>issue 4962</span></a><a
href="https://github.com/scrapy/scrapy/issues/4962"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:#377063;
text-decoration:none'>issue 4966</span></a><a
href="https://github.com/scrapy/scrapy/issues/4966"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request.cb_kwargs once
again allows the callback keyword. (<a
href="https://github.com/scrapy/scrapy/issues/5237"><span style='color:#377063;
text-decoration:none'>issue 5237</span></a><a
href="https://github.com/scrapy/scrapy/issues/5237"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5251"><span style='color:#377063;
text-decoration:none'>issue 5251</span></a><a
href="https://github.com/scrapy/scrapy/issues/5251"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5264"><span style='color:#377063;
text-decoration:none'>issue 5264</span></a><a
href="https://github.com/scrapy/scrapy/issues/5264"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made
<i><span style='color:#355F7C'>scrapy.utils.response.open_in_browser() </span></i>support
more complex HTML. (<a href="https://github.com/scrapy/scrapy/issues/5319"><span
style='color:#377063;text-decoration:none'>issue 5319</span></a><a
href="https://github.com/scrapy/scrapy/issues/5319"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5320"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5320"><span style='color:#377063;
text-decoration:none'>5320</span></a><a
href="https://github.com/scrapy/scrapy/issues/5320"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>CSVFeedSpider.quotechar </span></i>being interpreted as
the CSV file encoding. (<a href="https://github.com/scrapy/scrapy/issues/5391"><span
style='color:#377063;text-decoration:none'>issue 5391</span></a><a
href="https://github.com/scrapy/scrapy/issues/5391"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5394"><span style='color:#377063;
text-decoration:none'>issue 5394</span></a><a
href="https://github.com/scrapy/scrapy/issues/5394"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added missing <a
href="https://pypi.org/project/setuptools/"><span style='color:#377063;
text-decoration:none'>setuptools</span></a><span style='color:#377063'> </span>to
the list of dependencies. (<a
href="https://github.com/scrapy/scrapy/issues/5122"><span style='color:#377063;
text-decoration:none'>issue 5122</span></a><a
href="https://github.com/scrapy/scrapy/issues/5122"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LinkExtractor </span></i>now also works as expected with
links that have comma-separated rel attribute values including nofollow. (<a
href="https://github.com/scrapy/scrapy/issues/5225"><span style='color:#377063;
text-decoration:none'>issue 5225</span></a><a
href="https://github.com/scrapy/scrapy/issues/5225"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>that
could be raised during <i><span style='color:#355F7C'>feed export </span></i>parameter
parsing. (<a href="https://github.com/scrapy/scrapy/issues/5359"><span
style='color:#377063;text-decoration:none'>issue 5359</span></a><a
href="https://github.com/scrapy/scrapy/issues/5359"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>asyncio support </span></i>is no longer considered
experimental. (<a href="https://github.com/scrapy/scrapy/issues/5332"><span
style='color:#377063;text-decoration:none'>issue 5332</span></a><a
href="https://github.com/scrapy/scrapy/issues/5332"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Included
<i><span style='color:#355F7C'>Windows-specific help for asyncio usage</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/4976"><span style='color:
#377063;text-decoration:none'>issue 4976</span></a><a
href="https://github.com/scrapy/scrapy/issues/4976"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5315"><span style='color:#377063;
text-decoration:none'>issue 5315</span></a><a
href="https://github.com/scrapy/scrapy/issues/5315"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Rewrote <i><span
style='color:#355F7C'>Using a headless browser </span></i>with up-to-date best
practices. (<a href="https://github.com/scrapy/scrapy/issues/4484"><span
style='color:#377063;text-decoration:none'>issue 4484</span></a><a
href="https://github.com/scrapy/scrapy/issues/4484"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4613"><span style='color:#377063;
text-decoration:none'>issue 4613</span></a><a
href="https://github.com/scrapy/scrapy/issues/4613"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
<i><span style='color:#355F7C'>local file naming in media pipelines</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5069"><span style='color:
#377063;text-decoration:none'>issue 5069</span></a><a
href="https://github.com/scrapy/scrapy/issues/5069"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5152"><span style='color:#377063;
text-decoration:none'>issue 5152</span></a><a
href="https://github.com/scrapy/scrapy/issues/5152"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Frequently Asked Questions </span></i>now covers spider
file name collision issues. (<a
href="https://github.com/scrapy/scrapy/issues/2680"><span style='color:#377063;
text-decoration:none'>issue 2680</span></a><a
href="https://github.com/scrapy/scrapy/issues/2680"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3669"><span style='color:#377063;
text-decoration:none'>issue 3669</span></a><a
href="https://github.com/scrapy/scrapy/issues/3669"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Provided better
context and instructions to disable the <i><span style='color:#355F7C'>URLLENGTH_LIMIT
</span></i>setting. (<a href="https://github.com/scrapy/scrapy/issues/5135"><span
style='color:#377063;text-decoration:none'>issue 5135</span></a><a
href="https://github.com/scrapy/scrapy/issues/5135"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5250"><span style='color:#377063;
text-decoration:none'>issue 5250</span></a><a
href="https://github.com/scrapy/scrapy/issues/5250"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented that Reppy
parser does not support Python 3.9+. (<a
href="https://github.com/scrapy/scrapy/issues/5226"><span style='color:#377063;
text-decoration:none'>issue 5226</span></a><a
href="https://github.com/scrapy/scrapy/issues/5226"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5231"><span style='color:#377063;
text-decoration:none'>issue 5231</span></a><a
href="https://github.com/scrapy/scrapy/issues/5231"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
<i><span style='color:#355F7C'>the scheduler component</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/3537"><span style='color:#377063;
text-decoration:none'>issue 3537</span></a><a
href="https://github.com/scrapy/scrapy/issues/3537"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3559"><span style='color:#377063;
text-decoration:none'>issue 3559</span></a><a
href="https://github.com/scrapy/scrapy/issues/3559"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
the method used by <i><span style='color:#355F7C'>media pipelines </span></i>to
<i><span style='color:#355F7C'>determine if a file has expired</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5120"><span style='color:#377063;
text-decoration:none'>issue 5120</span></a><a
href="https://github.com/scrapy/scrapy/issues/5120"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5254"><span style='color:#377063;
text-decoration:none'>issue 5254</span></a><a
href="https://github.com/scrapy/scrapy/issues/5254"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Running      multiple  spiders    in             the          same       process   </span></i>now        features
scrapy.utils.project. get_project_settings() usage. (<a
href="https://github.com/scrapy/scrapy/issues/5070"><span style='color:#377063;
text-decoration:none'>issue 5070</span></a><a
href="https://github.com/scrapy/scrapy/issues/5070"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Running multiple spiders in the same process </span></i>now
covers what happens when you define different per-spider values for some
settings that cannot differ at run time. (<a
href="https://github.com/scrapy/scrapy/issues/4485"><span style='color:#377063;
text-decoration:none'>issue 4485</span></a><a
href="https://github.com/scrapy/scrapy/issues/4485"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5352"><span style='color:#377063;
text-decoration:none'>issue 5352</span></a><a
href="https://github.com/scrapy/scrapy/issues/5352"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended the
documentation of the <i><span style='color:#355F7C'>StatsMailer </span></i>extension.
(<a href="https://github.com/scrapy/scrapy/issues/5199"><span style='color:
#377063;text-decoration:none'>issue 5199</span></a><a
href="https://github.com/scrapy/scrapy/issues/5199"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5217"><span style='color:#377063;
text-decoration:none'>issue 5217</span></a><a
href="https://github.com/scrapy/scrapy/issues/5217"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>JOBDIR </span></i>to <i><span style='color:#355F7C'>Settings</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5173"><span style='color:
#377063;text-decoration:none'>issue 5173</span></a><a
href="https://github.com/scrapy/scrapy/issues/5173"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5224"><span style='color:#377063;
text-decoration:none'>issue 5224</span></a><a
href="https://github.com/scrapy/scrapy/issues/5224"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
Spider.attribute. (<a href="https://github.com/scrapy/scrapy/issues/5174"><span
style='color:#377063;text-decoration:none'>issue 5174</span></a><a
href="https://github.com/scrapy/scrapy/issues/5174"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5244"><span style='color:#377063;
text-decoration:none'>issue 5244</span></a><a
href="https://github.com/scrapy/scrapy/issues/5244"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented
<i><span style='color:#355F7C'>TextResponse.urljoin</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/1582"><span style='color:#377063;
text-decoration:none'>issue 1582</span></a><a
href="https://github.com/scrapy/scrapy/issues/1582"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:161%'><span
style='line-height:161%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
the body_length parameter to the documented signature of the <i><span
style='color:#355F7C'>headers_received </span></i>signal. (<a
href="https://github.com/scrapy/scrapy/issues/5270"><span style='color:#377063;
text-decoration:none'>issue 5270</span></a><a
href="https://github.com/scrapy/scrapy/issues/5270"><span style='color:black;
text-decoration:none'>) </span></a>• Clarified <i><span style='color:#355F7C'>SelectorList.get
</span></i>usage in the <i><span style='color:#355F7C'>tutorial</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/5256"><span style='color:#377063;
text-decoration:none'>issue 5256</span></a><a
href="https://github.com/scrapy/scrapy/issues/5256"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The documentation now
features the shortest import path of classes with multiple import paths. (<a
href="https://github.com/scrapy/scrapy/issues/2733"><span style='color:#377063;
text-decoration:none'>issue 2733</span></a><a
href="https://github.com/scrapy/scrapy/issues/2733"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5099"><span style='color:#377063;
text-decoration:none'>issue 5099</span></a><a
href="https://github.com/scrapy/scrapy/issues/5099"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>quotes.toscrape.com references
now use HTTPS instead of HTTP. (<a
href="https://github.com/scrapy/scrapy/issues/5395"><span style='color:#377063;
text-decoration:none'>issue 5395</span></a><a
href="https://github.com/scrapy/scrapy/issues/5395"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5396"><span style='color:#377063;
text-decoration:none'>issue 5396</span></a><a
href="https://github.com/scrapy/scrapy/issues/5396"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
a link to <a href="https://discord.com/invite/mv3yErfpvq"><span
style='color:#377063;text-decoration:none'>our Discord server</span></a><span
style='color:#377063'> </span>to <i><span style='color:#355F7C'>Getting help</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/5421"><span style='color:
#377063;text-decoration:none'>issue 5421</span></a><a
href="https://github.com/scrapy/scrapy/issues/5421"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5422"><span style='color:#377063;
text-decoration:none'>issue 5422</span></a><a
href="https://github.com/scrapy/scrapy/issues/5422"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The pronunciation of
the project name is now <i><span style='color:#355F7C'>officially </span></i>/skrepa/.
(<a href="https://github.com/scrapy/scrapy/issues/5280"><span style='color:
#377063;text-decoration:none'>issue 5280</span></a><a
href="https://github.com/scrapy/scrapy/issues/5280"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5281"><span style='color:#377063;
text-decoration:none'>issue 5281</span></a><a
href="https://github.com/scrapy/scrapy/issues/5281"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added the Scrapy logo
to the README. (<a href="https://github.com/scrapy/scrapy/issues/5255"><span
style='color:#377063;text-decoration:none'>issue 5255</span></a><a
href="https://github.com/scrapy/scrapy/issues/5255"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5258"><span style='color:#377063;
text-decoration:none'>issue 5258</span></a><a
href="https://github.com/scrapy/scrapy/issues/5258"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
issues and implemented minor improvements. (<a
href="https://github.com/scrapy/scrapy/issues/3155"><span style='color:#377063;
text-decoration:none'>issue 3155</span></a><a
href="https://github.com/scrapy/scrapy/issues/3155"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4335"><span style='color:#377063;
text-decoration:none'>issue 4335</span></a><a
href="https://github.com/scrapy/scrapy/issues/4335"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5074"><span style='color:#377063;
text-decoration:none'>issue 5074</span></a><a
href="https://github.com/scrapy/scrapy/issues/5074"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5098"><span style='color:#377063;
text-decoration:none'>issue 5098</span></a><a
href="https://github.com/scrapy/scrapy/issues/5098"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5134"><span style='color:#377063;
text-decoration:none'>issue 5134</span></a><a
href="https://github.com/scrapy/scrapy/issues/5134"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5180"><span style='color:#377063;
text-decoration:none'>issue 5180</span></a><a
href="https://github.com/scrapy/scrapy/issues/5180"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5194"><span style='color:#377063;
text-decoration:none'>issue 5194</span></a><a
href="https://github.com/scrapy/scrapy/issues/5194"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5239"><span style='color:#377063;
text-decoration:none'>issue 5239</span></a><a
href="https://github.com/scrapy/scrapy/issues/5239"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5266"><span style='color:#377063;
text-decoration:none'>issue 5266</span></a><a
href="https://github.com/scrapy/scrapy/issues/5266"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5271"><span style='color:#377063;
text-decoration:none'>issue 5271</span></a><a
href="https://github.com/scrapy/scrapy/issues/5271"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5273"><span style='color:#377063;
text-decoration:none'>issue 5273</span></a><a
href="https://github.com/scrapy/scrapy/issues/5273"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5274"><span style='color:#377063;
text-decoration:none'>issue 5274</span></a><a
href="https://github.com/scrapy/scrapy/issues/5274"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5276"><span style='color:#377063;
text-decoration:none'>issue 5276</span></a><a
href="https://github.com/scrapy/scrapy/issues/5276"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5347"><span style='color:#377063;
text-decoration:none'>issue 5347</span></a><a
href="https://github.com/scrapy/scrapy/issues/5347"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5356"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5356"><span style='color:#377063;
text-decoration:none'>5356</span></a><a
href="https://github.com/scrapy/scrapy/issues/5356"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5414"><span style='color:#377063;
text-decoration:none'>issue 5414</span></a><a
href="https://github.com/scrapy/scrapy/issues/5414"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5415"><span style='color:#377063;
text-decoration:none'>issue 5415</span></a><a
href="https://github.com/scrapy/scrapy/issues/5415"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5416"><span style='color:#377063;
text-decoration:none'>issue 5416</span></a><a
href="https://github.com/scrapy/scrapy/issues/5416"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5419"><span style='color:#377063;
text-decoration:none'>issue 5419</span></a><a
href="https://github.com/scrapy/scrapy/issues/5419"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5420"><span style='color:#377063;
text-decoration:none'>issue 5420</span></a><a
href="https://github.com/scrapy/scrapy/issues/5420"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
Assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
Python 3.10. (<a href="https://github.com/scrapy/scrapy/issues/5212"><span
style='color:#377063;text-decoration:none'>issue 5212</span></a><a
href="https://github.com/scrapy/scrapy/issues/5212"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5221"><span style='color:#377063;
text-decoration:none'>issue 5221</span></a><a
href="https://github.com/scrapy/scrapy/issues/5221"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5265"><span style='color:#377063;
text-decoration:none'>issue 5265</span></a><a
href="https://github.com/scrapy/scrapy/issues/5265"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Significantly reduced
memory usage by scrapy.utils.response.response_httprepr(), used by the <i><span
style='color:#355F7C'>DownloaderStats </span></i>downloader middleware, which
is enabled by default. (<a href="https://github.com/scrapy/scrapy/issues/4964"><span
style='color:#377063;text-decoration:none'>issue 4964</span></a><a
href="https://github.com/scrapy/scrapy/issues/4964"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4972"><span style='color:#377063;
text-decoration:none'>issue 4972</span></a><a
href="https://github.com/scrapy/scrapy/issues/4972"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed uses of the
deprecated <a
href="https://docs.python.org/3/library/optparse.html#module-optparse"><span
style='color:#377063;text-decoration:none'>optpars</span></a><a
href="https://docs.python.org/3/library/optparse.html#module-optparse"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>e</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>module. (<a
href="https://github.com/scrapy/scrapy/issues/5366"><span style='color:#377063;
text-decoration:none'>issue 5366</span></a><a
href="https://github.com/scrapy/scrapy/issues/5366"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5374"><span style='color:#377063;
text-decoration:none'>issue 5374</span></a><a
href="https://github.com/scrapy/scrapy/issues/5374"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended
typing hints. (<a href="https://github.com/scrapy/scrapy/issues/5077"><span
style='color:#377063;text-decoration:none'>issue 5077</span></a><a
href="https://github.com/scrapy/scrapy/issues/5077"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:#377063;
text-decoration:none'>issue 5090</span></a><a
href="https://github.com/scrapy/scrapy/issues/5090"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5100"><span style='color:#377063;
text-decoration:none'>issue 5100</span></a><a
href="https://github.com/scrapy/scrapy/issues/5100"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5108"><span style='color:#377063;
text-decoration:none'>issue 5108</span></a><a
href="https://github.com/scrapy/scrapy/issues/5108"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5171"><span style='color:#377063;
text-decoration:none'>issue 5171</span></a><a
href="https://github.com/scrapy/scrapy/issues/5171"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5215"><span style='color:#377063;
text-decoration:none'>issue 5215</span></a><a
href="https://github.com/scrapy/scrapy/issues/5215"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5334"><span style='color:#377063;
text-decoration:none'>issue 5334</span></a><a
href="https://github.com/scrapy/scrapy/issues/5334"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
tests, fixed CI issues, removed unused code. (<a
href="https://github.com/scrapy/scrapy/issues/5094"><span style='color:#377063;
text-decoration:none'>issue 5094</span></a><a
href="https://github.com/scrapy/scrapy/issues/5094"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5157"><span style='color:#377063;
text-decoration:none'>issue 5157</span></a><a
href="https://github.com/scrapy/scrapy/issues/5157"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5162"><span style='color:#377063;
text-decoration:none'>issue 5162</span></a><a
href="https://github.com/scrapy/scrapy/issues/5162"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5198"><span style='color:#377063;
text-decoration:none'>issue 5198</span></a><a
href="https://github.com/scrapy/scrapy/issues/5198"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5207"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5207"><span style='color:#377063;
text-decoration:none'>5207</span></a><a
href="https://github.com/scrapy/scrapy/issues/5207"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5208"><span style='color:#377063;
text-decoration:none'>issue 5208</span></a><a
href="https://github.com/scrapy/scrapy/issues/5208"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5229"><span style='color:#377063;
text-decoration:none'>issue 5229</span></a><a
href="https://github.com/scrapy/scrapy/issues/5229"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5298"><span style='color:#377063;
text-decoration:none'>issue 5298</span></a><a
href="https://github.com/scrapy/scrapy/issues/5298"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5299"><span style='color:#377063;
text-decoration:none'>issue 5299</span></a><a
href="https://github.com/scrapy/scrapy/issues/5299"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5310"><span style='color:#377063;
text-decoration:none'>issue 5310</span></a><a
href="https://github.com/scrapy/scrapy/issues/5310"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5316"><span style='color:#377063;
text-decoration:none'>issue 5316</span></a><a
href="https://github.com/scrapy/scrapy/issues/5316"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5333"><span style='color:#377063;
text-decoration:none'>issue 5333</span></a><a
href="https://github.com/scrapy/scrapy/issues/5333"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5388"><span style='color:#377063;
text-decoration:none'>issue 5388</span></a><a
href="https://github.com/scrapy/scrapy/issues/5388"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5389"><span style='color:#377063;
text-decoration:none'>issue 5389</span></a><a
href="https://github.com/scrapy/scrapy/issues/5389"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/5400"><span style='color:#377063;
text-decoration:none'>issue 5400</span></a><a
href="https://github.com/scrapy/scrapy/issues/5400"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5401"><span style='color:#377063;
text-decoration:none'>issue 5401</span></a><a
href="https://github.com/scrapy/scrapy/issues/5401"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5404"><span style='color:#377063;
text-decoration:none'>issue 5404</span></a><a
href="https://github.com/scrapy/scrapy/issues/5404"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5405"><span style='color:#377063;
text-decoration:none'>issue 5405</span></a><a
href="https://github.com/scrapy/scrapy/issues/5405"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5407"><span style='color:#377063;
text-decoration:none'>issue 5407</span></a><a
href="https://github.com/scrapy/scrapy/issues/5407"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5410"><span style='color:#377063;
text-decoration:none'>issue 5410</span></a><a
href="https://github.com/scrapy/scrapy/issues/5410"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5412"><span style='color:#377063;
text-decoration:none'>issue 5412</span></a><a
href="https://github.com/scrapy/scrapy/issues/5412"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5425"><span style='color:#377063;
text-decoration:none'>issue 5425</span></a><a
href="https://github.com/scrapy/scrapy/issues/5425"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5427"><span style='color:#377063;
text-decoration:none'>issue 5427</span></a><a
href="https://github.com/scrapy/scrapy/issues/5427"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Implemented
improvements for contributors. (<a
href="https://github.com/scrapy/scrapy/issues/5080"><span style='color:#377063;
text-decoration:none'>issue 5080</span></a><a
href="https://github.com/scrapy/scrapy/issues/5080"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5082"><span style='color:#377063;
text-decoration:none'>issue 5082</span></a><a
href="https://github.com/scrapy/scrapy/issues/5082"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5177"><span style='color:#377063;
text-decoration:none'>issue 5177</span></a><a
href="https://github.com/scrapy/scrapy/issues/5177"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5200"><span style='color:#377063;
text-decoration:none'>issue 5200</span></a><a
href="https://github.com/scrapy/scrapy/issues/5200"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Implemented
cleanups. (<a href="https://github.com/scrapy/scrapy/issues/5095"><span
style='color:#377063;text-decoration:none'>issue 5095</span></a><a
href="https://github.com/scrapy/scrapy/issues/5095"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5106"><span style='color:#377063;
text-decoration:none'>issue 5106</span></a><a
href="https://github.com/scrapy/scrapy/issues/5106"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5209"><span style='color:#377063;
text-decoration:none'>issue 5209</span></a><a
href="https://github.com/scrapy/scrapy/issues/5209"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5228"><span style='color:#377063;
text-decoration:none'>issue 5228</span></a><a
href="https://github.com/scrapy/scrapy/issues/5228"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5235"><span style='color:#377063;
text-decoration:none'>issue 5235</span></a><a
href="https://github.com/scrapy/scrapy/issues/5235"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5245"><span style='color:#377063;
text-decoration:none'>issue 5245</span></a><a
href="https://github.com/scrapy/scrapy/issues/5245"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5246"><span style='color:#377063;
text-decoration:none'>issue 5246</span></a><a
href="https://github.com/scrapy/scrapy/issues/5246"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5292"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5292"><span style='color:#377063;
text-decoration:none'>5292</span></a><a
href="https://github.com/scrapy/scrapy/issues/5292"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5314"><span style='color:#377063;
text-decoration:none'>issue 5314</span></a><a
href="https://github.com/scrapy/scrapy/issues/5314"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5322"><span style='color:#377063;
text-decoration:none'>issue 5322</span></a><a
href="https://github.com/scrapy/scrapy/issues/5322"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.4pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.15 Scrapy 2.5.1
(2021-10-05)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>Security
bug fix:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you use <i><span style='color:#355F7C'>HttpAuthMiddleware
</span></i>(i.e. the http_user and http_pass spider attributes) for HTTP
authentication, any request exposes your credentials to the request target.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To prevent unintended exposure of authentication
credentials to unintended domains, you must now additionally set a new,
additional spider attribute, http_auth_domain, and point it to the specific
domain to which the authentication credentials must be sent.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If the http_auth_domain spider attribute is not set, the
domain of the first request will be considered the HTTP authentication target,
and authentication credentials will only be sent in requests targeting that
domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you need to send the same HTTP authentication
credentials to multiple domains, you can use <a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><span
style='color:#377063;text-decoration:none'>w3lib.http</span></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>. </span></sub></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><span
style='color:#377063;text-decoration:none'>basic_auth_header()</span></a><span
style='color:#377063'> </span>instead to set the value of the Authorization header
of your requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you <i>really </i>want your spider to send the same HTTP
authentication credentials to any domain, set the http_auth_domain spider
attribute to None.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:116.6pt;
margin-left:25.4pt'>Finally, if you are a user of <a
href="https://github.com/scrapy-plugins/scrapy-splash"><span style='color:#377063;
text-decoration:none'>scrapy-splash</span></a><a
href="https://github.com/scrapy-plugins/scrapy-splash"><span style='color:black;
text-decoration:none'>,</span></a> know that this version of Scrapy breaks
compatibility with scrapysplash 0.7.2 and earlier. You will need to upgrade
scrapy-splash to a greater version for it to continue to work.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.16 Scrapy 2.5.0
(2021-04-06)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Official Python 3.9
support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Experimental
<i><span style='color:#355F7C'>HTTP/2 support</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>get_retry_request() </span></i>function to retry requests
from spider callbacks</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>headers_received </span></i>signal that allows stopping
downloads early</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>Response.protocol </span></i>attribute</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
all code that <i><span style='color:#355F7C'>was deprecated in 1.7.0 </span></i>and
had not <i><span style='color:#355F7C'>already been removed in 2.4.0</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/4901"><span style='color:
#377063;text-decoration:none'>issue 4901</span></a><a
href="https://github.com/scrapy/scrapy/issues/4901"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed support for
the SCRAPY_PICKLED_SETTINGS_TO_OVERRIDE environment variable, <i><span
style='color:#355F7C'>deprecated in</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><i><span style='color:#355F7C'>1.8.0</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/4912"><span style='color:
#377063;text-decoration:none'>issue 4912</span></a><a
href="https://github.com/scrapy/scrapy/issues/4912"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.py36
module is now deprecated in favor of scrapy.utils.asyncgen. (<a
href="https://github.com/scrapy/scrapy/issues/4900"><span style='color:#377063;
text-decoration:none'>issue 4900</span></a><a
href="https://github.com/scrapy/scrapy/issues/4900"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Experimental <i><span
style='color:#355F7C'>HTTP/2 support </span></i>through a new download handler
that can be assigned to the https protocol in the <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS
</span></i>setting. (<a href="https://github.com/scrapy/scrapy/issues/1854"><span
style='color:#377063;text-decoration:none'>issue 1854</span></a><a
href="https://github.com/scrapy/scrapy/issues/1854"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4769"><span style='color:#377063;
text-decoration:none'>issue 4769</span></a><a
href="https://github.com/scrapy/scrapy/issues/4769"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5058"><span style='color:#377063;
text-decoration:none'>issue 5058</span></a><a
href="https://github.com/scrapy/scrapy/issues/5058"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5059"><span style='color:#377063;
text-decoration:none'>issue 5059</span></a><a
href="https://github.com/scrapy/scrapy/issues/5059"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5066"><span style='color:#377063;
text-decoration:none'>issue 5066</span></a><a
href="https://github.com/scrapy/scrapy/issues/5066"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>scrapy.downloadermiddlewares.retry.get_retry_request() </span></i>function
may be used from spider callbacks or middlewares to handle the retrying of a
request beyond the scenarios that <i><span style='color:#355F7C'>RetryMiddleware
</span></i>supports. (<a href="https://github.com/scrapy/scrapy/issues/3590"><span
style='color:#377063;text-decoration:none'>issue 3590</span></a><a
href="https://github.com/scrapy/scrapy/issues/3590"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3685"><span style='color:#377063;
text-decoration:none'>issue 3685</span></a><a
href="https://github.com/scrapy/scrapy/issues/3685"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4902"><span style='color:#377063;
text-decoration:none'>issue 4902</span></a><a
href="https://github.com/scrapy/scrapy/issues/4902"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>headers_received </span></i>signal gives early access to
response headers and allows <i><span style='color:#355F7C'>stopping downloads</span></i>.
<a href="https://github.com/scrapy/scrapy/issues/1772"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1772"><span style='color:#377063;
text-decoration:none'>issue 1772</span></a><a
href="https://github.com/scrapy/scrapy/issues/1772"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4897"><span style='color:#377063;
text-decoration:none'>issue 4897</span></a><a
href="https://github.com/scrapy/scrapy/issues/4897"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>Response.protocol </span></i>attribute gives access to
the string that identifies the protocol used to download a response. (<a
href="https://github.com/scrapy/scrapy/issues/4878"><span style='color:#377063;
text-decoration:none'>issue 4878</span></a><a
href="https://github.com/scrapy/scrapy/issues/4878"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Stats </span></i>now include the following entries that
indicate the number of successes and failures in storing <i><span
style='color:#355F7C'>feeds</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.05pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image516.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:25.4pt;line-height:132%'>Where &lt;storage type&gt; is         the          feed        storage   backend  class        name,     such        as
FileFeedStorage or FTPFeedStorage.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/3947"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3947"><span style='color:#377063;
text-decoration:none'>issue 3947</span></a><a
href="https://github.com/scrapy/scrapy/issues/3947"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4850"><span style='color:#377063;
text-decoration:none'>issue 4850</span></a><a
href="https://github.com/scrapy/scrapy/issues/4850"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>UrlLengthMiddleware </span></i>spider middleware now logs
ignored URLs with INFO <a
href="https://docs.python.org/3/library/logging.html#levels"><span
style='color:#377063;text-decoration:none'>logging level</span></a><span
style='color:#377063'> </span>instead of DEBUG, and it now includes the
following entry into <i><span style='color:#355F7C'>stats </span></i>to keep
track of the number of ignored URLs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image517.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/5036"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/5036"><span style='color:#377063;
text-decoration:none'>issue 5036</span></a><a
href="https://github.com/scrapy/scrapy/issues/5036"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>HttpCompressionMiddleware </span></i>downloader
middleware now logs the number of decompressed responses and the total count of
resulting bytes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=41 src="Scrapy%20Documentation_files/image518.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4797"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4797"><span style='color:#377063;
text-decoration:none'>issue 4797</span></a><a
href="https://github.com/scrapy/scrapy/issues/4797"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4799"><span style='color:#377063;
text-decoration:none'>issue 4799</span></a><a
href="https://github.com/scrapy/scrapy/issues/4799"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed installation on
PyPy installing PyDispatcher in addition to PyPyDispatcher, which could prevent
Scrapy from working depending on which package got imported. (<a
href="https://github.com/scrapy/scrapy/issues/4710"><span style='color:#377063;
text-decoration:none'>issue 4710</span></a><a
href="https://github.com/scrapy/scrapy/issues/4710"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4814"><span style='color:#377063;
text-decoration:none'>issue 4814</span></a><a
href="https://github.com/scrapy/scrapy/issues/4814"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When inspecting a
callback to check if it is a generator that also returns a value, an exception
is no longer raised if the callback has a docstring with lower indentation than
the following code. (<a href="https://github.com/scrapy/scrapy/issues/4477"><span
style='color:#377063;text-decoration:none'>issue 4477</span></a><a
href="https://github.com/scrapy/scrapy/issues/4477"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4935"><span style='color:#377063;
text-decoration:none'>issue 4935</span></a><a
href="https://github.com/scrapy/scrapy/issues/4935"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <a
href="https://datatracker.ietf.org/doc/html/rfc2616#section-14.13"><span
style='color:#377063;text-decoration:none'>Content-Length</span></a><span
style='color:#377063'> </span>header is no longer omitted from responses when
using the default, HTTP/1.1 download handler (see <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>).
(<a href="https://github.com/scrapy/scrapy/issues/5009"><span style='color:
#377063;text-decoration:none'>issue 5009</span></a><a
href="https://github.com/scrapy/scrapy/issues/5009"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5034"><span style='color:#377063;
text-decoration:none'>issue 5034</span></a><a
href="https://github.com/scrapy/scrapy/issues/5034"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5045"><span style='color:#377063;
text-decoration:none'>issue 5045</span></a><a
href="https://github.com/scrapy/scrapy/issues/5045"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5057"><span style='color:#377063;
text-decoration:none'>issue 5057</span></a><a
href="https://github.com/scrapy/scrapy/issues/5057"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5062"><span style='color:#377063;
text-decoration:none'>issue 5062</span></a><a
href="https://github.com/scrapy/scrapy/issues/5062"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Setting the <i><span
style='color:#355F7C'>handle_httpstatus_all </span></i>request meta key to False
now has the same effect as not setting it at all, instead of having the same
effect as setting it to True. (<a
href="https://github.com/scrapy/scrapy/issues/3851"><span style='color:#377063;
text-decoration:none'>issue 3851</span></a><a
href="https://github.com/scrapy/scrapy/issues/3851"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4694"><span style='color:#377063;
text-decoration:none'>issue 4694</span></a><a
href="https://github.com/scrapy/scrapy/issues/4694"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
instructions to <i><span style='color:#355F7C'>install Scrapy in Windows using
pip</span></i>. (<a href="https://github.com/scrapy/scrapy/issues/4715"><span
style='color:#377063;text-decoration:none'>issue 4715</span></a><a
href="https://github.com/scrapy/scrapy/issues/4715"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4736"><span style='color:#377063;
text-decoration:none'>issue 4736</span></a><a
href="https://github.com/scrapy/scrapy/issues/4736"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Logging documentation
now includes <i><span style='color:#355F7C'>additional ways to filter logs</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/4216"><span style='color:
#377063;text-decoration:none'>issue 4216</span></a><a
href="https://github.com/scrapy/scrapy/issues/4216"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4257"><span style='color:#377063;
text-decoration:none'>issue 4257</span></a><a
href="https://github.com/scrapy/scrapy/issues/4257"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4965"><span style='color:#377063;
text-decoration:none'>issue 4965</span></a><a
href="https://github.com/scrapy/scrapy/issues/4965"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Covered how to deal
with long lists of allowed domains in the <i><span style='color:#355F7C'>FAQ</span></i>.
(<a href="https://github.com/scrapy/scrapy/issues/2263"><span style='color:
#377063;text-decoration:none'>issue 2263</span></a><a
href="https://github.com/scrapy/scrapy/issues/2263"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3667"><span style='color:#377063;
text-decoration:none'>issue 3667</span></a><a
href="https://github.com/scrapy/scrapy/issues/3667"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Covered
<a href="https://github.com/scrapy/scrapy-bench"><span style='color:#377063;
text-decoration:none'>scrapy-bench</span></a><span style='color:#377063'> </span>in
<i><span style='color:#355F7C'>Benchmarking</span></i>. (<a
href="https://github.com/scrapy/scrapy/issues/4996"><span style='color:#377063;
text-decoration:none'>issue 4996</span></a><a
href="https://github.com/scrapy/scrapy/issues/4996"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5016"><span style='color:#377063;
text-decoration:none'>issue 5016</span></a><a
href="https://github.com/scrapy/scrapy/issues/5016"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified that one <i><span
style='color:#355F7C'>extension </span></i>instance is created per crawler. (<a
href="https://github.com/scrapy/scrapy/issues/5014"><span style='color:#377063;
text-decoration:none'>issue 5014</span></a><a
href="https://github.com/scrapy/scrapy/issues/5014"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
some errors in examples. (<a href="https://github.com/scrapy/scrapy/issues/4829"><span
style='color:#377063;text-decoration:none'>issue 4829</span></a><a
href="https://github.com/scrapy/scrapy/issues/4829"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4830"><span style='color:#377063;
text-decoration:none'>issue 4830</span></a><a
href="https://github.com/scrapy/scrapy/issues/4830"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4907"><span style='color:#377063;
text-decoration:none'>issue 4907</span></a><a
href="https://github.com/scrapy/scrapy/issues/4907"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4909"><span style='color:#377063;
text-decoration:none'>issue 4909</span></a><a
href="https://github.com/scrapy/scrapy/issues/4909"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5008"><span style='color:#377063;
text-decoration:none'>issue 5008</span></a><a
href="https://github.com/scrapy/scrapy/issues/5008"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
some external links, typos, and so on. (<a
href="https://github.com/scrapy/scrapy/issues/4892"><span style='color:#377063;
text-decoration:none'>issue 4892</span></a><a
href="https://github.com/scrapy/scrapy/issues/4892"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4899"><span style='color:#377063;
text-decoration:none'>issue 4899</span></a><a
href="https://github.com/scrapy/scrapy/issues/4899"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4936"><span style='color:#377063;
text-decoration:none'>issue 4936</span></a><a
href="https://github.com/scrapy/scrapy/issues/4936"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4942"><span style='color:#377063;
text-decoration:none'>issue 4942</span></a><a
href="https://github.com/scrapy/scrapy/issues/4942"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5005"><span style='color:#377063;
text-decoration:none'>issue 5005</span></a><a
href="https://github.com/scrapy/scrapy/issues/5005"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5063"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5063"><span style='color:#377063;
text-decoration:none'>5063</span></a><a
href="https://github.com/scrapy/scrapy/issues/5063"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>list of Request.meta keys </span></i>is now sorted
alphabetically. (<a href="https://github.com/scrapy/scrapy/issues/5061"><span
style='color:#377063;text-decoration:none'>issue 5061</span></a><a
href="https://github.com/scrapy/scrapy/issues/5061"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5065"><span style='color:#377063;
text-decoration:none'>issue 5065</span></a><a
href="https://github.com/scrapy/scrapy/issues/5065"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated references to
Scrapinghub, which is now called Zyte. (<a
href="https://github.com/scrapy/scrapy/issues/4973"><span style='color:#377063;
text-decoration:none'>issue 4973</span></a><a
href="https://github.com/scrapy/scrapy/issues/4973"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5072"><span style='color:#377063;
text-decoration:none'>issue 5072</span></a><a
href="https://github.com/scrapy/scrapy/issues/5072"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a mention to
contributors in the README. (<a
href="https://github.com/scrapy/scrapy/issues/4956"><span style='color:#377063;
text-decoration:none'>issue 4956</span></a><a
href="https://github.com/scrapy/scrapy/issues/4956"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reduced the top
margin of lists. (<a href="https://github.com/scrapy/scrapy/issues/4974"><span
style='color:#377063;text-decoration:none'>issue 4974</span></a><a
href="https://github.com/scrapy/scrapy/issues/4974"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
Assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made Python 3.9
support official (<a href="https://github.com/scrapy/scrapy/issues/4757"><span
style='color:#377063;text-decoration:none'>issue 4757</span></a><a
href="https://github.com/scrapy/scrapy/issues/4757"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4759"><span style='color:#377063;
text-decoration:none'>issue 4759</span></a><a
href="https://github.com/scrapy/scrapy/issues/4759"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended typing hints
(<a href="https://github.com/scrapy/scrapy/issues/4895"><span style='color:
#377063;text-decoration:none'>issue 4895</span></a><a
href="https://github.com/scrapy/scrapy/issues/4895"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed deprecated uses
of the Twisted API. (<a href="https://github.com/scrapy/scrapy/issues/4940"><span
style='color:#377063;text-decoration:none'>issue 4940</span></a><a
href="https://github.com/scrapy/scrapy/issues/4940"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4950"><span style='color:#377063;
text-decoration:none'>issue 4950</span></a><a
href="https://github.com/scrapy/scrapy/issues/4950"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5073"><span style='color:#377063;
text-decoration:none'>issue 5073</span></a><a
href="https://github.com/scrapy/scrapy/issues/5073"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made our tests run
with the new pip resolver. (<a
href="https://github.com/scrapy/scrapy/issues/4710"><span style='color:#377063;
text-decoration:none'>issue 4710</span></a><a
href="https://github.com/scrapy/scrapy/issues/4710"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4814"><span style='color:#377063;
text-decoration:none'>issue 4814</span></a><a
href="https://github.com/scrapy/scrapy/issues/4814"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added tests to ensure
that <i><span style='color:#355F7C'>coroutine support </span></i>is tested. (<a
href="https://github.com/scrapy/scrapy/issues/4987"><span style='color:#377063;
text-decoration:none'>issue 4987</span></a><a
href="https://github.com/scrapy/scrapy/issues/4987"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Migrated from Travis
CI to GitHub Actions. (<a href="https://github.com/scrapy/scrapy/issues/4924"><span
style='color:#377063;text-decoration:none'>issue 4924</span></a><a
href="https://github.com/scrapy/scrapy/issues/4924"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:42.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
CI issues. (<a href="https://github.com/scrapy/scrapy/issues/4986"><span
style='color:#377063;text-decoration:none'>issue 4986</span></a><a
href="https://github.com/scrapy/scrapy/issues/4986"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5020"><span style='color:#377063;
text-decoration:none'>issue 5020</span></a><a
href="https://github.com/scrapy/scrapy/issues/5020"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5022"><span style='color:#377063;
text-decoration:none'>issue 5022</span></a><a
href="https://github.com/scrapy/scrapy/issues/5022"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5027"><span style='color:#377063;
text-decoration:none'>issue 5027</span></a><a
href="https://github.com/scrapy/scrapy/issues/5027"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5052"><span style='color:#377063;
text-decoration:none'>issue 5052</span></a><a
href="https://github.com/scrapy/scrapy/issues/5052"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5053"><span style='color:#377063;
text-decoration:none'>issue 5053</span></a><a
href="https://github.com/scrapy/scrapy/issues/5053"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Implemented code
refactorings, style fixes and cleanups. (<a
href="https://github.com/scrapy/scrapy/issues/4911"><span style='color:#377063;
text-decoration:none'>issue 4911</span></a><a
href="https://github.com/scrapy/scrapy/issues/4911"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4982"><span style='color:#377063;
text-decoration:none'>issue 4982</span></a><a
href="https://github.com/scrapy/scrapy/issues/4982"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5001"><span style='color:#377063;
text-decoration:none'>issue 5001</span></a><a
href="https://github.com/scrapy/scrapy/issues/5001"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5002"><span style='color:#377063;
text-decoration:none'>issue 5002</span></a><a
href="https://github.com/scrapy/scrapy/issues/5002"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/5076"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/5076"><span style='color:#377063;
text-decoration:none'>5076</span></a><a
href="https://github.com/scrapy/scrapy/issues/5076"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.17 Scrapy 2.4.1
(2020-11-17)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
<i><span style='color:#355F7C'>feed exports </span></i>overwrite support (<a
href="https://github.com/scrapy/scrapy/issues/4845"><span style='color:#377063;
text-decoration:none'>issue 4845</span></a><a
href="https://github.com/scrapy/scrapy/issues/4845"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4857"><span style='color:#377063;
text-decoration:none'>issue 4857</span></a><a
href="https://github.com/scrapy/scrapy/issues/4857"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4859"><span style='color:#377063;
text-decoration:none'>issue 4859</span></a><a
href="https://github.com/scrapy/scrapy/issues/4859"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the AsyncIO
event loop handling, which could make code hang (<a
href="https://github.com/scrapy/scrapy/issues/4855"><span style='color:#377063;
text-decoration:none'>issue 4855</span></a><a
href="https://github.com/scrapy/scrapy/issues/4855"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4872"><span style='color:#377063;
text-decoration:none'>issue 4872</span></a><a
href="https://github.com/scrapy/scrapy/issues/4872"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the
IPv6-capable DNS resolver CachingHostnameResolver for download handlers that
call <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.interfaces.IReactorCore.html#resolve"><span
style='color:#377063;text-decoration:none'>reactor. </span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.interfaces.IReactorCore.html#resolve"><span
style='color:#377063;text-decoration:none'>resolve</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4802"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4802"><span style='color:#377063;
text-decoration:none'>issue 4802</span></a><a
href="https://github.com/scrapy/scrapy/issues/4802"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4803"><span style='color:#377063;
text-decoration:none'>issue 4803</span></a><a
href="https://github.com/scrapy/scrapy/issues/4803"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the output of
the <i><span style='color:#355F7C'>genspider </span></i>command showing
placeholders instead of the import path of the generated spider module (<a
href="https://github.com/scrapy/scrapy/issues/4874"><span style='color:#377063;
text-decoration:none'>issue 4874</span></a><a
href="https://github.com/scrapy/scrapy/issues/4874"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Migrated Windows CI
from Azure Pipelines to GitHub Actions (<a
href="https://github.com/scrapy/scrapy/issues/4869"><span style='color:#377063;
text-decoration:none'>issue 4869</span></a><a
href="https://github.com/scrapy/scrapy/issues/4869"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4876"><span style='color:#377063;
text-decoration:none'>issue 4876</span></a><a
href="https://github.com/scrapy/scrapy/issues/4876"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.18 Scrapy 2.4.0
(2020-10-11)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 3.5 support
has been dropped.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:149%'><span
style='line-height:149%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
file_path method of <i><span style='color:#355F7C'>media pipelines </span></i>can
now access the source <i><span style='color:#355F7C'>item</span></i>. This
allows you to set a download file path based on item data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new item_export_kwargs
key of the <i><span style='color:#355F7C'>FEEDS </span></i>setting allows to
define keyword parameters to pass to <i><span style='color:#355F7C'>item
exporter classes</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can now choose
whether <i><span style='color:#355F7C'>feed exports </span></i>overwrite or
append to the output file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>For example, when using the <i><span style='color:#355F7C'>crawl
</span></i>or <i><span style='color:#355F7C'>runspider </span></i>commands, you
can use the -<sub><span style='font-size:15.5pt;line-height:103%'>O </span></sub>option
instead of -<sub><span style='font-size:15.5pt;line-height:103%'>o </span></sub>to
overwrite the output file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Zstd-compressed
responses are now supported if <a href="https://pypi.org/project/zstandard/"><span
style='color:#377063;text-decoration:none'>zstandard</span></a><span
style='color:#377063'> </span>is installed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In settings, where
the import path of a class is required, it is now possible to pass a class
object instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Modified
requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python
3.6 or greater is now required; support for Python 3.5 has been dropped As a
result:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>When using
PyPy, PyPy 7.2.0 or greater <i><span style='color:#355F7C'>is now required</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>For Amazon S3
storage support in <i><span style='color:#355F7C'>feed exports </span></i>or <i><span
style='color:#355F7C'>media pipelines</span></i>, <a
href="https://github.com/boto/botocore"><span style='color:#377063;text-decoration:
none'>botocore</span></a><span style='color:#377063'> </span>1.4.87 or greater
is now required</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>To use the <i><span
style='color:#355F7C'>images pipeline</span></i>, <a
href="https://python-pillow.org/"><span style='color:#377063;text-decoration:
none'>Pillow</span></a><span style='color:#377063'> </span>4.0.0 or greater is
now required</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4718"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4718"><span style='color:#377063;
text-decoration:none'>issue 4718</span></a><a
href="https://github.com/scrapy/scrapy/issues/4718"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4732"><span style='color:#377063;
text-decoration:none'>issue 4732</span></a><a
href="https://github.com/scrapy/scrapy/issues/4732"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4733"><span style='color:#377063;
text-decoration:none'>issue 4733</span></a><a
href="https://github.com/scrapy/scrapy/issues/4733"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4742"><span style='color:#377063;
text-decoration:none'>issue 4742</span></a><a
href="https://github.com/scrapy/scrapy/issues/4742"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4743"><span style='color:#377063;
text-decoration:none'>issue 4743</span></a><a
href="https://github.com/scrapy/scrapy/issues/4743"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4764"><span style='color:#377063;
text-decoration:none'>issue 4764</span></a><a
href="https://github.com/scrapy/scrapy/issues/4764"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CookiesMiddleware </span></i>once again discards cookies
defined in <i><span style='color:#355F7C'>Request.headers</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>We decided to revert this bug fix, introduced in Scrapy
2.2.0, because it was reported that the current implementation could break
existing code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you need to set cookies for a request, use the <i><span
style='color:#355F7C'>Request.cookies </span></i>parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:53.5pt;margin-bottom:
13.95pt;margin-left:25.4pt;line-height:147%'>A future version of Scrapy will
include a new, better implementation of the reverted bug fix. <a
href="https://github.com/scrapy/scrapy/issues/4717"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4717"><span style='color:#377063;
text-decoration:none'>issue 4717</span></a><a
href="https://github.com/scrapy/scrapy/issues/4717"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4823"><span style='color:#377063;
text-decoration:none'>issue 4823</span></a><a
href="https://github.com/scrapy/scrapy/issues/4823"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.extensions.feedexport.S3FeedStorage
no longer reads the values of access_key and secret_key from the running
project settings when they are not passed to its __init__ method; you must
either pass those parameters to its __init__ method or use S3FeedStorage.from_crawler
<a href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:#377063;
text-decoration:none'>issue 4356</span></a><a
href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4411"><span style='color:#377063;
text-decoration:none'>is</span></a><a
href="https://github.com/scrapy/scrapy/issues/4411"><span style='color:#377063;
text-decoration:none'>sue 4411</span></a><a
href="https://github.com/scrapy/scrapy/issues/4411"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4688"><span style='color:#377063;
text-decoration:none'>issue 4688</span></a><a
href="https://github.com/scrapy/scrapy/issues/4688"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Rule.process_request no
longer admits callables which expect a single request parameter, rather than
both request and response <a href="https://github.com/scrapy/scrapy/issues/4818"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4818"><span style='color:#377063;
text-decoration:none'>issue 4818</span></a><a
href="https://github.com/scrapy/scrapy/issues/4818"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In custom <i><span
style='color:#355F7C'>media pipelines</span></i>, signatures that do not accept
a keyword-only item parameter in any of the methods that <i><span
style='color:#355F7C'>now support this parameter </span></i>are now deprecated
(<a href="https://github.com/scrapy/scrapy/issues/4628"><span style='color:
#377063;text-decoration:none'>issue 4628</span></a><a
href="https://github.com/scrapy/scrapy/issues/4628"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4686"><span style='color:#377063;
text-decoration:none'>issue 4686</span></a><a
href="https://github.com/scrapy/scrapy/issues/4686"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In custom <i><span
style='color:#355F7C'>feed storage backend classes</span></i>, __init__ method
signatures that do not accept a keyword-only feed_options parameter are now
deprecated (<a href="https://github.com/scrapy/scrapy/issues/547"><span
style='color:#377063;text-decoration:none'>issue 547</span></a><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:#377063;
text-decoration:none'>issue 716</span></a><a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:#377063;
text-decoration:none'>issue 4512</span></a><a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.utils.python.WeakKeyCache class is now deprecated (<a
href="https://github.com/scrapy/scrapy/issues/4684"><span style='color:#377063;
text-decoration:none'>issue 4684</span></a><a
href="https://github.com/scrapy/scrapy/issues/4684"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4701"><span style='color:#377063;
text-decoration:none'>issue 4701</span></a><a
href="https://github.com/scrapy/scrapy/issues/4701"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.utils.boto.is_botocore() function       is             now        deprecated,            use
scrapy.utils.boto. is_botocore_available() instead (<a
href="https://github.com/scrapy/scrapy/issues/4734"><span style='color:#377063;
text-decoration:none'>issue 4734</span></a><a
href="https://github.com/scrapy/scrapy/issues/4734"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4776"><span style='color:#377063;
text-decoration:none'>issue 4776</span></a><a
href="https://github.com/scrapy/scrapy/issues/4776"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The following methods
of <i><span style='color:#355F7C'>media pipelines </span></i>now accept an item
keyword-only parameter containing the source <i><span style='color:#355F7C'>item</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>In <i><span style='color:#355F7C'>scrapy.pipelines.files.FilesPipeline</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.85pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
file_downloaded()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:62.1pt;line-height:108%'>&#8727; <i><span style='color:#355F7C'>file_path()</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.0pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
media_downloaded()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.0pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
media_to_download()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:108%'><span
style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>In <i><span style='color:#355F7C'>scrapy.pipelines.images.ImagesPipeline</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.85pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
file_downloaded()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:62.1pt;line-height:108%'>&#8727; <i><span style='color:#355F7C'>file_path()</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.95pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
get_images()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:31.95pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
image_downloaded()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.0pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
media_downloaded()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.4pt;margin-left:62.1pt;text-align:left;line-height:112%'>&#8727;
media_to_download()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4628"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4628"><span style='color:#377063;
text-decoration:none'>issue 4628</span></a><a
href="https://github.com/scrapy/scrapy/issues/4628"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4686"><span style='color:#377063;
text-decoration:none'>issue 4686</span></a><a
href="https://github.com/scrapy/scrapy/issues/4686"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new item_export_kwargs
key of the <i><span style='color:#355F7C'>FEEDS </span></i>setting allows to
define keyword parameters to pass to <i><span style='color:#355F7C'>item
exporter classes </span></i><a
href="https://github.com/scrapy/scrapy/issues/4606"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4606"><span style='color:#377063;
text-decoration:none'>issue 4606</span></a><a
href="https://github.com/scrapy/scrapy/issues/4606"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4768"><span style='color:#377063;
text-decoration:none'>issue 4768</span></a><a
href="https://github.com/scrapy/scrapy/issues/4768"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Feed exports </span></i>gained overwrite support: <b>– </b>When
using the <i><span style='color:#355F7C'>crawl </span></i>or <i><span
style='color:#355F7C'>runspider </span></i>commands, you can use the -<sub><span
style='font-size:15.5pt;line-height:103%'>O </span></sub>option instead of -<sub><span
style='font-size:15.5pt;line-height:103%'>o </span></sub>to overwrite the
output file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>You can use the
overwrite key in the <i><span style='color:#355F7C'>FEEDS </span></i>setting to
configure whether to overwrite the output file (True) or append to its content
(False)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The __init__ and
from_crawler methods of <i><span style='color:#355F7C'>feed storage backend
classes </span></i>now receive a new keywordonly parameter, feed_options, which
is a dictionary of <i><span style='color:#355F7C'>feed options</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:#377063;
text-decoration:none'>issue 547</span></a><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:#377063;
text-decoration:none'>issue 716</span></a><a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:#377063;
text-decoration:none'>issue 4512</span></a><a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Zstd-compressed
responses are now supported if <a href="https://pypi.org/project/zstandard/"><span
style='color:#377063;text-decoration:none'>zstandard</span></a><span
style='color:#377063'> </span>is installed (<a
href="https://github.com/scrapy/scrapy/issues/4831"><span style='color:#377063;
text-decoration:none'>issue 4831</span></a><a
href="https://github.com/scrapy/scrapy/issues/4831"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In settings, where
the import path of a class is required, it is now possible to pass a class
object instead (<a href="https://github.com/scrapy/scrapy/issues/3870"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3870"><span style='color:#377063;
text-decoration:none'>3870</span></a><a
href="https://github.com/scrapy/scrapy/issues/3870"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3873"><span style='color:#377063;
text-decoration:none'>issue 3873</span></a><a
href="https://github.com/scrapy/scrapy/issues/3873"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>           </span>This    includes   also   settings   where   only   part   of   its   value   is   made   of   an   import   path,    such   as</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:25.4pt;line-height:108%'><i><span style='color:#355F7C'>DOWNLOADER_MIDDLEWARES
</span></i>or <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Downloader middlewares </span></i>can now override <i><span
style='color:#355F7C'>response.request</span></i>.</p>

<p class=MsoNormal style='margin-left:25.4pt;line-height:108%'>If   a              <i><span
style='color:#355F7C'>downloader           middleware           </span></i>returns   a
<i><span style='color:#355F7C'>Response </span></i>object                from <i><span
style='color:#355F7C'>process_response() </span></i>or <i><span
style='color:#355F7C'>process_exception() </span></i>with a custom <i><span
style='color:#355F7C'>Request </span></i>object assigned to <i><span
style='color:#355F7C'>response.request</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The response is
handled by the callback of that custom <i><span style='color:#355F7C'>Request </span></i>object,
instead of being handled by the callback of the original <i><span
style='color:#355F7C'>Request </span></i>object</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>That custom <i><span
style='color:#355F7C'>Request </span></i>object is now sent as the request argument
to the <i><span style='color:#355F7C'>response_received </span></i>signal,
instead of the original <i><span style='color:#355F7C'>Request </span></i>object</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4529"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4529"><span style='color:#377063;
text-decoration:none'>issue 4529</span></a><a
href="https://github.com/scrapy/scrapy/issues/4529"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4632"><span style='color:#377063;
text-decoration:none'>issue 4632</span></a><a
href="https://github.com/scrapy/scrapy/issues/4632"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When
using the <i><span style='color:#355F7C'>FTP feed storage backend</span></i>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>It is now
possible to set the new overwrite <i><span style='color:#355F7C'>feed option </span></i>to
False to append to an existing file instead of overwriting it</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The FTP
password can now be omitted if it is not necessary</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.9pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:#377063;
text-decoration:none'>issue 547</span></a><a
href="https://github.com/scrapy/scrapy/issues/547"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:#377063;
text-decoration:none'>issue 716</span></a><a
href="https://github.com/scrapy/scrapy/issues/716"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:#377063;
text-decoration:none'>issue 4512</span></a><a
href="https://github.com/scrapy/scrapy/issues/4512"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The __init__ method
of <i><span style='color:#355F7C'>CsvItemExporter </span></i>now supports an errors
parameter to indicate how to handle encoding errors (<a
href="https://github.com/scrapy/scrapy/issues/4755"><span style='color:#377063;
text-decoration:none'>issue 4755</span></a><a
href="https://github.com/scrapy/scrapy/issues/4755"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When
<i><span style='color:#355F7C'>using asyncio</span></i>, it is now possible to <i><span
style='color:#355F7C'>set a custom asyncio loop </span></i><a
href="https://github.com/scrapy/scrapy/issues/4306"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4306"><span style='color:#377063;
text-decoration:none'>issue 4306</span></a><a
href="https://github.com/scrapy/scrapy/issues/4306"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4414"><span style='color:#377063;
text-decoration:none'>issue 4414</span></a><a
href="https://github.com/scrapy/scrapy/issues/4414"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Serialized requests
(see <i><span style='color:#355F7C'>Jobs: pausing and resuming crawls</span></i>)
now support callbacks that are spider methods that delegate on other callable (<a
href="https://github.com/scrapy/scrapy/issues/4756"><span style='color:#377063;
text-decoration:none'>issue 4756</span></a><a
href="https://github.com/scrapy/scrapy/issues/4756"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a response is
larger than <i><span style='color:#355F7C'>DOWNLOAD_MAXSIZE</span></i>, the
logged message is now a warning, instead of an error <a
href="https://github.com/scrapy/scrapy/issues/3874"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3874"><span style='color:#377063;
text-decoration:none'>issue 3874</span></a><a
href="https://github.com/scrapy/scrapy/issues/3874"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3886"><span style='color:#377063;
text-decoration:none'>issue 3886</span></a><a
href="https://github.com/scrapy/scrapy/issues/3886"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4752"><span style='color:#377063;
text-decoration:none'>issue 4752</span></a><a
href="https://github.com/scrapy/scrapy/issues/4752"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>genspider </span></i>command no longer overwrites
existing files unless the --<sub><span style='font-size:15.5pt;line-height:
103%'>force </span></sub>option is used (<a
href="https://github.com/scrapy/scrapy/issues/4561"><span style='color:#377063;
text-decoration:none'>issue 4561</span></a><a
href="https://github.com/scrapy/scrapy/issues/4561"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4616"><span style='color:#377063;
text-decoration:none'>issue 4616</span></a><a
href="https://github.com/scrapy/scrapy/issues/4616"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4623"><span style='color:#377063;
text-decoration:none'>issue 4623</span></a><a
href="https://github.com/scrapy/scrapy/issues/4623"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cookies with an empty
value are no longer considered invalid cookies (<a
href="https://github.com/scrapy/scrapy/issues/4772"><span style='color:#377063;
text-decoration:none'>issue 4772</span></a><a
href="https://github.com/scrapy/scrapy/issues/4772"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>runspider </span></i>command now supports files with the .pyw
file extension (<a href="https://github.com/scrapy/scrapy/issues/4643"><span
style='color:#377063;text-decoration:none'>issue 4643</span></a><a
href="https://github.com/scrapy/scrapy/issues/4643"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4646"><span style='color:#377063;
text-decoration:none'>issue 4646</span></a><a
href="https://github.com/scrapy/scrapy/issues/4646"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>middleware now simply
ignores unsupported proxy values (<a
href="https://github.com/scrapy/scrapy/issues/3331"><span style='color:#377063;
text-decoration:none'>issue 3331</span></a><a
href="https://github.com/scrapy/scrapy/issues/3331"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4778"><span style='color:#377063;
text-decoration:none'>issue 4778</span></a><a
href="https://github.com/scrapy/scrapy/issues/4778"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Checks for generator
callbacks with a return statement no longer warn about return statements in
nested functions (<a href="https://github.com/scrapy/scrapy/issues/4720"><span
style='color:#377063;text-decoration:none'>issue 4720</span></a><a
href="https://github.com/scrapy/scrapy/issues/4720"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4721"><span style='color:#377063;
text-decoration:none'>issue 4721</span></a><a
href="https://github.com/scrapy/scrapy/issues/4721"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The system file mode
creation mask no longer affects the permissions of files generated using the <i><span
style='color:#355F7C'>startproject </span></i>command (<a
href="https://github.com/scrapy/scrapy/issues/4722"><span style='color:#377063;
text-decoration:none'>issue 4722</span></a><a
href="https://github.com/scrapy/scrapy/issues/4722"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.iterators.xmliter()
now supports namespaced node names (<a
href="https://github.com/scrapy/scrapy/issues/861"><span style='color:#377063;
text-decoration:none'>issue 861</span></a><a
href="https://github.com/scrapy/scrapy/issues/861"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4746"><span style='color:#377063;
text-decoration:none'>issue 4746</span></a><a
href="https://github.com/scrapy/scrapy/issues/4746"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request objects can
now have about: URLs, which can work when using a headless browser (<a
href="https://github.com/scrapy/scrapy/issues/4835"><span style='color:#377063;
text-decoration:none'>issue 4835</span></a><a
href="https://github.com/scrapy/scrapy/issues/4835"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>FEED_URI_PARAMS </span></i>setting is now documented (<a
href="https://github.com/scrapy/scrapy/issues/4671"><span style='color:#377063;
text-decoration:none'>issue 4671</span></a><a
href="https://github.com/scrapy/scrapy/issues/4671"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4724"><span style='color:#377063;
text-decoration:none'>issue 4724</span></a><a
href="https://github.com/scrapy/scrapy/issues/4724"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved the
documentation of <i><span style='color:#355F7C'>link extractors </span></i>with
an usage example from a spider callback and reference documentation for the <i><span
style='color:#355F7C'>Link </span></i>class (<a
href="https://github.com/scrapy/scrapy/issues/4751"><span style='color:#377063;
text-decoration:none'>issue 4751</span></a><a
href="https://github.com/scrapy/scrapy/issues/4751"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4775"><span style='color:#377063;
text-decoration:none'>issue 4775</span></a><a
href="https://github.com/scrapy/scrapy/issues/4775"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified the impact
of <i><span style='color:#355F7C'>CONCURRENT_REQUESTS </span></i>when using the
<i><span style='color:#355F7C'>CloseSpider </span></i>extension (<a
href="https://github.com/scrapy/scrapy/issues/4836"><span style='color:#377063;
text-decoration:none'>issue 4836</span></a><a
href="https://github.com/scrapy/scrapy/issues/4836"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed references to
Python 2’s unicode type (<a href="https://github.com/scrapy/scrapy/issues/4547"><span
style='color:#377063;text-decoration:none'>issue 4547</span></a><a
href="https://github.com/scrapy/scrapy/issues/4547"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4703"><span style='color:#377063;
text-decoration:none'>issue 4703</span></a><a
href="https://github.com/scrapy/scrapy/issues/4703"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>We
now have an <i><span style='color:#355F7C'>official deprecation policy </span></i><a
href="https://github.com/scrapy/scrapy/issues/4705"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4705"><span style='color:#377063;
text-decoration:none'>issue 4705</span></a><a
href="https://github.com/scrapy/scrapy/issues/4705"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Our <i><span
style='color:#355F7C'>documentation policies </span></i>now cover usage of
Sphinx’s <a
href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-versionadded"><span
style='color:#377063;text-decoration:none'>versionadded</span></a><span
style='color:#377063'> </span>and <a
href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-versionchanged"><span
style='color:#377063;text-decoration:none'>versionchanged</span></a><span
style='color:#377063'> </span>directives, and we have removed usages
referencing Scrapy 1.4.0 and earlier versions (<a
href="https://github.com/scrapy/scrapy/issues/3971"><span style='color:#377063;
text-decoration:none'>issue 3971</span></a><a
href="https://github.com/scrapy/scrapy/issues/3971"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4310"><span style='color:#377063;
text-decoration:none'>issue 4310</span></a><a
href="https://github.com/scrapy/scrapy/issues/4310"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other
documentation cleanups (<a href="https://github.com/scrapy/scrapy/issues/4090"><span
style='color:#377063;text-decoration:none'>issue 4090</span></a><a
href="https://github.com/scrapy/scrapy/issues/4090"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4782"><span style='color:#377063;
text-decoration:none'>issue 4782</span></a><a
href="https://github.com/scrapy/scrapy/issues/4782"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4800"><span style='color:#377063;
text-decoration:none'>issue 4800</span></a><a
href="https://github.com/scrapy/scrapy/issues/4800"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4801"><span style='color:#377063;
text-decoration:none'>issue 4801</span></a><a
href="https://github.com/scrapy/scrapy/issues/4801"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4809"><span style='color:#377063;
text-decoration:none'>issue 4809</span></a><a
href="https://github.com/scrapy/scrapy/issues/4809"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4816"><span style='color:#377063;
text-decoration:none'>issue 4816</span></a><a
href="https://github.com/scrapy/scrapy/issues/4816"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4825"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4825"><span style='color:#377063;
text-decoration:none'>4825</span></a><a
href="https://github.com/scrapy/scrapy/issues/4825"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended typing hints
(<a href="https://github.com/scrapy/scrapy/issues/4243"><span style='color:
#377063;text-decoration:none'>issue 4243</span></a><a
href="https://github.com/scrapy/scrapy/issues/4243"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4691"><span style='color:#377063;
text-decoration:none'>issue 4691</span></a><a
href="https://github.com/scrapy/scrapy/issues/4691"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added tests for the <i><span
style='color:#355F7C'>check </span></i>command (<a
href="https://github.com/scrapy/scrapy/issues/4663"><span style='color:#377063;
text-decoration:none'>issue 4663</span></a><a
href="https://github.com/scrapy/scrapy/issues/4663"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed test failures
on Debian (<a href="https://github.com/scrapy/scrapy/issues/4726"><span
style='color:#377063;text-decoration:none'>issue 4726</span></a><a
href="https://github.com/scrapy/scrapy/issues/4726"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4727"><span style='color:#377063;
text-decoration:none'>issue 4727</span></a><a
href="https://github.com/scrapy/scrapy/issues/4727"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4735"><span style='color:#377063;
text-decoration:none'>issue 4735</span></a><a
href="https://github.com/scrapy/scrapy/issues/4735"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved Windows test
coverage (<a href="https://github.com/scrapy/scrapy/issues/4723"><span
style='color:#377063;text-decoration:none'>issue 4723</span></a><a
href="https://github.com/scrapy/scrapy/issues/4723"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Switched
to <a href="https://docs.python.org/3/reference/lexical_analysis.html#f-strings"><span
style='color:#377063;text-decoration:none'>formatted string literals</span></a><span
style='color:#377063'> </span>where possible (<a
href="https://github.com/scrapy/scrapy/issues/4307"><span style='color:#377063;
text-decoration:none'>issue 4307</span></a><a
href="https://github.com/scrapy/scrapy/issues/4307"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4324"><span style='color:#377063;
text-decoration:none'>issue 4324</span></a><a
href="https://github.com/scrapy/scrapy/issues/4324"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4672"><span style='color:#377063;
text-decoration:none'>issue 4672</span></a><a
href="https://github.com/scrapy/scrapy/issues/4672"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Modernized super() usage
(<a href="https://github.com/scrapy/scrapy/issues/4707"><span style='color:
#377063;text-decoration:none'>issue 4707</span></a><a
href="https://github.com/scrapy/scrapy/issues/4707"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:93.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other
code and test cleanups (<a href="https://github.com/scrapy/scrapy/issues/1790"><span
style='color:#377063;text-decoration:none'>issue 1790</span></a><a
href="https://github.com/scrapy/scrapy/issues/1790"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3288"><span style='color:#377063;
text-decoration:none'>issue 3288</span></a><a
href="https://github.com/scrapy/scrapy/issues/3288"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4165"><span style='color:#377063;
text-decoration:none'>issue 4165</span></a><a
href="https://github.com/scrapy/scrapy/issues/4165"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4564"><span style='color:#377063;
text-decoration:none'>issue 4564</span></a><a
href="https://github.com/scrapy/scrapy/issues/4564"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4651"><span style='color:#377063;
text-decoration:none'>issue 4651</span></a><a
href="https://github.com/scrapy/scrapy/issues/4651"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4714"><span style='color:#377063;
text-decoration:none'>issue 4714</span></a><a
href="https://github.com/scrapy/scrapy/issues/4714"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4738"><span style='color:#377063;
text-decoration:none'>issue 4738</span></a><a
href="https://github.com/scrapy/scrapy/issues/4738"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4745"><span style='color:#377063;
text-decoration:none'>issue 4745</span></a><a
href="https://github.com/scrapy/scrapy/issues/4745"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4747"><span style='color:#377063;
text-decoration:none'>issue 4747</span></a><a
href="https://github.com/scrapy/scrapy/issues/4747"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4761"><span style='color:#377063;
text-decoration:none'>issue 4761</span></a><a
href="https://github.com/scrapy/scrapy/issues/4761"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4765"><span style='color:#377063;
text-decoration:none'>issue 4765</span></a><a
href="https://github.com/scrapy/scrapy/issues/4765"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4804"><span style='color:#377063;
text-decoration:none'>issue 4804</span></a><a
href="https://github.com/scrapy/scrapy/issues/4804"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4817"><span style='color:#377063;
text-decoration:none'>issue 4817</span></a><a
href="https://github.com/scrapy/scrapy/issues/4817"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4820"><span style='color:#377063;
text-decoration:none'>issue 4820</span></a><a
href="https://github.com/scrapy/scrapy/issues/4820"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4822"><span style='color:#377063;
text-decoration:none'>issue 4822</span></a><a
href="https://github.com/scrapy/scrapy/issues/4822"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4839"><span style='color:#377063;
text-decoration:none'>issue 4839</span></a><a
href="https://github.com/scrapy/scrapy/issues/4839"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.19 Scrapy 2.3.0
(2020-08-04)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Feed exports </span></i>now support <i><span
style='color:#355F7C'>Google Cloud Storage </span></i>as a storage backend</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT </span></i>setting allows to
deliver output items in batches of up to the specified number of items.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>It also serves as a workaround for <i><span
style='color:#355F7C'>delayed file delivery</span></i>, which causes Scrapy to
only start item delivery after the crawl has finished when using certain
storage backends (<i><span style='color:#355F7C'>S3</span></i>, <i><span
style='color:#355F7C'>FTP</span></i>, and now <i><span style='color:#355F7C'>GCS</span></i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The base
implementation of <i><span style='color:#355F7C'>item loaders </span></i>has
been moved into a separate library, <a
href="https://itemloaders.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>itemloaders</span></a><a
href="https://itemloaders.readthedocs.io/en/latest/index.html"><span
style='color:black;text-decoration:none'>,</span></a> allowing usage from
outside Scrapy and a separate release schedule</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the following
classes and their parent modules from scrapy.linkextractors:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>htmlparser.HtmlParserLinkExtractor</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>regex.RegexLinkExtractor</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>sgml.BaseSgmlLinkExtractor</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.3pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>sgml.SgmlLinkExtractor</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.85pt;
margin-left:25.4pt;line-height:110%'>Use <i><span style='color:#355F7C'>LinkExtractor
</span></i>instead (<a href="https://github.com/scrapy/scrapy/issues/4356"><span
style='color:#377063;text-decoration:none'>issue 4356</span></a><a
href="https://github.com/scrapy/scrapy/issues/4356"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4679"><span style='color:#377063;
text-decoration:none'>issue 4679</span></a><a
href="https://github.com/scrapy/scrapy/issues/4679"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.utils.python.retry_on_eintr function is now deprecated (<a
href="https://github.com/scrapy/scrapy/issues/4683"><span style='color:#377063;
text-decoration:none'>issue 4683</span></a><a
href="https://github.com/scrapy/scrapy/issues/4683"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Feed exports </span></i>support <i><span
style='color:#355F7C'>Google Cloud Storage </span></i><a
href="https://github.com/scrapy/scrapy/issues/685"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/685"><span style='color:#377063;
text-decoration:none'>issue 685</span></a><a
href="https://github.com/scrapy/scrapy/issues/685"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3608"><span style='color:#377063;
text-decoration:none'>issue 3608</span></a><a
href="https://github.com/scrapy/scrapy/issues/3608"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>FEED_EXPORT_BATCH_ITEM_COUNT </span></i>setting for batch
deliveries (<a href="https://github.com/scrapy/scrapy/issues/4250"><span
style='color:#377063;text-decoration:none'>issue 4250</span></a><a
href="https://github.com/scrapy/scrapy/issues/4250"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4434"><span style='color:#377063;
text-decoration:none'>issue 4434</span></a><a
href="https://github.com/scrapy/scrapy/issues/4434"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>parse </span></i>command now allows specifying an output
file (<a href="https://github.com/scrapy/scrapy/issues/4317"><span
style='color:#377063;text-decoration:none'>issue 4317</span></a><a
href="https://github.com/scrapy/scrapy/issues/4317"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4377"><span style='color:#377063;
text-decoration:none'>issue 4377</span></a><a
href="https://github.com/scrapy/scrapy/issues/4377"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request.from_curl </span></i>and <i><span
style='color:#355F7C'>curl_to_request_kwargs() </span></i>now also support --data-raw
<a href="https://github.com/scrapy/scrapy/issues/4612"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4612"><span style='color:#377063;
text-decoration:none'>issue 4612</span></a><a
href="https://github.com/scrapy/scrapy/issues/4612"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A parse callback may
now be used in built-in spider subclasses, such as <i><span style='color:#355F7C'>CrawlSpider
</span></i><a href="https://github.com/scrapy/scrapy/issues/712"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/712"><span style='color:#377063;
text-decoration:none'>issue 712</span></a><a
href="https://github.com/scrapy/scrapy/issues/712"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/732"><span style='color:#377063;
text-decoration:none'>issue 732</span></a><a
href="https://github.com/scrapy/scrapy/issues/732"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/781"><span style='color:#377063;
text-decoration:none'>issue 781</span></a><a
href="https://github.com/scrapy/scrapy/issues/781"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4254"><span style='color:#377063;
text-decoration:none'>issue 4254</span></a><span style='color:#377063'> </span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
the <i><span style='color:#355F7C'>CSV exporting </span></i>of <i><span
style='color:#355F7C'>dataclass items </span></i>and <i><span style='color:
#355F7C'>attr.s items </span></i><a
href="https://github.com/scrapy/scrapy/issues/4667"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4667"><span style='color:#377063;
text-decoration:none'>issue 4667</span></a><a
href="https://github.com/scrapy/scrapy/issues/4667"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4668"><span style='color:#377063;
text-decoration:none'>issue 4668</span></a><a
href="https://github.com/scrapy/scrapy/issues/4668"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request.from_curl </span></i>and <i><span
style='color:#355F7C'>curl_to_request_kwargs() </span></i>now set the request
method to POST when a request body is specified and no request method is
specified (<a href="https://github.com/scrapy/scrapy/issues/4612"><span
style='color:#377063;text-decoration:none'>issue 4612</span></a><a
href="https://github.com/scrapy/scrapy/issues/4612"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The processing of
ANSI escape sequences in enabled in Windows 10.0.14393 and later, where it is
required for colored output (<a
href="https://github.com/scrapy/scrapy/issues/4393"><span style='color:#377063;
text-decoration:none'>issue 4393</span></a><a
href="https://github.com/scrapy/scrapy/issues/4393"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4403"><span style='color:#377063;
text-decoration:none'>issue 4403</span></a><a
href="https://github.com/scrapy/scrapy/issues/4403"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated      the          <span
style='color:#377063'>OpenSSL cipher     list           forma</span><a
href="https://docs.openssl.org/master/man1/openssl-ciphers/#cipher-list-format"><span
style='color:#377063;text-decoration:none'>t</span></a><span style='color:#377063'>    </span>link          in             the          documentation     about      the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.55pt;
margin-left:25.4pt;line-height:108%'><i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_CIPHERS
</span></i>setting (<a href="https://github.com/scrapy/scrapy/issues/4653"><span
style='color:#377063;text-decoration:none'>issue 4653</span></a><a
href="https://github.com/scrapy/scrapy/issues/4653"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplified the code
example in <i><span style='color:#355F7C'>Working with dataclass items </span></i><a
href="https://github.com/scrapy/scrapy/issues/4652"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4652"><span style='color:#377063;
text-decoration:none'>issue 4652</span></a><a
href="https://github.com/scrapy/scrapy/issues/4652"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The base
implementation of <i><span style='color:#355F7C'>item loaders </span></i>has
been moved into <a
href="https://itemloaders.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>itemloaders</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4005"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4005"><span style='color:#377063;
text-decoration:none'>issue 4005</span></a><a
href="https://github.com/scrapy/scrapy/issues/4005"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4516"><span style='color:#377063;
text-decoration:none'>issue 4516</span></a><a
href="https://github.com/scrapy/scrapy/issues/4516"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a silenced
error in some scheduler tests (<a
href="https://github.com/scrapy/scrapy/issues/4644"><span style='color:#377063;
text-decoration:none'>issue 4644</span></a><a
href="https://github.com/scrapy/scrapy/issues/4644"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4645"><span style='color:#377063;
text-decoration:none'>issue 4645</span></a><a
href="https://github.com/scrapy/scrapy/issues/4645"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renewed the localhost
certificate used for SSL tests (<a
href="https://github.com/scrapy/scrapy/issues/4650"><span style='color:#377063;
text-decoration:none'>issue 4650</span></a><a
href="https://github.com/scrapy/scrapy/issues/4650"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
cookie-handling code specific to Python 2 (<a
href="https://github.com/scrapy/scrapy/issues/4682"><span style='color:#377063;
text-decoration:none'>issue 4682</span></a><a
href="https://github.com/scrapy/scrapy/issues/4682"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Stopped using Python
2 unicode literal syntax (<a href="https://github.com/scrapy/scrapy/issues/4704"><span
style='color:#377063;text-decoration:none'>issue 4704</span></a><a
href="https://github.com/scrapy/scrapy/issues/4704"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Stopped using a
backlash for line continuation (<a
href="https://github.com/scrapy/scrapy/issues/4673"><span style='color:#377063;
text-decoration:none'>issue 4673</span></a><a
href="https://github.com/scrapy/scrapy/issues/4673"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed unneeded
entries from the MyPy exception list (<a
href="https://github.com/scrapy/scrapy/issues/4690"><span style='color:#377063;
text-decoration:none'>issue 4690</span></a><a
href="https://github.com/scrapy/scrapy/issues/4690"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Automated tests now
pass on Windows as part of our continuous integration system (<a
href="https://github.com/scrapy/scrapy/issues/4458"><span style='color:#377063;
text-decoration:none'>issue 4458</span></a><a
href="https://github.com/scrapy/scrapy/issues/4458"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Automated tests now
pass on the latest PyPy version for supported Python versions in our continuous
integration system (<a href="https://github.com/scrapy/scrapy/issues/4504"><span
style='color:#377063;text-decoration:none'>issue 4504</span></a><a
href="https://github.com/scrapy/scrapy/issues/4504"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.20 Scrapy 2.2.1
(2020-07-17)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>startproject </span></i>command no longer makes
unintended changes to the permissions of files in the destination folder, such
as removing execution permissions (<a
href="https://github.com/scrapy/scrapy/issues/4662"><span style='color:#377063;
text-decoration:none'>issue 4662</span></a><a
href="https://github.com/scrapy/scrapy/issues/4662"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4666"><span style='color:#377063;
text-decoration:none'>issue 4666</span></a><a
href="https://github.com/scrapy/scrapy/issues/4666"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.21 Scrapy 2.2.0
(2020-06-24)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 3.5.2+ is
required now</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dataclass objects </span></i>and <i><span
style='color:#355F7C'>attrs objects </span></i>are now valid <i><span
style='color:#355F7C'>item types</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>TextResponse.json </span></i>method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>bytes_received </span></i>signal that allows canceling
response download</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CookiesMiddleware </span></i>fixes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:103.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for Python
3.5.0 and 3.5.1 has been dropped; Scrapy now refuses to run with a Python
version lower than 3.5.2, which introduced <a
href="https://docs.python.org/3/library/typing.html#typing.Type"><span
style='color:#377063;text-decoration:none'>typing.Type</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4615"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4615"><span style='color:#377063;
text-decoration:none'>issue 4615</span></a><a
href="https://github.com/scrapy/scrapy/issues/4615"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>TextResponse.body_as_unicode
is now deprecated, use <i><span style='color:#355F7C'>TextResponse.text </span></i>instead
(<a href="https://github.com/scrapy/scrapy/issues/4546"><span style='color:
#377063;text-decoration:none'>issue 4546</span></a><a
href="https://github.com/scrapy/scrapy/issues/4546"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4555"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4555"><span style='color:#377063;
text-decoration:none'>4555</span></a><a
href="https://github.com/scrapy/scrapy/issues/4555"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4579"><span style='color:#377063;
text-decoration:none'>issue 4579</span></a><a
href="https://github.com/scrapy/scrapy/issues/4579"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.item.BaseItem is
now deprecated, use <i><span style='color:#355F7C'>scrapy.item.Item </span></i>instead
(<a href="https://github.com/scrapy/scrapy/issues/4534"><span style='color:
#377063;text-decoration:none'>issue 4534</span></a><a
href="https://github.com/scrapy/scrapy/issues/4534"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dataclass objects </span></i>and <i><span
style='color:#355F7C'>attrs objects </span></i>are now valid <i><span
style='color:#355F7C'>item types</span></i>, and a new <a
href="https://github.com/scrapy/itemadapter"><span style='color:#377063;
text-decoration:none'>itemadapter</span></a><span style='color:#377063'> </span>library
makes it easy to write code that <i><span style='color:#355F7C'>supports any
item type </span></i><a href="https://github.com/scrapy/scrapy/issues/2749"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2749"><span style='color:#377063;
text-decoration:none'>issue 2749</span></a><a
href="https://github.com/scrapy/scrapy/issues/2749"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2807"><span style='color:#377063;
text-decoration:none'>issue 2807</span></a><a
href="https://github.com/scrapy/scrapy/issues/2807"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3761"><span style='color:#377063;
text-decoration:none'>issue 3761</span></a><a
href="https://github.com/scrapy/scrapy/issues/3761"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3881"><span style='color:#377063;
text-decoration:none'>issue 3881</span></a><a
href="https://github.com/scrapy/scrapy/issues/3881"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4642"><span style='color:#377063;
text-decoration:none'>issue 4642</span></a><a
href="https://github.com/scrapy/scrapy/issues/4642"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>TextResponse.json </span></i>method allows to deserialize
JSON responses (<a href="https://github.com/scrapy/scrapy/issues/2444"><span
style='color:#377063;text-decoration:none'>issue 2444</span></a><a
href="https://github.com/scrapy/scrapy/issues/2444"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4460"><span style='color:#377063;
text-decoration:none'>issue 4460</span></a><a
href="https://github.com/scrapy/scrapy/issues/4460"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4574"><span style='color:#377063;
text-decoration:none'>issue 4574</span></a><a
href="https://github.com/scrapy/scrapy/issues/4574"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>bytes_received </span></i>signal allows monitoring
response download progress and <i><span style='color:#355F7C'>stopping
downloads </span></i><a href="https://github.com/scrapy/scrapy/issues/4205"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4205"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4205"><span style='color:#377063;
text-decoration:none'>4205</span></a><a
href="https://github.com/scrapy/scrapy/issues/4205"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4559"><span style='color:#377063;
text-decoration:none'>issue 4559</span></a><a
href="https://github.com/scrapy/scrapy/issues/4559"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The dictionaries in
the result list of a <i><span style='color:#355F7C'>media pipeline </span></i>now
include a new key, status, which indicates if the file was downloaded or, if
the file was not downloaded, why it was not downloaded; see <i><span
style='color:#355F7C'>FilesPipeline. get_media_requests </span></i>for more
information (<a href="https://github.com/scrapy/scrapy/issues/2893"><span
style='color:#377063;text-decoration:none'>issue 2893</span></a><a
href="https://github.com/scrapy/scrapy/issues/2893"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4486"><span style='color:#377063;
text-decoration:none'>issue 4486</span></a><a
href="https://github.com/scrapy/scrapy/issues/4486"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using <i><span
style='color:#355F7C'>Google Cloud Storage </span></i>for a <i><span
style='color:#355F7C'>media pipeline</span></i>, a warning is now logged if the
configured credentials do not grant the required permissions (<a
href="https://github.com/scrapy/scrapy/issues/4346"><span style='color:#377063;
text-decoration:none'>issue 4346</span></a><a
href="https://github.com/scrapy/scrapy/issues/4346"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4508"><span style='color:#377063;
text-decoration:none'>issue 4508</span></a><a
href="https://github.com/scrapy/scrapy/issues/4508"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Link extractors </span></i>are now serializable, as long
as you do not use <a
href="https://docs.python.org/3/reference/expressions.html#lambda"><span
style='color:#377063;text-decoration:none'>lambdas</span></a><span
style='color:#377063'> </span>for parameters; for example, you can now pass
link extractors in <i><span style='color:#355F7C'>Request.cb_kwargs </span></i>or
<i><span style='color:#355F7C'>Request.meta </span></i>when <i><span
style='color:#355F7C'>persisting scheduled requests </span></i><a
href="https://github.com/scrapy/scrapy/issues/4554"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4554"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4554"><span style='color:#377063;
text-decoration:none'>4554</span></a><a
href="https://github.com/scrapy/scrapy/issues/4554"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Upgraded the <a
href="https://docs.python.org/3/library/pickle.html#pickle-protocols"><span
style='color:#377063;text-decoration:none'>pickle protocol</span></a><span
style='color:#377063'> </span>that Scrapy uses from protocol 2 to protocol 4,
improving serialization capabilities and performance (<a
href="https://github.com/scrapy/scrapy/issues/4135"><span style='color:#377063;
text-decoration:none'>issue 4135</span></a><a
href="https://github.com/scrapy/scrapy/issues/4135"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4541"><span style='color:#377063;
text-decoration:none'>issue 4541</span></a><a
href="https://github.com/scrapy/scrapy/issues/4541"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.misc.create_instance()
now raises a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeError</span></a><span
style='color:#377063'> </span>exception if the resulting instance is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.7pt;
margin-left:25.4pt;line-height:110%'>None <a
href="https://github.com/scrapy/scrapy/issues/4528"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4528"><span style='color:#377063;
text-decoration:none'>issue 4528</span></a><a
href="https://github.com/scrapy/scrapy/issues/4528"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4532"><span style='color:#377063;
text-decoration:none'>issue 4532</span></a><a
href="https://github.com/scrapy/scrapy/issues/4532"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CookiesMiddleware </span></i>no longer discards cookies
defined in <i><span style='color:#355F7C'>Request.headers </span></i><a
href="https://github.com/scrapy/scrapy/issues/1992"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1992"><span style='color:#377063;
text-decoration:none'>issue 1992</span></a><a
href="https://github.com/scrapy/scrapy/issues/1992"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2400"><span style='color:#377063;
text-decoration:none'>issue 2400</span></a><a
href="https://github.com/scrapy/scrapy/issues/2400"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CookiesMiddleware </span></i>no longer re-encodes cookies
defined as <a href="https://docs.python.org/3/library/stdtypes.html#bytes"><span
style='color:#377063;text-decoration:none'>bytes</span></a><span
style='color:#377063'> </span>in the cookies parameter of the __init__ method
of <i><span style='color:#355F7C'>Request </span></i><a
href="https://github.com/scrapy/scrapy/issues/2400"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2400"><span style='color:#377063;
text-decoration:none'>issue 2400</span></a><a
href="https://github.com/scrapy/scrapy/issues/2400"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3575"><span style='color:#377063;
text-decoration:none'>issue 3575</span></a><a
href="https://github.com/scrapy/scrapy/issues/3575"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When <i><span
style='color:#355F7C'>FEEDS </span></i>defines multiple URIs, <i><span
style='color:#355F7C'>FEED_STORE_EMPTY </span></i>is False and the crawl yields
no items, Scrapy no longer stops feed exports after the first URI (<a
href="https://github.com/scrapy/scrapy/issues/4621"><span style='color:#377063;
text-decoration:none'>issue 4621</span></a><a
href="https://github.com/scrapy/scrapy/issues/4621"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4626"><span style='color:#377063;
text-decoration:none'>issue 4626</span></a><a
href="https://github.com/scrapy/scrapy/issues/4626"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Spider </span></i>callbacks defined using <i><span
style='color:#355F7C'>coroutine syntax </span></i>no longer need to return an
iterable, and may instead return a <i><span style='color:#355F7C'>Request </span></i>object,
an <i><span style='color:#355F7C'>item</span></i>, or None <a
href="https://github.com/scrapy/scrapy/issues/4609"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4609"><span style='color:#377063;
text-decoration:none'>issue 4609</span></a><a
href="https://github.com/scrapy/scrapy/issues/4609"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>startproject </span></i>command now ensures that the
generated project folders and files have the right permissions <a
href="https://github.com/scrapy/scrapy/issues/4604"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4604"><span style='color:#377063;
text-decoration:none'>issue 4604</span></a><a
href="https://github.com/scrapy/scrapy/issues/4604"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix a <a
href="https://docs.python.org/3/library/exceptions.html#KeyError"><span
style='color:#377063;text-decoration:none'>KeyError</span></a><span
style='color:#377063'> </span>exception            being      sometimes             raised      from
scrapy.utils.datatypes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.2pt;margin-left:25.4pt;text-align:left;line-height:112%'>LocalWeakReferencedCache
<a href="https://github.com/scrapy/scrapy/issues/4597"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4597"><span style='color:#377063;
text-decoration:none'>issue 4597</span></a><a
href="https://github.com/scrapy/scrapy/issues/4597"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4599"><span style='color:#377063;
text-decoration:none'>issue 4599</span></a><a
href="https://github.com/scrapy/scrapy/issues/4599"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When <i><span
style='color:#355F7C'>FEEDS </span></i>defines multiple URIs, log messages
about items being stored now contain information from the corresponding feed,
instead of always containing information about only one of the feeds (<a
href="https://github.com/scrapy/scrapy/issues/4619"><span style='color:#377063;
text-decoration:none'>issue 4619</span></a><a
href="https://github.com/scrapy/scrapy/issues/4619"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4629"><span style='color:#377063;
text-decoration:none'>issue 4629</span></a><a
href="https://github.com/scrapy/scrapy/issues/4629"><span style='color:black;
text-decoration:none'>) </span></a><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
a new section about <i><span style='color:#355F7C'>accessing cb_kwargs from
errbacks </span></i><a href="https://github.com/scrapy/scrapy/issues/4598"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4598"><span style='color:#377063;
text-decoration:none'>issue 4598</span></a><a
href="https://github.com/scrapy/scrapy/issues/4598"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4634"><span style='color:#377063;
text-decoration:none'>issue 4634</span></a><a
href="https://github.com/scrapy/scrapy/issues/4634"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Covered
<a href="https://github.com/Nykakin/chompjs"><span style='color:#377063;
text-decoration:none'>chompjs</span></a><span style='color:#377063'> </span>in <i><span
style='color:#355F7C'>Parsing JavaScript code </span></i><a
href="https://github.com/scrapy/scrapy/issues/4556"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4556"><span style='color:#377063;
text-decoration:none'>issue 4556</span></a><a
href="https://github.com/scrapy/scrapy/issues/4556"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4562"><span style='color:#377063;
text-decoration:none'>issue 4562</span></a><a
href="https://github.com/scrapy/scrapy/issues/4562"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed from <i><span
style='color:#355F7C'>Coroutines </span></i>the warning about the API being
experimental (<a href="https://github.com/scrapy/scrapy/issues/4511"><span
style='color:#377063;text-decoration:none'>issue 4511</span></a><a
href="https://github.com/scrapy/scrapy/issues/4511"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4513"><span style='color:#377063;
text-decoration:none'>issue 4513</span></a><a
href="https://github.com/scrapy/scrapy/issues/4513"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed references to
unsupported versions of <a href="https://docs.twisted.org/en/stable/index.html"><span
style='color:#377063;text-decoration:none'>Twisted</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4533"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4533"><span style='color:#377063;
text-decoration:none'>issue 4533</span></a><a
href="https://github.com/scrapy/scrapy/issues/4533"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated the
description of the <i><span style='color:#355F7C'>screenshot pipeline example</span></i>,
which now uses <i><span style='color:#355F7C'>coroutine syntax </span></i>instead
of returning a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferred</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4514"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4514"><span style='color:#377063;
text-decoration:none'>issue 4514</span></a><a
href="https://github.com/scrapy/scrapy/issues/4514"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4593"><span style='color:#377063;
text-decoration:none'>issue 4593</span></a><a
href="https://github.com/scrapy/scrapy/issues/4593"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed a misleading
import line from the <i><span style='color:#355F7C'>scrapy.utils.log.configure_logging()
</span></i>code example (<a href="https://github.com/scrapy/scrapy/issues/4510"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4510"><span style='color:#377063;
text-decoration:none'>4510</span></a><a
href="https://github.com/scrapy/scrapy/issues/4510"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4587"><span style='color:#377063;
text-decoration:none'>issue 4587</span></a><a
href="https://github.com/scrapy/scrapy/issues/4587"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The display-on-hover
behavior of internal documentation references now also covers links to <i><span
style='color:#355F7C'>commands</span></i>, <i><span style='color:#355F7C'>Request.meta
</span></i>keys, <i><span style='color:#355F7C'>settings </span></i>and <i><span
style='color:#355F7C'>signals </span></i><a
href="https://github.com/scrapy/scrapy/issues/4495"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4495"><span style='color:#377063;
text-decoration:none'>issue 4495</span></a><a
href="https://github.com/scrapy/scrapy/issues/4495"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4563"><span style='color:#377063;
text-decoration:none'>issue 4563</span></a><a
href="https://github.com/scrapy/scrapy/issues/4563"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>It is again possible
to download the documentation for offline reading (<a
href="https://github.com/scrapy/scrapy/issues/4578"><span style='color:#377063;
text-decoration:none'>issue 4578</span></a><a
href="https://github.com/scrapy/scrapy/issues/4578"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4585"><span style='color:#377063;
text-decoration:none'>issue 4585</span></a><a
href="https://github.com/scrapy/scrapy/issues/4585"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed backslashes
preceding *args and **kwargs in some function and method signatures (<a
href="https://github.com/scrapy/scrapy/issues/4592"><span style='color:#377063;
text-decoration:none'>issue 4592</span></a><a
href="https://github.com/scrapy/scrapy/issues/4592"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4596"><span style='color:#377063;
text-decoration:none'>issue 4596</span></a><a
href="https://github.com/scrapy/scrapy/issues/4596"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Adjusted
the code base further to our <i><span style='color:#355F7C'>style guidelines </span></i><a
href="https://github.com/scrapy/scrapy/issues/4237"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4237"><span style='color:#377063;
text-decoration:none'>issue 4237</span></a><a
href="https://github.com/scrapy/scrapy/issues/4237"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4525"><span style='color:#377063;
text-decoration:none'>issue 4525</span></a><a
href="https://github.com/scrapy/scrapy/issues/4525"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4538"><span style='color:#377063;
text-decoration:none'>issue 4538</span></a><a
href="https://github.com/scrapy/scrapy/issues/4538"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4539"><span style='color:#377063;
text-decoration:none'>issue 4539</span></a><a
href="https://github.com/scrapy/scrapy/issues/4539"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4540"><span style='color:#377063;
text-decoration:none'>issue 4540</span></a><a
href="https://github.com/scrapy/scrapy/issues/4540"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4542"><span style='color:#377063;
text-decoration:none'>issue 4542</span></a><a
href="https://github.com/scrapy/scrapy/issues/4542"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4543"><span style='color:#377063;
text-decoration:none'>issue 4543</span></a><a
href="https://github.com/scrapy/scrapy/issues/4543"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4544"><span style='color:#377063;
text-decoration:none'>issue 4544</span></a><a
href="https://github.com/scrapy/scrapy/issues/4544"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4545"><span style='color:#377063;
text-decoration:none'>issue 4545</span></a><a
href="https://github.com/scrapy/scrapy/issues/4545"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4557"><span style='color:#377063;
text-decoration:none'>issue 4557</span></a><a
href="https://github.com/scrapy/scrapy/issues/4557"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4558"><span style='color:#377063;
text-decoration:none'>issue 4558</span></a><a
href="https://github.com/scrapy/scrapy/issues/4558"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4566"><span style='color:#377063;
text-decoration:none'>issue 4566</span></a><a
href="https://github.com/scrapy/scrapy/issues/4566"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4568"><span style='color:#377063;
text-decoration:none'>issue 4568</span></a><a
href="https://github.com/scrapy/scrapy/issues/4568"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4572"><span style='color:#377063;
text-decoration:none'>issue 4572</span></a><a
href="https://github.com/scrapy/scrapy/issues/4572"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed remnants of
Python 2 support (<a href="https://github.com/scrapy/scrapy/issues/4550"><span
style='color:#377063;text-decoration:none'>issue 4550</span></a><a
href="https://github.com/scrapy/scrapy/issues/4550"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4553"><span style='color:#377063;
text-decoration:none'>issue 4553</span></a><a
href="https://github.com/scrapy/scrapy/issues/4553"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4568"><span style='color:#377063;
text-decoration:none'>issue 4568</span></a><a
href="https://github.com/scrapy/scrapy/issues/4568"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved code sharing
between the <i><span style='color:#355F7C'>crawl </span></i>and <i><span
style='color:#355F7C'>runspider </span></i>commands (<a
href="https://github.com/scrapy/scrapy/issues/4548"><span style='color:#377063;
text-decoration:none'>issue 4548</span></a><a
href="https://github.com/scrapy/scrapy/issues/4548"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4552"><span style='color:#377063;
text-decoration:none'>issue 4552</span></a><a
href="https://github.com/scrapy/scrapy/issues/4552"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replaced
chain(*iterable) with chain.from_iterable(iterable) <a
href="https://github.com/scrapy/scrapy/issues/4635"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4635"><span style='color:#377063;
text-decoration:none'>issue 4635</span></a><a
href="https://github.com/scrapy/scrapy/issues/4635"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You may now run the <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>tests
with Tox on any Python version (<a
href="https://github.com/scrapy/scrapy/issues/4521"><span style='color:#377063;
text-decoration:none'>issue 4521</span></a><a
href="https://github.com/scrapy/scrapy/issues/4521"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated test
requirements to reflect an incompatibility with pytest 5.4 and 5.4.1 (<a
href="https://github.com/scrapy/scrapy/issues/4588"><span style='color:#377063;
text-decoration:none'>issue 4588</span></a><a
href="https://github.com/scrapy/scrapy/issues/4588"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved <i><span
style='color:#355F7C'>SpiderLoader </span></i>test coverage for scenarios
involving duplicate spider names (<a
href="https://github.com/scrapy/scrapy/issues/4549"><span style='color:#377063;
text-decoration:none'>issue 4549</span></a><a
href="https://github.com/scrapy/scrapy/issues/4549"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4560"><span style='color:#377063;
text-decoration:none'>issue 4560</span></a><a
href="https://github.com/scrapy/scrapy/issues/4560"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Configured Travis CI
to also run the tests with Python 3.5.2 (<a
href="https://github.com/scrapy/scrapy/issues/4518"><span style='color:#377063;
text-decoration:none'>issue 4518</span></a><a
href="https://github.com/scrapy/scrapy/issues/4518"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4615"><span style='color:#377063;
text-decoration:none'>issue 4615</span></a><a
href="https://github.com/scrapy/scrapy/issues/4615"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a <a
href="https://www.pylint.org/"><span style='color:#377063;text-decoration:none'>Pylint</span></a><span
style='color:#377063'> </span>job to Travis CI (<a
href="https://github.com/scrapy/scrapy/issues/3727"><span style='color:#377063;
text-decoration:none'>issue 3727</span></a><a
href="https://github.com/scrapy/scrapy/issues/3727"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added a <a
href="https://mypy-lang.org/"><span style='color:#377063;text-decoration:none'>Mypy</span></a><span
style='color:#377063'> </span>job to Travis CI (<a
href="https://github.com/scrapy/scrapy/issues/4637"><span style='color:#377063;
text-decoration:none'>issue 4637</span></a><a
href="https://github.com/scrapy/scrapy/issues/4637"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made use of set
literals in tests (<a href="https://github.com/scrapy/scrapy/issues/4573"><span
style='color:#377063;text-decoration:none'>issue 4573</span></a><a
href="https://github.com/scrapy/scrapy/issues/4573"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cleaned up the Travis
CI configuration (<a href="https://github.com/scrapy/scrapy/issues/4517"><span
style='color:#377063;text-decoration:none'>issue 4517</span></a><a
href="https://github.com/scrapy/scrapy/issues/4517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4519"><span style='color:#377063;
text-decoration:none'>issue 4519</span></a><a
href="https://github.com/scrapy/scrapy/issues/4519"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4522"><span style='color:#377063;
text-decoration:none'>issue 4522</span></a><a
href="https://github.com/scrapy/scrapy/issues/4522"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4537"><span style='color:#377063;
text-decoration:none'>issue 4537</span></a><a
href="https://github.com/scrapy/scrapy/issues/4537"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.22 Scrapy 2.1.0
(2020-04-24)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>FEEDS </span></i>setting to export to multiple feeds</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:80.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>Response.ip_address </span></i>attribute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:104%'><span
style='line-height:104%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><a
href="https://docs.python.org/3/library/exceptions.html#AssertionError"><span
style='color:#377063;text-decoration:none'>AssertionErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#AssertionError"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063'> </span></sub>exceptions
triggered by <a
href="https://docs.python.org/3/reference/simple_stmts.html#assert"><span
style='color:#377063;text-decoration:none'>assert</span></a><span
style='color:#377063'> </span>statements have been replaced by new exception
types, to support running Python in optimized mode (see <a
href="https://docs.python.org/3/using/cmdline.html#cmdoption-O"><span
style='color:#377063;text-decoration:none'>-</span></a><a
href="https://docs.python.org/3/using/cmdline.html#cmdoption-O"><sub><span
style='font-size:15.5pt;line-height:104%;color:#377063;text-decoration:none'>O</span></sub></a><a
href="https://docs.python.org/3/using/cmdline.html#cmdoption-O"><span
style='color:black;text-decoration:none'>)</span></a> without changing Scrapy’s
behavior in any unexpected ways.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you catch an <a
href="https://docs.python.org/3/library/exceptions.html#AssertionError"><span
style='color:#377063;text-decoration:none'>AssertionErro</span></a><a
href="https://docs.python.org/3/library/exceptions.html#AssertionError"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>exception
from Scrapy, update your code to catch the corresponding new exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4440"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4440"><span style='color:#377063;
text-decoration:none'>issue 4440</span></a><a
href="https://github.com/scrapy/scrapy/issues/4440"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The LOG_UNSERIALIZABLE_REQUESTS
setting is no longer supported, use <i><span style='color:#355F7C'>SCHEDULER_DEBUG
</span></i>instead (<a href="https://github.com/scrapy/scrapy/issues/4385"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4385"><span style='color:#377063;
text-decoration:none'>4385</span></a><a
href="https://github.com/scrapy/scrapy/issues/4385"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The REDIRECT_MAX_METAREFRESH_DELAY
setting is no longer supported, use <i><span style='color:#355F7C'>METAREFRESH_MAXDELAY
</span></i>instead (<a href="https://github.com/scrapy/scrapy/issues/4385"><span
style='color:#377063;text-decoration:none'>issue 4385</span></a><a
href="https://github.com/scrapy/scrapy/issues/4385"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The ChunkedTransferMiddleware
middleware has been removed, including the entire scrapy.
downloadermiddlewares.chunked module; chunked transfers work out of the box (<a
href="https://github.com/scrapy/scrapy/issues/4431"><span style='color:#377063;
text-decoration:none'>issue 4431</span></a><a
href="https://github.com/scrapy/scrapy/issues/4431"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The spiders property
has been removed from <i><span style='color:#355F7C'>Crawler</span></i>, use CrawlerRunner.spider_loader
or instantiate <i><span style='color:#355F7C'>SPIDER_LOADER_CLASS </span></i>with
your settings instead (<a href="https://github.com/scrapy/scrapy/issues/4398"><span
style='color:#377063;text-decoration:none'>issue 4398</span></a><a
href="https://github.com/scrapy/scrapy/issues/4398"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
MultiValueDict, MultiValueDictKeyError, and SiteNode classes have been removed
from scrapy. utils.datatypes <a
href="https://github.com/scrapy/scrapy/issues/4400"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4400"><span style='color:#377063;
text-decoration:none'>issue 4400</span></a><a
href="https://github.com/scrapy/scrapy/issues/4400"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The FEED_FORMAT and FEED_URI
settings have been deprecated in favor of the new <i><span style='color:#355F7C'>FEEDS
</span></i>setting (<a href="https://github.com/scrapy/scrapy/issues/1336"><span
style='color:#377063;text-decoration:none'>issue 1336</span></a><a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:#377063;
text-decoration:none'>issue 3858</span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:#377063;
text-decoration:none'>issue 4507</span></a><a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new setting, <i><span
style='color:#355F7C'>FEEDS</span></i>, allows configuring multiple output
feeds with different settings each (<a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:#377063;
text-decoration:none'>issue 1336</span></a><a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:#377063;
text-decoration:none'>3858</span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:#377063;
text-decoration:none'>issue 4507</span></a><a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>crawl </span></i>and <i><span style='color:#355F7C'>runspider
</span></i>commands now support multiple -<sub><span style='font-size:15.5pt;
line-height:103%'>o </span></sub>parameters (<a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:#377063;
text-decoration:none'>issue 1336</span></a><a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:#377063;
text-decoration:none'>issue 3858</span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:#377063;
text-decoration:none'>issue 4507</span></a><a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>crawl </span></i>and <i><span style='color:#355F7C'>runspider
</span></i>commands now support specifying an output format by appending :&lt;format&gt;
to the output file (<a href="https://github.com/scrapy/scrapy/issues/1336"><span
style='color:#377063;text-decoration:none'>issue 1336</span></a><a
href="https://github.com/scrapy/scrapy/issues/1336"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:#377063;
text-decoration:none'>issue 3858</span></a><a
href="https://github.com/scrapy/scrapy/issues/3858"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:#377063;
text-decoration:none'>issue 4507</span></a><a
href="https://github.com/scrapy/scrapy/issues/4507"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>Response.ip_address </span></i>attribute gives access to
the IP address that originated a response (<a
href="https://github.com/scrapy/scrapy/issues/3903"><span style='color:#377063;
text-decoration:none'>issue 3903</span></a><a
href="https://github.com/scrapy/scrapy/issues/3903"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3940"><span style='color:#377063;
text-decoration:none'>issue 3940</span></a><a
href="https://github.com/scrapy/scrapy/issues/3940"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A warning is now
issued when a value in allowed_domains includes a port (<a
href="https://github.com/scrapy/scrapy/issues/50"><span style='color:#377063;
text-decoration:none'>issue 50</span></a><a
href="https://github.com/scrapy/scrapy/issues/50"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3198"><span style='color:#377063;
text-decoration:none'>issue 3198</span></a><a
href="https://github.com/scrapy/scrapy/issues/3198"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4413"><span style='color:#377063;
text-decoration:none'>issue 4413</span></a><a
href="https://github.com/scrapy/scrapy/issues/4413"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Zsh completion now
excludes used option aliases from the completion list (<a
href="https://github.com/scrapy/scrapy/issues/4438"><span style='color:#377063;
text-decoration:none'>issue 4438</span></a><a
href="https://github.com/scrapy/scrapy/issues/4438"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request serialization </span></i>no longer breaks for
callbacks that are spider attributes which are assigned a function with a
different name (<a href="https://github.com/scrapy/scrapy/issues/4500"><span
style='color:#377063;text-decoration:none'>issue 4500</span></a><a
href="https://github.com/scrapy/scrapy/issues/4500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>None values in allowed_domains
no longer cause a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeError</span></a><span
style='color:#377063'> </span>exception (<a
href="https://github.com/scrapy/scrapy/issues/4410"><span style='color:#377063;
text-decoration:none'>issue 4410</span></a><a
href="https://github.com/scrapy/scrapy/issues/4410"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Zsh completion no
longer allows options after arguments (<a
href="https://github.com/scrapy/scrapy/issues/4438"><span style='color:#377063;
text-decoration:none'>issue 4438</span></a><a
href="https://github.com/scrapy/scrapy/issues/4438"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>zope.interface 5.0.0
and later versions are now supported (<a
href="https://github.com/scrapy/scrapy/issues/4447"><span style='color:#377063;
text-decoration:none'>issue 4447</span></a><a
href="https://github.com/scrapy/scrapy/issues/4447"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4448"><span style='color:#377063;
text-decoration:none'>issue 4448</span></a><a
href="https://github.com/scrapy/scrapy/issues/4448"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider.make_requests_from_url,
deprecated in Scrapy 1.4.0, now issues a warning when used (<a
href="https://github.com/scrapy/scrapy/issues/4412"><span style='color:#377063;
text-decoration:none'>issue 4412</span></a><a
href="https://github.com/scrapy/scrapy/issues/4412"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved the
documentation about signals that allow their handlers to return a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><span
style='color:#377063;text-decoration:none'>Deferre</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.Deferred.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>d</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub><a
href="https://github.com/scrapy/scrapy/issues/4295"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4295"><span style='color:#377063;
text-decoration:none'>issue 4295</span></a><a
href="https://github.com/scrapy/scrapy/issues/4295"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4390"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4390"><span style='color:#377063;
text-decoration:none'>4390</span></a><a
href="https://github.com/scrapy/scrapy/issues/4390"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Our PyPI entry now
includes links for our documentation, our source code repository and our issue
tracker (<a href="https://github.com/scrapy/scrapy/issues/4456"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4456"><span style='color:#377063;
text-decoration:none'>4456</span></a><a
href="https://github.com/scrapy/scrapy/issues/4456"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Covered the <a
href="https://michael-shub.github.io/curl2scrapy/"><span style='color:#377063;
text-decoration:none'>curl2scrapy</span></a><span style='color:#377063'> </span>service
in the documentation (<a href="https://github.com/scrapy/scrapy/issues/4206"><span
style='color:#377063;text-decoration:none'>issue 4206</span></a><a
href="https://github.com/scrapy/scrapy/issues/4206"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4455"><span style='color:#377063;
text-decoration:none'>issue 4455</span></a><a
href="https://github.com/scrapy/scrapy/issues/4455"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed references to
the Guppy library, which only works in Python 2 (<a
href="https://github.com/scrapy/scrapy/issues/4285"><span style='color:#377063;
text-decoration:none'>issue 4285</span></a><a
href="https://github.com/scrapy/scrapy/issues/4285"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4343"><span style='color:#377063;
text-decoration:none'>issue 4343</span></a><a
href="https://github.com/scrapy/scrapy/issues/4343"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended use of
InterSphinx to link to Python 3 documentation (<a
href="https://github.com/scrapy/scrapy/issues/4444"><span style='color:#377063;
text-decoration:none'>issue 4444</span></a><a
href="https://github.com/scrapy/scrapy/issues/4444"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4445"><span style='color:#377063;
text-decoration:none'>issue 4445</span></a><a
href="https://github.com/scrapy/scrapy/issues/4445"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
Sphinx 3.0 and later (<a href="https://github.com/scrapy/scrapy/issues/4475"><span
style='color:#377063;text-decoration:none'>issue 4475</span></a><a
href="https://github.com/scrapy/scrapy/issues/4475"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4480"><span style='color:#377063;
text-decoration:none'>issue 4480</span></a><a
href="https://github.com/scrapy/scrapy/issues/4480"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4496"><span style='color:#377063;
text-decoration:none'>issue 4496</span></a><a
href="https://github.com/scrapy/scrapy/issues/4496"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4503"><span style='color:#377063;
text-decoration:none'>issue 4503</span></a><a
href="https://github.com/scrapy/scrapy/issues/4503"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed warnings
about using old, removed settings (<a
href="https://github.com/scrapy/scrapy/issues/4404"><span style='color:#377063;
text-decoration:none'>issue 4404</span></a><a
href="https://github.com/scrapy/scrapy/issues/4404"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed a warning
about importing <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.testing.StringTransport.html"><span
style='color:#377063;text-decoration:none'>StringTransport</span></a><span
style='color:#377063'> </span>from twisted.test.proto_helpers in Twisted</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>19.7.0 or newer (<a
href="https://github.com/scrapy/scrapy/issues/4409"><span style='color:#377063;
text-decoration:none'>issue 4409</span></a><a
href="https://github.com/scrapy/scrapy/issues/4409"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed outdated
Debian package build files (<a
href="https://github.com/scrapy/scrapy/issues/4384"><span style='color:#377063;
text-decoration:none'>issue 4384</span></a><a
href="https://github.com/scrapy/scrapy/issues/4384"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed <a
href="https://docs.python.org/3/library/functions.html#object"><span
style='color:#377063;text-decoration:none'>objec</span></a><a
href="https://docs.python.org/3/library/functions.html#object"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>t</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>usage as
a base class (<a href="https://github.com/scrapy/scrapy/issues/4430"><span
style='color:#377063;text-decoration:none'>issue 4430</span></a><a
href="https://github.com/scrapy/scrapy/issues/4430"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed code that
added support for old versions of Twisted that we no longer support (<a
href="https://github.com/scrapy/scrapy/issues/4472"><span style='color:#377063;
text-decoration:none'>issue 4472</span></a><a
href="https://github.com/scrapy/scrapy/issues/4472"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
code style issues (<a href="https://github.com/scrapy/scrapy/issues/4468"><span
style='color:#377063;text-decoration:none'>issue 4468</span></a><a
href="https://github.com/scrapy/scrapy/issues/4468"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4469"><span style='color:#377063;
text-decoration:none'>issue 4469</span></a><a
href="https://github.com/scrapy/scrapy/issues/4469"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4471"><span style='color:#377063;
text-decoration:none'>issue 4471</span></a><a
href="https://github.com/scrapy/scrapy/issues/4471"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4481"><span style='color:#377063;
text-decoration:none'>issue 4481</span></a><a
href="https://github.com/scrapy/scrapy/issues/4481"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
<a
href="https://docs.twisted.org/en/stable/api/twisted.internet.defer.html#returnValue"><span
style='color:#377063;text-decoration:none'>twisted.internet.defer.returnValue()</span></a><span
style='color:#377063'> </span>calls (<a
href="https://github.com/scrapy/scrapy/issues/4443"><span style='color:#377063;
text-decoration:none'>issue 4443</span></a><a
href="https://github.com/scrapy/scrapy/issues/4443"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4446"><span style='color:#377063;
text-decoration:none'>issue 4446</span></a><a
href="https://github.com/scrapy/scrapy/issues/4446"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4489"><span style='color:#377063;
text-decoration:none'>issue 4489</span></a><a
href="https://github.com/scrapy/scrapy/issues/4489"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.23 Scrapy 2.0.1
(2020-03-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Response.follow_all </span></i>now supports an empty URL
iterable as input (<a href="https://github.com/scrapy/scrapy/issues/4408"><span
style='color:#377063;text-decoration:none'>issue 4408</span></a><a
href="https://github.com/scrapy/scrapy/issues/4408"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4420"><span style='color:#377063;
text-decoration:none'>issue 4420</span></a><a
href="https://github.com/scrapy/scrapy/issues/4420"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed top-level <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reacto</span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>r</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>imports
to prevent errors about the wrong Twisted reactor being installed when setting
a different Twisted reactor using <i><span style='color:#355F7C'>TWISTED_REACTOR
</span></i><a href="https://github.com/scrapy/scrapy/issues/4401"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4401"><span style='color:#377063;
text-decoration:none'>issue 4401</span></a><a
href="https://github.com/scrapy/scrapy/issues/4401"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4406"><span style='color:#377063;
text-decoration:none'>issue 4406</span></a><a
href="https://github.com/scrapy/scrapy/issues/4406"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:95.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed tests (<a
href="https://github.com/scrapy/scrapy/issues/4422"><span style='color:#377063;
text-decoration:none'>issue 4422</span></a><a
href="https://github.com/scrapy/scrapy/issues/4422"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.24 Scrapy 2.0.0
(2020-03-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 2 support has
been removed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Partial </span></i><a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:#377063;text-decoration:none'>coroutine syntax</span></a><span
style='color:#377063'> </span>support and <i><span style='color:#355F7C'>experimental
</span></i><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>Response.follow_all </span></i>method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FTP support </span></i>for media pipelines</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>Response.certificate </span></i>attribute</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>IPv6 support through <i><span
style='color:#355F7C'>DNS_RESOLVER</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python
2 support has been removed, following <a
href="https://www.python.org/doc/sunset-python-2/"><span style='color:#377063;
text-decoration:none'>Python 2 end-of-life on January 1, 2020</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4091"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4091"><span style='color:#377063;
text-decoration:none'>issue 4091</span></a><a
href="https://github.com/scrapy/scrapy/issues/4091"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4114"><span style='color:#377063;
text-decoration:none'>issue 4114</span></a><a
href="https://github.com/scrapy/scrapy/issues/4114"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4115"><span style='color:#377063;
text-decoration:none'>issue 4115</span></a><a
href="https://github.com/scrapy/scrapy/issues/4115"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4121"><span style='color:#377063;
text-decoration:none'>issue 4121</span></a><a
href="https://github.com/scrapy/scrapy/issues/4121"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4138"><span style='color:#377063;
text-decoration:none'>issue 4138</span></a><a
href="https://github.com/scrapy/scrapy/issues/4138"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4231"><span style='color:#377063;
text-decoration:none'>issue 4231</span></a><a
href="https://github.com/scrapy/scrapy/issues/4231"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4242"><span style='color:#377063;
text-decoration:none'>issue 4242</span></a><a
href="https://github.com/scrapy/scrapy/issues/4242"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4304"><span style='color:#377063;
text-decoration:none'>issue 4304</span></a><a
href="https://github.com/scrapy/scrapy/issues/4304"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4309"><span style='color:#377063;
text-decoration:none'>issue 4309</span></a><a
href="https://github.com/scrapy/scrapy/issues/4309"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4373"><span style='color:#377063;
text-decoration:none'>issue 4373</span></a><a
href="https://github.com/scrapy/scrapy/issues/4373"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Retry gaveups (see <i><span
style='color:#355F7C'>RETRY_TIMES</span></i>) are now logged as errors instead
of as debug information (<a href="https://github.com/scrapy/scrapy/issues/3171"><span
style='color:#377063;text-decoration:none'>issue 3171</span></a><a
href="https://github.com/scrapy/scrapy/issues/3171"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3566"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3566"><span style='color:#377063;
text-decoration:none'>3566</span></a><a
href="https://github.com/scrapy/scrapy/issues/3566"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>File extensions that <i><span
style='color:#355F7C'>LinkExtractor </span></i>ignores by default now also
include 7z, 7zip, apk, bz2, cdr, dmg, ico, iso, tar, tar.gz, webm, and xz <a
href="https://github.com/scrapy/scrapy/issues/1837"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1837"><span style='color:#377063;
text-decoration:none'>issue 1837</span></a><a
href="https://github.com/scrapy/scrapy/issues/1837"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2067"><span style='color:#377063;
text-decoration:none'>issue 2067</span></a><a
href="https://github.com/scrapy/scrapy/issues/2067"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4066"><span style='color:#377063;
text-decoration:none'>issue 4066</span></a><a
href="https://github.com/scrapy/scrapy/issues/4066"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS </span></i>setting is now an
empty list by default, following web browser behavior (<a
href="https://github.com/scrapy/scrapy/issues/3844"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3844"><span style='color:#377063;
text-decoration:none'>3844</span></a><a
href="https://github.com/scrapy/scrapy/issues/3844"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4311"><span style='color:#377063;
text-decoration:none'>issue 4311</span></a><a
href="https://github.com/scrapy/scrapy/issues/4311"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>HttpCompressionMiddleware </span></i>now includes spaces
after commas in the value of the Accept-Encoding header that it sets, following
web browser behavior (<a href="https://github.com/scrapy/scrapy/issues/4293"><span
style='color:#377063;text-decoration:none'>issue 4293</span></a><a
href="https://github.com/scrapy/scrapy/issues/4293"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The __init__ method
of custom download handlers (see <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>)
or subclasses of the following downloader handlers no longer receives a settings
parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.core.downloader.handlers.datauri.DataURIDownloadHandler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.2pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.core.downloader.handlers.file.FileDownloadHandler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Use the from_settings or from_crawler class methods to
expose such a parameter to your custom download handlers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.15pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4126"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4126"><span style='color:#377063;
text-decoration:none'>issue 4126</span></a><a
href="https://github.com/scrapy/scrapy/issues/4126"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>We have refactored
the <i><span style='color:#355F7C'>scrapy.core.scheduler.Scheduler </span></i>class
and related queue classes (see <i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE</span></i>,
<i><span style='color:#355F7C'>SCHEDULER_DISK_QUEUE </span></i>and <i><span
style='color:#355F7C'>SCHEDULER_MEMORY_QUEUE</span></i>) to make it easier to
implement custom scheduler queue classes. See <i><span style='color:#355F7C'>Changes
to scheduler queue classes </span></i>below for details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Overridden settings
are now logged in a different format. This is more in line with similar
information logged at startup (<a
href="https://github.com/scrapy/scrapy/issues/4199"><span style='color:#377063;
text-decoration:none'>issue 4199</span></a><a
href="https://github.com/scrapy/scrapy/issues/4199"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>Scrapy shell </span></i>no longer provides a <i>sel </i>proxy
object, use response.selector instead (<a
href="https://github.com/scrapy/scrapy/issues/4347"><span style='color:#377063;
text-decoration:none'>issue 4347</span></a><a
href="https://github.com/scrapy/scrapy/issues/4347"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LevelDB support has
been removed (<a href="https://github.com/scrapy/scrapy/issues/4112"><span
style='color:#377063;text-decoration:none'>issue 4112</span></a><a
href="https://github.com/scrapy/scrapy/issues/4112"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
following functions have been removed from scrapy.utils.python: isbinarytext, is_writable,
setattr_default, stringify_dict <a
href="https://github.com/scrapy/scrapy/issues/4362"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4362"><span style='color:#377063;
text-decoration:none'>issue 4362</span></a><a
href="https://github.com/scrapy/scrapy/issues/4362"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Using environment
variables prefixed with SCRAPY_ to override settings is deprecated (<a
href="https://github.com/scrapy/scrapy/issues/4300"><span style='color:#377063;
text-decoration:none'>issue 4300</span></a><a
href="https://github.com/scrapy/scrapy/issues/4300"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4374"><span style='color:#377063;
text-decoration:none'>issue 4374</span></a><a
href="https://github.com/scrapy/scrapy/issues/4374"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4375"><span style='color:#377063;
text-decoration:none'>issue 4375</span></a><a
href="https://github.com/scrapy/scrapy/issues/4375"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.linkextractors.FilteringLinkExtractor
is      deprecated,            use <i><span style='color:#355F7C'>scrapy.linkextractors.
LinkExtractor </span></i>instead (<a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:#377063;
text-decoration:none'>issue 4045</span></a><a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The noconnect query
string argument of proxy URLs is deprecated and should be removed from proxy
URLs <a href="https://github.com/scrapy/scrapy/issues/4198"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4198"><span style='color:#377063;
text-decoration:none'>issue 4198</span></a><a
href="https://github.com/scrapy/scrapy/issues/4198"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The next method of scrapy.utils.python.MutableChain
is deprecated, use the global <a
href="https://docs.python.org/3/library/functions.html#next"><span
style='color:#377063;text-decoration:none'>next()</span></a><span
style='color:#377063'> </span>function or MutableChain.__next__ instead (<a
href="https://github.com/scrapy/scrapy/issues/4153"><span style='color:#377063;
text-decoration:none'>issue 4153</span></a><a
href="https://github.com/scrapy/scrapy/issues/4153"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>partial support </span></i>for Python’s <a
href="https://docs.python.org/3/reference/compound_stmts.html#async"><span
style='color:#377063;text-decoration:none'>coroutine syntax</span></a><span
style='color:#377063'> </span>and <i><span style='color:#355F7C'>experimental
support </span></i>for <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:110%;color:#377063;text-decoration:none'>o</span></sub></a><sub><span
style='font-size:15.5pt;line-height:110%;color:#377063'> </span></sub>and <a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><span
style='color:#377063;text-decoration:none'>asynci</span></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"><sub><span
style='font-size:15.5pt;line-height:110%;color:#377063;text-decoration:none'>o</span></sub></a><a
href="https://docs.python.org/3/library/asyncio.html#module-asyncio"></a>powered
libraries (<a href="https://github.com/scrapy/scrapy/issues/4010"><span
style='color:#377063;text-decoration:none'>issue 4010</span></a><a
href="https://github.com/scrapy/scrapy/issues/4010"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4259"><span style='color:#377063;
text-decoration:none'>issue 4259</span></a><a
href="https://github.com/scrapy/scrapy/issues/4259"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4269"><span style='color:#377063;
text-decoration:none'>issue 4269</span></a><a
href="https://github.com/scrapy/scrapy/issues/4269"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4270"><span style='color:#377063;
text-decoration:none'>issue 4270</span></a><a
href="https://github.com/scrapy/scrapy/issues/4270"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4271"><span style='color:#377063;
text-decoration:none'>issue 4271</span></a><a
href="https://github.com/scrapy/scrapy/issues/4271"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4316"><span style='color:#377063;
text-decoration:none'>issue 4316</span></a><a
href="https://github.com/scrapy/scrapy/issues/4316"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4318"><span style='color:#377063;
text-decoration:none'>issue 4318</span></a><a
href="https://github.com/scrapy/scrapy/issues/4318"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>Response.follow_all </span></i>method offers the same
functionality as <i><span style='color:#355F7C'>Response.follow </span></i>but
supports an iterable of URLs as input and returns an iterable of requests (<a
href="https://github.com/scrapy/scrapy/issues/2582"><span style='color:#377063;
text-decoration:none'>issue 2582</span></a><a
href="https://github.com/scrapy/scrapy/issues/2582"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4057"><span style='color:#377063;
text-decoration:none'>issue 4057</span></a><a
href="https://github.com/scrapy/scrapy/issues/4057"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4286"><span style='color:#377063;
text-decoration:none'>issue 4286</span></a><a
href="https://github.com/scrapy/scrapy/issues/4286"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Media pipelines </span></i>now support <i><span
style='color:#355F7C'>FTP storage </span></i><a
href="https://github.com/scrapy/scrapy/issues/3928"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3928"><span style='color:#377063;
text-decoration:none'>issue 3928</span></a><a
href="https://github.com/scrapy/scrapy/issues/3928"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3961"><span style='color:#377063;
text-decoration:none'>issue 3961</span></a><a
href="https://github.com/scrapy/scrapy/issues/3961"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>Response.certificate </span></i>attribute exposes the SSL
certificate of the server as a <a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><span
style='color:#377063;text-decoration:none'>twisted.internet. </span></a><a
href="https://docs.twisted.org/en/stable/api/twisted.internet.ssl.Certificate.html"><span
style='color:#377063;text-decoration:none'>ssl.Certificate</span></a><span
style='color:#377063'> </span>object for HTTPS responses (<a
href="https://github.com/scrapy/scrapy/issues/2726"><span style='color:#377063;
text-decoration:none'>issue 2726</span></a><a
href="https://github.com/scrapy/scrapy/issues/2726"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4054"><span style='color:#377063;
text-decoration:none'>issue 4054</span></a><a
href="https://github.com/scrapy/scrapy/issues/4054"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>DNS_RESOLVER </span></i>setting allows enabling IPv6
support (<a href="https://github.com/scrapy/scrapy/issues/1031"><span
style='color:#377063;text-decoration:none'>issue 1031</span></a><a
href="https://github.com/scrapy/scrapy/issues/1031"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4227"><span style='color:#377063;
text-decoration:none'>issue 4227</span></a><a
href="https://github.com/scrapy/scrapy/issues/4227"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>SCRAPER_SLOT_MAX_ACTIVE_SIZE </span></i>setting allows
configuring the existing soft limit that pauses request downloads when the
total response data being processed is too high (<a
href="https://github.com/scrapy/scrapy/issues/1410"><span style='color:#377063;
text-decoration:none'>issue 1410</span></a><a
href="https://github.com/scrapy/scrapy/issues/1410"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3551"><span style='color:#377063;
text-decoration:none'>issue 3551</span></a><a
href="https://github.com/scrapy/scrapy/issues/3551"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>TWISTED_REACTOR </span></i>setting allows customizing the
<a href="https://docs.twisted.org/en/stable/api/twisted.internet.reactor.html"><span
style='color:#377063;text-decoration:none'>reactor</span></a><span
style='color:#377063'> </span>that Scrapy uses, allowing to <i><span
style='color:#355F7C'>enable asyncio support </span></i>or deal with a <i><span
style='color:#355F7C'>common macOS issue </span></i><a
href="https://github.com/scrapy/scrapy/issues/2905"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2905"><span style='color:#377063;
text-decoration:none'>issue 2905</span></a><a
href="https://github.com/scrapy/scrapy/issues/2905"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4294"><span style='color:#377063;
text-decoration:none'>issue 4294</span></a><a
href="https://github.com/scrapy/scrapy/issues/4294"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scheduler disk and
memory queues may now use the class methods from_crawler or from_settings <a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:#377063;
text-decoration:none'>3884</span></a><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new <i><span
style='color:#355F7C'>Response.cb_kwargs </span></i>attribute serves as a
shortcut for <i><span style='color:#355F7C'>Response.request.cb_kwargs </span></i><a
href="https://github.com/scrapy/scrapy/issues/4331"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4331"><span style='color:#377063;
text-decoration:none'>issue 4331</span></a><a
href="https://github.com/scrapy/scrapy/issues/4331"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Response.follow </span></i>now supports a flags parameter,
for consistency with <i><span style='color:#355F7C'>Request </span></i><a
href="https://github.com/scrapy/scrapy/issues/4277"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4277"><span style='color:#377063;
text-decoration:none'>issue 4277</span></a><a
href="https://github.com/scrapy/scrapy/issues/4277"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4279"><span style='color:#377063;
text-decoration:none'>issue 4279</span></a><a
href="https://github.com/scrapy/scrapy/issues/4279"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Item loader processors </span></i>can now be regular
functions, they no longer need to be methods (<a
href="https://github.com/scrapy/scrapy/issues/3899"><span style='color:#377063;
text-decoration:none'>issue 3899</span></a><a
href="https://github.com/scrapy/scrapy/issues/3899"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Rule </span></i>now accepts an errback parameter (<a
href="https://github.com/scrapy/scrapy/issues/4000"><span style='color:#377063;
text-decoration:none'>issue 4000</span></a><a
href="https://github.com/scrapy/scrapy/issues/4000"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request </span></i>no longer requires a callback parameter
when an errback parameter is specified (<a
href="https://github.com/scrapy/scrapy/issues/3586"><span style='color:#377063;
text-decoration:none'>issue 3586</span></a><a
href="https://github.com/scrapy/scrapy/issues/3586"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4008"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4008"><span style='color:#377063;
text-decoration:none'>4008</span></a><a
href="https://github.com/scrapy/scrapy/issues/4008"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LogFormatter </span></i>now supports some additional
methods:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:34.8pt;
margin-left:40.35pt'><b>– </b><i><span style='color:#355F7C'>download_error </span></i>for
download errors</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><sub><span
style='font-size:15.5pt;line-height:103%;color:#355F7C'>item_error </span></sub></i>for
exceptions raised during item processing by <i><span style='color:#355F7C'>item
pipelines</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='color:#355F7C'>spider_error </span></i>for exceptions raised from <i><span
style='color:#355F7C'>spider callbacks</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/374"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/374"><span style='color:#377063;
text-decoration:none'>issue 374</span></a><a
href="https://github.com/scrapy/scrapy/issues/374"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3986"><span style='color:#377063;
text-decoration:none'>issue 3986</span></a><a
href="https://github.com/scrapy/scrapy/issues/3986"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3989"><span style='color:#377063;
text-decoration:none'>issue 3989</span></a><a
href="https://github.com/scrapy/scrapy/issues/3989"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4176"><span style='color:#377063;
text-decoration:none'>issue 4176</span></a><a
href="https://github.com/scrapy/scrapy/issues/4176"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4188"><span style='color:#377063;
text-decoration:none'>issue 4188</span></a><a
href="https://github.com/scrapy/scrapy/issues/4188"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The FEED_URI setting
now supports <a
href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><span
style='color:#377063;text-decoration:none'>pathlib.Path</span></a><span
style='color:#377063'> </span>values (<a
href="https://github.com/scrapy/scrapy/issues/3731"><span style='color:#377063;
text-decoration:none'>issue 3731</span></a><a
href="https://github.com/scrapy/scrapy/issues/3731"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4074"><span style='color:#377063;
text-decoration:none'>issue 4074</span></a><a
href="https://github.com/scrapy/scrapy/issues/4074"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>request_left_downloader </span></i>signal is sent when a
request leaves the downloader (<a
href="https://github.com/scrapy/scrapy/issues/4303"><span style='color:#377063;
text-decoration:none'>issue 4303</span></a><a
href="https://github.com/scrapy/scrapy/issues/4303"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy logs a warning
when it detects a request callback or errback that uses yield but also returns
a value, since the returned value would be lost (<a
href="https://github.com/scrapy/scrapy/issues/3484"><span style='color:#377063;
text-decoration:none'>issue 3484</span></a><a
href="https://github.com/scrapy/scrapy/issues/3484"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3869"><span style='color:#377063;
text-decoration:none'>issue 3869</span></a><a
href="https://github.com/scrapy/scrapy/issues/3869"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Spider </span></i>objects now raise an <a
href="https://docs.python.org/3/library/exceptions.html#AttributeError"><span
style='color:#377063;text-decoration:none'>AttributeError</span></a><span
style='color:#377063'> </span>exception if they do not have a start_urls attribute
nor reimplement start_requests, but have a start_url attribute (<a
href="https://github.com/scrapy/scrapy/issues/4133"><span style='color:#377063;
text-decoration:none'>issue 4133</span></a><a
href="https://github.com/scrapy/scrapy/issues/4133"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4170"><span style='color:#377063;
text-decoration:none'>issue 4170</span></a><a
href="https://github.com/scrapy/scrapy/issues/4170"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>BaseItemExporter </span></i>subclasses may now use super().__init__(**kwargs)
instead of self. _configure(kwargs) in their __init__ method, passing dont_fail=True
to the parent __init__ method if needed, and accessing kwargs at self._kwargs after
calling their parent __init__ method (<a
href="https://github.com/scrapy/scrapy/issues/4193"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4193"><span style='color:#377063;
text-decoration:none'>4193</span></a><a
href="https://github.com/scrapy/scrapy/issues/4193"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4370"><span style='color:#377063;
text-decoration:none'>issue 4370</span></a><a
href="https://github.com/scrapy/scrapy/issues/4370"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new keep_fragments parameter
of scrapy.utils.request.request_fingerprint allows to generate different
fingerprints for requests with different fragments in their URL (<a
href="https://github.com/scrapy/scrapy/issues/4104"><span style='color:#377063;
text-decoration:none'>issue 4104</span></a><a
href="https://github.com/scrapy/scrapy/issues/4104"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Download handlers
(see <i><span style='color:#355F7C'>DOWNLOAD_HANDLERS</span></i>) may now use
the from_settings and from_crawler class methods that other Scrapy components
already supported (<a href="https://github.com/scrapy/scrapy/issues/4126"><span
style='color:#377063;text-decoration:none'>issue 4126</span></a><a
href="https://github.com/scrapy/scrapy/issues/4126"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.python.MutableChain.__iter__
now returns self, <a href="https://lgtm.com/rules/4850080/"><span
style='color:#377063;text-decoration:none'>allowing it to be used as a sequence</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/4153"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4153"><span style='color:#377063;
text-decoration:none'>issue 4153</span></a><a
href="https://github.com/scrapy/scrapy/issues/4153"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>crawl </span></i>command now also exits with exit code 1
when an exception happens before the crawling starts (<a
href="https://github.com/scrapy/scrapy/issues/4175"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4175"><span style='color:#377063;
text-decoration:none'>4175</span></a><a
href="https://github.com/scrapy/scrapy/issues/4175"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4207"><span style='color:#377063;
text-decoration:none'>issue 4207</span></a><a
href="https://github.com/scrapy/scrapy/issues/4207"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>LinkExtractor.extract_links </span></i>no longer
re-encodes the query string or URLs from non-UTF-8 responses in UTF-8 (<a
href="https://github.com/scrapy/scrapy/issues/998"><span style='color:#377063;
text-decoration:none'>issue 998</span></a><a
href="https://github.com/scrapy/scrapy/issues/998"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1403"><span style='color:#377063;
text-decoration:none'>issue 1403</span></a><a
href="https://github.com/scrapy/scrapy/issues/1403"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1949"><span style='color:#377063;
text-decoration:none'>issue 1949</span></a><a
href="https://github.com/scrapy/scrapy/issues/1949"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4321"><span style='color:#377063;
text-decoration:none'>issue 4321</span></a><a
href="https://github.com/scrapy/scrapy/issues/4321"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The first spider
middleware (see <i><span style='color:#355F7C'>SPIDER_MIDDLEWARES</span></i>)
now also processes exceptions raised from callbacks that are generators (<a
href="https://github.com/scrapy/scrapy/issues/4260"><span style='color:#377063;
text-decoration:none'>issue 4260</span></a><a
href="https://github.com/scrapy/scrapy/issues/4260"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4272"><span style='color:#377063;
text-decoration:none'>issue 4272</span></a><a
href="https://github.com/scrapy/scrapy/issues/4272"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Redirects to URLs
starting with 3 slashes (///) are now supported (<a
href="https://github.com/scrapy/scrapy/issues/4032"><span style='color:#377063;
text-decoration:none'>issue 4032</span></a><a
href="https://github.com/scrapy/scrapy/issues/4032"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4042"><span style='color:#377063;
text-decoration:none'>issue 4042</span></a><a
href="https://github.com/scrapy/scrapy/issues/4042"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Request </span></i>no longer accepts strings as url simply
because they have a colon (<a
href="https://github.com/scrapy/scrapy/issues/2552"><span style='color:#377063;
text-decoration:none'>issue 2552</span></a><a
href="https://github.com/scrapy/scrapy/issues/2552"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4094"><span style='color:#377063;
text-decoration:none'>issue 4094</span></a><a
href="https://github.com/scrapy/scrapy/issues/4094"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The correct encoding
is now used for attach names in <i><span style='color:#355F7C'>MailSender </span></i><a
href="https://github.com/scrapy/scrapy/issues/4229"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4229"><span style='color:#377063;
text-decoration:none'>issue 4229</span></a><a
href="https://github.com/scrapy/scrapy/issues/4229"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4239"><span style='color:#377063;
text-decoration:none'>issue 4239</span></a><a
href="https://github.com/scrapy/scrapy/issues/4239"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>RFPDupeFilter, the
default <i><span style='color:#355F7C'>DUPEFILTER_CLASS</span></i>, no longer
writes an extra \r character on each line in Windows, which made the size of
the requests.seen file unnecessarily large on that platform (<a
href="https://github.com/scrapy/scrapy/issues/4283"><span style='color:#377063;
text-decoration:none'>issue 4283</span></a><a
href="https://github.com/scrapy/scrapy/issues/4283"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Z shell
auto-completion now looks for .html files, not .http files, and covers the -<sub><span
style='font-size:15.5pt;line-height:103%'>h </span></sub>command-line switch <a
href="https://github.com/scrapy/scrapy/issues/4122"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4122"><span style='color:#377063;
text-decoration:none'>issue 4122</span></a><a
href="https://github.com/scrapy/scrapy/issues/4122"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4291"><span style='color:#377063;
text-decoration:none'>issue 4291</span></a><a
href="https://github.com/scrapy/scrapy/issues/4291"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Adding items to a scrapy.utils.datatypes.LocalCache
object without a limit defined no longer raises a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeError</span></a><span
style='color:#377063'> </span>exception (<a
href="https://github.com/scrapy/scrapy/issues/4123"><span style='color:#377063;
text-decoration:none'>issue 4123</span></a><a
href="https://github.com/scrapy/scrapy/issues/4123"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed            a              typo        in             the          message of            the
<a href="https://docs.python.org/3/library/exceptions.html#ValueError"><span
style='color:#377063;text-decoration:none'>ValueError</span></a><span
style='color:#377063'> </span>exception    raised      when scrapy.utils.misc.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:25.4pt;text-align:left;line-height:112%'>create_instance()
gets both settings and crawler set to None <a
href="https://github.com/scrapy/scrapy/issues/4128"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4128"><span style='color:#377063;
text-decoration:none'>issue 4128</span></a><a
href="https://github.com/scrapy/scrapy/issues/4128"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>API documentation now
links to an online, syntax-highlighted view of the corresponding source code (<a
href="https://github.com/scrapy/scrapy/issues/4148"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4148"><span style='color:#377063;
text-decoration:none'>4148</span></a><a
href="https://github.com/scrapy/scrapy/issues/4148"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Links to unexisting
documentation pages now allow access to the sidebar (<a
href="https://github.com/scrapy/scrapy/issues/4152"><span style='color:#377063;
text-decoration:none'>issue 4152</span></a><a
href="https://github.com/scrapy/scrapy/issues/4152"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4169"><span style='color:#377063;
text-decoration:none'>issue 4169</span></a><a
href="https://github.com/scrapy/scrapy/issues/4169"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cross-references
within our documentation now display a tooltip when hovered (<a
href="https://github.com/scrapy/scrapy/issues/4173"><span style='color:#377063;
text-decoration:none'>issue 4173</span></a><a
href="https://github.com/scrapy/scrapy/issues/4173"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4183"><span style='color:#377063;
text-decoration:none'>issue 4183</span></a><a
href="https://github.com/scrapy/scrapy/issues/4183"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved the
documentation about <i><span style='color:#355F7C'>LinkExtractor.extract_links </span></i>and
simplified <i><span style='color:#355F7C'>Link Extractors </span></i><a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:#377063;
text-decoration:none'>4045</span></a><a
href="https://github.com/scrapy/scrapy/issues/4045"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified how <i><span
style='color:#355F7C'>ItemLoader.item </span></i>works (<a
href="https://github.com/scrapy/scrapy/issues/3574"><span style='color:#377063;
text-decoration:none'>issue 3574</span></a><a
href="https://github.com/scrapy/scrapy/issues/3574"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4099"><span style='color:#377063;
text-decoration:none'>issue 4099</span></a><a
href="https://github.com/scrapy/scrapy/issues/4099"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified that <a
href="https://docs.python.org/3/library/logging.html#logging.basicConfig"><span
style='color:#377063;text-decoration:none'>logging.basicConfig()</span></a><span
style='color:#377063'> </span>should not be used when also using <i><span
style='color:#355F7C'>CrawlerProcess </span></i><a
href="https://github.com/scrapy/scrapy/issues/2149"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2149"><span style='color:#377063;
text-decoration:none'>issue 2149</span></a><a
href="https://github.com/scrapy/scrapy/issues/2149"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/2352"><span style='color:#377063;
text-decoration:none'>issue 2352</span></a><a
href="https://github.com/scrapy/scrapy/issues/2352"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3146"><span style='color:#377063;
text-decoration:none'>issue 3146</span></a><a
href="https://github.com/scrapy/scrapy/issues/3146"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3960"><span style='color:#377063;
text-decoration:none'>issue 3960</span></a><a
href="https://github.com/scrapy/scrapy/issues/3960"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified the
requirements for <i><span style='color:#355F7C'>Request </span></i>objects <i><span
style='color:#355F7C'>when using persistence </span></i><a
href="https://github.com/scrapy/scrapy/issues/4124"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4124"><span style='color:#377063;
text-decoration:none'>issue 4124</span></a><a
href="https://github.com/scrapy/scrapy/issues/4124"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4139"><span style='color:#377063;
text-decoration:none'>issue 4139</span></a><a
href="https://github.com/scrapy/scrapy/issues/4139"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarified how to
install a <i><span style='color:#355F7C'>custom image pipeline </span></i><a
href="https://github.com/scrapy/scrapy/issues/4034"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4034"><span style='color:#377063;
text-decoration:none'>issue 4034</span></a><a
href="https://github.com/scrapy/scrapy/issues/4034"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4252"><span style='color:#377063;
text-decoration:none'>issue 4252</span></a><a
href="https://github.com/scrapy/scrapy/issues/4252"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed the signatures
of the file_path method in <i><span style='color:#355F7C'>media pipeline </span></i>examples
(<a href="https://github.com/scrapy/scrapy/issues/4290"><span style='color:
#377063;text-decoration:none'>issue 4290</span></a><a
href="https://github.com/scrapy/scrapy/issues/4290"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Covered a
backward-incompatible change in Scrapy 1.7.0 affecting custom <i><span
style='color:#355F7C'>scrapy.core.scheduler. Scheduler </span></i>subclasses (<a
href="https://github.com/scrapy/scrapy/issues/4274"><span style='color:#377063;
text-decoration:none'>issue 4274</span></a><a
href="https://github.com/scrapy/scrapy/issues/4274"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
the README.rst and CODE_OF_CONDUCT.md files (<a
href="https://github.com/scrapy/scrapy/issues/4059"><span style='color:#377063;
text-decoration:none'>issue 4059</span></a><a
href="https://github.com/scrapy/scrapy/issues/4059"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation
examples are now checked as part of our test suite and we have fixed some of
the issues detected <a href="https://github.com/scrapy/scrapy/issues/4142"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4142"><span style='color:#377063;
text-decoration:none'>issue 4142</span></a><a
href="https://github.com/scrapy/scrapy/issues/4142"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4146"><span style='color:#377063;
text-decoration:none'>issue 4146</span></a><a
href="https://github.com/scrapy/scrapy/issues/4146"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4171"><span style='color:#377063;
text-decoration:none'>issue 4171</span></a><a
href="https://github.com/scrapy/scrapy/issues/4171"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4184"><span style='color:#377063;
text-decoration:none'>issue 4184</span></a><a
href="https://github.com/scrapy/scrapy/issues/4184"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4190"><span style='color:#377063;
text-decoration:none'>issue 4190</span></a><a
href="https://github.com/scrapy/scrapy/issues/4190"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
logic issues, broken links and typos (<a
href="https://github.com/scrapy/scrapy/issues/4247"><span style='color:#377063;
text-decoration:none'>issue 4247</span></a><a
href="https://github.com/scrapy/scrapy/issues/4247"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4258"><span style='color:#377063;
text-decoration:none'>issue 4258</span></a><a
href="https://github.com/scrapy/scrapy/issues/4258"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4282"><span style='color:#377063;
text-decoration:none'>issue 4282</span></a><a
href="https://github.com/scrapy/scrapy/issues/4282"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4288"><span style='color:#377063;
text-decoration:none'>issue 4288</span></a><a
href="https://github.com/scrapy/scrapy/issues/4288"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4305"><span style='color:#377063;
text-decoration:none'>issue 4305</span></a><a
href="https://github.com/scrapy/scrapy/issues/4305"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4308"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4308"><span style='color:#377063;
text-decoration:none'>4308</span></a><a
href="https://github.com/scrapy/scrapy/issues/4308"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4323"><span style='color:#377063;
text-decoration:none'>issue 4323</span></a><a
href="https://github.com/scrapy/scrapy/issues/4323"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4338"><span style='color:#377063;
text-decoration:none'>issue 4338</span></a><a
href="https://github.com/scrapy/scrapy/issues/4338"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4359"><span style='color:#377063;
text-decoration:none'>issue 4359</span></a><a
href="https://github.com/scrapy/scrapy/issues/4359"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4361"><span style='color:#377063;
text-decoration:none'>issue 4361</span></a><a
href="https://github.com/scrapy/scrapy/issues/4361"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved consistency
when referring to the __init__ method of an object (<a
href="https://github.com/scrapy/scrapy/issues/4086"><span style='color:#377063;
text-decoration:none'>issue 4086</span></a><a
href="https://github.com/scrapy/scrapy/issues/4086"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4088"><span style='color:#377063;
text-decoration:none'>issue 4088</span></a><a
href="https://github.com/scrapy/scrapy/issues/4088"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an
inconsistency between code and output in <i><span style='color:#355F7C'>Scrapy
at a glance </span></i><a href="https://github.com/scrapy/scrapy/issues/4213"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4213"><span style='color:#377063;
text-decoration:none'>issue 4213</span></a><a
href="https://github.com/scrapy/scrapy/issues/4213"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extended
<a
href="https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html#module-sphinx.ext.intersphinx"><span
style='color:#377063;text-decoration:none'>intersphin</span></a><a
href="https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html#module-sphinx.ext.intersphinx"><sub><span
style='font-size:15.5pt;line-height:110%;color:#377063;text-decoration:none'>x</span></sub></a><sub><span
style='font-size:15.5pt;line-height:110%;color:#377063'> </span></sub>usage (<a
href="https://github.com/scrapy/scrapy/issues/4147"><span style='color:#377063;
text-decoration:none'>issue 4147</span></a><a
href="https://github.com/scrapy/scrapy/issues/4147"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4172"><span style='color:#377063;
text-decoration:none'>issue 4172</span></a><a
href="https://github.com/scrapy/scrapy/issues/4172"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4185"><span style='color:#377063;
text-decoration:none'>issue 4185</span></a><a
href="https://github.com/scrapy/scrapy/issues/4185"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4194"><span style='color:#377063;
text-decoration:none'>issue 4194</span></a><a
href="https://github.com/scrapy/scrapy/issues/4194"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4197"><span style='color:#377063;
text-decoration:none'>issue 4197</span></a><a
href="https://github.com/scrapy/scrapy/issues/4197"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>We now use a recent
version of Python to build the documentation (<a
href="https://github.com/scrapy/scrapy/issues/4140"><span style='color:#377063;
text-decoration:none'>issue 4140</span></a><a
href="https://github.com/scrapy/scrapy/issues/4140"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4249"><span style='color:#377063;
text-decoration:none'>issue 4249</span></a><a
href="https://github.com/scrapy/scrapy/issues/4249"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cleaned up
documentation (<a href="https://github.com/scrapy/scrapy/issues/4143"><span
style='color:#377063;text-decoration:none'>issue 4143</span></a><a
href="https://github.com/scrapy/scrapy/issues/4143"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4275"><span style='color:#377063;
text-decoration:none'>issue 4275</span></a><a
href="https://github.com/scrapy/scrapy/issues/4275"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Quality
assurance</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Re-enabled proxy CONNECT
tests (<a href="https://github.com/scrapy/scrapy/issues/2545"><span
style='color:#377063;text-decoration:none'>issue 2545</span></a><a
href="https://github.com/scrapy/scrapy/issues/2545"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4114"><span style='color:#377063;
text-decoration:none'>issue 4114</span></a><a
href="https://github.com/scrapy/scrapy/issues/4114"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <a
href="https://bandit.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>Bandit</span></a><span style='color:#377063'> </span>security
checks to our test suite (<a href="https://github.com/scrapy/scrapy/issues/4162"><span
style='color:#377063;text-decoration:none'>issue 4162</span></a><a
href="https://github.com/scrapy/scrapy/issues/4162"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4181"><span style='color:#377063;
text-decoration:none'>issue 4181</span></a><a
href="https://github.com/scrapy/scrapy/issues/4181"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<a href="https://flake8.pycqa.org/en/latest/"><span style='color:#377063;
text-decoration:none'>Flake8</span></a><span style='color:#377063'> </span>style
checks to our test suite and applied many of the corresponding changes (<a
href="https://github.com/scrapy/scrapy/issues/3944"><span style='color:#377063;
text-decoration:none'>issue 3944</span></a><a
href="https://github.com/scrapy/scrapy/issues/3944"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3945"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3945"><span style='color:#377063;
text-decoration:none'>3945</span></a><a
href="https://github.com/scrapy/scrapy/issues/3945"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4137"><span style='color:#377063;
text-decoration:none'>issue 4137</span></a><a
href="https://github.com/scrapy/scrapy/issues/4137"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4157"><span style='color:#377063;
text-decoration:none'>issue 4157</span></a><a
href="https://github.com/scrapy/scrapy/issues/4157"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4167"><span style='color:#377063;
text-decoration:none'>issue 4167</span></a><a
href="https://github.com/scrapy/scrapy/issues/4167"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4174"><span style='color:#377063;
text-decoration:none'>issue 4174</span></a><a
href="https://github.com/scrapy/scrapy/issues/4174"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4186"><span style='color:#377063;
text-decoration:none'>issue 4186</span></a><a
href="https://github.com/scrapy/scrapy/issues/4186"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4195"><span style='color:#377063;
text-decoration:none'>issue 4195</span></a><a
href="https://github.com/scrapy/scrapy/issues/4195"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4238"><span style='color:#377063;
text-decoration:none'>issue 4238</span></a><a
href="https://github.com/scrapy/scrapy/issues/4238"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4246"><span style='color:#377063;
text-decoration:none'>issue 4246</span></a><a
href="https://github.com/scrapy/scrapy/issues/4246"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4355"><span style='color:#377063;
text-decoration:none'>issue 4355</span></a><a
href="https://github.com/scrapy/scrapy/issues/4355"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4360"><span style='color:#377063;
text-decoration:none'>issue 4360</span></a><a
href="https://github.com/scrapy/scrapy/issues/4360"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4365"><span style='color:#377063;
text-decoration:none'>issue 4365</span></a><a
href="https://github.com/scrapy/scrapy/issues/4365"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved
test coverage (<a href="https://github.com/scrapy/scrapy/issues/4097"><span
style='color:#377063;text-decoration:none'>issue 4097</span></a><a
href="https://github.com/scrapy/scrapy/issues/4097"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4218"><span style='color:#377063;
text-decoration:none'>issue 4218</span></a><a
href="https://github.com/scrapy/scrapy/issues/4218"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4236"><span style='color:#377063;
text-decoration:none'>issue 4236</span></a><a
href="https://github.com/scrapy/scrapy/issues/4236"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Started reporting
slowest tests, and improved the performance of some of them (<a
href="https://github.com/scrapy/scrapy/issues/4163"><span style='color:#377063;
text-decoration:none'>issue 4163</span></a><a
href="https://github.com/scrapy/scrapy/issues/4163"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4164"><span style='color:#377063;
text-decoration:none'>issue 4164</span></a><a
href="https://github.com/scrapy/scrapy/issues/4164"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed broken tests
and refactored some tests (<a
href="https://github.com/scrapy/scrapy/issues/4014"><span style='color:#377063;
text-decoration:none'>issue 4014</span></a><a
href="https://github.com/scrapy/scrapy/issues/4014"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4095"><span style='color:#377063;
text-decoration:none'>issue 4095</span></a><a
href="https://github.com/scrapy/scrapy/issues/4095"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4244"><span style='color:#377063;
text-decoration:none'>issue 4244</span></a><a
href="https://github.com/scrapy/scrapy/issues/4244"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4268"><span style='color:#377063;
text-decoration:none'>issue 4268</span></a><a
href="https://github.com/scrapy/scrapy/issues/4268"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4372"><span style='color:#377063;
text-decoration:none'>issue 4372</span></a><a
href="https://github.com/scrapy/scrapy/issues/4372"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Modified the <a
href="https://tox.wiki/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>tox</span></a><span style='color:#377063'> </span>configuration
to allow running tests with any Python version, run <a
href="https://bandit.readthedocs.io/en/latest/"><span style='color:#377063;
text-decoration:none'>Bandit</span></a><span style='color:#377063'> </span>and <a
href="https://flake8.pycqa.org/en/latest/"><span style='color:#377063;
text-decoration:none'>Flake8</span></a><span style='color:#377063'> </span>tests
by default, and enforce a minimum tox version programmatically (<a
href="https://github.com/scrapy/scrapy/issues/4179"><span style='color:#377063;
text-decoration:none'>issue 4179</span></a><a
href="https://github.com/scrapy/scrapy/issues/4179"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:35.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cleaned
up code (<a href="https://github.com/scrapy/scrapy/issues/3937"><span
style='color:#377063;text-decoration:none'>issue 3937</span></a><a
href="https://github.com/scrapy/scrapy/issues/3937"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4208"><span style='color:#377063;
text-decoration:none'>issue 4208</span></a><a
href="https://github.com/scrapy/scrapy/issues/4208"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4209"><span style='color:#377063;
text-decoration:none'>issue 4209</span></a><a
href="https://github.com/scrapy/scrapy/issues/4209"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4210"><span style='color:#377063;
text-decoration:none'>issue 4210</span></a><a
href="https://github.com/scrapy/scrapy/issues/4210"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4212"><span style='color:#377063;
text-decoration:none'>issue 4212</span></a><a
href="https://github.com/scrapy/scrapy/issues/4212"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4369"><span style='color:#377063;
text-decoration:none'>issue 4369</span></a><a
href="https://github.com/scrapy/scrapy/issues/4369"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4376"><span style='color:#377063;
text-decoration:none'>issue 4376</span></a><a
href="https://github.com/scrapy/scrapy/issues/4376"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4378"><span style='color:#377063;
text-decoration:none'>issue 4378</span></a><a
href="https://github.com/scrapy/scrapy/issues/4378"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Changes to
scheduler queue classes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The following changes may impact any custom queue classes of
all types:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:127%'><span
style='line-height:127%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
push method no longer receives a second positional parameter containing request.priority
* -1. If you need that value, get it from the first positional parameter, request,
instead, or use the new priority() method in scrapy.core.scheduler.ScrapyPriorityQueue
subclasses. The following changes may impact custom priority queue classes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In the __init__ method
or the from_crawler or from_settings class methods:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.95pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:123%'><span
style='line-height:123%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>The parameter that used to contain a factory function, qfactory,
is now passed as a keyword parameter named downstream_queue_cls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>A new keyword
parameter has been added: key. It is a string that is always an empty string
for memory queues and indicates the JOB_DIR value for disk queues.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The parameter
for disk queues that contains data from the previous crawl, startprios or slot_startprios,
is now passed as a keyword parameter named startprios.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The serialize parameter
is no longer passed. The disk queue class must take care of request
serialization on its own before writing to disk, using the request_to_dict() and
request_from_dict() functions from the scrapy.utils.reqser module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:.5pt'>The following changes may impact custom disk and memory queue
classes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
signature of the __init__ method is now __init__(self, crawler, key).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The following changes affect specifically the ScrapyPriorityQueue
and DownloaderAwarePriorityQueue classes from <i><span style='color:#355F7C'>scrapy.core.scheduler
</span></i>and may affect subclasses:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In the __init__ method,
most of the changes described above apply.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:25.4pt'>__init__ may still receive all parameters as positional
parameters, however:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>downstream_queue_cls,
which replaced qfactory, must be instantiated differently.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:50.3pt'>qfactory was instantiated with a priority value (integer).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.65pt;margin-left:50.3pt;text-align:left;line-height:112%'>Instances
of downstream_queue_cls should be created using the new ScrapyPriorityQueue.
qfactory or DownloaderAwarePriorityQueue.pqfactory methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The new key parameter
displaced the startprios parameter 1 position to the right.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The following class
attributes have been added:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.5pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>crawler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.05pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>downstream_queue_cls (details above)</p>

<p class=MsoNormal align=left style='margin-left:49.8pt;text-align:left;
text-indent:-9.95pt'><span style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>key (details above)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The serialize attribute
has been removed (details above)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:.5pt'>The following changes affect specifically the ScrapyPriorityQueue
class and may affect subclasses:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new priority() method
has been added which, given a request, returns request.priority * -1.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:25.4pt'>It is used in push() to make up for the removal of its priority
parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The spider attribute
has been removed. Use crawler.spider instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The following changes affect specifically the DownloaderAwarePriorityQueue
class and may affect subclasses:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:129%'><span
style='line-height:129%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A
new pqueues attribute offers a mapping of downloader slot names to the
corresponding instances of downstream_queue_cls.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.55pt;
margin-left:.5pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:#377063;
text-decoration:none'>issue 3884</span></a><a
href="https://github.com/scrapy/scrapy/issues/3884"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.25 Scrapy 1.8.4
(2024-02-14)</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>Security
bug fixes:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Due to its <a
href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS"><span
style='color:#377063;text-decoration:none'>ReDoS vulnerabilities</span></a><a
href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS"><span
style='color:black;text-decoration:none'>,</span></a> scrapy.utils.iterators.xmliter
is now deprecated in favor of <i><span style='color:#355F7C'>xmliter_lxml()</span></i>,
which <i><span style='color:#355F7C'>XMLFeedSpider </span></i>now uses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.4pt;
margin-left:25.4pt;line-height:123%'>To minimize the impact of this change on
existing code, <i><span style='color:#355F7C'>xmliter_lxml() </span></i>now
supports indicating the node namespace as a prefix in the node name, and big
files with highly nested trees when using libxml2 2.7+. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cc65-xxvf-f7r9"><span
style='color:#377063;text-decoration:none'>cc65-xxvf-f7r9 security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>DOWNLOAD_MAXSIZE </span></i>and <i><span
style='color:#355F7C'>DOWNLOAD_WARNSIZE </span></i>now also apply to the
decompressed response body. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:#377063;text-decoration:none'>7j7m-v7m3-jqm7 security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Also in relation with
the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:#377063;text-decoration:none'>7j7m-v7m3-jqm7 security advisory</span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-7j7m-v7m3-jqm7"><span
style='color:black;text-decoration:none'>,</span></a> use of the scrapy.downloadermiddlewares.
decompression module is discouraged and will trigger a warning.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The Authorization header
is now dropped on redirects to a different domain. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cw9j-q3vf-hrrv"><span
style='color:#377063;text-decoration:none'>cw9j-q3vf-hrrv </span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cw9j-q3vf-hrrv"><span
style='color:#377063;text-decoration:none'>security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.26 Scrapy 1.8.3
(2022-07-25)</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>Security
bug fix:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>processes a request with <i><span
style='color:#355F7C'>proxy </span></i>metadata, and that <i><span
style='color:#355F7C'>proxy </span></i>metadata includes proxy credentials, <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>sets the Proxy-Authorization
header, but only if that header is not already set.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>There are third-party proxy-rotation downloader middlewares
that set different <i><span style='color:#355F7C'>proxy </span></i>metadata
every time they process a request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Because of request retries and redirects, the same request
can be processed by downloader middlewares more than once, including both <i><span
style='color:#355F7C'>HttpProxyMiddleware </span></i>and any third-party
proxy-rotation downloader middleware.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>These third-party proxy-rotation downloader middlewares
could change the <i><span style='color:#355F7C'>proxy </span></i>metadata of a
request to a new value, but fail to remove the Proxy-Authorization header from
the previous value of the <i><span style='color:#355F7C'>proxy </span></i>metadata,
causing the credentials of one proxy to be sent to a different proxy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To prevent the unintended leaking of proxy credentials, the
behavior of <i><span style='color:#355F7C'>HttpProxyMiddleware </span></i>is
now as follows when processing a request:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:123%'><span
style='line-height:123%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>If the request being processed defines <i><span style='color:
#355F7C'>proxy </span></i>metadata that includes credentials, the Proxy-Authorization
header is always updated to feature those credentials. <b>– </b>If the request
being processed defines <i><span style='color:#355F7C'>proxy </span></i>metadata
without credentials, the Proxy-Authorization header is removed <i>unless </i>it
was originally defined for the same proxy URL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:50.3pt'>To remove proxy credentials while keeping the same proxy
URL, remove the Proxy-Authorization header.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>If the request
has no <i><span style='color:#355F7C'>proxy </span></i>metadata, or that
metadata is a falsy value (e.g. None), the Proxy-Authorization header is
removed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:49.0pt;
margin-left:50.3pt'>It is no longer possible to set a proxy URL through the <i><span
style='color:#355F7C'>proxy </span></i>metadata but set the credentials through
the Proxy-Authorization header. Set proxy credentials through the <i><span
style='color:#355F7C'>proxy </span></i>metadata instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.27 Scrapy 1.8.2
(2022-03-01)</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:.5pt;text-align:left;line-height:108%'><b>Security
bug fixes:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a <i><span
style='color:#355F7C'>Request </span></i>object with cookies defined gets a
redirect response causing a new <i><span style='color:#355F7C'>Request </span></i>object
to be scheduled, the cookies defined in the original <i><span style='color:
#355F7C'>Request </span></i>object are no longer copied into the new <i><span
style='color:#355F7C'>Request </span></i>object. If you manually set the Cookie
header on a <i><span style='color:#355F7C'>Request </span></i>object and the
domain name of the redirect URL is not an exact match for the domain of the URL
of the original <i><span style='color:#355F7C'>Request </span></i>object, your Cookie
header is now dropped from the new <i><span style='color:#355F7C'>Request </span></i>object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:25.4pt'>The old behavior could be exploited by an attacker to gain
access to your cookies. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cjvr-mfj7-j4j8"><span
style='color:#377063;text-decoration:none'>cjvr-mfj7-j4j8 </span></a><a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-cjvr-mfj7-j4j8"><span
style='color:#377063;text-decoration:none'>security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 553730"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:25.4pt'><b>Note: </b>It is still possible to enable the sharing of
cookies between different domains with a shared domain suffix</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05pt;
margin-left:25.4pt'>(e.g. example.com and any subdomain) by defining the shared
domain suffix (e.g. example.com) as the cookie domain when defining your
cookies. See the documentation of the <i><span style='color:#355F7C'>Request </span></i>class
for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.7pt;margin-left:24.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=592 height=1 id="Group 553732"
src="Scrapy%20Documentation_files/image241.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When the domain of a
cookie, either received in the Set-Cookie header of a response or defined in a <i><span
style='color:#355F7C'>Request </span></i>object, is set to a <a
href="https://publicsuffix.org/"><span style='color:#377063;text-decoration:
none'>public suffix</span></a><a href="https://publicsuffix.org/"><span
style='color:black;text-decoration:none'>,</span></a> the cookie is now ignored
unless the cookie domain is the same as the request domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:25.4pt'>The old behavior could be exploited by an attacker to
inject cookies into your requests to some other domains. Please, see the <a
href="https://github.com/scrapy/scrapy/security/advisories/GHSA-mfjm-vh54-3f96"><span
style='color:#377063;text-decoration:none'>mfjm-vh54-3f96 security advisory</span></a><span
style='color:#377063'> </span>for more information.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.4pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.28 Scrapy 1.8.1
(2021-10-05)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>Security
bug fix:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you use <i><span style='color:#355F7C'>HttpAuthMiddleware
</span></i>(i.e. the http_user and http_pass spider attributes) for HTTP
authentication, any request exposes your credentials to the request target.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>To prevent unintended exposure of authentication
credentials to unintended domains, you must now additionally set a new,
additional spider attribute, http_auth_domain, and point it to the specific
domain to which the authentication credentials must be sent.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If the http_auth_domain spider attribute is not set, the
domain of the first request will be considered the HTTP authentication target,
and authentication credentials will only be sent in requests targeting that
domain.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you need to send the same HTTP authentication
credentials to multiple domains, you can use <a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><span
style='color:#377063;text-decoration:none'>w3lib.http</span></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>. </span></sub></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.http.basic_auth_header"><span
style='color:#377063;text-decoration:none'>basic_auth_header()</span></a><span
style='color:#377063'> </span>instead to set the value of the Authorization header
of your requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>If you <i>really </i>want your spider to send the same HTTP
authentication credentials to any domain, set the http_auth_domain spider
attribute to None.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Finally, if you are a user of <a
href="https://github.com/scrapy-plugins/scrapy-splash"><span style='color:#377063;
text-decoration:none'>scrapy-splash</span></a><a
href="https://github.com/scrapy-plugins/scrapy-splash"><span style='color:black;
text-decoration:none'>,</span></a> know that this version of Scrapy breaks
compatibility with scrapysplash 0.7.2 and earlier. You will need to upgrade
scrapy-splash to a greater version for it to continue to work.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.29 Scrapy 1.8.0
(2019-10-28)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped Python 3.4
support and updated minimum requirements; made Python 3.8 support official</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>Request.from_curl </span></i>class method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>ROBOTSTXT_PARSER </span></i>and <i><span
style='color:#355F7C'>ROBOTSTXT_USER_AGENT </span></i>settings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_CIPHERS </span></i>and <i><span
style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING </span></i>settings</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 3.4 is no
longer supported, and some of the minimum requirements of Scrapy have also
changed:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://cssselect.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>cssselect</span></a><span
style='color:#377063'> </span>0.9.1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://cryptography.io/en/latest/"><span
style='color:#377063;text-decoration:none'>cryptography</span></a><span
style='color:#377063'> </span>2.0</p>

<p class=MsoNormal style='margin-left:49.8pt;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://lxml.de/"><span style='color:#377063;text-decoration:
none'>lxml</span></a><span style='color:#377063'> </span>3.5.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://www.pyopenssl.org/en/stable/"><span
style='color:#377063;text-decoration:none'>pyOpenSSL</span></a><span
style='color:#377063'> </span>16.2.0</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://github.com/scrapy/queuelib"><span
style='color:#377063;text-decoration:none'>queuelib</span></a><span
style='color:#377063'> </span>1.4.2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://service-identity.readthedocs.io/en/stable/"><span
style='color:#377063;text-decoration:none'>service_identity</span></a><span
style='color:#377063'> </span>16.0.0</p>

<p class=MsoNormal style='margin-left:49.8pt;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://six.readthedocs.io/"><span style='color:#377063;
text-decoration:none'>six</span></a><span style='color:#377063'> </span>1.10.0</p>

<p class=MsoNormal style='margin-left:49.8pt;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://twisted.org/"><span style='color:#377063;
text-decoration:none'>Twisted</span></a><span style='color:#377063'> </span>17.9.0
(16.0.0 with Python 2)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://zopeinterface.readthedocs.io/en/latest/"><span
style='color:#377063;text-decoration:none'>zope.interface</span></a><span
style='color:#377063'> </span>4.1.3</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/3892"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3892"><span style='color:#377063;
text-decoration:none'>issue 3892</span></a><a
href="https://github.com/scrapy/scrapy/issues/3892"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>JSONRequest is now
called <i><span style='color:#355F7C'>JsonRequest </span></i>for consistency
with similar classes (<a href="https://github.com/scrapy/scrapy/issues/3929"><span
style='color:#377063;text-decoration:none'>issue 3929</span></a><a
href="https://github.com/scrapy/scrapy/issues/3929"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3982"><span style='color:#377063;
text-decoration:none'>issue 3982</span></a><a
href="https://github.com/scrapy/scrapy/issues/3982"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If you are using a
custom context factory (<i><span style='color:#355F7C'>DOWNLOADER_CLIENTCONTEXTFACTORY</span></i>),
its __init__ method must accept two new parameters: tls_verbose_logging and tls_ciphers
<a href="https://github.com/scrapy/scrapy/issues/2111"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2111"><span style='color:#377063;
text-decoration:none'>issue 2111</span></a><a
href="https://github.com/scrapy/scrapy/issues/2111"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3392"><span style='color:#377063;
text-decoration:none'>issue 3392</span></a><a
href="https://github.com/scrapy/scrapy/issues/3392"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3442"><span style='color:#377063;
text-decoration:none'>issue 3442</span></a><a
href="https://github.com/scrapy/scrapy/issues/3442"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3450"><span style='color:#377063;
text-decoration:none'>issue 3450</span></a><a
href="https://github.com/scrapy/scrapy/issues/3450"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ItemLoader </span></i>now turns the values of its input
item into lists:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89 src="Scrapy%20Documentation_files/image519.gif"></span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:14.55pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'>This
is needed to allow adding values to existing fields (loader.add_value('field',
'value2')).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:143.1pt;margin-bottom:
111.3pt;margin-left:0in;text-indent:24.9pt;line-height:147%'><a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:#377063;
text-decoration:none'>issue 3804</span></a><a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:#377063;
text-decoration:none'>issue 3819</span></a><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:#377063;
text-decoration:none'>issue 3897</span></a><a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:#377063;
text-decoration:none'>issue 3976</span></a><a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3998"><span style='color:#377063;
text-decoration:none'>issue 3998</span></a><a
href="https://github.com/scrapy/scrapy/issues/3998"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4036"><span style='color:#377063;
text-decoration:none'>issue 4036</span></a><a
href="https://github.com/scrapy/scrapy/issues/4036"><span style='color:black;
text-decoration:none'>) </span></a>See also <i><span style='color:#355F7C'>Deprecation
removals </span></i>below.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A
new <i><span style='color:#355F7C'>Request.from_curl </span></i>class method
allows <i><span style='color:#355F7C'>creating a request from a cURL command </span></i><a
href="https://github.com/scrapy/scrapy/issues/2985"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2985"><span style='color:#377063;
text-decoration:none'>issue 2985</span></a><a
href="https://github.com/scrapy/scrapy/issues/2985"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3862"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3862"><span style='color:#377063;
text-decoration:none'>3862</span></a><a
href="https://github.com/scrapy/scrapy/issues/3862"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>ROBOTSTXT_PARSER </span></i>setting allows choosing which
<a href="https://www.robotstxt.org/"><span style='color:#377063;text-decoration:
none'>robots.txt</span></a><span style='color:#377063'> </span>parser to use.
It includes built-in support for <i><span style='color:#355F7C'>RobotFileParser</span></i>,
<i><span style='color:#355F7C'>Protego </span></i>(default), Reppy, and <i><span
style='color:#355F7C'>Robotexclusionrulesparser</span></i>, and allows you to <i><span
style='color:#355F7C'>implement support for additional parsers </span></i><a
href="https://github.com/scrapy/scrapy/issues/754"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/754"><span style='color:#377063;
text-decoration:none'>issue 754</span></a><a
href="https://github.com/scrapy/scrapy/issues/754"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2669"><span style='color:#377063;
text-decoration:none'>issue 2669</span></a><a
href="https://github.com/scrapy/scrapy/issues/2669"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3796"><span style='color:#377063;
text-decoration:none'>issue 3796</span></a><a
href="https://github.com/scrapy/scrapy/issues/3796"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3935"><span style='color:#377063;
text-decoration:none'>issue 3935</span></a><a
href="https://github.com/scrapy/scrapy/issues/3935"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3969"><span style='color:#377063;
text-decoration:none'>issue 3969</span></a><a
href="https://github.com/scrapy/scrapy/issues/3969"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4006"><span style='color:#377063;
text-decoration:none'>issue 4006</span></a><a
href="https://github.com/scrapy/scrapy/issues/4006"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>ROBOTSTXT_USER_AGENT </span></i>setting allows defining a
separate user agent string to use for <a href="https://www.robotstxt.org/"><span
style='color:#377063;text-decoration:none'>robots.txt</span></a><span
style='color:#377063'> </span>parsing <a
href="https://github.com/scrapy/scrapy/issues/3931"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3931"><span style='color:#377063;
text-decoration:none'>issue 3931</span></a><a
href="https://github.com/scrapy/scrapy/issues/3931"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3966"><span style='color:#377063;
text-decoration:none'>issue 3966</span></a><a
href="https://github.com/scrapy/scrapy/issues/3966"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Rule </span></i>no longer requires a <i><span
style='color:#355F7C'>LinkExtractor </span></i>parameter (<a
href="https://github.com/scrapy/scrapy/issues/781"><span style='color:#377063;
text-decoration:none'>issue 781</span></a><a
href="https://github.com/scrapy/scrapy/issues/781"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4016"><span style='color:#377063;
text-decoration:none'>issue 4016</span></a><a
href="https://github.com/scrapy/scrapy/issues/4016"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use the new <i><span
style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_CIPHERS </span></i>setting to
customize the TLS/SSL ciphers used by the default HTTP/1.1 downloader (<a
href="https://github.com/scrapy/scrapy/issues/3392"><span style='color:#377063;
text-decoration:none'>issue 3392</span></a><a
href="https://github.com/scrapy/scrapy/issues/3392"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3442"><span style='color:#377063;
text-decoration:none'>issue 3442</span></a><a
href="https://github.com/scrapy/scrapy/issues/3442"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Set the new <i><span
style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING </span></i>setting
to True to enable debug-level messages about TLS connection parameters after
establishing HTTPS connections (<a
href="https://github.com/scrapy/scrapy/issues/2111"><span style='color:#377063;
text-decoration:none'>issue 2111</span></a><a
href="https://github.com/scrapy/scrapy/issues/2111"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3450"><span style='color:#377063;
text-decoration:none'>issue 3450</span></a><a
href="https://github.com/scrapy/scrapy/issues/3450"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Callbacks that
receive keyword arguments (see <i><span style='color:#355F7C'>Request.cb_kwargs</span></i>)
can now be tested using the new <i><span style='color:#355F7C'>@cb_kwargs
spider contract </span></i><a
href="https://github.com/scrapy/scrapy/issues/3985"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3985"><span style='color:#377063;
text-decoration:none'>issue 3985</span></a><a
href="https://github.com/scrapy/scrapy/issues/3985"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3988"><span style='color:#377063;
text-decoration:none'>issue 3988</span></a><a
href="https://github.com/scrapy/scrapy/issues/3988"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When a <i><span
style='color:#355F7C'>@scrapes </span></i>spider contract fails, all missing
fields are now reported (<a href="https://github.com/scrapy/scrapy/issues/766"><span
style='color:#377063;text-decoration:none'>issue 766</span></a><a
href="https://github.com/scrapy/scrapy/issues/766"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3939"><span style='color:#377063;
text-decoration:none'>issue 3939</span></a><a
href="https://github.com/scrapy/scrapy/issues/3939"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Custom log formats </span></i>can now drop messages by
having the corresponding methods of the configured <i><span style='color:#355F7C'>LOG_FORMATTER
</span></i>return None <a href="https://github.com/scrapy/scrapy/issues/3984"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3984"><span style='color:#377063;
text-decoration:none'>issue 3984</span></a><a
href="https://github.com/scrapy/scrapy/issues/3984"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3987"><span style='color:#377063;
text-decoration:none'>issue 3987</span></a><a
href="https://github.com/scrapy/scrapy/issues/3987"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A much improved
completion definition is now available for <a href="https://www.zsh.org/"><span
style='color:#377063;text-decoration:none'>Zsh</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/4069"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/4069"><span style='color:#377063;
text-decoration:none'>issue 4069</span></a><a
href="https://github.com/scrapy/scrapy/issues/4069"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ItemLoader.load_item() </span></i>no longer makes later
calls to <i><span style='color:#355F7C'>ItemLoader.get_output_value() </span></i>or
<i><span style='color:#355F7C'>ItemLoader.load_item() </span></i>return empty
data (<a href="https://github.com/scrapy/scrapy/issues/3804"><span
style='color:#377063;text-decoration:none'>issue 3804</span></a><a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:#377063;
text-decoration:none'>issue 3819</span></a><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:#377063;
text-decoration:none'>issue 3897</span></a><a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:#377063;
text-decoration:none'>issue 3976</span></a><a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3998"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3998"><span style='color:#377063;
text-decoration:none'>3998</span></a><a
href="https://github.com/scrapy/scrapy/issues/3998"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4036"><span style='color:#377063;
text-decoration:none'>issue 4036</span></a><a
href="https://github.com/scrapy/scrapy/issues/4036"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>DummyStatsCollector </span></i>raising a <a
href="https://docs.python.org/3/library/exceptions.html#TypeError"><span
style='color:#377063;text-decoration:none'>TypeError</span></a><span
style='color:#377063'> </span>exception (<a
href="https://github.com/scrapy/scrapy/issues/4007"><span style='color:#377063;
text-decoration:none'>issue 4007</span></a><a
href="https://github.com/scrapy/scrapy/issues/4007"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4052"><span style='color:#377063;
text-decoration:none'>issue 4052</span></a><a
href="https://github.com/scrapy/scrapy/issues/4052"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>FilesPipeline.file_path </span></i>and <i><span
style='color:#355F7C'>ImagesPipeline.file_path </span></i>no longer choose file
extensions that are not <a
href="https://www.iana.org/assignments/media-types/media-types.xhtml"><span
style='color:#377063;text-decoration:none'>registered with IANA</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/1287"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1287"><span style='color:#377063;
text-decoration:none'>issue 1287</span></a><a
href="https://github.com/scrapy/scrapy/issues/1287"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3953"><span style='color:#377063;
text-decoration:none'>issue 3953</span></a><a
href="https://github.com/scrapy/scrapy/issues/3953"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3954"><span style='color:#377063;
text-decoration:none'>issue 3954</span></a><a
href="https://github.com/scrapy/scrapy/issues/3954"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>When using <a
href="https://github.com/boto/botocore"><span style='color:#377063;text-decoration:
none'>botocore</span></a><span style='color:#377063'> </span>to persist files
in S3, all botocore-supported headers are properly mapped now (<a
href="https://github.com/scrapy/scrapy/issues/3904"><span style='color:#377063;
text-decoration:none'>issue 3904</span></a><a
href="https://github.com/scrapy/scrapy/issues/3904"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3905"><span style='color:#377063;
text-decoration:none'>issue 3905</span></a><a
href="https://github.com/scrapy/scrapy/issues/3905"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FTP passwords in FEED_URI
containing percent-escaped characters are now properly decoded (<a
href="https://github.com/scrapy/scrapy/issues/3941"><span style='color:#377063;
text-decoration:none'>issue 3941</span></a><a
href="https://github.com/scrapy/scrapy/issues/3941"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A memory-handling and
error-handling issue in scrapy.utils.ssl.get_temp_key_info() has been fixed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/3920"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3920"><span style='color:#377063;
text-decoration:none'>issue 3920</span></a><a
href="https://github.com/scrapy/scrapy/issues/3920"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The documentation now
covers how to define and configure a <i><span style='color:#355F7C'>custom log
format </span></i><a href="https://github.com/scrapy/scrapy/issues/3616"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3616"><span style='color:#377063;
text-decoration:none'>issue 3616</span></a><a
href="https://github.com/scrapy/scrapy/issues/3616"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3660"><span style='color:#377063;
text-decoration:none'>issue 3660</span></a><a
href="https://github.com/scrapy/scrapy/issues/3660"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>API
documentation added for <i><span style='color:#355F7C'>MarshalItemExporter </span></i>and
<i><span style='color:#355F7C'>PythonItemExporter </span></i><a
href="https://github.com/scrapy/scrapy/issues/3973"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3973"><span style='color:#377063;
text-decoration:none'>issue 3973</span></a><a
href="https://github.com/scrapy/scrapy/issues/3973"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>API documentation
added for BaseItem and <i><span style='color:#355F7C'>ItemMeta </span></i><a
href="https://github.com/scrapy/scrapy/issues/3999"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3999"><span style='color:#377063;
text-decoration:none'>issue 3999</span></a><a
href="https://github.com/scrapy/scrapy/issues/3999"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minor
documentation fixes (<a href="https://github.com/scrapy/scrapy/issues/2998"><span
style='color:#377063;text-decoration:none'>issue 2998</span></a><a
href="https://github.com/scrapy/scrapy/issues/2998"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3398"><span style='color:#377063;
text-decoration:none'>issue 3398</span></a><a
href="https://github.com/scrapy/scrapy/issues/3398"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3597"><span style='color:#377063;
text-decoration:none'>issue 3597</span></a><a
href="https://github.com/scrapy/scrapy/issues/3597"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3894"><span style='color:#377063;
text-decoration:none'>issue 3894</span></a><a
href="https://github.com/scrapy/scrapy/issues/3894"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3934"><span style='color:#377063;
text-decoration:none'>issue 3934</span></a><a
href="https://github.com/scrapy/scrapy/issues/3934"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3978"><span style='color:#377063;
text-decoration:none'>issue 3978</span></a><a
href="https://github.com/scrapy/scrapy/issues/3978"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3993"><span style='color:#377063;
text-decoration:none'>issue 3993</span></a><a
href="https://github.com/scrapy/scrapy/issues/3993"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/4022"><span style='color:#377063;
text-decoration:none'>issue 4022</span></a><a
href="https://github.com/scrapy/scrapy/issues/4022"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4028"><span style='color:#377063;
text-decoration:none'>issue 4028</span></a><a
href="https://github.com/scrapy/scrapy/issues/4028"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4033"><span style='color:#377063;
text-decoration:none'>issue 4033</span></a><a
href="https://github.com/scrapy/scrapy/issues/4033"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4046"><span style='color:#377063;
text-decoration:none'>issue 4046</span></a><a
href="https://github.com/scrapy/scrapy/issues/4046"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4050"><span style='color:#377063;
text-decoration:none'>issue 4050</span></a><a
href="https://github.com/scrapy/scrapy/issues/4050"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4055"><span style='color:#377063;
text-decoration:none'>issue 4055</span></a><a
href="https://github.com/scrapy/scrapy/issues/4055"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4056"><span style='color:#377063;
text-decoration:none'>issue 4056</span></a><a
href="https://github.com/scrapy/scrapy/issues/4056"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4061"><span style='color:#377063;
text-decoration:none'>issue 4061</span></a><a
href="https://github.com/scrapy/scrapy/issues/4061"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4072"><span style='color:#377063;
text-decoration:none'>issue 4072</span></a><a
href="https://github.com/scrapy/scrapy/issues/4072"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4071"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/4071"><span style='color:#377063;
text-decoration:none'>4071</span></a><a
href="https://github.com/scrapy/scrapy/issues/4071"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4079"><span style='color:#377063;
text-decoration:none'>issue 4079</span></a><a
href="https://github.com/scrapy/scrapy/issues/4079"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4081"><span style='color:#377063;
text-decoration:none'>issue 4081</span></a><a
href="https://github.com/scrapy/scrapy/issues/4081"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4089"><span style='color:#377063;
text-decoration:none'>issue 4089</span></a><a
href="https://github.com/scrapy/scrapy/issues/4089"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4093"><span style='color:#377063;
text-decoration:none'>issue 4093</span></a><a
href="https://github.com/scrapy/scrapy/issues/4093"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.xlib has been
removed (<a href="https://github.com/scrapy/scrapy/issues/4015"><span
style='color:#377063;text-decoration:none'>issue 4015</span></a><a
href="https://github.com/scrapy/scrapy/issues/4015"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The               <a
href="https://github.com/google/leveldb"><span style='color:#377063;text-decoration:
none'>LevelDB</span></a><span style='color:#377063'>  </span>storage   backend  (scrapy.extensions.httpcache.LeveldbCacheStorage)     of
<i><span style='color:#355F7C'>HttpCacheMiddleware </span></i>is deprecated (<a
href="https://github.com/scrapy/scrapy/issues/4085"><span style='color:#377063;
text-decoration:none'>issue 4085</span></a><a
href="https://github.com/scrapy/scrapy/issues/4085"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4092"><span style='color:#377063;
text-decoration:none'>issue 4092</span></a><a
href="https://github.com/scrapy/scrapy/issues/4092"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use of the
undocumented SCRAPY_PICKLED_SETTINGS_TO_OVERRIDE environment variable is
deprecated (<a href="https://github.com/scrapy/scrapy/issues/3910"><span
style='color:#377063;text-decoration:none'>is</span></a><a
href="https://github.com/scrapy/scrapy/issues/3910"><span style='color:#377063;
text-decoration:none'>sue 3910</span></a><a
href="https://github.com/scrapy/scrapy/issues/3910"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.item.DictItem is
deprecated, use <i><span style='color:#355F7C'>Item </span></i>instead (<a
href="https://github.com/scrapy/scrapy/issues/3999"><span style='color:#377063;
text-decoration:none'>issue 3999</span></a><a
href="https://github.com/scrapy/scrapy/issues/3999"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minimum versions of
optional Scrapy requirements that are covered by continuous integration tests
have been updated:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://github.com/boto/botocore"><span
style='color:#377063;text-decoration:none'>botocore</span></a><span
style='color:#377063'> </span>1.3.23</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://python-pillow.org/"><span style='color:#377063;
text-decoration:none'>Pillow</span></a><span style='color:#377063'> </span>3.4.2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Lower versions of these optional requirements may work, but
it is not guaranteed (<a href="https://github.com/scrapy/scrapy/issues/3892"><span
style='color:#377063;text-decoration:none'>issue 3892</span></a><a
href="https://github.com/scrapy/scrapy/issues/3892"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>GitHub templates for
bug reports and feature requests (<a
href="https://github.com/scrapy/scrapy/issues/3126"><span style='color:#377063;
text-decoration:none'>issue 3126</span></a><a
href="https://github.com/scrapy/scrapy/issues/3126"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3471"><span style='color:#377063;
text-decoration:none'>issue 3471</span></a><a
href="https://github.com/scrapy/scrapy/issues/3471"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3749"><span style='color:#377063;
text-decoration:none'>issue 3749</span></a><a
href="https://github.com/scrapy/scrapy/issues/3749"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3754"><span style='color:#377063;
text-decoration:none'>issue 3754</span></a><a
href="https://github.com/scrapy/scrapy/issues/3754"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Continuous
integration fixes (<a href="https://github.com/scrapy/scrapy/issues/3923"><span
style='color:#377063;text-decoration:none'>issue 3923</span></a><a
href="https://github.com/scrapy/scrapy/issues/3923"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Code
cleanup (<a href="https://github.com/scrapy/scrapy/issues/3391"><span
style='color:#377063;text-decoration:none'>issue 3391</span></a><a
href="https://github.com/scrapy/scrapy/issues/3391"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3907"><span style='color:#377063;
text-decoration:none'>issue 3907</span></a><a
href="https://github.com/scrapy/scrapy/issues/3907"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3946"><span style='color:#377063;
text-decoration:none'>issue 3946</span></a><a
href="https://github.com/scrapy/scrapy/issues/3946"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3950"><span style='color:#377063;
text-decoration:none'>issue 3950</span></a><a
href="https://github.com/scrapy/scrapy/issues/3950"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4023"><span style='color:#377063;
text-decoration:none'>issue 4023</span></a><a
href="https://github.com/scrapy/scrapy/issues/4023"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/4031"><span style='color:#377063;
text-decoration:none'>issue 4031</span></a><a
href="https://github.com/scrapy/scrapy/issues/4031"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.30<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 1.7.4
(2019-10-21)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Revert the fix for <a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:#377063;
text-decoration:none'>issue 3804</span></a><span style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:#377063;
text-decoration:none'>issue 3819</span></a><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:black;
text-decoration:none'>)</span></a>, which has a few undesired side effects (<a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:#377063;
text-decoration:none'>issue 3897</span></a><a
href="https://github.com/scrapy/scrapy/issues/3897"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:#377063;
text-decoration:none'>issue 3976</span></a><a
href="https://github.com/scrapy/scrapy/issues/3976"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.7pt;
margin-left:.5pt;line-height:123%'>As a result, when an item loader is
initialized with an item, <i><span style='color:#355F7C'>ItemLoader.load_item()
</span></i>once again makes later calls to <i><span style='color:#355F7C'>ItemLoader.get_output_value()
</span></i>or <i><span style='color:#355F7C'>ItemLoader.load_item() </span></i>return
empty data.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.31<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 1.7.3
(2019-08-01)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>Enforce lxml 4.3.5 or lower for Python 3.4 (<a
href="https://github.com/scrapy/scrapy/issues/3912"><span style='color:#377063;
text-decoration:none'>issue 3912</span></a><a
href="https://github.com/scrapy/scrapy/issues/3912"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3918"><span style='color:#377063;
text-decoration:none'>issue 3918</span></a><a
href="https://github.com/scrapy/scrapy/issues/3918"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.32<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 1.7.2
(2019-07-23)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:133.8pt;
margin-left:.5pt;line-height:110%'>Fix Python 2 support (<a
href="https://github.com/scrapy/scrapy/issues/3889"><span style='color:#377063;
text-decoration:none'>issue 3889</span></a><a
href="https://github.com/scrapy/scrapy/issues/3889"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3893"><span style='color:#377063;
text-decoration:none'>issue 3893</span></a><a
href="https://github.com/scrapy/scrapy/issues/3893"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3896"><span style='color:#377063;
text-decoration:none'>issue 3896</span></a><a
href="https://github.com/scrapy/scrapy/issues/3896"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.33<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 1.7.1
(2019-07-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:.5pt'>Re-packaging of Scrapy 1.7.0, which was missing some changes
in PyPI.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:75.2pt;text-align:left;text-indent:-39.2pt;
line-height:108%'><b><span style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.34<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>Scrapy 1.7.0
(2019-07-18)</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 551144" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Make sure you install Scrapy 1.7.1. The Scrapy
1.7.0 package in PyPI is the result of an erroneous commit tagging and does not
include all the changes described below.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 551145"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improvements for
crawls targeting multiple domains</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A cleaner way to pass
arguments to callbacks</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new class for JSON
requests</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improvements for
rule-based spiders</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New features for feed
exports</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.55pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>429 is now part of
the <i><span style='color:#355F7C'>RETRY_HTTP_CODES </span></i>setting by
default</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.2pt;
margin-left:25.4pt'>This change is <b>backward incompatible</b>. If you don’t
want to retry 429, you must override <i><span style='color:#355F7C'>RETRY_HTTP_CODES
</span></i>accordingly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Crawler</span></i>, <i><span style='color:#355F7C'>CrawlerRunner.crawl
</span></i>and <i><span style='color:#355F7C'>CrawlerRunner.create_crawler </span></i>no
longer accept a <i><span style='color:#355F7C'>Spider </span></i>subclass
instance, they only accept a <i><span style='color:#355F7C'>Spider </span></i>subclass
now.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:25.4pt'><i><span style='color:#355F7C'>Spider </span></i>subclass
instances were never meant to work, and they were not working as one would
expect: instead of using the passed <i><span style='color:#355F7C'>Spider </span></i>subclass
instance, their from_crawler method was called to generate a new instance.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Non-default values
for the <i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE </span></i>setting
may stop working. Scheduler priority queue classes now need to handle <i><span
style='color:#355F7C'>Request </span></i>objects instead of arbitrary Python
data structures.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>An additional crawler
parameter has been added to the __init__ method of the <i><span
style='color:#355F7C'>Scheduler </span></i>class. Custom scheduler subclasses
which don’t accept arbitrary parameters in their __init__ method might break
because of this change.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>For more information, see <i><span style='color:#355F7C'>SCHEDULER</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.55pt;margin-left:.5pt;text-align:left;line-height:110%'>See
also <i><span style='color:#355F7C'>Deprecation removals </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.05pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new scheduler
priority queue, scrapy.pqueues.DownloaderAwarePriorityQueue, may be <i><span
style='color:#355F7C'>enabled </span></i>for a significant scheduling
improvement on crawls targeting multiple web domains, at the cost of no <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP </span></i>support (<a
href="https://github.com/scrapy/scrapy/issues/3520"><span style='color:#377063;
text-decoration:none'>issue 3520</span></a><a
href="https://github.com/scrapy/scrapy/issues/3520"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>Request.cb_kwargs </span></i>attribute provides a cleaner
way to pass keyword arguments to callback methods <a
href="https://github.com/scrapy/scrapy/issues/1138"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1138"><span style='color:#377063;
text-decoration:none'>issue 1138</span></a><a
href="https://github.com/scrapy/scrapy/issues/1138"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3563"><span style='color:#377063;
text-decoration:none'>issue 3563</span></a><a
href="https://github.com/scrapy/scrapy/issues/3563"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>JSONRequest </span></i>class offers a more convenient way
to build JSON requests (<a href="https://github.com/scrapy/scrapy/issues/3504"><span
style='color:#377063;text-decoration:none'>issue 3504</span></a><a
href="https://github.com/scrapy/scrapy/issues/3504"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3505"><span style='color:#377063;
text-decoration:none'>issue 3505</span></a><a
href="https://github.com/scrapy/scrapy/issues/3505"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A process_request callback
passed to the <i><span style='color:#355F7C'>Rule</span></i>__init__ method now
receives the <i><span style='color:#355F7C'>Response </span></i>object that
originated the request as its second argument (<a
href="https://github.com/scrapy/scrapy/issues/3682"><span style='color:#377063;
text-decoration:none'>issue 3682</span></a><a
href="https://github.com/scrapy/scrapy/issues/3682"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new restrict_text parameter
for the <i><span style='color:#355F7C'>LinkExtractor</span></i>__init__ method
allows filtering links by linking text (<a
href="https://github.com/scrapy/scrapy/issues/3622"><span style='color:#377063;
text-decoration:none'>issue 3622</span></a><a
href="https://github.com/scrapy/scrapy/issues/3622"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3635"><span style='color:#377063;
text-decoration:none'>issue 3635</span></a><a
href="https://github.com/scrapy/scrapy/issues/3635"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>FEED_STORAGE_S3_ACL </span></i>setting allows defining a
custom ACL for feeds exported to Amazon S3 (<a
href="https://github.com/scrapy/scrapy/issues/3607"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3607"><span style='color:#377063;
text-decoration:none'>3607</span></a><a
href="https://github.com/scrapy/scrapy/issues/3607"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>FEED_STORAGE_FTP_ACTIVE </span></i>setting allows using
FTP’s active connection mode for feeds exported to FTP servers (<a
href="https://github.com/scrapy/scrapy/issues/3829"><span style='color:#377063;
text-decoration:none'>issue 3829</span></a><a
href="https://github.com/scrapy/scrapy/issues/3829"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>METAREFRESH_IGNORE_TAGS </span></i>setting allows
overriding which HTML tags are ignored when searching a response for HTML meta
tags that trigger a redirect (<a
href="https://github.com/scrapy/scrapy/issues/1422"><span style='color:#377063;
text-decoration:none'>issue 1422</span></a><a
href="https://github.com/scrapy/scrapy/issues/1422"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3768"><span style='color:#377063;
text-decoration:none'>issue 3768</span></a><a
href="https://github.com/scrapy/scrapy/issues/3768"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>redirect_reasons </span></i>request meta key exposes the
reason (status code, meta refresh) behind every followed redirect (<a
href="https://github.com/scrapy/scrapy/issues/3581"><span style='color:#377063;
text-decoration:none'>issue 3581</span></a><a
href="https://github.com/scrapy/scrapy/issues/3581"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3687"><span style='color:#377063;
text-decoration:none'>issue 3687</span></a><a
href="https://github.com/scrapy/scrapy/issues/3687"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The SCRAPY_CHECK variable
is now set to the true string during runs of the <i><span style='color:#355F7C'>check
</span></i>command, which allows <i><span style='color:#355F7C'>detecting
contract check runs from code </span></i><a
href="https://github.com/scrapy/scrapy/issues/3704"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3704"><span style='color:#377063;
text-decoration:none'>issue 3704</span></a><a
href="https://github.com/scrapy/scrapy/issues/3704"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3739"><span style='color:#377063;
text-decoration:none'>issue 3739</span></a><a
href="https://github.com/scrapy/scrapy/issues/3739"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new Item.deepcopy()
method makes it easier to <i><span style='color:#355F7C'>deep-copy items </span></i><a
href="https://github.com/scrapy/scrapy/issues/1493"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1493"><span style='color:#377063;
text-decoration:none'>issue 1493</span></a><a
href="https://github.com/scrapy/scrapy/issues/1493"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3671"><span style='color:#377063;
text-decoration:none'>issue 3671</span></a><a
href="https://github.com/scrapy/scrapy/issues/3671"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>CoreStats </span></i>also logs elapsed_time_seconds now (<a
href="https://github.com/scrapy/scrapy/issues/3638"><span style='color:#377063;
text-decoration:none'>issue 3638</span></a><a
href="https://github.com/scrapy/scrapy/issues/3638"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exceptions from <i><span
style='color:#355F7C'>ItemLoader input and output processors </span></i>are now
more verbose (<a href="https://github.com/scrapy/scrapy/issues/3836"><span
style='color:#377063;text-decoration:none'>issue 3836</span></a><a
href="https://github.com/scrapy/scrapy/issues/3836"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3840"><span style='color:#377063;
text-decoration:none'>issue 3840</span></a><a
href="https://github.com/scrapy/scrapy/issues/3840"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Crawler</span></i>, <i><span style='color:#355F7C'>CrawlerRunner.crawl
</span></i>and <i><span style='color:#355F7C'>CrawlerRunner.create_crawler </span></i>now
fail gracefully if they receive</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:25.4pt'>a <i><span style='color:#355F7C'>Spider </span></i>subclass
instance instead of the subclass itself (<a
href="https://github.com/scrapy/scrapy/issues/2283"><span style='color:#377063;
text-decoration:none'>issue 2283</span></a><a
href="https://github.com/scrapy/scrapy/issues/2283"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3610"><span style='color:#377063;
text-decoration:none'>issue 3610</span></a><a
href="https://github.com/scrapy/scrapy/issues/3610"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3872"><span style='color:#377063;
text-decoration:none'>issue 3872</span></a><a
href="https://github.com/scrapy/scrapy/issues/3872"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>process_spider_exception() </span></i>is now also invoked
for generators (<a href="https://github.com/scrapy/scrapy/issues/220"><span
style='color:#377063;text-decoration:none'>issue 220</span></a><a
href="https://github.com/scrapy/scrapy/issues/220"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2061"><span style='color:#377063;
text-decoration:none'>issue 2061</span></a><a
href="https://github.com/scrapy/scrapy/issues/2061"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>System exceptions
like <a
href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt"><span
style='color:#377063;text-decoration:none'>KeyboardInterrupt</span></a><span
style='color:#377063'> </span>are no longer caught (<a
href="https://github.com/scrapy/scrapy/issues/3726"><span style='color:#377063;
text-decoration:none'>issue 3726</span></a><a
href="https://github.com/scrapy/scrapy/issues/3726"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ItemLoader.load_item() </span></i>no     longer     makes     later        calls         to
<i><span style='color:#355F7C'>ItemLoader.get_output_value() </span></i>or <i><span
style='color:#355F7C'>ItemLoader.load_item() </span></i>return empty data (<a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:#377063;
text-decoration:none'>issue 3804</span></a><a
href="https://github.com/scrapy/scrapy/issues/3804"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:#377063;
text-decoration:none'>issue 3819</span></a><a
href="https://github.com/scrapy/scrapy/issues/3819"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:125%'><span
style='line-height:125%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
images pipeline (<i><span style='color:#355F7C'>ImagesPipeline</span></i>) no
longer ignores these Amazon S3 settings: <i><span style='color:#355F7C'>AWS_ENDPOINT_URL</span></i>,
<i><span style='color:#355F7C'>AWS_REGION_NAME</span></i>, <i><span
style='color:#355F7C'>AWS_USE_SSL</span></i>, <i><span style='color:#355F7C'>AWS_VERIFY
</span></i><a href="https://github.com/scrapy/scrapy/issues/3625"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3625"><span style='color:#377063;
text-decoration:none'>issue 3625</span></a><a
href="https://github.com/scrapy/scrapy/issues/3625"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a memory leak
in scrapy.pipelines.media.MediaPipeline affecting, for example, non-200
responses and exceptions from custom middlewares (<a
href="https://github.com/scrapy/scrapy/issues/3813"><span style='color:#377063;
text-decoration:none'>issue 3813</span></a><a
href="https://github.com/scrapy/scrapy/issues/3813"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Requests with private
callbacks are now correctly unserialized from disk (<a
href="https://github.com/scrapy/scrapy/issues/3790"><span style='color:#377063;
text-decoration:none'>issue 3790</span></a><a
href="https://github.com/scrapy/scrapy/issues/3790"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FormRequest.from_response()
now handles invalid methods like major web browsers (<a
href="https://github.com/scrapy/scrapy/issues/3777"><span style='color:#377063;
text-decoration:none'>issue 3777</span></a><a
href="https://github.com/scrapy/scrapy/issues/3777"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3794"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/3794"><span style='color:#377063;
text-decoration:none'>3794</span></a><a
href="https://github.com/scrapy/scrapy/issues/3794"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new topic, <i><span
style='color:#355F7C'>Selecting dynamically-loaded content</span></i>, covers
recommended approaches to read dynamically-loaded data (<a
href="https://github.com/scrapy/scrapy/issues/3703"><span style='color:#377063;
text-decoration:none'>issue 3703</span></a><a
href="https://github.com/scrapy/scrapy/issues/3703"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Broad Crawls </span></i>now features information about
memory usage (<a href="https://github.com/scrapy/scrapy/issues/1264"><span
style='color:#377063;text-decoration:none'>issue 1264</span></a><a
href="https://github.com/scrapy/scrapy/issues/1264"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3866"><span style='color:#377063;
text-decoration:none'>issue 3866</span></a><a
href="https://github.com/scrapy/scrapy/issues/3866"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The documentation of <i><span
style='color:#355F7C'>Rule </span></i>now covers how to access the text of a
link when using <i><span style='color:#355F7C'>CrawlSpider </span></i><a
href="https://github.com/scrapy/scrapy/issues/3711"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3711"><span style='color:#377063;
text-decoration:none'>issue 3711</span></a><a
href="https://github.com/scrapy/scrapy/issues/3711"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3712"><span style='color:#377063;
text-decoration:none'>issue 3712</span></a><a
href="https://github.com/scrapy/scrapy/issues/3712"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new section, <i><span
style='color:#355F7C'>Writing your own storage backend</span></i>, covers
writing a custom cache storage backend for <i><span style='color:#355F7C'>HttpCacheMiddleware
</span></i><a href="https://github.com/scrapy/scrapy/issues/3683"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3683"><span style='color:#377063;
text-decoration:none'>issue 3683</span></a><a
href="https://github.com/scrapy/scrapy/issues/3683"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3692"><span style='color:#377063;
text-decoration:none'>issue 3692</span></a><a
href="https://github.com/scrapy/scrapy/issues/3692"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.95pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new <i><span
style='color:#355F7C'>FAQ </span></i>entry, <i><span style='color:#355F7C'>How
to split an item into multiple items in an item pipeline?</span></i>, explains
what to do when you want to split an item into multiple items from an item
pipeline (<a href="https://github.com/scrapy/scrapy/issues/2240"><span
style='color:#377063;text-decoration:none'>issue 2240</span></a><a
href="https://github.com/scrapy/scrapy/issues/2240"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3672"><span style='color:#377063;
text-decoration:none'>issue 3672</span></a><a
href="https://github.com/scrapy/scrapy/issues/3672"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated the <i><span
style='color:#355F7C'>FAQ entry about crawl order </span></i>to explain why the
first few requests rarely follow the desired order <a
href="https://github.com/scrapy/scrapy/issues/1739"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1739"><span style='color:#377063;
text-decoration:none'>issue 1739</span></a><a
href="https://github.com/scrapy/scrapy/issues/1739"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3621"><span style='color:#377063;
text-decoration:none'>issue 3621</span></a><a
href="https://github.com/scrapy/scrapy/issues/3621"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
<i><span style='color:#355F7C'>LOGSTATS_INTERVAL </span></i>setting (<a
href="https://github.com/scrapy/scrapy/issues/3730"><span style='color:#377063;
text-decoration:none'>issue 3730</span></a><a
href="https://github.com/scrapy/scrapy/issues/3730"><span style='color:black;
text-decoration:none'>)</span></a>, the <i><span style='color:#355F7C'>FilesPipeline.file_path
</span></i>and <i><span style='color:#355F7C'>ImagesPipeline. file_path </span></i>methods
(<a href="https://github.com/scrapy/scrapy/issues/2253"><span style='color:
#377063;text-decoration:none'>issue 2253</span></a><a
href="https://github.com/scrapy/scrapy/issues/2253"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3609"><span style='color:#377063;
text-decoration:none'>issue 3609</span></a><a
href="https://github.com/scrapy/scrapy/issues/3609"><span style='color:black;
text-decoration:none'>)</span></a> and the <i><span style='color:#355F7C'>Crawler.stop()
</span></i>method (<a href="https://github.com/scrapy/scrapy/issues/3842"><span
style='color:#377063;text-decoration:none'>issue 3842</span></a><a
href="https://github.com/scrapy/scrapy/issues/3842"><span style='color:black;
text-decoration:none'>)</span></a> are now documented</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Some
parts of the documentation that were confusing or misleading are now clearer (<a
href="https://github.com/scrapy/scrapy/issues/1347"><span style='color:#377063;
text-decoration:none'>issue 1347</span></a><a
href="https://github.com/scrapy/scrapy/issues/1347"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1789"><span style='color:#377063;
text-decoration:none'>issue 1789</span></a><a
href="https://github.com/scrapy/scrapy/issues/1789"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/2289"><span style='color:#377063;
text-decoration:none'>issue 2289</span></a><a
href="https://github.com/scrapy/scrapy/issues/2289"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3069"><span style='color:#377063;
text-decoration:none'>issue 3069</span></a><a
href="https://github.com/scrapy/scrapy/issues/3069"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3615"><span style='color:#377063;
text-decoration:none'>issue 3615</span></a><a
href="https://github.com/scrapy/scrapy/issues/3615"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3626"><span style='color:#377063;
text-decoration:none'>issue 3626</span></a><a
href="https://github.com/scrapy/scrapy/issues/3626"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3668"><span style='color:#377063;
text-decoration:none'>issue 3668</span></a><a
href="https://github.com/scrapy/scrapy/issues/3668"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3670"><span style='color:#377063;
text-decoration:none'>issue 3670</span></a><a
href="https://github.com/scrapy/scrapy/issues/3670"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3673"><span style='color:#377063;
text-decoration:none'>issue 3673</span></a><a
href="https://github.com/scrapy/scrapy/issues/3673"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3728"><span style='color:#377063;
text-decoration:none'>issue 3728</span></a><a
href="https://github.com/scrapy/scrapy/issues/3728"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3762"><span style='color:#377063;
text-decoration:none'>issue 3762</span></a><a
href="https://github.com/scrapy/scrapy/issues/3762"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3861"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3861"><span style='color:#377063;
text-decoration:none'>3861</span></a><a
href="https://github.com/scrapy/scrapy/issues/3861"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3882"><span style='color:#377063;
text-decoration:none'>issue 3882</span></a><a
href="https://github.com/scrapy/scrapy/issues/3882"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minor
documentation fixes (<a href="https://github.com/scrapy/scrapy/issues/3648"><span
style='color:#377063;text-decoration:none'>issue 3648</span></a><a
href="https://github.com/scrapy/scrapy/issues/3648"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3649"><span style='color:#377063;
text-decoration:none'>issue 3649</span></a><a
href="https://github.com/scrapy/scrapy/issues/3649"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3662"><span style='color:#377063;
text-decoration:none'>issue 3662</span></a><a
href="https://github.com/scrapy/scrapy/issues/3662"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3674"><span style='color:#377063;
text-decoration:none'>issue 3674</span></a><a
href="https://github.com/scrapy/scrapy/issues/3674"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3676"><span style='color:#377063;
text-decoration:none'>issue 3676</span></a><a
href="https://github.com/scrapy/scrapy/issues/3676"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3694"><span style='color:#377063;
text-decoration:none'>issue 3694</span></a><a
href="https://github.com/scrapy/scrapy/issues/3694"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3724"><span style='color:#377063;
text-decoration:none'>issue 3724</span></a><a
href="https://github.com/scrapy/scrapy/issues/3724"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3764"><span style='color:#377063;
text-decoration:none'>issue 3764</span></a><a
href="https://github.com/scrapy/scrapy/issues/3764"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3767"><span style='color:#377063;
text-decoration:none'>issue 3767</span></a><a
href="https://github.com/scrapy/scrapy/issues/3767"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3791"><span style='color:#377063;
text-decoration:none'>issue 3791</span></a><a
href="https://github.com/scrapy/scrapy/issues/3791"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3797"><span style='color:#377063;
text-decoration:none'>issue 3797</span></a><a
href="https://github.com/scrapy/scrapy/issues/3797"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3806"><span style='color:#377063;
text-decoration:none'>issue 3806</span></a><a
href="https://github.com/scrapy/scrapy/issues/3806"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3812"><span style='color:#377063;
text-decoration:none'>issue 3812</span></a><a
href="https://github.com/scrapy/scrapy/issues/3812"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.5pt;
margin-left:.5pt'>The following deprecated APIs have been removed (<a
href="https://github.com/scrapy/scrapy/issues/3578"><span style='color:#377063;
text-decoration:none'>issue 3578</span></a><a
href="https://github.com/scrapy/scrapy/issues/3578"><span style='color:black;
text-decoration:none'>)</span></a>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:182%'><span
style='line-height:182%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.conf
(use <i><span style='color:#355F7C'>Crawler.settings</span></i>) • From scrapy.core.downloader.handlers:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.85pt;margin-left:40.35pt;text-align:left;line-height:112%'><b>–
</b>http.HttpDownloadHandler (use http10.HTTP10DownloadHandler)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.loader.ItemLoader._get_values
(use _get_xpathvalues)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.loader.XPathItemLoader
(use <i><span style='color:#355F7C'>ItemLoader</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.log
(see <i><span style='color:#355F7C'>Logging</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From
scrapy.pipelines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.8pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>files.FilesPipeline.file_key (use file_path)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.8pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>images.ImagesPipeline.file_key (use file_path)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:182%'><span style='line-height:182%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>images.ImagesPipeline.image_key (use file_path) <b>– </b>images.ImagesPipeline.thumb_key
(use thumb_path) • From both scrapy.selector and scrapy.selector.lxmlsel:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.6pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>HtmlXPathSelector (use <i><span style='color:#355F7C'>Selector</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.5pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>XmlXPathSelector (use <i><span style='color:#355F7C'>Selector</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:182%'><span style='line-height:182%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>XPathSelector (use <i><span style='color:#355F7C'>Selector</span></i>)
<b>– </b>XPathSelectorList (use <i><span style='color:#355F7C'>Selector</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From
scrapy.selector.csstranslator:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>ScrapyGenericTranslator (use <a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.GenericTranslator"><span
style='color:#377063;text-decoration:none'>parsel.csstranslator.GenericTranslator</span></a><a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.GenericTranslator"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>ScrapyHTMLTranslator (use <a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.HTMLTranslator"><span
style='color:#377063;text-decoration:none'>parsel.csstranslator.HTMLTranslator</span></a><a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.HTMLTranslator"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.25pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><span
style='line-height:110%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>ScrapyXPathExpr (use <a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.XPathExpr"><span
style='color:#377063;text-decoration:none'>parsel.csstranslator.XPathExpr</span></a><a
href="https://parsel.readthedocs.io/en/latest/parsel.html#parsel.csstranslator.XPathExpr"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From
<i><span style='color:#355F7C'>Selector</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.85pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>_root (both the __init__ method argument and the object property,
use root)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.15pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>extract_unquoted (use getall)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.8pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>select (use xpath)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From
<i><span style='color:#355F7C'>SelectorList</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.15pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>extract_unquoted (use getall)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>select (use xpath)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.35pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>x (use xpath)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.spiders.BaseSpider
(use <i><span style='color:#355F7C'>Spider</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From <i><span
style='color:#355F7C'>Spider </span></i>(and subclasses):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.2pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>DOWNLOAD_DELAY (use <i><span style='color:#355F7C'>download_delay</span></i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.65pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>set_crawler (use from_crawler())</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:183%'><span
style='line-height:183%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.spiders.spiders
(use <i><span style='color:#355F7C'>SpiderLoader</span></i>) • scrapy.telnet (use
<i><span style='color:#355F7C'>scrapy.extensions.telnet</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>From
scrapy.utils.python:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.55pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>str_to_unicode (use to_unicode)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.0pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>unicode_to_str (use to_bytes)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.response.body_or_str</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.65pt;
margin-left:.5pt'>The following deprecated settings have also been removed (<a
href="https://github.com/scrapy/scrapy/issues/3578"><span style='color:#377063;
text-decoration:none'>issue 3578</span></a><a
href="https://github.com/scrapy/scrapy/issues/3578"><span style='color:black;
text-decoration:none'>)</span></a>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SPIDER_MANAGER_CLASS
(use <i><span style='color:#355F7C'>SPIDER_LOADER_CLASS</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
queuelib.PriorityQueue value for the <i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE
</span></i>setting is deprecated. Use scrapy.pqueues.ScrapyPriorityQueue instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>process_request callbacks
passed to <i><span style='color:#355F7C'>Rule </span></i>that do not accept two
arguments are deprecated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The following modules
are deprecated:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.35pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.http (use <a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#module-w3lib.http"><span
style='color:#377063;text-decoration:none'>w3lib.http</span></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#module-w3lib.http"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.75pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.markup (use <a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#module-w3lib.html"><span
style='color:#377063;text-decoration:none'>w3lib.html</span></a><a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#module-w3lib.html"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.95pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.multipart (use <a
href="https://urllib3.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>urllib3</span></a><a
href="https://urllib3.readthedocs.io/en/latest/index.html"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The scrapy.utils.datatypes.MergeDict
class is deprecated for Python 3 code bases. Use <a
href="https://docs.python.org/3/library/collections.html#collections.ChainMap"><span
style='color:#377063;text-decoration:none'>ChainMap</span></a><span
style='color:#377063'> </span>instead. (<a
href="https://github.com/scrapy/scrapy/issues/3878"><span style='color:#377063;
text-decoration:none'>issue 3878</span></a><a
href="https://github.com/scrapy/scrapy/issues/3878"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
scrapy.utils.gz.is_gzipped function is deprecated. Use scrapy.utils.gz.gzip_magic_number
instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>It is now possible to
run all tests from the same <a href="https://pypi.org/project/tox/"><span
style='color:#377063;text-decoration:none'>tox</span></a><span
style='color:#377063'> </span>environment in parallel; the documentation now
covers <i><span style='color:#355F7C'>this and other ways to run tests </span></i><a
href="https://github.com/scrapy/scrapy/issues/3707"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3707"><span style='color:#377063;
text-decoration:none'>issue 3707</span></a><a
href="https://github.com/scrapy/scrapy/issues/3707"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>It is now possible to
generate an API documentation coverage report (<a
href="https://github.com/scrapy/scrapy/issues/3806"><span style='color:#377063;
text-decoration:none'>issue 3806</span></a><a
href="https://github.com/scrapy/scrapy/issues/3806"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3810"><span style='color:#377063;
text-decoration:none'>issue 3810</span></a><a
href="https://github.com/scrapy/scrapy/issues/3810"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3860"><span style='color:#377063;
text-decoration:none'>issue 3860</span></a><a
href="https://github.com/scrapy/scrapy/issues/3860"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
<i><span style='color:#355F7C'>documentation policies </span></i>now require <a
href="https://docs.python.org/3/glossary.html#term-docstring"><span
style='color:#377063;text-decoration:none'>docstrings</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/3701"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3701"><span style='color:#377063;
text-decoration:none'>issue 3701</span></a><a
href="https://github.com/scrapy/scrapy/issues/3701"><span style='color:black;
text-decoration:none'>)</span></a> that follow <a
href="https://peps.python.org/pep-0257/"><span style='color:#377063;text-decoration:
none'>PEP 257</span></a><span style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/3748"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3748"><span style='color:#377063;
text-decoration:none'>issue 3748</span></a><a
href="https://github.com/scrapy/scrapy/issues/3748"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:52.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Internal
fixes and cleanup (<a href="https://github.com/scrapy/scrapy/issues/3629"><span
style='color:#377063;text-decoration:none'>issue 3629</span></a><a
href="https://github.com/scrapy/scrapy/issues/3629"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3643"><span style='color:#377063;
text-decoration:none'>issue 3643</span></a><a
href="https://github.com/scrapy/scrapy/issues/3643"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3684"><span style='color:#377063;
text-decoration:none'>issue 3684</span></a><a
href="https://github.com/scrapy/scrapy/issues/3684"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3698"><span style='color:#377063;
text-decoration:none'>issue 3698</span></a><a
href="https://github.com/scrapy/scrapy/issues/3698"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3734"><span style='color:#377063;
text-decoration:none'>issue 3734</span></a><a
href="https://github.com/scrapy/scrapy/issues/3734"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3735"><span style='color:#377063;
text-decoration:none'>issue 3735</span></a><a
href="https://github.com/scrapy/scrapy/issues/3735"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3736"><span style='color:#377063;
text-decoration:none'>issue 3736</span></a><a
href="https://github.com/scrapy/scrapy/issues/3736"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/3737"><span style='color:#377063;
text-decoration:none'>issue 3737</span></a><a
href="https://github.com/scrapy/scrapy/issues/3737"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3809"><span style='color:#377063;
text-decoration:none'>issue 3809</span></a><a
href="https://github.com/scrapy/scrapy/issues/3809"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3821"><span style='color:#377063;
text-decoration:none'>issue 3821</span></a><a
href="https://github.com/scrapy/scrapy/issues/3821"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3825"><span style='color:#377063;
text-decoration:none'>issue 3825</span></a><a
href="https://github.com/scrapy/scrapy/issues/3825"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3827"><span style='color:#377063;
text-decoration:none'>issue 3827</span></a><a
href="https://github.com/scrapy/scrapy/issues/3827"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3833"><span style='color:#377063;
text-decoration:none'>issue 3833</span></a><a
href="https://github.com/scrapy/scrapy/issues/3833"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3857"><span style='color:#377063;
text-decoration:none'>issue 3857</span></a><a
href="https://github.com/scrapy/scrapy/issues/3857"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3877"><span style='color:#377063;
text-decoration:none'>issue 3877</span></a><a
href="https://github.com/scrapy/scrapy/issues/3877"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.35 Scrapy 1.6.0
(2019-01-30)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better Windows
support;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python 3.7
compatibility;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>big documentation
improvements, including a switch from .extract_first() + .extract() API to .get()
+ .getall() API;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>feed exports,
FilePipeline and MediaPipeline improvements;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better extensibility:
<i><span style='color:#355F7C'>item_error </span></i>and <i><span
style='color:#355F7C'>request_reached_downloader </span></i>signals; from_crawler
support for feed exporters, feed storages and dupefilters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.contracts fixes
and new features;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>telnet console
security improvements, first released as a backport in <i><span
style='color:#355F7C'>Scrapy 1.5.2 (2019-01-22)</span></i>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>clean-up of the
deprecated code;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>various bug fixes,
small new features and usability improvements across the codebase.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Selector
API changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:.5pt'>While these are not changes in Scrapy itself, but rather in
the <a href="https://github.com/scrapy/parsel"><span style='color:#377063;
text-decoration:none'>parsel</span></a><span style='color:#377063'> </span>library
which Scrapy uses for xpath/css selectors, these changes are worth mentioning
here. Scrapy now depends on parsel &gt;= 1.5, and Scrapy documentation is
updated to follow recent parsel API conventions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.35pt;
margin-left:.5pt'>Most visible change is that .get() and .getall() selector
methods are now preferred over .extract_first() and .extract(). We feel that
these new methods result in a more concise and readable code. See <i><span
style='color:#355F7C'>extract() and extract_first() </span></i>for more
details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 551327"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in'><b>Note:           </b>There
are currently <b>no plans </b>to deprecate .extract() and .extract_first() methods.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 551329"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Another useful new feature is the introduction of Selector.attrib
and SelectorList.attrib properties, which make it easier to get attributes of
HTML elements. See <i><span style='color:#355F7C'>Selecting element attributes</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:.5pt'>CSS selectors are cached in parsel &gt;= 1.5, which makes
them faster when the same CSS path is used many times. This is very common in
case of Scrapy spiders: callbacks are usually called several times, on
different pages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:.5pt'>If you’re using custom Selector or SelectorList subclasses, a
<b>backward incompatible </b>change in parsel may affect your code. See <a
href="https://parsel.readthedocs.io/en/latest/history.html"><span
style='color:#377063;text-decoration:none'>parsel changelog</span></a><span
style='color:#377063'> </span>for a detailed description, as well as for the
full list of improvements.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Telnet
console</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Backward incompatible</b>: Scrapy’s telnet console now
requires username and password. See <i><span style='color:#355F7C'>Telnet
Console </span></i>for more details. This change fixes a <b><sub><span
style='font-size:15.5pt;line-height:103%'>security issue</span></sub></b>; see <i><span
style='color:#355F7C'>Scrapy 1.5.2 (2019-01-22) </span></i>release notes for
details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
extensibility features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>from_crawler support
is added to feed exporters and feed storages. This, among other things, allows
to access Scrapy settings from custom feed storages and exporters (<a
href="https://github.com/scrapy/scrapy/issues/1605"><span style='color:#377063;
text-decoration:none'>issue 1605</span></a><a
href="https://github.com/scrapy/scrapy/issues/1605"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3348"><span style='color:#377063;
text-decoration:none'>issue 3348</span></a><a
href="https://github.com/scrapy/scrapy/issues/3348"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>from_crawler support
is added to dupefilters (<a href="https://github.com/scrapy/scrapy/issues/2956"><span
style='color:#377063;text-decoration:none'>issue 2956</span></a><a
href="https://github.com/scrapy/scrapy/issues/2956"><span style='color:black;
text-decoration:none'>)</span></a>; this allows to access e.g. settings or a
spider from a dupefilter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>item_error </span></i>is fired when an error happens in a
pipeline (<a href="https://github.com/scrapy/scrapy/issues/3256"><span
style='color:#377063;text-decoration:none'>issue 3256</span></a><a
href="https://github.com/scrapy/scrapy/issues/3256"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>request_reached_downloader </span></i>is fired when
Downloader gets a new Request; this signal can be useful e.g. for custom
Schedulers (<a href="https://github.com/scrapy/scrapy/issues/3393"><span
style='color:#377063;text-decoration:none'>issue 3393</span></a><a
href="https://github.com/scrapy/scrapy/issues/3393"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>new SitemapSpider <i><span
style='color:#355F7C'>sitemap_filter() </span></i>method which allows to select
sitemap entries based on their attributes in SitemapSpider subclasses (<a
href="https://github.com/scrapy/scrapy/issues/3512"><span style='color:#377063;
text-decoration:none'>issue 3512</span></a><a
href="https://github.com/scrapy/scrapy/issues/3512"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Lazy loading of
Downloader Handlers is now optional; this enables better initialization error
handling in custom Downloader Handlers (<a
href="https://github.com/scrapy/scrapy/issues/3394"><span style='color:#377063;
text-decoration:none'>issue 3394</span></a><a
href="https://github.com/scrapy/scrapy/issues/3394"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.35pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
FilePipeline and MediaPipeline features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Expose more options
for S3FilesStore: <i><span style='color:#355F7C'>AWS_ENDPOINT_URL</span></i>, <i><span
style='color:#355F7C'>AWS_USE_SSL</span></i>, <i><span style='color:#355F7C'>AWS_VERIFY</span></i>,
<i><span style='color:#355F7C'>AWS_REGION_NAME</span></i>. For example, this
allows to use alternative or self-hosted AWS-compatible providers (<a
href="https://github.com/scrapy/scrapy/issues/2609"><span style='color:#377063;
text-decoration:none'>issue 2609</span></a><a
href="https://github.com/scrapy/scrapy/issues/2609"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3548"><span style='color:#377063;
text-decoration:none'>issue 3548</span></a><a
href="https://github.com/scrapy/scrapy/issues/3548"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:274%'><span
style='line-height:274%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ACL
support for Google Cloud Storage: <i><span style='color:#355F7C'>FILES_STORE_GCS_ACL
</span></i>and <i><span style='color:#355F7C'>IMAGES_STORE_GCS_ACL </span></i><a
href="https://github.com/scrapy/scrapy/issues/3199"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3199"><span style='color:#377063;
text-decoration:none'>issue 3199</span></a><a
href="https://github.com/scrapy/scrapy/issues/3199"><span style='color:black;
text-decoration:none'>)</span></a>. <span style='color:#20435C'>scrapy.contracts
<b>improvements</b></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Exceptions in
contracts code are handled better (<a
href="https://github.com/scrapy/scrapy/issues/3377"><span style='color:#377063;
text-decoration:none'>issue 3377</span></a><a
href="https://github.com/scrapy/scrapy/issues/3377"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dont_filter=True is
used for contract requests, which allows to test different callbacks with the
same URL <a href="https://github.com/scrapy/scrapy/issues/3381"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3381"><span style='color:#377063;
text-decoration:none'>issue 3381</span></a><a
href="https://github.com/scrapy/scrapy/issues/3381"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>request_cls attribute
in Contract subclasses allow to use different Request classes in contracts, for
example FormRequest (<a href="https://github.com/scrapy/scrapy/issues/3383"><span
style='color:#377063;text-decoration:none'>issue 3383</span></a><a
href="https://github.com/scrapy/scrapy/issues/3383"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed errback
handling in contracts, e.g. for cases where a contract is executed for URL
which returns non-200 response (<a
href="https://github.com/scrapy/scrapy/issues/3371"><span style='color:#377063;
text-decoration:none'>issue 3371</span></a><a
href="https://github.com/scrapy/scrapy/issues/3371"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Usability
improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>more stats for
RobotsTxtMiddleware (<a href="https://github.com/scrapy/scrapy/issues/3100"><span
style='color:#377063;text-decoration:none'>issue 3100</span></a><a
href="https://github.com/scrapy/scrapy/issues/3100"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>INFO log level is
used to show telnet host/port (<a
href="https://github.com/scrapy/scrapy/issues/3115"><span style='color:#377063;
text-decoration:none'>issue 3115</span></a><a
href="https://github.com/scrapy/scrapy/issues/3115"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a message is added to
IgnoreRequest in RobotsTxtMiddleware (<a
href="https://github.com/scrapy/scrapy/issues/3113"><span style='color:#377063;
text-decoration:none'>issue 3113</span></a><a
href="https://github.com/scrapy/scrapy/issues/3113"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better validation of url
argument in Response.follow <a
href="https://github.com/scrapy/scrapy/issues/3131"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3131"><span style='color:#377063;
text-decoration:none'>issue 3131</span></a><a
href="https://github.com/scrapy/scrapy/issues/3131"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>non-zero exit code is
returned from Scrapy commands when error happens on spider initialization (<a
href="https://github.com/scrapy/scrapy/issues/3226"><span style='color:#377063;
text-decoration:none'>issue 3226</span></a><a
href="https://github.com/scrapy/scrapy/issues/3226"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Link extraction
improvements: “ftp” is added to scheme list (<a
href="https://github.com/scrapy/scrapy/issues/3152"><span style='color:#377063;
text-decoration:none'>issue 3152</span></a><a
href="https://github.com/scrapy/scrapy/issues/3152"><span style='color:black;
text-decoration:none'>)</span></a>; “flv” is added to common video extensions (<a
href="https://github.com/scrapy/scrapy/issues/3165"><span style='color:#377063;
text-decoration:none'>issue 3165</span></a><a
href="https://github.com/scrapy/scrapy/issues/3165"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better error message
when an exporter is disabled (<a
href="https://github.com/scrapy/scrapy/issues/3358"><span style='color:#377063;
text-decoration:none'>issue 3358</span></a><a
href="https://github.com/scrapy/scrapy/issues/3358"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy shell --help mentions
syntax required for local files (./file.html) - <a
href="https://github.com/scrapy/scrapy/issues/3496"><span style='color:#377063;
text-decoration:none'>issue 3496</span></a><a
href="https://github.com/scrapy/scrapy/issues/3496"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:37.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Referer header value
is added to RFPDupeFilter log messages (<a
href="https://github.com/scrapy/scrapy/issues/3588"><span style='color:#377063;
text-decoration:none'>issue 3588</span></a><a
href="https://github.com/scrapy/scrapy/issues/3588"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed issue with
extra blank lines in .csv exports under Windows (<a
href="https://github.com/scrapy/scrapy/issues/3039"><span style='color:#377063;
text-decoration:none'>issue 3039</span></a><a
href="https://github.com/scrapy/scrapy/issues/3039"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>proper handling of
pickling errors in Python 3 when serializing objects for disk queues (<a
href="https://github.com/scrapy/scrapy/issues/3082"><span style='color:#377063;
text-decoration:none'>issue 3082</span></a><a
href="https://github.com/scrapy/scrapy/issues/3082"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>flags are now
preserved when copying Requests (<a
href="https://github.com/scrapy/scrapy/issues/3342"><span style='color:#377063;
text-decoration:none'>issue 3342</span></a><a
href="https://github.com/scrapy/scrapy/issues/3342"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FormRequest.from_response
clickdata shouldn’t ignore elements with input[type=image] <a
href="https://github.com/scrapy/scrapy/issues/3153"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3153"><span style='color:#377063;
text-decoration:none'>issue 3153</span></a><a
href="https://github.com/scrapy/scrapy/issues/3153"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FormRequest.from_response
should preserve duplicate keys (<a
href="https://github.com/scrapy/scrapy/issues/3247"><span style='color:#377063;
text-decoration:none'>issue 3247</span></a><a
href="https://github.com/scrapy/scrapy/issues/3247"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation
improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:99%'><span
style='line-height:99%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Docs
are re-written to suggest .get/.getall API instead of .extract/.extract_first.
Also, <i><span style='color:#355F7C'>Selectors </span></i>docs are updated and
re-structured to match latest parsel docs; they now contain more topics, such
as <i><span style='color:#355F7C'>Selecting element attributes </span></i>or <i><span
style='color:#355F7C'>Extensions to CSS Selectors </span></i><a
href="https://github.com/scrapy/scrapy/issues/3390"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/3390"><span style='color:#377063;
text-decoration:none'>issue 3390</span></a><a
href="https://github.com/scrapy/scrapy/issues/3390"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Using your browser’s Developer Tools for scraping </span></i>is
a new tutorial which replaces old Firefox and Firebug tutorials (<a
href="https://github.com/scrapy/scrapy/issues/3400"><span style='color:#377063;
text-decoration:none'>issue 3400</span></a><a
href="https://github.com/scrapy/scrapy/issues/3400"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SCRAPY_PROJECT
environment variable is documented (<a
href="https://github.com/scrapy/scrapy/issues/3518"><span style='color:#377063;
text-decoration:none'>issue 3518</span></a><a
href="https://github.com/scrapy/scrapy/issues/3518"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>troubleshooting
section is added to install instructions (<a
href="https://github.com/scrapy/scrapy/issues/3517"><span style='color:#377063;
text-decoration:none'>issue 3517</span></a><a
href="https://github.com/scrapy/scrapy/issues/3517"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>improved links to
beginner resources in the tutorial (<a
href="https://github.com/scrapy/scrapy/issues/3367"><span style='color:#377063;
text-decoration:none'>issue 3367</span></a><a
href="https://github.com/scrapy/scrapy/issues/3367"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3468"><span style='color:#377063;
text-decoration:none'>issue 3468</span></a><a
href="https://github.com/scrapy/scrapy/issues/3468"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed <i><span
style='color:#355F7C'>RETRY_HTTP_CODES </span></i>default values in docs (<a
href="https://github.com/scrapy/scrapy/issues/3335"><span style='color:#377063;
text-decoration:none'>issue 3335</span></a><a
href="https://github.com/scrapy/scrapy/issues/3335"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove unused DEPTH_STATS
option from docs (<a href="https://github.com/scrapy/scrapy/issues/3245"><span
style='color:#377063;text-decoration:none'>issue 3245</span></a><a
href="https://github.com/scrapy/scrapy/issues/3245"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>other
cleanups (<a href="https://github.com/scrapy/scrapy/issues/3347"><span
style='color:#377063;text-decoration:none'>issue 3347</span></a><a
href="https://github.com/scrapy/scrapy/issues/3347"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3350"><span style='color:#377063;
text-decoration:none'>issue 3350</span></a><a
href="https://github.com/scrapy/scrapy/issues/3350"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3445"><span style='color:#377063;
text-decoration:none'>issue 3445</span></a><a
href="https://github.com/scrapy/scrapy/issues/3445"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3544"><span style='color:#377063;
text-decoration:none'>issue 3544</span></a><a
href="https://github.com/scrapy/scrapy/issues/3544"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3605"><span style='color:#377063;
text-decoration:none'>issue 3605</span></a><a
href="https://github.com/scrapy/scrapy/issues/3605"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecation
removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.85pt;
margin-left:.5pt'>Compatibility shims for pre-1.0 Scrapy module names are
removed (<a href="https://github.com/scrapy/scrapy/issues/3318"><span
style='color:#377063;text-decoration:none'>issue 3318</span></a><a
href="https://github.com/scrapy/scrapy/issues/3318"><span style='color:black;
text-decoration:none'>)</span></a>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.contrib (with
all submodules)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.contrib_exp (with
all submodules)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.dupefilter</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.linkextractor</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.project</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.spidermanager</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.squeue</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.stats</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.statscol</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.decorator</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>See <i><span style='color:#355F7C'>Module Relocations </span></i>for
more information, or use suggestions from Scrapy 1.5.x deprecation warnings to
update your code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Other deprecation removals:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecated
scrapy.interfaces.ISpiderManager is removed; please use
scrapy.interfaces.ISpiderLoader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecated CrawlerSettings
class is removed (<a href="https://github.com/scrapy/scrapy/issues/3327"><span
style='color:#377063;text-decoration:none'>issue 3327</span></a><a
href="https://github.com/scrapy/scrapy/issues/3327"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecated Settings.overrides
and Settings.defaults attributes are removed (<a
href="https://github.com/scrapy/scrapy/issues/3327"><span style='color:#377063;
text-decoration:none'>issue 3327</span></a><a
href="https://github.com/scrapy/scrapy/issues/3327"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3359"><span style='color:#377063;
text-decoration:none'>issue 3359</span></a><a
href="https://github.com/scrapy/scrapy/issues/3359"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
improvements, cleanups</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>All Scrapy tests now
pass on Windows; Scrapy testing suite is executed in a Windows environment on
CI (<a href="https://github.com/scrapy/scrapy/issues/3315"><span
style='color:#377063;text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3315"><span style='color:#377063;
text-decoration:none'>3315</span></a><a
href="https://github.com/scrapy/scrapy/issues/3315"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python
3.7 support (<a href="https://github.com/scrapy/scrapy/issues/3326"><span
style='color:#377063;text-decoration:none'>issue 3326</span></a><a
href="https://github.com/scrapy/scrapy/issues/3326"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3150"><span style='color:#377063;
text-decoration:none'>issue 3150</span></a><a
href="https://github.com/scrapy/scrapy/issues/3150"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3547"><span style='color:#377063;
text-decoration:none'>issue 3547</span></a><a
href="https://github.com/scrapy/scrapy/issues/3547"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Testing
and CI fixes (<a href="https://github.com/scrapy/scrapy/issues/3526"><span
style='color:#377063;text-decoration:none'>issue 3526</span></a><a
href="https://github.com/scrapy/scrapy/issues/3526"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3538"><span style='color:#377063;
text-decoration:none'>issue 3538</span></a><a
href="https://github.com/scrapy/scrapy/issues/3538"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3308"><span style='color:#377063;
text-decoration:none'>issue 3308</span></a><a
href="https://github.com/scrapy/scrapy/issues/3308"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3311"><span style='color:#377063;
text-decoration:none'>issue 3311</span></a><a
href="https://github.com/scrapy/scrapy/issues/3311"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3309"><span style='color:#377063;
text-decoration:none'>issue 3309</span></a><a
href="https://github.com/scrapy/scrapy/issues/3309"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3305"><span style='color:#377063;
text-decoration:none'>issue 3305</span></a><a
href="https://github.com/scrapy/scrapy/issues/3305"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3210"><span style='color:#377063;
text-decoration:none'>issue 3210</span></a><a
href="https://github.com/scrapy/scrapy/issues/3210"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3299"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3299"><span style='color:#377063;
text-decoration:none'>3299</span></a><a
href="https://github.com/scrapy/scrapy/issues/3299"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.http.cookies.CookieJar.clear
accepts “domain”, “path” and “name” optional arguments (<a
href="https://github.com/scrapy/scrapy/issues/3231"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3231"><span style='color:#377063;
text-decoration:none'>3231</span></a><a
href="https://github.com/scrapy/scrapy/issues/3231"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>additional files are
included to sdist (<a href="https://github.com/scrapy/scrapy/issues/3495"><span
style='color:#377063;text-decoration:none'>issue 3495</span></a><a
href="https://github.com/scrapy/scrapy/issues/3495"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>code style fixes (<a
href="https://github.com/scrapy/scrapy/issues/3405"><span style='color:#377063;
text-decoration:none'>issue 3405</span></a><a
href="https://github.com/scrapy/scrapy/issues/3405"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3304"><span style='color:#377063;
text-decoration:none'>issue 3304</span></a><a
href="https://github.com/scrapy/scrapy/issues/3304"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>unneeded .strip()
call is removed (<a href="https://github.com/scrapy/scrapy/issues/3519"><span
style='color:#377063;text-decoration:none'>issue 3519</span></a><a
href="https://github.com/scrapy/scrapy/issues/3519"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>collections.deque is
used to store MiddlewareManager methods instead of a list (<a
href="https://github.com/scrapy/scrapy/issues/3476"><span style='color:#377063;
text-decoration:none'>issue 3476</span></a><a
href="https://github.com/scrapy/scrapy/issues/3476"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.36 Scrapy 1.5.2
(2019-01-22)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i>Security bugfix</i>:
Telnet console extension can be easily exploited by rogue websites POSTing
content to <a href="http://localhost:6023/"><span style='color:#377063;
text-decoration:none'>http: </span></a><a href="http://localhost:6023/"><span
style='color:#377063;text-decoration:none'>//localhost:6023</span></a><a
href="http://localhost:6023/"><span style='color:black;text-decoration:none'>,</span></a>
we haven’t found a way to exploit it from Scrapy, but it is very easy to trick
a browser to do so and elevates the risk for local development environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.55pt;margin-left:25.4pt;text-align:left;line-height:102%'><i>The
fix is backward incompatible</i>, it enables telnet user-password
authentication by default with a random generated password. If you can’t
upgrade right away, please consider setting <i><span style='color:#355F7C'>TELNETCONSOLE_PORT
</span></i>out of its default value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>See <i><span style='color:#355F7C'>telnet console </span></i>documentation
for more info</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Backport CI build
failure under GCE environment due to boto import error.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.37 Scrapy 1.5.1
(2018-07-12)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This is a maintenance release with important bug fixes, but
no new features:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>O(N^2) gzip
decompression issue which affected Python 3 and PyPy is fixed (<a
href="https://github.com/scrapy/scrapy/issues/3281"><span style='color:#377063;
text-decoration:none'>issue 3281</span></a><a
href="https://github.com/scrapy/scrapy/issues/3281"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>skipping of TLS
validation errors is improved (<a
href="https://github.com/scrapy/scrapy/issues/3166"><span style='color:#377063;
text-decoration:none'>issue 3166</span></a><a
href="https://github.com/scrapy/scrapy/issues/3166"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ctrl-C handling is
fixed in Python 3.5+ (<a href="https://github.com/scrapy/scrapy/issues/3096"><span
style='color:#377063;text-decoration:none'>issue 3096</span></a><a
href="https://github.com/scrapy/scrapy/issues/3096"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>testing
fixes (<a href="https://github.com/scrapy/scrapy/issues/3092"><span
style='color:#377063;text-decoration:none'>issue 3092</span></a><a
href="https://github.com/scrapy/scrapy/issues/3092"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3263"><span style='color:#377063;
text-decoration:none'>issue 3263</span></a><a
href="https://github.com/scrapy/scrapy/issues/3263"><span style='color:black;
text-decoration:none'>)</span></a>;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:81.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>documentation
improvements (<a href="https://github.com/scrapy/scrapy/issues/3058"><span
style='color:#377063;text-decoration:none'>issue 3058</span></a><a
href="https://github.com/scrapy/scrapy/issues/3058"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3059"><span style='color:#377063;
text-decoration:none'>issue 3059</span></a><a
href="https://github.com/scrapy/scrapy/issues/3059"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3089"><span style='color:#377063;
text-decoration:none'>issue 3089</span></a><a
href="https://github.com/scrapy/scrapy/issues/3089"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3123"><span style='color:#377063;
text-decoration:none'>issue 3123</span></a><a
href="https://github.com/scrapy/scrapy/issues/3123"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3127"><span style='color:#377063;
text-decoration:none'>issue 3127</span></a><a
href="https://github.com/scrapy/scrapy/issues/3127"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3189"><span style='color:#377063;
text-decoration:none'>issue 3189</span></a><a
href="https://github.com/scrapy/scrapy/issues/3189"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3224"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/3224"><span style='color:#377063;
text-decoration:none'>3224</span></a><a
href="https://github.com/scrapy/scrapy/issues/3224"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3280"><span style='color:#377063;
text-decoration:none'>issue 3280</span></a><a
href="https://github.com/scrapy/scrapy/issues/3280"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3279"><span style='color:#377063;
text-decoration:none'>issue 3279</span></a><a
href="https://github.com/scrapy/scrapy/issues/3279"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3201"><span style='color:#377063;
text-decoration:none'>issue 3201</span></a><a
href="https://github.com/scrapy/scrapy/issues/3201"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3260"><span style='color:#377063;
text-decoration:none'>issue 3260</span></a><a
href="https://github.com/scrapy/scrapy/issues/3260"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3284"><span style='color:#377063;
text-decoration:none'>issue 3284</span></a><a
href="https://github.com/scrapy/scrapy/issues/3284"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3298"><span style='color:#377063;
text-decoration:none'>issue 3298</span></a><a
href="https://github.com/scrapy/scrapy/issues/3298"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3294"><span style='color:#377063;
text-decoration:none'>issue 3294</span></a><a
href="https://github.com/scrapy/scrapy/issues/3294"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.38 Scrapy 1.5.0
(2017-12-29)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This release brings small new features and improvements
across the codebase. Some highlights:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Google Cloud Storage
is supported in FilesPipeline and ImagesPipeline.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Crawling with proxy
servers becomes more efficient, as connections to proxies can be reused now.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Warnings, exception
and logging messages are improved to make debugging easier.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy parse command
now allows to set custom request meta via --meta argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compatibility with
Python 3.6, PyPy and PyPy3 is improved; PyPy and PyPy3 are now supported
officially, by running tests on CI.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Better default
handling of HTTP 308, 522 and 524 status codes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation is
improved, as usual.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward
Incompatible Changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy 1.5 drops
support for Python 3.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Default Scrapy
User-Agent now uses https link to scrapy.org (<a
href="https://github.com/scrapy/scrapy/issues/2983"><span style='color:#377063;
text-decoration:none'>issue 2983</span></a><a
href="https://github.com/scrapy/scrapy/issues/2983"><span style='color:black;
text-decoration:none'>)</span></a>. <b>This is technically backwardincompatible</b>;
override <i><span style='color:#355F7C'>USER_AGENT </span></i>if you relied on
old value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Logging of settings
overridden by custom_settings is fixed; <b>this is technically
backward-incompatible </b>because the logger changes from [scrapy.utils.log] to
[scrapy.crawler]. If you’re parsing Scrapy logs, please update your log parsers
(<a href="https://github.com/scrapy/scrapy/issues/1343"><span style='color:
#377063;text-decoration:none'>issue 1343</span></a><a
href="https://github.com/scrapy/scrapy/issues/1343"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LinkExtractor now
ignores m4v extension by default, this is change in behavior.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>522 and 524 status
codes are added to RETRY_HTTP_CODES <a
href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:#377063;
text-decoration:none'>issue 2851</span></a><a
href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.85pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support
&lt;link&gt; tags in Response.follow <a
href="https://github.com/scrapy/scrapy/issues/2785"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2785"><span style='color:#377063;
text-decoration:none'>issue 2785</span></a><a
href="https://github.com/scrapy/scrapy/issues/2785"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for ptpython REPL
(<a href="https://github.com/scrapy/scrapy/issues/2654"><span style='color:
#377063;text-decoration:none'>issue 2654</span></a><a
href="https://github.com/scrapy/scrapy/issues/2654"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Google Cloud Storage
support for FilesPipeline and ImagesPipeline (<a
href="https://github.com/scrapy/scrapy/issues/2923"><span style='color:#377063;
text-decoration:none'>issue 2923</span></a><a
href="https://github.com/scrapy/scrapy/issues/2923"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --<sub><span
style='font-size:15.5pt;line-height:103%'>meta </span></sub>option of the
“scrapy parse” command allows to pass additional request.meta (<a
href="https://github.com/scrapy/scrapy/issues/2883"><span style='color:#377063;
text-decoration:none'>issue 2883</span></a><a
href="https://github.com/scrapy/scrapy/issues/2883"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Populate spider
variable when using shell.inspect_response <a
href="https://github.com/scrapy/scrapy/issues/2812"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2812"><span style='color:#377063;
text-decoration:none'>issue 2812</span></a><a
href="https://github.com/scrapy/scrapy/issues/2812"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Handle HTTP 308
Permanent Redirect (<a href="https://github.com/scrapy/scrapy/issues/2844"><span
style='color:#377063;text-decoration:none'>issue 2844</span></a><a
href="https://github.com/scrapy/scrapy/issues/2844"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add 522 and 524 to RETRY_HTTP_CODES
<a href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:#377063;
text-decoration:none'>issue 2851</span></a><a
href="https://github.com/scrapy/scrapy/issues/2851"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Log versions
information at startup (<a href="https://github.com/scrapy/scrapy/issues/2857"><span
style='color:#377063;text-decoration:none'>issue 2857</span></a><a
href="https://github.com/scrapy/scrapy/issues/2857"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.mail.MailSender
now works in Python 3 (it requires Twisted 17.9.0)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Connections to proxy
servers are reused (<a href="https://github.com/scrapy/scrapy/issues/2743"><span
style='color:#377063;text-decoration:none'>issue 2743</span></a><a
href="https://github.com/scrapy/scrapy/issues/2743"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add template for a
downloader middleware (<a href="https://github.com/scrapy/scrapy/issues/2755"><span
style='color:#377063;text-decoration:none'>issue 2755</span></a><a
href="https://github.com/scrapy/scrapy/issues/2755"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Explicit message for
NotImplementedError when parse callback not defined (<a
href="https://github.com/scrapy/scrapy/issues/2831"><span style='color:#377063;
text-decoration:none'>issue 2831</span></a><a
href="https://github.com/scrapy/scrapy/issues/2831"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CrawlerProcess got an
option to disable installation of root log handler (<a
href="https://github.com/scrapy/scrapy/issues/2921"><span style='color:#377063;
text-decoration:none'>issue 2921</span></a><a
href="https://github.com/scrapy/scrapy/issues/2921"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LinkExtractor now
ignores m4v extension by default</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Better log messages
for responses over <i><span style='color:#355F7C'>DOWNLOAD_WARNSIZE </span></i>and
<i><span style='color:#355F7C'>DOWNLOAD_MAXSIZE </span></i>limits (<a
href="https://github.com/scrapy/scrapy/issues/2927"><span style='color:#377063;
text-decoration:none'>issue 2927</span></a><a
href="https://github.com/scrapy/scrapy/issues/2927"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Show warning when a
URL is put to Spider.allowed_domains instead of a domain (<a
href="https://github.com/scrapy/scrapy/issues/2250"><span style='color:#377063;
text-decoration:none'>issue 2250</span></a><a
href="https://github.com/scrapy/scrapy/issues/2250"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:16.45pt;text-indent:-16.45pt;line-height:145%'><b><span
style='color:#20435C'>Bug fixes </span></b>• Fix logging of settings overridden
by custom_settings; <b>this is technically backward-incompatible </b>because
the logger changes from [scrapy.utils.log] to [scrapy.crawler], so please
update your log parsers if needed (<a
href="https://github.com/scrapy/scrapy/issues/1343"><span style='color:#377063;
text-decoration:none'>issue 1343</span></a><a
href="https://github.com/scrapy/scrapy/issues/1343"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Default Scrapy
User-Agent now uses https link to scrapy.org (<a
href="https://github.com/scrapy/scrapy/issues/2983"><span style='color:#377063;
text-decoration:none'>issue 2983</span></a><a
href="https://github.com/scrapy/scrapy/issues/2983"><span style='color:black;
text-decoration:none'>)</span></a>. <b>This is technically backwardincompatible</b>;
override <i><span style='color:#355F7C'>USER_AGENT </span></i>if you relied on
old value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix PyPy and PyPy3
test failures, support them officially (<a
href="https://github.com/scrapy/scrapy/issues/2793"><span style='color:#377063;
text-decoration:none'>issue 2793</span></a><a
href="https://github.com/scrapy/scrapy/issues/2793"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2935"><span style='color:#377063;
text-decoration:none'>issue 2935</span></a><a
href="https://github.com/scrapy/scrapy/issues/2935"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2990"><span style='color:#377063;
text-decoration:none'>issue 2990</span></a><a
href="https://github.com/scrapy/scrapy/issues/2990"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3050"><span style='color:#377063;
text-decoration:none'>issue 3050</span></a><a
href="https://github.com/scrapy/scrapy/issues/3050"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2213"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/2213"><span style='color:#377063;
text-decoration:none'>2213</span></a><a
href="https://github.com/scrapy/scrapy/issues/2213"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/3048"><span style='color:#377063;
text-decoration:none'>issue 3048</span></a><a
href="https://github.com/scrapy/scrapy/issues/3048"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix DNS resolver when
DNSCACHE_ENABLED=False <a href="https://github.com/scrapy/scrapy/issues/2811"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2811"><span style='color:#377063;
text-decoration:none'>issue 2811</span></a><a
href="https://github.com/scrapy/scrapy/issues/2811"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add cryptography for
Debian Jessie tox test env (<a
href="https://github.com/scrapy/scrapy/issues/2848"><span style='color:#377063;
text-decoration:none'>issue 2848</span></a><a
href="https://github.com/scrapy/scrapy/issues/2848"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add verification to
check if Request callback is callable (<a
href="https://github.com/scrapy/scrapy/issues/2766"><span style='color:#377063;
text-decoration:none'>issue 2766</span></a><a
href="https://github.com/scrapy/scrapy/issues/2766"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Port extras/qpsclient.py
to Python 3 (<a href="https://github.com/scrapy/scrapy/issues/2849"><span
style='color:#377063;text-decoration:none'>issue 2849</span></a><a
href="https://github.com/scrapy/scrapy/issues/2849"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use getfullargspec
under the scenes for Python 3 to stop DeprecationWarning (<a
href="https://github.com/scrapy/scrapy/issues/2862"><span style='color:#377063;
text-decoration:none'>issue 2862</span></a><a
href="https://github.com/scrapy/scrapy/issues/2862"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update deprecated
test aliases (<a href="https://github.com/scrapy/scrapy/issues/2876"><span
style='color:#377063;text-decoration:none'>issue 2876</span></a><a
href="https://github.com/scrapy/scrapy/issues/2876"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix SitemapSpider support
for alternate links (<a href="https://github.com/scrapy/scrapy/issues/2853"><span
style='color:#377063;text-decoration:none'>issue 2853</span></a><a
href="https://github.com/scrapy/scrapy/issues/2853"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Docs</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added missing bullet
point for the AUTOTHROTTLE_TARGET_CONCURRENCY setting. (<a
href="https://github.com/scrapy/scrapy/issues/2756"><span style='color:#377063;
text-decoration:none'>issue 2756</span></a><a
href="https://github.com/scrapy/scrapy/issues/2756"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update Contributing
docs, document new support channels (<a
href="https://github.com/scrapy/scrapy/issues/2762"><span style='color:#377063;
text-decoration:none'>issue 2762</span></a><a
href="https://github.com/scrapy/scrapy/issues/2762"><span style='color:black;
text-decoration:none'>,</span></a> issue:<i>3038</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Include references to
Scrapy subreddit in the docs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix broken links; use
https:// for external links (<a
href="https://github.com/scrapy/scrapy/issues/2978"><span style='color:#377063;
text-decoration:none'>issue 2978</span></a><a
href="https://github.com/scrapy/scrapy/issues/2978"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2982"><span style='color:#377063;
text-decoration:none'>issue 2982</span></a><a
href="https://github.com/scrapy/scrapy/issues/2982"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2958"><span style='color:#377063;
text-decoration:none'>issue 2958</span></a><a
href="https://github.com/scrapy/scrapy/issues/2958"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document CloseSpider
extension better (<a href="https://github.com/scrapy/scrapy/issues/2759"><span
style='color:#377063;text-decoration:none'>issue 2759</span></a><a
href="https://github.com/scrapy/scrapy/issues/2759"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use
pymongo.collection.Collection.insert_one() in MongoDB example (<a
href="https://github.com/scrapy/scrapy/issues/2781"><span style='color:#377063;
text-decoration:none'>issue 2781</span></a><a
href="https://github.com/scrapy/scrapy/issues/2781"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spelling
mistake and typos (<a href="https://github.com/scrapy/scrapy/issues/2828"><span
style='color:#377063;text-decoration:none'>issue 2828</span></a><a
href="https://github.com/scrapy/scrapy/issues/2828"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2837"><span style='color:#377063;
text-decoration:none'>issue 2837</span></a><a
href="https://github.com/scrapy/scrapy/issues/2837"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2884"><span style='color:#377063;
text-decoration:none'>issue 2884</span></a><a
href="https://github.com/scrapy/scrapy/issues/2884"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2924"><span style='color:#377063;
text-decoration:none'>issue 2924</span></a><a
href="https://github.com/scrapy/scrapy/issues/2924"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarify CSVFeedSpider.headers
documentation (<a href="https://github.com/scrapy/scrapy/issues/2826"><span
style='color:#377063;text-decoration:none'>issue 2826</span></a><a
href="https://github.com/scrapy/scrapy/issues/2826"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document DontCloseSpider
exception and clarify spider_idle <a
href="https://github.com/scrapy/scrapy/issues/2791"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2791"><span style='color:#377063;
text-decoration:none'>issue 2791</span></a><a
href="https://github.com/scrapy/scrapy/issues/2791"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update “Releases”
section in README (<a href="https://github.com/scrapy/scrapy/issues/2764"><span
style='color:#377063;text-decoration:none'>issue 2764</span></a><a
href="https://github.com/scrapy/scrapy/issues/2764"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix rst syntax in DOWNLOAD_FAIL_ON_DATALOSS
docs (<a href="https://github.com/scrapy/scrapy/issues/2763"><span
style='color:#377063;text-decoration:none'>issue 2763</span></a><a
href="https://github.com/scrapy/scrapy/issues/2763"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Small fix in
description of startproject arguments (<a
href="https://github.com/scrapy/scrapy/issues/2866"><span style='color:#377063;
text-decoration:none'>issue 2866</span></a><a
href="https://github.com/scrapy/scrapy/issues/2866"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarify data types in
Response.body docs (<a href="https://github.com/scrapy/scrapy/issues/2922"><span
style='color:#377063;text-decoration:none'>issue 2922</span></a><a
href="https://github.com/scrapy/scrapy/issues/2922"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a note about request.meta['depth']
to DepthMiddleware docs (<a href="https://github.com/scrapy/scrapy/issues/2374"><span
style='color:#377063;text-decoration:none'>issue 2374</span></a><a
href="https://github.com/scrapy/scrapy/issues/2374"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a note about request.meta['dont_merge_cookies']
to CookiesMiddleware docs (<a
href="https://github.com/scrapy/scrapy/issues/2999"><span style='color:#377063;
text-decoration:none'>issue 2999</span></a><a
href="https://github.com/scrapy/scrapy/issues/2999"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Up-to-date example of
project structure (<a href="https://github.com/scrapy/scrapy/issues/2964"><span
style='color:#377063;text-decoration:none'>issue 2964</span></a><a
href="https://github.com/scrapy/scrapy/issues/2964"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2976"><span style='color:#377063;
text-decoration:none'>issue 2976</span></a><a
href="https://github.com/scrapy/scrapy/issues/2976"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A better example of
ItemExporters usage (<a href="https://github.com/scrapy/scrapy/issues/2989"><span
style='color:#377063;text-decoration:none'>issue 2989</span></a><a
href="https://github.com/scrapy/scrapy/issues/2989"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:28.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document from_crawler
methods for spider and downloader middlewares (<a
href="https://github.com/scrapy/scrapy/issues/3019"><span style='color:#377063;
text-decoration:none'>issue 3019</span></a><a
href="https://github.com/scrapy/scrapy/issues/3019"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.39 Scrapy 1.4.0
(2017-05-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy 1.4 does not bring that many breathtaking new features
but quite a few handy improvements nonetheless.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Scrapy now supports anonymous FTP sessions with customizable
user and password via the new <i><span style='color:#355F7C'>FTP_USER </span></i>and
<i><span style='color:#355F7C'>FTP_PASSWORD </span></i>settings. And if you’re
using Twisted version 17.1.0 or above, FTP is now available with Python</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:.5pt'>3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There’s a new <i><span style='color:#355F7C'>response.follow </span></i>method
for creating requests; <b>it is now a recommended way to create Requests in
Scrapy spiders</b>. This method makes it easier to write correct spiders; response.follow
has several advantages over creating scrapy.Request objects directly:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>it handles relative
URLs;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>it works properly
with non-ascii URLs on non-UTF8 pages;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>in addition to
absolute and relative URLs it supports Selectors; for &lt;<sub><span
style='font-size:15.5pt;line-height:103%'>a&gt; </span></sub>elements it can
also extract their href values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.4pt;
margin-left:.5pt'>For example, instead of this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'><span
style='color:#007021'>for </span>href <span style='color:#007021'>in </span>response<span
style='color:#666666'>.</span>css(<span style='color:#4070A1'>'li.page
a::attr(href)'</span>)<span style='color:#666666'>.</span>extract():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.4pt;text-align:left;line-height:112%'>url <span
style='color:#666666'>= </span>response<span style='color:#666666'>.</span>urljoin(href)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:90.5pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:20.9pt;
line-height:210%'><span style='position:relative;z-index:-1895740416'><span
style='left:0px;position:absolute;left:-5px;top:-274698px;width:633px;
height:1px'><img width=633 height=1
src="Scrapy%20Documentation_files/image165.gif"></span></span><span
style='color:#007021'>yield </span>scrapy<span style='color:#666666'>.</span>Request(url,
<span style='color:#007021'>self</span><span style='color:#666666'>.</span>parse,
encoding<span style='color:#666666'>=</span>response<span style='color:#666666'>.</span>encoding)
One can now write this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image520.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.35pt;
margin-left:.5pt'>Link extractors are also improved. They work similarly to
what a regular modern browser would do: leading and trailing whitespace are
removed from attributes (think href=&quot; http://example.com&quot;) when
building Link objects. This whitespace-stripping also happens for action attributes
with FormRequest.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Please also note that link extractors do not canonicalize
URLs by default anymore. </b>This was puzzling users every now and then, and
it’s not what browsers do in fact, so we removed that extra transformation on
extracted links.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For those of you wanting more control on the Referer: header
that Scrapy sends when following links, you can set your own Referrer Policy.
Prior to Scrapy 1.4, the default RefererMiddleware would simply and blindly set
it to the URL of the response that generated the HTTP request (which could leak
information on your URL seeds). By default, Scrapy now behaves much like your
regular browser does. And this policy is fully customizable with W3C standard
values (or with something really custom of your own if you wish). See <i><span
style='color:#355F7C'>REFERRER_POLICY </span></i>for details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To make Scrapy spiders easier to debug, Scrapy logs more
stats by default in 1.4: memory usage stats, detailed retry stats, detailed
HTTP error code stats. A similar change is that HTTP cache path is also visible
in logs now. Last but not least, Scrapy now has the option to make JSON and XML
items more human-readable, with newlines between items and even custom
indenting offset, using the new <i><span style='color:#355F7C'>FEED_EXPORT_INDENT
</span></i>setting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Enjoy! (Or read on for the rest of changes in this release.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations
and Backward Incompatible Changes</span></b></p>

<h2 style='margin-left:24.9pt;text-indent:-8.45pt'><span style='font-weight:
normal'>• Default to canonicalize=False in </span><i><span style='color:#355F7C;
font-weight:normal'>scrapy.linkextractors.LinkExtractor </span></i><a
href="https://github.com/scrapy/scrapy/issues/2537"><span style='color:black;
font-weight:normal;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2537"><span style='color:#377063;
font-weight:normal;text-decoration:none'>issue 2537</span></a><a
href="https://github.com/scrapy/scrapy/issues/2537"><span style='color:black;
font-weight:normal;text-decoration:none'>,</span></a><span style='font-weight:
normal'> fixes </span><a href="https://github.com/scrapy/scrapy/issues/1941"><span
style='color:#377063;font-weight:normal;text-decoration:none'>issue 1941 </span></a><span
style='font-weight:normal'>and </span><a
href="https://github.com/scrapy/scrapy/issues/1982"><span style='color:#377063;
font-weight:normal;text-decoration:none'>issue 1982</span></a><a
href="https://github.com/scrapy/scrapy/issues/1982"><span style='color:black;
font-weight:normal;text-decoration:none'>)</span></a><span style='font-weight:
normal'>: </span>warning, this is technically backward-incompatible</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enable memusage
extension by default (<a href="https://github.com/scrapy/scrapy/issues/2539"><span
style='color:#377063;text-decoration:none'>issue 2539</span></a><a
href="https://github.com/scrapy/scrapy/issues/2539"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2187"><span style='color:#377063;
text-decoration:none'>issue 2187</span></a><a
href="https://github.com/scrapy/scrapy/issues/2187"><span style='color:black;
text-decoration:none'>)</span></a>; <b>this is technically backwardincompatible
</b>so please check if you have any non-default MEMUSAGE_*** options set.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>EDITOR environment
variable now takes precedence over EDITOR option defined in settings.py (<a
href="https://github.com/scrapy/scrapy/issues/1829"><span style='color:#377063;
text-decoration:none'>issue 1829</span></a><a
href="https://github.com/scrapy/scrapy/issues/1829"><span style='color:black;
text-decoration:none'>)</span></a>; Scrapy default settings no longer depend on
environment variables. <b>This is technically a backward incompatible change</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider.make_requests_from_url
is deprecated (<a href="https://github.com/scrapy/scrapy/issues/1728"><span
style='color:#377063;text-decoration:none'>issue 1728</span></a><a
href="https://github.com/scrapy/scrapy/issues/1728"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1495"><span style='color:#377063;
text-decoration:none'>issue 1495</span></a><a
href="https://github.com/scrapy/scrapy/issues/1495"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
Features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Accept proxy
credentials in <i><span style='color:#355F7C'>proxy </span></i>request meta key
(<a href="https://github.com/scrapy/scrapy/issues/2526"><span style='color:
#377063;text-decoration:none'>issue 2526</span></a><a
href="https://github.com/scrapy/scrapy/issues/2526"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support <a
href="https://www.ietf.org/rfc/rfc7932.txt"><span style='color:#377063;
text-decoration:none'>brotli-compressed</span></a><span style='color:#377063'> </span>content;
requires optional <a href="https://github.com/python-hyper/brotlipy/"><span
style='color:#377063;text-decoration:none'>brotlipy</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/2535"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2535"><span style='color:#377063;
text-decoration:none'>issue 2535</span></a><a
href="https://github.com/scrapy/scrapy/issues/2535"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>response.follow </span></i>shortcut for creating requests
(<a href="https://github.com/scrapy/scrapy/issues/1940"><span style='color:
#377063;text-decoration:none'>issue 1940</span></a><a
href="https://github.com/scrapy/scrapy/issues/1940"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added flags argument
and attribute to <i><span style='color:#355F7C'>Request </span></i>objects (<a
href="https://github.com/scrapy/scrapy/issues/2047"><span style='color:#377063;
text-decoration:none'>issue 2047</span></a><a
href="https://github.com/scrapy/scrapy/issues/2047"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support Anonymous FTP
(<a href="https://github.com/scrapy/scrapy/issues/2342"><span style='color:
#377063;text-decoration:none'>issue 2342</span></a><a
href="https://github.com/scrapy/scrapy/issues/2342"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
retry/count,    retry/max_reached and retry/reason_count/&lt;reason&gt; stats      to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:25.4pt;line-height:108%'><i><span style='color:#355F7C'>RetryMiddleware
</span></i><a href="https://github.com/scrapy/scrapy/issues/2543"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2543"><span style='color:#377063;
text-decoration:none'>issue 2543</span></a><a
href="https://github.com/scrapy/scrapy/issues/2543"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
httperror/response_ignored_count and httperror/response_ignored_status_count/
&lt;status&gt; stats to <i><span style='color:#355F7C'>HttpErrorMiddleware </span></i><a
href="https://github.com/scrapy/scrapy/issues/2566"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2566"><span style='color:#377063;
text-decoration:none'>issue 2566</span></a><a
href="https://github.com/scrapy/scrapy/issues/2566"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Customizable
<i><span style='color:#355F7C'>Referrer policy </span></i>in <i><span
style='color:#355F7C'>RefererMiddleware </span></i><a
href="https://github.com/scrapy/scrapy/issues/2306"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2306"><span style='color:#377063;
text-decoration:none'>issue 2306</span></a><a
href="https://github.com/scrapy/scrapy/issues/2306"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New data: URI
download handler (<a href="https://github.com/scrapy/scrapy/issues/2334"><span
style='color:#377063;text-decoration:none'>issue 2334</span></a><a
href="https://github.com/scrapy/scrapy/issues/2334"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2156"><span style='color:#377063;
text-decoration:none'>issue 2156</span></a><a
href="https://github.com/scrapy/scrapy/issues/2156"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Log cache directory
when HTTP Cache is used (<a href="https://github.com/scrapy/scrapy/issues/2611"><span
style='color:#377063;text-decoration:none'>issue 2611</span></a><a
href="https://github.com/scrapy/scrapy/issues/2611"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2604"><span style='color:#377063;
text-decoration:none'>issue 2604</span></a><a
href="https://github.com/scrapy/scrapy/issues/2604"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Warn users when
project contains duplicate spider names (fixes <a
href="https://github.com/scrapy/scrapy/issues/2181"><span style='color:#377063;
text-decoration:none'>issue 2181</span></a><a
href="https://github.com/scrapy/scrapy/issues/2181"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.datatypes.CaselessDict
now accepts Mapping instances and not only dicts (<a
href="https://github.com/scrapy/scrapy/issues/2646"><span style='color:#377063;
text-decoration:none'>issue 2646</span></a><a
href="https://github.com/scrapy/scrapy/issues/2646"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Media downloads</span></i>, with <i><span
style='color:#355F7C'>FilesPipeline </span></i>or <i><span style='color:#355F7C'>ImagesPipeline</span></i>,
can now optionally handle HTTP redirects using the new <i><span
style='color:#355F7C'>MEDIA_ALLOW_REDIRECTS </span></i>setting (<a
href="https://github.com/scrapy/scrapy/issues/2616"><span style='color:#377063;
text-decoration:none'>issue 2616</span></a><a
href="https://github.com/scrapy/scrapy/issues/2616"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2004"><span style='color:#377063;
text-decoration:none'>issue 2004</span></a><a
href="https://github.com/scrapy/scrapy/issues/2004"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Accept non-complete
responses from websites using a new <i><span style='color:#355F7C'>DOWNLOAD_FAIL_ON_DATALOSS
</span></i>setting (<a href="https://github.com/scrapy/scrapy/issues/2590"><span
style='color:#377063;text-decoration:none'>issue 2590</span></a><a
href="https://github.com/scrapy/scrapy/issues/2590"><span style='color:black;
text-decoration:none'>, </span></a>fixes <a
href="https://github.com/scrapy/scrapy/issues/2586"><span style='color:#377063;
text-decoration:none'>issue 2586</span></a><a
href="https://github.com/scrapy/scrapy/issues/2586"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Optional
pretty-printing of JSON and XML items via <i><span style='color:#355F7C'>FEED_EXPORT_INDENT
</span></i>setting (<a href="https://github.com/scrapy/scrapy/issues/2456"><span
style='color:#377063;text-decoration:none'>issue 2456</span></a><a
href="https://github.com/scrapy/scrapy/issues/2456"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1327"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1327"><span style='color:#377063;
text-decoration:none'>1327</span></a><a
href="https://github.com/scrapy/scrapy/issues/1327"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow dropping fields
in FormRequest.from_response formdata when None value is passed (<a
href="https://github.com/scrapy/scrapy/issues/667"><span style='color:#377063;
text-decoration:none'>issue 667</span></a><a
href="https://github.com/scrapy/scrapy/issues/667"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Per-request retry
times with the new <i><span style='color:#355F7C'>max_retry_times </span></i>meta
key (<a href="https://github.com/scrapy/scrapy/issues/2642"><span
style='color:#377063;text-decoration:none'>issue 2642</span></a><a
href="https://github.com/scrapy/scrapy/issues/2642"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:108.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>python -m scrapy as a
more explicit alternative to scrapy command (<a
href="https://github.com/scrapy/scrapy/issues/2740"><span style='color:#377063;
text-decoration:none'>issue 2740</span></a><a
href="https://github.com/scrapy/scrapy/issues/2740"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LinkExtractor now
strips leading and trailing whitespaces from attributes (<a
href="https://github.com/scrapy/scrapy/issues/2547"><span style='color:#377063;
text-decoration:none'>issue 2547</span></a><a
href="https://github.com/scrapy/scrapy/issues/2547"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1614"><span style='color:#377063;
text-decoration:none'>issue 1614</span></a><a
href="https://github.com/scrapy/scrapy/issues/1614"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Properly handle
whitespaces in action attribute in FormRequest <a
href="https://github.com/scrapy/scrapy/issues/2548"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2548"><span style='color:#377063;
text-decoration:none'>issue 2548</span></a><a
href="https://github.com/scrapy/scrapy/issues/2548"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Buffer CONNECT
response bytes from proxy until all HTTP headers are received (<a
href="https://github.com/scrapy/scrapy/issues/2495"><span style='color:#377063;
text-decoration:none'>issue 2495</span></a><a
href="https://github.com/scrapy/scrapy/issues/2495"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2491"><span style='color:#377063;
text-decoration:none'>issue 2491</span></a><a
href="https://github.com/scrapy/scrapy/issues/2491"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FTP downloader now
works on Python 3, provided you use Twisted&gt;=17.1 (<a
href="https://github.com/scrapy/scrapy/issues/2599"><span style='color:#377063;
text-decoration:none'>issue 2599</span></a><a
href="https://github.com/scrapy/scrapy/issues/2599"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use body to choose
response type after decompressing content (<a
href="https://github.com/scrapy/scrapy/issues/2393"><span style='color:#377063;
text-decoration:none'>issue 2393</span></a><a
href="https://github.com/scrapy/scrapy/issues/2393"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2145"><span style='color:#377063;
text-decoration:none'>issue 2145</span></a><a
href="https://github.com/scrapy/scrapy/issues/2145"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Always decompress Content-Encoding:
gzip at <i><span style='color:#355F7C'>HttpCompressionMiddleware </span></i>stage
(<a href="https://github.com/scrapy/scrapy/issues/2391"><span style='color:
#377063;text-decoration:none'>issue 2391</span></a><a
href="https://github.com/scrapy/scrapy/issues/2391"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Respect custom log
level in Spider.custom_settings <a
href="https://github.com/scrapy/scrapy/issues/2581"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2581"><span style='color:#377063;
text-decoration:none'>issue 2581</span></a><a
href="https://github.com/scrapy/scrapy/issues/2581"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1612"><span style='color:#377063;
text-decoration:none'>issue 1612</span></a><a
href="https://github.com/scrapy/scrapy/issues/1612"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>‘make htmlview’ fix
for macOS (<a href="https://github.com/scrapy/scrapy/issues/2661"><span
style='color:#377063;text-decoration:none'>issue 2661</span></a><a
href="https://github.com/scrapy/scrapy/issues/2661"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove “commands”
from the command list (<a href="https://github.com/scrapy/scrapy/issues/2695"><span
style='color:#377063;text-decoration:none'>issue 2695</span></a><a
href="https://github.com/scrapy/scrapy/issues/2695"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix duplicate
Content-Length header for POST requests with empty body (<a
href="https://github.com/scrapy/scrapy/issues/2677"><span style='color:#377063;
text-decoration:none'>issue 2677</span></a><a
href="https://github.com/scrapy/scrapy/issues/2677"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Properly cancel large
downloads, i.e. above <i><span style='color:#355F7C'>DOWNLOAD_MAXSIZE </span></i><a
href="https://github.com/scrapy/scrapy/issues/1616"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1616"><span style='color:#377063;
text-decoration:none'>issue 1616</span></a><a
href="https://github.com/scrapy/scrapy/issues/1616"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImagesPipeline: fixed
processing of transparent PNG images with palette (<a
href="https://github.com/scrapy/scrapy/issues/2675"><span style='color:#377063;
text-decoration:none'>issue 2675</span></a><a
href="https://github.com/scrapy/scrapy/issues/2675"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Cleanups
&amp; Refactoring</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tests: remove temp
files and folders (<a href="https://github.com/scrapy/scrapy/issues/2570"><span
style='color:#377063;text-decoration:none'>issue 2570</span></a><a
href="https://github.com/scrapy/scrapy/issues/2570"><span style='color:black;
text-decoration:none'>)</span></a>, fixed ProjectUtilsTest on macOS (<a
href="https://github.com/scrapy/scrapy/issues/2569"><span style='color:#377063;
text-decoration:none'>issue 2569</span></a><a
href="https://github.com/scrapy/scrapy/issues/2569"><span style='color:black;
text-decoration:none'>)</span></a>, use portable pypy for Linux on Travis CI (<a
href="https://github.com/scrapy/scrapy/issues/2710"><span style='color:#377063;
text-decoration:none'>issue 2710</span></a><a
href="https://github.com/scrapy/scrapy/issues/2710"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Separate building
request from _requests_to_follow in CrawlSpider (<a
href="https://github.com/scrapy/scrapy/issues/2562"><span style='color:#377063;
text-decoration:none'>issue 2562</span></a><a
href="https://github.com/scrapy/scrapy/issues/2562"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove “Python 3
progress” badge (<a href="https://github.com/scrapy/scrapy/issues/2567"><span
style='color:#377063;text-decoration:none'>issue 2567</span></a><a
href="https://github.com/scrapy/scrapy/issues/2567"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a couple more
lines to .gitignore <a href="https://github.com/scrapy/scrapy/issues/2557"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2557"><span style='color:#377063;
text-decoration:none'>issue 2557</span></a><a
href="https://github.com/scrapy/scrapy/issues/2557"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove bumpversion
prerelease configuration (<a href="https://github.com/scrapy/scrapy/issues/2159"><span
style='color:#377063;text-decoration:none'>issue 2159</span></a><a
href="https://github.com/scrapy/scrapy/issues/2159"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add codecov.yml file
(<a href="https://github.com/scrapy/scrapy/issues/2750"><span style='color:
#377063;text-decoration:none'>issue 2750</span></a><a
href="https://github.com/scrapy/scrapy/issues/2750"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Set context factory
implementation based on Twisted version (<a
href="https://github.com/scrapy/scrapy/issues/2577"><span style='color:#377063;
text-decoration:none'>issue 2577</span></a><a
href="https://github.com/scrapy/scrapy/issues/2577"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2560"><span style='color:#377063;
text-decoration:none'>issue 2560</span></a><a
href="https://github.com/scrapy/scrapy/issues/2560"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add omitted self arguments
in default project middleware template (<a
href="https://github.com/scrapy/scrapy/issues/2595"><span style='color:#377063;
text-decoration:none'>issue 2595</span></a><a
href="https://github.com/scrapy/scrapy/issues/2595"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove redundant slot.add_request()
call in ExecutionEngine (<a href="https://github.com/scrapy/scrapy/issues/2617"><span
style='color:#377063;text-decoration:none'>issue 2617</span></a><a
href="https://github.com/scrapy/scrapy/issues/2617"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Catch
more specific os.error exception in scrapy.pipelines.files.FSFilesStore <a
href="https://github.com/scrapy/scrapy/issues/2644"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2644"><span style='color:#377063;
text-decoration:none'>issue 2644</span></a><a
href="https://github.com/scrapy/scrapy/issues/2644"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Change “localhost”
test server certificate (<a href="https://github.com/scrapy/scrapy/issues/2720"><span
style='color:#377063;text-decoration:none'>issue 2720</span></a><a
href="https://github.com/scrapy/scrapy/issues/2720"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove unused MEMUSAGE_REPORT
setting (<a href="https://github.com/scrapy/scrapy/issues/2576"><span
style='color:#377063;text-decoration:none'>issue 2576</span></a><a
href="https://github.com/scrapy/scrapy/issues/2576"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Binary mode is
required for exporters (<a href="https://github.com/scrapy/scrapy/issues/2564"><span
style='color:#377063;text-decoration:none'>issue 2564</span></a><a
href="https://github.com/scrapy/scrapy/issues/2564"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2553"><span style='color:#377063;
text-decoration:none'>issue 2553</span></a><a
href="https://github.com/scrapy/scrapy/issues/2553"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Mention issue with FormRequest.from_response
due to bug in lxml (<a href="https://github.com/scrapy/scrapy/issues/2572"><span
style='color:#377063;text-decoration:none'>issue 2572</span></a><a
href="https://github.com/scrapy/scrapy/issues/2572"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use single quotes
uniformly in templates (<a href="https://github.com/scrapy/scrapy/issues/2596"><span
style='color:#377063;text-decoration:none'>issue 2596</span></a><a
href="https://github.com/scrapy/scrapy/issues/2596"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document <i><span
style='color:#355F7C'>ftp_user </span></i>and <i><span style='color:#355F7C'>ftp_password
</span></i>meta keys (<a href="https://github.com/scrapy/scrapy/issues/2587"><span
style='color:#377063;text-decoration:none'>issue 2587</span></a><a
href="https://github.com/scrapy/scrapy/issues/2587"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed section on
deprecated contrib/ <a href="https://github.com/scrapy/scrapy/issues/2636"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2636"><span style='color:#377063;
text-decoration:none'>issue 2636</span></a><a
href="https://github.com/scrapy/scrapy/issues/2636"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Recommend Anaconda
when installing Scrapy on Windows (<a
href="https://github.com/scrapy/scrapy/issues/2477"><span style='color:#377063;
text-decoration:none'>issue 2477</span></a><a
href="https://github.com/scrapy/scrapy/issues/2477"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2475"><span style='color:#377063;
text-decoration:none'>issue 2475</span></a><a
href="https://github.com/scrapy/scrapy/issues/2475"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FAQ: rewrite note on
Python 3 support on Windows (<a
href="https://github.com/scrapy/scrapy/issues/2690"><span style='color:#377063;
text-decoration:none'>issue 2690</span></a><a
href="https://github.com/scrapy/scrapy/issues/2690"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Rearrange selector
sections (<a href="https://github.com/scrapy/scrapy/issues/2705"><span
style='color:#377063;text-decoration:none'>issue 2705</span></a><a
href="https://github.com/scrapy/scrapy/issues/2705"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove __nonzero__ from
<i><span style='color:#355F7C'>SelectorList </span></i>docs (<a
href="https://github.com/scrapy/scrapy/issues/2683"><span style='color:#377063;
text-decoration:none'>issue 2683</span></a><a
href="https://github.com/scrapy/scrapy/issues/2683"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Mention how to
disable request filtering in documentation of <i><span style='color:#355F7C'>DUPEFILTER_CLASS
</span></i>setting (<a href="https://github.com/scrapy/scrapy/issues/2714"><span
style='color:#377063;text-decoration:none'>issue 2714</span></a><a
href="https://github.com/scrapy/scrapy/issues/2714"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add sphinx_rtd_theme
to docs setup readme (<a href="https://github.com/scrapy/scrapy/issues/2668"><span
style='color:#377063;text-decoration:none'>issue 2668</span></a><a
href="https://github.com/scrapy/scrapy/issues/2668"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Open file in text
mode in JSON item writer example (<a
href="https://github.com/scrapy/scrapy/issues/2729"><span style='color:#377063;
text-decoration:none'>issue 2729</span></a><a
href="https://github.com/scrapy/scrapy/issues/2729"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarify allowed_domains
example (<a href="https://github.com/scrapy/scrapy/issues/2670"><span
style='color:#377063;text-decoration:none'>issue 2670</span></a><a
href="https://github.com/scrapy/scrapy/issues/2670"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.40 Scrapy 1.3.3
(2017-03-10)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make SpiderLoader raise
ImportError again by default for missing dependencies and wrong <i><span
style='color:#355F7C'>SPIDER_MODULES</span></i>. These exceptions were silenced
as warnings since 1.3.0. A new setting is introduced to toggle between warning
or exception if needed ; see <i><span style='color:#355F7C'>SPIDER_LOADER_WARN_ONLY
</span></i>for details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.41 Scrapy 1.3.2
(2017-02-13)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Preserve request
class when converting to/from dicts (utils.reqser) (<a
href="https://github.com/scrapy/scrapy/issues/2510"><span style='color:#377063;
text-decoration:none'>issue 2510</span></a><a
href="https://github.com/scrapy/scrapy/issues/2510"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use consistent
selectors for author field in tutorial (<a
href="https://github.com/scrapy/scrapy/issues/2551"><span style='color:#377063;
text-decoration:none'>issue 2551</span></a><a
href="https://github.com/scrapy/scrapy/issues/2551"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix TLS compatibility
in Twisted 17+ (<a href="https://github.com/scrapy/scrapy/issues/2558"><span
style='color:#377063;text-decoration:none'>issue 2558</span></a><a
href="https://github.com/scrapy/scrapy/issues/2558"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.42 Scrapy 1.3.1
(2017-02-08)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:130%'><span
style='line-height:130%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support
'<sub><span style='font-size:15.5pt;line-height:130%'>True</span></sub>' and '<sub><span
style='font-size:15.5pt;line-height:130%'>False</span></sub>' string values for
boolean settings (<a href="https://github.com/scrapy/scrapy/issues/2519"><span
style='color:#377063;text-decoration:none'>issue 2519</span></a><a
href="https://github.com/scrapy/scrapy/issues/2519"><span style='color:black;
text-decoration:none'>)</span></a>; you can now do something like scrapy crawl
myspider -s REDIRECT_ENABLED=False.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support kwargs with response.xpath()
to use <i><span style='color:#355F7C'>XPath variables </span></i>and ad-hoc
namespaces declarations ; this requires at least Parsel v1.1 (<a
href="https://github.com/scrapy/scrapy/issues/2457"><span style='color:#377063;
text-decoration:none'>issue 2457</span></a><a
href="https://github.com/scrapy/scrapy/issues/2457"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add support for
Python 3.6 (<a href="https://github.com/scrapy/scrapy/issues/2485"><span
style='color:#377063;text-decoration:none'>issue 2485</span></a><a
href="https://github.com/scrapy/scrapy/issues/2485"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:157.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Run tests on PyPy
(warning: some tests still fail, so PyPy is not supported yet).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enforce DNS_TIMEOUT setting
(<a href="https://github.com/scrapy/scrapy/issues/2496"><span style='color:
#377063;text-decoration:none'>issue 2496</span></a><a
href="https://github.com/scrapy/scrapy/issues/2496"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix <i><span
style='color:#355F7C'>view </span></i>command ; it was a regression in v1.3.0 (<a
href="https://github.com/scrapy/scrapy/issues/2503"><span style='color:#377063;
text-decoration:none'>issue 2503</span></a><a
href="https://github.com/scrapy/scrapy/issues/2503"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix tests regarding *_EXPIRES
settings with Files/Images pipelines (<a
href="https://github.com/scrapy/scrapy/issues/2460"><span style='color:#377063;
text-decoration:none'>issue 2460</span></a><a
href="https://github.com/scrapy/scrapy/issues/2460"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix name of generated
pipeline class when using basic project template (<a
href="https://github.com/scrapy/scrapy/issues/2466"><span style='color:#377063;
text-decoration:none'>issue 2466</span></a><a
href="https://github.com/scrapy/scrapy/issues/2466"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix compatibility
with Twisted 17+ (<a href="https://github.com/scrapy/scrapy/issues/2496"><span
style='color:#377063;text-decoration:none'>issue 2496</span></a><a
href="https://github.com/scrapy/scrapy/issues/2496"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2528"><span style='color:#377063;
text-decoration:none'>issue 2528</span></a><a
href="https://github.com/scrapy/scrapy/issues/2528"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix scrapy.Item inheritance
on Python 3.6 (<a href="https://github.com/scrapy/scrapy/issues/2511"><span
style='color:#377063;text-decoration:none'>issue 2511</span></a><a
href="https://github.com/scrapy/scrapy/issues/2511"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enforce
numeric values for components order in SPIDER_MIDDLEWARES, DOWNLOADER_MIDDLEWARES,
EXTENSIONS and SPIDER_CONTRACTS <a
href="https://github.com/scrapy/scrapy/issues/2420"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2420"><span style='color:#377063;
text-decoration:none'>issue 2420</span></a><a
href="https://github.com/scrapy/scrapy/issues/2420"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reword Code of
Conduct section and upgrade to Contributor Covenant v1.4 (<a
href="https://github.com/scrapy/scrapy/issues/2469"><span style='color:#377063;
text-decoration:none'>issue 2469</span></a><a
href="https://github.com/scrapy/scrapy/issues/2469"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Clarify that passing
spider arguments converts them to spider attributes (<a
href="https://github.com/scrapy/scrapy/issues/2483"><span style='color:#377063;
text-decoration:none'>issue 2483</span></a><a
href="https://github.com/scrapy/scrapy/issues/2483"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document
formid argument on FormRequest.from_response() <a
href="https://github.com/scrapy/scrapy/issues/2497"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2497"><span style='color:#377063;
text-decoration:none'>issue 2497</span></a><a
href="https://github.com/scrapy/scrapy/issues/2497"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add .rst extension to
README files (<a href="https://github.com/scrapy/scrapy/issues/2507"><span
style='color:#377063;text-decoration:none'>issue 2507</span></a><a
href="https://github.com/scrapy/scrapy/issues/2507"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Mention LevelDB cache
storage backend (<a href="https://github.com/scrapy/scrapy/issues/2525"><span
style='color:#377063;text-decoration:none'>issue 2525</span></a><a
href="https://github.com/scrapy/scrapy/issues/2525"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use yield in sample
callback code (<a href="https://github.com/scrapy/scrapy/issues/2533"><span
style='color:#377063;text-decoration:none'>issue 2533</span></a><a
href="https://github.com/scrapy/scrapy/issues/2533"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add note about HTML
entities decoding with .re()/.re_first() <a
href="https://github.com/scrapy/scrapy/issues/1704"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1704"><span style='color:#377063;
text-decoration:none'>issue 1704</span></a><a
href="https://github.com/scrapy/scrapy/issues/1704"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Typos
(<a href="https://github.com/scrapy/scrapy/issues/2512"><span style='color:
#377063;text-decoration:none'>issue 2512</span></a><a
href="https://github.com/scrapy/scrapy/issues/2512"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2534"><span style='color:#377063;
text-decoration:none'>issue 2534</span></a><a
href="https://github.com/scrapy/scrapy/issues/2534"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2531"><span style='color:#377063;
text-decoration:none'>issue 2531</span></a><a
href="https://github.com/scrapy/scrapy/issues/2531"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Cleanups</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove redundant
check in MetaRefreshMiddleware <a
href="https://github.com/scrapy/scrapy/issues/2542"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2542"><span style='color:#377063;
text-decoration:none'>issue 2542</span></a><a
href="https://github.com/scrapy/scrapy/issues/2542"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Faster checks in LinkExtractor
for allow/deny patterns (<a href="https://github.com/scrapy/scrapy/issues/2538"><span
style='color:#377063;text-decoration:none'>issue 2538</span></a><a
href="https://github.com/scrapy/scrapy/issues/2538"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove dead code
supporting old Twisted versions (<a
href="https://github.com/scrapy/scrapy/issues/2544"><span style='color:#377063;
text-decoration:none'>issue 2544</span></a><a
href="https://github.com/scrapy/scrapy/issues/2544"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.43 Scrapy 1.3.0
(2016-12-21)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This release comes rather soon after 1.2.2 for one main
reason: it was found out that releases since 0.18 up to 1.2.2 (included) use
some backported code from Twisted (scrapy.xlib.tx.*), even if newer Twisted
modules are available. Scrapy now uses twisted.web.client and twisted.internet.endpoints
directly. (See also cleanups below.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>As it is a major change, we wanted to get the bug fix out
quickly while not breaking any projects using the 1.2 series.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
Features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MailSender now
accepts single strings as values for to and cc arguments (<a
href="https://github.com/scrapy/scrapy/issues/2272"><span style='color:#377063;
text-decoration:none'>issue 2272</span></a><a
href="https://github.com/scrapy/scrapy/issues/2272"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy fetch url, scrapy
shell url and fetch(url) inside Scrapy shell now follow HTTP redirections by
default (<a href="https://github.com/scrapy/scrapy/issues/2290"><span
style='color:#377063;text-decoration:none'>issue 2290</span></a><a
href="https://github.com/scrapy/scrapy/issues/2290"><span style='color:black;
text-decoration:none'>)</span></a>; See <i><span style='color:#355F7C'>fetch </span></i>and
<i><span style='color:#355F7C'>shell </span></i>for details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HttpErrorMiddleware now
logs errors with INFO level instead of DEBUG; this is technically <b>backward
incompatible </b>so please check your log parsers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>By default, logger
names now use a long-form path, e.g. [scrapy.extensions.logstats], instead of
the shorter “top-level” variant of prior releases (e.g. [scrapy]); this is <b>backward
incompatible </b>if you have log parsers expecting the short logger name part.
You can switch back to short logger names using <i><span style='color:#355F7C'>LOG_SHORT_NAMES
</span></i>set to True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Dependencies
&amp; Cleanups</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy now requires
Twisted &gt;= 13.1 which is the case for many Linux distributions already.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>As a consequence, we
got rid of scrapy.xlib.tx.* modules, which copied some of Twisted code for
users stuck with an “old” Twisted version</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ChunkedTransferMiddleware
is deprecated and removed from the default downloader middlewares.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.44 Scrapy 1.2.3
(2017-03-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Packaging fix:
disallow unsupported Twisted versions in setup.py</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.45 Scrapy 1.2.2
(2016-12-06)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix a cryptic
traceback when a pipeline fails on open_spider() <a
href="https://github.com/scrapy/scrapy/issues/2011"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2011"><span style='color:#377063;
text-decoration:none'>issue 2011</span></a><a
href="https://github.com/scrapy/scrapy/issues/2011"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix embedded IPython
shell variables (fixing <a href="https://github.com/scrapy/scrapy/issues/396"><span
style='color:#377063;text-decoration:none'>issue 396</span></a><span
style='color:#377063'> </span>that re-appeared in 1.2.0, fixed in <a
href="https://github.com/scrapy/scrapy/issues/2418"><span style='color:#377063;
text-decoration:none'>issue 2418</span></a><a
href="https://github.com/scrapy/scrapy/issues/2418"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A couple of patches
when dealing with robots.txt:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>handle
(non-standard) relative sitemap URLs (<a
href="https://github.com/scrapy/scrapy/issues/2390"><span style='color:#377063;
text-decoration:none'>issue 2390</span></a><a
href="https://github.com/scrapy/scrapy/issues/2390"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>handle
non-ASCII URLs and User-Agents in Python 2 (<a
href="https://github.com/scrapy/scrapy/issues/2373"><span style='color:#377063;
text-decoration:none'>issue 2373</span></a><a
href="https://github.com/scrapy/scrapy/issues/2373"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.95pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document
&quot;download_latency&quot; key in Request’s meta dict (<a
href="https://github.com/scrapy/scrapy/issues/2033"><span style='color:#377063;
text-decoration:none'>issue 2033</span></a><a
href="https://github.com/scrapy/scrapy/issues/2033"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove page on
(deprecated &amp; unsupported) Ubuntu packages from ToC (<a
href="https://github.com/scrapy/scrapy/issues/2335"><span style='color:#377063;
text-decoration:none'>issue 2335</span></a><a
href="https://github.com/scrapy/scrapy/issues/2335"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:94.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A
few fixed typos (<a href="https://github.com/scrapy/scrapy/issues/2346"><span
style='color:#377063;text-decoration:none'>issue 2346</span></a><a
href="https://github.com/scrapy/scrapy/issues/2346"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2369"><span style='color:#377063;
text-decoration:none'>issue 2369</span></a><a
href="https://github.com/scrapy/scrapy/issues/2369"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2369"><span style='color:#377063;
text-decoration:none'>issue 2369</span></a><a
href="https://github.com/scrapy/scrapy/issues/2369"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2380"><span style='color:#377063;
text-decoration:none'>issue 2380</span></a><a
href="https://github.com/scrapy/scrapy/issues/2380"><span style='color:black;
text-decoration:none'>)</span></a> and clarifications (<a
href="https://github.com/scrapy/scrapy/issues/2354"><span style='color:#377063;
text-decoration:none'>issue 2354</span></a><a
href="https://github.com/scrapy/scrapy/issues/2354"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2325"><span style='color:#377063;
text-decoration:none'>issue 2325</span></a><a
href="https://github.com/scrapy/scrapy/issues/2325"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/2414"><span style='color:#377063;
text-decoration:none'>issue 2414</span></a><a
href="https://github.com/scrapy/scrapy/issues/2414"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Advertize <a
href="https://anaconda.org/conda-forge/scrapy"><span style='color:#377063;
text-decoration:none'>conda-forge</span></a><span style='color:#377063'> </span>as
Scrapy’s official conda channel (<a
href="https://github.com/scrapy/scrapy/issues/2387"><span style='color:#377063;
text-decoration:none'>issue 2387</span></a><a
href="https://github.com/scrapy/scrapy/issues/2387"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>More helpful error
messages when trying to use .css() or .xpath() on non-Text Responses (<a
href="https://github.com/scrapy/scrapy/issues/2264"><span style='color:#377063;
text-decoration:none'>issue 2264</span></a><a
href="https://github.com/scrapy/scrapy/issues/2264"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>startproject command
now generates a sample middlewares.py file (<a
href="https://github.com/scrapy/scrapy/issues/2335"><span style='color:#377063;
text-decoration:none'>issue 2335</span></a><a
href="https://github.com/scrapy/scrapy/issues/2335"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add more
dependencies’ version info in scrapy version verbose output (<a
href="https://github.com/scrapy/scrapy/issues/2404"><span style='color:#377063;
text-decoration:none'>issue 2404</span></a><a
href="https://github.com/scrapy/scrapy/issues/2404"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove all *.pyc files
from source distribution (<a href="https://github.com/scrapy/scrapy/issues/2386"><span
style='color:#377063;text-decoration:none'>issue 2386</span></a><a
href="https://github.com/scrapy/scrapy/issues/2386"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.46 Scrapy 1.2.1
(2016-10-21)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Include OpenSSL’s
more permissive default ciphers when establishing TLS/SSL connections (<a
href="https://github.com/scrapy/scrapy/issues/2314"><span style='color:#377063;
text-decoration:none'>issue 2314</span></a><a
href="https://github.com/scrapy/scrapy/issues/2314"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix “Location” HTTP
header decoding on non-ASCII URL redirects (<a
href="https://github.com/scrapy/scrapy/issues/2321"><span style='color:#377063;
text-decoration:none'>issue 2321</span></a><a
href="https://github.com/scrapy/scrapy/issues/2321"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix
JsonWriterPipeline example (<a
href="https://github.com/scrapy/scrapy/issues/2302"><span style='color:#377063;
text-decoration:none'>issue 2302</span></a><a
href="https://github.com/scrapy/scrapy/issues/2302"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Various notes: <a
href="https://github.com/scrapy/scrapy/issues/2330"><span style='color:#377063;
text-decoration:none'>issue 2330</span></a><span style='color:#377063'> </span>on
spider names, <a href="https://github.com/scrapy/scrapy/issues/2329"><span
style='color:#377063;text-decoration:none'>issue 2329</span></a><span
style='color:#377063'> </span>on middleware methods processing order, <a
href="https://github.com/scrapy/scrapy/issues/2327"><span style='color:#377063;
text-decoration:none'>issue 2327</span></a><span style='color:#377063'> </span>on
getting multi-valued HTTP headers as lists.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed www. from start_urls
in built-in spider templates (<a
href="https://github.com/scrapy/scrapy/issues/2299"><span style='color:#377063;
text-decoration:none'>issue 2299</span></a><a
href="https://github.com/scrapy/scrapy/issues/2299"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.47 Scrapy 1.2.0
(2016-10-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
Features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>FEED_EXPORT_ENCODING </span></i>setting to customize the
encoding used when writing items to a file. This can be used to turn off \uXXXX
escapes in JSON output. This is also useful for those wanting something else
than UTF-8 for XML or CSV output (<a
href="https://github.com/scrapy/scrapy/issues/2034"><span style='color:#377063;
text-decoration:none'>issue 2034</span></a><a
href="https://github.com/scrapy/scrapy/issues/2034"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>startproject command
now supports an optional destination directory to override the default one
based on the project name (<a
href="https://github.com/scrapy/scrapy/issues/2005"><span style='color:#377063;
text-decoration:none'>issue 2005</span></a><a
href="https://github.com/scrapy/scrapy/issues/2005"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>SCHEDULER_DEBUG </span></i>setting to log requests
serialization failures (<a href="https://github.com/scrapy/scrapy/issues/1610"><span
style='color:#377063;text-decoration:none'>issue 1610</span></a><a
href="https://github.com/scrapy/scrapy/issues/1610"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>JSON encoder now
supports serialization of set instances (<a
href="https://github.com/scrapy/scrapy/issues/2058"><span style='color:#377063;
text-decoration:none'>issue 2058</span></a><a
href="https://github.com/scrapy/scrapy/issues/2058"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Interpret
application/json-amazonui-streaming as TextResponse <a
href="https://github.com/scrapy/scrapy/issues/1503"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1503"><span style='color:#377063;
text-decoration:none'>issue 1503</span></a><a
href="https://github.com/scrapy/scrapy/issues/1503"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy is imported by
default when using shell tools (<i><span style='color:#355F7C'>shell</span></i>,
<i><span style='color:#355F7C'>inspect_response</span></i>) (<a
href="https://github.com/scrapy/scrapy/issues/2248"><span style='color:#377063;
text-decoration:none'>issue 2248</span></a><a
href="https://github.com/scrapy/scrapy/issues/2248"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DefaultRequestHeaders
middleware now runs before UserAgent middleware (<a
href="https://github.com/scrapy/scrapy/issues/2088"><span style='color:#377063;
text-decoration:none'>issue 2088</span></a><a
href="https://github.com/scrapy/scrapy/issues/2088"><span style='color:black;
text-decoration:none'>)</span></a>. <b><sub><span style='font-size:15.5pt;
line-height:103%'>Warning: this is </span></sub>technically backward
incompatible</b>, though we consider this a bug fix.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTP cache extension
and plugins that use the .scrapy data directory now work outside projects (<a
href="https://github.com/scrapy/scrapy/issues/1581"><span style='color:#377063;
text-decoration:none'>issue 1581</span></a><a
href="https://github.com/scrapy/scrapy/issues/1581"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:25.4pt;text-align:left;line-height:108%'><b>Warning:
this is technically backward incompatible</b>, though we consider this a bug
fix.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Selector does not
allow passing both response and text anymore (<a
href="https://github.com/scrapy/scrapy/issues/2153"><span style='color:#377063;
text-decoration:none'>issue 2153</span></a><a
href="https://github.com/scrapy/scrapy/issues/2153"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed logging of
wrong callback name with scrapy parse <a
href="https://github.com/scrapy/scrapy/issues/2169"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2169"><span style='color:#377063;
text-decoration:none'>issue 2169</span></a><a
href="https://github.com/scrapy/scrapy/issues/2169"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix for an odd gzip
decompression bug (<a href="https://github.com/scrapy/scrapy/issues/1606"><span
style='color:#377063;text-decoration:none'>issue 1606</span></a><a
href="https://github.com/scrapy/scrapy/issues/1606"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix for selected
callbacks when using CrawlSpider with <i><span style='color:#355F7C'>scrapy
parse </span></i><a href="https://github.com/scrapy/scrapy/issues/2225"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2225"><span style='color:#377063;
text-decoration:none'>issue 2225</span></a><a
href="https://github.com/scrapy/scrapy/issues/2225"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix for invalid JSON
and XML files when spider yields no items (<a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:#377063;
text-decoration:none'>issue 872</span></a><a
href="https://github.com/scrapy/scrapy/issues/872"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Implement flush() for
StreamLogger avoiding a warning in logs (<a
href="https://github.com/scrapy/scrapy/issues/2125"><span style='color:#377063;
text-decoration:none'>issue 2125</span></a><a
href="https://github.com/scrapy/scrapy/issues/2125"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Refactoring</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>canonicalize_url has
been moved to <a
href="https://w3lib.readthedocs.io/en/latest/w3lib.html#w3lib.url.canonicalize_url"><span
style='color:#377063;text-decoration:none'>w3lib.url</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/2168"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2168"><span style='color:#377063;
text-decoration:none'>issue 2168</span></a><a
href="https://github.com/scrapy/scrapy/issues/2168"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Tests &amp;
Requirements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy’s new requirements baseline is Debian 8 “Jessie”. It
was previously Ubuntu 12.04 Precise. What this means in practice is that we run
continuous integration tests with these (main) packages versions at a minimum:
Twisted 14.0, pyOpenSSL 0.14, lxml 3.4.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>Scrapy may very well work with older versions of these
packages (the code base still has switches for older Twisted versions for
example) but it is not guaranteed (because it’s not tested anymore).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Grammar
fixes: <a href="https://github.com/scrapy/scrapy/issues/2128"><span
style='color:#377063;text-decoration:none'>issue 2128</span></a><a
href="https://github.com/scrapy/scrapy/issues/2128"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1566"><span style='color:#377063;
text-decoration:none'>issue 1566</span></a><a
href="https://github.com/scrapy/scrapy/issues/1566"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Download stats badge
removed from README (<a href="https://github.com/scrapy/scrapy/issues/2160"><span
style='color:#377063;text-decoration:none'>issue 2160</span></a><a
href="https://github.com/scrapy/scrapy/issues/2160"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
Scrapy <i><span style='color:#355F7C'>architecture diagram </span></i><a
href="https://github.com/scrapy/scrapy/issues/2165"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/2165"><span style='color:#377063;
text-decoration:none'>issue 2165</span></a><a
href="https://github.com/scrapy/scrapy/issues/2165"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated Response parameters
documentation (<a href="https://github.com/scrapy/scrapy/issues/2197"><span
style='color:#377063;text-decoration:none'>issue 2197</span></a><a
href="https://github.com/scrapy/scrapy/issues/2197"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reworded misleading <i><span
style='color:#355F7C'>RANDOMIZE_DOWNLOAD_DELAY </span></i>description (<a
href="https://github.com/scrapy/scrapy/issues/2190"><span style='color:#377063;
text-decoration:none'>issue 2190</span></a><a
href="https://github.com/scrapy/scrapy/issues/2190"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add StackOverflow as
a support channel (<a href="https://github.com/scrapy/scrapy/issues/2257"><span
style='color:#377063;text-decoration:none'>issue 2257</span></a><a
href="https://github.com/scrapy/scrapy/issues/2257"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.48 Scrapy 1.1.4
(2017-03-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:111.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Packaging fix:
disallow unsupported Twisted versions in setup.py</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.49 Scrapy 1.1.3
(2016-09-22)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Class attributes for
subclasses of ImagesPipeline and FilesPipeline work as they did before 1.1.1 (<a
href="https://github.com/scrapy/scrapy/issues/2243"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.5pt;
margin-left:25.4pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/2243"><span style='color:#377063;
text-decoration:none'>2243</span></a><a
href="https://github.com/scrapy/scrapy/issues/2243"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2198"><span style='color:#377063;
text-decoration:none'>issue 2198</span></a><a
href="https://github.com/scrapy/scrapy/issues/2198"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>Overview </span></i>and <i><span style='color:#355F7C'>tutorial
</span></i>rewritten to use <a href="http://toscrape.com/"><span
style='color:#377063;text-decoration:none'>http://toscrape.com</span></a><span
style='color:#377063'> </span>websites (<a
href="https://github.com/scrapy/scrapy/issues/2236"><span style='color:#377063;
text-decoration:none'>issue 2236</span></a><a
href="https://github.com/scrapy/scrapy/issues/2236"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2249"><span style='color:#377063;
text-decoration:none'>issue 2249</span></a><a
href="https://github.com/scrapy/scrapy/issues/2249"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2252"><span style='color:#377063;
text-decoration:none'>issue 2252</span></a><a
href="https://github.com/scrapy/scrapy/issues/2252"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.50 Scrapy 1.1.2
(2016-08-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Introduce a missing <i><span
style='color:#355F7C'>IMAGES_STORE_S3_ACL </span></i>setting to override the
default ACL policy in ImagesPipeline when uploading images to S3 (note that
default ACL policy is “private” – instead of “public-read” – since Scrapy
1.1.0)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>IMAGES_EXPIRES </span></i>default value set back to 90
(the regression was introduced in 1.1.1)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.51 Scrapy 1.1.1
(2016-07-13)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bug fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add “Host” header in
CONNECT requests to HTTPS proxies (<a
href="https://github.com/scrapy/scrapy/issues/2069"><span style='color:#377063;
text-decoration:none'>issue 2069</span></a><a
href="https://github.com/scrapy/scrapy/issues/2069"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use
response body when choosing response class (<a
href="https://github.com/scrapy/scrapy/issues/2001"><span style='color:#377063;
text-decoration:none'>issue 2001</span></a><a
href="https://github.com/scrapy/scrapy/issues/2001"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2000"><span style='color:#377063;
text-decoration:none'>issue 2000</span></a><a
href="https://github.com/scrapy/scrapy/issues/2000"><span style='color:black;
text-decoration:none'>) </span></a>• Do not fail on canonicalizing URLs with
wrong netlocs (<a href="https://github.com/scrapy/scrapy/issues/2038"><span
style='color:#377063;text-decoration:none'>issue 2038</span></a><a
href="https://github.com/scrapy/scrapy/issues/2038"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2010"><span style='color:#377063;
text-decoration:none'>issue 2010</span></a><a
href="https://github.com/scrapy/scrapy/issues/2010"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a
few fixes for HttpCompressionMiddleware (and SitemapSpider):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Do not decode
HEAD responses (<a href="https://github.com/scrapy/scrapy/issues/2008"><span
style='color:#377063;text-decoration:none'>issue 2008</span></a><a
href="https://github.com/scrapy/scrapy/issues/2008"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1899"><span style='color:#377063;
text-decoration:none'>issue 1899</span></a><a
href="https://github.com/scrapy/scrapy/issues/1899"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Handle charset
parameter in gzip Content-Type header (<a
href="https://github.com/scrapy/scrapy/issues/2050"><span style='color:#377063;
text-decoration:none'>issue 2050</span></a><a
href="https://github.com/scrapy/scrapy/issues/2050"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2049"><span style='color:#377063;
text-decoration:none'>issue 2049</span></a><a
href="https://github.com/scrapy/scrapy/issues/2049"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Do not
decompress gzip octet-stream responses (<a
href="https://github.com/scrapy/scrapy/issues/2065"><span style='color:#377063;
text-decoration:none'>issue 2065</span></a><a
href="https://github.com/scrapy/scrapy/issues/2065"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2063"><span style='color:#377063;
text-decoration:none'>issue 2063</span></a><a
href="https://github.com/scrapy/scrapy/issues/2063"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Catch (and ignore
with a warning) exception when verifying certificate against IP-address hosts (<a
href="https://github.com/scrapy/scrapy/issues/2094"><span style='color:#377063;
text-decoration:none'>issue 2094</span></a><a
href="https://github.com/scrapy/scrapy/issues/2094"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/2092"><span style='color:#377063;
text-decoration:none'>issue 2092</span></a><a
href="https://github.com/scrapy/scrapy/issues/2092"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make FilesPipeline and
ImagesPipeline backward compatible again regarding the use of legacy class
attributes for customization (<a
href="https://github.com/scrapy/scrapy/issues/1989"><span style='color:#377063;
text-decoration:none'>issue 1989</span></a><a
href="https://github.com/scrapy/scrapy/issues/1989"><span style='color:black;
text-decoration:none'>,</span></a> fixes <a
href="https://github.com/scrapy/scrapy/issues/1985"><span style='color:#377063;
text-decoration:none'>issue 1985</span></a><a
href="https://github.com/scrapy/scrapy/issues/1985"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Enable genspider
command outside project folder (<a
href="https://github.com/scrapy/scrapy/issues/2052"><span style='color:#377063;
text-decoration:none'>issue 2052</span></a><a
href="https://github.com/scrapy/scrapy/issues/2052"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Retry HTTPS CONNECT TunnelError
by default (<a href="https://github.com/scrapy/scrapy/issues/1974"><span
style='color:#377063;text-decoration:none'>issue 1974</span></a><a
href="https://github.com/scrapy/scrapy/issues/1974"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Documentation</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FEED_TEMPDIR setting
at lexicographical position (<a
href="https://github.com/scrapy/scrapy/commit/9b3c72c"><span style='color:#377063;
text-decoration:none'>commit 9b3c72c</span></a><a
href="https://github.com/scrapy/scrapy/commit/9b3c72c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use idiomatic .extract_first()
in overview (<a href="https://github.com/scrapy/scrapy/issues/1994"><span
style='color:#377063;text-decoration:none'>issue 1994</span></a><a
href="https://github.com/scrapy/scrapy/issues/1994"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update years in
copyright notice (<a href="https://github.com/scrapy/scrapy/commit/c2c8036"><span
style='color:#377063;text-decoration:none'>commit c2c8036</span></a><a
href="https://github.com/scrapy/scrapy/commit/c2c8036"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add information and
example on errbacks (<a href="https://github.com/scrapy/scrapy/issues/1995"><span
style='color:#377063;text-decoration:none'>issue 1995</span></a><a
href="https://github.com/scrapy/scrapy/issues/1995"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use “url” variable in
downloader middleware example (<a
href="https://github.com/scrapy/scrapy/issues/2015"><span style='color:#377063;
text-decoration:none'>issue 2015</span></a><a
href="https://github.com/scrapy/scrapy/issues/2015"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Grammar
fixes (<a href="https://github.com/scrapy/scrapy/issues/2054"><span
style='color:#377063;text-decoration:none'>issue 2054</span></a><a
href="https://github.com/scrapy/scrapy/issues/2054"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/2120"><span style='color:#377063;
text-decoration:none'>issue 2120</span></a><a
href="https://github.com/scrapy/scrapy/issues/2120"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New FAQ entry on
using BeautifulSoup in spider callbacks (<a
href="https://github.com/scrapy/scrapy/issues/2048"><span style='color:#377063;
text-decoration:none'>issue 2048</span></a><a
href="https://github.com/scrapy/scrapy/issues/2048"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add notes about
Scrapy not working on Windows with Python 3 (<a
href="https://github.com/scrapy/scrapy/issues/2060"><span style='color:#377063;
text-decoration:none'>issue 2060</span></a><a
href="https://github.com/scrapy/scrapy/issues/2060"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Encourage complete
titles in pull requests (<a href="https://github.com/scrapy/scrapy/issues/2026"><span
style='color:#377063;text-decoration:none'>issue 2026</span></a><a
href="https://github.com/scrapy/scrapy/issues/2026"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Tests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Upgrade py.test
requirement on Travis CI and Pin pytest-cov to 2.2.1 (<a
href="https://github.com/scrapy/scrapy/issues/2095"><span style='color:#377063;
text-decoration:none'>issue 2095</span></a><a
href="https://github.com/scrapy/scrapy/issues/2095"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.52 Scrapy 1.1.0
(2016-05-11)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>This 1.1 release brings a lot of interesting features and bug
fixes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy 1.1 has beta
Python 3 support (requires Twisted &gt;= 15.5). See <i><span style='color:#355F7C'>Beta
Python 3 Support </span></i>for more details and some limitations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Hot new features:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Item loaders
now support nested loaders (<a
href="https://github.com/scrapy/scrapy/issues/1467"><span style='color:#377063;
text-decoration:none'>issue 1467</span></a><a
href="https://github.com/scrapy/scrapy/issues/1467"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:112%'><span
style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>FormRequest.from_response improvements (<a
href="https://github.com/scrapy/scrapy/issues/1382"><span style='color:#377063;
text-decoration:none'>issue 1382</span></a><a
href="https://github.com/scrapy/scrapy/issues/1382"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1137"><span style='color:#377063;
text-decoration:none'>issue 1137</span></a><a
href="https://github.com/scrapy/scrapy/issues/1137"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:49.8pt;text-indent:-9.95pt;line-height:160%'><span
style='line-height:160%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Added setting <i><span style='color:#355F7C'>AUTOTHROTTLE_TARGET_CONCURRENCY
</span></i>and improved AutoThrottle docs (<a
href="https://github.com/scrapy/scrapy/issues/1324"><span style='color:#377063;
text-decoration:none'>issue 1324</span></a><a
href="https://github.com/scrapy/scrapy/issues/1324"><span style='color:black;
text-decoration:none'>)</span></a>. <b>– </b>Added response.text to get body as
unicode (<a href="https://github.com/scrapy/scrapy/issues/1730"><span
style='color:#377063;text-decoration:none'>issue 1730</span></a><a
href="https://github.com/scrapy/scrapy/issues/1730"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Anonymous S3
connections (<a href="https://github.com/scrapy/scrapy/issues/1358"><span
style='color:#377063;text-decoration:none'>issue 1358</span></a><a
href="https://github.com/scrapy/scrapy/issues/1358"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Deferreds in
downloader middlewares (<a href="https://github.com/scrapy/scrapy/issues/1473"><span
style='color:#377063;text-decoration:none'>issue 1473</span></a><a
href="https://github.com/scrapy/scrapy/issues/1473"><span style='color:black;
text-decoration:none'>)</span></a>. This enables better robots.txt handling (<a
href="https://github.com/scrapy/scrapy/issues/1471"><span style='color:#377063;
text-decoration:none'>issue 1471</span></a><a
href="https://github.com/scrapy/scrapy/issues/1471"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05in;
margin-left:49.8pt;text-indent:-9.95pt;line-height:125%'><span
style='line-height:125%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>HTTP caching now follows RFC2616 more closely, added settings <i><span
style='color:#355F7C'>HTTPCACHE_ALWAYS_STORE </span></i>and <i><span
style='color:#355F7C'>HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS </span></i><a
href="https://github.com/scrapy/scrapy/issues/1151"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1151"><span style='color:#377063;
text-decoration:none'>issue 1151</span></a><a
href="https://github.com/scrapy/scrapy/issues/1151"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Selectors were
extracted to the <a href="https://github.com/scrapy/parsel"><span
style='color:#377063;text-decoration:none'>parsel</span></a><span
style='color:#377063'> </span>library (<a
href="https://github.com/scrapy/scrapy/issues/1409"><span style='color:#377063;
text-decoration:none'>issue 1409</span></a><a
href="https://github.com/scrapy/scrapy/issues/1409"><span style='color:black;
text-decoration:none'>)</span></a>. This means you can use Scrapy Selectors
without Scrapy and also upgrade the selectors engine without needing to upgrade
Scrapy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>HTTPS
downloader now does TLS protocol negotiation by default, instead of forcing TLS
1.0. You can also set the SSL/TLS method using the new <i><span
style='color:#355F7C'>DOWNLOADER_CLIENT_TLS_METHOD</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>These bug fixes may
require your attention:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Don’t retry bad
requests (HTTP 400) by default (<a
href="https://github.com/scrapy/scrapy/issues/1289"><span style='color:#377063;
text-decoration:none'>issue 1289</span></a><a
href="https://github.com/scrapy/scrapy/issues/1289"><span style='color:black;
text-decoration:none'>)</span></a>. If you need the old behavior, add 400 to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.95pt;
margin-left:50.3pt;line-height:108%'><i><span style='color:#355F7C'>RETRY_HTTP_CODES</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:50.6pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Fix shell files
argument handling (<a href="https://github.com/scrapy/scrapy/issues/1710"><span
style='color:#377063;text-decoration:none'>issue 1710</span></a><a
href="https://github.com/scrapy/scrapy/issues/1710"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1550"><span style='color:#377063;
text-decoration:none'>issue 1550</span></a><a
href="https://github.com/scrapy/scrapy/issues/1550"><span style='color:black;
text-decoration:none'>)</span></a>. If you try scrapy shell index.html it will
try to load the URL http://index.html, use scrapy shell ./index.html to load a
local file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Robots.txt
compliance is now enabled by default for newly-created projects (<a
href="https://github.com/scrapy/scrapy/issues/1724"><span style='color:#377063;
text-decoration:none'>issue 1724</span></a><a
href="https://github.com/scrapy/scrapy/issues/1724"><span style='color:black;
text-decoration:none'>)</span></a>. Scrapy will also wait for robots.txt to be
downloaded before proceeding with the crawl (<a
href="https://github.com/scrapy/scrapy/issues/1735"><span style='color:#377063;
text-decoration:none'>issue 1735</span></a><a
href="https://github.com/scrapy/scrapy/issues/1735"><span style='color:black;
text-decoration:none'>)</span></a>. If you want to disable this behavior,
update <i><span style='color:#355F7C'>ROBOTSTXT_OBEY </span></i>in settings.py file
after creating a new project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Exporters now
work on unicode, instead of bytes by default (<span style='color:#377063'>issue
108</span><a href="https://github.com/scrapy/scrapy/issues/1080"><span
style='color:#377063;text-decoration:none'>0</span></a><a
href="https://github.com/scrapy/scrapy/issues/1080"><span style='color:black;
text-decoration:none'>)</span></a>. If you use <i><span style='color:#355F7C'>PythonItemExporter</span></i>,
you may want to update your code to disable binary mode which is now
deprecated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Accept XML node
names containing dots as valid (<a
href="https://github.com/scrapy/scrapy/issues/1533"><span style='color:#377063;
text-decoration:none'>issue 1533</span></a><a
href="https://github.com/scrapy/scrapy/issues/1533"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>When uploading
files or images to S3 (with FilesPipeline or ImagesPipeline), the default ACL
policy is now “private” instead of “public” <b>Warning: backward incompatible!</b>.
You can use <i><span style='color:#355F7C'>FILES_STORE_S3_ACL </span></i>to
change it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>We’ve
reimplemented canonicalize_url() for more correct output, especially for URLs
with nonASCII characters (<a href="https://github.com/scrapy/scrapy/issues/1947"><span
style='color:#377063;text-decoration:none'>issue 1947</span></a><a
href="https://github.com/scrapy/scrapy/issues/1947"><span style='color:black;
text-decoration:none'>)</span></a>. This could change link extractors output
compared to previous Scrapy versions. This may also invalidate some cache
entries you could still have from pre-1.1 runs. <b><sub><span style='font-size:
15.5pt;line-height:103%'>Warning:</span></sub></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:50.3pt;text-align:left;line-height:108%'><b>backward
incompatible!</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Keep reading for more details on other improvements and bug
fixes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Beta Python
3 Support</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We have been <a
href="https://github.com/scrapy/scrapy/wiki/Python-3-Porting"><span
style='color:#377063;text-decoration:none'>hard at work to make Scrapy run on
Python</span></a><span style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/wiki/Python-3-Porting"><span
style='color:#377063;text-decoration:none'>3</span></a><a
href="https://github.com/scrapy/scrapy/wiki/Python-3-Porting"><span
style='color:black;text-decoration:none'>.</span></a> As a result, now you can
run spiders on Python 3.3, 3.4 and 3.5 (Twisted &gt;= 15.5 required). Some
features are still missing (and some may never be ported).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Almost all builtin extensions/middlewares are expected to
work. However, we are aware of some limitations in Python 3:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy does not work
on Windows with Python 3</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Sending emails is not
supported</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FTP download handler
is not supported</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Telnet console is not
supported</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Additional
New Features and Enhancements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy
now has a <a
href="https://github.com/scrapy/scrapy/blob/master/CODE_OF_CONDUCT.md"><span
style='color:#377063;text-decoration:none'>Code of Conduct</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/issues/1681"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1681"><span style='color:#377063;
text-decoration:none'>issue 1681</span></a><a
href="https://github.com/scrapy/scrapy/issues/1681"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Command line tool now
has completion for zsh (<a href="https://github.com/scrapy/scrapy/issues/934"><span
style='color:#377063;text-decoration:none'>issue 934</span></a><a
href="https://github.com/scrapy/scrapy/issues/934"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improvements to scrapy
shell:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.75pt;margin-bottom:
7.15pt;margin-left:49.8pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Support for
bpython and configure preferred Python shell via SCRAPY_PYTHON_SHELL <a
href="https://github.com/scrapy/scrapy/issues/1100"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1100"><span style='color:#377063;
text-decoration:none'>issue 1100</span></a><a
href="https://github.com/scrapy/scrapy/issues/1100"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1444"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1444"><span style='color:#377063;
text-decoration:none'>1444</span></a><a
href="https://github.com/scrapy/scrapy/issues/1444"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.75pt;margin-bottom:
1.1pt;margin-left:49.8pt;text-indent:-9.95pt;line-height:150%'><span
style='line-height:150%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Support URLs without scheme (<a
href="https://github.com/scrapy/scrapy/issues/1498"><span style='color:#377063;
text-decoration:none'>issue 1498</span></a><a
href="https://github.com/scrapy/scrapy/issues/1498"><span style='color:black;
text-decoration:none'>)</span></a> <b>Warning: backward incompatible! – </b>Bring
back support for relative file path (<a
href="https://github.com/scrapy/scrapy/issues/1710"><span style='color:#377063;
text-decoration:none'>issue 1710</span></a><a
href="https://github.com/scrapy/scrapy/issues/1710"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1550"><span style='color:#377063;
text-decoration:none'>issue 1550</span></a><a
href="https://github.com/scrapy/scrapy/issues/1550"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>MEMUSAGE_CHECK_INTERVAL_SECONDS </span></i>setting to
change default check interval (<a
href="https://github.com/scrapy/scrapy/issues/1282"><span style='color:#377063;
text-decoration:none'>issue 1282</span></a><a
href="https://github.com/scrapy/scrapy/issues/1282"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Download handlers are
now lazy-loaded on first request using their scheme (<a
href="https://github.com/scrapy/scrapy/issues/1390"><span style='color:#377063;
text-decoration:none'>issue 1390</span></a><a
href="https://github.com/scrapy/scrapy/issues/1390"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1421"><span style='color:#377063;
text-decoration:none'>issue 1421</span></a><a
href="https://github.com/scrapy/scrapy/issues/1421"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTPS download
handlers do not force TLS 1.0 anymore; instead, OpenSSL’s SSLv23_method()/
TLS_method() is used allowing to try negotiating with the remote hosts the
highest TLS protocol version it can (<a
href="https://github.com/scrapy/scrapy/issues/1794"><span style='color:#377063;
text-decoration:none'>issue 1794</span></a><a
href="https://github.com/scrapy/scrapy/issues/1794"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1629"><span style='color:#377063;
text-decoration:none'>issue 1629</span></a><a
href="https://github.com/scrapy/scrapy/issues/1629"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>RedirectMiddleware now
skips the status codes from handle_httpstatus_list on spider attribute or in Request’s
meta key (<a href="https://github.com/scrapy/scrapy/issues/1334"><span
style='color:#377063;text-decoration:none'>issue 1334</span></a><a
href="https://github.com/scrapy/scrapy/issues/1334"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1364"><span style='color:#377063;
text-decoration:none'>issue 1364</span></a><a
href="https://github.com/scrapy/scrapy/issues/1364"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1447"><span style='color:#377063;
text-decoration:none'>issue 1447</span></a><a
href="https://github.com/scrapy/scrapy/issues/1447"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Form submission:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:50.95pt;margin-bottom:
.45pt;margin-left:27.75pt;text-indent:23.4pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>now works with &lt;<sub><span style='font-size:15.5pt;line-height:
103%'>button&gt; </span></sub>elements too (<a
href="https://github.com/scrapy/scrapy/issues/1469"><span style='color:#377063;
text-decoration:none'>issue 1469</span></a><a
href="https://github.com/scrapy/scrapy/issues/1469"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:50.95pt;margin-bottom:
0in;margin-left:27.75pt;text-indent:23.4pt;line-height:147%'><span
style='line-height:147%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>an empty string is now used for submit buttons without a value (<a
href="https://github.com/scrapy/scrapy/issues/1472"><span style='color:#377063;
text-decoration:none'>issue 1472</span></a><a
href="https://github.com/scrapy/scrapy/issues/1472"><span style='color:black;
text-decoration:none'>) </span></a>• Dict-like settings now have per-key
priorities (<a href="https://github.com/scrapy/scrapy/issues/1135"><span
style='color:#377063;text-decoration:none'>issue 1135</span></a><a
href="https://github.com/scrapy/scrapy/issues/1135"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1149"><span style='color:#377063;
text-decoration:none'>issue 1149</span></a><span style='color:#377063'> </span>and
<a href="https://github.com/scrapy/scrapy/issues/1586"><span style='color:#377063;
text-decoration:none'>issue 1586</span></a><a
href="https://github.com/scrapy/scrapy/issues/1586"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Sending non-ASCII
emails (<a href="https://github.com/scrapy/scrapy/issues/1662"><span
style='color:#377063;text-decoration:none'>issue 1662</span></a><a
href="https://github.com/scrapy/scrapy/issues/1662"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CloseSpider and SpiderState
extensions now get disabled if no relevant setting is set (<a
href="https://github.com/scrapy/scrapy/issues/1723"><span style='color:#377063;
text-decoration:none'>issue 1723</span></a><a
href="https://github.com/scrapy/scrapy/issues/1723"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1725"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1725"><span style='color:#377063;
text-decoration:none'>1725</span></a><a
href="https://github.com/scrapy/scrapy/issues/1725"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:169%'><span
style='line-height:169%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
method ExecutionEngine.close <a
href="https://github.com/scrapy/scrapy/issues/1423"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1423"><span style='color:#377063;
text-decoration:none'>issue 1423</span></a><a
href="https://github.com/scrapy/scrapy/issues/1423"><span style='color:black;
text-decoration:none'>)</span></a>. • Added method CrawlerRunner.create_crawler
<a href="https://github.com/scrapy/scrapy/issues/1528"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1528"><span style='color:#377063;
text-decoration:none'>issue 1528</span></a><a
href="https://github.com/scrapy/scrapy/issues/1528"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scheduler priority
queue can now be customized via <i><span style='color:#355F7C'>SCHEDULER_PRIORITY_QUEUE
</span></i><a href="https://github.com/scrapy/scrapy/issues/1822"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1822"><span style='color:#377063;
text-decoration:none'>issue 1822</span></a><a
href="https://github.com/scrapy/scrapy/issues/1822"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>.pps links are now
ignored by default in link extractors (<a
href="https://github.com/scrapy/scrapy/issues/1835"><span style='color:#377063;
text-decoration:none'>issue 1835</span></a><a
href="https://github.com/scrapy/scrapy/issues/1835"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>temporary data folder
for FTP and S3 feed storages can be customized using a new <i><span
style='color:#355F7C'>FEED_TEMPDIR </span></i>setting (<a
href="https://github.com/scrapy/scrapy/issues/1847"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1847"><span style='color:#377063;
text-decoration:none'>1847</span></a><a
href="https://github.com/scrapy/scrapy/issues/1847"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FilesPipeline and ImagesPipeline
settings are now instance attributes instead of class attributes, enabling
spider-specific behaviors (<a
href="https://github.com/scrapy/scrapy/issues/1891"><span style='color:#377063;
text-decoration:none'>issue 1891</span></a><a
href="https://github.com/scrapy/scrapy/issues/1891"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>JsonItemExporter now
formats opening and closing square brackets on their own line (first and last
lines of output file) (<a href="https://github.com/scrapy/scrapy/issues/1950"><span
style='color:#377063;text-decoration:none'>issue 1950</span></a><a
href="https://github.com/scrapy/scrapy/issues/1950"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If
available, botocore is used for S3FeedStorage, S3DownloadHandler and S3FilesStore
<a href="https://github.com/scrapy/scrapy/issues/1761"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1761"><span style='color:#377063;
text-decoration:none'>issue 1761</span></a><a
href="https://github.com/scrapy/scrapy/issues/1761"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/1883"><span style='color:#377063;
text-decoration:none'>issue 1883</span></a><a
href="https://github.com/scrapy/scrapy/issues/1883"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tons
of documentation updates and related fixes (<a
href="https://github.com/scrapy/scrapy/issues/1291"><span style='color:#377063;
text-decoration:none'>issue 1291</span></a><a
href="https://github.com/scrapy/scrapy/issues/1291"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1302"><span style='color:#377063;
text-decoration:none'>issue 1302</span></a><a
href="https://github.com/scrapy/scrapy/issues/1302"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1335"><span style='color:#377063;
text-decoration:none'>issue 1335</span></a><a
href="https://github.com/scrapy/scrapy/issues/1335"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1683"><span style='color:#377063;
text-decoration:none'>issue 1683</span></a><a
href="https://github.com/scrapy/scrapy/issues/1683"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1660"><span style='color:#377063;
text-decoration:none'>issue 1660</span></a><a
href="https://github.com/scrapy/scrapy/issues/1660"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/1642"><span style='color:#377063;
text-decoration:none'>issue 1642</span></a><a
href="https://github.com/scrapy/scrapy/issues/1642"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1721"><span style='color:#377063;
text-decoration:none'>issue 1721</span></a><a
href="https://github.com/scrapy/scrapy/issues/1721"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1727"><span style='color:#377063;
text-decoration:none'>issue 1727</span></a><a
href="https://github.com/scrapy/scrapy/issues/1727"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1879"><span style='color:#377063;
text-decoration:none'>issue 1879</span></a><a
href="https://github.com/scrapy/scrapy/issues/1879"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Other
refactoring, optimizations and cleanup (<a
href="https://github.com/scrapy/scrapy/issues/1476"><span style='color:#377063;
text-decoration:none'>issue 1476</span></a><a
href="https://github.com/scrapy/scrapy/issues/1476"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1481"><span style='color:#377063;
text-decoration:none'>issue 1481</span></a><a
href="https://github.com/scrapy/scrapy/issues/1481"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1477"><span style='color:#377063;
text-decoration:none'>issue 1477</span></a><a
href="https://github.com/scrapy/scrapy/issues/1477"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1315"><span style='color:#377063;
text-decoration:none'>issue 1315</span></a><a
href="https://github.com/scrapy/scrapy/issues/1315"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1290"><span style='color:#377063;
text-decoration:none'>issue 1290</span></a><a
href="https://github.com/scrapy/scrapy/issues/1290"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1750"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1750"><span style='color:#377063;
text-decoration:none'>1750</span></a><a
href="https://github.com/scrapy/scrapy/issues/1750"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1881"><span style='color:#377063;
text-decoration:none'>issue 1881</span></a><a
href="https://github.com/scrapy/scrapy/issues/1881"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.1pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecations
and Removals</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:162%'><span
style='line-height:162%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
to_bytes and to_unicode, deprecated str_to_unicode and unicode_to_str functions
(<a href="https://github.com/scrapy/scrapy/issues/778"><span style='color:#377063;
text-decoration:none'>issue 778</span></a><a
href="https://github.com/scrapy/scrapy/issues/778"><span style='color:black;
text-decoration:none'>)</span></a>. • binary_is_text is introduced, to replace
use of isbinarytext (but with inverse return value) (<a
href="https://github.com/scrapy/scrapy/issues/1851"><span style='color:#377063;
text-decoration:none'>issue 1851</span></a><a
href="https://github.com/scrapy/scrapy/issues/1851"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The optional_features
set has been removed (<a href="https://github.com/scrapy/scrapy/issues/1359"><span
style='color:#377063;text-decoration:none'>issue 1359</span></a><a
href="https://github.com/scrapy/scrapy/issues/1359"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --lsprof command
line option has been removed (<a
href="https://github.com/scrapy/scrapy/issues/1689"><span style='color:#377063;
text-decoration:none'>issue 1689</span></a><a
href="https://github.com/scrapy/scrapy/issues/1689"><span style='color:black;
text-decoration:none'>)</span></a>. <b>Warning: backward incompatible</b>, but
doesn’t break user code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The following
datatypes were deprecated (<a
href="https://github.com/scrapy/scrapy/issues/1720"><span style='color:#377063;
text-decoration:none'>issue 1720</span></a><a
href="https://github.com/scrapy/scrapy/issues/1720"><span style='color:black;
text-decoration:none'>)</span></a>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.datatypes.MultiValueDictKeyError</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.datatypes.MultiValueDict</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.1pt;margin-left:49.8pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>scrapy.utils.datatypes.SiteNode</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:91.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The previously
bundled scrapy.xlib.pydispatch library was deprecated and replaced by <a
href="https://pypi.org/project/PyDispatcher/"><span style='color:#377063;
text-decoration:none'>pydispatcher</span></a><a
href="https://pypi.org/project/PyDispatcher/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Relocations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>telnetconsole
was relocated to extensions/ <a
href="https://github.com/scrapy/scrapy/issues/1524"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1524"><span style='color:#377063;
text-decoration:none'>issue 1524</span></a><a
href="https://github.com/scrapy/scrapy/issues/1524"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.7pt;
margin-left:49.8pt;text-indent:-9.95pt;line-height:110%'><b>– </b>Note:  telnet      is             not          enabled  on           Python   3              (<a
href="https://github.com/scrapy/scrapy/pull/1524#issuecomment-146985595"><span
style='color:#377063;text-decoration:none'>https://github.com/scrapy/scrapy/pull/1524#
</span></a><a
href="https://github.com/scrapy/scrapy/pull/1524#issuecomment-146985595"><span
style='color:#377063;text-decoration:none'>issuecomment-146985595</span></a><a
href="https://github.com/scrapy/scrapy/pull/1524#issuecomment-146985595"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bugfixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy does not retry
requests that got a HTTP 400 Bad Request response anymore (<a
href="https://github.com/scrapy/scrapy/issues/1289"><span style='color:#377063;
text-decoration:none'>issue 1289</span></a><a
href="https://github.com/scrapy/scrapy/issues/1289"><span style='color:black;
text-decoration:none'>)</span></a>. <b>Warning: backward incompatible!</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support empty
password for http_proxy config (<a
href="https://github.com/scrapy/scrapy/issues/1274"><span style='color:#377063;
text-decoration:none'>issue 1274</span></a><a
href="https://github.com/scrapy/scrapy/issues/1274"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Interpret
application/x-json as TextResponse <a
href="https://github.com/scrapy/scrapy/issues/1333"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1333"><span style='color:#377063;
text-decoration:none'>issue 1333</span></a><a
href="https://github.com/scrapy/scrapy/issues/1333"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support link rel
attribute with multiple values (<a
href="https://github.com/scrapy/scrapy/issues/1201"><span style='color:#377063;
text-decoration:none'>issue 1201</span></a><a
href="https://github.com/scrapy/scrapy/issues/1201"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
scrapy.http.FormRequest.from_response when there is a &lt;base&gt; tag (<a
href="https://github.com/scrapy/scrapy/issues/1564"><span style='color:#377063;
text-decoration:none'>issue 1564</span></a><a
href="https://github.com/scrapy/scrapy/issues/1564"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>TEMPLATES_DIR </span></i>handling (<a
href="https://github.com/scrapy/scrapy/issues/1575"><span style='color:#377063;
text-decoration:none'>issue 1575</span></a><a
href="https://github.com/scrapy/scrapy/issues/1575"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Various
FormRequest fixes (<a href="https://github.com/scrapy/scrapy/issues/1595"><span
style='color:#377063;text-decoration:none'>issue 1595</span></a><a
href="https://github.com/scrapy/scrapy/issues/1595"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1596"><span style='color:#377063;
text-decoration:none'>issue 1596</span></a><a
href="https://github.com/scrapy/scrapy/issues/1596"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1597"><span style='color:#377063;
text-decoration:none'>issue 1597</span></a><a
href="https://github.com/scrapy/scrapy/issues/1597"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Makes _monkeypatches more
robust (<a href="https://github.com/scrapy/scrapy/issues/1634"><span
style='color:#377063;text-decoration:none'>issue 1634</span></a><a
href="https://github.com/scrapy/scrapy/issues/1634"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug on XMLItemExporter
with non-string fields in items (<a
href="https://github.com/scrapy/scrapy/issues/1738"><span style='color:#377063;
text-decoration:none'>issue 1738</span></a><a
href="https://github.com/scrapy/scrapy/issues/1738"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed startproject
command in macOS (<a href="https://github.com/scrapy/scrapy/issues/1635"><span
style='color:#377063;text-decoration:none'>issue 1635</span></a><a
href="https://github.com/scrapy/scrapy/issues/1635"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed <i><span
style='color:#355F7C'>PythonItemExporter </span></i>and CSVExporter for
non-string item types (<a href="https://github.com/scrapy/scrapy/issues/1737"><span
style='color:#377063;text-decoration:none'>issue 1737</span></a><a
href="https://github.com/scrapy/scrapy/issues/1737"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Various
logging related fixes (<a href="https://github.com/scrapy/scrapy/issues/1294"><span
style='color:#377063;text-decoration:none'>issue 1294</span></a><a
href="https://github.com/scrapy/scrapy/issues/1294"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1419"><span style='color:#377063;
text-decoration:none'>issue 1419</span></a><a
href="https://github.com/scrapy/scrapy/issues/1419"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1263"><span style='color:#377063;
text-decoration:none'>issue 1263</span></a><a
href="https://github.com/scrapy/scrapy/issues/1263"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1624"><span style='color:#377063;
text-decoration:none'>issue 1624</span></a><a
href="https://github.com/scrapy/scrapy/issues/1624"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1654"><span style='color:#377063;
text-decoration:none'>issue 1654</span></a><a
href="https://github.com/scrapy/scrapy/issues/1654"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1722"><span style='color:#377063;
text-decoration:none'>issue 1722</span></a><a
href="https://github.com/scrapy/scrapy/issues/1722"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1726"><span style='color:#377063;
text-decoration:none'>issue 1726 </span></a>and <a
href="https://github.com/scrapy/scrapy/issues/1303"><span style='color:#377063;
text-decoration:none'>issue 1303</span></a><a
href="https://github.com/scrapy/scrapy/issues/1303"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
bug in utils.template.render_templatefile() <a
href="https://github.com/scrapy/scrapy/issues/1212"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/1212"><span style='color:#377063;
text-decoration:none'>issue 1212</span></a><a
href="https://github.com/scrapy/scrapy/issues/1212"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sitemaps extraction
from robots.txt is now case-insensitive (<a
href="https://github.com/scrapy/scrapy/issues/1902"><span style='color:#377063;
text-decoration:none'>issue 1902</span></a><a
href="https://github.com/scrapy/scrapy/issues/1902"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTPS+CONNECT tunnels
could get mixed up when using multiple proxies to same remote host (<a
href="https://github.com/scrapy/scrapy/issues/1912"><span style='color:#377063;
text-decoration:none'>issue 1912</span></a><a
href="https://github.com/scrapy/scrapy/issues/1912"><span style='color:black;
text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.53 Scrapy 1.0.7
(2017-03-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Packaging fix:
disallow unsupported Twisted versions in setup.py</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.54 Scrapy 1.0.6
(2016-05-04)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FIX: RetryMiddleware
is now robust to non-standard HTTP status codes (<a
href="https://github.com/scrapy/scrapy/issues/1857"><span style='color:#377063;
text-decoration:none'>issue 1857</span></a><a
href="https://github.com/scrapy/scrapy/issues/1857"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FIX: Filestorage HTTP
cache was checking wrong modified time (<a
href="https://github.com/scrapy/scrapy/issues/1875"><span style='color:#377063;
text-decoration:none'>issue 1875</span></a><a
href="https://github.com/scrapy/scrapy/issues/1875"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC: Support for
Sphinx 1.4+ (<a href="https://github.com/scrapy/scrapy/issues/1893"><span
style='color:#377063;text-decoration:none'>issue 1893</span></a><a
href="https://github.com/scrapy/scrapy/issues/1893"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC: Consistency in
selectors examples (<a href="https://github.com/scrapy/scrapy/issues/1869"><span
style='color:#377063;text-decoration:none'>issue 1869</span></a><a
href="https://github.com/scrapy/scrapy/issues/1869"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.55 Scrapy 1.0.5
(2016-02-04)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FIX: [Backport]
Ignore bogus links in LinkExtractors (fixes <a
href="https://github.com/scrapy/scrapy/issues/907"><span style='color:#377063;
text-decoration:none'>issue 907</span></a><a
href="https://github.com/scrapy/scrapy/issues/907"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/commit/108195e"><span style='color:#377063;
text-decoration:none'>commit 108195e</span></a><a
href="https://github.com/scrapy/scrapy/commit/108195e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>TST: Changed buildbot
makefile to use ‘pytest’ (<a
href="https://github.com/scrapy/scrapy/commit/1f3d90a"><span style='color:#377063;
text-decoration:none'>commit 1f3d90a</span></a><a
href="https://github.com/scrapy/scrapy/commit/1f3d90a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC: Fixed typos in
tutorial and media-pipeline (<a
href="https://github.com/scrapy/scrapy/commit/808a9ea"><span style='color:#377063;
text-decoration:none'>commit 808a9ea</span></a><span style='color:#377063'> </span>and
<a href="https://github.com/scrapy/scrapy/commit/803bd87"><span
style='color:#377063;text-decoration:none'>commit 803bd87</span></a><a
href="https://github.com/scrapy/scrapy/commit/803bd87"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC: Add
AjaxCrawlMiddleware to DOWNLOADER_MIDDLEWARES_BASE in settings docs (<a
href="https://github.com/scrapy/scrapy/commit/aa94121"><span style='color:#377063;
text-decoration:none'>commit </span></a><a
href="https://github.com/scrapy/scrapy/commit/aa94121"><span style='color:#377063;
text-decoration:none'>aa94121</span></a><a
href="https://github.com/scrapy/scrapy/commit/aa94121"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.56 Scrapy 1.0.4
(2015-12-30)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ignoring xlib/tx
folder, depending on Twisted version. (<a
href="https://github.com/scrapy/scrapy/commit/7dfa979"><span style='color:#377063;
text-decoration:none'>commit 7dfa979</span></a><a
href="https://github.com/scrapy/scrapy/commit/7dfa979"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Run on new travis-ci
infra (<a href="https://github.com/scrapy/scrapy/commit/6e42f0b"><span
style='color:#377063;text-decoration:none'>commit 6e42f0b</span></a><a
href="https://github.com/scrapy/scrapy/commit/6e42f0b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spelling fixes (<a
href="https://github.com/scrapy/scrapy/commit/823a1cc"><span style='color:#377063;
text-decoration:none'>commit 823a1cc</span></a><a
href="https://github.com/scrapy/scrapy/commit/823a1cc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>escape nodename in
xmliter regex (<a href="https://github.com/scrapy/scrapy/commit/da3c155"><span
style='color:#377063;text-decoration:none'>commit da3c155</span></a><a
href="https://github.com/scrapy/scrapy/commit/da3c155"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>test xml nodename
with dots (<a href="https://github.com/scrapy/scrapy/commit/4418fc3"><span
style='color:#377063;text-decoration:none'>commit 4418fc3</span></a><a
href="https://github.com/scrapy/scrapy/commit/4418fc3"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>TST don’t use broken
Pillow version in tests (<a
href="https://github.com/scrapy/scrapy/commit/a55078c"><span style='color:#377063;
text-decoration:none'>commit a55078c</span></a><a
href="https://github.com/scrapy/scrapy/commit/a55078c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>disable log on
version command. closes #1426 (<a
href="https://github.com/scrapy/scrapy/commit/86fc330"><span style='color:#377063;
text-decoration:none'>commit 86fc330</span></a><a
href="https://github.com/scrapy/scrapy/commit/86fc330"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>disable log on
startproject command (<a href="https://github.com/scrapy/scrapy/commit/db4c9fe"><span
style='color:#377063;text-decoration:none'>commit db4c9fe</span></a><a
href="https://github.com/scrapy/scrapy/commit/db4c9fe"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add PyPI download
stats badge (<a href="https://github.com/scrapy/scrapy/commit/df2b944"><span
style='color:#377063;text-decoration:none'>commit df2b944</span></a><a
href="https://github.com/scrapy/scrapy/commit/df2b944"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>don’t run tests twice
on Travis if a PR is made from a scrapy/scrapy branch (<a
href="https://github.com/scrapy/scrapy/commit/a83ab41"><span style='color:#377063;
text-decoration:none'>commit a83ab41</span></a><a
href="https://github.com/scrapy/scrapy/commit/a83ab41"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add Python 3 porting
status badge to the README (<a
href="https://github.com/scrapy/scrapy/commit/73ac80d"><span style='color:#377063;
text-decoration:none'>commit 73ac80d</span></a><a
href="https://github.com/scrapy/scrapy/commit/73ac80d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed RFPDupeFilter
persistence (<a href="https://github.com/scrapy/scrapy/commit/97d080e"><span
style='color:#377063;text-decoration:none'>commit 97d080e</span></a><a
href="https://github.com/scrapy/scrapy/commit/97d080e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>TST a test to show
that dupefilter persistence is not working (<a
href="https://github.com/scrapy/scrapy/commit/97f2fb3"><span style='color:#377063;
text-decoration:none'>commit 97f2fb3</span></a><a
href="https://github.com/scrapy/scrapy/commit/97f2fb3"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>explicit close file
on <span style='color:#377063'>file:// </span>scheme handler (<a
href="https://github.com/scrapy/scrapy/commit/d9b4850"><span style='color:#377063;
text-decoration:none'>commit d9b4850</span></a><a
href="https://github.com/scrapy/scrapy/commit/d9b4850"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Disable dupefilter in
shell (<a href="https://github.com/scrapy/scrapy/commit/c0d0734"><span
style='color:#377063;text-decoration:none'>commit c0d0734</span></a><a
href="https://github.com/scrapy/scrapy/commit/c0d0734"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC: Add captions to
toctrees which appear in sidebar (<a
href="https://github.com/scrapy/scrapy/commit/aa239ad"><span style='color:#377063;
text-decoration:none'>commit aa239ad</span></a><a
href="https://github.com/scrapy/scrapy/commit/aa239ad"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC Removed pywin32
from install instructions as it’s already declared as dependency. (<a
href="https://github.com/scrapy/scrapy/commit/10eb400"><span style='color:#377063;
text-decoration:none'>commit 10eb400</span></a><a
href="https://github.com/scrapy/scrapy/commit/10eb400"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added installation
notes about using Conda for Windows and other OSes. (<a
href="https://github.com/scrapy/scrapy/commit/1c3600a"><span style='color:#377063;
text-decoration:none'>commit 1c3600a</span></a><a
href="https://github.com/scrapy/scrapy/commit/1c3600a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed minor grammar
issues. (<a href="https://github.com/scrapy/scrapy/commit/7f4ddd5"><span
style='color:#377063;text-decoration:none'>commit 7f4ddd5</span></a><a
href="https://github.com/scrapy/scrapy/commit/7f4ddd5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed a typo in the
documentation. (<a href="https://github.com/scrapy/scrapy/commit/b71f677"><span
style='color:#377063;text-decoration:none'>commit b71f677</span></a><a
href="https://github.com/scrapy/scrapy/commit/b71f677"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Version 1 now exists
(<a href="https://github.com/scrapy/scrapy/commit/5456c0e"><span
style='color:#377063;text-decoration:none'>commit 5456c0e</span></a><a
href="https://github.com/scrapy/scrapy/commit/5456c0e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix another invalid
xpath error (<a href="https://github.com/scrapy/scrapy/commit/0a1366e"><span
style='color:#377063;text-decoration:none'>commit 0a1366e</span></a><a
href="https://github.com/scrapy/scrapy/commit/0a1366e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix ValueError:
Invalid XPath: //div/[id=”not-exists”]/text() on selectors.rst (<a
href="https://github.com/scrapy/scrapy/commit/ca8d60f"><span style='color:#377063;
text-decoration:none'>commit ca8d60f</span></a><a
href="https://github.com/scrapy/scrapy/commit/ca8d60f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Typos corrections (<a
href="https://github.com/scrapy/scrapy/commit/7067117"><span style='color:#377063;
text-decoration:none'>commit 7067117</span></a><a
href="https://github.com/scrapy/scrapy/commit/7067117"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix typos in
downloader-middleware.rst and exceptions.rst, middlware -&gt; middleware (<a
href="https://github.com/scrapy/scrapy/commit/32f115c"><span style='color:#377063;
text-decoration:none'>commit 32f115c</span></a><a
href="https://github.com/scrapy/scrapy/commit/32f115c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add note to Ubuntu
install section about Debian compatibility (<a
href="https://github.com/scrapy/scrapy/commit/23fda69"><span style='color:#377063;
text-decoration:none'>commit 23fda69</span></a><a
href="https://github.com/scrapy/scrapy/commit/23fda69"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replace alternative
macOS install workaround with virtualenv (<a
href="https://github.com/scrapy/scrapy/commit/98b63ee"><span style='color:#377063;
text-decoration:none'>commit 98b63ee</span></a><a
href="https://github.com/scrapy/scrapy/commit/98b63ee"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reference Homebrew’s
homepage for installation instructions (<a
href="https://github.com/scrapy/scrapy/commit/1925db1"><span style='color:#377063;
text-decoration:none'>commit 1925db1</span></a><a
href="https://github.com/scrapy/scrapy/commit/1925db1"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add oldest supported
tox version to contributing docs (<a
href="https://github.com/scrapy/scrapy/commit/5d10d6d"><span style='color:#377063;
text-decoration:none'>commit 5d10d6d</span></a><a
href="https://github.com/scrapy/scrapy/commit/5d10d6d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Note in install docs
about pip being already included in python&gt;=2.7.9 (<a
href="https://github.com/scrapy/scrapy/commit/85c980e"><span style='color:#377063;
text-decoration:none'>commit 85c980e</span></a><a
href="https://github.com/scrapy/scrapy/commit/85c980e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add non-python
dependencies to Ubuntu install section in the docs (<a
href="https://github.com/scrapy/scrapy/commit/fbd010d"><span style='color:#377063;
text-decoration:none'>commit fbd010d</span></a><a
href="https://github.com/scrapy/scrapy/commit/fbd010d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add macOS
installation section to docs (<a
href="https://github.com/scrapy/scrapy/commit/d8f4cba"><span style='color:#377063;
text-decoration:none'>commit d8f4cba</span></a><a
href="https://github.com/scrapy/scrapy/commit/d8f4cba"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC(ENH): specify
path to rtd theme explicitly (<a
href="https://github.com/scrapy/scrapy/commit/de73b1a"><span style='color:#377063;
text-decoration:none'>commit de73b1a</span></a><a
href="https://github.com/scrapy/scrapy/commit/de73b1a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>minor: scrapy.Spider
docs grammar (<a href="https://github.com/scrapy/scrapy/commit/1ddcc7b"><span
style='color:#377063;text-decoration:none'>commit 1ddcc7b</span></a><a
href="https://github.com/scrapy/scrapy/commit/1ddcc7b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make common practices
sample code match the comments (<a
href="https://github.com/scrapy/scrapy/commit/1b85bcf"><span style='color:#377063;
text-decoration:none'>commit 1b85bcf</span></a><a
href="https://github.com/scrapy/scrapy/commit/1b85bcf"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>nextcall repetitive
calls (heartbeats). (<a href="https://github.com/scrapy/scrapy/commit/55f7104"><span
style='color:#377063;text-decoration:none'>commit 55f7104</span></a><a
href="https://github.com/scrapy/scrapy/commit/55f7104"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Backport fix
compatibility with Twisted 15.4.0 (<a
href="https://github.com/scrapy/scrapy/commit/b262411"><span style='color:#377063;
text-decoration:none'>commit b262411</span></a><a
href="https://github.com/scrapy/scrapy/commit/b262411"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pin pytest to 2.7.3 (<a
href="https://github.com/scrapy/scrapy/commit/a6535c2"><span style='color:#377063;
text-decoration:none'>commit a6535c2</span></a><a
href="https://github.com/scrapy/scrapy/commit/a6535c2"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#1512 from mgedmin/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/8876111"><span style='color:#377063;
text-decoration:none'>commit 8876111</span></a><a
href="https://github.com/scrapy/scrapy/commit/8876111"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#1513 from mgedmin/patch-2 (<a
href="https://github.com/scrapy/scrapy/commit/5d4daf8"><span style='color:#377063;
text-decoration:none'>commit 5d4daf8</span></a><a
href="https://github.com/scrapy/scrapy/commit/5d4daf8"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Typo
(<a href="https://github.com/scrapy/scrapy/commit/f8d0682"><span
style='color:#377063;text-decoration:none'>commit f8d0682</span></a><a
href="https://github.com/scrapy/scrapy/commit/f8d0682"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix list formatting (<a
href="https://github.com/scrapy/scrapy/commit/5f83a93"><span style='color:#377063;
text-decoration:none'>commit 5f83a93</span></a><a
href="https://github.com/scrapy/scrapy/commit/5f83a93"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix Scrapy squeue
tests after recent changes to queuelib (<a
href="https://github.com/scrapy/scrapy/commit/3365c01"><span style='color:#377063;
text-decoration:none'>commit 3365c01</span></a><a
href="https://github.com/scrapy/scrapy/commit/3365c01"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#1475 from rweindl/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/2d688cd"><span style='color:#377063;
text-decoration:none'>commit 2d688cd</span></a><a
href="https://github.com/scrapy/scrapy/commit/2d688cd"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update tutorial.rst (<a
href="https://github.com/scrapy/scrapy/commit/fbc1f25"><span style='color:#377063;
text-decoration:none'>commit fbc1f25</span></a><a
href="https://github.com/scrapy/scrapy/commit/fbc1f25"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#1449 from rhoekman/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/7d6538c"><span style='color:#377063;
text-decoration:none'>commit 7d6538c</span></a><a
href="https://github.com/scrapy/scrapy/commit/7d6538c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Small grammatical
change (<a href="https://github.com/scrapy/scrapy/commit/8752294"><span
style='color:#377063;text-decoration:none'>commit 8752294</span></a><a
href="https://github.com/scrapy/scrapy/commit/8752294"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add openssl version
to version command (<a href="https://github.com/scrapy/scrapy/commit/13c45ac"><span
style='color:#377063;text-decoration:none'>commit 13c45ac</span></a><a
href="https://github.com/scrapy/scrapy/commit/13c45ac"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.57 Scrapy 1.0.3
(2015-08-11)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add service_identity
to Scrapy install_requires (<a
href="https://github.com/scrapy/scrapy/commit/cbc2501"><span style='color:#377063;
text-decoration:none'>commit cbc2501</span></a><a
href="https://github.com/scrapy/scrapy/commit/cbc2501"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Workaround for
travis#296 (<a href="https://github.com/scrapy/scrapy/commit/66af9cd"><span
style='color:#377063;text-decoration:none'>commit 66af9cd</span></a><a
href="https://github.com/scrapy/scrapy/commit/66af9cd"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.58 Scrapy 1.0.2
(2015-08-06)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Twisted 15.3.0 does
not raises PicklingError serializing lambda functions (<a
href="https://github.com/scrapy/scrapy/commit/b04dd7d"><span style='color:#377063;
text-decoration:none'>commit b04dd7d</span></a><a
href="https://github.com/scrapy/scrapy/commit/b04dd7d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minor method name fix
(<a href="https://github.com/scrapy/scrapy/commit/6f85c7f"><span
style='color:#377063;text-decoration:none'>commit 6f85c7f</span></a><a
href="https://github.com/scrapy/scrapy/commit/6f85c7f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>minor: scrapy.Spider
grammar and clarity (<a href="https://github.com/scrapy/scrapy/commit/9c9d2e0"><span
style='color:#377063;text-decoration:none'>commit 9c9d2e0</span></a><a
href="https://github.com/scrapy/scrapy/commit/9c9d2e0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Put a blurb about
support channels in CONTRIBUTING (<a
href="https://github.com/scrapy/scrapy/commit/c63882b"><span style='color:#377063;
text-decoration:none'>commit c63882b</span></a><a
href="https://github.com/scrapy/scrapy/commit/c63882b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed typos (<a
href="https://github.com/scrapy/scrapy/commit/a9ae7b0"><span style='color:#377063;
text-decoration:none'>commit a9ae7b0</span></a><a
href="https://github.com/scrapy/scrapy/commit/a9ae7b0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix doc reference. (<a
href="https://github.com/scrapy/scrapy/commit/7c8a4fe"><span style='color:#377063;
text-decoration:none'>commit 7c8a4fe</span></a><a
href="https://github.com/scrapy/scrapy/commit/7c8a4fe"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.59 Scrapy 1.0.1
(2015-07-01)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Unquote request path
before passing to FTPClient, it already escape paths (<a
href="https://github.com/scrapy/scrapy/commit/cc00ad2"><span style='color:#377063;
text-decoration:none'>commit cc00ad2</span></a><a
href="https://github.com/scrapy/scrapy/commit/cc00ad2"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include tests/ to
source distribution in MANIFEST.in (<a
href="https://github.com/scrapy/scrapy/commit/eca227e"><span style='color:#377063;
text-decoration:none'>commit eca227e</span></a><a
href="https://github.com/scrapy/scrapy/commit/eca227e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC Fix SelectJmes
documentation (<a href="https://github.com/scrapy/scrapy/commit/b8567bc"><span
style='color:#377063;text-decoration:none'>commit b8567bc</span></a><a
href="https://github.com/scrapy/scrapy/commit/b8567bc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC Bring Ubuntu and
Archlinux outside of Windows subsection (<a
href="https://github.com/scrapy/scrapy/commit/392233f"><span style='color:#377063;
text-decoration:none'>commit 392233f</span></a><a
href="https://github.com/scrapy/scrapy/commit/392233f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC remove version
suffix from Ubuntu package (<a
href="https://github.com/scrapy/scrapy/commit/5303c66"><span style='color:#377063;
text-decoration:none'>commit 5303c66</span></a><a
href="https://github.com/scrapy/scrapy/commit/5303c66"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC Update release
date for 1.0 (<a href="https://github.com/scrapy/scrapy/commit/c89fa29"><span
style='color:#377063;text-decoration:none'>commit c89fa29</span></a><a
href="https://github.com/scrapy/scrapy/commit/c89fa29"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.60 Scrapy 1.0.0
(2015-06-19)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:.5pt'>You will find a lot of new features and bugfixes in this
major release. Make sure to check our updated <i><span style='color:#355F7C'>overview
</span></i>to get a glance of some of the changes, along with our brushed <i><span
style='color:#355F7C'>tutorial</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Support for
returning dictionaries in spiders</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Declaring and returning Scrapy Items is no longer necessary
to collect the scraped data from your spider, you can now return explicit
dictionaries instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=158 src="Scrapy%20Documentation_files/image521.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image522.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Per-spider
settings (GSoC 2014)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Last Google Summer of Code project accomplished an important
redesign of the mechanism used for populating settings, introducing explicit
priorities to override any given setting. As an extension of that goal, we
included a new level of priority for settings that act exclusively for a single
spider, allowing them to redefine project settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Start using it by defining a custom_settings class variable
in your spider:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:39.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=116 src="Scrapy%20Documentation_files/image523.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Python
Logging</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:126%'>Scrapy
1.0 has moved away from Twisted logging to support Python built in’s as default
logging system. We’re maintaining backward compatibility for most of the old
custom interface to call logging functions, but you’ll get warnings to switch
to the Python logging API entirely. <i>Old version</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image524.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'><i>New
version</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41 src="Scrapy%20Documentation_files/image525.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Logging with spiders remains the same, but on top of the log()
method you’ll have access to a custom logger created for the spider to issue
log events:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57 src="Scrapy%20Documentation_files/image526.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>Read more in the logging documentation: <i><span
style='color:#355F7C'>Logging</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Crawler API
refactoring (GSoC 2014)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Another milestone for last Google Summer of Code was a
refactoring of the internal API, seeking a simpler and easier usage. Check new
core interface in: <i><span style='color:#355F7C'>Core API</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>A common situation where you will face these changes is while
running Scrapy from scripts. Here’s a quick example of how to run a Spider
manually with the new API:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121 src="Scrapy%20Documentation_files/image527.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Bear in mind this feature is still under development and its
API may change until it reaches a stable status.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.25pt;
margin-left:.5pt'>See more examples for scripts running Scrapy: <i><span
style='color:#355F7C'>Common Practices</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Module
Relocations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There’s been a large rearrangement of modules trying to
improve the general structure of Scrapy. Main changes were separating various
subpackages into new projects and dissolving both scrapy.contrib and scrapy.contrib_exp
into top level packages. Backward compatibility was kept among internal
relocations, while importing deprecated modules expect warnings indicating
their new place.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Full list
of relocations</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.2pt;
margin-left:.5pt'>Outsourced packages</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 561517" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>These extensions went through some minor
changes, e.g. some setting names were changed. Please check the documentation
in each new repository to get familiar with the new usage.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 561518"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=503
 style='width:377.55pt;margin-left:45.25pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=154 valign=top style='width:115.25pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Old location</p>
  </td>
  <td width=350 valign=top style='width:262.3pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>New location</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=154 valign=top style='width:115.25pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.commands.deploy</p>
  </td>
  <td width=350 valign=top style='width:262.3pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><a href="https://github.com/scrapy/scrapyd-client"><span
  style='color:#377063;text-decoration:none'>scrapyd-client</span></a><span
  style='color:#377063'> </span>(See other alternatives here: <i><span
  style='color:#355F7C'>Deploying Spiders</span></i>)</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=154 valign=top style='width:115.25pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.djangoitem</p>
  </td>
  <td width=350 valign=top style='width:262.3pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><a
  href="https://github.com/scrapy-plugins/scrapy-djangoitem"><span
  style='color:#377063;text-decoration:none'>scrapy-djangoitem</span></a></p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=154 valign=top style='width:115.25pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:
  13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.webservice</p>
  </td>
  <td width=350 valign=top style='width:262.3pt;border:none;border-bottom:solid black 1.0pt;
  background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><a
  href="https://github.com/scrapy-plugins/scrapy-jsonrpc"><span
  style='color:#377063;text-decoration:none'>scrapy-jsonrpc</span></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.contrib_exp
and scrapy.contrib dissolutions</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=624
 style='width:468.2pt;margin-left:-.1pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=312 valign=top style='width:234.1pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.0pt 0in 0in;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Old location</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.0pt 0in 0in;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>New location</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=312 valign=top style='width:234.1pt;border:none;background:#EBEBEB;
  padding:0in 5.0pt 0in 0in;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib_exp.downloadermiddleware.decompressi</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;border:none;background:#EBEBEB;
  padding:0in 5.0pt 0in 0in;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-5.0pt;text-align:left;text-indent:0in;
  line-height:107%'>onscrapy.downloadermiddlewares.decompression</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib_exp.iterators</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.utils.iterators</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.downloadermiddleware</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.downloadermiddlewares</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.exporter</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.exporters</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.linkextractors</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.linkextractors</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.loader</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.loader</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.loader.processor</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.loader.processors</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.pipeline</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.pipelines</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.spidermiddleware</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#EBEBEB;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.spidermiddlewares</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.contrib.spiders</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;background:#FAFAFA;padding:
  0in 5.0pt 0in 0in;height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.spiders</p>
  </td>
 </tr>
 <tr style='height:211.15pt'>
  <td width=312 valign=top style='width:234.1pt;border:none;border-bottom:solid black 1.0pt;
  background:#EBEBEB;padding:0in 5.0pt 0in 0in;height:211.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.closespider</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.corestats</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.debug</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.feedexport</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.httpcache</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.logstats</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.memdebug</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.memusage</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.spiderstate</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.8pt;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.statsmailer</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:30.95pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>scrapy.contrib.throttle</p>
  </td>
  <td width=312 valign=top style='width:234.1pt;border:none;border-bottom:solid black 1.0pt;
  background:#EBEBEB;padding:0in 5.0pt 0in 0in;height:211.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.0pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.extensions.*</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:78.4pt;
margin-left:.5pt'>Plural renames and Modules unification</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=263
 style='width:197.45pt;margin-left:135.3pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=129 valign=top style='width:96.8pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Old location</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>New location</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=129 valign=top style='width:96.8pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.command</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.commands</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=129 valign=top style='width:96.8pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.dupefilter</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.dupefilters</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=129 valign=top style='width:96.8pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.linkextractor</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.linkextractors</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=129 valign=top style='width:96.8pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.spider</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.spiders</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=129 valign=top style='width:96.8pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.squeue</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;background:#EBEBEB;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.squeues</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=129 valign=top style='width:96.8pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.statscol</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;background:#FAFAFA;padding:
  0in 5.75pt 0in 6.0pt;height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.statscollectors</p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=129 valign=top style='width:96.8pt;border:none;border-bottom:solid black 1.0pt;
  background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.utils.decorator</p>
  </td>
  <td width=134 valign=top style='width:100.65pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;height:
  13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.utils.decorators</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.35pt;
margin-left:.5pt'>Class renames</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=408
 style='width:306.05pt;margin-left:81.0pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=215 valign=top style='width:161.25pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:.35pt 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Old location</p>
  </td>
  <td width=193 valign=top style='width:144.75pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:.35pt 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>New location</p>
  </td>
 </tr>
 <tr style='height:15.6pt'>
  <td width=215 valign=top style='width:161.25pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:.35pt 5.75pt 0in 6.0pt;
  height:15.6pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>scrapy.spidermanager.SpiderManager</p>
  </td>
  <td width=193 valign=top style='width:144.75pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:.35pt 5.75pt 0in 6.0pt;
  height:15.6pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>scrapy.spiderloader.SpiderLoader</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.35pt;
margin-left:.5pt'>Settings renames</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=352
 style='width:264.0pt;margin-left:102.0pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=182 valign=top style='width:136.85pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:.35pt 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>Old location</p>
  </td>
  <td width=170 valign=top style='width:127.15pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:.35pt 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>New location</p>
  </td>
 </tr>
 <tr style='height:15.6pt'>
  <td width=182 valign=top style='width:136.85pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:.35pt 6.0pt 0in 6.0pt;
  height:15.6pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.1pt;text-indent:0in;line-height:107%'>SPIDER_MANAGER_CLASS</p>
  </td>
  <td width=170 valign=top style='width:127.15pt;border:none;border-bottom:
  solid black 1.0pt;background:#EBEBEB;padding:.35pt 6.0pt 0in 6.0pt;
  height:15.6pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>SPIDER_LOADER_CLASS</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Changelog</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>New Features and Enhancements</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python
logging (<a href="https://github.com/scrapy/scrapy/issues/1060"><span
style='color:#377063;text-decoration:none'>issue 1060</span></a><a
href="https://github.com/scrapy/scrapy/issues/1060"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1235"><span style='color:#377063;
text-decoration:none'>issue 1235</span></a><a
href="https://github.com/scrapy/scrapy/issues/1235"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1236"><span style='color:#377063;
text-decoration:none'>issue 1236</span></a><a
href="https://github.com/scrapy/scrapy/issues/1236"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1240"><span style='color:#377063;
text-decoration:none'>issue 1240</span></a><a
href="https://github.com/scrapy/scrapy/issues/1240"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1259"><span style='color:#377063;
text-decoration:none'>issue 1259</span></a><a
href="https://github.com/scrapy/scrapy/issues/1259"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1278"><span style='color:#377063;
text-decoration:none'>issue 1278</span></a><a
href="https://github.com/scrapy/scrapy/issues/1278"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1286"><span style='color:#377063;
text-decoration:none'>issue 1286</span></a><a
href="https://github.com/scrapy/scrapy/issues/1286"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>FEED_EXPORT_FIELDS
option (<a href="https://github.com/scrapy/scrapy/issues/1159"><span
style='color:#377063;text-decoration:none'>issue 1159</span></a><a
href="https://github.com/scrapy/scrapy/issues/1159"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1224"><span style='color:#377063;
text-decoration:none'>issue 1224</span></a><a
href="https://github.com/scrapy/scrapy/issues/1224"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dns cache size and
timeout options (<a href="https://github.com/scrapy/scrapy/issues/1132"><span
style='color:#377063;text-decoration:none'>issue 1132</span></a><a
href="https://github.com/scrapy/scrapy/issues/1132"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>support namespace
prefix in xmliter_lxml (<a href="https://github.com/scrapy/scrapy/issues/963"><span
style='color:#377063;text-decoration:none'>issue 963</span></a><a
href="https://github.com/scrapy/scrapy/issues/963"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reactor threadpool
max size setting (<a href="https://github.com/scrapy/scrapy/issues/1123"><span
style='color:#377063;text-decoration:none'>issue 1123</span></a><a
href="https://github.com/scrapy/scrapy/issues/1123"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow spiders to
return dicts. (<a href="https://github.com/scrapy/scrapy/issues/1081"><span
style='color:#377063;text-decoration:none'>issue 1081</span></a><a
href="https://github.com/scrapy/scrapy/issues/1081"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add
Response.urljoin() helper (<a
href="https://github.com/scrapy/scrapy/issues/1086"><span style='color:#377063;
text-decoration:none'>issue 1086</span></a><a
href="https://github.com/scrapy/scrapy/issues/1086"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>look in
~/.config/scrapy.cfg for user config (<a
href="https://github.com/scrapy/scrapy/issues/1098"><span style='color:#377063;
text-decoration:none'>issue 1098</span></a><a
href="https://github.com/scrapy/scrapy/issues/1098"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>handle TLS SNI (<a
href="https://github.com/scrapy/scrapy/issues/1101"><span style='color:#377063;
text-decoration:none'>issue 1101</span></a><a
href="https://github.com/scrapy/scrapy/issues/1101"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Selectorlist extract
first (<a href="https://github.com/scrapy/scrapy/issues/624"><span
style='color:#377063;text-decoration:none'>issue 624</span></a><a
href="https://github.com/scrapy/scrapy/issues/624"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1145"><span style='color:#377063;
text-decoration:none'>issue 1145</span></a><a
href="https://github.com/scrapy/scrapy/issues/1145"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added JmesSelect (<a
href="https://github.com/scrapy/scrapy/issues/1016"><span style='color:#377063;
text-decoration:none'>issue 1016</span></a><a
href="https://github.com/scrapy/scrapy/issues/1016"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add gzip compression
to filesystem http cache backend (<a
href="https://github.com/scrapy/scrapy/issues/1020"><span style='color:#377063;
text-decoration:none'>issue 1020</span></a><a
href="https://github.com/scrapy/scrapy/issues/1020"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CSS support in link
extractors (<a href="https://github.com/scrapy/scrapy/issues/983"><span
style='color:#377063;text-decoration:none'>issue 983</span></a><a
href="https://github.com/scrapy/scrapy/issues/983"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>httpcache dont_cache
meta #19 #689 (<a href="https://github.com/scrapy/scrapy/issues/821"><span
style='color:#377063;text-decoration:none'>issue 821</span></a><a
href="https://github.com/scrapy/scrapy/issues/821"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add signal to be sent
when request is dropped by the scheduler (<a
href="https://github.com/scrapy/scrapy/issues/961"><span style='color:#377063;
text-decoration:none'>issue 961</span></a><a
href="https://github.com/scrapy/scrapy/issues/961"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>avoid download large
response (<a href="https://github.com/scrapy/scrapy/issues/946"><span
style='color:#377063;text-decoration:none'>issue 946</span></a><a
href="https://github.com/scrapy/scrapy/issues/946"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow to specify the
quotechar in CSVFeedSpider (<a
href="https://github.com/scrapy/scrapy/issues/882"><span style='color:#377063;
text-decoration:none'>issue 882</span></a><a
href="https://github.com/scrapy/scrapy/issues/882"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add referer to
“Spider error processing” log message (<a
href="https://github.com/scrapy/scrapy/issues/795"><span style='color:#377063;
text-decoration:none'>issue 795</span></a><a
href="https://github.com/scrapy/scrapy/issues/795"><span style='color:black;
text-decoration:none'>)</span></a></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection41>

<p class=MsoNormal style='margin-top:0in;margin-right:280.65pt;margin-bottom:
0in;margin-left:25.4pt;line-height:147%'>process robots.txt once (<a
href="https://github.com/scrapy/scrapy/issues/896"><span style='color:#377063;
text-decoration:none'>issue 896</span></a><a
href="https://github.com/scrapy/scrapy/issues/896"><span style='color:black;
text-decoration:none'>) </span></a>GSoC Per-spider settings (<a
href="https://github.com/scrapy/scrapy/issues/854"><span style='color:#377063;
text-decoration:none'>issue 854</span></a><a
href="https://github.com/scrapy/scrapy/issues/854"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Add project name validation (<a
href="https://github.com/scrapy/scrapy/issues/817"><span style='color:#377063;
text-decoration:none'>issue 817</span></a><a
href="https://github.com/scrapy/scrapy/issues/817"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'>GSoC API cleanup (<a
href="https://github.com/scrapy/scrapy/issues/816"><span style='color:#377063;
text-decoration:none'>issue 816</span></a><a
href="https://github.com/scrapy/scrapy/issues/816"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1128"><span style='color:#377063;
text-decoration:none'>issue 1128</span></a><a
href="https://github.com/scrapy/scrapy/issues/1128"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1147"><span style='color:#377063;
text-decoration:none'>issue 1147</span></a><a
href="https://github.com/scrapy/scrapy/issues/1147"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1148"><span style='color:#377063;
text-decoration:none'>issue 1148</span></a><a
href="https://github.com/scrapy/scrapy/issues/1148"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1156"><span style='color:#377063;
text-decoration:none'>issue 1156</span></a><a
href="https://github.com/scrapy/scrapy/issues/1156"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1185"><span style='color:#377063;
text-decoration:none'>issue 1185</span></a><a
href="https://github.com/scrapy/scrapy/issues/1185"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1187"><span style='color:#377063;
text-decoration:none'>issue 1187</span></a><a
href="https://github.com/scrapy/scrapy/issues/1187"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1258"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1258"><span style='color:#377063;
text-decoration:none'>1258</span></a><a
href="https://github.com/scrapy/scrapy/issues/1258"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1268"><span style='color:#377063;
text-decoration:none'>issue 1268</span></a><a
href="https://github.com/scrapy/scrapy/issues/1268"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1276"><span style='color:#377063;
text-decoration:none'>issue 1276</span></a><a
href="https://github.com/scrapy/scrapy/issues/1276"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1285"><span style='color:#377063;
text-decoration:none'>issue 1285</span></a><a
href="https://github.com/scrapy/scrapy/issues/1285"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1284"><span style='color:#377063;
text-decoration:none'>issue 1284</span></a><a
href="https://github.com/scrapy/scrapy/issues/1284"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Be more responsive
with IO operations (<a href="https://github.com/scrapy/scrapy/issues/1074"><span
style='color:#377063;text-decoration:none'>issue 1074</span></a><span
style='color:#377063'> </span>and <a
href="https://github.com/scrapy/scrapy/issues/1075"><span style='color:#377063;
text-decoration:none'>issue 1075</span></a><a
href="https://github.com/scrapy/scrapy/issues/1075"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do leveldb compaction
for httpcache on closing (<a href="https://github.com/scrapy/scrapy/issues/1297"><span
style='color:#377063;text-decoration:none'>issue 1297</span></a><a
href="https://github.com/scrapy/scrapy/issues/1297"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Deprecations and Removals</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecate htmlparser
link extractor (<a href="https://github.com/scrapy/scrapy/issues/1205"><span
style='color:#377063;text-decoration:none'>issue 1205</span></a><a
href="https://github.com/scrapy/scrapy/issues/1205"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove deprecated
code from FeedExporter (<a href="https://github.com/scrapy/scrapy/issues/1155"><span
style='color:#377063;text-decoration:none'>issue 1155</span></a><a
href="https://github.com/scrapy/scrapy/issues/1155"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>a leftover for.15
compatibility (<a href="https://github.com/scrapy/scrapy/issues/925"><span
style='color:#377063;text-decoration:none'>issue 925</span></a><a
href="https://github.com/scrapy/scrapy/issues/925"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop support for
CONCURRENT_REQUESTS_PER_SPIDER (<a
href="https://github.com/scrapy/scrapy/issues/895"><span style='color:#377063;
text-decoration:none'>issue 895</span></a><a
href="https://github.com/scrapy/scrapy/issues/895"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Drop old engine code
(<a href="https://github.com/scrapy/scrapy/issues/911"><span style='color:#377063;
text-decoration:none'>issue 911</span></a><a
href="https://github.com/scrapy/scrapy/issues/911"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecate
SgmlLinkExtractor (<a href="https://github.com/scrapy/scrapy/issues/777"><span
style='color:#377063;text-decoration:none'>issue 777</span></a><a
href="https://github.com/scrapy/scrapy/issues/777"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Relocations</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Move
exporters/__init__.py to exporters.py (<a
href="https://github.com/scrapy/scrapy/issues/1242"><span style='color:#377063;
text-decoration:none'>issue 1242</span></a><a
href="https://github.com/scrapy/scrapy/issues/1242"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Move base classes to
their packages (<a href="https://github.com/scrapy/scrapy/issues/1218"><span
style='color:#377063;text-decoration:none'>issue 1218</span></a><a
href="https://github.com/scrapy/scrapy/issues/1218"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1233"><span style='color:#377063;
text-decoration:none'>issue 1233</span></a><a
href="https://github.com/scrapy/scrapy/issues/1233"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Module relocation (<a
href="https://github.com/scrapy/scrapy/issues/1181"><span style='color:#377063;
text-decoration:none'>issue 1181</span></a><a
href="https://github.com/scrapy/scrapy/issues/1181"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1210"><span style='color:#377063;
text-decoration:none'>issue 1210</span></a><a
href="https://github.com/scrapy/scrapy/issues/1210"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rename SpiderManager
to SpiderLoader (<a href="https://github.com/scrapy/scrapy/issues/1166"><span
style='color:#377063;text-decoration:none'>issue 1166</span></a><a
href="https://github.com/scrapy/scrapy/issues/1166"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove djangoitem (<a
href="https://github.com/scrapy/scrapy/issues/1177"><span style='color:#377063;
text-decoration:none'>issue 1177</span></a><a
href="https://github.com/scrapy/scrapy/issues/1177"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove scrapy deploy
command (<a href="https://github.com/scrapy/scrapy/issues/1102"><span
style='color:#377063;text-decoration:none'>issue 1102</span></a><a
href="https://github.com/scrapy/scrapy/issues/1102"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dissolve contrib_exp
(<a href="https://github.com/scrapy/scrapy/issues/1134"><span style='color:
#377063;text-decoration:none'>issue 1134</span></a><a
href="https://github.com/scrapy/scrapy/issues/1134"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deleted bin folder
from root, fixes #913 (<a href="https://github.com/scrapy/scrapy/issues/914"><span
style='color:#377063;text-decoration:none'>issue 914</span></a><a
href="https://github.com/scrapy/scrapy/issues/914"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove jsonrpc based
webservice (<a href="https://github.com/scrapy/scrapy/issues/859"><span
style='color:#377063;text-decoration:none'>issue 859</span></a><a
href="https://github.com/scrapy/scrapy/issues/859"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Move Test cases under
project root dir (<a href="https://github.com/scrapy/scrapy/issues/827"><span
style='color:#377063;text-decoration:none'>issue 827</span></a><a
href="https://github.com/scrapy/scrapy/issues/827"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/841"><span style='color:#377063;
text-decoration:none'>issue 841</span></a><a
href="https://github.com/scrapy/scrapy/issues/841"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix backward
incompatibility for relocated paths in settings (<a
href="https://github.com/scrapy/scrapy/issues/1267"><span style='color:#377063;
text-decoration:none'>issue 1267</span></a><a
href="https://github.com/scrapy/scrapy/issues/1267"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Documentation</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CrawlerProcess
documentation (<a href="https://github.com/scrapy/scrapy/issues/1190"><span
style='color:#377063;text-decoration:none'>issue 1190</span></a><a
href="https://github.com/scrapy/scrapy/issues/1190"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Favoring web scraping
over screen scraping in the descriptions (<a
href="https://github.com/scrapy/scrapy/issues/1188"><span style='color:#377063;
text-decoration:none'>issue 1188</span></a><a
href="https://github.com/scrapy/scrapy/issues/1188"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Some improvements for
Scrapy tutorial (<a href="https://github.com/scrapy/scrapy/issues/1180"><span
style='color:#377063;text-decoration:none'>issue 1180</span></a><a
href="https://github.com/scrapy/scrapy/issues/1180"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documenting Files
Pipeline together with Images Pipeline (<a
href="https://github.com/scrapy/scrapy/issues/1150"><span style='color:#377063;
text-decoration:none'>issue 1150</span></a><a
href="https://github.com/scrapy/scrapy/issues/1150"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>deployment docs
tweaks (<a href="https://github.com/scrapy/scrapy/issues/1164"><span
style='color:#377063;text-decoration:none'>issue 1164</span></a><a
href="https://github.com/scrapy/scrapy/issues/1164"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added deployment
section covering scrapyd-deploy and shub (<a
href="https://github.com/scrapy/scrapy/issues/1124"><span style='color:#377063;
text-decoration:none'>issue 1124</span></a><a
href="https://github.com/scrapy/scrapy/issues/1124"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Adding more settings
to project template (<a href="https://github.com/scrapy/scrapy/issues/1073"><span
style='color:#377063;text-decoration:none'>issue 1073</span></a><a
href="https://github.com/scrapy/scrapy/issues/1073"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>some improvements to
overview page (<a href="https://github.com/scrapy/scrapy/issues/1106"><span
style='color:#377063;text-decoration:none'>issue 1106</span></a><a
href="https://github.com/scrapy/scrapy/issues/1106"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:33.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated link in
docs/topics/architecture.rst (<a
href="https://github.com/scrapy/scrapy/issues/647"><span style='color:#377063;
text-decoration:none'>issue 647</span></a><a
href="https://github.com/scrapy/scrapy/issues/647"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>DOC reorder topics (<a
href="https://github.com/scrapy/scrapy/issues/1022"><span style='color:#377063;
text-decoration:none'>issue 1022</span></a><a
href="https://github.com/scrapy/scrapy/issues/1022"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>updating list of Request.meta special keys (<a
href="https://github.com/scrapy/scrapy/issues/1071"><span style='color:#377063;
text-decoration:none'>issue 1071</span></a><a
href="https://github.com/scrapy/scrapy/issues/1071"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>DOC document download_timeout (<a
href="https://github.com/scrapy/scrapy/issues/898"><span style='color:#377063;
text-decoration:none'>issue 898</span></a><a
href="https://github.com/scrapy/scrapy/issues/898"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>DOC simplify extension docs (<a
href="https://github.com/scrapy/scrapy/issues/893"><span style='color:#377063;
text-decoration:none'>issue 893</span></a><a
href="https://github.com/scrapy/scrapy/issues/893"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Leaks docs (<a
href="https://github.com/scrapy/scrapy/issues/894"><span style='color:#377063;
text-decoration:none'>issue 894</span></a><a
href="https://github.com/scrapy/scrapy/issues/894"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC document
from_crawler method for item pipelines (<a
href="https://github.com/scrapy/scrapy/issues/904"><span style='color:#377063;
text-decoration:none'>issue 904</span></a><a
href="https://github.com/scrapy/scrapy/issues/904"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider_error doesn’t
support deferreds (<a href="https://github.com/scrapy/scrapy/issues/1292"><span
style='color:#377063;text-decoration:none'>issue 1292</span></a><a
href="https://github.com/scrapy/scrapy/issues/1292"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Corrections
&amp; Sphinx related fixes (<a
href="https://github.com/scrapy/scrapy/issues/1220"><span style='color:#377063;
text-decoration:none'>issue 1220</span></a><a
href="https://github.com/scrapy/scrapy/issues/1220"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1219"><span style='color:#377063;
text-decoration:none'>issue 1219</span></a><a
href="https://github.com/scrapy/scrapy/issues/1219"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1196"><span style='color:#377063;
text-decoration:none'>issue 1196</span></a><a
href="https://github.com/scrapy/scrapy/issues/1196"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1172"><span style='color:#377063;
text-decoration:none'>issue 1172</span></a><a
href="https://github.com/scrapy/scrapy/issues/1172"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1171"><span style='color:#377063;
text-decoration:none'>issue 1171</span></a><a
href="https://github.com/scrapy/scrapy/issues/1171"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1169"><span style='color:#377063;
text-decoration:none'>issue 1169</span></a><a
href="https://github.com/scrapy/scrapy/issues/1169"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1160"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/1160"><span style='color:#377063;
text-decoration:none'>1160</span></a><a
href="https://github.com/scrapy/scrapy/issues/1160"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1154"><span style='color:#377063;
text-decoration:none'>issue 1154</span></a><a
href="https://github.com/scrapy/scrapy/issues/1154"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1127"><span style='color:#377063;
text-decoration:none'>issue 1127</span></a><a
href="https://github.com/scrapy/scrapy/issues/1127"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1112"><span style='color:#377063;
text-decoration:none'>issue 1112</span></a><a
href="https://github.com/scrapy/scrapy/issues/1112"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1105"><span style='color:#377063;
text-decoration:none'>issue 1105</span></a><a
href="https://github.com/scrapy/scrapy/issues/1105"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1041"><span style='color:#377063;
text-decoration:none'>issue 1041</span></a><a
href="https://github.com/scrapy/scrapy/issues/1041"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1082"><span style='color:#377063;
text-decoration:none'>issue 1082</span></a><a
href="https://github.com/scrapy/scrapy/issues/1082"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1033"><span style='color:#377063;
text-decoration:none'>issue 1033</span></a><a
href="https://github.com/scrapy/scrapy/issues/1033"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/944"><span style='color:#377063;
text-decoration:none'>issue 944</span></a><a
href="https://github.com/scrapy/scrapy/issues/944"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/866"><span style='color:#377063;
text-decoration:none'>issue 866</span></a><a
href="https://github.com/scrapy/scrapy/issues/866"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/864"><span style='color:#377063;
text-decoration:none'>issue 864</span></a><a
href="https://github.com/scrapy/scrapy/issues/864"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/796"><span style='color:#377063;
text-decoration:none'>issue 796</span></a><a
href="https://github.com/scrapy/scrapy/issues/796"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1260"><span style='color:#377063;
text-decoration:none'>issue 1260</span></a><a
href="https://github.com/scrapy/scrapy/issues/1260"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1271"><span style='color:#377063;
text-decoration:none'>issue 1271</span></a><a
href="https://github.com/scrapy/scrapy/issues/1271"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1293"><span style='color:#377063;
text-decoration:none'>issue 1293</span></a><a
href="https://github.com/scrapy/scrapy/issues/1293"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1298"><span style='color:#377063;
text-decoration:none'>issue 1298</span></a><a
href="https://github.com/scrapy/scrapy/issues/1298"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Bugfixes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Item multi
inheritance fix (<a href="https://github.com/scrapy/scrapy/issues/353"><span
style='color:#377063;text-decoration:none'>issue 353</span></a><a
href="https://github.com/scrapy/scrapy/issues/353"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1228"><span style='color:#377063;
text-decoration:none'>issue 1228</span></a><a
href="https://github.com/scrapy/scrapy/issues/1228"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ItemLoader.load_item:
iterate over copy of fields (<a
href="https://github.com/scrapy/scrapy/issues/722"><span style='color:#377063;
text-decoration:none'>issue 722</span></a><a
href="https://github.com/scrapy/scrapy/issues/722"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix Unhandled error
in Deferred (RobotsTxtMiddleware) (<a
href="https://github.com/scrapy/scrapy/issues/1131"><span style='color:#377063;
text-decoration:none'>issue 1131</span></a><a
href="https://github.com/scrapy/scrapy/issues/1131"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/1197"><span style='color:#377063;
text-decoration:none'>issue 1197</span></a><a
href="https://github.com/scrapy/scrapy/issues/1197"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Force to read
DOWNLOAD_TIMEOUT as int (<a href="https://github.com/scrapy/scrapy/issues/954"><span
style='color:#377063;text-decoration:none'>issue 954</span></a><a
href="https://github.com/scrapy/scrapy/issues/954"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.utils.misc.load_object
should print full traceback (<a
href="https://github.com/scrapy/scrapy/issues/902"><span style='color:#377063;
text-decoration:none'>issue 902</span></a><a
href="https://github.com/scrapy/scrapy/issues/902"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix bug for “.local”
host name (<a href="https://github.com/scrapy/scrapy/issues/878"><span
style='color:#377063;text-decoration:none'>issue 878</span></a><a
href="https://github.com/scrapy/scrapy/issues/878"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix for Enabled
extensions, middlewares, pipelines info not printed anymore (<a
href="https://github.com/scrapy/scrapy/issues/879"><span style='color:#377063;
text-decoration:none'>issue 879</span></a><a
href="https://github.com/scrapy/scrapy/issues/879"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix
dont_merge_cookies bad behaviour when set to false on meta (<a
href="https://github.com/scrapy/scrapy/issues/846"><span style='color:#377063;
text-decoration:none'>issue 846</span></a><a
href="https://github.com/scrapy/scrapy/issues/846"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Python 3 In Progress Support</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>disable scrapy.telnet
if twisted.conch is not available (<a
href="https://github.com/scrapy/scrapy/issues/1161"><span style='color:#377063;
text-decoration:none'>issue 1161</span></a><a
href="https://github.com/scrapy/scrapy/issues/1161"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix Python 3 syntax
errors in ajaxcrawl.py (<a href="https://github.com/scrapy/scrapy/issues/1162"><span
style='color:#377063;text-decoration:none'>issue 1162</span></a><a
href="https://github.com/scrapy/scrapy/issues/1162"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>more python3
compatibility changes for urllib (<a
href="https://github.com/scrapy/scrapy/issues/1121"><span style='color:#377063;
text-decoration:none'>issue 1121</span></a><a
href="https://github.com/scrapy/scrapy/issues/1121"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>assertItemsEqual was
renamed to assertCountEqual in Python 3. (<a
href="https://github.com/scrapy/scrapy/issues/1070"><span style='color:#377063;
text-decoration:none'>issue 1070</span></a><a
href="https://github.com/scrapy/scrapy/issues/1070"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Import unittest.mock
if available. (<a href="https://github.com/scrapy/scrapy/issues/1066"><span
style='color:#377063;text-decoration:none'>issue 1066</span></a><a
href="https://github.com/scrapy/scrapy/issues/1066"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>updated deprecated
cgi.parse_qsl to use six’s parse_qsl (<a
href="https://github.com/scrapy/scrapy/issues/909"><span style='color:#377063;
text-decoration:none'>issue 909</span></a><a
href="https://github.com/scrapy/scrapy/issues/909"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Prevent Python 3 port
regressions (<a href="https://github.com/scrapy/scrapy/issues/830"><span
style='color:#377063;text-decoration:none'>issue 830</span></a><a
href="https://github.com/scrapy/scrapy/issues/830"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: use
MutableMapping for python 3 (<a
href="https://github.com/scrapy/scrapy/issues/810"><span style='color:#377063;
text-decoration:none'>issue 810</span></a><a
href="https://github.com/scrapy/scrapy/issues/810"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: use six.BytesIO
and six.moves.cStringIO (<a href="https://github.com/scrapy/scrapy/issues/803"><span
style='color:#377063;text-decoration:none'>issue 803</span></a><a
href="https://github.com/scrapy/scrapy/issues/803"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: fix xmlrpclib
and email imports (<a href="https://github.com/scrapy/scrapy/issues/801"><span
style='color:#377063;text-decoration:none'>issue 801</span></a><a
href="https://github.com/scrapy/scrapy/issues/801"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: use six for
robotparser and urlparse (<a href="https://github.com/scrapy/scrapy/issues/800"><span
style='color:#377063;text-decoration:none'>issue 800</span></a><a
href="https://github.com/scrapy/scrapy/issues/800"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: use
six.iterkeys, six.iteritems, and tempfile (<a
href="https://github.com/scrapy/scrapy/issues/799"><span style='color:#377063;
text-decoration:none'>issue 799</span></a><a
href="https://github.com/scrapy/scrapy/issues/799"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: fix has_key and
use six.moves.configparser (<a
href="https://github.com/scrapy/scrapy/issues/798"><span style='color:#377063;
text-decoration:none'>issue 798</span></a><a
href="https://github.com/scrapy/scrapy/issues/798"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3: use
six.moves.cPickle (<a href="https://github.com/scrapy/scrapy/issues/797"><span
style='color:#377063;text-decoration:none'>issue 797</span></a><a
href="https://github.com/scrapy/scrapy/issues/797"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PY3 make it possible
to run some tests in Python3 (<a
href="https://github.com/scrapy/scrapy/issues/776"><span style='color:#377063;
text-decoration:none'>issue 776</span></a><a
href="https://github.com/scrapy/scrapy/issues/776"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Tests</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove unnecessary
lines from py3-ignores (<a href="https://github.com/scrapy/scrapy/issues/1243"><span
style='color:#377063;text-decoration:none'>issue 1243</span></a><a
href="https://github.com/scrapy/scrapy/issues/1243"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Fix remaining warnings from pytest while collecting tests (<a
href="https://github.com/scrapy/scrapy/issues/1206"><span style='color:#377063;
text-decoration:none'>issue 1206</span></a><a
href="https://github.com/scrapy/scrapy/issues/1206"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Add docs build to travis (<a
href="https://github.com/scrapy/scrapy/issues/1234"><span style='color:#377063;
text-decoration:none'>issue 1234</span></a><a
href="https://github.com/scrapy/scrapy/issues/1234"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:86.55pt;margin-bottom:
0in;margin-left:25.4pt;line-height:147%'>TST don’t collect tests from
deprecated modules. (<a href="https://github.com/scrapy/scrapy/issues/1165"><span
style='color:#377063;text-decoration:none'>issue 1165</span></a><a
href="https://github.com/scrapy/scrapy/issues/1165"><span style='color:black;
text-decoration:none'>) </span></a>install service_identity package in tests to
prevent warnings (<a href="https://github.com/scrapy/scrapy/issues/1168"><span
style='color:#377063;text-decoration:none'>issue 1168</span></a><a
href="https://github.com/scrapy/scrapy/issues/1168"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix deprecated
settings API in tests (<a href="https://github.com/scrapy/scrapy/issues/1152"><span
style='color:#377063;text-decoration:none'>issue 1152</span></a><a
href="https://github.com/scrapy/scrapy/issues/1152"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add test for
webclient with POST method and no body given (<a
href="https://github.com/scrapy/scrapy/issues/1089"><span style='color:#377063;
text-decoration:none'>issue 1089</span></a><a
href="https://github.com/scrapy/scrapy/issues/1089"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>py3-ignores.txt
supports comments (<a href="https://github.com/scrapy/scrapy/issues/1044"><span
style='color:#377063;text-decoration:none'>issue 1044</span></a><a
href="https://github.com/scrapy/scrapy/issues/1044"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>modernize some of the
asserts (<a href="https://github.com/scrapy/scrapy/issues/835"><span
style='color:#377063;text-decoration:none'>issue 835</span></a><a
href="https://github.com/scrapy/scrapy/issues/835"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>selector.__repr__
test (<a href="https://github.com/scrapy/scrapy/issues/779"><span
style='color:#377063;text-decoration:none'>issue 779</span></a><a
href="https://github.com/scrapy/scrapy/issues/779"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Code refactoring</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CSVFeedSpider
cleanup: use iterate_spider_output (<a
href="https://github.com/scrapy/scrapy/issues/1079"><span style='color:#377063;
text-decoration:none'>issue 1079</span></a><a
href="https://github.com/scrapy/scrapy/issues/1079"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove unnecessary
check from scrapy.utils.spider.iter_spider_output (<a
href="https://github.com/scrapy/scrapy/issues/1078"><span style='color:#377063;
text-decoration:none'>issue 1078</span></a><a
href="https://github.com/scrapy/scrapy/issues/1078"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pydispatch pep8 (<a
href="https://github.com/scrapy/scrapy/issues/992"><span style='color:#377063;
text-decoration:none'>issue 992</span></a><a
href="https://github.com/scrapy/scrapy/issues/992"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed unused
‘load=False’ parameter from walk_modules() (<a
href="https://github.com/scrapy/scrapy/issues/871"><span style='color:#377063;
text-decoration:none'>issue 871</span></a><a
href="https://github.com/scrapy/scrapy/issues/871"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>For consistency, use job_dir
helper in SpiderState extension. (<a
href="https://github.com/scrapy/scrapy/issues/805"><span style='color:#377063;
text-decoration:none'>issue 805</span></a><a
href="https://github.com/scrapy/scrapy/issues/805"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rename “sflo” local
variables to less cryptic “log_observer” (<a
href="https://github.com/scrapy/scrapy/issues/775"><span style='color:#377063;
text-decoration:none'>issue 775</span></a><a
href="https://github.com/scrapy/scrapy/issues/775"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.61 Scrapy 0.24.6
(2015-04-20)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>encode invalid xpath
with unicode_escape under PY2 (<a
href="https://github.com/scrapy/scrapy/commit/07cb3e5"><span style='color:#377063;
text-decoration:none'>commit 07cb3e5</span></a><a
href="https://github.com/scrapy/scrapy/commit/07cb3e5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix IPython shell
scope issue and load IPython user config (<a
href="https://github.com/scrapy/scrapy/commit/2c8e573"><span style='color:#377063;
text-decoration:none'>commit 2c8e573</span></a><a
href="https://github.com/scrapy/scrapy/commit/2c8e573"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix small typo in the
docs (<a href="https://github.com/scrapy/scrapy/commit/d694019"><span
style='color:#377063;text-decoration:none'>commit d694019</span></a><a
href="https://github.com/scrapy/scrapy/commit/d694019"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix small typo (<a
href="https://github.com/scrapy/scrapy/commit/f92fa83"><span style='color:#377063;
text-decoration:none'>commit f92fa83</span></a><a
href="https://github.com/scrapy/scrapy/commit/f92fa83"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Converted sel.xpath()
calls to response.xpath() in Extracting the data (<a
href="https://github.com/scrapy/scrapy/commit/c2c6d15"><span style='color:#377063;
text-decoration:none'>commit c2c6d15</span></a><a
href="https://github.com/scrapy/scrapy/commit/c2c6d15"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.62 Scrapy 0.24.5
(2015-02-25)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support new
_getEndpoint Agent signatures on Twisted 15.0.0 (<a
href="https://github.com/scrapy/scrapy/commit/540b9bc"><span style='color:#377063;
text-decoration:none'>commit 540b9bc</span></a><a
href="https://github.com/scrapy/scrapy/commit/540b9bc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC a couple more
references are fixed (<a href="https://github.com/scrapy/scrapy/commit/b4c454b"><span
style='color:#377063;text-decoration:none'>commit b4c454b</span></a><a
href="https://github.com/scrapy/scrapy/commit/b4c454b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC fix a reference (<a
href="https://github.com/scrapy/scrapy/commit/e3c1260"><span style='color:#377063;
text-decoration:none'>commit e3c1260</span></a><a
href="https://github.com/scrapy/scrapy/commit/e3c1260"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>t.i.b.ThreadedResolver
is now a new-style class (<a
href="https://github.com/scrapy/scrapy/commit/9e13f42"><span style='color:#377063;
text-decoration:none'>commit 9e13f42</span></a><a
href="https://github.com/scrapy/scrapy/commit/9e13f42"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>S3DownloadHandler:
fix auth for requests with quoted paths/query params (<a
href="https://github.com/scrapy/scrapy/commit/cdb9a0b"><span style='color:#377063;
text-decoration:none'>commit cdb9a0b</span></a><a
href="https://github.com/scrapy/scrapy/commit/cdb9a0b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed the variable
types in mailsender documentation (<a
href="https://github.com/scrapy/scrapy/commit/bb3a848"><span style='color:#377063;
text-decoration:none'>commit bb3a848</span></a><a
href="https://github.com/scrapy/scrapy/commit/bb3a848"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Reset items_scraped
instead of item_count (<a href="https://github.com/scrapy/scrapy/commit/edb07a4"><span
style='color:#377063;text-decoration:none'>commit edb07a4</span></a><a
href="https://github.com/scrapy/scrapy/commit/edb07a4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tentative attention
message about what document to read for contributions (<a
href="https://github.com/scrapy/scrapy/commit/7ee6f7a"><span style='color:#377063;
text-decoration:none'>commit 7ee6f7a</span></a><a
href="https://github.com/scrapy/scrapy/commit/7ee6f7a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mitmproxy 0.10.1
needs netlib 0.10.1 too (<a
href="https://github.com/scrapy/scrapy/commit/874fcdd"><span style='color:#377063;
text-decoration:none'>commit 874fcdd</span></a><a
href="https://github.com/scrapy/scrapy/commit/874fcdd"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pin mitmproxy 0.10.1
as &gt;0.11 does not work with tests (<a
href="https://github.com/scrapy/scrapy/commit/c6b21f0"><span style='color:#377063;
text-decoration:none'>commit c6b21f0</span></a><a
href="https://github.com/scrapy/scrapy/commit/c6b21f0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Test the parse
command locally instead of against an external url (<a
href="https://github.com/scrapy/scrapy/commit/c3a6628"><span style='color:#377063;
text-decoration:none'>commit c3a6628</span></a><a
href="https://github.com/scrapy/scrapy/commit/c3a6628"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:15.25pt;
margin-bottom:5.45pt;margin-left:8.8pt;text-align:center;line-height:104%'>Patches
Twisted issue while closing the connection pool on HTTPDownloadHandler (<a
href="https://github.com/scrapy/scrapy/commit/d0bf957"><span style='color:#377063;
text-decoration:none'>commit d0bf957</span></a><a
href="https://github.com/scrapy/scrapy/commit/d0bf957"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:165.15pt;
margin-bottom:2.15pt;margin-left:25.4pt;text-align:left;line-height:126%'>Updates
documentation on dynamic item classes. (<a
href="https://github.com/scrapy/scrapy/commit/eeb589a"><span style='color:#377063;
text-decoration:none'>commit eeb589a</span></a><a
href="https://github.com/scrapy/scrapy/commit/eeb589a"><span style='color:black;
text-decoration:none'>) </span></a>Merge pull request #943 from Lazar-T/patch-3
(<a href="https://github.com/scrapy/scrapy/commit/5fdab02"><span
style='color:#377063;text-decoration:none'>commit 5fdab02</span></a><a
href="https://github.com/scrapy/scrapy/commit/5fdab02"><span style='color:black;
text-decoration:none'>) </span></a>typo (<a
href="https://github.com/scrapy/scrapy/commit/b0ae199"><span style='color:#377063;
text-decoration:none'>commit b0ae199</span></a><a
href="https://github.com/scrapy/scrapy/commit/b0ae199"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pywin32 is required
by Twisted. closes #937 (<a
href="https://github.com/scrapy/scrapy/commit/5cb0cfb"><span style='color:#377063;
text-decoration:none'>commit 5cb0cfb</span></a><a
href="https://github.com/scrapy/scrapy/commit/5cb0cfb"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update install.rst (<a
href="https://github.com/scrapy/scrapy/commit/781286b"><span style='color:#377063;
text-decoration:none'>commit 781286b</span></a><a
href="https://github.com/scrapy/scrapy/commit/781286b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#928 from Lazar-T/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/b415d04"><span style='color:#377063;
text-decoration:none'>commit b415d04</span></a><a
href="https://github.com/scrapy/scrapy/commit/b415d04"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>comma instead of
fullstop (<a href="https://github.com/scrapy/scrapy/commit/627b9ba"><span
style='color:#377063;text-decoration:none'>commit 627b9ba</span></a><a
href="https://github.com/scrapy/scrapy/commit/627b9ba"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#885 from jsma/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/de909ad"><span style='color:#377063;
text-decoration:none'>commit de909ad</span></a><a
href="https://github.com/scrapy/scrapy/commit/de909ad"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update
request-response.rst (<a href="https://github.com/scrapy/scrapy/commit/3f3263d"><span
style='color:#377063;text-decoration:none'>commit 3f3263d</span></a><a
href="https://github.com/scrapy/scrapy/commit/3f3263d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SgmlLinkExtractor -
fix for parsing &lt;area&gt; tag with Unicode present (<a
href="https://github.com/scrapy/scrapy/commit/49b40f0"><span style='color:#377063;
text-decoration:none'>commit 49b40f0</span></a><a
href="https://github.com/scrapy/scrapy/commit/49b40f0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.63 Scrapy 0.24.4
(2014-08-09)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pem file is used by
mockserver and required by scrapy bench (<a
href="https://github.com/scrapy/scrapy/commit/5eddc68b63"><span
style='color:#377063;text-decoration:none'>commit 5eddc68b63</span></a><a
href="https://github.com/scrapy/scrapy/commit/5eddc68b63"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy bench needs
scrapy.tests* (<a href="https://github.com/scrapy/scrapy/commit/d6cb999"><span
style='color:#377063;text-decoration:none'>commit d6cb999</span></a><a
href="https://github.com/scrapy/scrapy/commit/d6cb999"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.64 Scrapy 0.24.3
(2014-08-09)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>no need to waste
travis-ci time on py3 for 0.24 (<a
href="https://github.com/scrapy/scrapy/commit/8e080c1"><span style='color:#377063;
text-decoration:none'>commit 8e080c1</span></a><a
href="https://github.com/scrapy/scrapy/commit/8e080c1"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update installation
docs (<a href="https://github.com/scrapy/scrapy/commit/1d0c096"><span
style='color:#377063;text-decoration:none'>commit 1d0c096</span></a><a
href="https://github.com/scrapy/scrapy/commit/1d0c096"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>There is a trove
classifier for Scrapy framework! (<a
href="https://github.com/scrapy/scrapy/commit/4c701d7"><span style='color:#377063;
text-decoration:none'>commit 4c701d7</span></a><a
href="https://github.com/scrapy/scrapy/commit/4c701d7"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>update other places
where w3lib version is mentioned (<a
href="https://github.com/scrapy/scrapy/commit/d109c13"><span style='color:#377063;
text-decoration:none'>commit d109c13</span></a><a
href="https://github.com/scrapy/scrapy/commit/d109c13"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update w3lib
requirement to 1.8.0 (<a href="https://github.com/scrapy/scrapy/commit/39d2ce5"><span
style='color:#377063;text-decoration:none'>commit 39d2ce5</span></a><a
href="https://github.com/scrapy/scrapy/commit/39d2ce5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use
w3lib.html.replace_entities() (remove_entities() is deprecated) (<a
href="https://github.com/scrapy/scrapy/commit/180d3ad"><span style='color:#377063;
text-decoration:none'>commit 180d3ad</span></a><a
href="https://github.com/scrapy/scrapy/commit/180d3ad"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>set zip_safe=False (<a
href="https://github.com/scrapy/scrapy/commit/a51ee8b"><span style='color:#377063;
text-decoration:none'>commit a51ee8b</span></a><a
href="https://github.com/scrapy/scrapy/commit/a51ee8b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>do not ship tests
package (<a href="https://github.com/scrapy/scrapy/commit/ee3b371"><span
style='color:#377063;text-decoration:none'>commit ee3b371</span></a><a
href="https://github.com/scrapy/scrapy/commit/ee3b371"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.bat is not
needed anymore (<a href="https://github.com/scrapy/scrapy/commit/c3861cf"><span
style='color:#377063;text-decoration:none'>commit c3861cf</span></a><a
href="https://github.com/scrapy/scrapy/commit/c3861cf"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Modernize setup.py (<a
href="https://github.com/scrapy/scrapy/commit/362e322"><span style='color:#377063;
text-decoration:none'>commit 362e322</span></a><a
href="https://github.com/scrapy/scrapy/commit/362e322"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>headers can not
handle non-string values (<a
href="https://github.com/scrapy/scrapy/commit/94a5c65"><span style='color:#377063;
text-decoration:none'>commit 94a5c65</span></a><a
href="https://github.com/scrapy/scrapy/commit/94a5c65"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix ftp test cases (<a
href="https://github.com/scrapy/scrapy/commit/a274a7f"><span style='color:#377063;
text-decoration:none'>commit a274a7f</span></a><a
href="https://github.com/scrapy/scrapy/commit/a274a7f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sum up of
travis-ci builds are taking like 50min to complete (<a
href="https://github.com/scrapy/scrapy/commit/ae1e2cc"><span style='color:#377063;
text-decoration:none'>commit ae1e2cc</span></a><a
href="https://github.com/scrapy/scrapy/commit/ae1e2cc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update shell.rst typo
(<a href="https://github.com/scrapy/scrapy/commit/e49c96a"><span
style='color:#377063;text-decoration:none'>commit e49c96a</span></a><a
href="https://github.com/scrapy/scrapy/commit/e49c96a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removes weird
indentation in the shell results (<a
href="https://github.com/scrapy/scrapy/commit/1ca489d"><span style='color:#377063;
text-decoration:none'>commit 1ca489d</span></a><a
href="https://github.com/scrapy/scrapy/commit/1ca489d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>improved
explanations, clarified blog post as source, added link for XPath string
functions in the spec (<a href="https://github.com/scrapy/scrapy/commit/65c8f05"><span
style='color:#377063;text-decoration:none'>commit </span></a><a
href="https://github.com/scrapy/scrapy/commit/65c8f05"><span style='color:#377063;
text-decoration:none'>65c8f05</span></a><a
href="https://github.com/scrapy/scrapy/commit/65c8f05"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>renamed
UserTimeoutError and ServerTimeouterror #583 (<a
href="https://github.com/scrapy/scrapy/commit/037f6ab"><span style='color:#377063;
text-decoration:none'>commit 037f6ab</span></a><a
href="https://github.com/scrapy/scrapy/commit/037f6ab"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>adding some xpath
tips to selectors docs (<a
href="https://github.com/scrapy/scrapy/commit/2d103e0"><span style='color:#377063;
text-decoration:none'>commit 2d103e0</span></a><a
href="https://github.com/scrapy/scrapy/commit/2d103e0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:62.3pt;margin-bottom:
0in;margin-left:25.4pt;line-height:147%'>fix tests to account for <a
href="https://github.com/scrapy/w3lib/pull/23"><span style='color:#377063;
text-decoration:none'>https://github.com/scrapy/w3lib/pull/23</span></a><span
style='color:#377063'> </span><a
href="https://github.com/scrapy/scrapy/commit/f8d366a"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/commit/f8d366a"><span style='color:#377063;
text-decoration:none'>commit f8d366a</span></a><a
href="https://github.com/scrapy/scrapy/commit/f8d366a"><span style='color:black;
text-decoration:none'>) </span></a>get_func_args maximum recursion fix #728 (<a
href="https://github.com/scrapy/scrapy/commit/81344ea"><span style='color:#377063;
text-decoration:none'>commit 81344ea</span></a><a
href="https://github.com/scrapy/scrapy/commit/81344ea"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Updated input/output processor example according to #560. (<a
href="https://github.com/scrapy/scrapy/commit/f7c4ea8"><span style='color:#377063;
text-decoration:none'>commit f7c4ea8</span></a><a
href="https://github.com/scrapy/scrapy/commit/f7c4ea8"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Fixed Python syntax in tutorial. (<a
href="https://github.com/scrapy/scrapy/commit/db59ed9"><span style='color:#377063;
text-decoration:none'>commit db59ed9</span></a><a
href="https://github.com/scrapy/scrapy/commit/db59ed9"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add test case for
tunneling proxy (<a href="https://github.com/scrapy/scrapy/commit/f090260"><span
style='color:#377063;text-decoration:none'>commit f090260</span></a><a
href="https://github.com/scrapy/scrapy/commit/f090260"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix for leaking
Proxy-Authorization header to remote host when using tunneling (<a
href="https://github.com/scrapy/scrapy/commit/d8793af"><span style='color:#377063;
text-decoration:none'>commit d8793af</span></a><a
href="https://github.com/scrapy/scrapy/commit/d8793af"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extract links from
XHTML documents with MIME-Type “application/xml” (<a
href="https://github.com/scrapy/scrapy/commit/ed1f376"><span style='color:#377063;
text-decoration:none'>commit ed1f376</span></a><a
href="https://github.com/scrapy/scrapy/commit/ed1f376"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#793 from roysc/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/91a1106"><span style='color:#377063;
text-decoration:none'>commit 91a1106</span></a><a
href="https://github.com/scrapy/scrapy/commit/91a1106"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix typo in
commands.rst (<a href="https://github.com/scrapy/scrapy/commit/743e1e2"><span
style='color:#377063;text-decoration:none'>commit 743e1e2</span></a><a
href="https://github.com/scrapy/scrapy/commit/743e1e2"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better testcase for
settings.overrides.setdefault (<a
href="https://github.com/scrapy/scrapy/commit/e22daaf"><span style='color:#377063;
text-decoration:none'>commit e22daaf</span></a><a
href="https://github.com/scrapy/scrapy/commit/e22daaf"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Using CRLF as line
marker according to http 1.1 definition (<a
href="https://github.com/scrapy/scrapy/commit/5ec430b"><span style='color:#377063;
text-decoration:none'>commit 5ec430b</span></a><a
href="https://github.com/scrapy/scrapy/commit/5ec430b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.65 Scrapy 0.24.2
(2014-07-08)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use a mutable mapping
to proxy deprecated settings.overrides and settings.defaults attribute (<a
href="https://github.com/scrapy/scrapy/commit/e5e8133"><span style='color:#377063;
text-decoration:none'>commit e5e8133</span></a><a
href="https://github.com/scrapy/scrapy/commit/e5e8133"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>there is not support
for python3 yet (<a href="https://github.com/scrapy/scrapy/commit/3cd6146"><span
style='color:#377063;text-decoration:none'>commit 3cd6146</span></a><a
href="https://github.com/scrapy/scrapy/commit/3cd6146"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update python
compatible version set to Debian packages (<a
href="https://github.com/scrapy/scrapy/commit/fa5d76b"><span style='color:#377063;
text-decoration:none'>commit fa5d76b</span></a><a
href="https://github.com/scrapy/scrapy/commit/fa5d76b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC fix formatting in
release notes (<a href="https://github.com/scrapy/scrapy/commit/c6a9e20"><span
style='color:#377063;text-decoration:none'>commit c6a9e20</span></a><a
href="https://github.com/scrapy/scrapy/commit/c6a9e20"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.66 Scrapy 0.24.1
(2014-06-27)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix deprecated
CrawlerSettings and increase backward compatibility with .defaults attribute (<a
href="https://github.com/scrapy/scrapy/commit/8e3f20a"><span style='color:#377063;
text-decoration:none'>commit 8e3f20a</span></a><a
href="https://github.com/scrapy/scrapy/commit/8e3f20a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.67 Scrapy 0.24.0
(2014-06-26)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Enhancements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve Scrapy
top-level namespace (<a href="https://github.com/scrapy/scrapy/issues/494"><span
style='color:#377063;text-decoration:none'>issue 494</span></a><a
href="https://github.com/scrapy/scrapy/issues/494"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/684"><span style='color:#377063;
text-decoration:none'>issue 684</span></a><a
href="https://github.com/scrapy/scrapy/issues/684"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add selector
shortcuts to responses (<a href="https://github.com/scrapy/scrapy/issues/554"><span
style='color:#377063;text-decoration:none'>issue 554</span></a><a
href="https://github.com/scrapy/scrapy/issues/554"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/690"><span style='color:#377063;
text-decoration:none'>issue 690</span></a><a
href="https://github.com/scrapy/scrapy/issues/690"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add new lxml based
LinkExtractor to replace unmaintained SgmlLinkExtractor (<a
href="https://github.com/scrapy/scrapy/issues/559"><span style='color:#377063;
text-decoration:none'>issue 559</span></a><a
href="https://github.com/scrapy/scrapy/issues/559"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/761"><span style='color:#377063;
text-decoration:none'>issue 761</span></a><a
href="https://github.com/scrapy/scrapy/issues/761"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/763"><span style='color:#377063;
text-decoration:none'>issue 763</span></a><a
href="https://github.com/scrapy/scrapy/issues/763"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Cleanup settings API
- part of per-spider settings <b><sub><span style='font-size:15.5pt;line-height:
103%'>GSoC project </span></sub></b><a
href="https://github.com/scrapy/scrapy/issues/737"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/737"><span style='color:#377063;
text-decoration:none'>issue 737</span></a><a
href="https://github.com/scrapy/scrapy/issues/737"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add UTF8 encoding
header to templates (<a href="https://github.com/scrapy/scrapy/issues/688"><span
style='color:#377063;text-decoration:none'>issue 688</span></a><a
href="https://github.com/scrapy/scrapy/issues/688"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/762"><span style='color:#377063;
text-decoration:none'>issue 762</span></a><a
href="https://github.com/scrapy/scrapy/issues/762"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Telnet console now
binds to 127.0.0.1 by default (<a
href="https://github.com/scrapy/scrapy/issues/699"><span style='color:#377063;
text-decoration:none'>issue 699</span></a><a
href="https://github.com/scrapy/scrapy/issues/699"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update Debian/Ubuntu
install instructions (<a href="https://github.com/scrapy/scrapy/issues/509"><span
style='color:#377063;text-decoration:none'>issue 509</span></a><a
href="https://github.com/scrapy/scrapy/issues/509"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/549"><span style='color:#377063;
text-decoration:none'>issue 549</span></a><a
href="https://github.com/scrapy/scrapy/issues/549"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Disable smart strings
in lxml XPath evaluations (<a href="https://github.com/scrapy/scrapy/issues/535"><span
style='color:#377063;text-decoration:none'>issue 535</span></a><a
href="https://github.com/scrapy/scrapy/issues/535"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Restore filesystem
based cache as default for http cache middleware (<a
href="https://github.com/scrapy/scrapy/issues/541"><span style='color:#377063;
text-decoration:none'>issue 541</span></a><a
href="https://github.com/scrapy/scrapy/issues/541"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/500"><span style='color:#377063;
text-decoration:none'>issue 500</span></a><a
href="https://github.com/scrapy/scrapy/issues/500"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/571"><span style='color:#377063;
text-decoration:none'>issue 571</span></a><a
href="https://github.com/scrapy/scrapy/issues/571"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Expose current
crawler in Scrapy shell (<a href="https://github.com/scrapy/scrapy/issues/557"><span
style='color:#377063;text-decoration:none'>issue 557</span></a><a
href="https://github.com/scrapy/scrapy/issues/557"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve testsuite
comparing CSV and XML exporters (<a
href="https://github.com/scrapy/scrapy/issues/570"><span style='color:#377063;
text-decoration:none'>issue 570</span></a><a
href="https://github.com/scrapy/scrapy/issues/570"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:24.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
offsite/filtered and offsite/domains stats (<a
href="https://github.com/scrapy/scrapy/issues/566"><span style='color:#377063;
text-decoration:none'>issue 566</span></a><a
href="https://github.com/scrapy/scrapy/issues/566"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:8.95pt'>Support process_links as generator in CrawlSpider (<a
href="https://github.com/scrapy/scrapy/issues/555"><span style='color:#377063;
text-decoration:none'>issue 555</span></a><a
href="https://github.com/scrapy/scrapy/issues/555"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:8.95pt'>Verbose logging and new stats counters for DupeFilter (<a
href="https://github.com/scrapy/scrapy/issues/553"><span style='color:#377063;
text-decoration:none'>issue 553</span></a><a
href="https://github.com/scrapy/scrapy/issues/553"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:8.95pt'>Add a mimetype parameter to MailSender.send() <a
href="https://github.com/scrapy/scrapy/issues/602"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/602"><span style='color:#377063;
text-decoration:none'>issue 602</span></a><a
href="https://github.com/scrapy/scrapy/issues/602"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:8.95pt'>Generalize file pipeline log messages (<a
href="https://github.com/scrapy/scrapy/issues/622"><span style='color:#377063;
text-decoration:none'>issue 622</span></a><a
href="https://github.com/scrapy/scrapy/issues/622"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replace unencodeable
codepoints with html entities in SGMLLinkExtractor (<a
href="https://github.com/scrapy/scrapy/issues/565"><span style='color:#377063;
text-decoration:none'>issue 565</span></a><a
href="https://github.com/scrapy/scrapy/issues/565"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Converted
SEP documents to rst format (<a
href="https://github.com/scrapy/scrapy/issues/629"><span style='color:#377063;
text-decoration:none'>issue 629</span></a><a
href="https://github.com/scrapy/scrapy/issues/629"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/630"><span style='color:#377063;
text-decoration:none'>issue 630</span></a><a
href="https://github.com/scrapy/scrapy/issues/630"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/638"><span style='color:#377063;
text-decoration:none'>issue 638</span></a><a
href="https://github.com/scrapy/scrapy/issues/638"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/632"><span style='color:#377063;
text-decoration:none'>issue 632</span></a><a
href="https://github.com/scrapy/scrapy/issues/632"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/636"><span style='color:#377063;
text-decoration:none'>issue 636</span></a><a
href="https://github.com/scrapy/scrapy/issues/636"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/640"><span style='color:#377063;
text-decoration:none'>issue 640</span></a><a
href="https://github.com/scrapy/scrapy/issues/640"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/635"><span style='color:#377063;
text-decoration:none'>issue</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:8.95pt;line-height:110%'><a
href="https://github.com/scrapy/scrapy/issues/635"><span style='color:#377063;
text-decoration:none'>635</span></a><a
href="https://github.com/scrapy/scrapy/issues/635"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/634"><span style='color:#377063;
text-decoration:none'>issue 634</span></a><a
href="https://github.com/scrapy/scrapy/issues/634"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/639"><span style='color:#377063;
text-decoration:none'>issue 639</span></a><a
href="https://github.com/scrapy/scrapy/issues/639"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/637"><span style='color:#377063;
text-decoration:none'>issue 637</span></a><a
href="https://github.com/scrapy/scrapy/issues/637"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/631"><span style='color:#377063;
text-decoration:none'>issue 631</span></a><a
href="https://github.com/scrapy/scrapy/issues/631"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/633"><span style='color:#377063;
text-decoration:none'>issue 633</span></a><a
href="https://github.com/scrapy/scrapy/issues/633"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/641"><span style='color:#377063;
text-decoration:none'>issue 641</span></a><a
href="https://github.com/scrapy/scrapy/issues/641"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/642"><span style='color:#377063;
text-decoration:none'>issue 642</span></a><a
href="https://github.com/scrapy/scrapy/issues/642"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tests and docs for
clickdata’s nr index in FormRequest (<a
href="https://github.com/scrapy/scrapy/issues/646"><span style='color:#377063;
text-decoration:none'>issue 646</span></a><a
href="https://github.com/scrapy/scrapy/issues/646"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/645"><span style='color:#377063;
text-decoration:none'>issue 645</span></a><a
href="https://github.com/scrapy/scrapy/issues/645"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow to disable a
downloader handler just like any other component (<a
href="https://github.com/scrapy/scrapy/issues/650"><span style='color:#377063;
text-decoration:none'>issue 650</span></a><a
href="https://github.com/scrapy/scrapy/issues/650"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Log when a request is
discarded after too many redirections (<a
href="https://github.com/scrapy/scrapy/issues/654"><span style='color:#377063;
text-decoration:none'>issue 654</span></a><a
href="https://github.com/scrapy/scrapy/issues/654"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Log error responses
if they are not handled by spider callbacks (<a
href="https://github.com/scrapy/scrapy/issues/612"><span style='color:#377063;
text-decoration:none'>issue 612</span></a><a
href="https://github.com/scrapy/scrapy/issues/612"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/656"><span style='color:#377063;
text-decoration:none'>issue 656</span></a><a
href="https://github.com/scrapy/scrapy/issues/656"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add content-type
check to http compression mw (<a
href="https://github.com/scrapy/scrapy/issues/193"><span style='color:#377063;
text-decoration:none'>issue 193</span></a><a
href="https://github.com/scrapy/scrapy/issues/193"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/660"><span style='color:#377063;
text-decoration:none'>issue 660</span></a><a
href="https://github.com/scrapy/scrapy/issues/660"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Run pypy tests using
latest pypi from ppa (<a href="https://github.com/scrapy/scrapy/issues/674"><span
style='color:#377063;text-decoration:none'>issue 674</span></a><a
href="https://github.com/scrapy/scrapy/issues/674"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Run test suite using
pytest instead of trial (<a href="https://github.com/scrapy/scrapy/issues/679"><span
style='color:#377063;text-decoration:none'>issue 679</span></a><a
href="https://github.com/scrapy/scrapy/issues/679"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Build docs and check
for dead links in tox environment (<a
href="https://github.com/scrapy/scrapy/issues/687"><span style='color:#377063;
text-decoration:none'>issue 687</span></a><a
href="https://github.com/scrapy/scrapy/issues/687"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make
scrapy.version_info a tuple of integers (<a
href="https://github.com/scrapy/scrapy/issues/681"><span style='color:#377063;
text-decoration:none'>issue 681</span></a><a
href="https://github.com/scrapy/scrapy/issues/681"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/692"><span style='color:#377063;
text-decoration:none'>issue 692</span></a><a
href="https://github.com/scrapy/scrapy/issues/692"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Infer exporter’s
output format from filename extensions (<a
href="https://github.com/scrapy/scrapy/issues/546"><span style='color:#377063;
text-decoration:none'>issue 546</span></a><a
href="https://github.com/scrapy/scrapy/issues/546"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/659"><span style='color:#377063;
text-decoration:none'>issue 659</span></a><a
href="https://github.com/scrapy/scrapy/issues/659"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/760"><span style='color:#377063;
text-decoration:none'>issue 760</span></a><a
href="https://github.com/scrapy/scrapy/issues/760"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support
case-insensitive domains in url_is_from_any_domain() <a
href="https://github.com/scrapy/scrapy/issues/693"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/693"><span style='color:#377063;
text-decoration:none'>issue 693</span></a><a
href="https://github.com/scrapy/scrapy/issues/693"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove pep8 warnings
in project and spider templates (<a
href="https://github.com/scrapy/scrapy/issues/698"><span style='color:#377063;
text-decoration:none'>issue 698</span></a><a
href="https://github.com/scrapy/scrapy/issues/698"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tests and docs for request_fingerprint
function (<a href="https://github.com/scrapy/scrapy/issues/597"><span
style='color:#377063;text-decoration:none'>issue 597</span></a><a
href="https://github.com/scrapy/scrapy/issues/597"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update SEP-19 for
GSoC project per-spider settings <a
href="https://github.com/scrapy/scrapy/issues/705"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/705"><span style='color:#377063;
text-decoration:none'>issue 705</span></a><a
href="https://github.com/scrapy/scrapy/issues/705"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Set exit code to
non-zero when contracts fails (<a
href="https://github.com/scrapy/scrapy/issues/727"><span style='color:#377063;
text-decoration:none'>issue 727</span></a><a
href="https://github.com/scrapy/scrapy/issues/727"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a setting to
control what class is instantiated as Downloader component (<a
href="https://github.com/scrapy/scrapy/issues/738"><span style='color:#377063;
text-decoration:none'>issue 738</span></a><a
href="https://github.com/scrapy/scrapy/issues/738"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pass response in item_dropped
signal (<a href="https://github.com/scrapy/scrapy/issues/724"><span
style='color:#377063;text-decoration:none'>issue 724</span></a><a
href="https://github.com/scrapy/scrapy/issues/724"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve scrapy check contracts
command (<a href="https://github.com/scrapy/scrapy/issues/733"><span
style='color:#377063;text-decoration:none'>issue 733</span></a><a
href="https://github.com/scrapy/scrapy/issues/733"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/752"><span style='color:#377063;
text-decoration:none'>issue 752</span></a><a
href="https://github.com/scrapy/scrapy/issues/752"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document spider.closed()
shortcut (<a href="https://github.com/scrapy/scrapy/issues/719"><span
style='color:#377063;text-decoration:none'>issue 719</span></a><a
href="https://github.com/scrapy/scrapy/issues/719"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document request_scheduled
signal (<a href="https://github.com/scrapy/scrapy/issues/746"><span
style='color:#377063;text-decoration:none'>issue 746</span></a><a
href="https://github.com/scrapy/scrapy/issues/746"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a note about
reporting security issues (<a href="https://github.com/scrapy/scrapy/issues/697"><span
style='color:#377063;text-decoration:none'>issue 697</span></a><a
href="https://github.com/scrapy/scrapy/issues/697"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add LevelDB http
cache storage backend (<a href="https://github.com/scrapy/scrapy/issues/626"><span
style='color:#377063;text-decoration:none'>issue 626</span></a><a
href="https://github.com/scrapy/scrapy/issues/626"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/500"><span style='color:#377063;
text-decoration:none'>issue 500</span></a><a
href="https://github.com/scrapy/scrapy/issues/500"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Sort spider list
output of scrapy list command (<a
href="https://github.com/scrapy/scrapy/issues/742"><span style='color:#377063;
text-decoration:none'>issue 742</span></a><a
href="https://github.com/scrapy/scrapy/issues/742"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Multiple
documentation enhancements and fixes (<a
href="https://github.com/scrapy/scrapy/issues/575"><span style='color:#377063;
text-decoration:none'>issue 575</span></a><a
href="https://github.com/scrapy/scrapy/issues/575"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/587"><span style='color:#377063;
text-decoration:none'>issue 587</span></a><a
href="https://github.com/scrapy/scrapy/issues/587"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/590"><span style='color:#377063;
text-decoration:none'>issue 590</span></a><a
href="https://github.com/scrapy/scrapy/issues/590"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/596"><span style='color:#377063;
text-decoration:none'>issue 596</span></a><a
href="https://github.com/scrapy/scrapy/issues/596"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/610"><span style='color:#377063;
text-decoration:none'>issue 610</span></a><a
href="https://github.com/scrapy/scrapy/issues/610"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/617"><span style='color:#377063;
text-decoration:none'>issue 617</span></a><a
href="https://github.com/scrapy/scrapy/issues/617"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/618"><span style='color:#377063;
text-decoration:none'>issue 618</span></a><a
href="https://github.com/scrapy/scrapy/issues/618"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/627"><span style='color:#377063;
text-decoration:none'>issue 627</span></a><a
href="https://github.com/scrapy/scrapy/issues/627"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/613"><span style='color:#377063;
text-decoration:none'>issue 613</span></a><a
href="https://github.com/scrapy/scrapy/issues/613"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/643"><span style='color:#377063;
text-decoration:none'>issue 643</span></a><a
href="https://github.com/scrapy/scrapy/issues/643"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/654"><span style='color:#377063;
text-decoration:none'>issue 654</span></a><a
href="https://github.com/scrapy/scrapy/issues/654"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/675"><span style='color:#377063;
text-decoration:none'>issue 675</span></a><a
href="https://github.com/scrapy/scrapy/issues/675"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/663"><span style='color:#377063;
text-decoration:none'>issue 663</span></a><a
href="https://github.com/scrapy/scrapy/issues/663"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/711"><span style='color:#377063;
text-decoration:none'>issue 711</span></a><a
href="https://github.com/scrapy/scrapy/issues/711"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/714"><span style='color:#377063;
text-decoration:none'>issue 714</span></a><a
href="https://github.com/scrapy/scrapy/issues/714"><span style='color:black;
text-decoration:none'>)</span></a></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection42>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bugfixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Encode unicode URL
value when creating Links in RegexLinkExtractor (<a
href="https://github.com/scrapy/scrapy/issues/561"><span style='color:#377063;
text-decoration:none'>issue 561</span></a><a
href="https://github.com/scrapy/scrapy/issues/561"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ignore None values in
ItemLoader processors (<a href="https://github.com/scrapy/scrapy/issues/556"><span
style='color:#377063;text-decoration:none'>issue 556</span></a><a
href="https://github.com/scrapy/scrapy/issues/556"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix link text when
there is an inner tag in SGMLLinkExtractor and HtmlParserLinkExtractor (<a
href="https://github.com/scrapy/scrapy/issues/485"><span style='color:#377063;
text-decoration:none'>issue 485</span></a><a
href="https://github.com/scrapy/scrapy/issues/485"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/574"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/574"><span style='color:#377063;
text-decoration:none'>574</span></a><a
href="https://github.com/scrapy/scrapy/issues/574"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix wrong checks on
subclassing of deprecated classes (<a
href="https://github.com/scrapy/scrapy/issues/581"><span style='color:#377063;
text-decoration:none'>issue 581</span></a><a
href="https://github.com/scrapy/scrapy/issues/581"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/584"><span style='color:#377063;
text-decoration:none'>issue 584</span></a><a
href="https://github.com/scrapy/scrapy/issues/584"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Handle errors caused
by inspect.stack() failures (<a
href="https://github.com/scrapy/scrapy/issues/582"><span style='color:#377063;
text-decoration:none'>issue 582</span></a><a
href="https://github.com/scrapy/scrapy/issues/582"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix a reference to
unexistent engine attribute (<a
href="https://github.com/scrapy/scrapy/issues/593"><span style='color:#377063;
text-decoration:none'>issue 593</span></a><a
href="https://github.com/scrapy/scrapy/issues/593"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/594"><span style='color:#377063;
text-decoration:none'>issue 594</span></a><a
href="https://github.com/scrapy/scrapy/issues/594"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix dynamic itemclass
example usage of type() (<a href="https://github.com/scrapy/scrapy/issues/603"><span
style='color:#377063;text-decoration:none'>issue 603</span></a><a
href="https://github.com/scrapy/scrapy/issues/603"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use
lucasdemarchi/codespell to fix typos (<a
href="https://github.com/scrapy/scrapy/issues/628"><span style='color:#377063;
text-decoration:none'>issue 628</span></a><a
href="https://github.com/scrapy/scrapy/issues/628"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix default value of
attrs argument in SgmlLinkExtractor to be tuple (<a
href="https://github.com/scrapy/scrapy/issues/661"><span style='color:#377063;
text-decoration:none'>issue 661</span></a><a
href="https://github.com/scrapy/scrapy/issues/661"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix XXE flaw in
sitemap reader (<a href="https://github.com/scrapy/scrapy/issues/676"><span
style='color:#377063;text-decoration:none'>issue 676</span></a><a
href="https://github.com/scrapy/scrapy/issues/676"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix engine to support
filtered start requests (<a href="https://github.com/scrapy/scrapy/issues/707"><span
style='color:#377063;text-decoration:none'>issue 707</span></a><a
href="https://github.com/scrapy/scrapy/issues/707"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix offsite
middleware case on urls with no hostnames (<a
href="https://github.com/scrapy/scrapy/issues/745"><span style='color:#377063;
text-decoration:none'>issue 745</span></a><a
href="https://github.com/scrapy/scrapy/issues/745"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Testsuite doesn’t
require PIL anymore (<a href="https://github.com/scrapy/scrapy/issues/585"><span
style='color:#377063;text-decoration:none'>issue 585</span></a><a
href="https://github.com/scrapy/scrapy/issues/585"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.68 Scrapy 0.22.2
(released 2014-02-14)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix a reference to
unexistent engine.slots. closes #593 (<a
href="https://github.com/scrapy/scrapy/commit/13c099a"><span style='color:#377063;
text-decoration:none'>commit 13c099a</span></a><a
href="https://github.com/scrapy/scrapy/commit/13c099a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>downloaderMW doc typo
(spiderMW doc copy remnant) (<a
href="https://github.com/scrapy/scrapy/commit/8ae11bf"><span style='color:#377063;
text-decoration:none'>commit 8ae11bf</span></a><a
href="https://github.com/scrapy/scrapy/commit/8ae11bf"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Correct typos (<a
href="https://github.com/scrapy/scrapy/commit/1346037"><span style='color:#377063;
text-decoration:none'>commit 1346037</span></a><a
href="https://github.com/scrapy/scrapy/commit/1346037"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.69 Scrapy 0.22.1
(released 2014-02-08)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>localhost666 can
resolve under certain circumstances (<a
href="https://github.com/scrapy/scrapy/commit/2ec2279"><span style='color:#377063;
text-decoration:none'>commit 2ec2279</span></a><a
href="https://github.com/scrapy/scrapy/commit/2ec2279"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>test inspect.stack
failure (<a href="https://github.com/scrapy/scrapy/commit/cc3eda3"><span
style='color:#377063;text-decoration:none'>commit cc3eda3</span></a><a
href="https://github.com/scrapy/scrapy/commit/cc3eda3"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Handle cases when
inspect.stack() fails (<a href="https://github.com/scrapy/scrapy/commit/8cb44f9"><span
style='color:#377063;text-decoration:none'>commit 8cb44f9</span></a><a
href="https://github.com/scrapy/scrapy/commit/8cb44f9"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix wrong checks on
subclassing of deprecated classes. closes #581 (<a
href="https://github.com/scrapy/scrapy/commit/46d98d6"><span style='color:#377063;
text-decoration:none'>commit 46d98d6</span></a><a
href="https://github.com/scrapy/scrapy/commit/46d98d6"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Docs: 4-space indent
for final spider example (<a
href="https://github.com/scrapy/scrapy/commit/13846de"><span style='color:#377063;
text-decoration:none'>commit 13846de</span></a><a
href="https://github.com/scrapy/scrapy/commit/13846de"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix
HtmlParserLinkExtractor and tests after #485 merge (<a
href="https://github.com/scrapy/scrapy/commit/368a946"><span style='color:#377063;
text-decoration:none'>commit 368a946</span></a><a
href="https://github.com/scrapy/scrapy/commit/368a946"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>BaseSgmlLinkExtractor:
Fixed the missing space when the link has an inner tag (<a
href="https://github.com/scrapy/scrapy/commit/b566388"><span style='color:#377063;
text-decoration:none'>commit b566388</span></a><a
href="https://github.com/scrapy/scrapy/commit/b566388"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>BaseSgmlLinkExtractor:
Added unit test of a link with an inner tag (<a
href="https://github.com/scrapy/scrapy/commit/c1cb418"><span style='color:#377063;
text-decoration:none'>commit c1cb418</span></a><a
href="https://github.com/scrapy/scrapy/commit/c1cb418"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>BaseSgmlLinkExtractor:
Fixed unknown_endtag() so that it only set current_link=None when the end tag
match the opening tag (<a href="https://github.com/scrapy/scrapy/commit/7e4d627"><span
style='color:#377063;text-decoration:none'>commit 7e4d627</span></a><a
href="https://github.com/scrapy/scrapy/commit/7e4d627"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix tests for
Travis-CI build (<a href="https://github.com/scrapy/scrapy/commit/76c7e20"><span
style='color:#377063;text-decoration:none'>commit 76c7e20</span></a><a
href="https://github.com/scrapy/scrapy/commit/76c7e20"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace unencodeable
codepoints with html entities. fixes #562 and #285 (<a
href="https://github.com/scrapy/scrapy/commit/5f87b17"><span style='color:#377063;
text-decoration:none'>commit 5f87b17</span></a><a
href="https://github.com/scrapy/scrapy/commit/5f87b17"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>RegexLinkExtractor:
encode URL unicode value when creating Links (<a
href="https://github.com/scrapy/scrapy/commit/d0ee545"><span style='color:#377063;
text-decoration:none'>commit d0ee545</span></a><a
href="https://github.com/scrapy/scrapy/commit/d0ee545"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:24.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Updated the tutorial
crawl output with latest output. (<a
href="https://github.com/scrapy/scrapy/commit/8da65de"><span style='color:#377063;
text-decoration:none'>commit 8da65de</span></a><a
href="https://github.com/scrapy/scrapy/commit/8da65de"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Updated shell docs with the crawler reference and fixed the
actual shell output. (<a href="https://github.com/scrapy/scrapy/commit/875b9ab"><span
style='color:#377063;text-decoration:none'>commit 875b9ab</span></a><a
href="https://github.com/scrapy/scrapy/commit/875b9ab"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>PEP8 minor edits. (<a
href="https://github.com/scrapy/scrapy/commit/f89efaf"><span style='color:#377063;
text-decoration:none'>commit f89efaf</span></a><a
href="https://github.com/scrapy/scrapy/commit/f89efaf"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Expose current crawler in the Scrapy shell. (<a
href="https://github.com/scrapy/scrapy/commit/5349cec"><span style='color:#377063;
text-decoration:none'>commit 5349cec</span></a><a
href="https://github.com/scrapy/scrapy/commit/5349cec"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Unused re import and
PEP8 minor edits. (<a href="https://github.com/scrapy/scrapy/commit/387f414"><span
style='color:#377063;text-decoration:none'>commit 387f414</span></a><a
href="https://github.com/scrapy/scrapy/commit/387f414"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ignore None’s values
when using the ItemLoader. (<a
href="https://github.com/scrapy/scrapy/commit/0632546"><span style='color:#377063;
text-decoration:none'>commit 0632546</span></a><a
href="https://github.com/scrapy/scrapy/commit/0632546"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOC Fixed
HTTPCACHE_STORAGE typo in the default value which is now Filesystem instead
Dbm. (<a href="https://github.com/scrapy/scrapy/commit/cde9a8c"><span
style='color:#377063;text-decoration:none'>commit </span></a><a
href="https://github.com/scrapy/scrapy/commit/cde9a8c"><span style='color:#377063;
text-decoration:none'>cde9a8c</span></a><a
href="https://github.com/scrapy/scrapy/commit/cde9a8c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>show Ubuntu setup
instructions as literal code (<a
href="https://github.com/scrapy/scrapy/commit/fb5c9c5"><span style='color:#377063;
text-decoration:none'>commit fb5c9c5</span></a><a
href="https://github.com/scrapy/scrapy/commit/fb5c9c5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update Ubuntu
installation instructions (<a
href="https://github.com/scrapy/scrapy/commit/70fb105"><span style='color:#377063;
text-decoration:none'>commit 70fb105</span></a><a
href="https://github.com/scrapy/scrapy/commit/70fb105"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#550 from stray-leone/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/6f70b6a"><span style='color:#377063;
text-decoration:none'>commit 6f70b6a</span></a><a
href="https://github.com/scrapy/scrapy/commit/6f70b6a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>modify the version of
Scrapy Ubuntu package (<a href="https://github.com/scrapy/scrapy/commit/725900d"><span
style='color:#377063;text-decoration:none'>commit 725900d</span></a><a
href="https://github.com/scrapy/scrapy/commit/725900d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix 0.22.0 release
date (<a href="https://github.com/scrapy/scrapy/commit/af0219a"><span
style='color:#377063;text-decoration:none'>commit af0219a</span></a><a
href="https://github.com/scrapy/scrapy/commit/af0219a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix typos in news.rst
and remove (not released yet) header (<a
href="https://github.com/scrapy/scrapy/commit/b7f58f4"><span style='color:#377063;
text-decoration:none'>commit b7f58f4</span></a><a
href="https://github.com/scrapy/scrapy/commit/b7f58f4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.70 Scrapy 0.22.0
(released 2014-01-17)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Enhancements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:125%'><span
style='line-height:125%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>[<b>Backward
incompatible</b>] Switched HTTPCacheMiddleware backend to filesystem (<a
href="https://github.com/scrapy/scrapy/issues/541"><span style='color:#377063;
text-decoration:none'>issue 541</span></a><a
href="https://github.com/scrapy/scrapy/issues/541"><span style='color:black;
text-decoration:none'>)</span></a> To restore old backend set HTTPCACHE_STORAGE
to scrapy.contrib.httpcache.DbmCacheStorage</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Proxy https:// urls
using CONNECT method (<a href="https://github.com/scrapy/scrapy/issues/392"><span
style='color:#377063;text-decoration:none'>issue 392</span></a><a
href="https://github.com/scrapy/scrapy/issues/392"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/397"><span style='color:#377063;
text-decoration:none'>issue 397</span></a><a
href="https://github.com/scrapy/scrapy/issues/397"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a middleware to
crawl ajax crawlable pages as defined by google (<a
href="https://github.com/scrapy/scrapy/issues/343"><span style='color:#377063;
text-decoration:none'>issue 343</span></a><a
href="https://github.com/scrapy/scrapy/issues/343"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Rename
scrapy.spider.BaseSpider to scrapy.spider.Spider (<a
href="https://github.com/scrapy/scrapy/issues/510"><span style='color:#377063;
text-decoration:none'>issue 510</span></a><a
href="https://github.com/scrapy/scrapy/issues/510"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/519"><span style='color:#377063;
text-decoration:none'>issue 519</span></a><a
href="https://github.com/scrapy/scrapy/issues/519"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Selectors register
EXSLT namespaces by default (<a
href="https://github.com/scrapy/scrapy/issues/472"><span style='color:#377063;
text-decoration:none'>issue 472</span></a><a
href="https://github.com/scrapy/scrapy/issues/472"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Unify item loaders
similar to selectors renaming (<a
href="https://github.com/scrapy/scrapy/issues/461"><span style='color:#377063;
text-decoration:none'>issue 461</span></a><a
href="https://github.com/scrapy/scrapy/issues/461"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make RFPDupeFilter class
easily subclassable (<a href="https://github.com/scrapy/scrapy/issues/533"><span
style='color:#377063;text-decoration:none'>issue 533</span></a><a
href="https://github.com/scrapy/scrapy/issues/533"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve test coverage
and forthcoming Python 3 support (<a
href="https://github.com/scrapy/scrapy/issues/525"><span style='color:#377063;
text-decoration:none'>issue 525</span></a><a
href="https://github.com/scrapy/scrapy/issues/525"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Promote startup info
on settings and middleware to INFO level (<a
href="https://github.com/scrapy/scrapy/issues/520"><span style='color:#377063;
text-decoration:none'>issue 520</span></a><a
href="https://github.com/scrapy/scrapy/issues/520"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support partials in get_func_args
util (<a href="https://github.com/scrapy/scrapy/issues/506"><span
style='color:#377063;text-decoration:none'>issue 506</span></a><a
href="https://github.com/scrapy/scrapy/issues/506"><span style='color:black;
text-decoration:none'>,</span></a> issue:<i>504</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow running
individual tests via tox (<a href="https://github.com/scrapy/scrapy/issues/503"><span
style='color:#377063;text-decoration:none'>issue 503</span></a><a
href="https://github.com/scrapy/scrapy/issues/503"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update extensions
ignored by link extractors (<a
href="https://github.com/scrapy/scrapy/issues/498"><span style='color:#377063;
text-decoration:none'>issue 498</span></a><a
href="https://github.com/scrapy/scrapy/issues/498"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add middleware
methods to get files/images/thumbs paths (<a
href="https://github.com/scrapy/scrapy/issues/490"><span style='color:#377063;
text-decoration:none'>issue 490</span></a><a
href="https://github.com/scrapy/scrapy/issues/490"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve offsite
middleware tests (<a href="https://github.com/scrapy/scrapy/issues/478"><span
style='color:#377063;text-decoration:none'>issue 478</span></a><a
href="https://github.com/scrapy/scrapy/issues/478"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add a way to skip
default Referer header set by RefererMiddleware (<a
href="https://github.com/scrapy/scrapy/issues/475"><span style='color:#377063;
text-decoration:none'>issue 475</span></a><a
href="https://github.com/scrapy/scrapy/issues/475"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not send x-gzip in
default Accept-Encoding header (<a
href="https://github.com/scrapy/scrapy/issues/469"><span style='color:#377063;
text-decoration:none'>issue 469</span></a><a
href="https://github.com/scrapy/scrapy/issues/469"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support defining http
error handling using settings (<a
href="https://github.com/scrapy/scrapy/issues/466"><span style='color:#377063;
text-decoration:none'>issue 466</span></a><a
href="https://github.com/scrapy/scrapy/issues/466"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use modern python
idioms wherever you find legacies (<a
href="https://github.com/scrapy/scrapy/issues/497"><span style='color:#377063;
text-decoration:none'>issue 497</span></a><a
href="https://github.com/scrapy/scrapy/issues/497"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.7pt;
margin-left:25.4pt;line-height:110%'>Improve and correct documentation (<a
href="https://github.com/scrapy/scrapy/issues/527"><span style='color:#377063;
text-decoration:none'>issue 527</span></a><a
href="https://github.com/scrapy/scrapy/issues/527"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/524"><span style='color:#377063;
text-decoration:none'>issue 524</span></a><a
href="https://github.com/scrapy/scrapy/issues/524"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/521"><span style='color:#377063;
text-decoration:none'>issue 521</span></a><a
href="https://github.com/scrapy/scrapy/issues/521"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/517"><span style='color:#377063;
text-decoration:none'>issue 517</span></a><a
href="https://github.com/scrapy/scrapy/issues/517"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/512"><span style='color:#377063;
text-decoration:none'>issue 512</span></a><a
href="https://github.com/scrapy/scrapy/issues/512"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/505"><span style='color:#377063;
text-decoration:none'>issue 505</span></a><a
href="https://github.com/scrapy/scrapy/issues/505"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/502"><span style='color:#377063;
text-decoration:none'>issue 502</span></a><a
href="https://github.com/scrapy/scrapy/issues/502"><span style='color:black;
text-decoration:none'>, </span></a><a
href="https://github.com/scrapy/scrapy/issues/489"><span style='color:#377063;
text-decoration:none'>issue 489</span></a><a
href="https://github.com/scrapy/scrapy/issues/489"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/465"><span style='color:#377063;
text-decoration:none'>issue 465</span></a><a
href="https://github.com/scrapy/scrapy/issues/465"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/460"><span style='color:#377063;
text-decoration:none'>issue 460</span></a><a
href="https://github.com/scrapy/scrapy/issues/460"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/425"><span style='color:#377063;
text-decoration:none'>issue 425</span></a><a
href="https://github.com/scrapy/scrapy/issues/425"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/536"><span style='color:#377063;
text-decoration:none'>issue 536</span></a><a
href="https://github.com/scrapy/scrapy/issues/536"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Fixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update Selector class
imports in CrawlSpider template (<a
href="https://github.com/scrapy/scrapy/issues/484"><span style='color:#377063;
text-decoration:none'>issue 484</span></a><a
href="https://github.com/scrapy/scrapy/issues/484"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix unexistent
reference to engine.slots <a href="https://github.com/scrapy/scrapy/issues/464"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/464"><span style='color:#377063;
text-decoration:none'>issue 464</span></a><a
href="https://github.com/scrapy/scrapy/issues/464"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not try to call body_as_unicode()
on a non-TextResponse instance (<a
href="https://github.com/scrapy/scrapy/issues/462"><span style='color:#377063;
text-decoration:none'>issue 462</span></a><a
href="https://github.com/scrapy/scrapy/issues/462"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Warn when subclassing
XPathItemLoader, previously it only warned on instantiation. (<a
href="https://github.com/scrapy/scrapy/issues/523"><span style='color:#377063;
text-decoration:none'>issue 523</span></a><a
href="https://github.com/scrapy/scrapy/issues/523"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Warn when subclassing
XPathSelector, previously it only warned on instantiation. (<a
href="https://github.com/scrapy/scrapy/issues/537"><span style='color:#377063;
text-decoration:none'>issue 537</span></a><a
href="https://github.com/scrapy/scrapy/issues/537"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Multiple fixes to
memory stats (<a href="https://github.com/scrapy/scrapy/issues/531"><span
style='color:#377063;text-decoration:none'>issue 531</span></a><a
href="https://github.com/scrapy/scrapy/issues/531"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/530"><span style='color:#377063;
text-decoration:none'>issue 530</span></a><a
href="https://github.com/scrapy/scrapy/issues/530"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/529"><span style='color:#377063;
text-decoration:none'>issue 529</span></a><a
href="https://github.com/scrapy/scrapy/issues/529"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix
overriding url in FormRequest.from_response() <a
href="https://github.com/scrapy/scrapy/issues/507"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/507"><span style='color:#377063;
text-decoration:none'>issue 507</span></a><a
href="https://github.com/scrapy/scrapy/issues/507"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix tests runner
under pip 1.5 (<a href="https://github.com/scrapy/scrapy/issues/513"><span
style='color:#377063;text-decoration:none'>issue 513</span></a><a
href="https://github.com/scrapy/scrapy/issues/513"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix logging error
when spider name is unicode (<a
href="https://github.com/scrapy/scrapy/issues/479"><span style='color:#377063;
text-decoration:none'>issue 479</span></a><a
href="https://github.com/scrapy/scrapy/issues/479"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.71 Scrapy 0.20.2
(released 2013-12-09)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update CrawlSpider
Template with Selector changes (<a
href="https://github.com/scrapy/scrapy/commit/6d1457d"><span style='color:#377063;
text-decoration:none'>commit 6d1457d</span></a><a
href="https://github.com/scrapy/scrapy/commit/6d1457d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix method name in
tutorial. closes GH-480 (<a
href="https://github.com/scrapy/scrapy/commit/b4fc359"><span style='color:#377063;
text-decoration:none'>commit b4fc359</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.72 Scrapy 0.20.1
(released 2013-11-28)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include_package_data
is required to build wheels from published sources (<a
href="https://github.com/scrapy/scrapy/commit/5ba1ad5"><span style='color:#377063;
text-decoration:none'>commit 5ba1ad5</span></a><a
href="https://github.com/scrapy/scrapy/commit/5ba1ad5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>process_parallel was
leaking the failures on its internal deferreds. closes #458 (<a
href="https://github.com/scrapy/scrapy/commit/419a780"><span style='color:#377063;
text-decoration:none'>commit 419a780</span></a><a
href="https://github.com/scrapy/scrapy/commit/419a780"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.73 Scrapy 0.20.0
(released 2013-11-08)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Enhancements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New Selector’s API
including CSS selectors (<a href="https://github.com/scrapy/scrapy/issues/395"><span
style='color:#377063;text-decoration:none'>issue 395</span></a><span
style='color:#377063'> </span>and <a
href="https://github.com/scrapy/scrapy/issues/426"><span style='color:#377063;
text-decoration:none'>issue 426</span></a><a
href="https://github.com/scrapy/scrapy/issues/426"><span style='color:black;
text-decoration:none'>)</span></a>,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request/Response
url/body attributes are now immutable (modifying them had been deprecated for a
long time)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>ITEM_PIPELINES </span></i>is now defined as a dict
(instead of a list)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Sitemap spider can
fetch alternate URLs (<a href="https://github.com/scrapy/scrapy/issues/360"><span
style='color:#377063;text-decoration:none'>issue 360</span></a><a
href="https://github.com/scrapy/scrapy/issues/360"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Selector.remove_namespaces()
now remove namespaces from element’s attributes. (<a
href="https://github.com/scrapy/scrapy/issues/416"><span style='color:#377063;
text-decoration:none'>issue 416</span></a><a
href="https://github.com/scrapy/scrapy/issues/416"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Paved the road for
Python 3.3+ (<a href="https://github.com/scrapy/scrapy/issues/435"><span
style='color:#377063;text-decoration:none'>issue 435</span></a><a
href="https://github.com/scrapy/scrapy/issues/435"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/436"><span style='color:#377063;
text-decoration:none'>issue 436</span></a><a
href="https://github.com/scrapy/scrapy/issues/436"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/431"><span style='color:#377063;
text-decoration:none'>issue 431</span></a><a
href="https://github.com/scrapy/scrapy/issues/431"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/452"><span style='color:#377063;
text-decoration:none'>issue 452</span></a><a
href="https://github.com/scrapy/scrapy/issues/452"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New item exporter
using native python types with nesting support (<a
href="https://github.com/scrapy/scrapy/issues/366"><span style='color:#377063;
text-decoration:none'>issue 366</span></a><a
href="https://github.com/scrapy/scrapy/issues/366"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tune HTTP1.1 pool
size so it matches concurrency defined by settings (<a
href="https://github.com/scrapy/scrapy/commit/b43b5f575"><span
style='color:#377063;text-decoration:none'>commit b43b5f575</span></a><a
href="https://github.com/scrapy/scrapy/commit/b43b5f575"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.mail.MailSender
now can connect over TLS or upgrade using STARTTLS (<a
href="https://github.com/scrapy/scrapy/issues/327"><span style='color:#377063;
text-decoration:none'>issue 327</span></a><a
href="https://github.com/scrapy/scrapy/issues/327"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New FilesPipeline
with functionality factored out from ImagesPipeline (<a
href="https://github.com/scrapy/scrapy/issues/370"><span style='color:#377063;
text-decoration:none'>issue 370</span></a><a
href="https://github.com/scrapy/scrapy/issues/370"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/409"><span style='color:#377063;
text-decoration:none'>issue 409</span></a><a
href="https://github.com/scrapy/scrapy/issues/409"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Recommend Pillow
instead of PIL for image handling (<a
href="https://github.com/scrapy/scrapy/issues/317"><span style='color:#377063;
text-decoration:none'>issue 317</span></a><a
href="https://github.com/scrapy/scrapy/issues/317"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Added Debian packages for Ubuntu Quantal and Raring (<a
href="https://github.com/scrapy/scrapy/commit/86230c0"><span style='color:#377063;
text-decoration:none'>commit 86230c0</span></a><a
href="https://github.com/scrapy/scrapy/commit/86230c0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Mock server (used for tests) can listen for HTTPS requests
(<a href="https://github.com/scrapy/scrapy/issues/410"><span style='color:#377063;
text-decoration:none'>issue 410</span></a><a
href="https://github.com/scrapy/scrapy/issues/410"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Remove multi spider support from multiple core components (<a
href="https://github.com/scrapy/scrapy/issues/422"><span style='color:#377063;
text-decoration:none'>issue 422</span></a><a
href="https://github.com/scrapy/scrapy/issues/422"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/421"><span style='color:#377063;
text-decoration:none'>issue 421</span></a><a
href="https://github.com/scrapy/scrapy/issues/421"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/420"><span style='color:#377063;
text-decoration:none'>issue 420</span></a><a
href="https://github.com/scrapy/scrapy/issues/420"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/419"><span style='color:#377063;
text-decoration:none'>issue 419</span></a><a
href="https://github.com/scrapy/scrapy/issues/419"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/423"><span style='color:#377063;
text-decoration:none'>issue </span></a><a
href="https://github.com/scrapy/scrapy/issues/423"><span style='color:#377063;
text-decoration:none'>423</span></a><a
href="https://github.com/scrapy/scrapy/issues/423"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/418"><span style='color:#377063;
text-decoration:none'>issue 418</span></a><a
href="https://github.com/scrapy/scrapy/issues/418"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Travis-CI now tests
Scrapy changes against development versions of w3lib and queuelib python
packages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add pypy 2.1 to
continuous integration tests (<a
href="https://github.com/scrapy/scrapy/commit/ecfa7431"><span style='color:
#377063;text-decoration:none'>commit ecfa7431</span></a><a
href="https://github.com/scrapy/scrapy/commit/ecfa7431"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pylinted, pep8 and
removed old-style exceptions from source (<a
href="https://github.com/scrapy/scrapy/issues/430"><span style='color:#377063;
text-decoration:none'>issue 430</span></a><a
href="https://github.com/scrapy/scrapy/issues/430"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/432"><span style='color:#377063;
text-decoration:none'>issue 432</span></a><a
href="https://github.com/scrapy/scrapy/issues/432"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use importlib for
parametric imports (<a href="https://github.com/scrapy/scrapy/issues/445"><span
style='color:#377063;text-decoration:none'>issue 445</span></a><a
href="https://github.com/scrapy/scrapy/issues/445"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Handle a regression
introduced in Python 2.7.5 that affects XmlItemExporter (<a
href="https://github.com/scrapy/scrapy/issues/372"><span style='color:#377063;
text-decoration:none'>issue 372</span></a><a
href="https://github.com/scrapy/scrapy/issues/372"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix crawling
shutdown on SIGINT (<a href="https://github.com/scrapy/scrapy/issues/450"><span
style='color:#377063;text-decoration:none'>issue 450</span></a><a
href="https://github.com/scrapy/scrapy/issues/450"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not submit reset type
inputs in FormRequest.from_response (<a
href="https://github.com/scrapy/scrapy/commit/b326b87"><span style='color:#377063;
text-decoration:none'>commit b326b87</span></a><a
href="https://github.com/scrapy/scrapy/commit/b326b87"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Do not silence
download errors when request errback raises an exception (<a
href="https://github.com/scrapy/scrapy/commit/684cfc0"><span style='color:#377063;
text-decoration:none'>commit 684cfc0</span></a><a
href="https://github.com/scrapy/scrapy/commit/684cfc0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Bugfixes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix tests under
Django 1.6 (<a href="https://github.com/scrapy/scrapy/commit/b6bed44c"><span
style='color:#377063;text-decoration:none'>commit b6bed44c</span></a><a
href="https://github.com/scrapy/scrapy/commit/b6bed44c"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Lot of bugfixes to
retry middleware under disconnections using HTTP 1.1 download handler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix inconsistencies
among Twisted releases (<a href="https://github.com/scrapy/scrapy/issues/406"><span
style='color:#377063;text-decoration:none'>issue 406</span></a><a
href="https://github.com/scrapy/scrapy/issues/406"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix Scrapy shell bugs
(<a href="https://github.com/scrapy/scrapy/issues/418"><span style='color:#377063;
text-decoration:none'>issue 418</span></a><a
href="https://github.com/scrapy/scrapy/issues/418"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/407"><span style='color:#377063;
text-decoration:none'>issue 407</span></a><a
href="https://github.com/scrapy/scrapy/issues/407"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix invalid variable
name in setup.py (<a href="https://github.com/scrapy/scrapy/issues/429"><span
style='color:#377063;text-decoration:none'>issue 429</span></a><a
href="https://github.com/scrapy/scrapy/issues/429"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix tutorial
references (<a href="https://github.com/scrapy/scrapy/issues/387"><span
style='color:#377063;text-decoration:none'>issue 387</span></a><a
href="https://github.com/scrapy/scrapy/issues/387"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve
request-response docs (<a href="https://github.com/scrapy/scrapy/issues/391"><span
style='color:#377063;text-decoration:none'>issue 391</span></a><a
href="https://github.com/scrapy/scrapy/issues/391"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve
best practices docs (<a href="https://github.com/scrapy/scrapy/issues/399"><span
style='color:#377063;text-decoration:none'>issue 399</span></a><a
href="https://github.com/scrapy/scrapy/issues/399"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/400"><span style='color:#377063;
text-decoration:none'>issue 400</span></a><a
href="https://github.com/scrapy/scrapy/issues/400"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/401"><span style='color:#377063;
text-decoration:none'>issue 401</span></a><a
href="https://github.com/scrapy/scrapy/issues/401"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/402"><span style='color:#377063;
text-decoration:none'>issue 402</span></a><a
href="https://github.com/scrapy/scrapy/issues/402"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve django
integration docs (<a href="https://github.com/scrapy/scrapy/issues/404"><span
style='color:#377063;text-decoration:none'>issue 404</span></a><a
href="https://github.com/scrapy/scrapy/issues/404"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Document bindaddress request
meta (<a href="https://github.com/scrapy/scrapy/commit/37c24e01d7"><span
style='color:#377063;text-decoration:none'>commit 37c24e01d7</span></a><a
href="https://github.com/scrapy/scrapy/commit/37c24e01d7"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve Request class
documentation (<a href="https://github.com/scrapy/scrapy/issues/226"><span
style='color:#377063;text-decoration:none'>issue 226</span></a><a
href="https://github.com/scrapy/scrapy/issues/226"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Other</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped Python 2.6
support (<a href="https://github.com/scrapy/scrapy/issues/448"><span
style='color:#377063;text-decoration:none'>issue 448</span></a><a
href="https://github.com/scrapy/scrapy/issues/448"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add <a
href="https://cssselect.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>cssselect</span></a><span
style='color:#377063'> </span>python package as install dependency</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Drop libxml2 and
multi selector’s backend support, <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><span
style='color:#377063'> </span>is required from now on.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Minimum Twisted
version increased to 10.0.0, dropped Twisted 8.0 support.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Running test suite
now requires mock python library (<a
href="https://github.com/scrapy/scrapy/issues/390"><span style='color:#377063;
text-decoration:none'>issue 390</span></a><a
href="https://github.com/scrapy/scrapy/issues/390"><span style='color:black;
text-decoration:none'>)</span></a></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection43>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Thanks</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-71.15pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=442 src="Scrapy%20Documentation_files/image528.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.74 Scrapy 0.18.4
(released 2013-10-10)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>IPython refuses to
update the namespace. fix #396 (<a
href="https://github.com/scrapy/scrapy/commit/3d32c4f"><span style='color:#377063;
text-decoration:none'>commit 3d32c4f</span></a><a
href="https://github.com/scrapy/scrapy/commit/3d32c4f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix
AlreadyCalledError replacing a request in shell command. closes #407 (<a
href="https://github.com/scrapy/scrapy/commit/b1d8919"><span style='color:#377063;
text-decoration:none'>commit b1d8919</span></a><a
href="https://github.com/scrapy/scrapy/commit/b1d8919"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix start_requests
laziness and early hangs (<a
href="https://github.com/scrapy/scrapy/commit/89faf52"><span style='color:#377063;
text-decoration:none'>commit 89faf52</span></a><a
href="https://github.com/scrapy/scrapy/commit/89faf52"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.75 Scrapy 0.18.3
(released 2013-10-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix regression on
lazy evaluation of start requests (<a
href="https://github.com/scrapy/scrapy/commit/12693a5"><span style='color:#377063;
text-decoration:none'>commit 12693a5</span></a><a
href="https://github.com/scrapy/scrapy/commit/12693a5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>forms: do not submit
reset inputs (<a href="https://github.com/scrapy/scrapy/commit/e429f63"><span
style='color:#377063;text-decoration:none'>commit e429f63</span></a><a
href="https://github.com/scrapy/scrapy/commit/e429f63"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>increase unittest
timeouts to decrease travis false positive failures (<a
href="https://github.com/scrapy/scrapy/commit/912202e"><span style='color:#377063;
text-decoration:none'>commit 912202e</span></a><a
href="https://github.com/scrapy/scrapy/commit/912202e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>backport master fixes
to json exporter (<a href="https://github.com/scrapy/scrapy/commit/cfc2d46"><span
style='color:#377063;text-decoration:none'>commit cfc2d46</span></a><a
href="https://github.com/scrapy/scrapy/commit/cfc2d46"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:86.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix permission and
set umask before generating sdist tarball (<a
href="https://github.com/scrapy/scrapy/commit/06149e0"><span style='color:#377063;
text-decoration:none'>commit 06149e0</span></a><a
href="https://github.com/scrapy/scrapy/commit/06149e0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.76 Scrapy 0.18.2
(released 2013-09-03)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Backport scrapy check
command fixes and backward compatible multi crawler process(<a
href="https://github.com/scrapy/scrapy/issues/339"><span style='color:#377063;
text-decoration:none'>issue 339</span></a><a
href="https://github.com/scrapy/scrapy/issues/339"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.77 Scrapy 0.18.1
(released 2013-08-27)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove extra import
added by cherry picked changes (<a
href="https://github.com/scrapy/scrapy/commit/d20304e"><span style='color:#377063;
text-decoration:none'>commit d20304e</span></a><a
href="https://github.com/scrapy/scrapy/commit/d20304e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix crawling tests
under twisted pre 11.0.0 (<a
href="https://github.com/scrapy/scrapy/commit/1994f38"><span style='color:#377063;
text-decoration:none'>commit 1994f38</span></a><a
href="https://github.com/scrapy/scrapy/commit/1994f38"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>py26 can not format
zero length fields {} (<a href="https://github.com/scrapy/scrapy/commit/abf756f"><span
style='color:#377063;text-decoration:none'>commit abf756f</span></a><a
href="https://github.com/scrapy/scrapy/commit/abf756f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>test PotentiaDataLoss
errors on unbound responses (<a
href="https://github.com/scrapy/scrapy/commit/b15470d"><span style='color:#377063;
text-decoration:none'>commit b15470d</span></a><a
href="https://github.com/scrapy/scrapy/commit/b15470d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Treat responses
without content-length or Transfer-Encoding as good responses (<a
href="https://github.com/scrapy/scrapy/commit/c4bf324"><span style='color:#377063;
text-decoration:none'>commit c4bf324</span></a><a
href="https://github.com/scrapy/scrapy/commit/c4bf324"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>do no include
ResponseFailed if http11 handler is not enabled (<a
href="https://github.com/scrapy/scrapy/commit/6cbe684"><span style='color:#377063;
text-decoration:none'>commit 6cbe684</span></a><a
href="https://github.com/scrapy/scrapy/commit/6cbe684"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New HTTP client wraps
connection lost in ResponseFailed exception. fix #373 (<a
href="https://github.com/scrapy/scrapy/commit/1a20bba"><span style='color:#377063;
text-decoration:none'>commit 1a20bba</span></a><a
href="https://github.com/scrapy/scrapy/commit/1a20bba"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>limit travis-ci build
matrix (<a href="https://github.com/scrapy/scrapy/commit/3b01bb8"><span
style='color:#377063;text-decoration:none'>commit 3b01bb8</span></a><a
href="https://github.com/scrapy/scrapy/commit/3b01bb8"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Merge pull request
#375 from peterarenot/patch-1 (<a
href="https://github.com/scrapy/scrapy/commit/fa766d7"><span style='color:#377063;
text-decoration:none'>commit fa766d7</span></a><a
href="https://github.com/scrapy/scrapy/commit/fa766d7"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed so it refers to
the correct folder (<a href="https://github.com/scrapy/scrapy/commit/3283809"><span
style='color:#377063;text-decoration:none'>commit 3283809</span></a><a
href="https://github.com/scrapy/scrapy/commit/3283809"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added Quantal &amp;
Raring to support Ubuntu releases (<a
href="https://github.com/scrapy/scrapy/commit/1411923"><span style='color:#377063;
text-decoration:none'>commit 1411923</span></a><a
href="https://github.com/scrapy/scrapy/commit/1411923"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix retry middleware
which didn’t retry certain connection errors after the upgrade to http1 client,
closes GH-373 <a href="https://github.com/scrapy/scrapy/commit/bb35ed0"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/commit/bb35ed0"><span style='color:#377063;
text-decoration:none'>commit bb35ed0</span></a><a
href="https://github.com/scrapy/scrapy/commit/bb35ed0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix XmlItemExporter
in Python 2.7.4 and 2.7.5 (<a
href="https://github.com/scrapy/scrapy/commit/de3e451"><span style='color:#377063;
text-decoration:none'>commit de3e451</span></a><a
href="https://github.com/scrapy/scrapy/commit/de3e451"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:147%'><span
style='line-height:147%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>minor
updates to 0.18 release notes (<a
href="https://github.com/scrapy/scrapy/commit/c45e5f1"><span style='color:#377063;
text-decoration:none'>commit c45e5f1</span></a><a
href="https://github.com/scrapy/scrapy/commit/c45e5f1"><span style='color:black;
text-decoration:none'>) </span></a>• fix contributors list format (<a
href="https://github.com/scrapy/scrapy/commit/0b60031"><span style='color:#377063;
text-decoration:none'>commit 0b60031</span></a><a
href="https://github.com/scrapy/scrapy/commit/0b60031"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.78 Scrapy 0.18.0
(released 2013-08-09)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Lot of improvements
to testsuite run using Tox, including a way to test on pypi</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Handle GET parameters
for AJAX crawlable urls (<a
href="https://github.com/scrapy/scrapy/commit/3fe2a32"><span style='color:#377063;
text-decoration:none'>commit 3fe2a32</span></a><a
href="https://github.com/scrapy/scrapy/commit/3fe2a32"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use lxml recover
option to parse sitemaps (<a href="https://github.com/scrapy/scrapy/issues/347"><span
style='color:#377063;text-decoration:none'>issue 347</span></a><a
href="https://github.com/scrapy/scrapy/issues/347"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix cookie merging
by hostname and not by netloc (<a
href="https://github.com/scrapy/scrapy/issues/352"><span style='color:#377063;
text-decoration:none'>issue 352</span></a><a
href="https://github.com/scrapy/scrapy/issues/352"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support disabling HttpCompressionMiddleware
using a flag setting (<a href="https://github.com/scrapy/scrapy/issues/359"><span
style='color:#377063;text-decoration:none'>issue 359</span></a><a
href="https://github.com/scrapy/scrapy/issues/359"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support xml
namespaces using iternodes parser in XMLFeedSpider <a
href="https://github.com/scrapy/scrapy/issues/12"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/12"><span style='color:#377063;
text-decoration:none'>issue 12</span></a><a
href="https://github.com/scrapy/scrapy/issues/12"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support dont_cache request
meta flag (<a href="https://github.com/scrapy/scrapy/issues/19"><span
style='color:#377063;text-decoration:none'>issue 19</span></a><a
href="https://github.com/scrapy/scrapy/issues/19"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix scrapy.utils.gz.gunzip
broken by changes in python 2.7.4 (<a
href="https://github.com/scrapy/scrapy/commit/4dc76e"><span style='color:#377063;
text-decoration:none'>commit 4dc76e</span></a><a
href="https://github.com/scrapy/scrapy/commit/4dc76e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix url encoding
on SgmlLinkExtractor <a href="https://github.com/scrapy/scrapy/issues/24"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/24"><span style='color:#377063;
text-decoration:none'>issue 24</span></a><a
href="https://github.com/scrapy/scrapy/issues/24"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix TakeFirst processor
shouldn’t discard zero (0) value (<a
href="https://github.com/scrapy/scrapy/issues/59"><span style='color:#377063;
text-decoration:none'>issue 59</span></a><a
href="https://github.com/scrapy/scrapy/issues/59"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support nested items
in xml exporter (<a href="https://github.com/scrapy/scrapy/issues/66"><span
style='color:#377063;text-decoration:none'>issue 66</span></a><a
href="https://github.com/scrapy/scrapy/issues/66"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve cookies
handling performance (<a href="https://github.com/scrapy/scrapy/issues/77"><span
style='color:#377063;text-decoration:none'>issue 77</span></a><a
href="https://github.com/scrapy/scrapy/issues/77"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Log dupe filtered
requests once (<a href="https://github.com/scrapy/scrapy/issues/105"><span
style='color:#377063;text-decoration:none'>issue 105</span></a><a
href="https://github.com/scrapy/scrapy/issues/105"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Split redirection
middleware into status and meta based middlewares (<a
href="https://github.com/scrapy/scrapy/issues/78"><span style='color:#377063;
text-decoration:none'>issue 78</span></a><a
href="https://github.com/scrapy/scrapy/issues/78"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use HTTP1.1 as
default downloader handler (<a
href="https://github.com/scrapy/scrapy/issues/109"><span style='color:#377063;
text-decoration:none'>issue 109</span></a><span style='color:#377063'> </span>and
<a href="https://github.com/scrapy/scrapy/issues/318"><span style='color:#377063;
text-decoration:none'>issue 318</span></a><a
href="https://github.com/scrapy/scrapy/issues/318"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support xpath form
selection on FormRequest.from_response <a
href="https://github.com/scrapy/scrapy/issues/185"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/185"><span style='color:#377063;
text-decoration:none'>issue 185</span></a><a
href="https://github.com/scrapy/scrapy/issues/185"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix unicode
decoding error on SgmlLinkExtractor <a
href="https://github.com/scrapy/scrapy/issues/199"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/199"><span style='color:#377063;
text-decoration:none'>issue 199</span></a><a
href="https://github.com/scrapy/scrapy/issues/199"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Bugfix signal
dispatching on pypi interpreter (<a
href="https://github.com/scrapy/scrapy/issues/205"><span style='color:#377063;
text-decoration:none'>issue 205</span></a><a
href="https://github.com/scrapy/scrapy/issues/205"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improve request delay
and concurrency handling (<a href="https://github.com/scrapy/scrapy/issues/206"><span
style='color:#377063;text-decoration:none'>issue 206</span></a><a
href="https://github.com/scrapy/scrapy/issues/206"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add RFC2616 cache
policy to HttpCacheMiddleware <a
href="https://github.com/scrapy/scrapy/issues/212"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/212"><span style='color:#377063;
text-decoration:none'>issue 212</span></a><a
href="https://github.com/scrapy/scrapy/issues/212"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow customization
of messages logged by engine (<a
href="https://github.com/scrapy/scrapy/issues/214"><span style='color:#377063;
text-decoration:none'>issue 214</span></a><a
href="https://github.com/scrapy/scrapy/issues/214"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Multiples
improvements to DjangoItem <a href="https://github.com/scrapy/scrapy/issues/217"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/217"><span style='color:#377063;
text-decoration:none'>issue 217</span></a><a
href="https://github.com/scrapy/scrapy/issues/217"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/218"><span style='color:#377063;
text-decoration:none'>issue 218</span></a><a
href="https://github.com/scrapy/scrapy/issues/218"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/issues/221"><span style='color:#377063;
text-decoration:none'>issue 221</span></a><a
href="https://github.com/scrapy/scrapy/issues/221"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Extend Scrapy
commands using setuptools entry points (<a
href="https://github.com/scrapy/scrapy/issues/260"><span style='color:#377063;
text-decoration:none'>issue 260</span></a><a
href="https://github.com/scrapy/scrapy/issues/260"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow spider allowed_domains
value to be set/tuple (<a href="https://github.com/scrapy/scrapy/issues/261"><span
style='color:#377063;text-decoration:none'>issue 261</span></a><a
href="https://github.com/scrapy/scrapy/issues/261"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support
settings.getdict <a href="https://github.com/scrapy/scrapy/issues/269"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/269"><span style='color:#377063;
text-decoration:none'>issue 269</span></a><a
href="https://github.com/scrapy/scrapy/issues/269"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplify internal scrapy.core.scraper
slot handling (<a href="https://github.com/scrapy/scrapy/issues/271"><span
style='color:#377063;text-decoration:none'>issue 271</span></a><a
href="https://github.com/scrapy/scrapy/issues/271"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
Item.copy <a href="https://github.com/scrapy/scrapy/issues/290"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/issues/290"><span style='color:#377063;
text-decoration:none'>issue 290</span></a><a
href="https://github.com/scrapy/scrapy/issues/290"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Collect idle
downloader slots (<a href="https://github.com/scrapy/scrapy/issues/297"><span
style='color:#377063;text-decoration:none'>issue 297</span></a><a
href="https://github.com/scrapy/scrapy/issues/297"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add ftp:// scheme
downloader handler (<a href="https://github.com/scrapy/scrapy/issues/329"><span
style='color:#377063;text-decoration:none'>issue 329</span></a><a
href="https://github.com/scrapy/scrapy/issues/329"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added downloader
benchmark webserver and spider tools <i><span style='color:#355F7C'>Benchmarking</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved persistent (on
disk) queues to a separate project (<a href="https://github.com/scrapy/queuelib"><span
style='color:#377063;text-decoration:none'>queuelib</span></a><a
href="https://github.com/scrapy/queuelib"><span style='color:black;text-decoration:
none'>)</span></a> which Scrapy now depends on</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Add Scrapy commands
using external libraries (<a href="https://github.com/scrapy/scrapy/issues/260"><span
style='color:#377063;text-decoration:none'>issue 260</span></a><a
href="https://github.com/scrapy/scrapy/issues/260"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added --pdb option to
scrapy command line tool</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>XPathSelector.remove_namespaces </span></i>which allows
to remove all namespaces from XML documents for convenience (to work with
namespace-less XPaths). Documented in <i><span style='color:#355F7C'>Selectors</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Several improvements
to spider contracts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New default
middleware named MetaRefreshMiddleware that handles meta-refresh html tag
redirections,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MetaRefreshMiddleware
and RedirectMiddleware have different priorities to address #62</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added from_crawler
method to spiders</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added system tests
with mock server</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>more improvements to
macOS compatibility (thanks Alex Cepoi)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>several more cleanups
to singletons and multi-spider support (thanks Nicolas Ramirez)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>support custom
download slots</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added –spider option
to “shell” command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>log overridden
settings when Scrapy starts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Thanks to everyone who contribute to this release. Here is a
list of contributors sorted by number of commits:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=98 src="Scrapy%20Documentation_files/image529.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-43.75pt;
margin-bottom:25.0pt;margin-left:-3.85pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=634 height=562 id="Picture 582850"
src="Scrapy%20Documentation_files/image530.gif"></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.79 Scrapy 0.16.5
(released 2013-05-30)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>obey request method
when Scrapy deploy is redirected to a new endpoint (<a
href="https://github.com/scrapy/scrapy/commit/8c4fcee"><span style='color:#377063;
text-decoration:none'>commit 8c4fcee</span></a><a
href="https://github.com/scrapy/scrapy/commit/8c4fcee"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix inaccurate
downloader middleware documentation. refs #280 (<a
href="https://github.com/scrapy/scrapy/commit/40667cb"><span style='color:#377063;
text-decoration:none'>commit 40667cb</span></a><a
href="https://github.com/scrapy/scrapy/commit/40667cb"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doc: remove links to
diveintopython.org, which is no longer available. closes #246 (<a
href="https://github.com/scrapy/scrapy/commit/bd58bfa"><span style='color:#377063;
text-decoration:none'>commit bd58bfa</span></a><a
href="https://github.com/scrapy/scrapy/commit/bd58bfa"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Find form nodes in
invalid html5 documents (<a
href="https://github.com/scrapy/scrapy/commit/e3d6945"><span style='color:#377063;
text-decoration:none'>commit e3d6945</span></a><a
href="https://github.com/scrapy/scrapy/commit/e3d6945"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix typo labeling
attrs type bool instead of list (<a
href="https://github.com/scrapy/scrapy/commit/a274276"><span style='color:#377063;
text-decoration:none'>commit a274276</span></a><a
href="https://github.com/scrapy/scrapy/commit/a274276"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.80 Scrapy 0.16.4
(released 2013-01-23)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixes spelling errors
in documentation (<a href="https://github.com/scrapy/scrapy/commit/6d2b3aa"><span
style='color:#377063;text-decoration:none'>commit 6d2b3aa</span></a><a
href="https://github.com/scrapy/scrapy/commit/6d2b3aa"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add doc about
disabling an extension. refs #132 (<a
href="https://github.com/scrapy/scrapy/commit/c90de33"><span style='color:#377063;
text-decoration:none'>commit c90de33</span></a><a
href="https://github.com/scrapy/scrapy/commit/c90de33"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed error message
formatting. log.err() doesn’t support cool formatting and when error occurred,
the message was: “ERROR: Error processing %(item)s” (<a
href="https://github.com/scrapy/scrapy/commit/c16150c"><span style='color:#377063;
text-decoration:none'>commit c16150c</span></a><a
href="https://github.com/scrapy/scrapy/commit/c16150c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>lint and improve
images pipeline error logging (<a
href="https://github.com/scrapy/scrapy/commit/56b45fc"><span style='color:#377063;
text-decoration:none'>commit 56b45fc</span></a><a
href="https://github.com/scrapy/scrapy/commit/56b45fc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed doc typos (<a
href="https://github.com/scrapy/scrapy/commit/243be84"><span style='color:#377063;
text-decoration:none'>commit 243be84</span></a><a
href="https://github.com/scrapy/scrapy/commit/243be84"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add documentation
topics: Broad Crawls &amp; Common Practices (<a
href="https://github.com/scrapy/scrapy/commit/1fbb715"><span style='color:#377063;
text-decoration:none'>commit 1fbb715</span></a><a
href="https://github.com/scrapy/scrapy/commit/1fbb715"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix bug in Scrapy
parse command when spider is not specified explicitly. closes #209 (<a
href="https://github.com/scrapy/scrapy/commit/c72e682"><span style='color:#377063;
text-decoration:none'>commit c72e682</span></a><a
href="https://github.com/scrapy/scrapy/commit/c72e682"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Update
docs/topics/commands.rst (<a
href="https://github.com/scrapy/scrapy/commit/28eac7a"><span style='color:#377063;
text-decoration:none'>commit 28eac7a</span></a><a
href="https://github.com/scrapy/scrapy/commit/28eac7a"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.81 Scrapy 0.16.3
(released 2012-12-07)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Remove concurrency
limitation when using download delays and still ensure inter-request delays are
enforced <a href="https://github.com/scrapy/scrapy/commit/487b9b5"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/commit/487b9b5"><span style='color:#377063;
text-decoration:none'>commit 487b9b5</span></a><a
href="https://github.com/scrapy/scrapy/commit/487b9b5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add error details
when image pipeline fails (<a
href="https://github.com/scrapy/scrapy/commit/8232569"><span style='color:#377063;
text-decoration:none'>commit 8232569</span></a><a
href="https://github.com/scrapy/scrapy/commit/8232569"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>improve macOS
compatibility (<a href="https://github.com/scrapy/scrapy/commit/8dcf8aa"><span
style='color:#377063;text-decoration:none'>commit 8dcf8aa</span></a><a
href="https://github.com/scrapy/scrapy/commit/8dcf8aa"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>setup.py: use
README.rst to populate long_description (<a
href="https://github.com/scrapy/scrapy/commit/7b5310d"><span style='color:#377063;
text-decoration:none'>commit 7b5310d</span></a><a
href="https://github.com/scrapy/scrapy/commit/7b5310d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doc: removed obsolete
references to ClientForm (<a
href="https://github.com/scrapy/scrapy/commit/80f9bb6"><span style='color:#377063;
text-decoration:none'>commit 80f9bb6</span></a><a
href="https://github.com/scrapy/scrapy/commit/80f9bb6"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>correct docs for
default storage backend (<a
href="https://github.com/scrapy/scrapy/commit/2aa491b"><span style='color:#377063;
text-decoration:none'>commit 2aa491b</span></a><a
href="https://github.com/scrapy/scrapy/commit/2aa491b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doc: removed broken
proxyhub link from FAQ (<a
href="https://github.com/scrapy/scrapy/commit/bdf61c4"><span style='color:#377063;
text-decoration:none'>commit bdf61c4</span></a><a
href="https://github.com/scrapy/scrapy/commit/bdf61c4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed docs typo in
SpiderOpenCloseLogging example (<a
href="https://github.com/scrapy/scrapy/commit/7184094"><span style='color:#377063;
text-decoration:none'>commit 7184094</span></a><a
href="https://github.com/scrapy/scrapy/commit/7184094"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.82 Scrapy 0.16.2
(released 2012-11-09)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy contracts:
python2.6 compat (<a href="https://github.com/scrapy/scrapy/commit/a4a9199"><span
style='color:#377063;text-decoration:none'>commit a4a9199</span></a><a
href="https://github.com/scrapy/scrapy/commit/a4a9199"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy contracts
verbose option (<a href="https://github.com/scrapy/scrapy/commit/ec41673"><span
style='color:#377063;text-decoration:none'>commit ec41673</span></a><a
href="https://github.com/scrapy/scrapy/commit/ec41673"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>proper unittest-like
output for Scrapy contracts (<a
href="https://github.com/scrapy/scrapy/commit/86635e4"><span style='color:#377063;
text-decoration:none'>commit 86635e4</span></a><a
href="https://github.com/scrapy/scrapy/commit/86635e4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added open_in_browser
to debugging doc (<a href="https://github.com/scrapy/scrapy/commit/c9b690d"><span
style='color:#377063;text-decoration:none'>commit c9b690d</span></a><a
href="https://github.com/scrapy/scrapy/commit/c9b690d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed reference to
global Scrapy stats from settings doc (<a
href="https://github.com/scrapy/scrapy/commit/dd55067"><span style='color:#377063;
text-decoration:none'>commit dd55067</span></a><a
href="https://github.com/scrapy/scrapy/commit/dd55067"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:149.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix SpiderState bug
in Windows platforms (<a href="https://github.com/scrapy/scrapy/commit/58998f4"><span
style='color:#377063;text-decoration:none'>commit 58998f4</span></a><a
href="https://github.com/scrapy/scrapy/commit/58998f4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.83 Scrapy 0.16.1
(released 2012-10-26)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed LogStats
extension, which got broken after a wrong merge before the 0.16 release (<a
href="https://github.com/scrapy/scrapy/commit/8c780fd"><span style='color:#377063;
text-decoration:none'>commit 8c780fd</span></a><a
href="https://github.com/scrapy/scrapy/commit/8c780fd"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>better backward
compatibility for scrapy.conf.settings (<a
href="https://github.com/scrapy/scrapy/commit/3403089"><span style='color:#377063;
text-decoration:none'>commit 3403089</span></a><a
href="https://github.com/scrapy/scrapy/commit/3403089"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extended
documentation on how to access crawler stats from extensions (<a
href="https://github.com/scrapy/scrapy/commit/c4da0b5"><span style='color:#377063;
text-decoration:none'>commit c4da0b5</span></a><a
href="https://github.com/scrapy/scrapy/commit/c4da0b5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed .hgtags (no
longer needed now that Scrapy uses git) (<a
href="https://github.com/scrapy/scrapy/commit/d52c188"><span style='color:#377063;
text-decoration:none'>commit d52c188</span></a><a
href="https://github.com/scrapy/scrapy/commit/d52c188"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fix dashes under rst
headers (<a href="https://github.com/scrapy/scrapy/commit/fa4f7f9"><span
style='color:#377063;text-decoration:none'>commit fa4f7f9</span></a><a
href="https://github.com/scrapy/scrapy/commit/fa4f7f9"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>set release date for
0.16.0 in news (<a href="https://github.com/scrapy/scrapy/commit/e292246"><span
style='color:#377063;text-decoration:none'>commit e292246</span></a><a
href="https://github.com/scrapy/scrapy/commit/e292246"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.84 Scrapy 0.16.0
(released 2012-10-18)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy changes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added <i><span
style='color:#355F7C'>Spiders Contracts</span></i>, a mechanism for testing
spiders in a formal/reproducible way</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added options -o and -t
to the <i><span style='color:#355F7C'>runspider </span></i>command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>documented <i><span
style='color:#355F7C'>AutoThrottle extension </span></i>and added to extensions
installed by default. You still need to enable it with</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.7pt;
margin-left:25.4pt;line-height:108%'><i><span style='color:#355F7C'>AUTOTHROTTLE_ENABLED</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>major Stats
Collection refactoring: removed separation of global/per-spider stats, removed
stats-related signals</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:25.4pt'>(stats_spider_opened, etc). Stats are much simpler now,
backward compatibility is kept on the Stats Collector API and signals.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added <i><span
style='color:#355F7C'>process_start_requests() </span></i>method to spider
middlewares</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped Signals
singleton. Signals should now be accessed through the Crawler.signals
attribute. See the signals documentation for more info.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped Stats
Collector singleton. Stats can now be accessed through the Crawler.stats
attribute. See the stats collection documentation for more info.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>documented <i><span
style='color:#355F7C'>Core API</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>lxml is now the
default selectors backend instead of libxml2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ported
FormRequest.from_response() to use <a href="https://lxml.de/"><span
style='color:#377063;text-decoration:none'>lxml</span></a><span
style='color:#377063'> </span>instead of <a
href="https://pypi.org/project/ClientForm/"><span style='color:#377063;
text-decoration:none'>ClientForm</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed
modules: scrapy.xlib.BeautifulSoup and scrapy.xlib.ClientForm</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SitemapSpider: added
support for sitemap urls ending in .xml and .xml.gz, even if they advertise a
wrong content type (<a href="https://github.com/scrapy/scrapy/commit/10ed28b"><span
style='color:#377063;text-decoration:none'>commit 10ed28b</span></a><a
href="https://github.com/scrapy/scrapy/commit/10ed28b"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>StackTraceDump
extension: also dump trackref live references (<a
href="https://github.com/scrapy/scrapy/commit/fe2ce93"><span style='color:#377063;
text-decoration:none'>commit fe2ce93</span></a><a
href="https://github.com/scrapy/scrapy/commit/fe2ce93"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>nested items now
fully supported in JSON and JSONLines exporters</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added <i><span
style='color:#355F7C'>cookiejar </span></i>Request meta key to support multiple
cookie sessions per spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>decoupled encoding
detection code to <a
href="https://github.com/scrapy/w3lib/blob/master/w3lib/encoding.py"><span
style='color:#377063;text-decoration:none'>w3lib.encoding</span></a><a
href="https://github.com/scrapy/w3lib/blob/master/w3lib/encoding.py"><span
style='color:black;text-decoration:none'>,</span></a> and ported Scrapy code to
use that module</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped
support for Python 2.5. See <a
href="https://www.zyte.com/blog/scrapy-0-15-dropping-support-for-python-2-5/"><span
style='color:#377063;text-decoration:none'>https://www.zyte.com/blog/scrapy-0-15-dropping-support-for-python-2-5/</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped support for
Twisted 2.5</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added <i><span
style='color:#355F7C'>REFERER_ENABLED </span></i>setting, to control referer
middleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:139%'><span
style='line-height:139%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>changed
default user agent to: Scrapy/VERSION (+http://scrapy.org) • removed
(undocumented) HTMLImageLinkExtractor class from scrapy.contrib.linkextractors.
image</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed per-spider
settings (to be replaced by instantiating multiple crawler objects)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>USER_AGENT spider
attribute will no longer work, use user_agent attribute instead</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DOWNLOAD_TIMEOUT spider
attribute will no longer work, use download_timeout attribute instead</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed ENCODING_ALIASES
setting, as encoding auto-detection has been moved to the <a
href="https://github.com/scrapy/w3lib"><span style='color:#377063;text-decoration:
none'>w3lib</span></a><span style='color:#377063'> </span>library</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>promoted
topics-djangoitem to main contrib</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LogFormatter method
now return dicts(instead of strings) to support lazy formatting (<a
href="https://github.com/scrapy/scrapy/issues/164"><span style='color:#377063;
text-decoration:none'>issue 164</span></a><a
href="https://github.com/scrapy/scrapy/issues/164"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/scrapy/scrapy/commit/dcef7b0"><span style='color:#377063;
text-decoration:none'>commit dcef7b0</span></a><a
href="https://github.com/scrapy/scrapy/commit/dcef7b0"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>downloader handlers (<i><span
style='color:#355F7C'>DOWNLOAD_HANDLERS </span></i>setting) now receive
settings as the first argument of the __init__ method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replaced memory usage
accounting with (more portable) <a
href="https://docs.python.org/2/library/resource.html"><span style='color:#377063;
text-decoration:none'>resource</span></a><span style='color:#377063'> </span>module,
removed scrapy.utils.memory module</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed
signal: scrapy.mail.mail_sent</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed TRACK_REFS setting,
now <i><span style='color:#355F7C'>trackrefs </span></i>is always enabled</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>DBM is now the
default storage backend for HTTP cache middleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>number of log
messages (per level) are now tracked through Scrapy stats (stat name: log_count/LEVEL)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>number received
responses are now tracked through Scrapy stats (stat name: response_received_count)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed
scrapy.log.started attribute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.85 Scrapy 0.14.4</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added precise to
supported Ubuntu distros (<a
href="https://github.com/scrapy/scrapy/commit/b7e46df"><span style='color:#377063;
text-decoration:none'>commit b7e46df</span></a><a
href="https://github.com/scrapy/scrapy/commit/b7e46df"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:98%'><span
style='line-height:98%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed             bug         in             json-rpc  webservice             reported in             <a
href="https://groups.google.com/forum/#!topic/scrapy-users/qgVBmFybNAQ/discussion"><span
style='color:#377063;text-decoration:none'>https://groups.google.com/forum/#!topic/scrapy-users/
</span></a><a
href="https://groups.google.com/forum/#!topic/scrapy-users/qgVBmFybNAQ/discussion"><span
style='color:#377063;text-decoration:none'>qgVBmFybNAQ/discussion</span></a><a
href="https://groups.google.com/forum/#!topic/scrapy-users/qgVBmFybNAQ/discussion"><span
style='color:black;text-decoration:none'>.</span></a>         also removed no
longer supported ‘run’ command from extras/scrapy-ws.py <a
href="https://github.com/scrapy/scrapy/commit/340fbdb"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/scrapy/scrapy/commit/340fbdb"><span style='color:#377063;
text-decoration:none'>commit 340fbdb</span></a><a
href="https://github.com/scrapy/scrapy/commit/340fbdb"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>meta tag attributes
for content-type http equiv can be in any order. #123 (<a
href="https://github.com/scrapy/scrapy/commit/0cb68af"><span style='color:#377063;
text-decoration:none'>commit 0cb68af</span></a><a
href="https://github.com/scrapy/scrapy/commit/0cb68af"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace “import
Image” by more standard “from PIL import Image”. closes #88 (<a
href="https://github.com/scrapy/scrapy/commit/4d17048"><span style='color:#377063;
text-decoration:none'>commit 4d17048</span></a><a
href="https://github.com/scrapy/scrapy/commit/4d17048"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>return trial status
as bin/runtests.sh exit value. #118 (<a
href="https://github.com/scrapy/scrapy/commit/b7b2e7f"><span style='color:#377063;
text-decoration:none'>commit b7b2e7f</span></a><a
href="https://github.com/scrapy/scrapy/commit/b7b2e7f"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.86 Scrapy 0.14.3</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>forgot to include
pydispatch license. #118 (<a
href="https://github.com/scrapy/scrapy/commit/fd85f9c"><span style='color:#377063;
text-decoration:none'>commit fd85f9c</span></a><a
href="https://github.com/scrapy/scrapy/commit/fd85f9c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include egg files
used by testsuite in source distribution. #118 (<a
href="https://github.com/scrapy/scrapy/commit/c897793"><span style='color:#377063;
text-decoration:none'>commit c897793</span></a><a
href="https://github.com/scrapy/scrapy/commit/c897793"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>update docstring in
project template to avoid confusion with genspider command, which may be
considered as an advanced feature. refs #107 (<a
href="https://github.com/scrapy/scrapy/commit/2548dcc"><span style='color:#377063;
text-decoration:none'>commit 2548dcc</span></a><a
href="https://github.com/scrapy/scrapy/commit/2548dcc"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added note to
docs/topics/firebug.rst about google directory being shut down (<a
href="https://github.com/scrapy/scrapy/commit/668e352"><span style='color:#377063;
text-decoration:none'>commit 668e352</span></a><a
href="https://github.com/scrapy/scrapy/commit/668e352"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>don’t discard slot
when empty, just save in another dict in order to recycle if needed again. (<a
href="https://github.com/scrapy/scrapy/commit/8e9f607"><span style='color:#377063;
text-decoration:none'>commit 8e9f607</span></a><a
href="https://github.com/scrapy/scrapy/commit/8e9f607"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>do not fail handling
unicode xpaths in libxml2 backed selectors (<a
href="https://github.com/scrapy/scrapy/commit/b830e95"><span style='color:#377063;
text-decoration:none'>commit b830e95</span></a><a
href="https://github.com/scrapy/scrapy/commit/b830e95"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed minor mistake
in Request objects documentation (<a
href="https://github.com/scrapy/scrapy/commit/bf3c9ee"><span style='color:#377063;
text-decoration:none'>commit bf3c9ee</span></a><a
href="https://github.com/scrapy/scrapy/commit/bf3c9ee"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed minor defect in
link extractors documentation (<a
href="https://github.com/scrapy/scrapy/commit/ba14f38"><span style='color:#377063;
text-decoration:none'>commit ba14f38</span></a><a
href="https://github.com/scrapy/scrapy/commit/ba14f38"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:30.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed some obsolete
remaining code related to sqlite support in Scrapy (<a
href="https://github.com/scrapy/scrapy/commit/0665175"><span style='color:#377063;
text-decoration:none'>commit 0665175</span></a><a
href="https://github.com/scrapy/scrapy/commit/0665175"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.87 Scrapy 0.14.2</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>move buffer pointing
to start of file before computing checksum. refs #92 (<a
href="https://github.com/scrapy/scrapy/commit/6a5bef2"><span style='color:#377063;
text-decoration:none'>commit 6a5bef2</span></a><a
href="https://github.com/scrapy/scrapy/commit/6a5bef2"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Compute image
checksum before persisting images. closes #92 (<a
href="https://github.com/scrapy/scrapy/commit/9817df1"><span style='color:#377063;
text-decoration:none'>commit 9817df1</span></a><a
href="https://github.com/scrapy/scrapy/commit/9817df1"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>remove leaking
references in cached failures (<a
href="https://github.com/scrapy/scrapy/commit/673a120"><span style='color:#377063;
text-decoration:none'>commit 673a120</span></a><a
href="https://github.com/scrapy/scrapy/commit/673a120"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed bug in
MemoryUsage extension: get_engine_status() takes exactly 1 argument (0 given) (<a
href="https://github.com/scrapy/scrapy/commit/11133e9"><span style='color:#377063;
text-decoration:none'>commit 11133e9</span></a><a
href="https://github.com/scrapy/scrapy/commit/11133e9"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed struct.error on
http compression middleware. closes #87 (<a
href="https://github.com/scrapy/scrapy/commit/1423140"><span style='color:#377063;
text-decoration:none'>commit 1423140</span></a><a
href="https://github.com/scrapy/scrapy/commit/1423140"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ajax crawling wasn’t
expanding for unicode urls (<a
href="https://github.com/scrapy/scrapy/commit/0de3fb4"><span style='color:#377063;
text-decoration:none'>commit 0de3fb4</span></a><a
href="https://github.com/scrapy/scrapy/commit/0de3fb4"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Catch start_requests
iterator errors. refs #83 (<a
href="https://github.com/scrapy/scrapy/commit/454a21d"><span style='color:#377063;
text-decoration:none'>commit 454a21d</span></a><a
href="https://github.com/scrapy/scrapy/commit/454a21d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Speed-up libxml2
XPathSelector (<a href="https://github.com/scrapy/scrapy/commit/2fbd662"><span
style='color:#377063;text-decoration:none'>commit 2fbd662</span></a><a
href="https://github.com/scrapy/scrapy/commit/2fbd662"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>updated versioning
doc according to recent changes (<a
href="https://github.com/scrapy/scrapy/commit/0a070f5"><span style='color:#377063;
text-decoration:none'>commit 0a070f5</span></a><a
href="https://github.com/scrapy/scrapy/commit/0a070f5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapyd: fixed
documentation link (<a href="https://github.com/scrapy/scrapy/commit/2b4e4c3"><span
style='color:#377063;text-decoration:none'>commit 2b4e4c3</span></a><a
href="https://github.com/scrapy/scrapy/commit/2b4e4c3"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extras/makedeb.py: no
longer obtaining version from git (<a
href="https://github.com/scrapy/scrapy/commit/caffe0e"><span style='color:#377063;
text-decoration:none'>commit caffe0e</span></a><a
href="https://github.com/scrapy/scrapy/commit/caffe0e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.88 Scrapy 0.14.1</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extras/makedeb.py: no
longer obtaining version from git (<a
href="https://github.com/scrapy/scrapy/commit/caffe0e"><span style='color:#377063;
text-decoration:none'>commit caffe0e</span></a><a
href="https://github.com/scrapy/scrapy/commit/caffe0e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>bumped version to
0.14.1 (<a href="https://github.com/scrapy/scrapy/commit/6cb9e1c"><span
style='color:#377063;text-decoration:none'>commit 6cb9e1c</span></a><a
href="https://github.com/scrapy/scrapy/commit/6cb9e1c"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed reference to
tutorial directory (<a href="https://github.com/scrapy/scrapy/commit/4b86bd6"><span
style='color:#377063;text-decoration:none'>commit 4b86bd6</span></a><a
href="https://github.com/scrapy/scrapy/commit/4b86bd6"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>doc: removed
duplicated callback argument from Request.replace() (<a
href="https://github.com/scrapy/scrapy/commit/1aeccdd"><span style='color:#377063;
text-decoration:none'>commit 1aeccdd</span></a><a
href="https://github.com/scrapy/scrapy/commit/1aeccdd"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fixed formatting of
scrapyd doc (<a href="https://github.com/scrapy/scrapy/commit/8bf19e6"><span
style='color:#377063;text-decoration:none'>commit 8bf19e6</span></a><a
href="https://github.com/scrapy/scrapy/commit/8bf19e6"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dump stacks for all
running threads and fix engine status dumped by StackTraceDump extension (<a
href="https://github.com/scrapy/scrapy/commit/14a8e6e"><span style='color:#377063;
text-decoration:none'>commit </span></a><a
href="https://github.com/scrapy/scrapy/commit/14a8e6e"><span style='color:#377063;
text-decoration:none'>14a8e6e</span></a><a
href="https://github.com/scrapy/scrapy/commit/14a8e6e"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added comment about
why we disable ssl on boto images upload (<a
href="https://github.com/scrapy/scrapy/commit/5223575"><span style='color:#377063;
text-decoration:none'>commit 5223575</span></a><a
href="https://github.com/scrapy/scrapy/commit/5223575"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SSL handshaking hangs
when doing too many parallel connections to S3 (<a
href="https://github.com/scrapy/scrapy/commit/63d583d"><span style='color:#377063;
text-decoration:none'>commit 63d583d</span></a><a
href="https://github.com/scrapy/scrapy/commit/63d583d"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>change tutorial to
follow changes on dmoz site (<a
href="https://github.com/scrapy/scrapy/commit/bcb3198"><span style='color:#377063;
text-decoration:none'>commit bcb3198</span></a><a
href="https://github.com/scrapy/scrapy/commit/bcb3198"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Avoid
_disconnectedDeferred AttributeError exception in Twisted&gt;=11.1.0 (<a
href="https://github.com/scrapy/scrapy/commit/98f3f87"><span style='color:#377063;
text-decoration:none'>commit 98f3f87</span></a><a
href="https://github.com/scrapy/scrapy/commit/98f3f87"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>allow spider to set
autothrottle max concurrency (<a
href="https://github.com/scrapy/scrapy/commit/175a4b5"><span style='color:#377063;
text-decoration:none'>commit 175a4b5</span></a><a
href="https://github.com/scrapy/scrapy/commit/175a4b5"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.89 Scrapy 0.14</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features and settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for AJAX
crawlable urls</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New persistent
scheduler that stores requests on disk, allowing to suspend and resume crawls (<a
href="http://hg.scrapy.org/scrapy/changeset/2737"><span style='color:#377063;
text-decoration:none'>r2737</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2737"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added -<sub><span
style='font-size:15.5pt;line-height:103%'>o </span></sub>option to scrapy crawl,
a shortcut for dumping scraped items into a file (or standard output using -)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
passing custom settings to Scrapyd schedule.json api (<a
href="http://hg.scrapy.org/scrapy/changeset/2779"><span style='color:#377063;
text-decoration:none'>r2779</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2779"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2783"><span style='color:#377063;
text-decoration:none'>r2783</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2783"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:150%'><span
style='line-height:150%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
ChunkedTransferMiddleware (enabled by default) to support <a
href="https://en.wikipedia.org/wiki/Chunked_transfer_encoding"><span
style='color:#377063;text-decoration:none'>chunked transfer encoding</span></a><span
style='color:#377063'> </span><a
href="http://hg.scrapy.org/scrapy/changeset/2769"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2769"><span style='color:#377063;
text-decoration:none'>r2769</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2769"><span style='color:black;
text-decoration:none'>) </span></a>• Add boto 2.0 support for S3 downloader
handler (<a href="http://hg.scrapy.org/scrapy/changeset/2763"><span
style='color:#377063;text-decoration:none'>r2763</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2763"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <a
href="https://docs.python.org/2/library/marshal.html"><span style='color:#377063;
text-decoration:none'>marshal</span></a><span style='color:#377063'> </span>to
formats supported by feed exports (<a
href="http://hg.scrapy.org/scrapy/changeset/2744"><span style='color:#377063;
text-decoration:none'>r2744</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2744"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In request errbacks,
offending requests are now received in failure.request attribute (<a
href="http://hg.scrapy.org/scrapy/changeset/2738"><span style='color:#377063;
text-decoration:none'>r2738</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2738"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h2 style='margin-left:16.95pt'><span style='font-weight:normal'>• </span>Big
downloader refactoring to support per domain/ip concurrency limits (<a
href="http://hg.scrapy.org/scrapy/changeset/2732"><span style='color:#377063;
text-decoration:none'>r2732</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2732"><span style='color:black;
text-decoration:none'>)</span></a></h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:8.9pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:108%'><span style='line-height:108%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>CONCURRENT_REQUESTS_PER_SPIDER <b>setting has been deprecated and
replaced by:</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                                           </span>&#8727;
<i><span style='color:#355F7C'>CONCURRENT_REQUESTS</span></i>,                                         <i><span
style='color:#355F7C'>CONCURRENT_REQUESTS_PER_DOMAIN</span></i>,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.85pt;
margin-left:107.8pt;line-height:108%'><i><span style='color:#355F7C'>CONCURRENT_REQUESTS_PER_IP</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.35pt;
margin-bottom:5.5pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt'><span
style='line-height:103%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>check the documentation for more details</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added builtin caching
DNS resolver (<a href="http://hg.scrapy.org/scrapy/changeset/2728"><span
style='color:#377063;text-decoration:none'>r2728</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2728"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved Amazon
AWS-related components/extensions (SQS spider queue, SimpleDB stats collector)
to a separate project: [scaws](<a href="https://github.com/scrapinghub/scaws"><span
style='color:#377063;text-decoration:none'>https://github.com/scrapinghub/scaws</span></a><a
href="https://github.com/scrapinghub/scaws"><span style='color:black;
text-decoration:none'>)</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2706"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2706"><span style='color:#377063;
text-decoration:none'>r2706</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2706"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2714"><span style='color:#377063;
text-decoration:none'>r2714</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2714"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved
spider queues to scrapyd: scrapy.spiderqueue -&gt; scrapyd.spiderqueue <a
href="http://hg.scrapy.org/scrapy/changeset/2708"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2708"><span style='color:#377063;
text-decoration:none'>r2708</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2708"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved sqlite utils to
scrapyd: scrapy.utils.sqlite -&gt; scrapyd.sqlite <a
href="http://hg.scrapy.org/scrapy/changeset/2781"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2781"><span style='color:#377063;
text-decoration:none'>r2781</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2781"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Real support for
returning iterators on start_requests() method. The iterator is now consumed
during the crawl when the spider is getting idle (<a
href="http://hg.scrapy.org/scrapy/changeset/2704"><span style='color:#377063;
text-decoration:none'>r2704</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2704"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>REDIRECT_ENABLED </span></i>setting to quickly
enable/disable the redirect middleware (<a
href="http://hg.scrapy.org/scrapy/changeset/2697"><span style='color:#377063;
text-decoration:none'>r2697</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2697"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>RETRY_ENABLED </span></i>setting to quickly
enable/disable the retry middleware (<a
href="http://hg.scrapy.org/scrapy/changeset/2694"><span style='color:#377063;
text-decoration:none'>r2694</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2694"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added CloseSpider exception
to manually close spiders (<a href="http://hg.scrapy.org/scrapy/changeset/2691"><span
style='color:#377063;text-decoration:none'>r2691</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2691"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved encoding
detection by adding support for HTML5 meta charset declaration (<a
href="http://hg.scrapy.org/scrapy/changeset/2690"><span style='color:#377063;
text-decoration:none'>r2690</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2690"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Refactored close
spider behavior to wait for all downloads to finish and be processed by
spiders, before closing the spider (<a
href="http://hg.scrapy.org/scrapy/changeset/2688"><span style='color:#377063;
text-decoration:none'>r2688</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2688"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added SitemapSpider (see
documentation in Spiders page) (<a
href="http://hg.scrapy.org/scrapy/changeset/2658"><span style='color:#377063;
text-decoration:none'>r2658</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2658"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added LogStats extension
for periodically logging basic stats (like crawled pages and scraped items) (<a
href="http://hg.scrapy.org/scrapy/changeset/2657"><span style='color:#377063;
text-decoration:none'>r2657</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2657"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Make handling of
gzipped responses more robust (#319, <a
href="http://hg.scrapy.org/scrapy/changeset/2643"><span style='color:#377063;
text-decoration:none'>r2643</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2643"><span style='color:black;
text-decoration:none'>)</span></a>. Now Scrapy will try and decompress as much
as possible from a gzipped response, instead of failing with an IOError.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplified
!MemoryDebugger extension to use stats for dumping memory debugging info (<a
href="http://hg.scrapy.org/scrapy/changeset/2639"><span style='color:#377063;
text-decoration:none'>r2639</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2639"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added new command to
edit spiders: scrapy edit <a href="http://hg.scrapy.org/scrapy/changeset/2636"><span
style='color:black;text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2636"><span style='color:#377063;
text-decoration:none'>r2636</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2636"><span style='color:black;
text-decoration:none'>)</span></a> and -e flag to genspider command that uses
it</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:25.4pt;line-height:110%'><a
href="http://hg.scrapy.org/scrapy/changeset/2653"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2653"><span style='color:#377063;
text-decoration:none'>r2653</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2653"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Changed default
representation of items to pretty-printed dicts. (<a
href="http://hg.scrapy.org/scrapy/changeset/2631"><span style='color:#377063;
text-decoration:none'>r2631</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2631"><span style='color:black;
text-decoration:none'>)</span></a>. This improves default logging by making log
more readable in the default case, for both Scraped and Dropped lines.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>spider_error </span></i>signal (<a
href="http://hg.scrapy.org/scrapy/changeset/2628"><span style='color:#377063;
text-decoration:none'>r2628</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2628"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added <i><span
style='color:#355F7C'>COOKIES_ENABLED </span></i>setting (<a
href="http://hg.scrapy.org/scrapy/changeset/2625"><span style='color:#377063;
text-decoration:none'>r2625</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2625"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Stats are now dumped
to Scrapy log (default value of <i><span style='color:#355F7C'>STATS_DUMP </span></i>setting
has been changed to True). This is to make Scrapy users more aware of Scrapy
stats and the data that is collected there.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
dynamically adjusting download delay and maximum concurrent requests (<a
href="http://hg.scrapy.org/scrapy/changeset/2599"><span style='color:#377063;
text-decoration:none'>r2599</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2599"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added new DBM HTTP
cache storage backend (<a href="http://hg.scrapy.org/scrapy/changeset/2576"><span
style='color:#377063;text-decoration:none'>r2576</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2576"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added listjobs.json API
to Scrapyd (<a href="http://hg.scrapy.org/scrapy/changeset/2571"><span
style='color:#377063;text-decoration:none'>r2571</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2571"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CsvItemExporter:
added join_multivalued parameter (<a
href="http://hg.scrapy.org/scrapy/changeset/2578"><span style='color:#377063;
text-decoration:none'>r2578</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2578"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added namespace
support to xmliter_lxml <a href="http://hg.scrapy.org/scrapy/changeset/2552"><span
style='color:black;text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2552"><span style='color:#377063;
text-decoration:none'>r2552</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2552"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved cookies
middleware by making COOKIES_DEBUG nicer and documenting it (<a
href="http://hg.scrapy.org/scrapy/changeset/2579"><span style='color:#377063;
text-decoration:none'>r2579</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2579"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Several improvements
to Scrapyd and Link extractors</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Code
rearranged and removed</span></b></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:2.35pt;margin-left:
24.9pt;text-indent:-8.45pt'><span style='font-weight:normal'>• </span>Merged
item passed and item scraped concepts, as they have often proved confusing in
the past. This means: (<a href="http://hg.scrapy.org/scrapy/changeset/2630"><span
style='color:#377063;text-decoration:none'>r2630</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2630"><span style='color:black;
text-decoration:none'>)</span></a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>original
item_scraped signal was removed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>original
item_passed signal was renamed to item_scraped</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.5pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>old log
lines Scraped Item... were removed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.05pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>old log
lines Passed Item... were renamed to Scraped Item... lines and downgraded to DEBUG
level</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>Reduced
Scrapy codebase by striping part of Scrapy code into two new libraries:</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.15pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><a href="https://github.com/scrapy/w3lib"><span style='color:
#377063;text-decoration:none'>w3lib</span></a><span style='color:#377063'> </span>(several
functions from scrapy.utils.{http,markup,multipart,response,url}, done in <a
href="http://hg.scrapy.org/scrapy/changeset/2584"><span style='color:#377063;
text-decoration:none'>r2584</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2584"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.0pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><a href="https://github.com/scrapy/scrapely"><span
style='color:#377063;text-decoration:none'>scrapely</span></a><span
style='color:#377063'> </span>(was scrapy.contrib.ibl, done in <a
href="http://hg.scrapy.org/scrapy/changeset/2586"><span style='color:#377063;
text-decoration:none'>r2586</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2586"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
unused function: scrapy.utils.request.request_info() <a
href="http://hg.scrapy.org/scrapy/changeset/2577"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2577"><span style='color:#377063;
text-decoration:none'>r2577</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2577"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed googledir
project from examples/googledir. There’s now a new example project called dirbot
available on GitHub: <a href="https://github.com/scrapy/dirbot"><span
style='color:#377063;text-decoration:none'>https://github.com/scrapy/dirbot</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed support for
default field values in Scrapy items (<a
href="http://hg.scrapy.org/scrapy/changeset/2616"><span style='color:#377063;
text-decoration:none'>r2616</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2616"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed experimental
crawlspider v2 (<a href="http://hg.scrapy.org/scrapy/changeset/2632"><span
style='color:#377063;text-decoration:none'>r2632</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2632"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed scheduler
middleware to simplify architecture. Duplicates filter is now done in the
scheduler itself, using the same dupe filtering class as before (DUPEFILTER_CLASS
setting) (<a href="http://hg.scrapy.org/scrapy/changeset/2640"><span
style='color:#377063;text-decoration:none'>r2640</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2640"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed support for
passing urls to scrapy crawl command (use scrapy parse instead) (<a
href="http://hg.scrapy.org/scrapy/changeset/2704"><span style='color:#377063;
text-decoration:none'>r2704</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2704"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed deprecated
Execution Queue (<a href="http://hg.scrapy.org/scrapy/changeset/2704"><span
style='color:#377063;text-decoration:none'>r2704</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2704"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
(undocumented) spider context extension (from scrapy.contrib.spidercontext) (<a
href="http://hg.scrapy.org/scrapy/changeset/2780"><span style='color:#377063;
text-decoration:none'>r2780</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2780"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>removed CONCURRENT_SPIDERS
setting (use scrapyd maxproc instead) (<a
href="http://hg.scrapy.org/scrapy/changeset/2789"><span style='color:#377063;
text-decoration:none'>r2789</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2789"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed attributes of
core components: downloader.sites -&gt; downloader.slots, scraper.sites -&gt;
scraper.slots <a href="http://hg.scrapy.org/scrapy/changeset/2717"><span
style='color:black;text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2717"><span style='color:#377063;
text-decoration:none'>r2717</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2717"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2718"><span style='color:#377063;
text-decoration:none'>r2718</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2718"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.35pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed setting CLOSESPIDER_ITEMPASSED
to <i><span style='color:#355F7C'>CLOSESPIDER_ITEMCOUNT </span></i><a
href="http://hg.scrapy.org/scrapy/changeset/2655"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2655"><span style='color:#377063;
text-decoration:none'>r2655</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2655"><span style='color:black;
text-decoration:none'>)</span></a>. Backward compatibility kept.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.90 Scrapy 0.12</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The numbers like #NNN reference tickets in the old issue
tracker (Trac) which is no longer available.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features and improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Passed item is now
sent in the item argument of the <i><span style='color:#355F7C'>item_passed </span></i>(#273)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added verbose option
to scrapy version command, useful for bug reports (#298)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTP cache now stored
by default in the project data dir (#279)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added project data
storage directory (#276, #277)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented file
structure of Scrapy projects (see command-line tool doc)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New lxml backend for
XPath selectors (#147)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Per-spider settings
(#245)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support exit codes to
signal errors in Scrapy commands (#248)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added -c argument to scrapy
shell command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Made libxml2 optional
(#260)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New deploy command
(#261)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>CLOSESPIDER_PAGECOUNT </span></i>setting (#253)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
<i><span style='color:#355F7C'>CLOSESPIDER_ERRORCOUNT </span></i>setting (#254)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Scrapyd
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapyd now uses one
process per spider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>It stores one log
file per spider run, and rotate them keeping the latest 5 logs per spider (by
default)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A minimal web ui was
added, available at <a href="http://localhost:6800/"><span style='color:#377063;
text-decoration:none'>http://localhost:6800</span></a><span style='color:#377063'>
</span>by default</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>There is now a scrapy
server command to start a Scrapyd server of the current project</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Changes to
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added HTTPCACHE_ENABLED
setting (False by default) to enable HTTP cache middleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>changed HTTPCACHE_EXPIRATION_SECS
semantics: now zero means “never expire”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Deprecated/obsoleted
functionality</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecated runserver command
in favor of server command which starts a Scrapyd server. See also: Scrapyd
changes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deprecated queue command
in favor of using Scrapyd schedule.json API. See also: Scrapyd changes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:127.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed the
!LxmlItemLoader (experimental contrib which never graduated to main contrib)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.91 Scrapy 0.10</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The numbers like #NNN reference tickets in the old issue
tracker (Trac) which is no longer available.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features and improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New Scrapy service
called scrapyd for deploying Scrapy crawlers in production (#218)
(documentation available)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplified Images
pipeline usage which doesn’t require subclassing your own images pipeline now
(#217)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy shell now
shows the Scrapy log by default (#206)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Refactored execution
queue in a common base code and pluggable backends called “spider queues”
(#220)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New persistent spider
queue (based on SQLite) (#198), available by default, which allows to start
Scrapy in server mode and then schedule spiders to run.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added documentation
for Scrapy command-line tool and all its available sub-commands. (documentation
available)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Feed exporters with
pluggable backends (#197) (documentation available)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Deferred signals
(#193)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added two new methods
to item pipeline open_spider(), close_spider() with deferred support (#195)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for
overriding default request headers per spider (#181)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replaced default
Spider Manager with one with similar functionality but not depending on Twisted
Plugins (#186)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Split Debian package
into two packages - the library and the service (#187)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Scrapy log
refactoring (#188)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New extension for
keeping persistent spider contexts among different runs (#203)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added dont_redirect request.meta
key for avoiding redirects (#233)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added dont_retry request.meta
key for avoiding retries (#234)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Command-line
tool changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New scrapy command
which replaces the old scrapy-ctl.py (#199) - there is only one global scrapy command
now, instead of one scrapy-ctl.py per project - Added scrapy.bat script for
running more conveniently from Windows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added bash completion
to command-line tool (#210)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed command start
to runserver (#209)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>API changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>url and body attributes
of Request objects are now read-only (#230)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Request.copy()
and Request.replace() now also copies their callback and errback attributes
(#231)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed UrlFilterMiddleware
from scrapy.contrib (already disabled by default)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Offsite middleware
doesn’t filter out any request coming from a spider that doesn’t have a
allowed_domains attribute (#225)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed Spider
Manager load() method. Now spiders are loaded in the __init__ method itself.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:108%'><span
style='line-height:108%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>Changes
to Scrapy Manager (now called “Crawler”):</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.25pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>scrapy.core.manager.ScrapyManager class renamed to scrapy.crawler.Crawler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.15pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>scrapy.core.manager.scrapymanager singleton moved to scrapy.project.crawler</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved
module: scrapy.contrib.spidermanager to scrapy.spidermanager</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Spider
Manager singleton moved from scrapy.spider.spiders to the spiders` attribute of
``scrapy.project.crawler singleton.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;margin-left:
16.95pt'><span style='font-weight:normal'>• </span>moved Stats Collector
classes: (#204)</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.15pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>scrapy.stats.collector.StatsCollector to scrapy.statscol.StatsCollector</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.05pt;margin-left:71.7pt;text-align:left;text-indent:-9.95pt;
line-height:112%'><span style='line-height:112%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>scrapy.stats.collector.SimpledbStatsCollector to scrapy.contrib.statscol.
SimpledbStatsCollector</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt'>• default per-command settings are now
specified in the default_settings attribute of command object class (#201)</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:2.3pt;margin-left:
24.9pt;text-indent:-8.45pt'><span style='font-weight:normal'>• </span>changed
arguments of Item pipeline <span style='font-weight:normal'>process_item() </span>method
from <span style='font-weight:normal'>(spider, item) </span>to <span
style='font-weight:normal'>(item, spider)</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.75pt;
margin-left:62.25pt'><b>– </b>backward compatibility kept (with deprecation
warning)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:156%'><span
style='line-height:156%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>moved
</b>scrapy.core.signals <b>module to </b>scrapy.signals <b>– </b>backward
compatibility kept (with deprecation warning)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>moved
</b>scrapy.core.exceptions <b>module to </b>scrapy.exceptions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:62.25pt'><b>– </b>backward compatibility kept (with deprecation
warning)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>added
handles_request() class method to BaseSpider</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped
scrapy.log.exc() function (use scrapy.log.err() instead)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.15pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped component argument
of scrapy.log.msg() function</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.85pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dropped
scrapy.log.log_level attribute</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:143.55pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added from_settings()
class methods to Spider Manager, and Item Pipeline Manager</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Changes to
settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added HTTPCACHE_IGNORE_SCHEMES
setting to ignore certain schemes on !HttpCacheMiddleware (#225)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added SPIDER_QUEUE_CLASS
setting which defines the spider queue to use (#220)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added KEEP_ALIVE setting
(#220)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed SERVICE_QUEUE
setting (#220)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
COMMANDS_SETTINGS_MODULE setting (#201)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.4pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed REQUEST_HANDLERS
to DOWNLOAD_HANDLERS and make download handlers classes (instead of functions)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.92 Scrapy 0.9</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The numbers like #NNN reference tickets in the old issue
tracker (Trac) which is no longer available.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features and improvements</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added SMTP-AUTH
support to scrapy.mail</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New settings added: MAIL_USER,
MAIL_PASS <a href="http://hg.scrapy.org/scrapy/changeset/2065"><span
style='color:black;text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2065"><span style='color:#377063;
text-decoration:none'>r2065</span></a><span style='color:#377063'> </span>|
#149)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added new scrapy-ctl
view command - To view URL in the browser, as seen by Scrapy (<a
href="http://hg.scrapy.org/scrapy/changeset/2039"><span style='color:#377063;
text-decoration:none'>r2039</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2039"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added web service for
controlling Scrapy process (this also deprecates the web console. (<a
href="http://hg.scrapy.org/scrapy/changeset/2053"><span style='color:#377063;
text-decoration:none'>r2053</span></a><span style='color:#377063'> </span>|
#167)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for running
Scrapy as a service, for production systems (<a
href="http://hg.scrapy.org/scrapy/changeset/1988"><span style='color:#377063;
text-decoration:none'>r1988</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1988"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2054"><span style='color:#377063;
text-decoration:none'>r2054</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2054"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2055"><span style='color:#377063;
text-decoration:none'>r2055</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2055"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2056"><span style='color:#377063;
text-decoration:none'>r2056</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2056"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2057"><span style='color:#377063;
text-decoration:none'>r2057</span></a><span style='color:#377063'> </span>|
#168)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added wrapper
induction library (documentation only available in source code for now). (<a
href="http://hg.scrapy.org/scrapy/changeset/2011"><span style='color:#377063;
text-decoration:none'>r2011</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2011"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Simplified and
improved response encoding support (<a
href="http://hg.scrapy.org/scrapy/changeset/1961"><span style='color:#377063;
text-decoration:none'>r1961</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1961"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/1969"><span style='color:#377063;
text-decoration:none'>r1969</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1969"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added LOG_ENCODING setting
(<a href="http://hg.scrapy.org/scrapy/changeset/1956"><span style='color:#377063;
text-decoration:none'>r1956</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1956"><span style='color:black;
text-decoration:none'>,</span></a> documentation available)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added RANDOMIZE_DOWNLOAD_DELAY
setting (enabled by default) (<a
href="http://hg.scrapy.org/scrapy/changeset/1923"><span style='color:#377063;
text-decoration:none'>r1923</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1923"><span style='color:black;
text-decoration:none'>,</span></a> doc available)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MailSender is no
longer IO-blocking (<a href="http://hg.scrapy.org/scrapy/changeset/1955"><span
style='color:#377063;text-decoration:none'>r1955</span></a><span
style='color:#377063'> </span>| #146)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Linkextractors and
new Crawlspider now handle relative base tag urls (<a
href="http://hg.scrapy.org/scrapy/changeset/1960"><span style='color:#377063;
text-decoration:none'>r1960</span></a><span style='color:#377063'> </span>|
#148)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Several improvements
to Item Loaders and processors (<a
href="http://hg.scrapy.org/scrapy/changeset/2022"><span style='color:#377063;
text-decoration:none'>r2022</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2022"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2023"><span style='color:#377063;
text-decoration:none'>r2023</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2023"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2024"><span style='color:#377063;
text-decoration:none'>r2024</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2024"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2025"><span style='color:#377063;
text-decoration:none'>r2025</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2025"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2026"><span style='color:#377063;
text-decoration:none'>r2026</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2026"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2027"><span style='color:#377063;
text-decoration:none'>r2027</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2027"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2028"><span style='color:#377063;
text-decoration:none'>r2028</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2028"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2029"><span style='color:#377063;
text-decoration:none'>r2029</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2029"><span style='color:black;
text-decoration:none'>, </span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2030"><span style='color:#377063;
text-decoration:none'>r2030</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2030"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
adding variables to telnet console (<a
href="http://hg.scrapy.org/scrapy/changeset/2047"><span style='color:#377063;
text-decoration:none'>r2047</span></a><span style='color:#377063'> </span>|
#165)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for requests
without callbacks (<a href="http://hg.scrapy.org/scrapy/changeset/2050"><span
style='color:#377063;text-decoration:none'>r2050</span></a><span
style='color:#377063'> </span>| #166)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>API changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Change
Spider.domain_name to Spider.name (SEP-012, <a
href="http://hg.scrapy.org/scrapy/changeset/1975"><span style='color:#377063;
text-decoration:none'>r1975</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1975"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Response.encoding is
now the detected encoding (<a href="http://hg.scrapy.org/scrapy/changeset/1961"><span
style='color:#377063;text-decoration:none'>r1961</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1961"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HttpErrorMiddleware now
returns None or raises an exception (<a
href="http://hg.scrapy.org/scrapy/changeset/2006"><span style='color:#377063;
text-decoration:none'>r2006</span></a><span style='color:#377063'> </span>|
#157)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>scrapy.command modules
relocation (<a href="http://hg.scrapy.org/scrapy/changeset/2035"><span
style='color:#377063;text-decoration:none'>r2035</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2035"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2036"><span style='color:#377063;
text-decoration:none'>r2036</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2036"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/2037"><span style='color:#377063;
text-decoration:none'>r2037</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2037"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added ExecutionQueue for
feeding spiders to scrape (<a href="http://hg.scrapy.org/scrapy/changeset/2034"><span
style='color:#377063;text-decoration:none'>r2034</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2034"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed ExecutionEngine
singleton (<a href="http://hg.scrapy.org/scrapy/changeset/2039"><span
style='color:#377063;text-decoration:none'>r2039</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2039"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ported S3ImagesStore (images
pipeline) to use boto and threads (<a
href="http://hg.scrapy.org/scrapy/changeset/2033"><span style='color:#377063;
text-decoration:none'>r2033</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2033"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Moved
module: scrapy.management.telnet to scrapy.telnet <a
href="http://hg.scrapy.org/scrapy/changeset/2047"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2047"><span style='color:#377063;
text-decoration:none'>r2047</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/2047"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.75pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Changes to
default settings</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.8pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Changed default SCHEDULER_ORDER
to DFO <a href="http://hg.scrapy.org/scrapy/changeset/1939"><span
style='color:black;text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1939"><span style='color:#377063;
text-decoration:none'>r1939</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1939"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.93 Scrapy 0.8</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:.5pt'>The numbers like #NNN reference tickets in the old issue
tracker (Trac) which is no longer available.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>New
features</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
DEFAULT_RESPONSE_ENCODING setting (<a
href="http://hg.scrapy.org/scrapy/changeset/1809"><span style='color:#377063;
text-decoration:none'>r1809</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1809"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
dont_click argument to FormRequest.from_response() method (<a
href="http://hg.scrapy.org/scrapy/changeset/1813"><span style='color:#377063;
text-decoration:none'>r1813</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1813"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/1816"><span style='color:#377063;
text-decoration:none'>r1816</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1816"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added
clickdata argument to FormRequest.from_response() method (<a
href="http://hg.scrapy.org/scrapy/changeset/1802"><span style='color:#377063;
text-decoration:none'>r1802</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1802"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/1803"><span style='color:#377063;
text-decoration:none'>r1803</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1803"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added support for
HTTP proxies (HttpProxyMiddleware) (<a
href="http://hg.scrapy.org/scrapy/changeset/1781"><span style='color:#377063;
text-decoration:none'>r1781</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1781"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/1785"><span style='color:#377063;
text-decoration:none'>r1785</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1785"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Offsite spider
middleware now logs messages when filtering out requests (<a
href="http://hg.scrapy.org/scrapy/changeset/1841"><span style='color:#377063;
text-decoration:none'>r1841</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1841"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.5pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Backward-incompatible
changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Changed
scrapy.utils.response.get_meta_refresh() signature (<a
href="http://hg.scrapy.org/scrapy/changeset/1804"><span style='color:#377063;
text-decoration:none'>r1804</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1804"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
deprecated scrapy.item.ScrapedItem class - use scrapy.item.Item instead <a
href="http://hg.scrapy.org/scrapy/changeset/1838"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1838"><span style='color:#377063;
text-decoration:none'>r1838</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1838"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.05pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed deprecated scrapy.xpath
module - use scrapy.selector instead. (<a
href="http://hg.scrapy.org/scrapy/changeset/1836"><span style='color:#377063;
text-decoration:none'>r1836</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1836"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
deprecated core.signals.domain_open signal - use core.signals.domain_opened instead</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.1pt;
margin-left:25.4pt;line-height:110%'><a
href="http://hg.scrapy.org/scrapy/changeset/1822"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1822"><span style='color:#377063;
text-decoration:none'>r1822</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1822"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h2 style='margin-left:16.95pt'><span style='font-weight:normal'>• log.msg() </span>now
receives a <span style='font-weight:normal'>spider </span>argument (<a
href="http://hg.scrapy.org/scrapy/changeset/1822"><span style='color:#377063;
text-decoration:none'>r1822</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1822"><span style='color:black;
text-decoration:none'>)</span></a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.3pt;
margin-left:71.7pt;text-indent:-9.95pt'><b>– </b>Old domain argument has been
deprecated and will be removed in 0.9. For spiders, you should always use the spider
argument and pass spider references. If you really want to pass a string, use
the component argument instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.75pt;margin-left:16.95pt;text-align:left;line-height:112%'>• Changed
core signals domain_opened, domain_closed, domain_idle</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:6.85pt;margin-left:
16.95pt'><span style='font-weight:normal'>• </span>Changed Item pipeline to use
spiders instead of domains</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>The domain
argument of process_item() item pipeline method was changed to spider, the new
signature is: process_item(spider, item) <a
href="http://hg.scrapy.org/scrapy/changeset/1827"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1827"><span style='color:#377063;
text-decoration:none'>r1827</span></a><span style='color:#377063'> </span>|
#105)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.25pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>To
quickly port your code (to work with Scrapy 0.8) just use spider.domain_name where
you previously used domain.</p>

<h2 style='margin-left:16.95pt'><span style='font-weight:normal'>• </span>Changed
Stats API to use spiders instead of domains (<a
href="http://hg.scrapy.org/scrapy/changeset/1849"><span style='color:#377063;
text-decoration:none'>r1849</span></a><span style='color:#377063'> </span>|
#113)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:71.7pt;text-indent:-9.95pt;line-height:124%'><span
style='line-height:124%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span><sub><span style='font-size:15.5pt;line-height:124%'>StatsCollector
</span></sub>was changed to receive spider references (instead of domains) in
its methods (set_value, inc_value, etc).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:25.8pt;
margin-left:71.7pt;text-indent:-9.95pt;line-height:176%'><span
style='line-height:176%'>–<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>added StatsCollector.iter_spider_stats() method <b>– </b>removed StatsCollector.list_domains()
method</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Release notes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>Also,
Stats signals were renamed and now pass around spider references (instead of
domains). Here’s a summary of the changes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:71.7pt;text-indent:-9.95pt'><span style='line-height:103%'>–<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span>To
quickly port your code (to work with Scrapy 0.8) just use spider.domain_name where
you previously used domain. spider_stats contains exactly the same data as domain_stats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CloseDomain
<b>extension moved to </b>scrapy.contrib.closespider.CloseSpider <a
href="http://hg.scrapy.org/scrapy/changeset/1833"><b><span style='color:black;
text-decoration:none'>(</span></b></a><a
href="http://hg.scrapy.org/scrapy/changeset/1833"><b><span style='color:#377063;
text-decoration:none'>r1833</span></b></a><a
href="http://hg.scrapy.org/scrapy/changeset/1833"><b><span style='color:black;
text-decoration:none'>)</span></b></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.65pt;margin-left:62.25pt;text-align:left;line-height:108%'><b>–
Its settings were also renamed:</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.95pt;margin-left:97.7pt;text-align:left;line-height:112%'>&#8727;
CLOSEDOMAIN_TIMEOUT to CLOSESPIDER_TIMEOUT</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.35pt;margin-left:97.7pt;text-align:left;line-height:112%'>&#8727;
CLOSEDOMAIN_ITEMCOUNT to CLOSESPIDER_ITEMCOUNT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.85pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed deprecated SCRAPYSETTINGS_MODULE
environment variable - use SCRAPY_SETTINGS_MODULE instead (<a
href="http://hg.scrapy.org/scrapy/changeset/1840"><span style='color:#377063;
text-decoration:none'>r1840</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1840"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed
setting: REQUESTS_PER_DOMAIN to CONCURRENT_REQUESTS_PER_SPIDER <a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:#377063;
text-decoration:none'>r1830</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="http://hg.scrapy.org/scrapy/changeset/1844"><span style='color:#377063;
text-decoration:none'>r1844</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1844"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed
setting: CONCURRENT_DOMAINS to CONCURRENT_SPIDERS <a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:#377063;
text-decoration:none'>r1830</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1830"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Refactored HTTP Cache
middleware</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>HTTP Cache middleware
has been heavily refactored, retaining the same functionality except for the
domain sectorization which was removed. (<a
href="http://hg.scrapy.org/scrapy/changeset/1843"><span style='color:#377063;
text-decoration:none'>r1843</span></a><span style='color:#377063'> </span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed
exception: DontCloseDomain to DontCloseSpider <a
href="http://hg.scrapy.org/scrapy/changeset/1859"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1859"><span style='color:#377063;
text-decoration:none'>r1859</span></a><span style='color:#377063'> </span>|
#120)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Renamed
extension: DelayedCloseDomain to SpiderCloseDelay <a
href="http://hg.scrapy.org/scrapy/changeset/1861"><span style='color:black;
text-decoration:none'>(</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1861"><span style='color:#377063;
text-decoration:none'>r1861</span></a><span style='color:#377063'> </span>|
#121)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.7pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:112%'><span
style='line-height:112%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Removed
obsolete scrapy.utils.markup.remove_escape_chars function - use scrapy.utils.markup.
replace_escape_chars instead (<a
href="http://hg.scrapy.org/scrapy/changeset/1865"><span style='color:#377063;
text-decoration:none'>r1865</span></a><a
href="http://hg.scrapy.org/scrapy/changeset/1865"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.1.94 Scrapy 0.7</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:27.55pt;
margin-left:.5pt'>First release of Scrapy.</p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'><b><span style='font-size:14.5pt;line-height:107%;color:#20435C'>7.2
Contributing to Scrapy</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 566840" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Important: </b>Double check that you are reading the most
recent version of this document at <a
href="https://docs.scrapy.org/en/master/contributing.html"><span
style='color:#377063;text-decoration:none'>https://docs.scrapy.org/en/ </span></a><a
href="https://docs.scrapy.org/en/master/contributing.html"><span
style='color:#377063;text-decoration:none'>master/contributing.html</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 566841"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are many ways to contribute to Scrapy. Here are some of
them:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Report bugs and
request features in the <a href="https://github.com/scrapy/scrapy/issues"><span
style='color:#377063;text-decoration:none'>issue tracker</span></a><a
href="https://github.com/scrapy/scrapy/issues"><span style='color:black;
text-decoration:none'>,</span></a> trying to follow the guidelines detailed in <i><span
style='color:#355F7C'>Reporting bugs </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Submit patches for
new functionalities and/or bug fixes. Please read <i><span style='color:#355F7C'>Writing
patches </span></i>and <i><span style='color:#355F7C'>Submitting patches </span></i>below
for details on how to write and submit a patch.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Blog about Scrapy.
Tell the world how you’re using Scrapy. This will help newcomers with more
examples and will help the Scrapy project to increase its visibility.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Join the <a
href="https://reddit.com/r/scrapy"><span style='color:#377063;text-decoration:
none'>Scrapy subreddit</span></a><span style='color:#377063'> </span>and share
your ideas on how to improve Scrapy. We’re always open to suggestions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Answer Scrapy
questions at <a href="https://stackoverflow.com/questions/tagged/scrapy"><span
style='color:#377063;text-decoration:none'>Stack Overflow</span></a><a
href="https://stackoverflow.com/questions/tagged/scrapy"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.1 Reporting bugs</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 566696"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'><b>Note: </b>Please report security issues <b><sub><span
style='font-size:15.5pt;line-height:103%'>only </span></sub></b>to <span
style='color:#377063'>scrapy-security@googlegroups.com</span>. This is a
private list only open to trusted Scrapy developers, and its archives are not
public.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 566697"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Well-written bug reports are very helpful, so keep in mind
the following guidelines when you’re going to report a new bug.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>check the <i><span
style='color:#355F7C'>FAQ </span></i>first to see if your issue is addressed in
a well-known question</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if you have a general
question about Scrapy usage, please ask it at <a
href="https://stackoverflow.com/questions/tagged/scrapy"><span
style='color:#377063;text-decoration:none'>Stack Overflow</span></a><span
style='color:#377063'> </span>(use “scrapy” tag).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>check the <a
href="https://github.com/scrapy/scrapy/issues"><span style='color:#377063;
text-decoration:none'>open issues</span></a><span style='color:#377063'> </span>to
see if the issue has already been reported. If it has, don’t dismiss the
report, but check the ticket history and comments. If you have additional
useful information, please leave a comment, or consider <i><span
style='color:#355F7C'>sending a pull request </span></i>with a fix.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>search the <a
href="https://groups.google.com/forum/#!forum/scrapy-users"><span
style='color:#377063;text-decoration:none'>scrapy-users</span></a><span
style='color:#377063'> </span>list and <a href="https://reddit.com/r/scrapy"><span
style='color:#377063;text-decoration:none'>Scrapy subreddit</span></a><span
style='color:#377063'> </span>to see if it has been discussed there, or if
you’re not sure if what you’re seeing is a bug. You can also ask in the #scrapy
IRC channel.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>write <b>complete,
reproducible, specific bug reports</b>. The smaller the test case, the better.
Remember that other developers won’t have your project to reproduce the bug, so
please include all relevant files required to reproduce it. See for example
StackOverflow’s guide on creating a <a
href="https://stackoverflow.com/help/mcve"><span style='color:#377063;
text-decoration:none'>Minimal, Complete, and Verifiable example</span></a><span
style='color:#377063'> </span>exhibiting the issue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>the most awesome way
to provide a complete reproducible example is to send a pull request which adds
a failing test case to the Scrapy testing suite (see <i><span style='color:
#355F7C'>Submitting patches</span></i>). This is helpful even if you don’t have
an intention to fix the issue yourselves.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include the output of
scrapy version -v so developers working on your bug know exactly which version
and platform it occurred on, which is often very helpful for reproducing it, or
knowing if it was already fixed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.2 Writing patches</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Scrapy has a list of <a
href="https://github.com/scrapy/scrapy/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22"><span
style='color:#377063;text-decoration:none'>good first issues</span></a><span
style='color:#377063'> </span>and <a
href="https://github.com/scrapy/scrapy/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22"><span
style='color:#377063;text-decoration:none'>help wanted issues</span></a><span
style='color:#377063'> </span>that you can work on. These issues are a great
way to get started with contributing to Scrapy. If you’re new to the codebase,
you may want to focus on documentation or testing-related issues, as they are
always useful and can help you get more familiar with the project. You can also
check Scrapy’s <a href="https://app.codecov.io/gh/scrapy/scrapy"><span
style='color:#377063;text-decoration:none'>test coverage</span></a><span
style='color:#377063'> </span>to see which areas may benefit from more tests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The better a patch is written, the higher the chances that
it’ll get accepted and the sooner it will be merged.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Well-written patches should:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>contain the minimum
amount of code required for the specific change. Small patches are easier to
review and merge. So, if you’re doing more than one change (or bug fix), please
consider submitting one patch per change. Do not collapse multiple changes into
a single patch. For big changes consider using a patch queue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pass all unit-tests.
See <i><span style='color:#355F7C'>Running tests </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include one (or more)
test cases that check the bug fixed or the new functionality added. See <i><span
style='color:#355F7C'>Writing tests </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if you’re adding or
changing a public (documented) API, please include the documentation changes in
the same patch. See <i><span style='color:#355F7C'>Documentation policies </span></i>below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if you’re adding a
private API, please add a regular expression to the coverage_ignore_pyobjects variable
of docs/conf.py to exclude the new private API from documentation coverage
checks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:46.65pt;
margin-left:25.4pt'>To see if your private API is skipped properly, generate a
documentation coverage report as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.2.
Contributing to Scrapy</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image531.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if you are removing
deprecated code, first make sure that at least 1 year (12 months) has passed
since the release that introduced the deprecation. See <i><span
style='color:#355F7C'>Deprecation policy</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.3 Submitting
patches</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>The best way to submit a patch is to issue a <a
href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request"><span
style='color:#377063;text-decoration:none'>pull request</span></a><span
style='color:#377063'> </span>on GitHub, optionally creating a new issue first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Remember to explain what was fixed or the new functionality
(what it is, why it’s needed, etc). The more info you include, the easier will
be for core developers to understand and accept your patch.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can also discuss the new functionality (or bug fix)
before creating the patch, but it’s always good to have a patch ready to
illustrate your arguments and show that you have put some additional thought
into the subject. A good starting point is to send a pull request on GitHub. It
can be simple enough to illustrate your idea, and leave documentation/tests for
later, after the idea has been validated and proven useful. Alternatively, you
can start a conversation in the <a href="https://reddit.com/r/scrapy"><span
style='color:#377063;text-decoration:none'>Scrapy </span></a><a
href="https://reddit.com/r/scrapy"><span style='color:#377063;text-decoration:
none'>subreddit</span></a><span style='color:#377063'> </span>to discuss your
idea first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:.5pt'>Sometimes there is an existing pull request for the problem
you’d like to solve, which is stalled for some reason. Often the pull request
is in a right direction, but changes are requested by Scrapy maintainers, and
the original pull request author hasn’t had time to address them. In this case
consider picking up this pull request: open a new pull request with all commits
from the original pull request, as well as additional changes to address the
raised issues. Doing so helps a lot; it is not considered rude as long as the
original author is acknowledged by keeping his/her commits.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>You can pull an existing pull request to a local branch by
running git fetch upstream pull/$PR_NUMBER/ head:$BRANCH_NAME_TO_CREATE (replace
‘upstream’ with a remote name for scrapy repository, $PR_NUMBER with an ID of
the pull request, and $BRANCH_NAME_TO_CREATE with a name of the branch you want
to create locally). See also: <a
href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally#modifying-an-inactive-pull-request-locally"><span
style='color:#377063;text-decoration:none'>https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/
</span></a><a
href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally#modifying-an-inactive-pull-request-locally"><span
style='color:#377063;text-decoration:none'>checking-out-pull-requests-locally#modifying-an-inactive-pull-request-locally</span></a><a
href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally#modifying-an-inactive-pull-request-locally"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>When writing GitHub pull requests, try to keep titles short
but descriptive. E.g. For bug #411: “Scrapy hangs if an exception raises in
start_requests” prefer “Fix hanging when exception occurs in start_requests
(#411)” instead of “Fix for #411”. Complete titles make it easy to skim through
the issue tracker.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.45pt;
margin-left:.5pt'>Finally, try to keep aesthetic changes (<a
href="https://peps.python.org/pep-0008/"><b><sub><span style='font-size:15.5pt;
line-height:103%;color:#377063;text-decoration:none'>PEP</span></sub></b></a><b><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></b><a
href="https://peps.python.org/pep-0008/"><b><sub><span style='font-size:15.5pt;
line-height:103%;color:#377063;text-decoration:none'>8</span></sub></b></a><b><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub></b>compliance,
unused imports removal, etc) in separate commits from functional changes. This
will make pull requests easier to review and more likely to get merged.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.4 Coding style</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Please follow these coding conventions when writing code for
inclusion in Scrapy:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>We use <a
href="https://black.readthedocs.io/en/stable/"><span style='color:#377063;
text-decoration:none'>black</span></a><span style='color:#377063'> </span>for
code formatting. There is a hook in the pre-commit config that will
automatically format your code before every commit. You can also run black
manually with tox -e pre-commit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Don’t put your name
in the code you contribute; git provides enough metadata to identify author of
the code. See <a
href="https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git"><span
style='color:#377063;text-decoration:none'>https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git</span></a><span
style='color:#377063'> </span>for setup instructions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.5 Pre-commit</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We use <a href="https://pre-commit.com/"><span
style='color:#377063;text-decoration:none'>pre-commit</span></a><span
style='color:#377063'> </span>to automatically address simple code issues
before every commit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>After your create a local clone of your fork of the Scrapy
repository:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.9pt;text-indent:-12.45pt;line-height:110%'><span
style='line-height:110%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a href="https://pre-commit.com/#installation"><span
style='color:#377063;text-decoration:none'>Install pre-commit</span></a><a
href="https://pre-commit.com/#installation"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>On the root of
your local clone of the Scrapy repository, run the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25 src="Scrapy%20Documentation_files/image532.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.35pt;
margin-left:.5pt'>Now pre-commit will check your changes every time you create
a Git commit. Upon finding issues, pre-commit aborts your commit, and either
fixes those issues automatically, or only reports them to you. If it fixes
those issues automatically, creating your commit again should succeed.
Otherwise, you may need to address the corresponding issues manually first.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.6 Documentation
policies</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For reference documentation of API members (classes, methods,
etc.) use docstrings and make sure that the Sphinx documentation uses the <a
href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc"><span
style='color:#377063;text-decoration:none'>autodo</span></a><a
href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>c</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>extension
to pull the docstrings. API reference documentation should follow docstring
conventions (<a href="https://peps.python.org/pep-0257/"><span
style='color:#377063;text-decoration:none'>PEP 257</span></a><a
href="https://peps.python.org/pep-0257/"><span style='color:black;text-decoration:
none'>)</span></a> and be IDE-friendly: short, to the point, and it may provide
short examples.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Other types of documentation, such as tutorials or topics,
should be covered in files within the docs/ directory. This includes
documentation that is specific to an API member, but goes beyond API reference
documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.5pt'>In any case, if something is covered in a docstring, use the <a
href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc"><span
style='color:#377063;text-decoration:none'>autodo</span></a><a
href="https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#module-sphinx.ext.autodoc"><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063;text-decoration:none'>c</span></sub></a><sub><span
style='font-size:15.5pt;line-height:103%;color:#377063'> </span></sub>extension
to pull the docstring into the documentation instead of duplicating the
docstring in files within the docs/ directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Documentation updates that cover new or modified features
must use Sphinx’s <a
href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-versionadded"><span
style='color:#377063;text-decoration:none'>versionadded</span></a><span
style='color:#377063'> </span>and <a
href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#directive-versionchanged"><span
style='color:#377063;text-decoration:none'>versionchanged </span></a>directives.
Use VERSION as version, we will replace it with the actual version right before
the corresponding release. When we release a new major or minor version of
Scrapy, we remove these directives if they are older than 3 years.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.35pt;
margin-left:.5pt'>Documentation about deprecated features must be removed as
those features are deprecated, so that new readers do not run into it. New
deprecations and deprecation removals are documented in the <i><span
style='color:#355F7C'>release notes</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.2.7 Tests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.1pt;
margin-left:.5pt'>Tests are implemented using the <a
href="https://docs.twisted.org/en/stable/development/test-standard.html"><span
style='color:#377063;text-decoration:none'>Twisted unit-testing framework</span></a><a
href="https://docs.twisted.org/en/stable/development/test-standard.html"><span
style='color:black;text-decoration:none'>.</span></a> Running tests requires <a
href="https://tox.wiki/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>tox</span></a><a
href="https://tox.wiki/en/latest/index.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Running
tests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>To run all tests:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image533.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To run a specific test (say tests/test_loader.py) use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.0pt;margin-left:25.4pt;text-align:left;line-height:112%'>tox --
tests/test_loader.py</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>To run the tests on a specific <a
href="https://tox.wiki/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>tox</span></a><span style='color:#377063'> </span>environment,
use -<sub><span style='font-size:15.5pt;line-height:103%'>e &lt;name&gt; </span></sub>with
an environment name from tox.ini. For example, to run the tests with Python
3.10 use:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image534.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.45pt;
margin-left:.5pt'>You can also specify a comma-separated list of environments,
and use <a href="https://tox.wiki/en/latest/user_guide.html#parallel-mode"><span
style='color:#377063;text-decoration:none'>tox’s parallel mode</span></a><span
style='color:#377063'> </span>to run the tests on multiple environments in
parallel:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.2.
Contributing to Scrapy</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image535.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>To pass command-line options to <a
href="https://docs.pytest.org/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>pytest</span></a><a
href="https://docs.pytest.org/en/latest/index.html"><span style='color:black;
text-decoration:none'>,</span></a> add them after -- in your call to <a
href="https://tox.wiki/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>tox</span></a><a
href="https://tox.wiki/en/latest/index.html"><span style='color:black;
text-decoration:none'>.</span></a> Using -- overrides the default positional
arguments defined in tox.ini, so you must include those default positional
arguments (scrapy tests) after -- as well:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image536.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>You can also use the <a
href="https://github.com/pytest-dev/pytest-xdist"><span style='color:#377063;
text-decoration:none'>pytest-xdist</span></a><span style='color:#377063'> </span>plugin.
For example, to run all tests on the Python 3.10 <a
href="https://tox.wiki/en/latest/index.html"><span style='color:#377063;
text-decoration:none'>tox</span></a><span style='color:#377063'> </span>environment
using all your CPU cores:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image537.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>To see coverage report install <a
href="https://coverage.readthedocs.io/en/latest/index.html"><span
style='color:#377063;text-decoration:none'>coverage</span></a><span
style='color:#377063'> </span>(pip install coverage) and run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:25.4pt;text-align:left;line-height:112%'>coverage
report</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:.5pt'>see output of coverage --help for more options like html or
xml report.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;
margin-left:-.25pt;line-height:110%'><b><span style='color:#20435C'>Writing
tests</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>All functionality (including new features and bug fixes) must
include a test case to check that it works as expected, so please include tests
for your patches if you want them to get accepted sooner.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:0in;
margin-left:.5pt'>Scrapy uses unit-tests, which are located in the <a
href="https://github.com/scrapy/scrapy/tree/master/tests"><span
style='color:#377063;text-decoration:none'>tests/</span></a><span
style='color:#377063'> </span>directory. Their module name typically resembles
the full path of the module they’re testing. For example, the item loaders code
is in:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image538.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>And their unit-tests are in:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25 src="Scrapy%20Documentation_files/image539.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.45pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><span
style='font-size:14.5pt;line-height:107%;color:#20435C'>7.3 Versioning and API
stability</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.3.1 Versioning</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>There are 3 numbers in a Scrapy version: <i>A.B.C</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i>A </i>is the major
version. This will rarely change and will signify very large changes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i>B </i>is the
release number. This will include many changes including features and things
that possibly break backward compatibility, although we strive to keep these
cases at a minimum.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i>C </i>is the
bugfix release number.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Backward-incompatibilities are explicitly mentioned in the <i><span
style='color:#355F7C'>release notes</span></i>, and may require special
attention before upgrading.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Development releases do not follow 3-numbers version and are
generally released as dev suffixed versions, e.g. 1.3<sub><span
style='font-size:15.5pt;line-height:103%'>dev</span></sub>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'><img border=0 width=625
height=1 id="Group 565507" src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'><b>Note: </b>With Scrapy 0.* series, Scrapy used <a
href="https://en.wikipedia.org/wiki/Software_versioning#Odd-numbered_versions_for_development_releases"><span
style='color:#377063;text-decoration:none'>odd-numbered versions for
development releases</span></a><a
href="https://en.wikipedia.org/wiki/Software_versioning#Odd-numbered_versions_for_development_releases"><span
style='color:black;text-decoration:none'>.</span></a> This is not the case
anymore from Scrapy 1.0 onwards.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.45pt;
margin-left:.5pt'>Starting with Scrapy 1.0, all releases should be considered
production-ready.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 566429"
src="Scrapy%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i>1.1.1 </i>is the
first bugfix release of the <i>1.1 </i>series (safe to use in production)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.3.2 API stability</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>API stability was one of the major goals for the <i>1.0 </i>release.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Methods or functions that start with a single dash (_) are
private and should never be relied as stable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.5pt;
margin-left:.5pt'>Also, keep in mind that stable doesn’t mean complete: stable
APIs could grow new methods or functionality but the existing methods should
keep working the same way.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:-.25pt;text-align:left;line-height:108%'><b><span
style='font-size:12.0pt;line-height:108%;color:#20435C'>7.3.3 Deprecation
policy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>We aim to maintain support for deprecated Scrapy features for
at least 1 year.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>For example, if a feature is deprecated in a Scrapy version
released on June 15th 2020, that feature should continue to work in versions
released on June 14th 2021 or before that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>Any new Scrapy release after a year <i>may </i>remove support
for that deprecated feature.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:.5pt'>All deprecated features removed in a Scrapy release are
explicitly mentioned in the <i><span style='color:#355F7C'>release notes</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Release notes</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>See what has changed in recent Scrapy versions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b><i><span
style='color:#355F7C'>Contributing to Scrapy</span></i></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Learn how to contribute to the Scrapy project.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;margin-left:-.25pt;
line-height:107%'><i><span style='color:#355F7C'>Versioning and API stability</span></i></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:287.75pt;
margin-left:25.4pt'>Understand Scrapy versioning and API stability.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.3.
Versioning and API stability</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection44>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:56.65pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>PYTHON MODULE INDEX</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:14.5pt;line-height:107%'>s          </span>scrapy.mail,
<span style='color:#355F7C'>173</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><sub><span style='font-size:15.5pt;line-height:107%'>scrapy.contracts</span></sub>,
<span style='color:#355F7C'>192          </span>scrapy.pipelines.files, <span
style='color:#355F7C'>221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.contracts.default, <span style='color:#355F7C'>191            </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.pipelines.images</span></sup>,
<span style='color:#355F7C'>223</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.core.scheduler, <span style='color:#355F7C'>286 </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.robotstxt</span></sup>, <span
style='color:#355F7C'>261</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.crawler, <span style='color:#355F7C'>297             </span>scrapy.selector,
<span style='color:#355F7C'>64</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares, <span style='color:#355F7C'>245              </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.settings</span></sup>, <span
style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.ajaxcrawl, <span style='color:#355F7C'>262            </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.signalmanager</span></sup>, <span
style='color:#355F7C'>305</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.cookies, <span style='color:#355F7C'>247               </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.signals</span></sup>, <span
style='color:#355F7C'>280</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.defaultheaders, <sup><span style='font-size:
15.5pt;line-height:107%'>scrapy.spiderloader</span></sup>, <span
style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='color:#355F7C'>249 </span>scrapy.spidermiddlewares, <span
style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.downloadtimeout, <sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.spidermiddlewares.depth</span></sup>,
<span style='color:#355F7C'>266</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='color:#355F7C'>249 </span>scrapy.spidermiddlewares.httperror,
<span style='color:#355F7C'>266</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.httpauth, <span style='color:#355F7C'>249 </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.spidermiddlewares.referer</span></sup>,
<span style='color:#355F7C'>267</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.httpcache, <span style='color:#355F7C'>250 </span><sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.spidermiddlewares.urllength</span></sup>,
<span style='color:#355F7C'>270</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.httpcompression, <sup><span
style='font-size:15.5pt;line-height:107%'>scrapy.statscollectors</span></sup>, <span
style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='color:#355F7C'>254         </span>scrapy.utils.log, <span
style='color:#355F7C'>170</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.httpproxy, <span style='color:#355F7C'>255           </span>scrapy.utils.trackref,
<span style='color:#355F7C'>213</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.offsite, <span style='color:#355F7C'>255</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.redirect, <span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.retry, <span style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.robotstxt, <span style='color:#355F7C'>260</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.stats, <span style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.useragent, <span style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.exceptions, <span style='color:#355F7C'>162</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.exporters, <span style='color:#355F7C'>288</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.closespider, <span style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.corestats, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.debug, <span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.httpcache, <span style='color:#355F7C'>252</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.logstats, <span style='color:#355F7C'>272</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.memdebug, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.memusage, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.periodic_log, <span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.spiderstate, <span style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.statsmailer, <span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.telnet, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.http, <span style='color:#355F7C'>107</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.item, <span style='color:#355F7C'>68</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.link, <span style='color:#355F7C'>130</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.linkextractors, <span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.linkextractors.lxmlhtml, <span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.loader, <span style='color:#355F7C'>74</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>Python
Module Index</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection45>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>Symbols</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:-.25pt;text-align:left;line-height:104%'>__bool__()
(<i>scrapy.selector.Selector method</i>), <span style='color:#355F7C'>66</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>__init__(),
<span style='color:#355F7C'>101</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>__len__() (<i>scrapy.core.scheduler.Scheduler         method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>287</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>A</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>accepts()  (<i>scrapy.extensions.feedexport.ItemFilter method</i>),
<span style='color:#355F7C'>99</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>adapt_response()  (<i>scrapy.spiders.XMLFeedSpider method</i>),
<span style='color:#355F7C'>44</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>add_css()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>80 </span>add_jmes()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>80 </span>add_value()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>80 </span>add_xpath()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>81</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:152.55pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>ADDONS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:152.55pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>setting, <span style='color:#355F7C'>134</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>adjust_request_args() (<i>scrapy.contracts.Contract method</i>),
<span style='color:#355F7C'>192</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.0pt;
margin-bottom:1.85pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>AJAXCRAWL_ENABLED</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.0pt;
margin-bottom:1.85pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>setting, <span style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>AjaxCrawlMiddleware          (<i>class      in
scrapy.downloadermiddlewares.ajaxcrawl</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:5.1pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>262 </span>allowed() (<i>scrapy.robotstxt.RobotParser
method</i>), <span style='color:#355F7C'>261 </span>allowed_domains (<i>scrapy.Spider
attribute</i>), <span style='color:#355F7C'>36</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.75pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>ASYNCIO_EVENT_LOOP</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.75pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>setting, <span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>attrib
(<i>scrapy.selector.Selector attribute</i>), <span style='color:#355F7C'>66 </span>attrib
(<i>scrapy.selector.SelectorList attribute</i>), <span style='color:#355F7C'>67
</span>attributes (<i>scrapy.http.JsonRequest attribute</i>), <span
style='color:#355F7C'>122</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>attributes
(<i>scrapy.http.Request attribute</i>), <span style='color:#355F7C'>110</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>attributes
(<i>scrapy.http.Response attribute</i>), <span style='color:#355F7C'>125</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>attributes
(<i>scrapy.http.TextResponse attribute</i>), <span style='color:#355F7C'>126</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.75pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>AUTOTHROTTLE_DEBUG</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.75pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>setting, <span style='color:#355F7C'>227</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>autothrottle_dont_adjust_delay</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:85.3pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>reqmeta, <span style='color:#355F7C'>226 </span>AUTOTHROTTLE_ENABLED
setting, <span style='color:#355F7C'>227 </span>AUTOTHROTTLE_MAX_DELAY setting,
<span style='color:#355F7C'>227</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:70.4pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>INDEX</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>AUTOTHROTTLE_START_DELAY
setting, <span style='color:#355F7C'>227 </span>AUTOTHROTTLE_TARGET_CONCURRENCY
setting, <span style='color:#355F7C'>227</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>AWS_ACCESS_KEY_ID
setting, <span style='color:#355F7C'>135 </span>AWS_ENDPOINT_URL setting, <span
style='color:#355F7C'>135 </span>AWS_REGION_NAME setting, <span
style='color:#355F7C'>135 </span>AWS_SECRET_ACCESS_KEY setting, <span
style='color:#355F7C'>135 </span>AWS_SESSION_TOKEN setting, <span
style='color:#355F7C'>135 </span>AWS_USE_SSL setting, <span style='color:#355F7C'>135
</span>AWS_VERIFY</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>setting,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>B</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>BaseItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>290</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>BaseScheduler
(<i>class in scrapy.core.scheduler</i>), <span style='color:#355F7C'>286 </span>BaseSettings
(<i>class in scrapy.settings</i>), <span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>bench</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>34</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>bindaddress</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>body (<i>scrapy.http.Request
attribute</i>), <span style='color:#355F7C'>109 </span>body (<i>scrapy.http.Response
attribute</i>), <span style='color:#355F7C'>123</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.05pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>BOT_NAME</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.05pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>setting, <span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>build_from_crawler() (<i>in module scrapy.utils.misc</i>), <span
style='color:#355F7C'>296</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>bytes_received</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>bytes_received()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>284 </span>Bz2Plugin
(<i>class in scrapy.extensions.postprocessing</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>100</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>C</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>CacheStorage (<i>class in scrapy.extensions.httpcache</i>), <span
style='color:#355F7C'>252</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection46>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CallbackKeywordArgumentsContract (<i>class                     in               </i>setting,
<span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>scrapy.contracts.default</i>),
<span style='color:#355F7C'>191                                   </span>CONCURRENT_REQUESTS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>cb_kwargs (<i>scrapy.http.Request attribute</i>), <span style='color:
#355F7C'>110                                 </span>setting, <span
style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>cb_kwargs (<i>scrapy.http.Response attribute</i>), <span
style='color:#355F7C'>124                   </span>CONCURRENT_REQUESTS_PER_DOMAIN</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>certificate (<i>scrapy.http.Response attribute</i>), <span
style='color:#355F7C'>124                                </span>setting, <span
style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>check                                                                                                CONCURRENT_REQUESTS_PER_IP</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>        </span>command, <span
style='color:#355F7C'>30                                                                                    </span>setting,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>clear_stats() (<i>scrapy.statscollectors.StatsCollector </i>configure_logging()
(<i>in module scrapy.utils.log</i>), <span style='color:#355F7C'>170</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>306                                                                   </span>connect()               (<i>scrapy.signalmanager.SignalManager</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>close(), <span style='color:#355F7C'>101                                                                                                       </span><i>method</i>),
<span style='color:#355F7C'>305</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>close() (<i>scrapy.core.scheduler.BaseScheduler method</i>), context (<i>scrapy.loader.ItemLoader
attribute</i>), <span style='color:#355F7C'>79</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>286                                                                                    </span>Contract
(<i>class in scrapy.contracts</i>), <span style='color:#355F7C'>192</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>close() (<i>scrapy.core.scheduler.Scheduler method</i>), <span
style='color:#355F7C'>287 </span>ContractFail (<i>class in scrapy.exceptions</i>),
<span style='color:#355F7C'>192</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>close_spider(), <span style='color:#355F7C'>91                                                                             </span>cookiejar</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:117.1pt;
margin-bottom:1.65pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>close_spider() (<i>scrapy.extensions.httpcache.CacheStorage </i>reqmeta,
<span style='color:#355F7C'>247 </span><i>method</i>), <span style='color:#355F7C'>252               </span>COOKIES_DEBUG</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:117.1pt;
margin-bottom:1.75pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>close_spider() (<i>scrapy.statscollectors.StatsCollector      </i>setting,
<span style='color:#355F7C'>248 </span><i>method</i>), <span style='color:#355F7C'>306  </span>COOKIES_ENABLED</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>closed() (<i>scrapy.Spider method</i>), <span
style='color:#355F7C'>38                                                      </span>setting,
<span style='color:#355F7C'>248</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>CloseSpider, <span style='color:#355F7C'>162                                                                               </span>CookiesMiddleware                          (<i>class                         in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>CloseSpider (<i>class in scrapy.extensions.closespider</i>),                                <i>scrapy.downloadermiddlewares.cookies</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>274                                                                                                    247</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_ERRORCOUNT                                                       copy()
(<i>scrapy.http.Request method</i>), <span style='color:#355F7C'>110</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>275                                                                           </span>copy()
(<i>scrapy.http.Response method</i>), <span style='color:#355F7C'>125</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_ITEMCOUNT                                                           copy()
(<i>scrapy.Item method</i>), <span style='color:#355F7C'>69</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>275                                                                           </span>copy()
(<i>scrapy.settings.BaseSettings method</i>), <span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_PAGECOUNT                                                               copy_to_dict()
(<i>scrapy.settings.BaseSettings method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>275                                                                                            301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_PAGECOUNT_NO_ITEM                                        CoreStats
(<i>class in scrapy.extensions.corestats</i>), <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>275                                                                            </span>crawl</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_TIMEOUT                                                                       command,
<span style='color:#355F7C'>29</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>274                                                                            </span>crawl()
(<i>scrapy.crawler.Crawler method</i>), <span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CLOSESPIDER_TIMEOUT_NO_ITEM                                                   crawl()
(<i>scrapy.crawler.CrawlerProcess method</i>), <span style='color:#355F7C'>300</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>274                                                                                  </span>crawl()
(<i>scrapy.crawler.CrawlerRunner method</i>), <span style='color:#355F7C'>299</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>command                                                                                             crawled()
(<i>scrapy.logformatter.LogFormatter method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span>bench, <span
style='color:#355F7C'>34                                                                                                 168</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>          </span>check, <span
style='color:#355F7C'>30                                                                                 </span>Crawler
(<i>class in scrapy.crawler</i>), <span style='color:#355F7C'>297</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>          </span>crawl, <span
style='color:#355F7C'>29                                                                                 </span>crawler
(<i>scrapy.Spider attribute</i>), <span style='color:#355F7C'>36</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>          </span>edit, <span
style='color:#355F7C'>30                                                                                      </span>CrawlerProcess
(<i>class in scrapy.crawler</i>), <span style='color:#355F7C'>299</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>          </span>fetch, <span
style='color:#355F7C'>31                                                                                  </span>CrawlerRunner
(<i>class in scrapy.crawler</i>), <span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>genspider,
<span style='color:#355F7C'>28                                                                            </span>crawlers
(<i>scrapy.crawler.CrawlerProcess         property</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>list, <span
style='color:#355F7C'>30                                                                                                     300</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>          </span>parse, <span
style='color:#355F7C'>32                                                                                    </span>crawlers
(<i>scrapy.crawler.CrawlerRunner property</i>), <span style='color:#355F7C'>299</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>runspider,
<span style='color:#355F7C'>34                                                                          </span>CrawlSpider
(<i>class in scrapy.spiders</i>), <span style='color:#355F7C'>41</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>settings,
<span style='color:#355F7C'>33                                                                              </span>create_crawler()              (<i>scrapy.crawler.CrawlerProcess</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>shell, <span
style='color:#355F7C'>32                                                                                                  </span><i>method</i>),
<span style='color:#355F7C'>300</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>            </span>startproject,
<span style='color:#355F7C'>28                                                                      </span>create_crawler()               (<i>scrapy.crawler.CrawlerRunner</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>version,
<span style='color:#355F7C'>34                                                                                             </span><i>method</i>),
<span style='color:#355F7C'>299</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span>view, <span
style='color:#355F7C'>31                                                                                    </span>css()
(<i>scrapy.http.TextResponse method</i>), <span style='color:#355F7C'>127</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>COMMANDS_MODULE                                                                  css()
(<i>scrapy.selector.Selector method</i>), <span style='color:#355F7C'>65</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>35                                                                              </span>css()
(<i>scrapy.selector.SelectorList method</i>), <span style='color:#355F7C'>67</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>COMPRESSION_ENABLED                                                              CSVFeedSpider
(<i>class in scrapy.spiders</i>), <span style='color:#355F7C'>45</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>255                                                                             </span>CsvItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>293</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>CONCURRENT_ITEMS                                                                      csviter()
(<i>in module scrapy.utils.iterators</i>), <span style='color:#355F7C'>185</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>curl_to_request_kwargs()                        (<i>in              module             </i>reqmeta,
<span style='color:#355F7C'>260</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>scrapy.utils.curl</i>),
<span style='color:#355F7C'>207                                                     </span>dont_redirect</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>custom_settings (<i>scrapy.Spider attribute</i>), <span style='color:
#355F7C'>36                                   </span>reqmeta, <span
style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>dont_retry</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:14.5pt;line-height:107%'>D                                                                                    </span>reqmeta,
<span style='color:#355F7C'>258</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DbmCacheStorage                            (<i>class                               in
</i>DontCloseSpider, <span style='color:#355F7C'>163</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>scrapy.extensions.httpcache</i>),
<span style='color:#355F7C'>251                           </span>DOWNLOAD_DELAY</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>Debugger (<i>class in scrapy.extensions.periodic_log</i>), <span
style='color:#355F7C'>278                  </span>setting, <span
style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>deepcopy() (<i>scrapy.Item method</i>), <span style='color:#355F7C'>69                                                </span>download_error()
(<i>scrapy.logformatter.LogFormatter</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>default_input_processor (<i>scrapy.loader.ItemLoader                                method</i>),
<span style='color:#355F7C'>169</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>attribute</i>),
<span style='color:#355F7C'>79                                                                 </span>DOWNLOAD_FAIL_ON_DATALOSS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DEFAULT_ITEM_CLASS                                                                             setting,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>137                                                                               </span>download_fail_on_dataloss</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>default_item_class                     (<i>scrapy.loader.ItemLoader              </i>reqmeta,
<span style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>attribute</i>),
<span style='color:#355F7C'>79                                                                </span>DOWNLOAD_HANDLERS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>default_output_processor                                                                      setting,
<span style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>(<i>scrapy.loader.ItemLoader
attribute</i>), <span style='color:#355F7C'>79                </span>DOWNLOAD_HANDLERS_BASE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DEFAULT_REQUEST_HEADERS                                                               setting,
<span style='color:#355F7C'>142</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>137                                                                             </span>download_latency</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>default_selector_class (<i>scrapy.loader.ItemLoader                            </i>reqmeta,
<span style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>attribute</i>),
<span style='color:#355F7C'>79                                                                </span>DOWNLOAD_MAXSIZE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DefaultHeadersMiddleware                      (<i>class                in               </i>setting,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><i>scrapy.downloadermiddlewares.defaultheaders</i>), <sup><span
style='font-size:15.5pt;line-height:107%'>download_maxsize</span></sup></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>249                                                                                           </span>reqmeta,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DefaultReferrerPolicy                              (<i>class                     in
</i>DOWNLOAD_SLOTS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>scrapy.spidermiddlewares.referer</i>),
<span style='color:#355F7C'>268                             </span><sup><span
style='font-size:15.5pt;line-height:107%'>setting</span></sup>, <span
style='color:#355F7C'>142</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>deferred_to_future() (<i>in module scrapy.utils.defer</i>), <sup><span
style='font-size:15.5pt;line-height:107%'>DOWNLOAD_TIMEOUT</span></sup></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>236                                                                                             </span>setting,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>delimiter (<i>scrapy.spiders.CSVFeedSpider attribute</i>), <span
style='color:#355F7C'>45 </span><sup><span style='font-size:15.5pt;line-height:
107%'>download_timeout</span></sup></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DEPTH_LIMIT                                                                                           <sup><span
style='font-size:15.5pt;line-height:107%'>reqmeta</span></sup>, <span
style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>137                                                                         </span>DOWNLOAD_WARNSIZE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DEPTH_PRIORITY                                                                                      <sup><span
style='font-size:15.5pt;line-height:107%'>setting</span></sup>, <span
style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>137                                                                             </span>download_warnsize</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DEPTH_STATS_VERBOSE                                                                        <sup><span
style='font-size:15.5pt;line-height:107%'>reqmeta</span></sup>, <span
style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>138                                                                         </span>DOWNLOADER</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DepthMiddleware (<i>class in </i><sup><span style='font-size:15.5pt;
line-height:107%'>setting</span></sup>, <span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><i>scrapy.spidermiddlewares.depth</i>), <span style='color:#355F7C'>266 </span><sup><span
style='font-size:15.5pt;line-height:107%'>DOWNLOADER_CLIENT_TLS_CIPHERS</span></sup></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>disconnect() (<i>scrapy.signalmanager.SignalManager                         </i><sup><span
style='font-size:15.5pt;line-height:107%'>setting</span></sup>, <span
style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>305                                                                </span>DOWNLOADER_CLIENT_TLS_METHOD</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>disconnect_all() (<i>scrapy.signalmanager.SignalManager                   </i><sup><span
style='font-size:15.5pt;line-height:104%'>setting</span></sup>, <span
style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>305                                                                 </span>DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DNS_RESOLVER                                                                                         setting,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>138                                                                          </span>DOWNLOADER_CLIENTCONTEXTFACTORY</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DNS_TIMEOUT                                                                                          setting,
<span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>138                                                                          </span>DOWNLOADER_HTTPCLIENTFACTORY</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DNSCACHE_ENABLED                                                                              setting,
<span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>138                                                                        </span>DOWNLOADER_MIDDLEWARES</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>DNSCACHE_SIZE                                                                                       setting,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>138                                                                         </span>DOWNLOADER_MIDDLEWARES_BASE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>dont_cache                                                                                                setting,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span>reqmeta, <span
style='color:#355F7C'>250                                                                        </span>DOWNLOADER_STATS</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>dont_merge_cookies                                                                               setting,
<span style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span>reqmeta, <span
style='color:#355F7C'>108                                                                          </span>DownloaderMiddleware                      (<i>class                     in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>dont_obey_robotstxt                                                                                     <i>scrapy.downloadermiddlewares</i>),
<span style='color:#355F7C'>245</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>DownloaderStats                               (<i>class                           in               </i>setting,
<span style='color:#355F7C'>103</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.7pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%'><span style='font-size:11.0pt;line-height:104%'>                 </span><i>scrapy.downloadermiddlewares.stats</i>),
<span style='color:#355F7C'>262             </span>FEED_EXPORT_INDENT</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=624 style='width:6.5in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:71.75pt'>
  <td width=318 colspan=2 valign=top style='width:238.35pt;padding:0in 0in 0in 0in;
  height:71.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:139.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:39.85pt;
  line-height:120%'><span style='color:#355F7C'>249 </span>DropItem, <span
  style='color:#355F7C'>163</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.7pt;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:100%'>dropped() (<i>scrapy.logformatter.LogFormatter method</i>),
  <span style='color:#355F7C'>169</span></p>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>DummyPolicy
  (<i>class in scrapy.extensions.httpcache</i>), <span style='color:#355F7C'>250
  </span>DummyStatsCollector (<i>class in scrapy.statscollectors</i>),</p>
  </td>
  <td width=306 rowspan=3 valign=top style='width:229.65pt;padding:0in 0in 0in 0in;
  height:71.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.55pt;margin-left:20.55pt;text-align:left;text-indent:0in;
  line-height:107%'>signal, <span style='color:#355F7C'>283</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:40.45pt;text-align:left;text-indent:-39.85pt'>feed_exporter_closed()
  (<i>in module scrapy.signals</i>), <span style='color:#355F7C'>283</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:116.7pt;
  margin-bottom:0in;margin-left:.6pt;text-align:left;text-indent:0in;
  line-height:114%'>FEED_EXPORTERS setting, <span style='color:#355F7C'>105 </span>FEED_EXPORTERS_BASE
  setting, <span style='color:#355F7C'>105</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:111.45pt;
  margin-bottom:0in;margin-left:20.55pt;text-align:left;text-indent:-19.95pt;
  line-height:118%'>feed_slot_closed signal, <span style='color:#355F7C'>283</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.6pt;text-align:left;text-indent:0in;
  line-height:107%'>feed_slot_closed() (<i>in module scrapy.signals</i>), <span
  style='color:#355F7C'>283</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:108.7pt;
  margin-bottom:0in;margin-left:.6pt;text-align:left;text-indent:0in;
  line-height:112%'>FEED_STORAGE_FTP_ACTIVE setting, <span style='color:#355F7C'>104
  </span>FEED_STORAGE_GCS_ACL setting, <span style='color:#355F7C'>145 </span>FEED_STORAGE_S3_ACL
  setting, <span style='color:#355F7C'>104 </span>FEED_STORAGES setting, <span
  style='color:#355F7C'>104 </span>FEED_STORAGES_BASE setting, <span
  style='color:#355F7C'>104 </span>FEED_STORE_EMPTY setting, <span
  style='color:#355F7C'>104 </span>FEED_TEMPDIR setting, <span
  style='color:#355F7C'>145 </span>FEED_URI_PARAMS setting, <span
  style='color:#355F7C'>106</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.6pt;text-align:left;text-indent:0in;
  line-height:107%'>FEEDS</p>
  </td>
 </tr>
 <tr style='height:199.7pt'>
  <td width=291 valign=top style='width:217.95pt;padding:0in 0in 0in 0in;
  height:199.7pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='color:#355F7C'>173</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:95.15pt;
  margin-bottom:10.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:114%'>DUPEFILTER_CLASS setting, <span style='color:#355F7C'>144 </span>DUPEFILTER_DEBUG
  setting, <span style='color:#355F7C'>144</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:14.5pt;line-height:107%'>E</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:146.45pt;
  margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
  line-height:121%'>edit command, <span style='color:#355F7C'>30</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:141.5pt;
  margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
  line-height:119%'>EDITOR setting, <span style='color:#355F7C'>144</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.5pt;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:101%'>encoding  (<i>scrapy.exporters.BaseItemExporter tribute</i>),
  <span style='color:#355F7C'>291</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:10.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'>encoding (<i>scrapy.http.TextResponse attribute</i>), <span
  style='color:#355F7C'>126 </span>engine (<i>scrapy.crawler.Crawler attribute</i>),
  <span style='color:#355F7C'>297 </span>engine_started signal, <span
  style='color:#355F7C'>280</span></p>
  </td>
  <td width=27 valign=bottom style='width:20.4pt;padding:0in 0in 0in 0in;
  height:199.7pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i>at-</i></p>
  </td>
 </tr>
 <tr style='height:51.15pt'>
  <td width=318 colspan=2 valign=top style='width:238.35pt;padding:0in 0in 0in 0in;
  height:51.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>engine_started() (<i>in module scrapy.signals</i>), <span
  style='color:#355F7C'>280</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:131.25pt;
  margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
  line-height:118%'>engine_stopped signal, <span style='color:#355F7C'>280</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>engine_stopped() (<i>in module scrapy.signals</i>), <span
  style='color:#355F7C'>280</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=291 style='border:none'></td>
  <td width=27 style='border:none'></td>
  <td width=306 style='border:none'></td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>DownloadTimeoutMiddleware           (<i>class      in             </i>setting,
<span style='color:#355F7C'>104 </span><i>scrapy.downloadermiddlewares.downloadtimeout</i>)feed_exporter_closed,
enqueue_request() (<i>scrapy.core.scheduler.BaseScheduler </i><sup><span
style='font-size:15.5pt;line-height:104%'>setting</span></sup>, <span
style='color:#355F7C'>101</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>286                                                                  </span>fetch</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>enqueue_request() (<i>scrapy.core.scheduler.Scheduler                    </i>command<sup><span
style='font-size:15.5pt;line-height:107%'>, </span></sup><sup><span
style='font-size:15.5pt;line-height:107%;color:#355F7C'>31</span></sup></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>288                                                                   </span>Field
(<i>class in scrapy</i>), <span style='color:#355F7C'>71</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>export_empty_fields                                                                       fields
(<i>scrapy.Item attribute</i>), <span style='color:#355F7C'>69</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>(<i>scrapy.exporters.BaseItemExporter attribute</i>), fields_to_export (<i>scrapy.exporters.BaseItemExporter</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>291                                                                                                   </span><i>attribute</i>),
<span style='color:#355F7C'>291</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>export_item()                  (<i>scrapy.exporters.BaseItemExporter </i>file_path()                      (<i>scrapy.pipelines.files.FilesPipeline</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>290                                                                                  </span><i>method</i>),
<span style='color:#355F7C'>221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>EXTENSIONS                                                                                               file_path()
(<i>scrapy.pipelines.images.ImagesPipeline</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>144                                                                                            </span><i>method</i>),
<span style='color:#355F7C'>223</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>extensions (<i>scrapy.crawler.Crawler attribute</i>), <span
style='color:#355F7C'>297                    </span>FILES_EXPIRES</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>EXTENSIONS_BASE                                                                                   setting,
<span style='color:#355F7C'>219</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>145                                                                              </span>FILES_RESULT_FIELD</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.45pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>extract_links() (<i>scrapy.linkextractors.lxmlhtml.LxmlLinkExtractor</i><sup><span
style='font-size:15.5pt;line-height:104%'>setting</span></sup>, <span
style='color:#355F7C'>219 </span><i>method</i>), <span style='color:#355F7C'>130               </span>FILES_STORE</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:3.85pt;margin-left:231.25pt;text-align:center;line-height:107%'>setting,
<span style='color:#355F7C'>216</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.8pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:14.5pt;line-height:112%'>F                                                                                </span>FILES_STORE_GCS_ACL</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_EXPORT_BATCH_ITEM_COUNT                                                   setting,
<span style='color:#355F7C'>218</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:10.45pt;margin-bottom:
1.3pt;margin-left:-.75pt;text-indent:19.9pt;line-height:115%'><sub><span
style='font-size:15.5pt;line-height:115%'>setting</span></sub>, <span
style='color:#355F7C'>105  </span>FILES_STORE_S3_ACL FEED_EXPORT_ENCODING
setting, <span style='color:#355F7C'>218 </span><sub><span style='font-size:
15.5pt;line-height:115%'>setting</span></sub>, <span style='color:#355F7C'>103             </span>FILES_URLS_FIELD</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_EXPORT_FIELDS                                                                              setting,
<span style='color:#355F7C'>219</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.4pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>FilesPipeline (<i>class in scrapy.pipelines.files</i>), <span
style='color:#355F7C'>221                      </span>get() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>302</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>FilesystemCacheStorage (<i>class in </i>get_addon() (<i>scrapy.crawler.Crawler
method</i>), <span style='color:#355F7C'>298 </span><i>scrapy.extensions.httpcache</i>),
<span style='color:#355F7C'>251 </span>get_collected_values() (<i>scrapy.loader.ItemLoader</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>find_by_request() (<i>scrapy.spiderloader.SpiderLoader                              method</i>),
<span style='color:#355F7C'>81</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%'><span style='font-size:11.0pt;line-height:104%'>                 </span><i>method</i>),
<span style='color:#355F7C'>305                                                                   </span>get_css()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>81</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>fingerprint(), <span style='color:#355F7C'>114                                                                                </span>get_downloader_middleware()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>fingerprint() (<i>in module scrapy.utils.request</i>), <span
style='color:#355F7C'>115                                    </span>(<i>scrapy.crawler.Crawler
method</i>), <span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>finish_exporting() (<i>scrapy.exporters.BaseItemExporter</i>get_extension()
(<i>scrapy.crawler.Crawler          method</i>), <i>method</i>), <span
style='color:#355F7C'>291      298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>flags (<i>scrapy.http.Response
attribute</i>), <span style='color:#355F7C'>124    </span>get_item_pipeline()              (<i>scrapy.crawler.Crawler
</i>follow() (<i>scrapy.http.Response method</i>), <span style='color:#355F7C'>125        </span><i>method</i>),
<span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.4pt;margin-left:-.25pt;text-align:left;line-height:104%'>follow()
(<i>scrapy.http.TextResponse method</i>), <span style='color:#355F7C'>127          </span>get_jmes()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>82 </span>follow_all()
(<i>scrapy.http.Response method</i>), <span style='color:#355F7C'>125               </span>get_media_requests()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.0pt;margin-left:-.25pt;text-align:left;line-height:104%'>follow_all()
(<i>scrapy.http.TextResponse method</i>), <span style='color:#355F7C'>127   </span>(<i>scrapy.pipelines.files.FilesPipeline    method</i>),
freeze() (<i>scrapy.settings.BaseSettings method</i>), <span style='color:#355F7C'>302   221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>from_crawler(), <span style='color:#355F7C'>91                                                                             </span>get_media_requests()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.1pt;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>from_crawler() (<i>scrapy.core.scheduler.BaseScheduler   </i>(<i>scrapy.pipelines.images.ImagesPipeline
class method</i>), <span style='color:#355F7C'>286     </span><i>method</i>), <span
style='color:#355F7C'>224</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>from_crawler()
(<i>scrapy.core.scheduler.Scheduler class </i>get_oldest() (<i>in module
scrapy.utils.trackref </i>), <span style='color:#355F7C'>213</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%'><span style='font-size:11.0pt;line-height:104%'>                 </span><i>method</i>),
<span style='color:#355F7C'>288                                                                    </span>get_output_value()                   (<i>scrapy.loader.ItemLoader</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.55pt;margin-left:-.25pt;text-align:left;line-height:104%'>from_crawler()
(<i>scrapy.downloadermiddlewares.DownloaderMiddlewaremethod</i>), <span
style='color:#355F7C'>82</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
112%'><span style='font-size:11.0pt;line-height:112%'>                 </span><i>method</i>),
<span style='color:#355F7C'>247                                                                     </span>get_retry_request()                        (<i>in                    module</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.7pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>from_crawler()              (<i>scrapy.mail.MailSender         class                      scrapy.downloadermiddlewares.retry</i>),
<span style='color:#355F7C'>258</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
112%'><span style='font-size:11.0pt;line-height:112%'>                 </span><i>method</i>),
<span style='color:#355F7C'>174                                                                        </span>get_settings_priority()                      (<i>in               module</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.3pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>from_crawler() (<i>scrapy.robotstxt.RobotParser            class                      scrapy.settings</i>),
<span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%'><span style='font-size:11.0pt;line-height:104%'>                 </span><i>method</i>),
<span style='color:#355F7C'>261                                                                                </span>get_spider_middleware()
(<i>scrapy.crawler.Crawler</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>from_crawler() (<i>scrapy.Spider method</i>), <span
style='color:#355F7C'>37                                                </span><i>method</i>),
<span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>from_crawler() (<i>scrapy.spidermiddlewares.SpiderMiddleware</i>get_stats()                 (<i>scrapy.statscollectors.StatsCollector
method</i>), <span style='color:#355F7C'>265               </span><i>method</i>),
<span style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>from_curl()
(<i>scrapy.http.Request class method</i>), <span style='color:#355F7C'>110 </span>get_value()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>82 </span>from_response()
(<i>scrapy.http.scrapy.FormRequest.FormRequest</i>get_value() (<i>scrapy.statscollectors.StatsCollector</i></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection47>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'><i>class
method</i>), <span style='color:#355F7C'>120</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>from_settings() (<i>scrapy.spiderloader.SpiderLoader method</i>),
<span style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>frozencopy() (<i>scrapy.settings.BaseSettings      method</i>),
<span style='color:#355F7C'>302</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:127.15pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>FTP_PASSIVE_MODE
setting, <span style='color:#355F7C'>145 </span>FTP_PASSWORD setting, <span
style='color:#355F7C'>145</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>ftp_password
reqmeta, <span style='color:#355F7C'>145 </span>FTP_USER setting, <span
style='color:#355F7C'>146</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>ftp_user</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.4pt;margin-left:20.45pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>146</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>G</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:116.7pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>GCS_PROJECT_ID setting, <span style='color:#355F7C'>146</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>genspider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>28</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:26.2pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>get() (<i>scrapy.selector.Selector
method</i>), <span style='color:#355F7C'>65 </span>get() (<i>scrapy.selector.SelectorList
method</i>), <span style='color:#355F7C'>67 </span><i>method</i>), <span
style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>get_xpath()
(<i>scrapy.loader.ItemLoader method</i>), <span style='color:#355F7C'>82 </span>getall()
(<i>scrapy.selector.Selector method</i>), <span style='color:#355F7C'>66 </span>getall()
(<i>scrapy.selector.SelectorList method</i>), <span style='color:#355F7C'>67 </span>getbool()
(<i>scrapy.settings.BaseSettings method</i>), <span style='color:#355F7C'>302 </span>getdict()
(<i>scrapy.settings.BaseSettings method</i>), <span style='color:#355F7C'>302 </span>getdictorlist()         (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>302</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>getfloat() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>303 </span>getint() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>303 </span>getlist() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>303</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>getpriority() (<i>scrapy.settings.BaseSettings
method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>303 </span>getwithbase() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>303</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>global_object_name()          (<i>in           module
scrapy.utils.python</i>), <span style='color:#355F7C'>296</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>GzipPlugin
(<i>class in scrapy.extensions.postprocessing</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>100</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>H</span></p>

<h1 align=left style='margin-top:0in;margin-right:0in;margin-bottom:.25pt;
margin-left:-.25pt;text-align:left;line-height:112%'><a name="_Toc600038"><span
style='color:black;font-weight:normal'>handle_httpstatus_all</span></a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>266</span></p>

<h1 align=left style='margin-top:0in;margin-right:74.85pt;margin-bottom:.25pt;
margin-left:-.25pt;text-align:left;line-height:112%'><a name="_Toc600039"><span
style='color:black;font-weight:normal'>handle_httpstatus_list</span></a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>266 </span>has_pending_requests()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'>(<i>scrapy.core.scheduler.BaseScheduler
method</i>), <span style='color:#355F7C'>286</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>has_pending_requests()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>(<i>scrapy.core.scheduler.Scheduler         method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.15pt;
margin-bottom:1.65pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>288 </span>headers (<i>scrapy.http.Request
attribute</i>), <span style='color:#355F7C'>109 </span>headers (<i>scrapy.http.Response
attribute</i>), <span style='color:#355F7C'>123</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.15pt;
margin-bottom:1.65pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'>headers (<i>scrapy.spiders.CSVFeedSpider attribute</i>), <span
style='color:#355F7C'>45</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.15pt;
margin-bottom:1.65pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'>headers_received</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.25pt;text-align:left;line-height:104%'>headers_received()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>285 </span>HtmlResponse
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>128</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>HttpAuthMiddleware           (<i>class      in
scrapy.downloadermiddlewares.httpauth</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>249</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:19.8pt;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTPCACHE_ALWAYS_STORE
setting, <span style='color:#355F7C'>254</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:19.8pt;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTPCACHE_DBM_MODULE
setting, <span style='color:#355F7C'>253 </span>HTTPCACHE_DIR setting, <span
style='color:#355F7C'>253 </span>HTTPCACHE_ENABLED setting, <span
style='color:#355F7C'>252 </span>HTTPCACHE_EXPIRATION_SECS setting, <span
style='color:#355F7C'>252 </span>HTTPCACHE_GZIP setting, <span
style='color:#355F7C'>254 </span>HTTPCACHE_IGNORE_HTTP_CODES setting, <span
style='color:#355F7C'>253 </span>HTTPCACHE_IGNORE_MISSING setting, <span
style='color:#355F7C'>253 </span>HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS
setting, <span style='color:#355F7C'>254 </span>HTTPCACHE_IGNORE_SCHEMES
setting, <span style='color:#355F7C'>253 </span>HTTPCACHE_POLICY setting, <span
style='color:#355F7C'>253 </span>HTTPCACHE_STORAGE setting, <span
style='color:#355F7C'>253</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>HttpCacheMiddleware         (<i>class      in
scrapy.downloadermiddlewares.httpcache</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:2.0pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>250</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
1.7pt;margin-left:-.25pt;line-height:115%'>HttpCompressionMiddleware             (<i>class      in
</i>HTTPPROXY_AUTH_ENCODING setting, <span style='color:#355F7C'>262 </span>HTTPPROXY_ENABLED
setting, <span style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>HttpProxyMiddleware          (<i>class      in
scrapy.downloadermiddlewares.httpproxy</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>255</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:159.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:146%'><span
style='font-size:14.5pt;line-height:146%'>I </span>IgnoreRequest, <span
style='color:#355F7C'>163</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:142.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>IMAGES_EXPIRES
setting, <span style='color:#355F7C'>219 </span>IMAGES_MIN_HEIGHT setting, <span
style='color:#355F7C'>220 </span>IMAGES_MIN_WIDTH setting, <span
style='color:#355F7C'>220</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:142.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>IMAGES_RESULT_FIELD
setting, <span style='color:#355F7C'>219 </span>IMAGES_STORE setting, <span
style='color:#355F7C'>216 </span>IMAGES_STORE_GCS_ACL setting, <span
style='color:#355F7C'>218 </span>IMAGES_STORE_S3_ACL setting, <span
style='color:#355F7C'>218 </span>IMAGES_THUMBS setting, <span style='color:
#355F7C'>220 </span>IMAGES_URLS_FIELD setting, <span style='color:#355F7C'>219</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>ImagesPipeline
(<i>class in scrapy.pipelines.images</i>), <span style='color:#355F7C'>223 </span>inc_value()            (<i>scrapy.statscollectors.StatsCollector
method</i>), <span style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>indent (<i>scrapy.exporters.BaseItemExporter        attribute</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.45pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>291 </span>install_reactor() (<i>in
module scrapy.utils.reactor</i>),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.45pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:39.85pt;line-height:108%'><span
style='color:#355F7C'>155 </span>ip_address (<i>scrapy.http.Response attribute</i>),
<span style='color:#355F7C'>124 </span>Item (<i>class in scrapy</i>), <span
style='color:#355F7C'>69 </span>item (<i>scrapy.loader.ItemLoader attribute</i>),
<span style='color:#355F7C'>79 </span>item_completed() (<i>scrapy.pipelines.files.FilesPipeline
method</i>), <span style='color:#355F7C'>222</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>item_completed() (<i>scrapy.pipelines.images.ImagesPipeline
method</i>), <span style='color:#355F7C'>224</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>item_dropped</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>281</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=624 style='width:6.5in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:98.0pt'>
  <td width=624 valign=top style='width:6.5in;padding:.65pt 0in 0in 0in;
  height:98.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>scrapy.downloadermiddlewares.httpcompression</i>),         <sub><span
  style='font-size:15.5pt;line-height:107%'>signal</span></sub>, <span
  style='color:#355F7C'>281</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
  style='color:#355F7C'>254                                                                                     </span>item_error()
  (<i>in module scrapy.signals</i>), <span style='color:#355F7C'>281</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
  line-height:118%'>HTTPERROR_ALLOW_ALL    item_error()           (<i>scrapy.logformatter.LogFormatter
  </i>setting, <span style='color:#355F7C'>267            </span><i>method</i>),
  <span style='color:#355F7C'>169</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:116.7pt;
  margin-bottom:1.1pt;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
  line-height:127%'>HTTPERROR_ALLOWED_CODES         ITEM_PIPELINES setting, <span
  style='color:#355F7C'>267            </span>setting, <span style='color:#355F7C'>146</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>HttpErrorMiddleware                            (<i>class                          in
  </i>ITEM_PIPELINES_BASE</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><i>scrapy.spidermiddlewares.httperror</i>),
  <span style='color:#355F7C'>266                         </span><sub><span
  style='font-size:15.5pt;line-height:107%'>setting</span></sub>, <span
  style='color:#355F7C'>146</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>item_dropped()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>281 </span>item_error</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>item_scraped</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>280</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>item_scraped()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>280 </span>ItemFilter
(<i>class in scrapy.extensions.feedexport</i>), <span style='color:#355F7C'>99</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:-.25pt;text-align:left;line-height:104%'>ItemLoader
(<i>class in scrapy.loader</i>), <span style='color:#355F7C'>79 </span>ItemMeta
(<i>class in scrapy.item</i>), <span style='color:#355F7C'>74 </span>iter_all()
(<i>in module scrapy.utils.trackref </i>), <span style='color:#355F7C'>213</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:-.25pt;text-align:left;line-height:104%'>iterator
(<i>scrapy.spiders.XMLFeedSpider attribute</i>), <span style='color:#355F7C'>43</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:-.25pt;text-align:left;line-height:104%'>itertag
(<i>scrapy.spiders.XMLFeedSpider attribute</i>), <span style='color:#355F7C'>44</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>J</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>jmespath()
(<i>scrapy.http.TextResponse method</i>), <span style='color:#355F7C'>127 </span>jmespath()
(<i>scrapy.selector.Selector method</i>), <span style='color:#355F7C'>65 </span>jmespath()
(<i>scrapy.selector.SelectorList method</i>), <span style='color:#355F7C'>67</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:152.55pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>JOBDIR setting, <span style='color:#355F7C'>146</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.6pt;margin-left:-.25pt;text-align:left;line-height:104%'>join()
(<i>scrapy.crawler.CrawlerProcess method</i>), <span style='color:#355F7C'>300</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.6pt;margin-left:-.25pt;text-align:left;line-height:104%'>join()
(<i>scrapy.crawler.CrawlerRunner method</i>), <span style='color:#355F7C'>299 </span>json()
(<i>scrapy.http.TextResponse method</i>), <span style='color:#355F7C'>128 </span>JsonItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>294</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>JsonLinesItemExporter
(<i>class in scrapy.exporters</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>294</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>JsonRequest
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>122</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.95pt;margin-left:-.25pt;text-align:left;line-height:104%'>JsonResponse
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>128</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>L</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:81.55pt;
margin-bottom:2.15pt;margin-left:-.25pt;text-align:left;line-height:104%'>Link (<i>class
in scrapy.link</i>), <span style='color:#355F7C'>130</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:81.55pt;
margin-bottom:2.15pt;margin-left:-.25pt;text-align:left;line-height:104%'>list</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:104%'>command, <span style='color:#355F7C'>30 </span>list() (<i>scrapy.spiderloader.SpiderLoader
method</i>), <span style='color:#355F7C'>304 </span>load() (<i>scrapy.spiderloader.SpiderLoader
method</i>), <span style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:104%'>load_item() (<i>scrapy.loader.ItemLoader method</i>), <span
style='color:#355F7C'>83 </span>log() (<i>scrapy.Spider method</i>), <span
style='color:#355F7C'>38</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>LOG_DATEFORMAT
setting, <span style='color:#355F7C'>147 </span>LOG_ENABLED setting, <span
style='color:#355F7C'>147 </span>LOG_ENCODING setting, <span style='color:#355F7C'>147
</span>LOG_FILE setting, <span style='color:#355F7C'>147 </span>LOG_FILE_APPEND
setting, <span style='color:#355F7C'>147 </span>LOG_FORMAT setting, <span
style='color:#355F7C'>147 </span>LOG_FORMATTER setting, <span style='color:
#355F7C'>147 </span>LOG_LEVEL setting, <span style='color:#355F7C'>148 </span>LOG_SHORT_NAMES
setting, <span style='color:#355F7C'>148 </span>LOG_STDOUT setting, <span
style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>LogFormatter
(<i>class in scrapy.logformatter</i>), <span style='color:#355F7C'>168 </span>logger
(<i>scrapy.Spider attribute</i>), <span style='color:#355F7C'>36 </span>LogStats
(<i>class in scrapy.extensions.logstats</i>), <span style='color:#355F7C'>272</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.0pt;
margin-bottom:1.8pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>LOGSTATS_INTERVAL setting, <span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>LxmlLinkExtractor  (<i>class      in
scrapy.linkextractors.lxmlhtml</i>), <span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>LZMAPlugin
(<i>class in scrapy.extensions.postprocessing</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>100</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>M</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:148.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>MAIL_FROM
setting, <span style='color:#355F7C'>175 </span>MAIL_HOST setting, <span
style='color:#355F7C'>175 </span>MAIL_PASS setting, <span style='color:#355F7C'>175
</span>MAIL_PORT setting, <span style='color:#355F7C'>175 </span>MAIL_SSL
setting, <span style='color:#355F7C'>175 </span>MAIL_TLS setting, <span
style='color:#355F7C'>175 </span>MAIL_USER setting, <span style='color:#355F7C'>175</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>MailSender
(<i>class in scrapy.mail</i>), <span style='color:#355F7C'>174 </span>MarshalItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>295</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>max_retry_times</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>max_value()           (<i>scrapy.statscollectors.StatsCollector
method</i>), <span style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>maxpriority() (<i>scrapy.settings.BaseSettings method</i>), <span
style='color:#355F7C'>303</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>maybe_deferred_to_future()              (<i>in           module
scrapy.utils.defer</i>), <span style='color:#355F7C'>236</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.45pt;
margin-bottom:1.75pt;margin-left:-.25pt;text-align:left;line-height:112%'>MEDIA_ALLOW_REDIRECTS
setting, <span style='color:#355F7C'>221 </span>MEMDEBUG_ENABLED setting, <span
style='color:#355F7C'>148 </span>MEMDEBUG_NOTIFY setting, <span
style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>MemoryDebugger                (<i>class      in
scrapy.extensions.memdebug</i>), <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>MemoryStatsCollector         (<i>class      in
scrapy.statscollectors</i>), <span style='color:#355F7C'>173</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>MemoryUsage (<i>class     in   scrapy.extensions.memusage</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>MEMUSAGE_CHECK_INTERVAL_SECONDS
setting, <span style='color:#355F7C'>149 </span>MEMUSAGE_ENABLED setting, <span
style='color:#355F7C'>148 </span>MEMUSAGE_LIMIT_MB setting, <span
style='color:#355F7C'>149 </span>MEMUSAGE_NOTIFY_MAIL setting, <span
style='color:#355F7C'>149</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection48>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>MEMUSAGE_WARNING_MB                                                                       scrapy.extensions.logstats,
<span style='color:#355F7C'>272</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>149                                                                                       </span>scrapy.extensions.memdebug,
<span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>meta (<i>scrapy.http.Request attribute</i>), <span style='color:#355F7C'>109                                             </span>scrapy.extensions.memusage,
<span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>meta (<i>scrapy.http.Response attribute</i>), <span style='color:#355F7C'>124                                              </span>scrapy.extensions.periodic_log,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>MetadataContract (<i>class in scrapy.contracts.default</i>),                            scrapy.extensions.spiderstate,
<span style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>191                                                                                                  </span>scrapy.extensions.statsmailer,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>METAREFRESH_ENABLED                                                                            scrapy.extensions.telnet,
<span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>257                                                                                      </span>scrapy.http,
<span style='color:#355F7C'>107</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>METAREFRESH_IGNORE_TAGS                                                               scrapy.item,
<span style='color:#355F7C'>68</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>257                                                                                      </span>scrapy.link,
<span style='color:#355F7C'>130</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>METAREFRESH_MAXDELAY                                                                         scrapy.linkextractors,
<span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>           </span>setting,
<span style='color:#355F7C'>257                                                                                           </span>scrapy.linkextractors.lxmlhtml,
<span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>MetaRefreshMiddleware                        (<i>class                    in                 </i>scrapy.loader,
<span style='color:#355F7C'>74</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>scrapy.downloadermiddlewares.redirect</i>),                          scrapy.mail,
<span style='color:#355F7C'>173</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>257                                                                                                  </span>scrapy.pipelines.files,
<span style='color:#355F7C'>221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>method (<i>scrapy.http.Request attribute</i>), <span style='color:#355F7C'>109                                          </span>scrapy.pipelines.images,
<span style='color:#355F7C'>223</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>min_value()               (<i>scrapy.statscollectors.StatsCollector                 </i>scrapy.robotstxt,
<span style='color:#355F7C'>261</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
<span style='color:#355F7C'>306                                                                              </span>scrapy.selector,
<span style='color:#355F7C'>64</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module                                                                                                          scrapy.settings,
<span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>             </span>scrapy.contracts,
<span style='color:#355F7C'>192                                                                    </span>scrapy.signalmanager,
<span style='color:#355F7C'>305</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                </span>scrapy.contracts.default,
<span style='color:#355F7C'>191                                                    </span>scrapy.signals,
<span style='color:#355F7C'>280</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>              </span>scrapy.core.scheduler,
<span style='color:#355F7C'>286                                                          </span>scrapy.spiderloader,
<span style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>             </span>scrapy.crawler,
<span style='color:#355F7C'>297                                                                        </span>scrapy.spidermiddlewares,
<span style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>             </span>scrapy.downloadermiddlewares,
<span style='color:#355F7C'>245                                          </span>scrapy.spidermiddlewares.depth,
<span style='color:#355F7C'>266</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                </span>scrapy.downloadermiddlewares.ajaxcrawl,                              scrapy.spidermiddlewares.httperror,
<span style='color:#355F7C'>266</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>262                                                                                                  </span>scrapy.spidermiddlewares.referer,
<span style='color:#355F7C'>267</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>               </span>scrapy.downloadermiddlewares.cookies,
<span style='color:#355F7C'>247                           </span>scrapy.spidermiddlewares.urllength,
<span style='color:#355F7C'>270</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.defaultheaders, scrapy.statscollectors, <span
style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>249                                                                                                </span>scrapy.utils.log,
<span style='color:#355F7C'>170</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.downloadermiddlewares.downloadtimeout, scrapy.utils.trackref, <span
style='color:#355F7C'>213</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='color:#355F7C'>249</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>               </span>scrapy.downloadermiddlewares.httpauth,                 <span
style='font-size:14.5pt;line-height:107%'>N</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.65pt;
margin-bottom:.25pt;margin-left:258.95pt;text-align:left;text-indent:-239.0pt;
line-height:104%'><span style='line-height:104%;color:#355F7C'>249<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><sub><span style='font-size:15.5pt;line-height:104%'>name </span></sub>(<i>scrapy.Spider
attribute</i>), <span style='color:#355F7C'>36</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'><span style='font-size:11.0pt;line-height:104%'>               </span>scrapy.downloadermiddlewares.httpcache,                  <sub><span
style='font-size:15.5pt;line-height:104%'>namespaces </span></sub>(<i>scrapy.spiders.XMLFeedSpider
attribute</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.65pt;
margin-bottom:4.35pt;margin-left:258.95pt;text-align:left;text-indent:-239.0pt;
line-height:107%'><span style='line-height:107%;color:#355F7C'>250<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:#355F7C'>44</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05in;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:11.0pt;line-height:112%'>                </span>scrapy.downloadermiddlewares.httpcompressionnested_css(),          (<i>scrapy.loader.ItemLoader
method</i>), <span style='color:#355F7C'>83</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:258.95pt;text-align:left;text-indent:-239.0pt;
line-height:104%'><span style='line-height:104%;color:#355F7C'>254<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><sub><span style='font-size:15.5pt;line-height:104%'>nested_xpath()
</span></sub>(<i>scrapy.loader.ItemLoader    method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.7pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:11.0pt;line-height:112%'>                </span>scrapy.downloadermiddlewares.httpproxy,                                <span
style='color:#355F7C'>83</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:258.95pt;text-align:left;text-indent:-239.0pt;
line-height:112%'><span style='line-height:112%;color:#355F7C'>255<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>NEWSPIDER_MODULE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:11.0pt;line-height:112%'>                </span>scrapy.downloadermiddlewares.offsite,
<span style='color:#355F7C'>255                       </span><sub><span
style='font-size:15.5pt;line-height:112%'>setting</span></sub>, <span
style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:11.0pt;line-height:112%'>                </span>scrapy.downloadermiddlewares.redirect,                          <sub><span
style='font-size:15.5pt;line-height:112%'>next_request() </span></sub>(<i>scrapy.core.scheduler.BaseScheduler</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:258.95pt;text-align:left;text-indent:-239.0pt;
line-height:104%'><span style='line-height:104%;color:#355F7C'>256<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>method</i>), <span style='color:#355F7C'>286</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:144%'>scrapy.downloadermiddlewares.retry,
<span style='color:#355F7C'>257    </span><sub><span style='font-size:15.5pt;
line-height:144%'>next_request()       </span></sub>(<i>scrapy.core.scheduler.Scheduler
</i>scrapy.downloadermiddlewares.robotstxt,      <i>method</i>), <span
style='color:#355F7C'>288</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.35pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'><span style='color:#355F7C'>260 </span><sub><span
style='font-size:15.5pt;line-height:112%'>NO_CALLBACK() </span></sub>(<i>in
module scrapy.http.request</i>), <span style='color:#355F7C'>111 </span>scrapy.downloadermiddlewares.stats,
<span style='color:#355F7C'>262 </span>NoReferrerPolicy (<i>class in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='font-size:11.0pt;line-height:112%'>               </span>scrapy.downloadermiddlewares.useragent,                               <i>scrapy.spidermiddlewares.referer</i>),
<span style='color:#355F7C'>268</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span><span
style='color:#355F7C'>262                                                                                     </span>NoReferrerWhenDowngradePolicy             (<i>class           in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>             </span>scrapy.exceptions<sup><span
style='font-size:15.5pt;line-height:107%'>, </span></sup><sup><span
style='font-size:15.5pt;line-height:107%;color:#355F7C'>162                                                                      </span></sup><i>scrapy.spidermiddlewares.referer</i>),
<span style='color:#355F7C'>268</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>             </span>scrapy.exporters,
<span style='color:#355F7C'>288                                                         </span>NotConfigured,
<span style='color:#355F7C'>163</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                </span>scrapy.extensions.closespider,
<span style='color:#355F7C'>274                             </span>NotSupported,
<span style='color:#355F7C'>163</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.extensions.corestats, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>              </span>scrapy.extensions.debug,
<span style='color:#355F7C'>275                                        </span><span
style='font-size:14.5pt;line-height:107%'>O</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>               </span>scrapy.extensions.httpcache,
<span style='color:#355F7C'>252                                   </span>object_ref
(<i>class in scrapy.utils.trackref </i>), <span style='color:#355F7C'>213</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>OffsiteMiddleware                               (<i>class                                in
</i>process_spider_exception()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>scrapy.downloadermiddlewares.offsite</i>),
<span style='color:#355F7C'>255                               </span>(<i>scrapy.spidermiddlewares.SpiderMiddleware</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.7pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>open() (<i>scrapy.core.scheduler.BaseScheduler method</i>),                           <i>method</i>),
<span style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
112%'><span style='font-size:11.0pt;line-height:112%'>                  </span><span
style='color:#355F7C'>286                                                                                       </span>process_spider_input()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>open() (<i>scrapy.core.scheduler.Scheduler method</i>), <span
style='color:#355F7C'>288                                </span>(<i>scrapy.spidermiddlewares.SpiderMiddleware</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.95pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>open_in_browser() (<i>in module scrapy.utils.response</i>),                            <i>method</i>),
<span style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
112%'><span style='font-size:11.0pt;line-height:112%'>                  </span><span
style='color:#355F7C'>189                                                                                       </span>process_spider_output()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>open_spider(), <span style='color:#355F7C'>91                                                                                                </span>(<i>scrapy.spidermiddlewares.SpiderMiddleware</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>open_spider() (<i>scrapy.extensions.httpcache.CacheStorage                    method</i>),
<span style='color:#355F7C'>264</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection49>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'><i>method</i>),
<span style='color:#355F7C'>252</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.95pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>open_spider() (<i>scrapy.statscollectors.StatsCollector
method</i>), <span style='color:#355F7C'>306</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:104%'>OriginPolicy                                     (<i>class                              in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'><i>scrapy.spidermiddlewares.referer</i>), <span
style='color:#355F7C'>268</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.95pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>OriginWhenCrossOriginPolicy            (<i>class      in
scrapy.spidermiddlewares.referer</i>), <span style='color:#355F7C'>269</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>P</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>parse</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>32</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>parse()
(<i>scrapy.Spider method</i>), <span style='color:#355F7C'>38 </span>parse_node()           (<i>scrapy.spiders.XMLFeedSpider
method</i>), <span style='color:#355F7C'>44</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>parse_row()
(<i>scrapy.spiders.CSVFeedSpider method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>45 </span>parse_start_url()            (<i>scrapy.spiders.CrawlSpider
method</i>), <span style='color:#355F7C'>41</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:87.8pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>PERIODIC_LOG_DELTA
setting, <span style='color:#355F7C'>277 </span>PERIODIC_LOG_STATS setting, <span
style='color:#355F7C'>277 </span>PERIODIC_LOG_TIMING_ENABLED setting, <span
style='color:#355F7C'>277</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>PeriodicLog
(<i>class in scrapy.extensions.periodic_log</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>276</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>PickleItemExporter (<i>class in
scrapy.exporters</i>), <span style='color:#355F7C'>293 </span>pop() (<i>scrapy.settings.BaseSettings
method</i>), <span style='color:#355F7C'>303</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>post_process() (<i>scrapy.contracts.Contract
method</i>), <span style='color:#355F7C'>192</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>PprintItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>294 </span>pre_process()
(<i>scrapy.contracts.Contract method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:112%'><span style='color:#355F7C'>192 </span>print_live_refs() (<i>in
module scrapy.utils.trackref </i>), <span style='color:#355F7C'>213 </span>process_exception()
process_spider_output_async()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'>(<i>scrapy.spidermiddlewares.SpiderMiddleware
method</i>), <span style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>process_start_requests()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'>(<i>scrapy.spidermiddlewares.SpiderMiddleware
method</i>), <span style='color:#355F7C'>265</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:11.3pt;
margin-bottom:1.85pt;margin-left:-.25pt;text-align:left;line-height:104%'>protocol
(<i>scrapy.http.Response attribute</i>), <span style='color:#355F7C'>124 </span>proxy</p>

<p class=MsoNormal style='margin-top:0in;margin-right:82.55pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:19.95pt;line-height:115%'>reqmeta, <span
style='color:#355F7C'>255 </span>Python Enhancement Proposals PEP 8, <span
style='color:#355F7C'>412</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.0pt;margin-left:-.25pt;text-align:left;line-height:104%'>PythonItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>292</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>Q</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15in;margin-left:-.25pt;text-align:left;line-height:104%'>quotechar
(<i>scrapy.spiders.CSVFeedSpider attribute</i>), <span style='color:#355F7C'>45</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>R</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:64.4pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>RANDOMIZE_DOWNLOAD_DELAY setting, <span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:11.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>re() (<i>scrapy.selector.Selector
method</i>), <span style='color:#355F7C'>66 </span>re() (<i>scrapy.selector.SelectorList
method</i>), <span style='color:#355F7C'>67</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:11.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>re_first()
(<i>scrapy.selector.Selector method</i>), <span style='color:#355F7C'>66</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:11.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>re_first()
(<i>scrapy.selector.SelectorList method</i>), <span style='color:#355F7C'>67</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>REACTOR_THREADPOOL_MAXSIZE</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>setting,
<span style='color:#355F7C'>150 </span>REDIRECT_ENABLED</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>setting,
<span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>REDIRECT_MAX_TIMES</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>setting,
<span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:93.05pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>REDIRECT_PRIORITY_ADJUST
setting, <span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:106.25pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>redirect_reasons reqmeta, <span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>redirect_urls</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:20.45pt;text-align:left;line-height:112%'>reqmeta,
<span style='color:#355F7C'>256</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=624 style='width:6.5in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:109.8pt'>
  <td width=624 valign=top style='width:6.5in;padding:.8pt 0in 0in 0in;
  height:109.8pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                 </span>(<i>scrapy.downloadermiddlewares.DownloaderMiddleware    scrapy.downloadermiddlewares.redirect</i>),</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
  <span style='color:#355F7C'>246                                                                                   256</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><sup><span style='font-size:15.5pt;line-height:107%'>process_item()</span></sup>,
  <span style='color:#355F7C'>90                                                                         </span>REFERER_ENABLED</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>process_request() (<i>scrapy.downloadermiddlewares.DownloaderMiddleware</i><sub><span
  style='font-size:15.5pt;line-height:107%'>setting</span></sub>, <span
  style='color:#355F7C'>267</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.5pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                 </span><i>method</i>),
  <span style='color:#355F7C'>245                                                                   </span>RefererMiddleware                          (<i>class                         in</i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:134%'>process_response() (<i>scrapy.downloadermiddlewares.DownloaderMiddlewarescrapy.spidermiddlewares.referer</i>),
  <span style='color:#355F7C'>267 </span><i>method</i>), <span
  style='color:#355F7C'>246              </span>REFERRER_POLICY</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:117.1pt;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>process_results() (<i>scrapy.spiders.XMLFeedSpider          </i><sub><span
  style='font-size:15.5pt;line-height:107%'>setting</span></sub>, <span
  style='color:#355F7C'>267 </span><i>method</i>), <span style='color:#355F7C'>44              </span>referrer_policy</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>RedirectMiddleware                             (<i>class                       in</i></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=305
 style='width:229.0pt;border-collapse:collapse'>
 <tr style='height:12.55pt'>
  <td width=175 valign=top style='width:131.35pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:0in;
  line-height:107%'>reqmeta, <span style='color:#355F7C'>267</span></p>
  </td>
  <td width=130 valign=top style='width:97.65pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:23.9pt'>
  <td width=175 valign=top style='width:131.35pt;padding:0in 0in 0in 0in;
  height:23.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>register_namespace() <i>method</i>), <span
  style='color:#355F7C'>66</span></p>
  </td>
  <td width=130 valign=top style='width:97.65pt;padding:0in 0in 0in 0in;
  height:23.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>(<i>scrapy.selector.Selector</i></p>
  </td>
 </tr>
 <tr style='height:12.7pt'>
  <td width=175 valign=top style='width:131.35pt;padding:0in 0in 0in 0in;
  height:12.7pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>remove_namespaces()</p>
  </td>
  <td width=130 valign=top style='width:97.65pt;padding:0in 0in 0in 0in;
  height:12.7pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>(<i>scrapy.selector.Selector</i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'><i>method</i>),
<span style='color:#355F7C'>66</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>replace() (<i>scrapy.http.Request
method</i>), <span style='color:#355F7C'>110 </span>replace() (<i>scrapy.http.Response
method</i>), <span style='color:#355F7C'>125</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>replace_css() (<i>scrapy.loader.ItemLoader
method</i>), <span style='color:#355F7C'>83 </span>replace_jmes() (<i>scrapy.loader.ItemLoader
method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>83 </span>replace_value() (<i>scrapy.loader.ItemLoader
method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>83 </span>replace_xpath() (<i>scrapy.loader.ItemLoader
method</i>), <span style='color:#355F7C'>83</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.75pt;margin-left:-.25pt;text-align:left;line-height:112%'>reqmeta</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>autothrottle_dont_adjust_delay, <span style='color:#355F7C'>226</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>bindaddress, <span style='color:#355F7C'>118 </span>cookiejar,
<span style='color:#355F7C'>247 </span>dont_cache, <span style='color:#355F7C'>250</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>dont_merge_cookies, <span style='color:#355F7C'>108 </span>dont_obey_robotstxt,
<span style='color:#355F7C'>260</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>dont_redirect, <span style='color:#355F7C'>256 </span>dont_retry,
<span style='color:#355F7C'>258</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>download_fail_on_dataloss, <span style='color:#355F7C'>118 </span>download_latency,
<span style='color:#355F7C'>118 </span>download_maxsize, <span
style='color:#355F7C'>143</span></p>

<p class=MsoToc1><a href="#_Toc600034"><span style='color:black;text-decoration:
none'>download_timeout,                                                  </span><span style='color:#355F7C;text-decoration:none'>118</span></a></p>

<p class=MsoToc1><a href="#_Toc600035"><span style='color:black;text-decoration:
none'>download_warnsize,                                                </span><span style='color:#355F7C;text-decoration:none'>143</span></a></p>

<p class=MsoToc1><a href="#_Toc600036"><span style='color:black;text-decoration:
none'>ftp_password,                                                            </span><span style='color:#355F7C;text-decoration:none'>145</span></a></p>

<p class=MsoToc1><a href="#_Toc600037"><span style='color:black;text-decoration:
none'>ftp_user,                                                                     </span><span style='color:#355F7C;text-decoration:none'>146</span></a></p>

<p class=MsoToc1><a href="#_Toc600038"><span style='color:black;text-decoration:
none'>handle_httpstatus_all,                                             </span><span style='color:#355F7C;text-decoration:none'>266</span></a></p>

<p class=MsoToc1><a href="#_Toc600039"><span style='color:black;text-decoration:
none'>handle_httpstatus_list,                                            </span><span style='color:#355F7C;text-decoration:none'>266</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>max_retry_times, <span style='color:#355F7C'>118 </span>proxy,
<span style='color:#355F7C'>255 </span>redirect_reasons, <span
style='color:#355F7C'>256 </span>redirect_urls, <span style='color:#355F7C'>256
</span>referrer_policy, <span style='color:#355F7C'>267</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>Request (<i>class in scrapy.http</i>), <span
style='color:#355F7C'>107</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>request (<i>scrapy.http.Response attribute</i>), <span
style='color:#355F7C'>123</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.25pt;
margin-bottom:1.5pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>request_dropped</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>283</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>request_dropped() (<i>in module
scrapy.signals</i>), <span style='color:#355F7C'>283 </span>request_fingerprinter
(<i>scrapy.crawler.Crawler attribute</i>), <span style='color:#355F7C'>297</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:48.7pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>REQUEST_FINGERPRINTER_CLASS setting, <span style='color:#355F7C'>114</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>request_from_dict() (<i>in module scrapy.utils.request</i>), <span
style='color:#355F7C'>111</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>request_left_downloader</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:112%'>request_left_downloader()                 (<i>in           module
scrapy.signals</i>), <span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>request_reached_downloader</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:112%'>request_reached_downloader()         (<i>in           module
scrapy.signals</i>), <span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>request_scheduled</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>283</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.55pt;margin-left:-.25pt;text-align:left;line-height:104%'>request_scheduled()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>283</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>RequestFingerprinter
(<i>class in scrapy.utils.request</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>114</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>Response
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>123 </span>response_downloaded</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>response_downloaded() (<i>in module scrapy.signals</i>), <span
style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>response_received</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>response_received()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>285 </span>retrieve_response()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:40.35pt;text-align:left;line-height:104%'>(<i>scrapy.extensions.httpcache.CacheStorage
method</i>), <span style='color:#355F7C'>252</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:119.2pt;
margin-bottom:1.85pt;margin-left:-.25pt;text-align:left;line-height:112%'>RETRY_ENABLED
setting, <span style='color:#355F7C'>259 </span>RETRY_EXCEPTIONS setting, <span
style='color:#355F7C'>259 </span>RETRY_HTTP_CODES setting, <span
style='color:#355F7C'>259 </span>RETRY_PRIORITY_ADJUST setting, <span
style='color:#355F7C'>259 </span>RETRY_TIMES setting, <span style='color:#355F7C'>259</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>RetryMiddleware  (<i>class      in
scrapy.downloadermiddlewares.retry</i>), <span style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>ReturnsContract (<i>class in scrapy.contracts.default</i>), <span
style='color:#355F7C'>191</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>RFC2616Policy
(<i>class in scrapy.extensions.httpcache</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>250</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>RobotParser
(<i>class in scrapy.robotstxt</i>), <span style='color:#355F7C'>261</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:116.7pt;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>ROBOTSTXT_OBEY
setting, <span style='color:#355F7C'>150 </span>ROBOTSTXT_PARSER setting, <span
style='color:#355F7C'>151 </span>ROBOTSTXT_USER_AGENT setting, <span
style='color:#355F7C'>151</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>RobotsTxtMiddleware          (<i>class      in
scrapy.downloadermiddlewares.robotstxt</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:.15pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>260</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.1pt;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:104%'>Rule (<i>class
in scrapy.spiders</i>), <span style='color:#355F7C'>42 </span>rules (<i>scrapy.spiders.CrawlSpider
attribute</i>), <span style='color:#355F7C'>41 </span>runspider</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:20.4pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>34</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>S</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>SameOriginPolicy  (<i>class      in
scrapy.spidermiddlewares.referer</i>), <span style='color:#355F7C'>268</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:142.85pt;
margin-bottom:1.45pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:104%'>SCHEDULER setting, <span style='color:#355F7C'>151 </span>Scheduler
(<i>class in scrapy.core.scheduler</i>), <span style='color:#355F7C'>287</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:104.6pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>SCHEDULER_DEBUG
setting, <span style='color:#355F7C'>151 </span>SCHEDULER_DISK_QUEUE setting, <span
style='color:#355F7C'>151 </span>SCHEDULER_MEMORY_QUEUE setting, <span
style='color:#355F7C'>152 </span>SCHEDULER_PRIORITY_QUEUE setting, <span
style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>scraped() (<i>scrapy.logformatter.LogFormatter method</i>), <span
style='color:#355F7C'>169</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:44.6pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>SCRAPER_SLOT_MAX_ACTIVE_SIZE setting, <span style='color:
#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>ScrapesContract (<i>class in scrapy.contracts.default</i>), <span
style='color:#355F7C'>191</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.contracts</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>192</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.75pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.contracts.default module, <span style='color:#355F7C'>191</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.core.scheduler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>286</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.crawler</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>297</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>245</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.ajaxcrawl module, <span
style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares.cookies</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>247</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.defaultheaders module, <span
style='color:#355F7C'>249</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares.downloadtimeout</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>249</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.httpauth module, <span
style='color:#355F7C'>249</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares.httpcache</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>250</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares.httpcompression</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>254</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.httpproxy module, <span
style='color:#355F7C'>255</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.95pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.offsite module, <span
style='color:#355F7C'>255</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.redirect module, <span
style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.45pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.retry module, <span
style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.robotstxt module, <span
style='color:#355F7C'>260</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.45pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.downloadermiddlewares.stats module, <span
style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.downloadermiddlewares.useragent</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.0pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>262 </span>scrapy.exceptions
module, <span style='color:#355F7C'>162</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.exporters</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>288</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.45pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.closespider module, <span style='color:
#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:53.9pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.corestats module, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.85pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.debug</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.85pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:53.9pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.httpcache module, <span style='color:#355F7C'>252</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.logstats module, <span style='color:#355F7C'>272</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.memdebug</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.memusage</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:38.25pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.periodic_log</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:38.25pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.45pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.extensions.spiderstate module, <span style='color:
#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.extensions.statsmailer</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.extensions.telnet</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>scrapy.FormRequest
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>120</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.http</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>107</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.http.FormRequest
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>120</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:112%'>scrapy.http.request.form.FormRequest (<i>class in scrapy.http</i>),
<span style='color:#355F7C'>120</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:137.6pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.item module, <span style='color:#355F7C'>68</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.link</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.4pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>130</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.linkextractors</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.4pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.linkextractors.lxmlhtml</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.4pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>129</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:127.15pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.loader module, <span style='color:#355F7C'>74</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.mail</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.4pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>173</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:80.05pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.pipelines.files module, <span style='color:#355F7C'>221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.pipelines.images</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.4pt;text-align:left;line-height:112%'>module,
<span style='color:#355F7C'>223</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.45pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.robotstxt module, <span style='color:#355F7C'>261</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:116.7pt;
margin-bottom:.25pt;margin-left:19.15pt;text-align:left;text-indent:-19.9pt;
line-height:112%'>scrapy.selector module, <span style='color:#355F7C'>64</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>scrapy.settings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:53.15pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.9pt;
line-height:112%'>module, <span style='color:#355F7C'>301 </span>scrapy.signalmanager</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection50>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:73.0pt;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>305                                                                                  </span>AWS_REGION_NAME,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.signals                                                                                  AWS_SECRET_ACCESS_KEY,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>280                                                                                   </span>AWS_SESSION_TOKEN,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.Spider (<i>built-in class</i>), <span style='color:#355F7C'>36                                                  </span>AWS_USE_SSL,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spiderloader                                                                        AWS_VERIFY,
<span style='color:#355F7C'>135</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>304                                                                                  </span>BOT_NAME,
<span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spidermiddlewares                                                            CLOSESPIDER_ERRORCOUNT,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>264                                                                                    </span>CLOSESPIDER_ITEMCOUNT,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spidermiddlewares.depth                                                CLOSESPIDER_PAGECOUNT,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>266                                                                                   </span>CLOSESPIDER_PAGECOUNT_NO_ITEM,
<span style='color:#355F7C'>275</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spidermiddlewares.httperror                                          CLOSESPIDER_TIMEOUT,
<span style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>266                                                                                   </span>CLOSESPIDER_TIMEOUT_NO_ITEM,
<span style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spidermiddlewares.referer                                           COMMANDS_MODULE,
<span style='color:#355F7C'>35</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>267                                                                                   </span>COMPRESSION_ENABLED,
<span style='color:#355F7C'>255</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spidermiddlewares.urllength                                         CONCURRENT_ITEMS,
<span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>270                                                                                  </span>CONCURRENT_REQUESTS,
<span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.spiders.Spider (<i>built-in class</i>), <span style='color:#355F7C'>36                                  </span>CONCURRENT_REQUESTS_PER_DOMAIN,
<span style='color:#355F7C'>136</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.statscollectors                                                                    CONCURRENT_REQUESTS_PER_IP,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>306                                                                                   </span>COOKIES_DEBUG,
<span style='color:#355F7C'>248</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.utils.log                                                                                COOKIES_ENABLED,
<span style='color:#355F7C'>248</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>170                                                                                    </span>DEFAULT_ITEM_CLASS,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>scrapy.utils.trackref                                                                       DEFAULT_REQUEST_HEADERS,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>module, <span style='color:#355F7C'>213                                                                                    </span>DEPTH_LIMIT,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>Selector (<i>class in scrapy.selector</i>), <span style='color:#355F7C'>64                                          </span>DEPTH_PRIORITY,
<span style='color:#355F7C'>137</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>selector (<i>scrapy.http.TextResponse attribute</i>), <span
style='color:#355F7C'>126                  </span>DEPTH_STATS_VERBOSE, <span
style='color:#355F7C'>138</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>selector (<i>scrapy.loader.ItemLoader attribute</i>), <span
style='color:#355F7C'>79                   </span>DNS_RESOLVER, <span
style='color:#355F7C'>138</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>SelectorList (<i>class in scrapy.selector</i>), <span style='color:#355F7C'>66                                  </span>DNS_TIMEOUT,
<span style='color:#355F7C'>138</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>send() (<i>scrapy.mail.MailSender method</i>), <span style='color:#355F7C'>174                        </span>DNSCACHE_ENABLED,
<span style='color:#355F7C'>138</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>send_catch_log() (<i>scrapy.signalmanager.SignalManager     </i>DNSCACHE_SIZE,
<span style='color:#355F7C'>138</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><i>method</i>),
<span style='color:#355F7C'>305                                                                        </span>DOWNLOAD_DELAY,
<span style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>send_catch_log_deferred()                                                        DOWNLOAD_FAIL_ON_DATALOSS,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span>(<i>scrapy.signalmanager.SignalManager                          </i>DOWNLOAD_HANDLERS,
<span style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><i>method</i>),
<span style='color:#355F7C'>305                                                                       </span>DOWNLOAD_HANDLERS_BASE,
<span style='color:#355F7C'>142</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>serialize_field() (<i>scrapy.exporters.BaseItemExporter            </i>DOWNLOAD_MAXSIZE,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><i>method</i>),
<span style='color:#355F7C'>290                                                                        </span>DOWNLOAD_SLOTS,
<span style='color:#355F7C'>142</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>set() (<i>scrapy.settings.BaseSettings method</i>), <span
style='color:#355F7C'>303                  </span>DOWNLOAD_TIMEOUT, <span
style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>set_stats()         (<i>scrapy.statscollectors.StatsCollector           </i>DOWNLOAD_WARNSIZE,
<span style='color:#355F7C'>143</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><i>method</i>),
<span style='color:#355F7C'>306                                                                        </span>DOWNLOADER,
<span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>set_value()       (<i>scrapy.statscollectors.StatsCollector             </i>DOWNLOADER_CLIENT_TLS_CIPHERS,
<span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><i>method</i>),
<span style='color:#355F7C'>306                                                                        </span>DOWNLOADER_CLIENT_TLS_METHOD,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>setdefault() (<i>scrapy.settings.BaseSettings   method</i>),             DOWNLOADER_CLIENT_TLS_VERBOSE_LOGGING,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>         </span><span
style='color:#355F7C'>304                                                                                                   140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>setmodule() (<i>scrapy.settings.BaseSettings method</i>), <span
style='color:#355F7C'>304    </span>DOWNLOADER_CLIENTCONTEXTFACTORY, <span
style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>setting                                                                                             DOWNLOADER_HTTPCLIENTFACTORY,
<span style='color:#355F7C'>139</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>ADDONS, <span style='color:#355F7C'>134                                                                               </span>DOWNLOADER_MIDDLEWARES,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AJAXCRAWL_ENABLED, <span style='color:#355F7C'>262                                                      </span>DOWNLOADER_MIDDLEWARES_BASE,
<span style='color:#355F7C'>140</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>ASYNCIO_EVENT_LOOP, <span style='color:#355F7C'>136                                                      </span>DOWNLOADER_STATS,
<span style='color:#355F7C'>141</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AUTOTHROTTLE_DEBUG, <span style='color:#355F7C'>227                                                       </span>DUPEFILTER_CLASS,
<span style='color:#355F7C'>144</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AUTOTHROTTLE_ENABLED, <span style='color:#355F7C'>227                                                  </span>DUPEFILTER_DEBUG,
<span style='color:#355F7C'>144</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AUTOTHROTTLE_MAX_DELAY, <span style='color:#355F7C'>227                                             </span>EDITOR,
<span style='color:#355F7C'>144</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AUTOTHROTTLE_START_DELAY, <span style='color:#355F7C'>227                                           </span>EXTENSIONS,
<span style='color:#355F7C'>144</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AUTOTHROTTLE_TARGET_CONCURRENCY, <span style='color:#355F7C'>227                       </span>EXTENSIONS_BASE,
<span style='color:#355F7C'>145</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AWS_ACCESS_KEY_ID, <span style='color:#355F7C'>135                                                          </span>FEED_EXPORT_BATCH_ITEM_COUNT,
<span style='color:#355F7C'>105</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>AWS_ENDPOINT_URL, <span style='color:#355F7C'>135                                                          </span>FEED_EXPORT_ENCODING,
<span style='color:#355F7C'>103</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_EXPORT_FIELDS, <span style='color:#355F7C'>103                                                         </span>LOG_ENCODING,
<span style='color:#355F7C'>147</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_EXPORT_INDENT, <span style='color:#355F7C'>104                                                         </span>LOG_FILE,
<span style='color:#355F7C'>147</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_EXPORTERS, <span style='color:#355F7C'>105                                                                  </span>LOG_FILE_APPEND,
<span style='color:#355F7C'>147</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:-.25pt;text-align:left;line-height:112%'>FEED_EXPORTERS_BASE,
<span style='color:#355F7C'>105            </span>LOG_FORMAT, <span
style='color:#355F7C'>147 </span>FEED_STORAGE_FTP_ACTIVE, <span
style='color:#355F7C'>104 </span>LOG_FORMATTER, <span style='color:#355F7C'>147
</span>FEED_STORAGE_GCS_ACL, <span style='color:#355F7C'>145        </span>LOG_LEVEL,
<span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.2pt;
margin-bottom:1.9pt;margin-left:-.25pt;text-align:left;line-height:112%'>FEED_STORAGE_S3_ACL,
<span style='color:#355F7C'>104           </span>LOG_SHORT_NAMES, <span
style='color:#355F7C'>148 </span>FEED_STORAGES, <span style='color:#355F7C'>104         </span>LOG_STDOUT,
<span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.3pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEED_STORAGES_BASE, <span style='color:#355F7C'>104                                                         </span>LOGSTATS_INTERVAL,
<span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:49.8pt;
margin-bottom:1.65pt;margin-left:-.25pt;text-align:left;line-height:112%'>FEED_STORE_EMPTY,
<span style='color:#355F7C'>104  </span>MAIL_FROM, <span style='color:#355F7C'>175
</span>FEED_TEMPDIR, <span style='color:#355F7C'>145          </span>MAIL_HOST,
<span style='color:#355F7C'>175 </span>FEED_URI_PARAMS, <span style='color:
#355F7C'>106 </span>MAIL_PASS, <span style='color:#355F7C'>175</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FEEDS, <span style='color:#355F7C'>101                                                                                      </span>MAIL_PORT,
<span style='color:#355F7C'>175</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:23.65pt;
margin-bottom:1.75pt;margin-left:-.25pt;text-align:left;line-height:112%'>FILES_EXPIRES,
<span style='color:#355F7C'>219             </span>MAIL_SSL, <span
style='color:#355F7C'>175 </span>FILES_RESULT_FIELD, <span style='color:#355F7C'>219       </span>MAIL_TLS,
<span style='color:#355F7C'>175</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FILES_STORE, <span style='color:#355F7C'>216                                                                          </span>MAIL_USER,
<span style='color:#355F7C'>175</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FILES_STORE_GCS_ACL, <span style='color:#355F7C'>218                                                        </span>MEDIA_ALLOW_REDIRECTS,
<span style='color:#355F7C'>221</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FILES_STORE_S3_ACL, <span style='color:#355F7C'>218                                                         </span>MEMDEBUG_ENABLED,
<span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FILES_URLS_FIELD, <span style='color:#355F7C'>219                                                                </span>MEMDEBUG_NOTIFY,
<span style='color:#355F7C'>148</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>FTP_PASSIVE_MODE, <span style='color:#355F7C'>145                                                         </span>MEMUSAGE_CHECK_INTERVAL_SECONDS,
<span style='color:#355F7C'>149</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:34.1pt;
margin-bottom:1.9pt;margin-left:-.25pt;text-align:left;line-height:112%'>FTP_PASSWORD,
<span style='color:#355F7C'>145          </span>MEMUSAGE_ENABLED, <span
style='color:#355F7C'>148 </span>FTP_USER, <span style='color:#355F7C'>146  </span>MEMUSAGE_LIMIT_MB,
<span style='color:#355F7C'>149</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>GCS_PROJECT_ID, <span style='color:#355F7C'>146                                                                 </span>MEMUSAGE_NOTIFY_MAIL,
<span style='color:#355F7C'>149</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTPCACHE_ALWAYS_STORE,
<span style='color:#355F7C'>254   </span>MEMUSAGE_WARNING_MB, <span
style='color:#355F7C'>149 </span>HTTPCACHE_DBM_MODULE, <span style='color:#355F7C'>253 </span>METAREFRESH_ENABLED,
<span style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_DIR, <span style='color:#355F7C'>253                                                                   </span>METAREFRESH_IGNORE_TAGS,
<span style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_ENABLED, <span style='color:#355F7C'>252                                                         </span>METAREFRESH_MAXDELAY,
<span style='color:#355F7C'>257</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_EXPIRATION_SECS, <span style='color:#355F7C'>252                                        </span>NEWSPIDER_MODULE,
<span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_GZIP, <span style='color:#355F7C'>254                                                                   </span>PERIODIC_LOG_DELTA,
<span style='color:#355F7C'>277</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.7pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_IGNORE_HTTP_CODES, <span style='color:#355F7C'>253                                   </span>PERIODIC_LOG_STATS,
<span style='color:#355F7C'>277</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.9pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_IGNORE_MISSING, <span style='color:#355F7C'>253                                          </span>PERIODIC_LOG_TIMING_ENABLED,
<span style='color:#355F7C'>277</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_IGNORE_RESPONSE_CACHE_CONTROLS,        RANDOMIZE_DOWNLOAD_DELAY,
<span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
112%'><span style='font-size:11.0pt;line-height:112%'>         </span><span
style='color:#355F7C'>254                                                                                          </span>REACTOR_THREADPOOL_MAXSIZE,
<span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_IGNORE_SCHEMES, <span style='color:#355F7C'>253                                        </span>REDIRECT_ENABLED,
<span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_POLICY, <span style='color:#355F7C'>253                                                              </span>REDIRECT_MAX_TIMES,
<span style='color:#355F7C'>256</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPCACHE_STORAGE, <span style='color:#355F7C'>253                                                           </span>REDIRECT_PRIORITY_ADJUST,
<span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTPERROR_ALLOW_ALL,
<span style='color:#355F7C'>267          </span>REFERER_ENABLED, <span
style='color:#355F7C'>267 </span>HTTPERROR_ALLOWED_CODES, <span
style='color:#355F7C'>267  </span>REFERRER_POLICY, <span style='color:#355F7C'>267</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>HTTPPROXY_AUTH_ENCODING, <span style='color:#355F7C'>262                                           </span>REQUEST_FINGERPRINTER_CLASS,
<span style='color:#355F7C'>114</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.45pt;
margin-bottom:2.0pt;margin-left:-.25pt;text-align:left;line-height:112%'>HTTPPROXY_ENABLED,
<span style='color:#355F7C'>262               </span>RETRY_ENABLED, <span
style='color:#355F7C'>259 </span>IMAGES_EXPIRES, <span style='color:#355F7C'>219                </span>RETRY_EXCEPTIONS,
<span style='color:#355F7C'>259 </span>IMAGES_MIN_HEIGHT, <span
style='color:#355F7C'>220               </span>RETRY_HTTP_CODES, <span
style='color:#355F7C'>259</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>IMAGES_MIN_WIDTH, <span style='color:#355F7C'>220                                                            </span>RETRY_PRIORITY_ADJUST,
<span style='color:#355F7C'>259</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:39.35pt;
margin-bottom:1.95pt;margin-left:-.25pt;text-align:left;line-height:112%'>IMAGES_RESULT_FIELD,
<span style='color:#355F7C'>219             </span>RETRY_TIMES, <span
style='color:#355F7C'>259 </span>IMAGES_STORE, <span style='color:#355F7C'>216        </span>ROBOTSTXT_OBEY,
<span style='color:#355F7C'>150</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>IMAGES_STORE_GCS_ACL, <span style='color:#355F7C'>218                                                   </span>ROBOTSTXT_PARSER,
<span style='color:#355F7C'>151</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>IMAGES_STORE_S3_ACL, <span style='color:#355F7C'>218                                                      </span>ROBOTSTXT_USER_AGENT,
<span style='color:#355F7C'>151</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:23.65pt;
margin-bottom:1.95pt;margin-left:-.25pt;text-align:left;line-height:112%'>IMAGES_THUMBS,
<span style='color:#355F7C'>220       </span>SCHEDULER, <span style='color:
#355F7C'>151 </span>IMAGES_URLS_FIELD, <span style='color:#355F7C'>219  </span>SCHEDULER_DEBUG,
<span style='color:#355F7C'>151</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>ITEM_PIPELINES, <span style='color:#355F7C'>146                                                                    </span>SCHEDULER_DISK_QUEUE,
<span style='color:#355F7C'>151</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>ITEM_PIPELINES_BASE, <span style='color:#355F7C'>146                                                      </span>SCHEDULER_MEMORY_QUEUE,
<span style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>JOBDIR, <span style='color:#355F7C'>146                                                                                     </span>SCHEDULER_PRIORITY_QUEUE,
<span style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>LOG_DATEFORMAT, <span style='color:#355F7C'>147                                                                 </span>SCRAPER_SLOT_MAX_ACTIVE_SIZE,
<span style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'>LOG_ENABLED, <span style='color:#355F7C'>147                                                                       </span>SPIDER_CONTRACTS,
<span style='color:#355F7C'>152</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection51>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_CONTRACTS_BASE,
<span style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_LOADER_CLASS,
<span style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_LOADER_WARN_ONLY,
<span style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_MIDDLEWARES,
<span style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.4pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_MIDDLEWARES_BASE,
<span style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.15pt;margin-left:20.45pt;text-align:left;line-height:112%'>SPIDER_MODULES,
<span style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:20.45pt;text-align:left;line-height:112%'>STATS_CLASS,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:20.45pt;text-align:left;line-height:112%'>STATS_DUMP,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:20.45pt;text-align:left;line-height:112%'>STATSMAILER_RCPTS,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:20.45pt;text-align:left;line-height:112%'>TELNETCONSOLE_ENABLED,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:20.45pt;text-align:left;line-height:112%'>TELNETCONSOLE_HOST,
<span style='color:#355F7C'>178</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.5pt;margin-left:20.45pt;text-align:left;line-height:112%'>TELNETCONSOLE_PASSWORD,
<span style='color:#355F7C'>179</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:20.45pt;text-align:left;line-height:112%'>TELNETCONSOLE_PORT,
<span style='color:#355F7C'>178</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:20.45pt;text-align:left;line-height:112%'>TELNETCONSOLE_USERNAME,
<span style='color:#355F7C'>178</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:20.45pt;text-align:left;line-height:112%'>TEMPLATES_DIR,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:20.45pt;text-align:left;line-height:112%'>TWISTED_REACTOR,
<span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.1pt;margin-left:20.45pt;text-align:left;line-height:112%'>URLLENGTH_LIMIT,
<span style='color:#355F7C'>156</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.0pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>USER_AGENT, <span style='color:#355F7C'>156</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:95.0pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>settings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>33</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>Settings
(<i>class in scrapy.settings</i>), <span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>settings
(<i>scrapy.crawler.Crawler attribute</i>), <span style='color:#355F7C'>297</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>settings
(<i>scrapy.Spider attribute</i>), <span style='color:#355F7C'>36</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>SETTINGS_PRIORITIES
(<i>in module scrapy.settings</i>), <span style='color:#355F7C'>301</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:157.55pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>shell command, <span style='color:#355F7C'>32</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.4pt;margin-left:-.25pt;text-align:left;line-height:112%'>signal</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>bytes_received, <span style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>engine_started, <span style='color:#355F7C'>280 </span>engine_stopped,
<span style='color:#355F7C'>280 </span>feed_exporter_closed, <span
style='color:#355F7C'>283 </span>feed_slot_closed, <span style='color:#355F7C'>283
</span>headers_received, <span style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>item_dropped, <span style='color:#355F7C'>281 </span>item_error,
<span style='color:#355F7C'>281</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>item_scraped, <span style='color:#355F7C'>280 </span>request_dropped,
<span style='color:#355F7C'>283 </span>request_left_downloader, <span
style='color:#355F7C'>284 </span>request_reached_downloader, <span
style='color:#355F7C'>284</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>request_scheduled, <span style='color:#355F7C'>283 </span>response_downloaded,
<span style='color:#355F7C'>285 </span>response_received, <span
style='color:#355F7C'>285</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>spider_closed, <span style='color:#355F7C'>281 </span>spider_error,
<span style='color:#355F7C'>282 </span>spider_idle, <span style='color:#355F7C'>282
</span>spider_opened, <span style='color:#355F7C'>282</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>update_telnet_vars, <span style='color:#355F7C'>178</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>SignalManager (<i>class in scrapy.signalmanager</i>), <span
style='color:#355F7C'>305</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.95pt;
margin-bottom:1.55pt;margin-left:-.75pt;text-align:left;text-indent:19.95pt;
line-height:112%'>signals (<i>scrapy.crawler.Crawler attribute</i>), <span
style='color:#355F7C'>297 </span>sitemap_alternate_links</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>(<i>scrapy.spiders.SitemapSpider            attribute</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:104%'><span style='color:#355F7C'>47 </span>sitemap_filter()               (<i>scrapy.spiders.SitemapSpider
method</i>), <span style='color:#355F7C'>47</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>sitemap_follow (<i>scrapy.spiders.SitemapSpider               attribute</i>),
<span style='color:#355F7C'>46</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>sitemap_rules (<i>scrapy.spiders.SitemapSpider  attribute</i>),
<span style='color:#355F7C'>46</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.3pt;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>sitemap_urls (<i>scrapy.spiders.SitemapSpider attribute</i>),
<span style='color:#355F7C'>46</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.9pt;
margin-bottom:1.65pt;margin-left:-.25pt;text-align:left;line-height:104%'>SitemapSpider
(<i>class in scrapy.spiders</i>), <span style='color:#355F7C'>46 </span>spider (<i>scrapy.crawler.Crawler
attribute</i>), <span style='color:#355F7C'>298</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:32.9pt;
margin-bottom:1.65pt;margin-left:-.25pt;text-align:left;line-height:104%'>spider_closed</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>281</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>spider_closed()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>281</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:123.5pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>SPIDER_CONTRACTS
setting, <span style='color:#355F7C'>152 </span>SPIDER_CONTRACTS_BASE setting, <span
style='color:#355F7C'>152</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>spider_error</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>282</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>spider_error()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>282 </span>spider_error()     (<i>scrapy.logformatter.LogFormatter
method</i>), <span style='color:#355F7C'>169</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>spider_idle</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>282</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>spider_idle()
(<i>in module scrapy.signals</i>), <span style='color:#355F7C'>282</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:125.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>SPIDER_LOADER_CLASS
setting, <span style='color:#355F7C'>153 </span>SPIDER_LOADER_WARN_ONLY setting,
<span style='color:#355F7C'>153 </span>SPIDER_MIDDLEWARES setting, <span
style='color:#355F7C'>153 </span>SPIDER_MIDDLEWARES_BASE setting, <span
style='color:#355F7C'>153 </span>SPIDER_MODULES setting, <span
style='color:#355F7C'>153</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>spider_opened</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>282</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>spider_opened() (<i>in module
scrapy.signals</i>), <span style='color:#355F7C'>282 </span>spider_stats (<i>scrapy.statscollectors.MemoryStatsCollector
attribute</i>), <span style='color:#355F7C'>173</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:-.25pt;text-align:left;line-height:104%'>SpiderLoader
(<i>class in scrapy.spiderloader</i>), <span style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>SpiderMiddleware                (<i>class      in
scrapy.spidermiddlewares</i>), <span style='color:#355F7C'>264</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>SpiderState (<i>class in scrapy.extensions.spiderstate</i>), <span
style='color:#355F7C'>274</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.65pt;
margin-bottom:0in;margin-left:8.15pt;text-align:center;line-height:106%'>StackTraceDump                (<i>class      in
scrapy.extensions.periodic_log</i>), <span style='color:#355F7C'>278</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:11.6pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>start() (<i>scrapy.crawler.CrawlerProcess
method</i>), <span style='color:#355F7C'>300 </span>start_exporting() (<i>scrapy.exporters.BaseItemExporter
method</i>), <span style='color:#355F7C'>291</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>start_requests()
(<i>scrapy.Spider method</i>), <span style='color:#355F7C'>38 </span>start_urls
(<i>scrapy.Spider attribute</i>), <span style='color:#355F7C'>36</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>startproject</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:20.45pt;text-align:left;line-height:112%'>command,
<span style='color:#355F7C'>28</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=624 style='width:6.5in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:49.3pt'>
  <td width=624 valign=bottom style='width:6.5in;padding:0in 0in .3pt 0in;
  height:49.3pt'>
  <table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
   width=624 style='width:6.5in;border-collapse:collapse;margin-left:-2.25pt;
   margin-right:-2.25pt'>
   <tr style='height:133.0pt'>
    <td width=319 valign=top style='width:239.0pt;padding:1.1pt 0in 0in 0in;
    height:133.0pt'>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:147.55pt;
    margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
    line-height:114%'>STATS_CLASS setting, <span style='color:#355F7C'>154 </span>STATS_DUMP
    setting, <span style='color:#355F7C'>154</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
    margin-bottom:.3pt;margin-left:0in;text-align:left;text-indent:0in;
    line-height:107%'>StatsCollector (<i>class in scrapy.statscollectors</i>), <span
    style='color:#355F7C'>306</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
    margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
    line-height:101%'>StatsMailer (<i>class in scrapy.extensions.statsmailer</i>),
    <span style='color:#355F7C'>275</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:110.95pt;
    margin-bottom:0in;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
    line-height:119%'>STATSMAILER_RCPTS setting, <span style='color:#355F7C'>154</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:26.5pt;
    margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;
    line-height:107%'>status (<i>scrapy.http.Response attribute</i>), <span
    style='color:#355F7C'>123 </span>stop() (<i>scrapy.crawler.Crawler method</i>),
    <span style='color:#355F7C'>298</span></p>
    </td>
    <td width=305 valign=top style='width:229.0pt;padding:1.1pt 0in 0in 0in;
    height:133.0pt'>
    <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>uri_params()
    (<i>in module scrapy.extensions.feedexport</i>),</p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
    margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
    line-height:107%'><span style='color:#355F7C'>106</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:54.2pt;
    margin-bottom:.7pt;margin-left:0in;text-align:left;text-indent:0in'>url (<i>scrapy.http.Request
    attribute</i>), <span style='color:#355F7C'>109 </span>url (<i>scrapy.http.Response
    attribute</i>), <span style='color:#355F7C'>123</span></p>
    <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
    0in;line-height:109%'>UrlContract (<i>class in scrapy.contracts.default</i>),
    <span style='color:#355F7C'>191 </span>urljoin() (<i>scrapy.http.Response
    method</i>), <span style='color:#355F7C'>125 </span>urljoin() (<i>scrapy.http.TextResponse
    method</i>), <span style='color:#355F7C'>128</span></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:111.45pt;
    margin-bottom:1.2pt;margin-left:19.95pt;text-align:left;text-indent:-19.95pt;
    line-height:119%'>URLLENGTH_LIMIT setting, <span style='color:#355F7C'>156</span></p>
    <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
    0in;line-height:107%'>UrlLengthMiddleware                           (<i>class                      in</i></p>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
    margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
    line-height:107%'><i>scrapy.spidermiddlewares.urllength</i>), <span
    style='color:#355F7C'>270</span></p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:145.35pt;
  margin-bottom:1.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:110%'>stop() (<i>scrapy.crawler.CrawlerProcess method</i>), <span
  style='color:#355F7C'>300   </span>USER_AGENT stop() (<i>scrapy.crawler.CrawlerRunner
  method</i>), <span style='color:#355F7C'>299                </span>setting, <span
  style='color:#355F7C'>156</span></p>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>StopDownload,
  <span style='color:#355F7C'>163 </span>UserAgentMiddleware (<i>class in </i>store_response()
  (<i>scrapy.extensions.httpcache.CacheStorage
  scrapy.downloadermiddlewares.useragent</i>),</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:60.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>state (<i>scrapy.Spider
attribute</i>), <span style='color:#355F7C'>37 </span>stats (<i>scrapy.crawler.Crawler
attribute</i>), <span style='color:#355F7C'>297</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:60.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'><i>method</i>),
<span style='color:#355F7C'>252</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>StrictOriginPolicy                                  (<i>class                       in</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><i>scrapy.spidermiddlewares.referer</i>), <span style='color:#355F7C'>269</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>StrictOriginWhenCrossOriginPolicy (<i>class                         in</i></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:8.15pt;text-align:center;line-height:106%'><i>scrapy.spidermiddlewares.referer</i>),
<span style='color:#355F7C'>269</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>T</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>TelnetConsole
(<i>class in scrapy.extensions.telnet</i>), <span style='color:#355F7C'>273</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:113.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>TELNETCONSOLE_ENABLED
setting, <span style='color:#355F7C'>154 </span>TELNETCONSOLE_HOST setting, <span
style='color:#355F7C'>178 </span>TELNETCONSOLE_PASSWORD setting, <span
style='color:#355F7C'>179 </span>TELNETCONSOLE_PORT setting, <span
style='color:#355F7C'>178 </span>TELNETCONSOLE_USERNAME setting, <span
style='color:#355F7C'>178 </span>TEMPLATES_DIR setting, <span style='color:
#355F7C'>154</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>text (<i>scrapy.http.TextResponse
attribute</i>), <span style='color:#355F7C'>126 </span>TextResponse (<i>class
in scrapy.http</i>), <span style='color:#355F7C'>126</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:108%'>thumb_path() (<i>scrapy.pipelines.images.ImagesPipeline
method</i>), <span style='color:#355F7C'>223</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>to_dict()
(<i>scrapy.http.Request method</i>), <span style='color:#355F7C'>111</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.45pt;
margin-bottom:10.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>TWISTED_REACTOR setting, <span style='color:#355F7C'>154</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>U</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.3pt;
margin-bottom:8.8pt;margin-left:.55in;text-align:left;line-height:107%'><span
style='color:#355F7C'>262</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>V</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:150.55pt;
margin-bottom:.25pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>version command, <span style='color:#355F7C'>34</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.15in;
margin-bottom:9.9pt;margin-left:19.2pt;text-align:left;text-indent:-19.95pt;
line-height:112%'>view command, <span style='color:#355F7C'>31</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>W</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.15pt;margin-left:-.25pt;text-align:left;line-height:112%'>write(),
<span style='color:#355F7C'>101</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>X</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>XMLFeedSpider
(<i>class in scrapy.spiders</i>), <span style='color:#355F7C'>43 </span>XmlItemExporter
(<i>class in scrapy.exporters</i>), <span style='color:#355F7C'>292</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:104%'>xmliter_lxml()
(<i>in module scrapy.utils.iterators</i>), <span style='color:#355F7C'>185 </span>XmlResponse
(<i>class in scrapy.http</i>), <span style='color:#355F7C'>128 </span>xpath() (<i>scrapy.http.TextResponse
method</i>), <span style='color:#355F7C'>127 </span>xpath() (<i>scrapy.selector.Selector
method</i>), <span style='color:#355F7C'>65 </span>xpath() (<i>scrapy.selector.SelectorList
method</i>), <span style='color:#355F7C'>66</span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection52>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>UnsafeUrlPolicy     (<i>class      in
scrapy.spidermiddlewares.referer</i>), <span style='color:#355F7C'>269</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.6pt;margin-left:-.25pt;text-align:left;line-height:104%'>update()
(<i>scrapy.settings.BaseSettings method</i>), <span style='color:#355F7C'>304</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>update_settings(),
<span style='color:#355F7C'>242 </span>update_settings() (<i>scrapy.Spider
class method</i>), <span style='color:#355F7C'>37</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:112%'>update_telnet_vars</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.9pt;margin-left:20.45pt;text-align:left;line-height:112%'>signal,
<span style='color:#355F7C'>178</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:39.1pt;text-align:left;text-indent:-39.85pt;
line-height:104%'>update_telnet_vars()            (<i>in           module
scrapy.extensions.telnet</i>), <span style='color:#355F7C'>178</span></p>

</div>

<div><br clear=all>

<hr align=left size=1 width="33%">

<div id=ftn1>

<p class=footnotedescription style='margin-top:0in;margin-right:0in;margin-bottom:
1.0pt;margin-left:10.85pt;text-indent:0in;line-height:107%'><a href="#_ftnref1"
name="_ftn1" title=""><span class=footnotemark><span class=footnotemark><span
style='font-size:8.0pt;line-height:103%'>[1]</span></span></span></a> Not all
exporters respect the specified field order.</p>

</div>

<div id=ftn2>

<p class=footnotedescription style='margin:0in;text-indent:10.85pt;line-height:
105%'><a href="#_ftnref2" name="_ftn2" title=""><span class=footnotemark><span
class=footnotemark><span style='font-size:8.0pt;line-height:103%'>[2]</span></span></span></a>
When using <i><span style='color:#355F7C'>item objects </span></i>that do not
expose all their possible fields, exporters that do not support exporting a
different subset of fields per item will only export the fields found in the
first item exported.</p>

</div>

</div>

</body>

</html>
