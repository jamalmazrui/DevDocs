<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:7.8pt;
	margin-left:448.3pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:107.5pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:25.0pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:13.8pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:17.0pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.45pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:black;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.3pt 841.9pt;
	margin:1.0in 1.0in 56.75pt 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:595.3pt 841.9pt;
	margin:74.25pt 1.0in 38.75pt 1.0in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:595.3pt 841.9pt;
	margin:74.9pt 0in 68.65pt 1.0in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:595.3pt 841.9pt;
	margin:74.3pt 1.0in 38.75pt 1.0in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:595.3pt 841.9pt;
	margin:74.3pt 1.0in 38.75pt 1.0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:595.3pt 841.9pt;
	margin:74.65pt 1.0in 76.2pt 1.0in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:595.3pt 841.9pt;
	margin:74.65pt 1.0in 88.05pt 1.0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:595.3pt 841.9pt;
	margin:74.3pt 1.0in 70.2pt 1.0in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:595.3pt 841.9pt;
	margin:75.05pt 1.0in 38.75pt 1.0in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:595.3pt 841.9pt;
	margin:75.05pt 1.0in 81.55pt 1.0in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:595.3pt 841.9pt;
	margin:75.4pt 1.0in 69.65pt 1.0in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:595.3pt 841.9pt;
	margin:75.05pt 1.0in 69.7pt 1.0in;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:595.3pt 841.9pt;
	margin:122.05pt 1.0in 38.75pt 1.0in;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:595.3pt 841.9pt;
	margin:75.4pt 16.4pt 68.65pt 1.0in;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:595.3pt 841.9pt;
	margin:75.4pt 41.75pt 77.25pt 1.0in;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:595.3pt 841.9pt;
	margin:75.4pt 41.75pt 75.5pt 1.0in;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:595.3pt 841.9pt;
	margin:71.65pt 191.75pt 68.65pt 1.0in;}
div.WordSection19
	{page:WordSection19;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:117.9pt;margin-left:117.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=284 height=92 id="Group 127228"
src="Jinja2%20Documentation_files/image001.gif"></span></p>

<h1 align=left style='margin-bottom:.15pt;text-align:left'>Jinja2 Documentation</h1>

<p class=MsoNormal align=center style='margin:0in;text-align:center;text-indent:
0in;line-height:107%'><i><span style='font-size:20.5pt;line-height:107%'>Release
2.9.6</span></i></p>

<p class=MsoNormal align=center style='margin:0in;text-align:center;text-indent:
0in;line-height:107%'><span style='font-size:14.5pt;line-height:107%'>September
29, 2017</span></p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=602
 style='width:451.3pt;border-collapse:collapse'>
 <tr style='height:64.75pt'>
  <td width=24 valign=top style='width:17.95pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:7.05pt 0in 7.05pt 0in;height:64.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=446 valign=top style='width:334.85pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:7.05pt 0in 7.05pt 0in;height:64.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=131 valign=top style='width:98.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:7.05pt 0in 7.05pt 0in;height:64.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><span
  style='font-size:25.0pt;line-height:107%'>Contents</span></p>
  </td>
 </tr>
 <tr style='height:105.25pt'>
  <td width=24 valign=bottom style='width:17.95pt;border:none;padding:7.05pt 0in 7.05pt 0in;
  height:105.25pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>I</span></b></p>
  </td>
  <td width=446 valign=bottom style='width:334.85pt;border:none;padding:7.05pt 0in 7.05pt 0in;
  height:105.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:2.0pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>Jinja2
  Documentation</span></b></p>
  </td>
  <td width=131 valign=bottom style='width:98.5pt;border:none;padding:7.05pt 0in 7.05pt 0in;
  height:105.25pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>1</span></b></p>
  </td>
 </tr>
 <tr style='height:26.1pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>1</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Introduction</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.1pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>3</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>2</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>API</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>7</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>3</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Sandbox</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>39</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>4</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Template Designer Documentation</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>45</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>5</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Extensions</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>85</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>6</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Integration</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>103</b></p>
  </td>
 </tr>
 <tr style='height:26.4pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>7</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Switching from other Template Engines</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.4pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>105</b></p>
  </td>
 </tr>
 <tr style='height:33.05pt'>
  <td width=24 valign=top style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;
  height:33.05pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>8</b></p>
  </td>
  <td width=446 valign=top style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;
  height:33.05pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Tips and Tricks</b></p>
  </td>
  <td width=131 valign=top style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;
  height:33.05pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>111</b></p>
  </td>
 </tr>
 <tr style='height:35.05pt'>
  <td width=24 valign=bottom style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;
  height:35.05pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>II</span></b></p>
  </td>
  <td width=446 valign=bottom style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;
  height:35.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:7.55pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>Additional
  Information</span></b></p>
  </td>
  <td width=131 valign=bottom style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;
  height:35.05pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b><span style='font-size:14.5pt;line-height:107%'>115</span></b></p>
  </td>
 </tr>
 <tr style='height:26.1pt'>
  <td width=24 style='width:17.95pt;padding:7.05pt 0in 7.05pt 0in;height:26.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>9</b></p>
  </td>
  <td width=446 style='width:334.85pt;padding:7.05pt 0in 7.05pt 0in;height:
  26.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>Frequently Asked Questions</b></p>
  </td>
  <td width=131 style='width:98.5pt;padding:7.05pt 0in 7.05pt 0in;height:26.1pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><b>117</b></p>
  </td>
 </tr>
 <tr style='height:173.05pt'>
  <td width=602 colspan=3 valign=top style='width:451.3pt;border:none;
  border-bottom:solid black 1.0pt;padding:7.05pt 0in 7.05pt 0in;height:173.05pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b>10 Jinja2 Changelog                                                                                                                121</b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>i ii</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<h1 align=left style='margin-top:0in;margin-right:138.8pt;margin-bottom:.15pt;
margin-left:-.25pt;text-align:left'><span style='font-size:17.0pt;line-height:
107%'>Part I </span>JINJA2 DOCUMENTATION<br clear=all style='page-break-before:
always'>
</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>2 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>1</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=603 height=1 id="Group 127275"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Introduction</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=603 height=1 id="Group 127276"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>This is the documentation for the Jinja2 general purpose
templating language. Jinja2 is a library for Python that is designed to be
flexible, fast and secure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>If you have any exposure to other text-based template
languages, such as Smarty or Django, you should feel right at home with Jinja2.
It’s both designer and developer friendly by sticking to Python’s principles
and adding functionality useful for templating environments.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja2 works with Python 2.6.x,
2.7.x and &gt;= 3.3. If you are using Python 3.2 you can use an older release
of Jinja2 (2.6) as support for Python 3.2 was dropped in Jinja2 version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>If you wish to use the PackageLoader class, you will also
need <a href="http://peak.telecommunity.com/DevCenter/setuptools"><span
style='color:#CC0000;text-decoration:none'>setuptools</span></a><span
style='color:#CC0000'> </span>or <a
href="https://pypi.python.org/pypi/distribute"><span style='color:#CC0000;
text-decoration:none'>distribute </span></a>installed at runtime.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Installation</h2>

<p class=MsoNormal style='margin-left:-.25pt'>You have multiple ways to install
Jinja2. If you are unsure what to do, go with the Python egg or tarball.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'>As a Python egg (via <i>easy_install</i>)</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>You can install the most recent Jinja2 version using <a
href="http://peak.telecommunity.com/DevCenter/EasyInstall"><span
style='color:#CC0000;text-decoration:none'>easy_install</span></a><span
style='color:#CC0000'> </span>or <a href="https://pypi.python.org/pypi/pip"><span
style='color:#CC0000;text-decoration:none'>pip</span></a><a
href="https://pypi.python.org/pypi/pip"><span style='color:black;text-decoration:
none'>:</span></a></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:331.3pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>easy_install
Jinja2 pip install Jinja2</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.6pt;
margin-left:-.25pt'>This will install a Jinja2 egg in your Python
installation’s site-packages directory.</p>

<h3 style='margin-left:-.25pt'>From the tarball release</h3>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-14.8pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Download the
most recent tarball from the <a href="https://pypi.python.org/pypi/Jinja2"><span
style='color:#CC0000;text-decoration:none'>download page</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:29.25pt;text-indent:-14.8pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>Unpack the tarball</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.25pt;
margin-left:29.25pt;text-indent:-14.8pt;line-height:108%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>python setup.py
install</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:-.25pt'>Note that you either have to have <i>setuptools </i>or <i>distribute
</i>installed; the latter is preferred.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.6pt;
margin-left:-.25pt'>This will install Jinja2 into your Python installation’s
site-packages directory.</p>

<h3 style='margin-left:-.25pt'>Installing the development version</h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:29.25pt;text-align:left;text-indent:-14.8pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Install <a
href="https://git-scm.org/"><span style='color:#CC0000;text-decoration:none'>git</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.3pt;margin-left:29.25pt;text-align:left;text-indent:-14.8pt;
line-height:108%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>git clone git://github.com/pallets/jinja.git</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.0pt;margin-left:29.25pt;text-align:left;text-indent:-14.8pt;
line-height:108%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>cd jinja2</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.05pt;margin-left:29.25pt;text-align:left;text-indent:-14.8pt;
line-height:108%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>ln -s jinja2 /usr/lib/python2.X/site-packages</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>As an alternative to steps 4 you can also do python
setup.py develop which will install the package via <i>distribute </i>in
development mode. This also has the advantage that the C extensions are
compiled.</p>

<h3 style='margin-left:-.25pt'>MarkupSafe Dependency</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.95pt;
margin-left:-.25pt'>As of version 2.7 Jinja2 depends on the <a
href="https://pypi.python.org/pypi/MarkupSafe"><span style='color:#CC0000;
text-decoration:none'>MarkupSafe</span></a><span style='color:#CC0000'> </span>module.
If you install Jinja2 via <i>pip </i>or <i>easy_install </i>it will be
installed automatically for you.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Basic API Usage</h2>

<p class=MsoNormal style='margin-left:-.25pt'>This section gives you a brief
introduction to the Python API for Jinja2 templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:40.3pt;
margin-left:-.25pt'>The most basic way to create a template and render it is
through Template. This however is not the recommended way to work with it if
your templates are not loaded from strings but the file system or another data
source:</p>

<p class=MsoNormal style='margin-left:-.25pt'>4</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;line-height:
108%;color:#B80000'>from </span></b><b><span style='font-size:11.0pt;
line-height:108%;color:#333333'>jinja2 </span></b><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>import </span></b><span
style='font-size:11.0pt;line-height:108%'>Template</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>template = Template(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'Hello {{ name }}!'</span><span style='font-size:11.0pt;
line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>template.render(name=</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'John Doe'</span><span style='font-size:11.0pt;line-height:
105%'>) </span><span style='font-size:11.0pt;line-height:105%;color:#878787'>u'Hello
John Doe!'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:-.25pt'>By creating an instance of Template you get back a new
template object that provides a method called render() which when called with a
dict or keyword arguments expands the template. The dict or keywords arguments
passed to the template are the so-called “context” of the template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>What you can see here is that Jinja2 is using unicode
internally and the return value is an unicode string. So make sure that your
application is indeed using unicode internally.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Experimental Python 3 Support</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.55pt;margin-left:-.25pt;text-align:left;line-height:103%'>Jinja
2.7 brings experimental support for Python &gt;=3.3. It means that all
unittests pass on the new version, but there might still be small bugs in there
and behavior might be inconsistent. If you notice any bugs, please provide
feedback in the <a href="https://github.com/pallets/jinja/issues"><span
style='color:#CC0000;text-decoration:none'>Jinja bug tracker</span></a><a
href="https://github.com/pallets/jinja/issues"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-left:-.25pt'>Also please keep in mind that the
documentation is written with Python 2 in mind, so you will have to adapt the
shown code examples to Python 3 syntax for yourself.<br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>6 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>2</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 128321"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>API</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 128322"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>This document describes the API to Jinja2 and not the
template language. It will be most useful as reference to those implementing
the template interface to the application and not those who are creating Jinja2
templates.</p>

<h2 style='margin-left:-.25pt'>Basics</h2>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja2 uses a central object
called the template Environment. Instances of this class are used to store the
configuration and global objects, and are used to load templates from the file
system or other locations. Even if you are creating templates from strings by
using the constructor of Template class, an environment is created
automatically for you, albeit a shared one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>Most applications will create one Environment object on
application initialization and use that to load templates. In some cases
however, it’s useful to have multiple environments side by side, if different
configurations are in use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:-.25pt'>The simplest way to configure Jinja2 to load templates for
your application looks roughly like this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:51.1pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
105%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>import </span></b><span style='font-size:11.0pt;
line-height:105%'>Environment, PackageLoader, select_autoescape env =
Environment( loader=PackageLoader(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'yourapplication'</span><span style='font-size:
11.0pt;line-height:105%'>, </span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'templates'</span><span style='font-size:11.0pt;line-height:
105%'>), autoescape=select_autoescape([</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'html'</span><span style='font-size:11.0pt;
line-height:105%'>, </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'xml'</span><span style='font-size:11.0pt;line-height:105%'>])</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This will create a template
environment with the default settings and a loader that looks up the templates
in the <i>templates </i>folder inside the <i>yourapplication </i>python pack-</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>age. Different loaders are available and you can also write
your own if you want to load templates from a database or other resources. This
also enables autoescaping for HTML and XML files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:31.05pt;margin-bottom:
9.3pt;margin-left:-.25pt'>To load a template from this environment you just
have to call the get_template() method which then returns the loaded Template:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>template
= env.get_template(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'mytemplate.html'</span><span style='font-size:11.0pt;
line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>To render it with some variables, just call the render() method:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.75pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#333333'>print </span><span style='font-size:11.0pt;line-height:105%'>template.render(the=</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'variables'</span><span
style='font-size:11.0pt;line-height:105%'>, go=</span><span style='font-size:
11.0pt;line-height:105%;color:#AB8A1C'>'here'</span><span style='font-size:
11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:2.85pt;
margin-left:-.25pt'>Using a template loader rather than passing strings to Template
or Environment. from_string() has multiple advantages. Besides being a lot
easier to use it also enables template inheritance.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 128666"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Notes
on Autoescaping</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;
margin-left:-.25pt'>In future versions of Jinja2 we might enable autoescaping
by default for security reasons. As such you are encouraged to explicitly
configure autoescaping now instead of relying on the default.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 128667"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Unicode</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Jinja2 is using Unicode internally which means that you
have to pass Unicode objects to the render function or bytestrings that only
consist of ASCII characters. Additionally newlines are normalized to one end of
line sequence which is per default UNIX style (\n).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Python 2.x supports two ways of representing string
objects. One is the <i>str </i>type and the other is the <i>unicode </i>type,
both of which extend a type called <i>basestring</i>. Unfortunately the default
is <i>str </i>which should not be used to store text based information unless
only ASCII characters are used. With Python 2.6 it is possible to make <i>unicode
</i>the default on a per module level and with Python 3 it will be the default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:-.25pt'>To explicitly use a Unicode string you have to prefix the
string literal with a <i>u</i>: u'Hänsel und Gretel sagen Hallo'. That way
Python will store the string as Unicode by decoding the string with the
character encoding from the current Python module. If no encoding is specified
this defaults to ‘ASCII’ which means that you can’t use any non ASCII
identifier.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:61.5pt;margin-bottom:
9.3pt;margin-left:-.25pt'>To set a better module encoding add the following
comment to the first or second line of the Python module using the Unicode
literal:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in'>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:107%;color:#ABABAB'># -*- coding: utf-8 -*-</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>We recommend utf-8 as Encoding for Python modules and
templates as it’s possible to represent every Unicode character in utf-8 and
because it’s backwards compatible to ASCII. For Jinja2 the default encoding of
templates is assumed to be utf-8.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>It is not possible to use Jinja2 to process non-Unicode
data. The reason for this is that Jinja2 uses Unicode already on the language
level. For example Jinja2 treats the nonbreaking space as valid whitespace
inside expressions which requires knowledge of the encoding or operating on an
Unicode string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:15.05pt;margin-bottom:
6.65pt;margin-left:-.25pt'>For more details about Unicode in Python have a look
at the excellent <a href="https://docs.python.org/dev/howto/unicode.html"><span
style='color:#CC0000;text-decoration:none'>Unicode docu</span></a><a
href="https://docs.python.org/dev/howto/unicode.html"><span style='color:#CC0000;
text-decoration:none'>mentation</span></a><a
href="https://docs.python.org/dev/howto/unicode.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>Another important thing is how Jinja2 is handling string
literals in templates. A naive implementation would be using Unicode strings
for all string literals but it turned out in the past that this is problematic
as some libraries are typechecking against <i>str </i>explicitly. For example <i>datetime.strftime
</i>does not accept Unicode arguments. To not break it completely Jinja2 is
returning <i>str </i>for strings that fit into ASCII and for everything else <i>unicode</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>m = Template(</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>u&quot;{% set a, b = 'foo', 'föö' %}&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>).module</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>m.a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:383.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:11.0pt;line-height:107%;color:#878787'>'foo' </span><span
  style='font-size:11.0pt;line-height:107%;color:#545454'>&gt;&gt;&gt; </span><span
  style='font-size:11.0pt;line-height:107%'>m.b </span><span style='font-size:
  11.0pt;line-height:107%;color:#878787'>u'f\xf6\xf6'</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>High Level API</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:12.25pt;
margin-left:-.25pt'>The high-level API is the API you will use in the
application to load and render Jinja2 templates. The <i>Low Level API </i>on
the other side is only useful if you want to dig deeper into Jinja2 or <i>develop
extensions</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>Environment</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>options</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>The core component of Jinja is the <i>Environment</i>. It
contains important shared variables like configuration, filters, tests, globals
and others. Instances of this class may be modified if they are not shared and
if no template was loaded so far. Modifications on environments after the first
template was loaded will lead to surprising effects and undefined behavior.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Here are the possible
initialization parameters:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:68.15pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>block_start_string </i></b>The
string marking the beginning of a block. Defaults to '{%'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.85pt;margin-bottom:
8.85pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>block_end_string </i></b>The
string marking the end of a block. Defaults to '%}'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.05pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>variable_start_string </i></b>The
string marking the beginning of a print statement. Defaults to '{{'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:55.5pt'><b><i>variable_end_string </i></b>The string marking the
end of a print statement.</p>

<p class=MsoNormal style='margin-left:77.4pt'>Defaults to '}}'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:67.6pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>comment_start_string </i></b>The
string marking the beginning of a comment. Defaults to '{#'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:68.15pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>comment_end_string </i></b>The
string marking the end of a comment. Defaults to '#}'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:82.5pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>line_statement_prefix </i></b>If
given and a string, this will be used as prefix for line based statements. See
also <i>Line Statements</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:82.5pt;margin-bottom:
6.5pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>line_comment_prefix </i></b>If
given and a string, this will be used as prefix for line based comments. See
also <i>Line Statements</i>.</p>

<p class=MsoNormal style='margin-left:77.4pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.9pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>trim_blocks </i></b>If this
is set to True the first newline after a block is removed (block, not variable
tag!). Defaults to <i>False</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:72.2pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>lstrip_blocks </i></b>If
this is set to True leading spaces and tabs are stripped from the start of a
line to a block. Defaults to <i>False</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>newline_sequence </i></b>The
sequence that starts a newline. Must be one of '\r', '\n' or '\r\n'. The
default is '\n' which is a useful default for Linux and OS X systems as well as
web applications.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
6.5pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>keep_trailing_newline </i></b>Preserve
the trailing newline when rendering templates. The default is False, which
causes a single newline, if present, to be stripped from the end of the
template.</p>

<p class=MsoNormal style='margin-left:77.4pt'>New in version 2.7.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>extensions </i></b>List of
Jinja extensions to use. This can either be import paths as strings or
extension classes. For more information have a look at <i>the extensions
documentation</i>.</p>

<p class=MsoNormal style='margin-left:55.5pt'><b><i>optimized </i></b>should
the optimizer be enabled? Default is True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.55pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>undefined </i></b>Undefined
or a subclass of it that is used to represent undefined values in the template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>finalize </i></b>A callable
that can be used to process the result of a variable expression before it is
output. For example one can convert None implicitly into an empty string here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>autoescape </i></b>If set
to True the XML/HTML autoescaping feature is enabled by default. For more
details about autoescaping see Markup. As of Jinja 2.4 this can also be a
callable that is passed the template name and has to return True or False depending
on autoescape should be enabled by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:113.55pt;margin-bottom:
.15pt;margin-left:55.0pt;text-indent:21.9pt;line-height:157%'>Changed in
version 2.4: <i>autoescape </i>can now be a function <b><i>loader </i></b>The
template loader for this environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>cache_size </i></b>The size
of the cache. Per default this is 400 which means that if more than 400
templates are loaded the loader will clean out the least recently used
template. If the cache size is set to 0 templates are recompiled all the time,
if the cache size is -1 the cache will not be cleaned.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:91.8pt;margin-bottom:
7.8pt;margin-left:77.4pt'>Changed in version 2.8: The cache size was increased
to 400 from a low 50.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>auto_reload </i></b>Some
loaders load templates from locations where the template sources may change
(ie: file system or database). If auto_reload is set to True (default) every
time a template is requested the loader checks if the source changed and if
yes, it will reload the template. For higher performance it’s possible to
disable that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
7.8pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>bytecode_cache </i></b>If
set to a bytecode cache object, this object will provide a cache for the
internal Jinja bytecode so that templates don’t have to be parsed if they were
not changed.</p>

<p class=MsoNormal style='margin-left:77.4pt'>See <i>Bytecode Cache </i>for
more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.75pt;margin-bottom:
6.65pt;margin-left:76.9pt;text-indent:-21.9pt'><b><i>enable_async </i></b>If
set to true this enables async template execution which allows you to take
advantage of newer Python features. This requires Python 3.6 or later.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>shared</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:55.5pt'>If a template was created by using the Template constructor
an environment is created automatically. These environments are created as
shared environments which means that multiple templates may have the same
anonymous environment. For all shared environments this attribute is <i>True</i>,
else <i>False</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>sandboxed</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.6pt;margin-bottom:
7.8pt;margin-left:55.5pt'>If the environment is sandboxed this attribute is <i>True</i>.
For the sandbox mode have a look at the documentation for the SandboxedEnvironment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>filters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.5pt;
margin-left:55.5pt'>A dict of filters for this environment. As long as no
template was loaded it’s safe to add new filters or remove old. For custom
filters see <i>Custom Filters</i>. For valid filter names have a look at <i>Notes
on Identifiers</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>tests</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.5pt;
margin-left:55.5pt'>A dict of test functions for this environment. As long as
no template was loaded it’s safe to modify this dict. For custom tests see <i>Custom
Tests</i>. For valid test names have a look at <i>Notes on Identifiers</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>globals</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>A dict of global variables. These variables are always
available in a template. As long as no template was loaded it’s safe to modify
this dict. For more details see <i>The Global Namespace</i>. For valid object
names have a look at <i>Notes on Identifiers</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>policies</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.25pt;
margin-bottom:.25pt;margin-left:55.5pt;text-align:left;line-height:103%'>A
dictionary with <i>Policies</i>. These can be reconfigured to change the
runtime behavior or certain template features. Usually these are security
related. <b>code_generator_class</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:41.85pt;margin-bottom:
6.65pt;margin-left:55.5pt'>The class used for code generation. This should not
be changed in most cases, unless you need to modify the Python code a template
compiles to.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>context_class</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:38.5pt;margin-bottom:
.35pt;margin-left:55.5pt'>The context used for templates. This should not be
changed in most cases, unless you need to modify internals of how template
variables are handled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.15pt;
margin-left:55.5pt'>For details, see Context.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>overlay</b>(<span
style='font-size:17.0pt;line-height:110%'>[</span><i>options</i><span
style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:55.5pt'>Create a new overlay environment that shares all the data
with the current environment except for cache and the overridden attributes.
Extensions cannot be removed for an overlayed environment. An overlayed
environment automatically gets all the extensions of the environment it is
linked to plus optional extra extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:12.5pt;
margin-left:55.5pt'>Creating overlays should happen after the initial
environment was set up completely. Not all attributes are truly linked, some
are just copied over so modifications on the original environment may not shine
through.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>undefined</b>(<span
style='font-size:17.0pt;line-height:110%'>[</span><i>hint</i>, <i>obj</i>, <i>name</i>,
<i>exc</i><span style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.5pt;
margin-left:55.5pt'>Creates a new Undefined object for <i>name</i>. This is
useful for filters or functions that may return undefined objects for some
operations. All parameters except of <i>hint </i>should be provided as keyword
parameters for better readability. The <i>hint </i>is used as error message for
the exception if provided, otherwise the error message will be generated from <i>obj
</i>and <i>name </i>automatically. The exception provided as <i>exc </i>is
raised if something with the generated undefined object is done that the
undefined object does not allow. The default exception is UndefinedError. If a <i>hint
</i>is provided the <i>name </i>may be omitted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:45.4pt;margin-bottom:
9.55pt;margin-left:55.5pt'>The most common way to create an undefined object is
by providing a name only:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.9pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
105%'>environment.undefined(name=</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'some_name'</span><span style='font-size:11.0pt;
line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:55.5pt'>This means that the name <i>some_name </i>is not defined.
If the name was from an attribute of an object it makes sense to tell the
undefined object the holder object to improve the error message:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=537
 style='width:402.65pt;margin-left:51.85pt;border-collapse:collapse'>
 <tr style='height:33.45pt'>
  <td width=537 valign=top style='width:402.65pt;border:solid black 1.0pt;
  padding:3.9pt 5.75pt 0in 3.2pt;height:33.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if not </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>hasattr</span><span style='font-size:11.0pt;line-height:
  107%'>(obj, </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'attr'</span><span
  style='font-size:11.0pt;line-height:107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>environment.undefined(obj=obj, name=</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'attr'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:30.15pt;margin-bottom:
9.45pt;margin-left:55.5pt'>For a more complex example you can provide a hint.
For example the first() filter creates an undefined object that way:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.45pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
110%'>environment.undefined(</span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'no first item, sequence was empty'</span><span
style='font-size:11.0pt;line-height:110%'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:33.8pt;margin-bottom:
9.2pt;margin-left:55.5pt'>If it the <i>name </i>or <i>obj </i>is known (for
example because an attribute was accessed) it should be passed to the undefined
object, even if a custom <i>hint </i>is provided. This gives undefined objects
the possibility to enhance the error message.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>add_extension</b>(<i>extension</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>Adds an extension after the environment was created.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.5.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>compile_expression</b>(<i>source</i>,
<i>undefined_to_none=True</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.5pt;
margin-left:55.5pt'>A handy helper method that returns a callable that accepts
keyword arguments that appear as variables in the expression. If called it
returns the result of the expression.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:55.5pt'>This is useful if applications want to use the same rules
as Jinja in template “configuration files” or similar situations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:55.5pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>env = Environment() </span><span style='font-size:11.0pt;line-height:
105%;color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;
line-height:105%'>expr = env.compile_expression(</span><span style='font-size:
11.0pt;line-height:105%;color:#AB8A1C'>'foo == 42'</span><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>expr(foo=</span><span style='font-size:11.0pt;line-height:105%;
color:#454545'>23</span><span style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>False</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>expr(foo=</span><span style='font-size:11.0pt;line-height:105%;
color:#454545'>42</span><span style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.0pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>True</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:17.6pt;margin-bottom:
9.4pt;margin-left:55.5pt'>Per default the return value is converted to <i>None </i>if
the expression returns an undefined value. This can be changed by setting <i>undefined_to_none
</i>to <i>False</i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>env.compile_expression(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'var'</span><span style='font-size:11.0pt;line-height:105%'>)()
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>is None</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>True</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>env.compile_expression(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'var'</span><span style='font-size:11.0pt;line-height:105%'>,
undefined_to_none=</span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>False</span></b><span style='font-size:11.0pt;line-height:105%'>)()</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.8pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Undefined</span></p>

</div>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.1.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
110%'><span style='font-size:11.0pt;line-height:110%'>               </span><b>compile_templates</b>(<i>target</i>,               <i>extensions=None</i>,               <i>filter_func=None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:137.35pt;text-align:left;line-height:110%'><i>zip=’deflated’</i>,    <i>log_function=None</i>,    <i>ignore_errors=True</i>,
<i>py_compile=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Finds all the templates the loader can find, compiles them
and stores them in <i>target</i>. If <i>zip </i>is <i>None</i>, instead of in a
zipfile, the templates will be stored in a directory. By default a deflate zip
algorithm is used. To switch to the stored algorithm, <i>zip </i>can be set to 'stored'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:25.95pt;margin-bottom:
6.55pt;margin-left:55.5pt'><i>extensions </i>and <i>filter_func </i>are passed
to list_templates(). Each template returned will be compiled to the target
folder or zipfile.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>By default template compilation errors are ignored. In case
a log function is provided, errors are logged. If you want template syntax
errors to abort the compilation you can set <i>ignore_errors </i>to <i>False </i>and
you will get an exception on syntax errors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>If <i>py_compile </i>is set to <i>True </i>.pyc files will
be written to the target instead of standard .py files. This flag does not do
anything on pypy and Python 3 where pyc files are not picked up by itself and
don’t give much benefit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:262.2pt;margin-bottom:
0in;margin-left:29.25pt;text-indent:25.75pt;line-height:157%'>New in version
2.4. <b>extend</b>(<i>**attributes</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Add the items to the instance of the environment if they do
not exist yet. This is used by <i>extensions </i>to register callbacks and
configuration values without breaking inheritance.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>from_string</b>(<i>source</i>,
<i>globals=None</i>, <i>template_class=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.2pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Load a template from a string. This parses the source
given and returns a Template object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.75pt;
margin-left:55.0pt;text-indent:-25.75pt'><b>get_or_select_template</b>(<i>template_name_or_list</i>,
<i>parent=None</i>, <i>globals=None</i>) Does a typecheck and dispatches to select_template()
if an iterable of template names is given, otherwise to get_template().</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.3.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>get_template</b>(<i>name</i>,
<i>parent=None</i>, <i>globals=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Load a template from the loader. If a loader is configured
this method ask the loader for the template and returns a Template. If the <i>parent
</i>parameter is not <i>None</i>, join_path() is called to get the real
template name before loading.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:24.2pt;margin-bottom:
7.8pt;margin-left:55.5pt'>The <i>globals </i>parameter can be used to provide
template wide globals. These variables are available in the context at render
time.</p>

<p class=MsoNormal style='margin-left:55.5pt'>If the template does not exist a TemplateNotFound
exception is raised.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:27.7pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Changed in version 2.4: If <i>name </i>is a Template object
it is returned from the function unchanged.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>join_path</b>(<i>template</i>,
<i>parent</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:55.5pt'>Join a template with the parent. By default all the lookups
are relative to the loader root so this method returns the <i>template </i>parameter
unchanged, but if the paths should be relative to the parent template, this
function can be used to calculate the real template name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.1pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Subclasses may override this method and implement
template path joining here.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>list_templates</b>(<i>extensions=None</i>,
<i>filter_func=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:38.25pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Returns a list of templates for this environment.
This requires that the loader supports the loader’s list_templates() method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>If there are other files in the template folder besides the
actual templates, the returned list can be filtered. There are two ways: either
<i>extensions </i>is set to a list of file extensions for templates, or a <i>filter_func
</i>can be provided which is a callable that is passed a template name and
should return <i>True </i>if it should end up in the result list.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:55.5pt'>If the loader does not support that, a TypeError is raised.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.4.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>select_template</b>(<i>names</i>,
<i>parent=None</i>, <i>globals=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Works like get_template() but
tries a number of templates before it fails. If</p>

<p class=MsoNormal style='margin-top:0in;margin-right:48.15pt;margin-bottom:
6.55pt;margin-left:55.5pt'>it cannot find any of the templates, it will raise a
TemplatesNotFound exception.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.45pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Changed in version 2.4: If <i>names </i>contains a Template
object it is returned from the function unchanged.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>Template</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.7pt;margin-bottom:
7.8pt;margin-left:29.75pt'>The central template object. This class represents a
compiled template and is used to evaluate it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:29.75pt'>Normally the template object is generated from an Environment
but it also has a constructor that makes it possible to create a template
instance directly using the constructor. It takes the same arguments as the
environment constructor but it’s not possible to specify a loader.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Every template object has a few methods and members that
are guaranteed to exist. However it’s important that a template object should
be considered immutable. Modifications on the object are not supported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>Template objects created from the constructor rather than
an environment do have an <i>environment </i>attribute that points to a
temporary environment that is probably shared with other templates created with
the constructor and compatible settings.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:141.85pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:141.85pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>template = Template(</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'Hello {{ name }}!'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>template.render(name=</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'John Doe'</span><span style='font-size:11.0pt;
  line-height:107%'>) == </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>u'Hello John Doe!'</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>True</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>stream = template.stream(name=</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'John Doe'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>next</span><span style='font-size:11.0pt;line-height:
  107%'>(stream) == </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>u'Hello John Doe!'</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>True</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>next</span><span style='font-size:11.0pt;line-height:
  107%'>(stream)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.6pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#AB0000'>StopIteration</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>globals</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:55.5pt'>The dict with the globals of that template. It’s unsafe to
modify this dict as it may be shared with other templates or the environment
that loaded the template.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>name</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:52.6pt;margin-bottom:
6.55pt;margin-left:55.5pt'>The loading name of the template. If the template
was loaded from a string this is <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>filename</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:55.5pt'>The filename of the template on the file system if it was
loaded from there.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:55.5pt'>Otherwise this is <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>render</b>(<span
style='font-size:17.0pt;line-height:110%'>[</span><i>context</i><span
style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:52.0pt;margin-bottom:
7.8pt;margin-left:55.5pt'>This method accepts the same arguments as the <i>dict
</i>constructor: A dict, a dict subclass or some keyword arguments. If no
arguments are given the context will be empty. These two calls do the same:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:108.25pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>template.render(knights=</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'that say nih'</span><span
style='font-size:11.0pt;line-height:105%'>) template.render({</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'knights'</span><span
style='font-size:11.0pt;line-height:105%'>: </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'that say nih'</span><span style='font-size:
11.0pt;line-height:105%'>})</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.15pt;
margin-left:55.5pt'>This will return the rendered template as unicode string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>generate</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>context</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>For very large templates it can be useful to not render the
whole template at once but evaluate each statement after another and yield
piece for piece. This method basically does exactly that and returns a
generator that yields one item after another as unicode strings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.3pt;
margin-left:55.5pt'>It accepts the same arguments as render().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>stream</b>(<span
style='font-size:17.0pt;line-height:110%'>[</span><i>context</i><span
style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;
margin-left:55.5pt'>Works exactly like generate() but returns a TemplateStream.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>render_async</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>context</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:55.5pt'>This works similar to render() but returns a coroutine that
when awaited returns the entire rendered template string. This requires the
async feature to be enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:55.5pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>await </span></b><span style='font-size:11.0pt;line-height:105%'>template.render_async(knights=</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'that say nih;
asynchronously'</span><span style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>generate_async</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>context</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:33.05pt;margin-bottom:
7.8pt;margin-left:55.5pt'>An async version of generate(). Works very similarly
but returns an async iterator instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>make_module</b>(<i>vars=None</i>,
<i>shared=False</i>, <i>locals=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>This method works like the module attribute when called
without arguments but it will evaluate the template on every call rather than
caching it. It’s also possible to provide a dict which is then used as context.
The arguments are the same as for the new_context() method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>module</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.3pt;
margin-left:55.5pt'>The template as module. This is used for imports in the
template runtime but is also useful if one wants to access exported template
variables from the Python layer:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>t = Template(</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'{% macro foo() %}42{% endmacro %}23'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#545454'>&gt;&gt;&gt; </span><span style='font-size:
11.0pt;line-height:110%;color:#333333'>str</span><span style='font-size:11.0pt;
line-height:110%'>(t.module)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>'23'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>t.module.foo() == </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>u'42'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.8pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>True</span></p>

</div>

<p class=MsoNormal style='margin-left:55.5pt'>This attribute is not available
if async mode is enabled.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.environment.<b>TemplateStream</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:53.75pt;margin-bottom:
6.65pt;margin-left:29.75pt'>A template stream works pretty much like an
ordinary python generator but it can buffer multiple items to reduce the number
of total iterations. Per default the output is unbuffered which means that for
every unbuffered instruction in the template one unicode string is yielded.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>If buffering is enabled with a buffer size of 5, five
items are combined into a new unicode string. This is mainly useful if you are
streaming big templates to a client via WSGI which flushes after each
iteration.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>disable_buffering</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Disable the output buffering.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>dump</b>(<i>fp</i>,
<i>encoding=None</i>, <i>errors=’strict’</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:36.15pt;margin-bottom:
6.45pt;margin-left:55.5pt'>Dump the complete stream into a file or file-like
object. Per default unicode strings are written, if you want to encode before
writing specify an <i>encoding</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:55.5pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>Template(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello {{ name }}!'</span><span
style='font-size:11.0pt;line-height:110%'>).stream(name=</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'foo'</span><span
style='font-size:11.0pt;line-height:110%'>).dump(</span><span style='font-size:
11.0pt;line-height:110%;color:#AB8A1C'>'hello.html'</span><span
style='font-size:11.0pt;line-height:110%'>)</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>enable_buffering</b>(<i>size=5</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:55.5pt'>Enable buffering. Buffer <i>size </i>items before yielding
them.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Autoescaping</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>Changed in version 2.4.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Jinja2 now comes with autoescaping support. As of Jinja 2.9
the autoescape extension is removed and built-in. However autoescaping is not
yet enabled by default though this will most likely change in the future. It’s
recommended to configure a sensible default for autoescaping. This makes it
possible to enable and disable autoescaping on a per-template basis (HTML
versus text for instance).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:110%'>jinja2.<b>select_autoescape</b>(<i>enabled_extensions=(‘html’</i>,               <i>‘htm’</i>,       <i>‘xml’)</i>,       <i>dis-</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:40.9pt;
margin-bottom:.25pt;margin-left:149.95pt;text-align:left;line-height:110%'><i>abled_extensions=()</i>, <i>default_for_string=True</i>,         <i>default=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Intelligently sets the initial value of autoescaping based
on the filename of the template. This is the recommended way to configure
autoescaping if you do not want to write a custom function yourself.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:47.7pt;margin-bottom:
9.75pt;margin-left:29.75pt'>If you want to enable it for all templates created
from strings or for all templates with <i>.html </i>and <i>.xml </i>extensions:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:105.2pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
105%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>import </span></b><span style='font-size:11.0pt;
line-height:105%'>Environment, select_autoescape env =
Environment(autoescape=select_autoescape( enabled_extensions=(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'html'</span><span
style='font-size:11.0pt;line-height:105%'>, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'xml'</span><span style='font-size:11.0pt;
line-height:105%'>), default_for_string=</span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>True</span></b><span style='font-size:11.0pt;
line-height:105%'>,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>))</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Example configuration to turn it on at all times except if
the template ends with</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><i>.txt</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:113.35pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
105%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>import </span></b><span style='font-size:11.0pt;
line-height:105%'>Environment, select_autoescape env =
Environment(autoescape=select_autoescape( disabled_extensions=(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'txt'</span><span
style='font-size:11.0pt;line-height:105%'>,), default_for_string=</span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>True</span></b><span
style='font-size:11.0pt;line-height:105%'>, default=</span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>True</span></b><span
style='font-size:11.0pt;line-height:105%'>,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.15pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>))</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.45pt;
margin-left:29.75pt'>The <i>enabled_extensions </i>is an iterable of all the
extensions that autoescaping should be enabled for. Likewise <i>disabled_extensions
</i>is a list of all templates it should be disabled for. If a template is
loaded from a string then the default from <i>default_for_string </i>is used.
If nothing matches then the initial value of autoescaping is set to the value
of <i>default</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>For security reasons this function operates case
insensitive.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.9.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>Here a recommended setup that enables autoescaping for
templates ending in '. html', '.htm' and '.xml' and disabling it by default for
all other extensions. You can use the select_autoescape() function for this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.15pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>import </span></b><span style='font-size:
  11.0pt;line-height:107%'>Environment, select_autoescape</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>env =
  Environment(autoescape=select_autoescape([</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'html'</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'htm'</span><span style='font-size:11.0pt;line-height:107%'>, </span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'xml'</span><span
  style='font-size:11.0pt;line-height:107%'>]),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:98.2pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>loader=PackageLoader(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'mypackage'</span><span
  style='font-size:11.0pt;line-height:107%'>))</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The select_autoescape() function returns a function that
works rougly like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.5pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>autoescape</span><span style='font-size:11.0pt;line-height:
  107%'>(template_name):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>template_name
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>is
  None</span></b><span style='font-size:11.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return False</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>template_name.endswith((</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'.html'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'.htm'</span><span style='font-size:
  11.0pt;line-height:107%'>, </span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'.xml'</span><span style='font-size:11.0pt;line-height:
  107%'>))</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>When implementing a guessing autoescape function, make sure
you also accept <i>None </i>as valid template name. This will be passed when
generating templates from strings. You should always configure autoescaping as
defaults in the future might change.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.45pt;margin-bottom:
32.05pt;margin-left:-.25pt'>Inside the templates the behaviour can be
temporarily changed by using the <i>autoescape </i>block (see <i>Autoescape
Overrides</i>).</p>

<h2 style='margin-left:-.25pt'>Notes on Identifiers</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:-.25pt'>Jinja2 uses the regular Python 2.x naming rules. Valid
identifiers have to match [a-zA-Z_][a-zA-Z0-9_]*. As a matter of fact non ASCII
characters are currently not allowed. This limitation will probably go away as
soon as unicode identifiers are fully specified for Python 3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Filters and tests are looked up in separate namespaces and
have slightly modified identifier syntax. Filters and tests may contain dots to
group filters and tests by topic. For example it’s perfectly valid to add a
function into the filter dict and call it <i>to.unicode</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The regular expression for filter and test identifiers is [a-zA-Z_][a-zA-Z0-9_]*(\.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:32.6pt;margin-left:-.25pt;text-align:left;line-height:108%'>[a-zA-Z_][a-zA-Z0-9_]*)*`.</p>

<h2 style='margin-left:-.25pt'>Undefined Types</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>These classes can be used as undefined types. The Environment
constructor takes an <i>undefined </i>parameter that can be one of those
classes or a custom subclass of Undefined. Whenever the template engine is
unable to look up a name or access an attribute one of those objects is created
and returned. Some operations on undefined values are then allowed, others
fail.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:40.1pt;margin-bottom:
7.8pt;margin-left:-.25pt'>The closest to regular Python behavior is the <i>StrictUndefined
</i>which disallows all operations beside testing if it’s an undefined object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>Undefined</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.15pt;margin-bottom:
.5pt;margin-left:29.75pt'>The default undefined type. This undefined type can
be printed and iterated over, but every other access will raise an jinja2.exceptions.UndefinedError:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo = Undefined(name=</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'foo'</span><span style='font-size:11.0pt;line-height:
  107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>str</span><span style='font-size:11.0pt;line-height:107%'>(foo)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>''</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>not </span></b><span style='font-size:11.0pt;
  line-height:107%'>foo</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>True</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo + </span><span style='font-size:11.0pt;line-height:107%;color:#454545'>42</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.6pt;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:-10.9pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%;color:#ABABAB'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#AB0000'>jinja2.exceptions.UndefinedError</span><span style='font-size:
  11.0pt;line-height:107%'>: 'foo' is undefined</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>_undefined_hint</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:38.15pt;margin-bottom:
6.65pt;margin-left:55.5pt'>Either <i>None </i>or an unicode string with the
error message for the undefined object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>_undefined_obj</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.1pt;margin-bottom:
6.65pt;margin-left:55.5pt'>Either <i>None </i>or the owner object that caused
the undefined object to be created (for example because an attribute does not
exist).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>_undefined_name</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.35pt;margin-bottom:
6.65pt;margin-left:55.5pt'>The name for the undefined variable / attribute or
just <i>None </i>if no such information exists.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>_undefined_exception</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:61.5pt;margin-bottom:
9.35pt;margin-left:55.5pt'>The exception that the undefined object wants to
raise. This is usually one of UndefinedError or SecurityError.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>_fail_with_undefined_error</b>(<i>*args</i>,
<i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>When called with any arguments this method raises _undefined_exception
with an error message generated from the undefined hints stored on the
undefined object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>DebugUndefined</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>An undefined that returns the
debug info when printed.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo = DebugUndefined(name=</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'foo'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>str</span><span style='font-size:11.0pt;line-height:107%'>(foo)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#878787'>'{{
  foo }}'</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>not </span></b><span style='font-size:11.0pt;
  line-height:107%'>foo</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>True</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo + </span><span style='font-size:11.0pt;line-height:107%;color:#454545'>42</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.6pt;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:-10.9pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%;color:#ABABAB'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#AB0000'>jinja2.exceptions.UndefinedError</span><span style='font-size:
  11.0pt;line-height:107%'>: 'foo' is undefined</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>StrictUndefined</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>An undefined that barks on print and iteration as well as
boolean tests and all kinds of comparisons. In other words: you can do nothing
with it except checking if it’s defined using the <i>defined </i>test.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:182.5pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:182.5pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo = StrictUndefined(name=</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'foo'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>str</span><span style='font-size:11.0pt;line-height:107%'>(foo)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:135.8pt;
  margin-bottom:1.3pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%;color:#ABABAB'>... </span><span style='font-size:11.0pt;line-height:
  101%;color:#AB0000'>jinja2.exceptions.UndefinedError</span><span
  style='font-size:11.0pt;line-height:101%'>: 'foo' is undefined</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>not </span></b><span style='font-size:11.0pt;
  line-height:107%'>foo</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:135.8pt;
  margin-bottom:.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%;color:#ABABAB'>... </span><span style='font-size:11.0pt;line-height:
  101%;color:#AB0000'>jinja2.exceptions.UndefinedError</span><span
  style='font-size:11.0pt;line-height:101%'>: 'foo' is undefined</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>foo + </span><span style='font-size:11.0pt;line-height:107%;color:#454545'>42</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.6pt;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:-10.9pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  101%;color:#ABABAB'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#AB0000'>jinja2.exceptions.UndefinedError</span><span style='font-size:
  11.0pt;line-height:107%'>: 'foo' is undefined</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:48.25pt;margin-bottom:
7.8pt;margin-left:-.25pt'>There is also a factory function that can decorate
undefined objects to implement logging on failures:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>make_logging_undefined</b>(<i>logger=None</i>,
<i>base=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Given a logger object this returns a new undefined class
that will log certain failures. It will log iterations and printing. If no
logger is given a default logger is created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>Example:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>logger
= logging.getLogger(__name__)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%'>LoggingUndefined = make_logging_undefined( logger=logger,
base=Undefined</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:331.35pt;margin-bottom:
1.25pt;margin-left:55.0pt;text-indent:-25.75pt;line-height:148%'>New in version
2.8. <b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:62.25pt;margin-bottom:
7.8pt;margin-left:96.85pt;text-indent:-12.25pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span><b>logger </b>– the logger to use. If not provided, a default logger is
created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:62.25pt;margin-bottom:
7.8pt;margin-left:96.85pt;text-indent:-12.25pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span><b>base </b>– the base class to add logging functionality to. This
defaults to Undefined.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.05pt;
margin-left:-.25pt'>Undefined objects are created by calling undefined.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 133879"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Implementation</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>Undefined objects are implemented by overriding the special
<i>__underscore__ </i>methods. For example the default Undefined class
implements <i>__unicode__ </i>in a way that it returns an empty string, however
<i>__int__ </i>and others still fail with an exception. To allow conversion to
int by returning 0 you can implement your own:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.6pt 285.35pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>class </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>NullUndefined</span></b><span style='font-size:11.0pt;
  line-height:107%'>(Undefined):</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:16.2pt;margin-bottom:
  0in;margin-left:43.6pt;text-indent:-21.8pt;line-height:118%'><b><span
  style='font-size:11.0pt;line-height:118%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:118%;color:#333333'>__int__</span><span
  style='font-size:11.0pt;line-height:118%'>(</span><span style='font-size:
  11.0pt;line-height:118%;color:#333333'>self</span><span style='font-size:
  11.0pt;line-height:118%'>): </span><b><span style='font-size:11.0pt;
  line-height:118%;color:#B80000'>return </span></b><span style='font-size:
  11.0pt;line-height:118%;color:#454545'>0</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>__float__</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#454545'>0.0</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>To disallow a method, just override it and raise _undefined_exception.
Because this is a very common idom in undefined objects there is the helper
method _fail_with_undefined_error() that does the error raising automatically.
Here a class that works like the regular Undefined but chokes on iteration:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:33.45pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.75pt 5.75pt 0in 3.2pt;height:33.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>class </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>NonIterableUndefined</span></b><span style='font-size:
  11.0pt;line-height:107%'>(Undefined):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#333333'>__iter__
  </span><span style='font-size:11.0pt;line-height:107%'>=
  Undefined._fail_with_undefined_error</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 133880"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-left:-.25pt'>The Context</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.runtime.<b>Context</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>The template context holds the variables of a template. It
stores the values passed to the template and also the names the template
exports. Creating instances is neither supported nor useful as it’s created
automatically at various stages of the template evaluation and should not be
created by hand.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>The context is immutable. Modifications on parent <b>must
not </b>happen and modifications on vars are allowed from generated template
code only. Template filters and global functions marked as contextfunction()s
get the active context passed as first argument and are allowed to access the
context read-only.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.45pt;
margin-left:29.75pt'>The template context supports read only dict operations (<i>get</i>,
<i>keys</i>, <i>values</i>, <i>items</i>, <i>iterkeys</i>, <i>itervalues</i>, <i>iteritems</i>,
<i>__getitem__</i>, <i>__contains__</i>). Additionally there is a resolve() method
that doesn’t fail with a <i>KeyError </i>but returns an Undefined object for
missing variables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>parent</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.9pt;margin-bottom:
7.8pt;margin-left:55.5pt'>A dict of read only, global variables the template
looks up. These can either come from another Context, from the Environment.globals
or Template. globals or points to a dict created by combining the globals with
the variables passed to the render function. It must not be altered.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>vars</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:55.5pt'>The template local variables. This list contains
environment and context functions from the parent scope as well as local
modifications and exported variables from the template. The template will
modify this dict during template evaluation but filters and context functions
are not allowed to modify it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>environment</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The environment that loaded the template.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>exported_vars</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>This set contains all the names the template exports. The
values for the names are in the vars dict. In order to get a copy of the
exported variables as dict, get_exported() can be used.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>name</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The load name of the template owning this context.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>blocks</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:55.5pt'>A dict with the current mapping of blocks in the template.
The keys in this dict are the names of the blocks, and the values a list of
blocks registered. The last item in each list is the current active block
(latest in the inheritance chain).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>eval_ctx</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:7.1pt;margin-left:55.5pt;text-align:left;line-height:110%'>The
current <i>Evaluation Context</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>call</b>(<i>callable</i>,
<i>*args</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.85pt;
margin-bottom:9.35pt;margin-left:55.5pt;text-align:left;line-height:103%'>Call
the callable with the arguments and keyword arguments provided but inject the
active context or environment as first argument if the callable is a contextfunction()
or environmentfunction().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>get_all</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Return the complete context as dict including the exported
variables. For optimizations reasons this might not return an actual copy so be
careful with using it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>get_exported</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Get a new dict with the exported
variables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>resolve</b>(<i>key</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:47.7pt;margin-bottom:
2.95pt;margin-left:55.5pt'>Looks up a variable like <i>__getitem__ </i>or <i>get
</i>but returns an Undefined object with the name of the name looked up.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 131859"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Implementation</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Context is immutable for the same reason Python’s frame
locals are immutable inside functions. Both Jinja2 and Python are not using the
context / frame locals as data storage for variables but only as primary data
source.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;
margin-left:-.25pt'>When a template accesses a variable the template does not
define, Jinja2 looks up the variable in the context, after that the variable is
treated as if it was defined in the template.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 137519"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Loaders</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Loaders are responsible for loading templates from a
resource such as the file system. The environment will keep the compiled
modules in memory like Python’s <i>sys.modules</i>. Unlike <i>sys.modules </i>however
this cache is limited in size by default and templates are automatically
reloaded. All loaders are subclasses of BaseLoader. If you want to create your
own loader, subclass BaseLoader and override <i>get_source</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>BaseLoader</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:29.75pt'>Baseclass for all loaders. Subclass this and override <i>get_source
</i>to implement a custom loading mechanism. The environment provides a <i>get_template
</i>method that calls the loader’s <i>load </i>method to get the Template object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:42.2pt;margin-bottom:
.5pt;margin-left:29.75pt'>A very basic example for a loader that looks up
templates on the file system could look like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:223.15pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.2pt 5.75pt 0in 3.2pt;height:223.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:163.1pt;
  margin-bottom:6.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:164%'><b><span style='font-size:11.0pt;line-height:164%;
  color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
  164%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
  line-height:164%;color:#B80000'>import </span></b><span style='font-size:
  11.0pt;line-height:164%'>BaseLoader, TemplateNotFound </span><b><span
  style='font-size:11.0pt;line-height:164%;color:#B80000'>from </span></b><b><span
  style='font-size:11.0pt;line-height:164%;color:#333333'>os.path </span></b><b><span
  style='font-size:11.0pt;line-height:164%;color:#B80000'>import </span></b><span
  style='font-size:11.0pt;line-height:164%'>join, exists, getmtime </span><b><span
  style='font-size:11.0pt;line-height:164%;color:#B80000'>class </span></b><b><span
  style='font-size:11.0pt;line-height:164%;color:#333333'>MyLoader</span></b><span
  style='font-size:11.0pt;line-height:164%'>(BaseLoader):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>__init__</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, path):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.85pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>.path = path</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>get_source</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, environment, template):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:179.45pt;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>path =
  join(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>.path, template) </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>if not </span></b><span
  style='font-size:11.0pt;line-height:107%'>exists(path): </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>raise </span></b><span
  style='font-size:11.0pt;line-height:107%'>TemplateNotFound(template)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:3.25in;
  margin-bottom:.15pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:106%'><span style='font-size:11.0pt;line-height:106%'>mtime =
  getmtime(path) </span><b><span style='font-size:11.0pt;line-height:106%;
  color:#B80000'>with </span></b><span style='font-size:11.0pt;line-height:
  106%'>file(path) </span><b><span style='font-size:11.0pt;line-height:106%;
  color:#B80000'>as </span></b><span style='font-size:11.0pt;line-height:106%'>f:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:65.45pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>source =
  f.read().decode(</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'utf-8'</span><span style='font-size:11.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>source, path, </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>lambda</span></b><span style='font-size:11.0pt;line-height:
  107%'>: mtime == getmtime(path)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>get_source</b>(<i>environment</i>,
<i>template</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:55.5pt'>Get the template source, filename and reload helper for a
template. It’s passed the environment and template name and has to return a
tuple in the form (source, filename, uptodate) or raise a <i>TemplateNotFound </i>error
if it can’t locate the template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>The source part of the returned tuple must be the source of
the template as unicode string or a ASCII bytestring. The filename should be
the name of the file on the filesystem if it was loaded from there, otherwise <i>None</i>.
The filename is used by python for the tracebacks if no loader extension is
used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>The last item in the tuple is the <i>uptodate </i>function.
If auto reloading is enabled it’s always called to check if the template
changed. No arguments are passed so the function must store the old state
somewhere (for example in a closure). If it returns <i>False </i>the template
will be reloaded.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>load</b>(<i>environment</i>,
<i>name</i>, <i>globals=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.7pt;
margin-left:55.5pt'>Loads a template. This method looks up the template in the
cache or loads one by calling get_source(). Subclasses should not override this
method as loaders working on collections of other loaders (such as PrefixLoader
or ChoiceLoader) will not call this method but <i>get_source </i>directly.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Here a list of the builtin
loaders Jinja2 provides:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.<b>FileSystemLoader</b>(<i>searchpath</i>,
<i>encoding=’utf-8’</i>, <i>followlinks=False</i>) Loads templates from the
file system. This loader can find templates in folders on the file system and
is the preferred way to load them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:32.15pt;margin-bottom:
9.3pt;margin-left:29.75pt'>The loader takes the path to the templates as
string, or if multiple locations are wanted a list of them which is then looked
up in the given order:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>loader = FileSystemLoader(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'/path/to/templates'</span><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.55pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>loader = FileSystemLoader([</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'/path/to/templates'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'/other/path'</span><span style='font-size:
11.0pt;line-height:110%'>])</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:55.4pt;margin-bottom:
7.8pt;margin-left:29.75pt'>Per default the template encoding is 'utf-8' which
can be changed by setting the <i>encoding </i>parameter to something else.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>To follow symbolic links, set the <i>followlinks </i>parameter
to True:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.9pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>loader = FileSystemLoader(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'/path/to/templates'</span><span
style='font-size:11.0pt;line-height:105%'>, followlinks=</span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>True</span></b><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>Changed in version 2.8+: The <i>followlinks
</i>parameter was added.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:153.65pt;text-align:left;text-indent:-154.4pt;
line-height:110%'><b>class </b>jinja2.<b>PackageLoader</b>(<i>package_name</i>,  <i>package_path=’templates’</i>,
<i>encoding=’utf-8’</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:61.5pt;margin-bottom:
9.3pt;margin-left:29.75pt'>Load templates from python eggs or packages. It is
constructed with the name of the python package and the path to the templates
in that package:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.8pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>loader
= PackageLoader(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'mypackage'</span><span style='font-size:11.0pt;line-height:
105%'>, </span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'views'</span><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>If the package path is not
given, 'templates' is assumed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Per default the template encoding is 'utf-8' which can be
changed by setting the <i>encoding </i>parameter to something else. Due to the
nature of eggs it’s only possible to reload templates if the package was loaded
from the file system and not a zip file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>DictLoader</b>(<i>mapping</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:61.6pt;margin-bottom:
9.3pt;margin-left:29.75pt'>Loads a template from a python dict. It’s passed a
dict of unicode strings bound to template names. This loader is useful for
unittesting:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.25pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>loader = DictLoader({</span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'index.html'</span><span style='font-size:11.0pt;
line-height:110%'>: </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'source here'</span><span style='font-size:11.0pt;line-height:
110%'>})</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>Because auto reloading is rarely
useful this is disabled per default.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>FunctionLoader</b>(<i>load_func</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.4pt;
margin-left:29.75pt'>A loader that is passed a function which does the loading.
The function receives the name of the template and has to return either an
unicode string with the template source, a tuple in the form (source, filename,
uptodatefunc) or <i>None </i>if the template does not exist.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;line-height:
107%;color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:
107%;color:#333333'>load_template</span><span style='font-size:11.0pt;
line-height:107%'>(name):</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
110%;border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>...                      </span><b><span style='font-size:11.0pt;
line-height:110%;color:#B80000'>if </span></b><span style='font-size:11.0pt;
line-height:110%'>name == </span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'index.html'</span><span style='font-size:11.0pt;
line-height:110%'>:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
108%;border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#545454'>...                              </span><b><span
style='font-size:11.0pt;line-height:108%;color:#B80000'>return </span></b><span
style='font-size:11.0pt;line-height:108%;color:#AB8A1C'>'...'</span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:107%;color:#545454'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.9pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>loader = FunctionLoader(load_template)</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>The <i>uptodatefunc </i>is a function that is called if
autoreload is enabled and has to return <i>True </i>if the template is still up
to date. For more details have a look at BaseLoader.get_source() which has the
same return value.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.<b>PrefixLoader</b>(<i>mapping</i>, <i>delimiter=’/’</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>A loader that is passed a dict of loaders where each
loader is bound to a prefix. The prefix is delimited from the template by a
slash per default, which can be changed by setting the <i>delimiter </i>argument
to something else:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>loader
  = PrefixLoader({</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>            </span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'app1'</span><span
  style='font-size:11.0pt;line-height:107%'>:                  PackageLoader(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'mypackage.app1'</span><span
  style='font-size:11.0pt;line-height:107%'>),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:152.15pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'app2'</span><span
  style='font-size:11.0pt;line-height:107%'>:         PackageLoader(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'mypackage.app2'</span><span
  style='font-size:11.0pt;line-height:107%'>) })</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:54.9pt;margin-bottom:
7.8pt;margin-left:29.75pt'>By loading 'app1/index.html' the file from the app1
package is loaded, by loading 'app2/index.html' the file from the second.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>ChoiceLoader</b>(<i>loaders</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:45.75pt;margin-bottom:
9.3pt;margin-left:29.75pt'>This loader works like the <i>PrefixLoader </i>just
that no prefix is specified. If a template could not be found by one loader the
next one is tried.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>loader = ChoiceLoader([</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
110%;border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>...                       </span><span style='font-size:11.0pt;
line-height:110%'>FileSystemLoader(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'/path/to/user/templates'</span><span
style='font-size:11.0pt;line-height:110%'>),</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>...               </span><span style='font-size:11.0pt;
line-height:110%'>FileSystemLoader(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'/path/to/system/templates'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#545454'>... </span><span style='font-size:11.0pt;
line-height:110%'>])</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:26.65pt;margin-bottom:
7.8pt;margin-left:29.75pt'>This is useful if you want to allow users to
override builtin templates from a different location.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>ModuleLoader</b>(<i>path</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>This loader loads templates from precompiled templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Example usage:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>loader = ChoiceLoader([</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>...                     </span><span style='font-size:11.0pt;
  line-height:107%'>ModuleLoader(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'/path/to/compiled/templates'</span><span
  style='font-size:11.0pt;line-height:107%'>),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:152.15pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:11.0pt;line-height:107%;color:#545454'>...            </span><span
  style='font-size:11.0pt;line-height:107%'>FileSystemLoader(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'/path/to/templates'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#545454'>... </span><span style='font-size:
  11.0pt;line-height:107%'>])</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>Templates can be precompiled
with Environment.compile_templates().</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Bytecode Cache</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Jinja 2.1 and higher support external bytecode caching.
Bytecode caches make it possible to store the generated bytecode on the file
system or a different location to avoid parsing the templates on first use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:33.15pt;margin-bottom:
7.8pt;margin-left:-.25pt'>This is especially useful if you have a web
application that is initialized on the first request and Jinja compiles many
templates at once which slows down the application.</p>

<p class=MsoNormal style='margin-left:-.25pt'>To use a bytecode cache,
instantiate it and pass it to the Environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.<b>BytecodeCache</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>To implement your own bytecode cache you have to subclass
this class and override load_bytecode() and dump_bytecode(). Both of these
methods are passed a Bucket.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>A very basic bytecode cache that saves the bytecode on the
file system:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:236.7pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.85pt 119.75pt 0in 3.2pt;height:236.7pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:147.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  214%'><b><span style='font-size:11.0pt;line-height:214%;color:#B80000'>from </span></b><b><span
  style='font-size:11.0pt;line-height:214%;color:#333333'>os </span></b><b><span
  style='font-size:11.0pt;line-height:214%;color:#B80000'>import </span></b><span
  style='font-size:11.0pt;line-height:214%'>path </span><b><span
  style='font-size:11.0pt;line-height:214%;color:#B80000'>class </span></b><b><span
  style='font-size:11.0pt;line-height:214%;color:#333333'>MyCache</span></b><span
  style='font-size:11.0pt;line-height:214%'>(BytecodeCache):</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:43.45pt;margin-bottom:
  13.0pt;margin-left:43.6pt;text-indent:-21.8pt;line-height:107%'><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>__init__</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>self</span><span style='font-size:
  11.0pt;line-height:107%'>, directory): </span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>self</span><span style='font-size:11.0pt;
  line-height:107%'>.directory = directory</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.7pt;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:105%'><b><span style='font-size:11.0pt;line-height:105%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:105%;
  color:#333333'>load_bytecode</span><span style='font-size:11.0pt;line-height:
  105%'>(</span><span style='font-size:11.0pt;line-height:105%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:105%'>, bucket): filename = path.join(</span><span
  style='font-size:11.0pt;line-height:105%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:105%'>.directory, bucket.key) </span><b><span
  style='font-size:11.0pt;line-height:105%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:105%'>path.exists(filename):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:65.45pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>with </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>open</span><span style='font-size:11.0pt;line-height:
  107%'>(filename, </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'rb'</span><span style='font-size:11.0pt;line-height:107%'>) </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>as </span></b><span
  style='font-size:11.0pt;line-height:107%'>f:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.9pt;margin-left:87.25pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>bucket.load_bytecode(f)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>dump_bytecode</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, bucket): filename = path.join(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>.directory, bucket.key) </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>with </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>open</span><span
  style='font-size:11.0pt;line-height:107%'>(filename, </span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'wb'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>as </span></b><span style='font-size:
  11.0pt;line-height:107%'>f: bucket.write_bytecode(f)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>A more advanced version of a
filesystem based bytecode cache is part of Jinja2.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>clear</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Clears the cache. This method is not used by Jinja2 but
should be implemented to allow applications to clear the bytecode cache used by
a particular environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>dump_bytecode</b>(<i>bucket</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Subclasses have to override this method to write the
bytecode from a bucket back to the cache. If it unable to do so it must not
fail silently but raise an exception.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>load_bytecode</b>(<i>bucket</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.5pt'>Subclasses have to override this method to load bytecode
into a bucket. If they are not able to find code in the cache for the bucket,
it must not do anything.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.bccache.<b>Bucket</b>(<i>environment</i>, <i>key</i>, <i>checksum</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.5pt;margin-bottom:
6.65pt;margin-left:29.75pt'>Buckets are used to store the bytecode for one
template. It’s created and initialized by the bytecode cache and passed to the
loading functions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>The buckets get an internal checksum from the cache
assigned and use this to automatically reject outdated cache material.
Individual bytecode cache subclasses don’t have to care about cache
invalidation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>environment</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>The Environment that created the
bucket.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>key</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The unique cache key for this bucket</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>code</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>The bytecode if it’s loaded,
otherwise <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>bytecode_from_string</b>(<i>string</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Load bytecode from a string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>bytecode_to_string</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Return the bytecode as string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>load_bytecode</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Loads bytecode from a file or
file like object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>reset</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Resets the bucket (unloads the
bytecode).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>write_bytecode</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>Dump the bytecode into the file or file like object passed.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Builtin bytecode caches:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
111%'><b>class </b>jinja2.<b>FileSystemBytecodeCache</b>(<i>directory=None</i>,                                              <i>pat-</i></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:34.65pt;text-align:center;text-indent:0in;
line-height:107%'><i>tern=’__jinja2_%s.cache’</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>A bytecode cache that stores bytecode on the filesystem.
It accepts two arguments: The directory where the cache items are stored and a
pattern string that is used to build the filename.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>If no directory is specified a default cache directory is
selected. On Windows the user’s temp directory is used, on UNIX systems a
directory is created for the user in the system temp directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.05pt;
margin-left:29.75pt'>The pattern can be used to have multiple separate caches
operate on the same directory. The default pattern is '__jinja2_%s.cache'. %s is
replaced with the cache key.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.7pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>bcc = FileSystemBytecodeCache(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'/tmp/jinja_cache'</span><span
style='font-size:11.0pt;line-height:105%'>, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'%s.cache'</span><span style='font-size:11.0pt;
line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>This bytecode cache supports
clearing of the cache using the clear method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:110%'><b>class </b>jinja2.<b>MemcachedBytecodeCache</b>(<i>client</i>,          <i>prefix=’jinja2/bytecode/’</i>,      <i>time-</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.15pt;
margin-left:29.25pt;text-indent:178.95pt'><i>out=None</i>, <i>ignore_memcache_errors=True</i>)
This class implements a bytecode cache that uses a memcache cache for storing
the information. It does not enforce a specific memcache library (tummy’s
memcache or cmemcache) but will accept any class that provides the minimal
interface required.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>Libraries compatible with this class:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:48.25pt'><a href="http://werkzeug.pocoo.org/"><span
style='color:black;text-decoration:none'>•</span></a><a
href="http://werkzeug.pocoo.org/"><span style='color:#CC0000;text-decoration:
none'>werkzeug</span></a><a href="http://werkzeug.pocoo.org/"><span
style='color:black;text-decoration:none'>.</span></a>contrib.cache</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.9pt;margin-left:47.5pt;text-align:left;line-height:107%'><a
href="http://www.tummy.com/Community/software/python-memcached/"><span
style='color:black;text-decoration:none'>•</span></a><a
href="http://www.tummy.com/Community/software/python-memcached/"><span
style='color:#CC0000;text-decoration:none'>python-memcached</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.9pt;margin-left:47.5pt;text-align:left;line-height:107%'><a
href="http://gijsbert.org/cmemcache/"><span style='color:black;text-decoration:
none'>•</span></a><a href="http://gijsbert.org/cmemcache/"><span
style='color:#CC0000;text-decoration:none'>cmemcache</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>(Unfortunately the django cache interface is not
compatible because it does not support storing binary data, only unicode. You
can however pass the underlying cache client to the bytecode cache which is
available as <i>django.core.cache.cache._client</i>.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:110.0pt;margin-bottom:
17.05pt;margin-left:29.75pt;line-height:159%'>The minimal interface for the
client passed to the constructor is this: <b>class MinimalClientInterface</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:55.5pt;text-align:left;line-height:110%'><b>set</b>(<i>key</i>,
<i>value</i><span style='font-size:17.0pt;line-height:110%'>[</span>, <i>timeout</i><span
style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:77.4pt'>Stores the bytecode in the cache. <i>value </i>is a string
and <i>timeout </i>the timeout of the key. If timeout is not provided a default
timeout or no timeout should be assumed, if it’s provided it’s an integer with
the number of seconds the cache item should exist.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:55.5pt;text-align:left;line-height:110%'><b>get</b>(<i>key</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:42.7pt;margin-bottom:
6.45pt;margin-left:77.4pt'>Returns the value for the cache key. If the item
does not exist in the cache the return value must be <i>None</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:29.75pt'>The other arguments to the constructor are the prefix for
all keys that is added before the actual cache key and the timeout for the
bytecode in the cache system. We recommend a high (or no) timeout.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.65in;margin-bottom:6.65pt;
margin-left:29.75pt'>This bytecode cache does not support clearing of used
items in the cache. The clear method is a no-operation function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.75pt'>New in version 2.7: Added support for ignoring memcache
errors through the <i>ignore_memcache_errors </i>parameter.</p>

<h2 style='margin-left:-.25pt'>Async Support</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Starting with version 2.9, Jinja2 also supports the Python <i>async
</i>and <i>await </i>constructs. As far as template designers go this feature
is entirely opaque to them however as a developer you should be aware of how
it’s implemented as it influences what type of APIs you can safely expose to
the template environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>First you need to be aware that by default async support is
disabled as enabling it will generate different template code behind the scenes
which passes everything through the asyncio event loop. This is important to
understand because it has some impact to what you are doing:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.6pt;margin-bottom:
7.8pt;margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>template rendering will require an event loop to be set for the current
thread (asyncio.get_event_loop needs to return one)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.6pt;margin-bottom:
7.8pt;margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>all template generation code internally runs async generators which
means that you will pay a performance penalty even if the non sync methods are
used!</p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.6pt;margin-bottom:
6.5pt;margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>The sync methods are based on async methods if the async mode is enabled
which means that <i>render </i>for instance will internally invoke <i>render_async
</i>and run it as part of the current event loop until the execution finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Awaitable objects can be returned from functions in
templates and any function call in a template will automatically await the
result. This means that you can let provide a method that asynchronously loads
data from a database if you so desire and from the template designer’s point of
view this is just another function they can call. This means that the await you
would normally issue in Python is implied. However this only applies to
function calls. If an attribute for instance would be an avaitable object then
this would not result in the expected behavior.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>Likewise iterations with a <i>for </i>loop support async
iterators.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Policies</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Starting with Jinja 2.9 policies can be configured on the
environment which can slightly influence how filters and other template
constructs behave. They can be configured with the policies attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Example:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.55pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>env.policies[</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'urlize.rel'</span><span
style='font-size:11.0pt;line-height:110%'>] = </span><span style='font-size:
11.0pt;line-height:110%;color:#AB8A1C'>'nofollow noopener'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>compiler.ascii_str: </b>This
boolean controls on Python 2 if Jinja2 should store ASCII only literals as
bytestring instead of unicode strings. This used to be always enabled for Jinja
versions below 2.9 and now can be changed. Traditionally it was done this way
since some APIs in Python 2 failed badly for unicode strings (for instance the
datetime strftime API). Now however sometimes the inverse is true (for instance
str.format). If this is set to False then all strings are stored as unicode
internally.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>truncate.leeway: </b>Configures the
leeway default for the <i>truncate </i>filter. Leeway as introduced in 2.9 but
to restore compatibility with older templates it can be configured to <i>0 </i>to
get the old behavior back. The default is <i>5</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.4pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>urlize.rel: </b>A string that
defines the items for the <i>rel </i>attribute of generated links with the <i>urlize
</i>filter. These items are always added. The default is <i>noopener</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.15pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>urlize.target: </b>The
default target that is issued for links from the <i>urlize </i>filter if no
other target is defined by the call explicitly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>json.dumps_function: </b>If this is
set to a value other than <i>None </i>then the <i>tojson </i>filter will dump
with this function instead of the default one. Note that this function should
accept arbitrary extra arguments which might be passed in the future</p>

<p class=MsoNormal style='margin-top:0in;margin-right:34.4pt;margin-bottom:
7.8pt;margin-left:29.75pt'>from the filter. Currently the only argument that
might be passed is <i>indent</i>. The default dump function is json.dumps.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:47.45pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>json.dumps_kwargs: </b>Keyword
arguments to be passed to the dump function. The default is {'sort_keys': True}.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:31.95pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>ext.i18n.trimmed: </b>If this is
set to <i>True</i>, {% trans %} blocks of the <i>i18n Extension </i>will always
unify linebreaks and surrounding whitespace as if the <i>trimmed </i>modifier
was used.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Utilities</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:66.05pt;margin-bottom:
7.8pt;margin-left:-.25pt'>These helper functions and classes are useful if you
add custom filters or functions to a Jinja2 environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>environmentfilter</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:63.45pt;margin-bottom:
7.8pt;margin-left:29.75pt'>Decorator for marking environment dependent filters.
The current Environment is passed to the filter as first argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>contextfilter</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:35.65pt;margin-bottom:
7.8pt;margin-left:29.75pt'>Decorator for marking context dependent filters. The
current Context will be passed as first argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>evalcontextfilter</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Decorator for marking eval-context dependent filters. An
eval context object is passed as first argument. For more information about the
eval context, see <i>Evaluation Context</i>.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.4.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>environmentfunction</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>This decorator can be used to mark a function or method as
environment callable. This decorator works exactly like the contextfunction() decorator
just that the first argument is the active Environment and not context.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>contextfunction</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>This decorator can be used to mark a function or method
context callable. A context callable is passed the active Context as first
argument when called from the template. This is useful if a function wants to
get access to the context or functions provided on the context object. For
example a function that returns a sorted list of template variables the current
template exports could look like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.75pt;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:102%'><span style='font-size:11.0pt;line-height:102%;color:dimgray'>@contextfunction
  </span><b><span style='font-size:11.0pt;line-height:102%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:102%;color:#333333'>get_exported_names</span><span
  style='font-size:11.0pt;line-height:102%'>(context):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>sorted</span><span style='font-size:11.0pt;line-height:
  107%'>(context.exported_vars)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>evalcontextfunction</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>This decorator can be used to mark a function or method as
an eval context callable. This is similar to the contextfunction() but instead
of passing the context, an evaluation context object is passed. For more
information about the eval context, see <i>Evaluation Context</i>.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.4.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>jinja2.<b>escape</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Convert the characters &amp;, &lt;, &gt;, ', and &quot; in
string <i>s </i>to HTML-safe sequences. Use this if you need to display text
that might contain such characters in HTML. This function will not escaped
objects that do have an HTML representation such as already escaped data.</p>

<p class=MsoNormal style='margin-left:29.75pt'>The return value is a Markup string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>clear_caches</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Jinja2 keeps internal caches for environments and lexers.
These are used so that Jinja2 doesn’t have to recreate environments and lexers
all the time. Normally you don’t have to care about that but if you are
measuring memory consumption you may want to clean the caches.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.<b>is_undefined</b>(<i>obj</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>Check if the object passed is undefined. This does nothing
more than performing an instance check against Undefined but looks nicer. This
can be used for custom filters or tests that want to react to undefined
variables. For example a custom default filter can look like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>default</span><span style='font-size:11.0pt;line-height:107%'>(var,
  default=</span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>''</span><span
  style='font-size:11.0pt;line-height:107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.7pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>is_undefined(var):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>default</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>var</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.<b>Markup</b>(<span style='font-size:17.0pt;line-height:108%'>[</span><i>string</i><span
style='font-size:17.0pt;line-height:108%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Marks a string as being safe for inclusion in HTML/XML
output without needing to be escaped. This implements the <i>__html__ </i>interface
a couple of frameworks and web applications use. Markup is a direct subclass of
<i>unicode </i>and provides all the methods of <i>unicode </i>just that it
escapes arguments passed and always returns <i>Markup</i>.</p>

<p class=MsoNormal style='margin-left:29.75pt'>The <i>escape </i>function
returns markup objects so that double escaping can’t happen.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.25pt;
margin-left:29.75pt'>The constructor of the Markup class can be used for three
different things: When passed an unicode object it’s assumed to be safe, when
passed an object with an HTML representation (has an <i>__html__ </i>method)
that representation is used, otherwise the object passed is converted into a
unicode string and then assumed to be safe:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:28.9pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>Markup(</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>&quot;Hello
&lt;em&gt;World&lt;/em&gt;!&quot;</span><span style='font-size:11.0pt;
line-height:110%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Markup(u'Hello &lt;em&gt;World&lt;/em&gt;!')</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;line-height:
107%;color:#B80000'>class </span></b><b><span style='font-size:11.0pt;
line-height:107%;color:#333333'>Foo</span></b><span style='font-size:11.0pt;
line-height:107%'>(</span><span style='font-size:11.0pt;line-height:107%;
color:#333333'>object</span><span style='font-size:11.0pt;line-height:107%'>):</span></p>

<p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#545454'>... </span><b><span style='font-size:11.0pt;line-height:107%;
color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
color:#333333'>__html__</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
style='font-size:11.0pt;line-height:107%'>): </span><span style='font-size:
11.0pt;line-height:107%;color:#545454'>... </span><b><span style='font-size:
11.0pt;line-height:107%;color:#B80000'>return </span></b><span
style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'&lt;a
href=&quot;#&quot;&gt;foo&lt;/a&gt;' </span><span style='font-size:11.0pt;
line-height:107%;color:#545454'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>Markup(Foo())</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.8pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Markup(u'&lt;a href=&quot;#&quot;&gt;foo&lt;/a&gt;')</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:29.75pt'>If you want object passed being always treated as unsafe
you can use the escape() classmethod to create a Markup object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:28.9pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>Markup.escape(</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>&quot;Hello &lt;em&gt;World&lt;/em&gt;!&quot;</span><span
style='font-size:11.0pt;line-height:110%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.8pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Markup(u'Hello &amp;lt;em&amp;gt;World&amp;lt;/em&amp;gt;!')</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:39.8pt;margin-bottom:
9.35pt;margin-left:29.75pt'>Operations on a markup string are markup aware
which means that all arguments are passed through the escape() function:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>em = Markup(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>&quot;&lt;em&gt;%s&lt;/em&gt;&quot;</span><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>em % </span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>&quot;foo
&amp; bar&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Markup(u'&lt;em&gt;foo &amp;amp; bar&lt;/em&gt;')</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>strong = Markup(</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>&quot;&lt;strong&gt;%(text)s&lt;/strong&gt;&quot;</span><span
style='font-size:11.0pt;line-height:110%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>strong % {</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'text'</span><span style='font-size:11.0pt;line-height:110%'>: </span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'&lt;blink&gt;hacker
here&lt;/blink&gt;'</span><span style='font-size:11.0pt;line-height:110%'>}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>Markup(u'&lt;strong&gt;&amp;lt;blink&amp;gt;hacker
here&amp;lt;/blink&amp;gt;&lt;/strong&gt;')</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.3pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
107%'>Markup(</span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;&lt;em&gt;Hello&lt;/em&gt;
&quot;</span><span style='font-size:11.0pt;line-height:107%'>) + </span><span
style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;&lt;foo&gt;&quot;
</span><span style='font-size:11.0pt;line-height:107%;color:#878787'>Markup(u'&lt;em&gt;Hello&lt;/em&gt;
&amp;lt;foo&amp;gt;')</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.85pt;margin-left:29.75pt;text-align:left;line-height:104%'><b>classmethod
escape</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:36.3pt;margin-bottom:
7.8pt;margin-left:55.5pt'>Escape the string. Works like escape() with the
difference that for subclasses of Markup this function would return the correct
subclass.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>striptags</b>()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:49.8pt;
margin-bottom:9.35pt;margin-left:55.5pt;text-align:left;line-height:103%'>Unescape
markup into an text_type string and strip all tags. This also resolves known
HTML4 and XHTML entities. Whitespace is normalized to one:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:141.0pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.1pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>Markup(</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>&quot;Main
&amp;raquo; &lt;em&gt;About&lt;/em&gt;&quot;</span><span style='font-size:11.0pt;
line-height:110%'>).striptags() </span><span style='font-size:11.0pt;
line-height:110%;color:#878787'>u'Main \xbb About'</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>unescape</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.15pt;margin-bottom:
9.3pt;margin-left:55.5pt'>Unescape markup again into an text_type string. This
also resolves known HTML4 and XHTML entities:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:151.9pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.4pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
110%'>Markup(</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>&quot;Main
&amp;raquo; &lt;em&gt;About&lt;/em&gt;&quot;</span><span style='font-size:11.0pt;
line-height:110%'>).unescape() </span><span style='font-size:11.0pt;line-height:
110%;color:#878787'>u'Main \xbb &lt;em&gt;About&lt;/em&gt;'</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 137531"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.25pt;margin-bottom:
.5pt;margin-left:-.25pt'>The Jinja2 Markup class is compatible with at least
Pylons and Genshi. It’s expected that more template engines and framework will
pick up the <i>__html__ </i>concept soon.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 137532"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-left:-.25pt'>Exceptions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:215.0pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>exception </b>jinja2.<b>TemplateError</b>(<i>message=None</i>)
Baseclass for all template errors.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>exception
</b>jinja2.<b>UndefinedError</b>(<i>message=None</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Raised if a template tries to
operate on Undefined.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.6pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>exception </b>jinja2.<b>TemplateNotFound</b>(<i>name</i>,
<i>message=None</i>) Raised if a template does not exist.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>exception
</b>jinja2.<b>TemplatesNotFound</b>(<i>names=()</i>, <i>message=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.5pt;
margin-left:29.75pt'>Like TemplateNotFound but raised if multiple templates are
selected. This is a subclass of TemplateNotFound exception, so just catching
the base exception will catch both.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.2.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:36.25pt;
margin-bottom:.25pt;margin-left:216.1pt;text-align:left;text-indent:-216.85pt;
line-height:110%'><b>exception </b>jinja2.<b>TemplateSyntaxError</b>(<i>message</i>,      <i>lineno</i>, <i>name=None</i>,   <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>Raised to tell the user that there is a problem with the
template.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>message</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The error message as utf-8 bytestring.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>lineno</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The line number where the error occurred</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>name</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The load name for the template as unicode string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>filename</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.55pt;margin-bottom:
6.65pt;margin-left:55.5pt'>The filename that loaded the template as bytestring
in the encoding of the file system (most likely utf-8 or mbcs on Windows
systems).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>The reason why the filename and error message are
bytestrings and not unicode strings is that Python 2.x is not using unicode for
exceptions and tracebacks as well as the compiler. This will change with Python
3.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:36.25pt;
margin-bottom:.25pt;margin-left:234.05pt;text-align:left;text-indent:-234.8pt;
line-height:110%'><b>exception </b>jinja2.<b>TemplateAssertionError</b>(<i>message</i>, <i>lineno</i>, <i>name=None</i>,   <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:32.05pt;
margin-left:29.75pt'>Like a template syntax error, but covers cases where
something in the template caused an error at compile time that wasn’t
necessarily caused by a syntax error. However it’s a direct subclass of TemplateSyntaxError
and has the same attributes.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Custom Filters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Custom filters are just regular Python functions that take
the left side of the filter as first argument and the arguments passed to the
filter as extra arguments or keyword arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>For example in the filter {{ 42|myfilter(23) }} the
function would be called with myfilter(42, 23). Here for example a simple
filter that can be applied to datetime objects to format them:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:33.45pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.65pt 5.75pt 0in 3.2pt;height:33.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>datetimeformat</span><span style='font-size:11.0pt;line-height:
  107%'>(value, </span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>format</span><span style='font-size:11.0pt;line-height:107%'>=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'%H:%M / %d-%m-%Y'</span><span
  style='font-size:11.0pt;line-height:107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>value.strftime(</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>format</span><span style='font-size:11.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>You can register it on the template environment by updating
the filters dict on the environment:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.7pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>environment.filters[</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'datetimeformat'</span><span
style='font-size:11.0pt;line-height:105%'>] = datetimeformat</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Inside the template it can then be used as follows:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:157.8pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.7pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>written
on: </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>article.pub_date|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>datetimeformat </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}} </span><span
style='font-size:11.0pt;line-height:105%'>publication date: </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>article.pub_date|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>datetimeformat</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'%d-%m-%Y'</span><span style='font-size:11.0pt;
line-height:105%'>) </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>Filters can also be passed the current template context or
environment. This is useful if a filter wants to return an undefined value or
check the current autoescape setting. For this purpose three decorators exist: environmentfilter(),
contextfilter() and evalcontextfilter().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.75pt;margin-bottom:
.5pt;margin-left:-.25pt'>Here a small example filter that breaks a text into
HTML line breaks and paragraphs and marks the return value as safe HTML string
if autoescaping is enabled:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:168.95pt'>
  <td width=610 style='width:457.65pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:168.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.5pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>import </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>re</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.45pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>import </span></b><span style='font-size:
  11.0pt;line-height:107%'>evalcontextfilter, Markup, escape</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>_paragraph_re
  = re.compile(</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>r'(?:\r\n|\r|\n){2,}'</span><span style='font-size:11.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:301.25pt;
  margin-bottom:.5pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:103%'><span style='font-size:11.0pt;line-height:103%;color:dimgray'>@evalcontextfilter
  </span><b><span style='font-size:11.0pt;line-height:103%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:103%;color:#333333'>nl2br</span><span
  style='font-size:11.0pt;line-height:103%'>(eval_ctx, value):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:28.7pt;
  margin-bottom:0in;margin-left:141.8pt;text-align:left;text-indent:-120.0pt;
  line-height:108%'><span style='font-size:11.0pt;line-height:108%'>result = </span><span
  style='font-size:11.0pt;line-height:108%;color:#AB8A1C'>u'\n\n'</span><span
  style='font-size:11.0pt;line-height:108%'>.join(</span><span
  style='font-size:11.0pt;line-height:108%;color:#AB8A1C'>u'&lt;p&gt;%s&lt;/p&gt;'
  </span><span style='font-size:11.0pt;line-height:108%'>% p.replace(</span><span
  style='font-size:11.0pt;line-height:108%;color:#AB8A1C'>'\n'</span><span
  style='font-size:11.0pt;line-height:108%'>, Markup(</span><span
  style='font-size:11.0pt;line-height:108%;color:#AB8A1C'>'&lt;br&gt;\n'</span><span
  style='font-size:11.0pt;line-height:108%'>)) </span><b><span
  style='font-size:11.0pt;line-height:108%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:108%'>p </span><b><span style='font-size:
  11.0pt;line-height:108%;color:#B80000'>in </span></b><span style='font-size:
  11.0pt;line-height:108%'>_paragraph_re.split(escape(value)))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>eval_ctx.autoescape:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>result =
  Markup(result)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>result</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:40.0pt;margin-bottom:
32.1pt;margin-left:-.25pt'>Context filters work the same just that the first
argument is the current active Context rather than the environment.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Evaluation Context</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:48.8pt;margin-bottom:
6.65pt;margin-left:-.25pt'>The evaluation context (short eval context or eval
ctx) is a new object introduced in Jinja 2.4 that makes it possible to activate
and deactivate compiled features at runtime.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:56.75pt;margin-bottom:
6.65pt;margin-left:-.25pt'>Currently it is only used to enable and disable the
automatic escaping but can be used for extensions as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>In previous Jinja versions filters and functions were
marked as environment callables in order to check for the autoescape status
from the environment. In new versions it’s encouraged to check the setting from
the evaluation context instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Previous versions:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:397.65pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:dimgray'>@environmentfilter </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>def </span></b><span style='font-size:11.0pt;
line-height:105%;color:#333333'>filter</span><span style='font-size:11.0pt;
line-height:105%'>(env, value): result = do_something(value) </span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>if </span></b><span
style='font-size:11.0pt;line-height:105%'>env.autoescape: result =
Markup(result)</span></p>

</div>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:21.8pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.8pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
105%'>result</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:-.25pt'>In new versions you can either use a contextfilter() and
access the evaluation context from the actual context, or use a evalcontextfilter()
which directly passes the evaluation context to the function:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:182.5pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 263.4pt 0in 3.2pt;height:182.5pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:43.65pt;
  margin-bottom:.5pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:103%'><span style='font-size:11.0pt;line-height:103%;color:dimgray'>@contextfilter
  </span><b><span style='font-size:11.0pt;line-height:103%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:103%;color:#333333'>filter</span><span
  style='font-size:11.0pt;line-height:103%'>(context, value):</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.6pt;
  margin-left:21.8pt;text-indent:0in;line-height:102%'><span style='font-size:
  11.0pt;line-height:102%'>result = do_something(value) </span><b><span
  style='font-size:11.0pt;line-height:102%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:102%'>context.eval_ctx.autoescape:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>result =
  Markup(result)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>result</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:16.55pt;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:11.0pt;line-height:104%;color:dimgray'>@evalcontextfilter
  </span><b><span style='font-size:11.0pt;line-height:104%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:104%;color:#333333'>filter</span><span
  style='font-size:11.0pt;line-height:104%'>(eval_ctx, value): result =
  do_something(value) </span><b><span style='font-size:11.0pt;line-height:104%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:104%'>eval_ctx.autoescape:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>result =
  Markup(result)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>result</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>The evaluation context must not be modified at runtime.
Modifications must only happen with a nodes.EvalContextModifier and nodes.ScopedEvalContextModifier
from an extension, not on the eval context object itself.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>EvalContext</b>(<i>environment</i>, <i>template_name=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:13.45pt;margin-bottom:
6.65pt;margin-left:29.75pt'>Holds evaluation time information. Custom
attributes can be attached to it in extensions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>autoescape</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:55.5pt'><i>True </i>or <i>False </i>depending on if autoescaping is
active or not.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>volatile</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:29.55pt;margin-bottom:
31.95pt;margin-left:55.5pt'><i>True </i>if the compiler cannot evaluate some
expressions at compile time. At runtime this should always be <i>False</i>.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Custom Tests</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:-.25pt'>Tests work like filters just that there is no way for a
test to get access to the environment or context and that they can’t be
chained. The return value of a test should be <i>True </i>or <i>False</i>. The
purpose of a test is to give the template designers the possibility to perform
type and conformability checks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.45pt;
margin-left:-.25pt'>Here a simple test that checks if a variable is a prime
number:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>import </span></b><b><span style='font-size:11.0pt;line-height:
108%;color:#333333'>math</span></b></p>

</div>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.9pt 143.55pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:212.55pt;margin-bottom:
  1.1pt;margin-left:21.8pt;text-indent:-21.8pt;line-height:110%'><b><span
  style='font-size:11.0pt;line-height:110%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:110%;color:#333333'>is_prime</span><span
  style='font-size:11.0pt;line-height:110%'>(n): </span><b><span
  style='font-size:11.0pt;line-height:110%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:110%'>n == </span><span style='font-size:
  11.0pt;line-height:110%;color:#454545'>2</span><span style='font-size:11.0pt;
  line-height:110%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return True</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.25pt;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:109%'><b><span style='font-size:11.0pt;line-height:109%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:109%'>i
  </span><b><span style='font-size:11.0pt;line-height:109%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:109%'>xrange(</span><span
  style='font-size:11.0pt;line-height:109%;color:#454545'>2</span><span
  style='font-size:11.0pt;line-height:109%'>, </span><span style='font-size:
  11.0pt;line-height:109%;color:#333333'>int</span><span style='font-size:11.0pt;
  line-height:109%'>(math.ceil(math.sqrt(n))) + </span><span style='font-size:
  11.0pt;line-height:109%;color:#454545'>1</span><span style='font-size:11.0pt;
  line-height:109%'>): </span><b><span style='font-size:11.0pt;line-height:
  109%;color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:
  109%'>n % i == </span><span style='font-size:11.0pt;line-height:109%;
  color:#454545'>0</span><span style='font-size:11.0pt;line-height:109%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:147.25pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:43.65pt;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return False return True</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can register it on the
template environment by updating the tests dict on the environment:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.7pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>environment.tests[</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'prime'</span><span
style='font-size:11.0pt;line-height:105%'>] = is_prime</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>A template designer can then use the test like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#454545'>42 </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>is </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>prime </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>42 is a
  prime number</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>else </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>42 is not a
  prime number</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-left:-.25pt'>The Global Namespace</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:31.6pt;
margin-left:-.25pt'>Variables stored in the Environment.globals dict are
special as they are available for imported templates too, even if they are
imported without context. This is the place where you can put variables and
functions that should be available all the time. Additionally Template.globals exist
that are variables available to a specific template that are available to all render()
calls.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Low Level API</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>The low level API exposes functionality that can be useful
to understand some implementation details, debugging purposes or advanced <i>extension
</i>techniques. Unless you know exactly what you are doing we don’t recommend
using any of those.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'>Environment.<b>lex</b>(<i>source</i>,
<i>name=None</i>, <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.45pt;
margin-left:29.75pt'>Lex the given sourcecode and return a generator that
yields tokens as tuples in the form (lineno, token_type, value). This can be
useful for <i>extension development </i>and debugging templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.9pt;margin-bottom:
7.8pt;margin-left:29.75pt'>This does not perform preprocessing. If you want the
preprocessing of the extensions to be applied you have to filter source through
the preprocess() method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'>Environment.<b>parse</b>(<i>source</i>,
<i>name=None</i>, <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:46.7pt;margin-bottom:
0in;margin-left:29.75pt'>Parse the sourcecode and return the abstract syntax
tree. This tree of nodes is used by the compiler to convert the template into
executable source- or bytecode.</p>

<p class=MsoNormal style='margin-left:29.75pt'>This is useful for debugging or
to extract information from templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:52.15pt;margin-bottom:
7.8pt;margin-left:29.75pt'>If you are <i>developing Jinja2 extensions </i>this
gives you a good overview of the node tree generated.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'>Environment.<b>preprocess</b>(<i>source</i>,
<i>name=None</i>, <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Preprocesses the source with all extensions. This is
automatically called for all parsing and compiling methods but <i>not </i>for lex()
because there you usually only want the actual source tokenized.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'>Template.<b>new_context</b>(<i>vars=None</i>,
<i>shared=False</i>, <i>locals=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Create a new Context for this template. The vars provided
will be passed to the template. Per default the globals are added to the
context. If shared is set to <i>True </i>the data is passed as it to the
context without adding the globals.</p>

<p class=MsoNormal style='margin-left:29.75pt'><i>locals </i>can be a dict of
local variables for internal usage.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>Template.<b>root_render_func</b>(<i>context</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:29.75pt'>This is the low level render function. It’s passed a Context
that has to be created by new_context() of the same template or a compatible
template. This render function is generated by the compiler from the template
code and returns a generator that yields unicode strings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>If an exception in the template code happens the template
engine will not rewrite the exception but pass through the original one. As a
matter of fact this function should only be called from within a render() / generate()
/ stream() call.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>Template.<b>blocks</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>A dict of block render
functions. Each of these functions works exactly like the root_render_func() with
the same limitations.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>Template.<b>is_up_to_date</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:47.75pt;margin-bottom:
2.9pt;margin-left:29.75pt'>This attribute is <i>False </i>if there is a newer
version of the template available, otherwise <i>True</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 132907"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;
margin-left:-.25pt'>The low-level API is fragile. Future Jinja2 versions will
try not to change it in a backwards incompatible way but modifications in the
Jinja2 core may shine through. For example if Jinja2 introduces a new AST node
in later versions that may be returned by parse().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 132909"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.2pt;margin-left:
-.25pt'>The Meta API</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>The meta API returns some information about abstract syntax
trees that could help applications to implement more advanced template
concepts. All the functions of the meta API operate on an abstract syntax tree
as returned by the Environment.parse() method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.meta.<b>find_undeclared_variables</b>(<i>ast</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:10.0pt;
margin-left:29.75pt'>Returns a set of all variables in the AST that will be
looked up from the context at runtime. Because at compile time it’s not known
which variables will be used depending on the path the execution takes at
runtime, all variables are returned.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>from </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#333333'>jinja2 </span></b><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>import </span></b><span
style='font-size:11.0pt;line-height:105%'>Environment, meta</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>env = Environment()</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>ast = env.parse(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'{% set foo = 42 %}{{ bar + foo }}'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#545454'>&gt;&gt;&gt; </span><span style='font-size:
11.0pt;line-height:105%'>meta.find_undeclared_variables(ast) == </span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>set</span><span
style='font-size:11.0pt;line-height:105%'>([</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'bar'</span><span style='font-size:11.0pt;
line-height:105%'>]) </span><span style='font-size:11.0pt;line-height:105%;
color:#878787'>True</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:29.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=564 height=1 id="Group 137865"
src="Jinja2%20Documentation_files/image003.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:29.75pt;text-align:left;line-height:104%'><b>Implementation</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;
margin-left:29.75pt'>Internally the code generator is used for finding
undeclared variables. This is good to know because the code generator might
raise a TemplateAssertionError during compilation and as a matter of fact this
function can currently raise that exception as well.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.45pt;margin-left:29.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=564 height=1 id="Group 137866"
src="Jinja2%20Documentation_files/image003.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.meta.<b>find_referenced_templates</b>(<i>ast</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.95pt;
margin-left:29.75pt'>Finds all the referenced templates from the AST. This will
return an iterator over all the hardcoded template extensions, inclusions and
imports. If dynamic inheritance or inclusion is used, <i>None </i>will be
yielded.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>from </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#333333'>jinja2 </span></b><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>import </span></b><span
style='font-size:11.0pt;line-height:105%'>Environment, meta</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>env = Environment()</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>ast = env.parse(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'{% extends &quot;layout.html&quot; %}{% include helper %}'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#545454'>&gt;&gt;&gt; </span><span style='font-size:
11.0pt;line-height:105%;color:#333333'>list</span><span style='font-size:11.0pt;
line-height:105%'>(meta.find_referenced_templates(ast))</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.0pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>['layout.html', None]</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:33.7pt;margin-bottom:
7.8pt;margin-left:29.75pt'>This function is useful for dependency tracking. For
example if you want to rebuild parts of the website after a layout template has
changed.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:1.0in;
margin-bottom:50.2pt;margin-left:.5pt;text-align:right;line-height:110%'>CHAPTER
<b><span style='font-size:17.0pt;line-height:110%'>3</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 134390"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Sandbox</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 134391"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:51.75pt;margin-bottom:
7.8pt;margin-left:-.25pt'>The Jinja2 sandbox can be used to evaluate untrusted
code. Access to unsafe attributes and methods is prohibited.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:44.6pt;margin-bottom:
.5pt;margin-left:-.25pt'>Assuming <i>env </i>is a SandboxedEnvironment in the
default configuration the following piece of code shows how it works:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:11.0pt;line-height:107%;color:#545454'>&gt;&gt;&gt;
  </span><span style='font-size:11.0pt;line-height:107%'>env.from_string(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;{{
  func.func_code }}&quot;</span><span style='font-size:11.0pt;line-height:107%'>).render(func=</span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>lambda</span></b><span
  style='font-size:11.0pt;line-height:107%'>:</span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>None</span></b><span style='font-size:
  11.0pt;line-height:107%'>) </span><span style='font-size:11.0pt;line-height:
  107%;color:#878787'>u''</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:6.9pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  104%'><span style='font-size:11.0pt;line-height:104%;color:#545454'>&gt;&gt;&gt;
  </span><span style='font-size:11.0pt;line-height:104%'>env.from_string(</span><span
  style='font-size:11.0pt;line-height:104%;color:#AB8A1C'>&quot;{{
  func.func_code.do_something }}&quot;</span><span style='font-size:11.0pt;
  line-height:104%'>).render(func=</span><b><span style='font-size:11.0pt;
  line-height:104%;color:#B80000'>lambda</span></b><span style='font-size:11.0pt;
  line-height:104%'>:</span><b><span style='font-size:11.0pt;line-height:104%;
  color:#B80000'>None</span></b><span style='font-size:11.0pt;line-height:104%'>)
  </span><span style='font-size:11.0pt;line-height:104%;color:#AB0000'>Traceback
  (most recent call last): </span><span style='font-size:11.0pt;line-height:
  104%;color:#ABABAB'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#AB0000'>SecurityError</span><span style='font-size:11.0pt;line-height:
  107%'>: access to attribute 'func_code' of 'function' object is unsafe.</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:19.7pt;margin-left:
-.25pt'>API</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.sandbox.<b>SandboxedEnvironment</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>options</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>The sandboxed environment. It works like the regular
environment but tells the compiler to generate sandboxed code. Additionally
subclasses of this environment may override the methods that tell the runtime
what attributes or functions are safe to access.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>If the template tries to access insecure code a SecurityError
is raised. However also other exceptions may occur during the rendering so the
caller has to ensure that all exceptions are caught.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>call_binop</b>(<i>context</i>,
<i>operator</i>, <i>left</i>, <i>right</i>)</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:1.0in;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'>For
intercepted binary operator calls (intercepted_binops()) this function</p>

<p class=MsoNormal style='margin-top:0in;margin-right:25.25pt;margin-bottom:
6.65pt;margin-left:55.5pt'>is executed instead of the builtin operator. This
can be used to fine tune the behavior of certain operators.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.6.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>call_unop</b>(<i>context</i>,
<i>operator</i>, <i>arg</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.6pt;
margin-left:55.5pt'>For intercepted unary operator calls (intercepted_unops())
this function is executed instead of the builtin operator. This can be used to
fine tune the behavior of certain operators.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.6.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-5.95pt;margin-bottom:
7.8pt;margin-left:55.0pt;text-indent:-25.75pt'><b>default_binop_table = {‘//’:
&lt;built-in function floordiv&gt;, ‘%’: &lt;built-in function mod&gt;, ‘+’:
&lt; </b>default callback table for the binary operators. A copy of this is
available on each instance of a sandboxed environment as binop_table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:48.05pt;
margin-bottom:8.35pt;margin-left:55.0pt;text-align:left;text-indent:-25.75pt;
line-height:103%'><b>default_unop_table = {‘+’: &lt;built-in function pos&gt;,
‘-‘: &lt;built-in function neg&gt;} </b>default callback table for the unary
operators. A copy of this is available on each instance of a sandboxed
environment as unop_table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:55.0pt;text-indent:-25.75pt'><b>intercepted_binops = frozenset([]) </b>a
set of binary operators that should be intercepted. Each operator that is added
to this set (empty by default) is delegated to the call_binop() method that
will perform the operator. The default operator callback is specified by binop_table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:55.5pt'>The following binary operators are interceptable: //, %, +,
*, -, /, and **</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:55.5pt'>The default operation form the operator table corresponds
to the builtin function. Intercepted calls are always slower than the native
operator call, so make sure only to intercept the ones you are interested in.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.6.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.1pt;
margin-left:55.0pt;text-indent:-25.75pt'><b>intercepted_unops = frozenset([]) </b>a
set of unary operators that should be intercepted. Each operator that is added
to this set (empty by default) is delegated to the call_unop() method that will
perform the operator. The default operator callback is specified by unop_table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:55.5pt'>The following unary operators are interceptable: +, -</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:55.5pt'>The default operation form the operator table corresponds
to the builtin function. Intercepted calls are always slower than the native
operator call, so make sure only to intercept the ones you are interested in.</p>

<p class=MsoNormal style='margin-left:55.5pt'>New in version 2.6.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>is_safe_attribute</b>(<i>obj</i>,
<i>attr</i>, <i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:0in;
margin-left:55.5pt'>The sandboxed environment will call this method to check if
the attribute of an object is safe to access. Per default all attributes
starting with an underscore are considered private as well as the special
attributes of internal python objects as returned by the is_internal_attribute()
function. <b>is_safe_callable</b>(<i>obj</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.95pt;
margin-left:55.5pt'>Check if an object is safely callable. Per default a
function is considered safe unless the <i>unsafe_callable </i>attribute exists
and is True. Override this method to alter the behavior, but this won’t affect
the <i>unsafe </i>decorator from this module.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.sandbox.<b>ImmutableSandboxedEnvironment</b>(<span
style='font-size:17.0pt;line-height:111%'>[</span><i>options</i><span
style='font-size:17.0pt;line-height:111%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:29.75pt'>Works exactly like the regular <i>SandboxedEnvironment </i>but
does not permit modifications on the builtin mutable objects <i>list</i>, <i>set</i>,
and <i>dict </i>by using the modifies_known_mutable() function.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>exception
</b>jinja2.sandbox.<b>SecurityError</b>(<i>message=None</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Raised if a template tries to do
something insecure if the sandbox is enabled.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>jinja2.sandbox.<b>unsafe</b>(<i>f</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Marks a function or method as unsafe.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:326.55pt;
  margin-bottom:.4pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:11.0pt;line-height:104%;color:dimgray'>@unsafe
  </span><b><span style='font-size:11.0pt;line-height:104%;color:#B80000'>def </span></b><span
  style='font-size:11.0pt;line-height:104%;color:#333333'>delete</span><span
  style='font-size:11.0pt;line-height:104%'>(</span><span style='font-size:
  11.0pt;line-height:104%;color:#333333'>self</span><span style='font-size:
  11.0pt;line-height:104%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>pass</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.sandbox.<b>is_internal_attribute</b>(<i>obj</i>,
<i>attr</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:.5pt;
margin-left:29.75pt'>Test if the attribute given is an internal python
attribute. For example this function returns <i>True </i>for the <i>func_code </i>attribute
of python objects. This is useful if the environment method is_safe_attribute()
is overridden.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>from </span></b><b><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>jinja2.sandbox </span></b><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>import </span></b><span
  style='font-size:11.0pt;line-height:107%'>is_internal_attribute</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
  107%'>is_internal_attribute(</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>str</span><span style='font-size:11.0pt;line-height:107%'>,
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;mro&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#878787'>True</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:179.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:11.0pt;line-height:107%;color:#545454'>&gt;&gt;&gt;
  </span><span style='font-size:11.0pt;line-height:107%'>is_internal_attribute(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>str</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;upper&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#878787'>False</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'>jinja2.sandbox.<b>modifies_known_mutable</b>(<i>obj</i>,
<i>attr</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:9.3pt;
margin-left:29.75pt'>This function checks if an attribute on a builtin mutable
object (list, dict, set or deque) would modify it if called. It also supports
the “user”-versions of the objects (<i>sets.Set</i>, <i>UserDict.* </i>etc.)
and with Python 2.6 onwards the abstract base classes <i>MutableSet</i>, <i>MutableMapping</i>,
and <i>MutableSequence</i>.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:28.9pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>modifies_known_mutable({}, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;clear&quot;</span><span style='font-size:
11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>True</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>modifies_known_mutable({}, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;keys&quot;</span><span style='font-size:
11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>False</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>modifies_known_mutable([], </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;append&quot;</span><span
style='font-size:11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>True</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>modifies_known_mutable([], </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;index&quot;</span><span style='font-size:
11.0pt;line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.0pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>False</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:29.75pt'>If called with an unsupported object (such as unicode) <i>False
</i>is returned.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:28.9pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#545454'>&gt;&gt;&gt; </span><span style='font-size:11.0pt;line-height:
105%'>modifies_known_mutable(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>&quot;foo&quot;</span><span style='font-size:11.0pt;
line-height:105%'>, </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>&quot;upper&quot;</span><span style='font-size:11.0pt;
line-height:105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#878787'>False</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 139013"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The Jinja2 sandbox alone is no solution for perfect
security. Especially for web applications you have to keep in mind that users
may create templates with arbitrary HTML in so it’s crucial to ensure that (if
you are running multiple users on the same server) they can’t harm each other
via JavaScript insertions and much more.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Also the sandbox is only as good as the configuration. We
strongly recommend only passing non-shared resources to the template and use
some sort of whitelisting for attributes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.5pt;margin-bottom:
0in;margin-left:-.25pt'>Also keep in mind that templates may raise runtime or
compile time errors, so make sure to catch them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 139014"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.2pt;margin-left:
-.25pt'>Operator Intercepting</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.6.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:6.55pt;
margin-left:-.25pt'>For maximum performance Jinja2 will let operators call
directly the type specific callback methods. This means that it’s not possible
to have this intercepted by overriding Environment.call(). Furthermore a
conversion from operator to special method is not always directly possible due
to how operators work. For instance for divisions more than one special method
exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>With Jinja 2.6 there is now support for explicit operator
intercepting. This can be used to customize specific operators as necessary. In
order to intercept an operator one has to override the SandboxedEnvironment.intercepted_binops
attribute. Once the operator that needs to be intercepted is added to that set
Jinja2 will generate bytecode that calls the SandboxedEnvironment.call_binop() function.
For unary operators the <i>unary </i>attributes and methods have to be used
instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.0in;margin-bottom:7.8pt;
margin-left:-.25pt'>The default implementation of SandboxedEnvironment.call_binop
will use the SandboxedEnvironment.binop_table to translate operator symbols
into callbacks performing the default operator behavior.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>This example shows how the power (**) operator can be
disabled in Jinja2:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:155.4pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.5pt 5.75pt 0in 3.2pt;height:155.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:27.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>jinja2.sandbox </span></b><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>import </span></b><span style='font-size:
  11.0pt;line-height:107%'>SandboxedEnvironment</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>class </span></b><b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>MyEnvironment</span></b><span style='font-size:11.0pt;
  line-height:107%'>(SandboxedEnvironment):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.55pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>intercepted_binops
  = </span><span style='font-size:11.0pt;line-height:107%;color:#333333'>frozenset</span><span
  style='font-size:11.0pt;line-height:107%'>([</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'**'</span><span style='font-size:
  11.0pt;line-height:107%'>])</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>call_binop</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, context, operator, left, right):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>operator
  == </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'**'</span><span
  style='font-size:11.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:21.8pt;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>self</span><span style='font-size:11.0pt;line-height:
  107%'>.undefined(</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'the power operator is unavailable'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>return </span></b><span
  style='font-size:11.0pt;line-height:107%'>SandboxedEnvironment.call_binop(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, context, operator, left, right)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:50.75pt;margin-bottom:
7.8pt;margin-left:-.25pt'>Make sure to always call into the super method, even
if you are not intercepting the call. Jinja2 might internally call the method
to evaluate expressions.</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>44 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>4</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 140771"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Template Designer Documentation</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 140774"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>This document describes the syntax and semantics of the
template engine and will be most useful as reference to those creating Jinja
templates. As the template engine is very flexible, the configuration from the
application can be slightly different from the code presented here in terms of
delimiters and behavior of undefined values.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Synopsis</h2>

<p class=MsoNormal style='margin-left:-.25pt'>A Jinja template is simply a text
file. Jinja can generate any text-based format (HTML, XML, CSV, LaTeX, etc.). A
Jinja template doesn’t need to have a specific extension: .html, .xml, or any
other extension is just fine.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>A template contains <b>variables </b>and/or <b>expressions</b>,
which get replaced with values when a template is <i>rendered</i>; and <b>tags</b>,
which control the logic of the template. The template syntax is heavily
inspired by Django and Python.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Below is a minimal template that illustrates a few basics
using the default Jinja configuration. We will cover the details later in this
document:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;!DOCTYPE html&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>html </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>lang</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;en&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>head</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>title</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;My Webpage&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>title</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>head</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>body</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>id</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;navigation&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>navigation </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item.href </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>item.caption </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
 <tr style='height:128.3pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  border-top:none;padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:312.35pt;
  margin-bottom:14.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:101%;color:dimgray'>h1</span></b><span
  style='font-size:11.0pt;line-height:101%'>&gt;My Webpage&lt;/</span><b><span
  style='font-size:11.0pt;line-height:101%;color:dimgray'>h1</span></b><span
  style='font-size:11.0pt;line-height:101%'>&gt; </span><span style='font-size:
  11.0pt;line-height:101%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:101%'>a_variable </span><span style='font-size:11.0pt;line-height:
  101%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>{#
  a comment #}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>body</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>html</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>The following example shows the
default configuration settings. An application developer can change the syntax
configuration from {% foo %} to &lt;% foo %&gt;, or something similar.</p>

<p class=MsoNormal style='margin-left:-.25pt'>There are a few kinds of
delimiters.   The default Jinja delimiters are configured as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.6pt;
margin-bottom:7.4pt;margin-left:29.25pt;text-align:left;text-indent:-13.1pt;
line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>{% ... %} for <i>Statements</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.6pt;
margin-bottom:7.8pt;margin-left:29.25pt;text-align:left;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>{{ ... }} for
<i>Expressions </i>to print to the template output</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.6pt;
margin-bottom:7.8pt;margin-left:29.25pt;text-align:left;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>{# ... #} for
<i>Comments </i>not included in the template output</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:10.6pt;
margin-bottom:31.65pt;margin-left:29.25pt;text-align:left;text-indent:-13.1pt;
line-height:110%'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span># ... ## for <i>Line Statements</i></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Variables</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>Template variables are defined by the context dictionary
passed to the template.</p>

<p class=MsoNormal style='margin-left:-.25pt'>You can mess around with the
variables in templates provided they are passed in by the application.
Variables may have attributes or elements on them you can access too. What
attributes a variable has depends heavily on the application providing that variable.</p>

<p class=MsoNormal style='margin-left:-.25pt'>You can use a dot (.) to access
attributes of a variable in addition to the standard Python __getitem__ “subscript”
syntax ([]).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:-.25pt'>The following lines do the same thing:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>foo.bar
</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.8pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>foo[</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'bar'</span><span
style='font-size:11.0pt;line-height:105%'>] </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>It’s important to know that the outer double-curly braces
are <i>not </i>part of the variable, but the print statement. If you access
variables inside tags don’t put the braces around them.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If a variable or attribute does
not exist, you will get back an undefined value. What you can do with that kind
of value depends on the application configuration: the default behavior is to
evaluate to an empty string if printed or iterated over, and to fail for every
other operation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 142705"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Implementation</b></p>

<p class=MsoNormal style='margin-left:-.25pt'>For the sake of convenience, foo.bar
in Jinja2 does the following things on the Python layer:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.25pt;text-indent:-13.1pt;line-height:157%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>check for
an attribute called <i>bar </i>on <i>foo </i>(getattr(foo, 'bar')) • if there
is not, check for an item 'bar' in <i>foo </i>(foo.__getitem__('bar'))</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>if there
is not, return an undefined object.</p>

<p class=MsoNormal style='margin-left:-.25pt'>foo['bar'] works mostly the same
with a small difference in sequence:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.6pt;
margin-left:29.25pt;text-indent:-13.1pt;line-height:108%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>check for
an item 'bar' in <i>foo</i>. (foo.__getitem__('bar'))</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>if there
is not, check for an attribute called <i>bar </i>on <i>foo</i>. (getattr(foo,
'bar'))</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>if there is not, return an undefined object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:-.25pt'>This is important if an object has an item and attribute
with the same name. Additionally, the attr() filter only looks up attributes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 142706"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-left:-.25pt'>Filters</h2>

<p class=MsoNormal style='margin-left:-.25pt'>Variables can be modified by <b>filters</b>.
Filters are separated from the variable by a pipe symbol (|) and may have
optional arguments in parentheses. Multiple filters can be chained. The output
of one filter is applied to the next.</p>

<p class=MsoNormal style='margin-left:-.25pt'>For example, {{
name|striptags|title }} will remove all HTML Tags from variable <i>name </i>and
title-case the output (title(striptags(name))).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.85pt;
margin-left:-.25pt'>Filters that accept arguments have parentheses around the
arguments, just like a function call. For example: {{ listx|join(', ') }} will
join a list with commas (str. join(', ', listx)).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.95pt;
margin-left:-.25pt'>The <i>List of Builtin Filters </i>below describes all the
builtin filters.</p>

<h2 style='margin-left:-.25pt'>Tests</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>Beside filters, there are also so-called “tests” available.
Tests can be used to test a variable against a common expression. To test a
variable or expression, you add <i>is </i>plus the name of the test after the
variable. For example, to find out if a variable is defined, you can do name is
defined, which will then return true or false depending on whether <i>name </i>is
defined in the current template context.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Tests can accept arguments, too.
If the test only takes one argument, you can leave out the parentheses. For
example, the following two expressions do the same thing:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%;
color:#333333'>loop</span><span style='font-size:11.0pt;line-height:107%'>.index
</span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
style='font-size:11.0pt;line-height:107%;color:#333333'>divisibleby </span><span
style='font-size:11.0pt;line-height:107%;color:#454545'>3 </span><span
style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.55pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%;
color:#333333'>loop</span><span style='font-size:11.0pt;line-height:107%'>.index
</span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
style='font-size:11.0pt;line-height:107%;color:#333333'>divisibleby</span><span
style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:11.0pt;
line-height:107%;color:#454545'>3</span><span style='font-size:11.0pt;
line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.95pt;
margin-left:-.25pt'>The <i>List of Builtin Tests </i>below describes all the
builtin tests.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Comments</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>To comment-out part of a line in a template, use the
comment syntax which is by default set to {# ... #}. This is useful to comment
out parts of the template for debugging or to add information for other
template designers or yourself:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:105.05pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#ABABAB'>{#
  note: commented-out template because we no longer use this {% for user in
  users %}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:350.5pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>{%
  endfor %} #}</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Whitespace Control</h2>

<p class=MsoNormal style='margin-left:-.25pt'>In the default configuration:</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>a single
trailing newline is stripped if present</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>other
whitespace (spaces, tabs, newlines etc.) is returned unchanged</p>

<p class=MsoNormal style='margin-left:-.25pt'>If an application configures
Jinja to <i>trim_blocks</i>, the first newline after a template tag is removed
automatically (like in PHP). The <i>lstrip_blocks </i>option can also be set to
strip tabs and spaces from the beginning of a line to the start of a block.
(Nothing will be stripped if there are other characters before the start of the
block.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>With both <i>trim_blocks </i>and <i>lstrip_blocks </i>enabled,
you can put block tags on their own lines, and the entire block line will be
removed when rendered, preserving the whitespace of the contents. For example,
without the <i>trim_blocks </i>and <i>lstrip_blocks </i>options, this template:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.6pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if
  True </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>yay</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:334.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>gets rendered with blank lines inside the div:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.6pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>yay</span></p>
  </td>
 </tr>
</table>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>div</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.35pt;
margin-left:-.25pt'>But with both <i>trim_blocks </i>and <i>lstrip_blocks </i>enabled,
the template block lines are removed and other whitespace is preserved:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:195.65pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:43.65pt;text-align:left;text-indent:-43.65pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%'>&lt;</span><b><span style='font-size:11.0pt;line-height:105%;
color:dimgray'>div</span></b><span style='font-size:11.0pt;line-height:105%'>&gt;
yay</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.4pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>div</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.35pt;
margin-left:-.25pt'>You can manually disable the <i>lstrip_blocks </i>behavior
by putting a plus sign (+) at the start of a block:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in'>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:107%'>&lt;</span><b><span style='font-size:11.0pt;line-height:107%;
color:dimgray'>div</span></b><span style='font-size:11.0pt;line-height:107%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>{%+ if
something %}yay</span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.4pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>div</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can also strip whitespace in templates by hand. If you
add a minus sign (-) to the start or end of a block (e.g. a <i>For </i>tag), a
comment, or a variable expression, the whitespaces before or after that block
will be removed:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>item
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>seq -</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>item </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{%</span><span style='font-size:11.0pt;line-height:107%'>- </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>This will yield all elements
without whitespace between them. If <i>seq </i>was a list of numbers from 1 to 9,
the output would be 123456789.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If <i>Line Statements </i>are
enabled, they strip leading whitespace automatically up to the beginning of the
line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.95pt;
margin-left:-.25pt'>By default, Jinja2 also removes trailing newlines. To keep
single trailing newlines, configure Jinja to <i>keep_trailing_newline</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 143842"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:69.95pt;margin-bottom:
3.2pt;margin-left:-.25pt;line-height:149%'>You must not add whitespace between
the tag and the minus sign. <b>valid</b>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.7pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{%</span><span style='font-size:11.0pt;line-height:105%'>- </span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>if </span></b><span
style='font-size:11.0pt;line-height:105%'>foo -</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:105%'>...</span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.55pt;margin-left:.5pt;text-align:left;line-height:104%'><b>invalid</b>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>{% -
if foo - %}...</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{%
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>endif </span></b><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 143843"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Escaping</h2>

<p class=MsoNormal style='margin-left:-.25pt'>It is sometimes desirable – even
necessary – to have Jinja ignore parts it would otherwise handle as variables
or blocks. For example, if, with the default syntax, you want to use {{ as a
raw string in a template and not start a variable, you have to use a trick.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:-.25pt'>The easiest way to output a literal variable delimiter ({{)
is by using a variable expression:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.3pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'{{' </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>For bigger sections, it makes sense to mark a block <i>raw</i>.
For example, to include example Jinja syntax in a template, you can use this
snippet:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.3pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>raw </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;ul&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>{% for item
  in seq %}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;li&gt;{{
  item }}&lt;/li&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>{% endfor
  %}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/ul&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endraw </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Line Statements</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If line statements are enabled by the application, it’s
possible to mark a line as a statement. For example, if the line statement
prefix is configured to #, the following two examples are equivalent:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:155.4pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:155.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'># for
  item in seq</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:377.8pt;
  margin-bottom:13.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'># endfor
  &lt;/</span><b><span style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>seq </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>The
line statement prefix can appear anywhere on the line as long as no text
precedes it. For better readability, statements that start a block (such as <i>for</i>,
<i>if</i>, <i>elif </i>etc.) may end with a colon:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'># for
  item in seq:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>#
  endfor</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 145487"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Line statements can span multiple lines if there are open
parentheses, braces or brackets:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:110.5pt;
  margin-bottom:.25pt;margin-left:130.9pt;text-align:left;text-indent:-130.9pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'># for href,
  caption in [('index.html', 'Index'), ('about.html', 'About')]:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>href </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>caption </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>#
  endfor</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 145489"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Since Jinja 2.2, line-based comments are available as well.
For example, if the linecomment prefix is configured to be ##, everything from ##
to the end of the line is ignored (excluding the newline sign):</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=208 valign=top style='width:155.9pt;border:solid black 1.0pt;
  border-right:none;padding:3.55pt 5.75pt 0in 0in;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:3.2pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'># for item
  in seq:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:16.05pt;
  margin-bottom:0in;margin-left:3.2pt;text-align:left;text-indent:21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt; # endfor</span></p>
  </td>
  <td width=402 style='width:301.75pt;border:solid black 1.0pt;border-left:
  none;padding:3.55pt 5.75pt 0in 0in;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>## this
  comment is ignored</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Template Inheritance</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:-.25pt'>The most powerful part of Jinja is template inheritance.
Template inheritance allows you to build a base “skeleton” template that
contains all the common elements of your site and defines <b>blocks </b>that
child templates can override.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.25pt;
margin-left:-.25pt'>Sounds complicated but is very basic. It’s easiest to
understand it by starting with an example.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.75pt;margin-left:
-.25pt'>Base Template</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>This template, which we’ll call base.html, defines a simple
HTML skeleton document that you might use for a simple two-column page. It’s
the job of “child” templates to fill the empty blocks with content:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:155.4pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:155.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;!DOCTYPE html&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>html </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>lang</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;en&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>head</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>head </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.65pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>link </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>rel</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;stylesheet&quot; </span><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;style.css&quot; </span><span
  style='font-size:11.0pt;line-height:107%'>/&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>title</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{% </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>block </span></b><span
  style='font-size:11.0pt;line-height:107%'>title </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}{% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>- My Webpage&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>title</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.9pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>head</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>body</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:94.1pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>id</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;content&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{% </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>block </span></b><span
  style='font-size:11.0pt;line-height:107%'>content </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}{% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt; &lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>id</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;footer&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  border-top:none;padding:3.55pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>footer </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:1.45pt;
  margin-bottom:1.05pt;margin-left:0in;text-align:center;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#363636'>&amp;copy; </span></b><span style='font-size:11.0pt;
  line-height:107%'>Copyright 2008 by &lt;</span><b><span style='font-size:
  11.0pt;line-height:107%;color:dimgray'>a </span></b><span style='font-size:
  11.0pt;line-height:107%;color:dimgray'>href</span><span style='font-size:
  11.0pt;line-height:107%'>=</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>&quot;http://domain.invalid/&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;you&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>body</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>html</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>In this example, the {% block %} tags define four blocks
that child templates can fill in. All the <i>block </i>tag does is tell the
template engine that a child template may override those placeholders in the
template.</p>

<h3 style='margin-left:-.25pt'>Child Template</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>A child template might look like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:196.05pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.1pt 5.75pt 0in 3.2pt;height:196.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>extends
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;base.html&quot;
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.55pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>title </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span><span
  style='font-size:11.0pt;line-height:107%'>Index</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{% </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endblock </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>block </span></b><span style='font-size:11.0pt;line-height:
  107%'>head </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%;color:#333333'>super</span><span
  style='font-size:11.0pt;line-height:107%'>() </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.8pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>style </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>type</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;text/css&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>.</span><b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>important </span></b><span
  style='font-size:11.0pt;line-height:107%'>{ </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>color</span></b><span
  style='font-size:11.0pt;line-height:107%'>: </span><span style='font-size:
  11.0pt;line-height:107%;color:#454545'>#336699</span><span style='font-size:
  11.0pt;line-height:107%'>; }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>style</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.4pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>content </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>h1</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Index&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>h1</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;important&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:225.05pt;
  margin-bottom:.75pt;margin-left:21.8pt;text-align:left;text-indent:10.9pt;
  line-height:105%'><span style='font-size:11.0pt;line-height:105%'>Welcome to
  my awesome homepage. &lt;/</span><b><span style='font-size:11.0pt;line-height:
  105%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:
  105%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endblock </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>The {% extends %} tag is the key
here. It tells the template engine that this template “extends” another
template. When the template system evaluates this template, it first locates
the parent. The extends tag should be the first tag in the template. Everything
before it is printed out normally and may cause confusion. For details about
this behavior and how to take advantage of it, see <i>Null-Master Fallback</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>The filename of the template depends on the template
loader. For example, the FileSystemLoader allows you to access other templates
by giving the filename. You can access templates in subdirectories with a
slash:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;layout/default.html&quot; </span><span
style='font-size:11.0pt;line-height:110%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>But this behavior can depend on
the application embedding Jinja. Note that since the child template doesn’t
define the footer block, the value from the parent template is used instead.</p>

<p class=MsoNormal style='margin-left:-.25pt'>You can’t define multiple {%
block %} tags with the same name in the same template. This limitation exists
because a block tag works in “both” directions. That is, a block tag doesn’t
just provide a placeholder to fill - it also defines the content that fills the
placeholder in the <i>parent</i>. If there were two similarly-named {% block %}
tags in a template, that template’s parent wouldn’t know which one of the
blocks’ content to use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.2pt;
margin-left:-.25pt'>If you want to print a block multiple times, you can,
however, use the special <i>self </i>variable and call the block with that
name:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>title</span></b><span
style='font-size:11.0pt;line-height:108%'>&gt;</span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>block </span></b><span style='font-size:
11.0pt;line-height:108%'>title </span><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;line-height:
108%;color:#B80000'>endblock </span></b><span style='font-size:11.0pt;
line-height:108%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:108%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
108%;color:dimgray'>title</span></b><span style='font-size:11.0pt;line-height:
108%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>h1</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>self.title() </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>h1</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:35.5pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>block </span></b><span style='font-size:11.0pt;line-height:108%'>body
</span><span style='font-size:11.0pt;line-height:108%;color:#B01414'>%}{% </span><b><span
style='font-size:11.0pt;line-height:108%;color:#B80000'>endblock </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<h3 style='margin-left:-.25pt'>Super Blocks</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>It’s possible to render the contents of the parent block by
calling <i>super</i>. This gives back the results of the parent block:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.1pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>sidebar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:268.7pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:101%;color:dimgray'>h3</span></b><span
  style='font-size:11.0pt;line-height:101%'>&gt;Table Of Contents&lt;/</span><b><span
  style='font-size:11.0pt;line-height:101%;color:dimgray'>h3</span></b><span
  style='font-size:11.0pt;line-height:101%'>&gt; ...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%;color:#333333'>super</span><span
  style='font-size:11.0pt;line-height:107%'>() </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endblock </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>Named Block End-Tags</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Jinja2 allows you to put the name of the block after the
end tag for better readability:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.1pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>sidebar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:274.15pt;
  margin-bottom:0in;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>block
  </span></b><span style='font-size:11.0pt;line-height:107%'>inner_sidebar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:263.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock
  </span></b><span style='font-size:11.0pt;line-height:107%'>inner_sidebar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} {% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endblock </span></b><span
  style='font-size:11.0pt;line-height:107%'>sidebar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'>However, the name after the <i>endblock </i>word must match
the block name.</p>

<h3 style='margin-left:-.25pt'>Block Nesting and Scope</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:-.25pt'>Blocks can be nested for more complex layouts. However, per
default blocks may not access variables from outer scopes:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>item
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>seq </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>block </span></b><span style='font-size:
11.0pt;line-height:105%'>loop_item </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%}{{ </span><span style='font-size:11.0pt;
line-height:105%'>item </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>}}{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>endblock </span></b><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>%}</span><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.65pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This example would output empty &lt;li&gt;
items because <i>item </i>is unavailable inside the block. The reason for this
is that if the block is replaced by a child template, a variable would appear
that was not defined in the block or passed to the context.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>Starting with Jinja 2.2, you can explicitly specify that
variables are available in a block by setting the block to “scoped” by adding
the <i>scoped </i>modifier to a block declaration:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>item
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>seq </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:108%'>&gt;</span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>block </span></b><span style='font-size:
11.0pt;line-height:108%'>loop_item </span><b><span style='font-size:11.0pt;
line-height:108%;color:#B80000'>scoped </span></b><span style='font-size:11.0pt;
line-height:108%;color:#B01414'>%}{{ </span><span style='font-size:11.0pt;
line-height:108%'>item </span><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>}}{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endblock </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span><span style='font-size:11.0pt;line-height:108%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:108%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.5pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'>When overriding a block, the <i>scoped </i>modifier does
not have to be provided.</p>

<h3 style='margin-left:-.25pt'>Template Objects</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>Changed in version 2.4.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.6pt;
margin-left:-.25pt'>If a template object was passed in the template context,
you can extend from that object as well. Assuming the calling code passes a
layout template as <i>layout_template </i>to the environment, this code works:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
105%'>layout_template </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Previously, the <i>layout_template </i>variable had to be a
string with the layout template’s filename for this to work.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>HTML Escaping</h2>

<p class=MsoNormal style='margin-left:-.25pt'>When generating HTML from
templates, there’s always a risk that a variable will include characters that
affect the resulting HTML. There are two approaches:</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-14.8pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>manually
escaping each variable; or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.25pt;text-indent:-14.8pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>automatically escaping everything by default.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja supports both. What is used
depends on the application configuration. The default configuration is no
automatic escaping; for various reasons:</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Escaping
everything except for safe values will also mean that Jinja is escaping
variables known to not include HTML (e.g. numbers, booleans) which can be a
huge performance hit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>The information about the safety of a variable is very fragile. It could
happen that by coercing safe and unsafe values, the return value is
double-escaped HTML.</p>

<h3 style='margin-left:-.25pt'>Working with Manual Escaping</h3>

<p class=MsoNormal style='margin-left:-.25pt'>If manual escaping is enabled,
it’s <b>your </b>responsibility to escape variables if needed. What to escape?
If you have a variable that <i>may </i>include any of the following chars (&gt;,
&lt;, &amp;, or &quot;) you <b>SHOULD </b>escape it unless the variable
contains well-formed and trusted HTML. Escaping works by piping the variable
through the |e filter:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:35.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>user.username|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>e </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<h3 style='margin-left:-.25pt'>Working with Automatic Escaping</h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.85pt;margin-left:-.25pt;text-align:left;line-height:103%'>When
automatic escaping is enabled, everything is escaped by default except for
values explicitly marked as safe. Variables and expressions can be marked as
safe either in:</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-14.8pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>the context
dictionary by the application with <i>MarkupSafe.Markup</i>, or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:29.25pt;text-indent:-14.8pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>the template, with the <i>|safe </i>filter</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The main problem with this approach is that Python itself
doesn’t have the concept of tainted values; so whether a value is safe or
unsafe can get lost.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If a value is not marked safe,
auto-escaping will take place; which means that you could end up with
double-escaped contents. Double-escaping is easy to avoid, however: just rely
on the tools Jinja2 provides and <i>don’t use builtin Python constructs such as
str.format or the string modulo operator (%)</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>Jinja2 functions (macros, <i>super</i>, <i>self.BLOCKNAME</i>)
always return template data that is marked as safe.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.35pt;
margin-left:-.25pt'>String literals in templates with automatic escaping are
considered unsafe because native Python strings (str, unicode, basestring) are
not <i>MarkupSafe.Markup </i>strings with an __html__ attribute.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>List of Control Structures</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.95pt;
margin-left:-.25pt'>A control structure refers to all those things that control
the flow of a program - conditionals (i.e. if/elif/else), for-loops, as well as
things like macros and blocks. With the default syntax, control structures
appear inside {% ... %} blocks.</p>

<h3 style='margin-left:-.25pt'>For</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>Loop over each item in a sequence. For example, to display
a list of users provided in a variable called <i>users</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>h1</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;Members&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>h1</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>user
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>users </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>user.username|</span><span style='font-size:11.0pt;
line-height:105%;color:#333333'>e </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span><span style='font-size:11.0pt;
line-height:105%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
105%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>As variables in templates retain
their object properties, it is possible to iterate over containers like <i>dict</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>key, value </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>my_dict.iteritems() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>key|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>e </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>value|</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>e </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:-.25pt'>Note, however, that <b>Python dicts are not ordered</b>; so
you might want to either pass a sorted list of tuple s – or a collections.OrderedDict
– to the template, or use the <i>dictsort </i>filter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Inside of a for-loop block, you can access some special
variables:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=601
 style='width:450.85pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Variable</p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border:solid black 1.0pt;
  border-left:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Description</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.index</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The current iteration of the loop. (1 indexed)</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.index0</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The current iteration of the loop. (0 indexed)</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.revindex</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The number of iterations from the end of the loop (1
  indexed)</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.revindex0</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The number of iterations from the end of the loop (0
  indexed)</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.first</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>True if first iteration.</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.last</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>True if last iteration.</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.length</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The number of items in the sequence.</p>
  </td>
 </tr>
 <tr style='height:29.3pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.cycle</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>A helper function to cycle between a list of sequences. See
  the explanation below.</p>
  </td>
 </tr>
 <tr style='height:29.3pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.depth</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Indicates how deep in a recursive loop the rendering
  currently is. Starts at level 1</p>
  </td>
 </tr>
 <tr style='height:29.3pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.depth0</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Indicates how deep in a recursive loop the rendering
  currently is. Starts at level 0</p>
  </td>
 </tr>
 <tr style='height:29.3pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.previtem</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The item from the previous iteration of the loop. Undefined
  during the first iteration.</p>
  </td>
 </tr>
 <tr style='height:29.3pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.nextitem</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:29.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:5.45pt;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>The item from the following iteration of the loop.
  Undefined during the last iteration.</p>
  </td>
 </tr>
 <tr style='height:14.85pt'>
  <td width=111 valign=top style='width:83.3pt;border:solid black 1.0pt;
  border-top:none;padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>loop.changed(*v</i></p>
  </td>
  <td width=490 valign=top style='width:367.6pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:1.6pt .2pt 0in 0in;height:14.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-.2pt;text-align:left;text-indent:0in;
  line-height:107%'><i>al)</i>True if previously called with a different value
  (or not called at all).</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Within a for-loop, it’s possible to cycle among a list of
strings/variables each time through the loop by using the special <i>loop.cycle
</i>helper:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.1pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>row </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>rows </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>loop</span><span style='font-size:11.0pt;
  line-height:107%'>.cycle(</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'odd'</span><span style='font-size:11.0pt;line-height:
  107%'>, </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'even'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>&gt;</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>row </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Since Jinja 2.1, an extra <i>cycle </i>helper exists that
allows loop-unbound cycling. For more information, have a look at the <i>List
of Global Functions</i>. Unlike in Python, it’s not possible to <i>break </i>or
<i>continue </i>in a loop. You can, however, filter the sequence during
iteration, which allows you to skip items. The following example skips all the
users which are hidden:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.1pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>user </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>if not </span></b><span
  style='font-size:11.0pt;line-height:107%'>user.hidden </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The advantage is that the special <i>loop </i>variable will
count correctly; thus not counting the users not iterated over.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If no iteration took place because the sequence was empty
or the filtering removed all the items from the sequence, you can render a
default block by using <i>else</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>user </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>else </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>em</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;no users found&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>em</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>Note that, in Python, <i>else </i>blocks are executed
whenever the corresponding loop <b>did not </b><i>break</i>. Since Jinja loops
cannot <i>break </i>anyway, a slightly different behavior of the <i>else </i>keyword
was chosen.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:-.25pt'>It is also possible to use loops recursively. This is
useful if you are dealing with recursive data such as sitemaps or RDFa. To use
loops recursively, you basically have to add the <i>recursive </i>modifier to
the loop definition and call the <i>loop </i>variable with the new iterable
where you want to recurse.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The following example implements a sitemap with recursive
loops:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;sitemap&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>item </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>sitemap </span><b><span style='font-size:11.0pt;line-height:
  107%;color:#B80000'>recursive </span></b><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item.href|</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>e </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>item.title </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>if </span></b><span style='font-size:
  11.0pt;line-height:107%'>item.children -</span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.7pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;submenu&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>loop</span><span style='font-size:11.0pt;
  line-height:107%'>(item.children) </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>ul</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endif </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:-.25pt'>The <i>loop </i>variable always refers to the closest
(innermost) loop. If we have more than one level of loops, we can rebind the
variable <i>loop </i>by writing <i>{% set outer_loop = loop %} </i>after the
loop that we want to use recursively. Then, we can call it using <i>{{
outer_loop(...)</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:5.6pt;margin-left:-.25pt;text-align:left;line-height:110%'><i>}}</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>Please note that assignments in loops will be cleared at
the end of the iteration and cannot outlive the loop scope. Older versions of
Jinja2 had a bug where in some circumstances it appeared that assignments would
work. This is not supported. See <i>Assignments </i>for more information about
how to deal with this.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If all you want to do is check whether some value has
changed since the last iteration or will change in the next iteration, you can
use <i>previtem </i>and <i>nextitem</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.8pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>value </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>values </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:88.55pt;
  margin-bottom:.25pt;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.previtem </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>defined </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>and </span></b><span
  style='font-size:11.0pt;line-height:107%'>value &gt; </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.previtem </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>The value just increased!</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>value </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  </td>
 </tr>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  border-top:none;padding:3.8pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:88.55pt;
  margin-bottom:.25pt;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.nextitem </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>defined </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>and </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.nextitem &gt; value </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>The value will increase even more!</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you only care whether the value changed at all, using <i>changed
</i>is even easier:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.0pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>entry
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>entries </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.changed(entry.category) </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>h2</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>entry.category </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>h2</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>entry.message </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>If</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The <i>if </i>statement in Jinja is comparable with the
Python if statement. In the simplest form, you can use it to test if a variable
is defined, not empty and not false:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.9pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>user </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>For multiple branches, <i>elif </i>and <i>else </i>can be
used like in Python. You can use more complex <i>Expressions </i>there, too:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.8pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:317.65pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>kenny.sick </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>Kenny is sick.</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>elif </span></b><span style='font-size:11.0pt;line-height:
  107%'>kenny.dead </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>You killed
  Kenny! You bastard!!!</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>else </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Kenny looks
  okay --- so far</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>If can also be used as an <i>inline expression </i>and for <i>loop
filtering</i>.</p>

<h3 style='margin-left:-.25pt'>Macros</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Macros are comparable with functions in regular programming
languages. They are useful to put often used idioms into reusable functions to
not repeat yourself (“DRY”).</p>

<p class=MsoNormal style='margin-left:-.25pt'>Here’s a small example of a macro
that renders a form element:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.7pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>macro
  </span></b><span style='font-size:11.0pt;line-height:107%'>input(name, value=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>''</span><span
  style='font-size:11.0pt;line-height:107%'>, type=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'text'</span><span
  style='font-size:11.0pt;line-height:107%'>, size=</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>20</span><span
  style='font-size:11.0pt;line-height:107%'>) -</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:105.05pt;
  margin-bottom:1.05pt;margin-left:43.6pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>input </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>type</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>type </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot; </span><span style='font-size:11.0pt;line-height:107%;
  color:dimgray'>name</span><span style='font-size:11.0pt;line-height:107%'>=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>name </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>&quot; </span><span style='font-size:11.0pt;
  line-height:107%;color:dimgray'>value</span><span style='font-size:11.0pt;
  line-height:107%'>=</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>value|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>e </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot; </span><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>size</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>size </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{%</span><span style='font-size:11.0pt;line-height:107%'>- </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endmacro </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>The macro can then be called like a function in the
namespace:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>input(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'username'</span><span style='font-size:11.0pt;line-height:105%'>)
</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.45pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:110%'>&gt;</span><span style='font-size:
11.0pt;line-height:110%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:110%'>input(</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'password'</span><span style='font-size:11.0pt;line-height:110%'>,
type=</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'password'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span><span style='font-size:11.0pt;
line-height:110%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
110%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:110%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>If the macro was defined in a different template, you have
to <i>import </i>it first.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Inside macros, you have access to
three special variables:</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b><i>varargs
</i></b>If more positional arguments are passed to the macro than accepted by
the macro, they end up in the special <i>varargs </i>variable as a list of
values.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b><i>kwargs
</i></b>Like <i>varargs </i>but for keyword arguments. All unconsumed keyword
arguments are stored in this special variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:28.5pt;text-indent:-29.25pt'><b><i>caller </i></b>If the macro was
called from a <i>call </i>tag, the caller is stored in this variable as a
callable macro.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Macros also expose some of their
internal details. The following attributes are available on a macro object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:64.5pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:158%'><b><i>name
</i></b>The name of the macro. {{ input.name }} will print input. <b><i>arguments
</i></b>A tuple of the names of arguments the macro accepts. <b><i>defaults </i></b>A
tuple of default values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:-.25pt;line-height:124%'><b><i>catch_kwargs </i></b>This is <i>true
</i>if the macro accepts extra keyword arguments (i.e.: accesses the special <i>kwargs
</i>variable). <b><i>catch_varargs </i></b>This is <i>true </i>if the macro
accepts extra positional arguments (i.e.: accesses the special <i>varargs </i>variable).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:28.5pt;text-indent:-29.25pt'><b><i>caller </i></b>This is <i>true </i>if
the macro accesses the special <i>caller </i>variable and may be called from a <i>call
</i>tag.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.6pt;
margin-left:-.25pt'>If a macro name starts with an underscore, it’s not
exported and can’t be imported.</p>

<h3 style='margin-left:-.25pt'>Call</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>In some cases it can be useful to pass a macro to another
macro. For this purpose, you can use the special <i>call </i>block. The
following example shows a macro that takes advantage of the call functionality
and how it can be used:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>macro
  </span></b><span style='font-size:11.0pt;line-height:107%'>render_dialog(title,
  class=</span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'dialog'</span><span
  style='font-size:11.0pt;line-height:107%'>) -</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>class </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>h2</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>title </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>h2</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;contents&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
 <tr style='height:128.3pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  border-top:none;padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:65.45pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>caller() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endmacro </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>call </span></b><span style='font-size:11.0pt;line-height:
  107%'>render_dialog(</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'Hello World'</span><span style='font-size:11.0pt;line-height:
  107%'>) </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:132.35pt;
  margin-bottom:1.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%'>This is a
  simple dialog rendered by using a macro and a call block.</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endcall </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>It’s also possible to pass arguments back to the call
block. This makes it useful as a replacement for loops. Generally speaking, a
call block works exactly like a macro without a name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Here’s an example of how a call block can be used with
arguments:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:223.15pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:223.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>macro
  </span></b><span style='font-size:11.0pt;line-height:107%'>dump_users(users)
  -</span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>user </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>users </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>caller(user) </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endmacro </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>call</span></b><span
  style='font-size:11.0pt;line-height:107%'>(user) dump_users(list_of_user) </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Realname&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.realname|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>dd</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Description&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:208.7pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:21.8pt;
  line-height:112%'><span style='font-size:11.0pt;line-height:112%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:112%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:112%'>&gt;</span><span style='font-size:
  11.0pt;line-height:112%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:112%'>user.description </span><span style='font-size:11.0pt;
  line-height:112%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:112%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  112%;color:dimgray'>dd</span></b><span style='font-size:11.0pt;line-height:
  112%'>&gt; &lt;/</span><b><span style='font-size:11.0pt;line-height:112%;
  color:dimgray'>dl</span></b><span style='font-size:11.0pt;line-height:112%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endcall </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>Filters</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Filter sections allow you to apply regular Jinja2 filters
on a block of template data. Just wrap the code in the special <i>filter </i>section:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.25pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>filter </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>upper </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.4pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>This text
  becomes uppercase</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfilter </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>Assignments</h3>

<p class=MsoNormal style='margin-left:-.25pt'>Inside code blocks, you can also
assign values to variables. Assignments at top level (outside of blocks, macros
or loops) are exported from the template like top level macros and can be
imported by other templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>Assignments use the <i>set </i>tag and can have multiple
targets:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:42.2pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.75pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>navigation
= [(</span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'index.html'</span><span
style='font-size:11.0pt;line-height:105%'>, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'Index'</span><span style='font-size:11.0pt;
line-height:105%'>), (</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'about.html'</span><span style='font-size:11.0pt;line-height:
105%'>, </span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'About'</span><span
style='font-size:11.0pt;line-height:105%'>)] </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%} {% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>set </span></b><span style='font-size:
11.0pt;line-height:105%'>key, value = call_something() </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 153668"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Scoping
Behavior</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Please keep in mind that it is not possible to set
variables inside a block and have them show up outside of it. This also applies
to loops. The only exception to that rule are if statements which do not
introduce a scope. As a result the following template is not going to do what
you might expect:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.2pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>iterated = </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>false </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>item
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>seq </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>item </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>iterated = </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>true </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if not </span></b><span style='font-size:11.0pt;line-height:
  107%'>iterated </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:107%'>did
  not iterate </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>It is not possible with Jinja syntax to do this. Instead
use alternative constructs like the loop else block or the special <i>loop </i>variable:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>item
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>seq </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>item </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>else </span></b><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:105%'>did not iterate</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>As of version 2.10 more complex use cases can be handled
using namespace objects which allow propagating of changes across scopes:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.95pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.4pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>ns = namespace(found=</span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>false</span></b><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>item
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>items </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>item.check_something() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>ns.found = </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>true </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>* </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>item.title </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Found
  item having something: </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>ns.found
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>Note hat the obj.attr notation in the <i>set </i>tag is
only allowed for namespace objects; attempting to assign an attribute on any
other object will raise an exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>New in version 2.10: Added support for namespace objects</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:37.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 153669"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:304.45pt;margin-bottom:
7.8pt;margin-left:-.25pt;line-height:201%'><span style='font-size:14.5pt;
line-height:201%'>Block Assignments </span>New in version 2.8.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.7pt;
margin-left:-.25pt'>Starting with Jinja 2.8, it’s possible to also use block
assignments to capture the contents of a block into a variable name. This can
be useful in some situations as an alternative for macros. In that case,
instead of using an equals sign and a value, you just write the variable name
and then everything until {% endset %} is captured.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Example:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>navigation </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;/&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;Index&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;/downloads&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;Downloads&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endset </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'>The <i>navigation </i>variable then contains the navigation
HTML source.</p>

<h3 style='margin-left:-.25pt'>Extends</h3>

<p class=MsoNormal style='margin-left:-.25pt'>The <i>extends </i>tag can be
used to extend one template from another. You can have multiple <i>extends </i>tags
in a file, but only one of them may be executed at a time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>See the section about <i>Template Inheritance </i>above.</p>

<h3 style='margin-left:-.25pt'>Blocks</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>Blocks are used for inheritance and act as both
placeholders and replacements at the same time. They are documented in detail
in the <i>Template Inheritance </i>section.</p>

<h3 style='margin-left:-.25pt'>Include</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:-.25pt'>The <i>include </i>statement is useful to include a
template and return the rendered contents of that file into the current
namespace:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:141.1pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:110%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:110%;color:#B80000'>include </span></b><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'header.html' </span><span style='font-size:
11.0pt;line-height:110%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:110%'>Body</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'footer.html' </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Included templates have access to
the variables of the active context by default. For more details about context
behavior of imports and includes, see <i>Import Context Behavior</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.05pt;
margin-left:-.25pt'>From Jinja 2.2 onwards, you can mark an include with ignore
missing; in which case Jinja will ignore the statement if the template to be
included does not exist. When combined with with or without context, it must be
placed <i>before </i>the context visibility statement. Here are some valid
examples:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
108%;color:#AB8A1C'>&quot;sidebar.html&quot; </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>ignore missing </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
108%;color:#AB8A1C'>&quot;sidebar.html&quot; </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>ignore missing with context </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
108%;color:#AB8A1C'>&quot;sidebar.html&quot; </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>ignore missing without context </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>You can also provide a list of templates that are checked
for existence before inclusion. The first template that exists will be
included. If <i>ignore missing </i>is given, it will fall back to rendering
nothing if none of the templates exist, otherwise it will raise an exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>Example:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
110%'>[</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'page_detailed.html'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'page.html'</span><span style='font-size:11.0pt;
line-height:110%'>] </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
110%'>[</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'special_sidebar.html'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'sidebar.html'</span><span style='font-size:
11.0pt;line-height:110%'>] </span><b><span style='font-size:11.0pt;line-height:
110%;color:#B80000'>ignore missing </span></b><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>Changed in version 2.4: If a template object was passed to
the template context, you can include that object using <i>include</i>.</p>

<h3 style='margin-left:-.25pt'>Import</h3>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja2 supports putting often
used code into macros. These macros can go into different templates and get
imported from there. This works similarly to the import statements in Python.
It’s important to know that imports are cached and imported templates don’t
have access to the current template variables, just the globals by default. For
more details about context behavior of imports and includes, see <i>Import
Context Behavior</i>.</p>

<p class=MsoNormal style='margin-left:-.25pt'>There are two ways to import
templates. You can import a complete template into a variable or request
specific macros / exported variables from it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Imagine we have a helper module that renders forms (called <i>forms.html</i>):</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>macro
  </span></b><span style='font-size:11.0pt;line-height:107%'>input(name, value=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>''</span><span
  style='font-size:11.0pt;line-height:107%'>, type=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'text'</span><span
  style='font-size:11.0pt;line-height:107%'>) -</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>input </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>type</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>type </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot; </span><span style='font-size:11.0pt;line-height:107%;
  color:dimgray'>value</span><span style='font-size:11.0pt;line-height:107%'>=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>value|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>e </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot; </span><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>name</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>name </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endmacro </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>macro </span></b><span
  style='font-size:11.0pt;line-height:107%'>textarea(name, value=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>''</span><span
  style='font-size:11.0pt;line-height:107%'>, rows=</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>10</span><span
  style='font-size:11.0pt;line-height:107%'>, cols=</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>40</span><span
  style='font-size:11.0pt;line-height:107%'>) -</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>textarea </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>name</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>name </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot; </span><span style='font-size:11.0pt;line-height:107%;
  color:dimgray'>rows</span><span style='font-size:11.0pt;line-height:107%'>=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>rows </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>&quot; </span><span style='font-size:11.0pt;
  line-height:107%;color:dimgray'>cols</span><span style='font-size:11.0pt;
  line-height:107%'>=</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>cols</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:236.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:43.65pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>value|</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>e </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>textarea</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt; </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{%</span><span style='font-size:11.0pt;
  line-height:107%'>- </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endmacro </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The easiest and most flexible way to access a template’s
variables and macros is to import the whole template module into a variable.
That way, you can access the attributes:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>import
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'forms.html'
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>as </span></b><span
  style='font-size:11.0pt;line-height:107%'>forms </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Username&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>forms.input(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'username'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Password&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>forms.input(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'password'</span><span style='font-size:11.0pt;
  line-height:107%'>, type=</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'password'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>forms.textarea(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'comment'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Alternatively, you can import specific names from a
template into the current namespace:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.95pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>from </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'forms.html' </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>import </span></b><span
  style='font-size:11.0pt;line-height:107%'>input </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>as </span></b><span
  style='font-size:11.0pt;line-height:107%'>input_field, textarea </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Username&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>input_field(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'username'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;Password&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dt</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>input_field(</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>'password'</span><span style='font-size:11.0pt;
  line-height:107%'>, type=</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'password'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dd</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>dl</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>textarea(</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'comment'</span><span style='font-size:11.0pt;line-height:
  107%'>) </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>p</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Macros and variables starting with one or more underscores
are private and cannot be imported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Changed in version 2.4: If a template object was passed to
the template context, you can import from that object.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Import Context Behavior</h2>

<p class=MsoNormal style='margin-left:-.25pt'>By default, included templates
are passed the current context and imported templates are not. The reason for
this is that imports, unlike includes, are cached; as imports are often used
just as a module that holds macros.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>This behavior can be changed explicitly: by adding <i>with
context </i>or <i>without context </i>to the import/include directive, the
current context can be passed to the template and caching is disabled
automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.85pt;
margin-left:-.25pt'>Here are two examples:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>from </span></b><span style='font-size:11.0pt;line-height:108%;
color:#AB8A1C'>'forms.html' </span><b><span style='font-size:11.0pt;line-height:
108%;color:#B80000'>import </span></b><span style='font-size:11.0pt;line-height:
108%'>input </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>with context </span></b><span style='font-size:11.0pt;
line-height:108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.45pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
108%;color:#AB8A1C'>'header.html' </span><b><span style='font-size:11.0pt;
line-height:108%;color:#B80000'>without context </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 154292"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:-.25pt'>In Jinja 2.0, the context that was passed to the included
template did not include variables defined in the template. As a matter of
fact, this did not work:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>box
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>boxes </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>include </span></b><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;render_box.html&quot; </span><span style='font-size:
11.0pt;line-height:110%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.4pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.25pt;
margin-left:-.25pt'>The included template render_box.html is <i>not </i>able to
access <i>box </i>in Jinja 2.0. As of Jinja 2.1, render_box.html <i>is </i>able
to do so.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 154294"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-left:-.25pt'>Expressions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.7pt;
margin-left:-.25pt'>Jinja allows basic expressions everywhere. These work very
similarly to regular Python; even if you’re not working with Python you should
feel comfortable with it.</p>

<h3 style='margin-left:-.25pt'>Literals</h3>

<p class=MsoNormal style='margin-left:-.25pt'>The simplest form of expressions
are literals. Literals are representations for Python objects such as strings
and numbers. The following literals exist:</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>“Hello
World”: </b>Everything between two double or single quotes is a string. They
are useful whenever you need a string in the template (e.g. as arguments to
function calls and filters, or just to extend or include a template).</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>42 /
42.23: </b>Integers and floating point numbers are created by just writing the
number down. If a dot is present, the number is a float, otherwise an integer.
Keep in mind that, in Python, 42 and 42.0 are different (int and float,
respectively).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>[’list’, ‘of’, ‘objects’]: </b>Everything
between two brackets is a list. Lists are useful for storing sequential data to
be iterated over. For example, you can easily create a list of links using
lists and tuples for (and with) a for loop:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:87.65pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:87.65pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>href,
  caption </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in
  </span></b><span style='font-size:11.0pt;line-height:107%'>[(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'index.html'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'Index'</span><span style='font-size:
  11.0pt;line-height:107%'>), (</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'about.html'</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>'About'</span><span style='font-size:11.0pt;line-height:107%'>),</span></p>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:44.2pt;text-align:center;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'downloads.html'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'Downloads'</span><span
  style='font-size:11.0pt;line-height:107%'>)] </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>href </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>caption </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>(‘tuple’,
‘of’, ‘values’): </b>Tuples are like lists that cannot be modified
(“immutable”). If a tuple only has one item, it must be followed by a comma (('1-tuple',)).
Tuples are usually used to represent items of two or more elements. See the
list example above for more details.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>{‘dict’:
‘of’, ‘key’: ‘and’, ‘value’: ‘pairs’}: </b>A dict in Python is a structure that
combines keys and values. Keys must be unique and always have exactly one
value. Dicts are rarely used in templates; they are useful in some rare cases
such as the xmlattr() filter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.8pt;
margin-left:-.25pt'><b>true / false: </b>true is always true and false is
always false.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 147216"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>The special constants <i>true</i>, <i>false</i>, and <i>none
</i>are indeed lowercase. Because that caused confusion in the past, (<i>True </i>used
to expand to an undefined variable that was considered false), all three can
now also be written in title case (<i>True</i>, <i>False</i>, and <i>None</i>).
However, for consistency, (all Jinja identifiers are lowercase) you should use
the lowercase versions.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 147217"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h3 style='margin-left:-.25pt'>Math</h3>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja allows you to calculate
with values. This is rarely useful in templates but exists for completeness’
sake. The following operators are supported:</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>+ </b>Adds
two objects together. Usually the objects are numbers, but if both are strings
or lists, you can concatenate them this way. This, however, is not the
preferred way to concatenate strings! For string concatenation, have a look-see
at the ~ operator. {{ 1 + 1 }} is 2.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>- </b>Subtract the second
number from the first one. {{ 3 - 2 }} is 1.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>/ </b>Divide
two numbers. The return value will be a floating point number. {{ 1 / 2 }} is {{
0.5 }}. (Just like from __future__ import division.)</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>// </b>Divide two numbers and
return the truncated integer result. {{ 20 // 7 }} is 2.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>% </b>Calculate the remainder
of an integer division. {{ 11 % 7 }} is 4.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>* </b>Multiply
the left operand with the right one. {{ 2 * 2 }} would return 4. This can also
be used to repeat a string multiple times. {{ '=' * 80 }} would print a bar of
80 equal signs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'><b>** </b>Raise the left operand to the power of the right
operand. {{ 2**3 }} would return</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.9pt;margin-left:29.75pt;text-align:left;line-height:108%'>8.</p>

<h3 style='margin-left:-.25pt'>Comparisons</h3>

<p class=MsoNormal style='margin-left:-.25pt'><b>== </b>Compares two objects
for equality.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>!= </b>Compares two objects
for inequality.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>&gt; </b><i>true </i>if the
left hand side is greater than the right hand side.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>&gt;= </b><i>true </i>if the
left hand side is greater or equal to the right hand side.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>&lt; </b><i>true </i>if the
left hand side is lower than the right hand side.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'><b>&lt;= </b><i>true </i>if the left hand side is lower or
equal to the right hand side.</p>

<h3 style='margin-left:-.25pt'>Logic</h3>

<p class=MsoNormal style='margin-left:-.25pt'>For <i>if </i>statements, <i>for </i>filtering,
and <i>if </i>expressions, it can be useful to combine multiple expressions:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:137.85pt;margin-bottom:
0in;margin-left:-.25pt;line-height:156%'><b>and </b>Return true if the left and
the right operand are true. <b>or </b>Return true if the left or the right
operand are true.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>not </b>negate a statement
(see below).</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>(expr) </b>group an
expression.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 148249"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:-.25pt'>The is and in operators support negation using an infix
notation, too: foo is not bar and foo not in bar instead of not foo is bar and not
foo in bar. All other expressions require a prefix notation: not (foo and bar).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:37.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 148252"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h3 style='margin-left:-.25pt'>Other Operators</h3>

<p class=MsoNormal style='margin-left:-.25pt'>The following operators are very
useful but don’t fit into any of the other two categories:</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>in </b>Perform
a sequence / mapping containment test. Returns true if the left operand is
contained in the right. {{ 1 in [1, 2, 3] }} would, for example, return true.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>is </b>Performs a <i>test</i>.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>| </b>Applies a <i>filter</i>.</p>

<p class=MsoNormal style='margin-left:-.25pt'><b>~ </b>Converts all operands
into strings and concatenates them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.25pt;margin-left:29.75pt;text-align:left;line-height:108%'>{{
&quot;Hello &quot; ~ name ~ &quot;!&quot; }} would return (assuming <i>name </i>is
set to 'John') Hello John!.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>() </b>Call a callable: {{
post.render() }}. Inside of the parentheses you can use positional arguments
and keyword arguments like in Python:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.3pt;margin-left:29.75pt;text-align:left;line-height:108%'>{{
post.render(user, full=true) }}.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'><b>. / [] </b>Get an attribute of an object. (See <i>Variables</i>)</p>

<h3 style='margin-left:-.25pt'>If Expression</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;
margin-left:-.25pt'>It is also possible to use inline <i>if </i>expressions.
These are useful in some situations. For example, you can use this to extend
from one template if a variable is defined, otherwise from the default layout
template:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
105%'>layout_template </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:105%'>layout_template
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>is </span></b><span
style='font-size:11.0pt;line-height:105%;color:#333333'>defined </span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>else </span></b><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'master.html' </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>The
general syntax is &lt;do something&gt; if &lt;something is true&gt; else &lt;do
something else&gt;.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>The <i>else </i>part is optional. If not provided, the else
block implicitly evaluates into an undefined object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>..
sourcecode:: jinja</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>{{ ‘[%s]’ % page.title if
page.title }}</p>

<h2 style='margin-left:-.25pt'>List of Builtin Filters</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>abs</b>(<i>number</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return the absolute value of the
argument.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>attr</b>(<i>obj</i>,
<i>name</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Get an attribute of an object. foo|attr(&quot;bar&quot;)
works like foo.bar just that always an attribute is returned and items are not
looked up.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:7.1pt;margin-left:29.75pt;text-align:left;line-height:110%'>See <i>Notes
on subscriptions </i>for more details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>batch</b>(<i>value</i>,
<i>linecount</i>, <i>fill_with=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>A filter that batches items. It works pretty much like <i>slice
</i>just the other way round. It returns a list of lists with the given number
of items. If you provide a second parameter this is used to fill up missing
items. See this example:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.8pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>table</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>row </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>items|</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>batch</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#454545'>3</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'&amp;nbsp;'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>tr</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>column </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>row </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>td</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>column </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>td</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>tr</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>table</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>capitalize</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Capitalize a value. The first
character will be uppercase, all others lowercase.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>center</b>(<i>value</i>,
<i>width=80</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Centers the value in a field of
a given width.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>default</b>(<i>value</i>,
<i>default_value=u’‘</i>, <i>boolean=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>If the value is undefined it will return the passed
default value, otherwise the value of the variable:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.45pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>my_variable|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>default</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'my_variable is not defined'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:29.75pt'>This will output the value of my_variable if the variable
was defined, otherwise 'my_variable is not defined'. If you want to use default
with variables that evaluate to false you have to set the second parameter to <i>true</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:23.75pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>''</span><span style='font-size:11.0pt;line-height:110%'>|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>default</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'the string was empty'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><b><span style='font-size:
11.0pt;line-height:110%;color:#B80000'>true</span></b><span style='font-size:
11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;line-height:
110%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Aliases
</b>d</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>dictsort</b>(<i>value</i>,
<i>case_sensitive=False</i>, <i>by=’key’</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Sort a dict and yield (key,
value) pairs. Because python dicts are unsorted you may want to use this
function to order them by either key or value:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:190.35pt;
  margin-bottom:13.3pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>mydict|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>dictsort </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>sort the dict by key, case
  insensitive</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:184.9pt;
  margin-bottom:13.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>mydict|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>dictsort</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>true</span></b><span style='font-size:
  11.0pt;line-height:107%'>) </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:107%'>sort
  the dict by key, case sensitive</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:130.35pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>mydict|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>dictsort</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>false</span></b><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'value'</span><span style='font-size:
  11.0pt;line-height:107%'>) </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:107%'>sort
  the dict by value, case insensitive</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>escape</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:29.75pt'>Convert the characters &amp;, &lt;, &gt;, ‘, and ” in
string s to HTML-safe sequences. Use this if you need to display text that
might contain such characters in HTML.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Marks return value as markup
string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Aliases
</b>e</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>filesizeformat</b>(<i>value</i>,
<i>binary=False</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Format the value like a
‘human-readable’ file size (i.e. 13 kB, 4.1 MB, 102 Bytes, etc). Per default
decimal prefixes are used (Mega, Giga, etc.), if the second parameter is set to
<i>True </i>the binary prefixes are used (Mebi, Gibi).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>first</b>(<i>seq</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return the first item of a
sequence.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>float</b>(<i>value</i>,
<i>default=0.0</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Convert the value into a
floating point number. If the conversion doesn’t work it will return 0.0. You
can override this default using the first parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>forceescape</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Enforce HTML escaping. This will
probably double escape variables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>format</b>(<i>value</i>,
<i>*args</i>, <i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>Apply python string formatting on an object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:40.15pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>&quot;%s - %s&quot;</span><span style='font-size:11.0pt;
line-height:110%'>|</span><span style='font-size:11.0pt;line-height:110%;
color:#333333'>format</span><span style='font-size:11.0pt;line-height:110%'>(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>&quot;Hello?&quot;</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;Foo!&quot;</span><span style='font-size:
11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;line-height:
110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.05pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>-&gt;
Hello? - Foo!</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>groupby</b>(<i>value</i>,
<i>attribute</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Group a sequence of objects by a
common attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>If you for example have a list of dicts or objects that
represent persons with <i>gender</i>, <i>first_name </i>and <i>last_name </i>attributes
and you want to group all users by genders you can do something like the
following snippet:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>group </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>persons|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>groupby</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'gender'</span><span style='font-size:
  11.0pt;line-height:107%'>) </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>group.grouper </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>ul</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>person </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>group.list </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>person.first_name </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}} {{ </span><span style='font-size:11.0pt;
  line-height:107%'>person.last_name </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.95pt;
margin-left:29.75pt'>Additionally it’s possible to use tuple unpacking for the
grouper and list:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>grouper, list </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
line-height:105%'>persons|</span><span style='font-size:11.0pt;line-height:
105%;color:#333333'>groupby</span><span style='font-size:11.0pt;line-height:
105%'>(</span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'gender'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>As you can see the item we’re grouping by is stored in the
<i>grouper </i>attribute and the <i>list </i>contains all the objects that have
this grouper in common.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Changed in version 2.6: It’s now
possible to use dotted notation to group by the child attribute of another
attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>indent</b>(<i>s</i>,
<i>width=4</i>, <i>indentfirst=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:29.75pt'>Return a copy of the passed string, each line indented by
4 spaces. The first line is not indented. If you want to change the number of
spaces or indent the first line too you can pass additional parameters to the
filter:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:122.0pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.35pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>mytext|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>indent</span><span style='font-size:11.0pt;line-height:105%'>(</span><span
style='font-size:11.0pt;line-height:105%;color:#454545'>2</span><span
style='font-size:11.0pt;line-height:105%'>, </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>true</span></b><span style='font-size:
11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}} </span><span style='font-size:11.0pt;line-height:105%'>indent
by two spaces and indent the first line too.</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>int</b>(<i>value</i>,
<i>default=0</i>, <i>base=10</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Convert the value into an
integer. If the conversion doesn’t work it will return 0. You can override this
default using the first parameter. You can also override the default base (10)
in the second parameter, which handles input with prefixes such as 0b, 0o and
0x for bases 2, 8 and 16 respectively. The base is ignored for decimal numbers
and non-string values.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>join</b>(<i>value</i>,
<i>d=u’‘</i>, <i>attribute=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Return a string which is the concatenation of the strings
in the sequence. The separator between elements is an empty string per default,
you can define it with the optional parameter:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>[</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>1</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#454545'>2</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#454545'>3</span><span style='font-size:11.0pt;line-height:107%'>]|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>join</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'|'</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.7pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt; 1|2|3</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:299.45pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>[</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>1</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#454545'>2</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#454545'>3</span><span style='font-size:11.0pt;line-height:107%'>]|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>join </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}} </span><span
  style='font-size:11.0pt;line-height:107%'>-&gt; 123</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>It is also possible to join certain attributes of an
object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>users|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>join</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>', '</span><span style='font-size:11.0pt;
line-height:105%'>, attribute=</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'username'</span><span style='font-size:11.0pt;line-height:
105%'>) </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.6: The <i>attribute
</i>parameter was added.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>last</b>(<i>seq</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return the last item of a
sequence.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>length</b>(<i>object</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return the number of items of a
sequence or collection.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Aliases
</b>count</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>list</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Convert the value into a list.
If it was a string the returned list will be a list of characters.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>lower</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Convert a value to lowercase.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>map</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Applies a filter on a sequence of objects or looks up an
attribute. This is useful when dealing with lists of objects but you are really
only interested in a certain value of it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>The basic usage is mapping on an attribute. Imagine you
have a list of users but you are only interested in a list of usernames:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.65pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>Users
on this page: </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{
</span><span style='font-size:11.0pt;line-height:105%'>users|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>map</span><span
style='font-size:11.0pt;line-height:105%'>(attribute=</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'username'</span><span
style='font-size:11.0pt;line-height:105%'>)|</span><span style='font-size:11.0pt;
line-height:105%;color:#333333'>join</span><span style='font-size:11.0pt;
line-height:105%'>(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>', '</span><span style='font-size:11.0pt;line-height:105%'>) </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>Alternatively you can let it invoke a filter by passing
the name of the filter and the arguments afterwards. A good example would be
applying a text conversion filter on a sequence:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.65pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>Users
on this page: </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{
</span><span style='font-size:11.0pt;line-height:105%'>titles|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>map</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'lower'</span><span style='font-size:11.0pt;
line-height:105%'>)|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>join</span><span style='font-size:11.0pt;line-height:105%'>(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>', '</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>pprint</b>(<i>value</i>,
<i>verbose=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>Pretty print a variable. Useful for debugging.</p>

<p class=MsoNormal style='margin-left:29.75pt'>With Jinja 1.2 onwards you can
pass it a parameter. If this parameter is truthy the output will be more
verbose (this requires <i>pretty</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>random</b>(<i>seq</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return a random item from the
sequence.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>reject</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Filters a sequence of objects by applying a test to each
object, and rejecting the objects with the test succeeding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>If no test is specified, each object will be evaluated as
a boolean.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.65pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>numbers|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>reject</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;odd&quot;</span><span style='font-size:
11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>rejectattr</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Filters a sequence of objects by applying a test to the
specified attribute of each object, and rejecting the objects with the test
succeeding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>If no test is specified, the attribute’s value will be
evaluated as a boolean.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>users|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>rejectattr</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;is_active&quot;</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>users|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>rejectattr</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;email&quot;</span><span style='font-size:
11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;none&quot;</span><span style='font-size:11.0pt;
line-height:110%'>) </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>replace</b>(<i>s</i>,
<i>old</i>, <i>new</i>, <i>count=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Return a copy of the value with all occurrences of a
substring replaced with a new one. The first argument is the substring that
should be replaced, the second is the replacement string. If the optional third
argument count is given, only the first count occurrences are replaced:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;Hello World&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>replace</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;Hello&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;Goodbye&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt;
  Goodbye World</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:179.45pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;aaaaargh&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>|</span><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>replace</span><span style='font-size:
  11.0pt;line-height:107%'>(</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>&quot;a&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;d'oh, &quot;</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><span style='font-size:11.0pt;line-height:107%;
  color:#454545'>2</span><span style='font-size:11.0pt;line-height:107%'>) </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}} </span><span
  style='font-size:11.0pt;line-height:107%'>-&gt; d'oh, d'oh, aaargh</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>reverse</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.75pt;text-indent:29.25pt;line-height:157%'>Reverse the object or
return an iterator that iterates over it the other way round. <b>round</b>(<i>value</i>,
<i>precision=0</i>, <i>method=’common’</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Round the number to a given
precision. The first parameter specifies the precision (default is 0), the
second the rounding method:</p>

<p class=MsoNormal style='margin-left:48.25pt'>•'common' rounds either up or
down</p>

<p class=MsoNormal style='margin-left:48.25pt'>•'ceil' always rounds up</p>

<p class=MsoNormal style='margin-left:48.25pt'>•'floor' always rounds down</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>If you don’t specify a method 'common' is used.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
  color:#454545'>42.55</span><span style='font-size:11.0pt;line-height:107%'>|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>round </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt; 43.0</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:250.35pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%;color:#454545'>42.55</span><span
  style='font-size:11.0pt;line-height:107%'>|</span><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>round</span><span style='font-size:
  11.0pt;line-height:107%'>(</span><span style='font-size:11.0pt;line-height:
  107%;color:#454545'>1</span><span style='font-size:11.0pt;line-height:107%'>,
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'floor'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}} </span><span style='font-size:11.0pt;
  line-height:107%'>-&gt; 42.5</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:29.75pt'>Note that even if rounded to 0 precision, a float is
returned. If you need a real integer, pipe it through <i>int</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:39.8pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
color:#454545'>42.55</span><span style='font-size:11.0pt;line-height:107%'>|</span><span
style='font-size:11.0pt;line-height:107%;color:#333333'>round</span><span
style='font-size:11.0pt;line-height:107%'>|</span><span style='font-size:11.0pt;
line-height:107%;color:#333333'>int </span><span style='font-size:11.0pt;
line-height:107%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>-&gt;
43</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>safe</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Mark the value as safe which
means that in an environment with automatic escaping enabled this variable will
not be escaped.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>select</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Filters a sequence of objects by applying a test to each
object, and only selecting the objects with the test succeeding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>If no test is specified, each object will be evaluated as
a boolean.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>numbers|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>select</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;odd&quot;</span><span style='font-size:
11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>numbers|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>select</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;odd&quot;</span><span style='font-size:
11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>selectattr</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Filters a sequence of objects by applying a test to the
specified attribute of each object, and only selecting the objects with the
test succeeding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>If no test is specified, the attribute’s value will be
evaluated as a boolean.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>Example usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>users|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>selectattr</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;is_active&quot;</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>users|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>selectattr</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;email&quot;</span><span style='font-size:
11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;none&quot;</span><span style='font-size:11.0pt;
line-height:110%'>) </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>slice</b>(<i>value</i>,
<i>slices</i>, <i>fill_with=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Slice an iterator and return a list of lists containing
those items. Useful if you want to create a div containing three ul tags that
represent columns:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;columwrapper&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>column </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>items|</span><span style='font-size:11.0pt;line-height:
  107%;color:#333333'>slice</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#454545'>3</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;column-</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.index </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>for </span></b><span style='font-size:
  11.0pt;line-height:107%'>item </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>in </span></b><span style='font-size:11.0pt;
  line-height:107%'>column </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:32.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>item </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:304.9pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:10.9pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endfor </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>div</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>If you pass it a second argument
it’s used to fill missing values on the last iteration.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>sort</b>(<i>value</i>,
<i>reverse=False</i>, <i>case_sensitive=False</i>, <i>attribute=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Sort an iterable. Per default it sorts ascending, if you
pass it true as first argument it will reverse the sorting.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.6pt;
margin-left:29.75pt'>If the iterable is made of strings the third parameter can
be used to control the case sensitiveness of the comparison which is disabled
by default.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:118.3pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>item </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>iterable|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>sort </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>It is also possible to sort by an attribute (for example
to sort by the date of an object) by specifying the <i>attribute </i>parameter:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:69.2pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>item </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>iterable|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>sort</span><span style='font-size:11.0pt;line-height:105%'>(attribute=</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'date'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.5pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>Changed in version 2.6: The <i>attribute
</i>parameter was added.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>string</b>(<i>object</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Make a string unicode if it
isn’t already. That way a markup string is not converted back to unicode.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>striptags</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Strip SGML/XML tags and replace
adjacent whitespace by one space.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>sum</b>(<i>iterable</i>,
<i>attribute=None</i>, <i>start=0</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Returns the sum of a sequence of numbers plus the value of
parameter ‘start’ (which defaults to 0). When the sequence is empty it returns
start.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:29.75pt'>It is also possible to sum up only certain attributes:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>Total:
</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>items|</span><span style='font-size:
11.0pt;line-height:105%;color:#333333'>sum</span><span style='font-size:11.0pt;
line-height:105%'>(attribute=</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'price'</span><span style='font-size:11.0pt;line-height:
105%'>) </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>Changed in version 2.6: The <i>attribute
</i>parameter was added to allow suming up over attributes. Also the <i>start </i>parameter
was moved on to the right.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>title</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return a titlecased version of
the value. I.e. words will start with uppercase letters, all remaining
characters are lowercase.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>tojson</b>(<i>value</i>,
<i>indent=None</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Dumps a structure to JSON so
that it’s safe to use in &lt;script&gt; tags. It accepts the same arguments and
returns a JSON string. Note that this is available in templates through the |tojson
filter which will also mark the result as safe. Due to how this function
escapes certain characters this is safe even if used outside of &lt;script&gt; tags.</p>

<p class=MsoNormal style='margin-left:29.75pt'>The following characters are
escaped in strings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.1in;margin-left:48.25pt;text-align:left;line-height:108%'>•&lt;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.1in;margin-left:48.25pt;text-align:left;line-height:108%'>•&gt;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.1in;margin-left:48.25pt;text-align:left;line-height:108%'>•&amp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:48.25pt;text-align:left;line-height:108%'>•'</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>This makes it safe to embed such strings in any place in
HTML with the notable exception of double quoted attributes. In that case
single quote your attributes or HTML escape it in addition.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>The indent parameter can be used to enable pretty
printing. Set it to the number of spaces that the structures should be indented
with.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>Note that this filter is for use in HTML contexts only.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.9.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>trim</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Strip leading and trailing
whitespace.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>truncate</b>(<i>s</i>,
<i>length=255</i>, <i>killwords=False</i>, <i>end=’...’</i>, <i>leeway=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:29.75pt'>Return a truncated copy of the string. The length is
specified with the first parameter which defaults to 255. If the second
parameter is true the filter will cut the text at length. Otherwise it will
discard the last word. If the text was in fact truncated it will append an
ellipsis sign (&quot;...&quot;). If you want a different ellipsis sign than &quot;...&quot;
you can specify it using the third parameter. Strings that only exceed the
length by the tolerance margin given in the fourth parameter will not be
truncated.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;foo bar baz qux&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>truncate</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>9</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt;
  &quot;foo...&quot;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;foo bar baz qux&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>truncate</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>9</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>True</span></b><span style='font-size:
  11.0pt;line-height:107%'>) </span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt;
  &quot;foo ba...&quot;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;foo bar baz qux&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>truncate</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>11</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>-&gt;
  &quot;foo bar baz qux&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:119.45pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;foo
  bar baz qux&quot;</span><span style='font-size:11.0pt;line-height:107%'>|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>truncate</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#454545'>11</span><span style='font-size:11.0pt;
  line-height:107%'>, </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>False</span></b><span style='font-size:11.0pt;line-height:
  107%'>, </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'...'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#454545'>0</span><span style='font-size:11.0pt;
  line-height:107%'>) </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}} </span><span style='font-size:11.0pt;line-height:107%'>-&gt;
  &quot;foo bar...&quot;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>The default leeway on newer
Jinja2 versions is 5 and was 0 before but can be reconfigured globally.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>upper</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Convert a value to uppercase.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>urlencode</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Escape strings for use in URLs (uses UTF-8 encoding). It
accepts both dictionaries and regular strings as well as pairwise iterables.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:5.8pt;margin-left:28.5pt;text-align:left;text-indent:-29.25pt;
line-height:110%'><b>urlize</b>(<i>value</i>, <i>trim_url_limit=None</i>, <i>nofollow=False</i>,
<i>target=None</i>, <i>rel=None</i>) Converts URLs in plain text into clickable
links.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:29.75pt'>If you pass the filter an additional integer it will
shorten the urls to that number. Also a third argument exists that makes the
urls “nofollow”:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:56.55pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>mytext|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>urlize</span><span style='font-size:11.0pt;line-height:105%'>(</span><span
style='font-size:11.0pt;line-height:105%;color:#454545'>40</span><span
style='font-size:11.0pt;line-height:105%'>, </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>true</span></b><span style='font-size:
11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}} </span><span style='font-size:11.0pt;line-height:105%'>links
are shortened to 40 chars and defined with rel=&quot;nofollow&quot;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>If <i>target </i>is specified, the target attribute will
be added to the &lt;a&gt; tag:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>mytext|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>urlize</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#454545'>40</span><span style='font-size:11.0pt;
line-height:105%'>, target=</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'_blank'</span><span style='font-size:11.0pt;line-height:
105%'>) </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>Changed in version 2.8+: The <i>target
</i>parameter was added.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>wordcount</b>(<i>s</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Count the words in that string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>wordwrap</b>(<i>s</i>,
<i>width=79</i>, <i>break_long_words=True</i>, <i>wrapstring=None</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return a copy of the string
passed to the filter wrapped after 79 characters. You can override this default
using the first parameter. If you set the second parameter to <i>false </i>Jinja
will not split words apart if they are longer than <i>width</i>. By default,
the newlines will be the default newlines for the environment, but this can be
changed using the wrapstring keyword argument.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.7: Added
support for the <i>wrapstring </i>parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>xmlattr</b>(<i>d</i>,
<i>autospace=True</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:29.75pt'>Create an SGML/XML attribute string based on the items in
a dict. All values that are neither <i>none </i>nor <i>undefined </i>are
automatically escaped:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:110%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:110%'>{</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'class'</span><span style='font-size:11.0pt;
line-height:110%'>: </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'my_list'</span><span style='font-size:11.0pt;line-height:110%'>,
</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'missing'</span><span
style='font-size:11.0pt;line-height:110%'>: </span><b><span style='font-size:
11.0pt;line-height:110%;color:#B80000'>none</span></b><span style='font-size:
11.0pt;line-height:110%'>,</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:43.65pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'id'</span><span style='font-size:11.0pt;
line-height:105%'>: </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'list-%d'</span><span style='font-size:11.0pt;line-height:105%'>|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>format</span><span
style='font-size:11.0pt;line-height:105%'>(variable)}|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>xmlattr </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>&gt; ...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:29.75pt'>Results in something like this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:112.85pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>ul </span></b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;my_list&quot; </span><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>id</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;list-42&quot;</span><span
style='font-size:11.0pt;line-height:110%'>&gt; ...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.75pt'>As you can see it automatically prepends a space in front
of the item if the filter returned something unless the second parameter is
false.</p>

<h2 style='margin-left:-.25pt'>List of Builtin Tests</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>callable</b>(<i>object</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return whether the object is
callable (i.e., some kind of function). Note that classes are callable, as are
instances with a __call__() method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>defined</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Return true if the variable is defined:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.6pt;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>variable </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>defined </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>value of variable: </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>variable </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:272.15pt;
  margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>else </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>variable is not defined</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>See the default() filter for a
simple way to set undefined variables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>divisibleby</b>(<i>value</i>,
<i>num</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Check if a variable is divisible
by a number.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>equalto</b>(<i>value</i>,
<i>other</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:29.75pt'>Check if an object has the same value as another object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:149.3pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:105%'>foo.expression
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>is </span></b><span
style='font-size:11.0pt;line-height:105%;color:#333333'>equalto </span><span
style='font-size:11.0pt;line-height:105%;color:#454545'>42 </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%} </span><span
style='font-size:11.0pt;line-height:105%'>the foo attribute evaluates to the
constant 42 </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{%
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>endif </span></b><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:29.75pt'>This appears to be a useless test as it does exactly the
same as the == operator, but it can be useful when used together with the <i>selectattr
</i>function:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>users|</span><span
style='font-size:11.0pt;line-height:110%;color:#333333'>selectattr</span><span
style='font-size:11.0pt;line-height:110%'>(</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;email&quot;</span><span style='font-size:
11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;equalto&quot;</span><span style='font-size:11.0pt;
line-height:110%'>, </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>&quot;foo@bar.invalid&quot;</span><span style='font-size:11.0pt;
line-height:110%'>) </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.8.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>escaped</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Check if the value is escaped.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>even</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:142.05pt;margin-bottom:
0in;margin-left:-.75pt;text-indent:29.25pt;line-height:158%'>Return true if the
variable is even. <b>greaterthan</b>(<i>value</i>, <i>other</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Check if value is greater than
other.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>iterable</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Check if it’s possible to
iterate over an object.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>lessthan</b>(<i>value</i>,
<i>other</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Check if value is less than
other.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>lower</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is
lowercased.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>mapping</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:29.75pt'>Return true if the object is a mapping (dict etc.).</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.6.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>none</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is
none.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>number</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is a
number.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>odd</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is
odd.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>sameas</b>(<i>value</i>,
<i>other</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:29.75pt'>Check if an object points to the same memory address than
another object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:132.95pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:105%'>foo.attribute
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>is </span></b><span
style='font-size:11.0pt;line-height:105%;color:#333333'>sameas </span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>false </span></b><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%} </span><span
style='font-size:11.0pt;line-height:105%'>the foo attribute really is the
`False` singleton </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>sequence</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is a
sequence. Sequences are variables that are iterable.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>string</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the object is a
string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>undefined</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Like defined() but the other way
round.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>upper</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Return true if the variable is
uppercased.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>List of Global Functions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;
margin-left:-.25pt'>The following functions are available in the global scope
by default:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>range</b>(<span
style='font-size:17.0pt;line-height:110%'>[</span><i>start</i><span
style='font-size:17.0pt;line-height:110%'>]</span>, <i>stop</i><span
style='font-size:17.0pt;line-height:110%'>[</span>, <i>step</i><span
style='font-size:17.0pt;line-height:110%'>]</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:29.75pt'>Return a list containing an arithmetic progression of
integers. range(i, j) returns [i, i+1, i+2, ..., j-1]; start (!) defaults to 0.
When step is given, it specifies the increment (or decrement). For example, range(4)
and range(0, 4, 1) return [0, 1, 2, 3]. The end point is omitted! These are
exactly the valid indices for a list of 4 elements.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>This is useful to repeat a template block multiple times,
e.g. to fill a list. Imagine you have 7 users in the list but you want to
render three empty items to enforce a height with CSS:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>user </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
  107%;color:dimgray'>li</span></b><span style='font-size:11.0pt;line-height:
  107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>number </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>range(</span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>10 </span><span
  style='font-size:11.0pt;line-height:107%'>- users|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>count</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;empty&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>span</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;...&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>span</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>lipsum</b>(<i>n=5</i>,
<i>html=True</i>, <i>min=20</i>, <i>max=100</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Generates some lorem ipsum for
the template. By default, five paragraphs of HTML are generated with each
paragraph between 20 and 100 words. If html is False, regular text is returned.
This is useful to generate simple contents for layout testing.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>dict</b>(<i>**items</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:29.75pt'>A convenient alternative to dict literals. {'foo': 'bar'} is
the same as dict(foo='bar').</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
cycler</b>(<i>*items</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:29.75pt'>The cycler allows you to cycle among values similar to how
<i>loop.cycle </i>works. Unlike <i>loop.cycle</i>, you can use this cycler
outside of loops or over multiple loops.</p>

<p class=MsoNormal style='margin-left:29.75pt'>This can be very useful if you
want to show a list of folders and files with the folders on top but both in
the same list with alternating row colors.</p>

<p class=MsoNormal style='margin-left:29.75pt'>The following example shows how <i>cycler
</i>can be used:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>row_class
= cycler(</span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'odd'</span><span
style='font-size:11.0pt;line-height:105%'>, </span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>'even'</span><span style='font-size:11.0pt;
line-height:105%'>) </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>ul </span></b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;browser&quot;</span><span
style='font-size:11.0pt;line-height:110%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>folder
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>folders </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li </span></b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:105%'>=</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;folder </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>row_class.next() </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:105%'>&gt;</span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>folder|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>e </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>filename
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>files </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li </span></b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:105%'>=</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;file </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>row_class.next() </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:105%'>&gt;</span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>filename|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>e </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:13.3pt;margin-left:25.9pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=573 height=9 id="Group 167142"
src="Jinja2%20Documentation_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-left:29.75pt'>A cycler has the following
attributes and methods:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>reset</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Resets the cycle to the first
item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>next</b>()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>Goes one item ahead and returns the then-current item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>current</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>Returns the current item.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.1.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
joiner</b>(<i>sep=’</i>, <i>‘</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>A tiny helper that can be used to “join” multiple
sections. A joiner is passed a string and will return that string every time
it’s called, except the first time (in which case it returns an empty string).
You can use this to join things:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:141.85pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.75pt 5.75pt 0in 3.2pt;height:141.85pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:107%'>pipe
  = joiner(</span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;|&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>categories
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%} {{ </span><span
  style='font-size:11.0pt;line-height:107%'>pipe() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Categories:
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>categories|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>join</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;, &quot;</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:228.35pt;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>author </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} {{ </span><span
  style='font-size:11.0pt;line-height:107%'>pipe() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}} </span><span
  style='font-size:11.0pt;line-height:107%'>Author: </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>author() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>can_edit
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%} {{ </span><span
  style='font-size:11.0pt;line-height:107%'>pipe() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;?action=edit&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;Edit&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.1.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class
namespace</b>(<i>...</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.85pt;
margin-left:29.75pt'>Creates a new container that allows attribute assignment
using the {% set %} tag:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>ns
= namespace() </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.6pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>ns.foo
= </span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'bar' </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>The main purpose of this is to allow carrying a value from
within a loop body to an outer scope. Initial values can be provided as a dict,
as keyword arguments, or both (same behavior as Python’s <i>dict </i>constructor):</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.95pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.4pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>ns = namespace(found=</span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>false</span></b><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>item
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>items </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>item.check_something() </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>ns.found = </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>true </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endif
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>* </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>item.title </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Found
  item having something: </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>ns.found
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.10.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Extensions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.8pt;
margin-left:-.25pt'>The following sections cover the built-in Jinja2 extensions
that may be enabled by an application. An application could also provide
further extensions not covered by this documentation; in which case there
should be a separate document explaining said <i>extensions</i>.</p>

<h3 style='margin-left:-.25pt'>i18n</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:-.25pt'>If the i18n extension is enabled, it’s possible to mark
parts in the template as translatable. To mark a section as translatable, you
can use <i>trans</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.6pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>trans </span></b><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:105%'>Hello </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>user </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>!</span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>endtrans </span></b><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:105%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
105%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:-.25pt'>To translate a template expression — say, using template
filters, or by just accessing an attribute of an object — you need to bind the
expression to a name for use within the translation block:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>trans </span></b><span style='font-size:
11.0pt;line-height:105%'>user=user.username </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:105%'>Hello </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>user </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>!</span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>endtrans </span></b><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:105%'>&lt;/</span><b><span style='font-size:11.0pt;line-height:
105%;color:dimgray'>p</span></b><span style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>If you need to bind more than one expression inside a <i>trans
</i>tag, separate the pieces with a comma (,):</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>trans </span></b><span style='font-size:11.0pt;line-height:105%'>book_title=book.title,
author=author.name </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>This
is </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>book_title </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}} </span><span
style='font-size:11.0pt;line-height:105%'>by </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>author </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endtrans </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Inside trans tags no statements
are allowed, only variable tags are.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>To pluralize, specify both the singular and plural forms
with the <i>pluralize </i>tag, which appears between <i>trans </i>and <i>endtrans</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:227.65pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>trans </span></b><span style='font-size:11.0pt;line-height:105%'>count=list|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>length </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%} </span><span
style='font-size:11.0pt;line-height:105%'>There is </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>count </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>}} {{ </span><span style='font-size:
11.0pt;line-height:105%'>name </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}} </span><span style='font-size:11.0pt;line-height:105%'>object.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>pluralize </span></b><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:105%'>There
are </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{{ </span><span
style='font-size:11.0pt;line-height:105%'>count </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>}} {{ </span><span style='font-size:
11.0pt;line-height:105%'>name </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>}} </span><span style='font-size:11.0pt;line-height:105%'>objects.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endtrans </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>By default, the first variable in a block is used to
determine the correct singular or plural form. If that doesn’t work out, you
can specify the name which should be used for pluralizing by adding it as
parameter to <i>pluralize</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>trans </span></b><span style='font-size:11.0pt;line-height:105%'>...,
user_count=users|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>length </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span><span style='font-size:11.0pt;line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>pluralize </span></b><span style='font-size:11.0pt;line-height:
108%'>user_count </span><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>%}</span><span style='font-size:11.0pt;line-height:108%'>...</span><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>{% </span><b><span
style='font-size:11.0pt;line-height:108%;color:#B80000'>endtrans </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>When translating longer blocks of
text, whitespace and linebreaks result in rather ugly and error-prone
translation strings. To avoid this, a trans block can be marked as trimmed
which will replace all linebreaks and the whitespace surrounding them with a
single space and remove leading/trailing whitespace:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>trans </span></b><span style='font-size:11.0pt;
line-height:105%'>trimmed book_title=book.title </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:105%'>This is </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>book_title
</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>You
should read it!</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.5pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endtrans </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If trimming is enabled globally,
the <i>notrimmed </i>modifier can be used to disable it for a <i>trans </i>block.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:-.25pt'>New in version 2.10: The <i>trimmed </i>and <i>notrimmed </i>modifiers
have been added.</p>

<p class=MsoNormal style='margin-left:-.25pt'>It’s also possible to translate
strings in expressions. For that purpose, three functions exist:</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><i>gettext</i>:
translate a single string</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><i>ngettext</i>:
translate a pluralizable string</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span><i>_</i>: alias for <i>gettext</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>For example, you can easily print a translated string like
this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.4pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>_</span></b><span style='font-size:11.0pt;line-height:110%'>(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello World!'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>To use placeholders, use the <i>format </i>filter:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.9pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>_</span></b><span style='font-size:11.0pt;line-height:105%'>(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'Hello %(user)s!'</span><span
style='font-size:11.0pt;line-height:105%'>)|</span><span style='font-size:11.0pt;
line-height:105%;color:#333333'>format</span><span style='font-size:11.0pt;
line-height:105%'>(user=user.username) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>For multiple placeholders, always use keyword arguments to <i>format</i>,
as other languages may not use the words in the same order.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:-.25pt'>Changed in version 2.5.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>If newstyle gettext calls are activated (<i>Whitespace
Trimming</i>), using placeholders is a lot easier:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello World!'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello %(name)s!'</span><span
style='font-size:11.0pt;line-height:110%'>, name=</span><span style='font-size:
11.0pt;line-height:110%;color:#AB8A1C'>'World'</span><span style='font-size:
11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;line-height:
110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.45pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>ngettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'%(num)d apple'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'%(num)d apples'</span><span style='font-size:
11.0pt;line-height:110%'>, apples|</span><span style='font-size:11.0pt;
line-height:110%;color:#333333'>count</span><span style='font-size:11.0pt;
line-height:110%'>) </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'>Note that the <i>ngettext </i>function’s format string
automatically receives the count as a <i>num </i>parameter in addition to the
regular parameters.</p>

<h3 style='margin-left:-.25pt'>Expression Statement</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>If the expression-statement extension is loaded, a tag
called <i>do </i>is available that works exactly like the regular variable
expression ({{ ... }}); except it doesn’t print anything. This can be used to
modify lists:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>do </span></b><span style='font-size:11.0pt;line-height:105%'>navigation.append(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'a string'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%}</span></p>

</div>

<h3 style='margin-left:-.25pt'>Loop Controls</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>If the application enables the <i>Loop Controls</i>, it’s
possible to use <i>break </i>and <i>continue </i>in loops. When <i>break </i>is
reached, the loop is terminated; if <i>continue </i>is reached, the processing
is stopped and continues with the next iteration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Here’s a loop that skips every second item:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:60.55pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:60.55pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.55pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>user </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:121.1pt;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
  style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>if </span></b><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>loop</span><span style='font-size:
  11.0pt;line-height:107%'>.index </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>is </span></b><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>even </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;
  line-height:107%;color:#B80000'>continue </span></b><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}{% </span><b><span style='font-size:
  11.0pt;line-height:107%;color:#B80000'>endif </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:-.25pt'>Likewise, a loop that stops processing after the 10th
iteration:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>user
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>users </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:107%;border:
none;padding:0in'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%</span><span
style='font-size:11.0pt;line-height:107%'>- </span><b><span style='font-size:
11.0pt;line-height:107%;color:#B80000'>if </span></b><span style='font-size:
11.0pt;line-height:107%;color:#333333'>loop</span><span style='font-size:11.0pt;
line-height:107%'>.index &gt;= </span><span style='font-size:11.0pt;line-height:
107%;color:#454545'>10 </span><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;line-height:107%;
color:#B80000'>break </span></b><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;line-height:107%;
color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:107%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.25pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{%</span><span style='font-size:11.0pt;line-height:108%'>- </span><b><span
style='font-size:11.0pt;line-height:108%;color:#B80000'>endfor </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.05pt;
margin-left:-.25pt'>Note that loop.index starts with 1, and loop.index0 starts
with 0 (See: <i>For</i>).</p>

<h3 style='margin-left:-.25pt'>With Statement</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The with statement makes it possible to create a new inner
scope. Variables set within this scope are not visible outside of the scope.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>With in a nutshell:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.45pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>with </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>foo = </span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>42 </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>             </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>foo </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}                                 </span><span
  style='font-size:11.0pt;line-height:107%'>foo is 42 here</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endwith </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>foo is
  not visible here any longer</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Because it is common to set variables at the beginning of
the scope, you can do that within the <i>with </i>statement. The following two
examples are equivalent:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:114.75pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:114.75pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>with </span></b><span style='font-size:11.0pt;line-height:
  107%'>foo = </span><span style='font-size:11.0pt;line-height:107%;color:#454545'>42
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>foo </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:14.3pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endwith
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>with </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>foo = </span><span
  style='font-size:11.0pt;line-height:107%;color:#454545'>42 </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>foo </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endwith </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:-.25pt'>An important note on scoping here. In Jinja versions before
2.9 the behavior of referencing one variable to another had some unintended
consequences. In particular one variable could refer to another defined in the
same with block’s opening statement. This caused issues with the cleaned up
scoping behavior and has since been improved. In particular in newer Jinja2
versions the following code always refers to the variable <i>a </i>from outside
the <i>with </i>block:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.85pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>with </span></b><span style='font-size:11.0pt;line-height:105%'>a={},
b=a.attribute </span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span><span
style='font-size:11.0pt;line-height:105%'>...</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>endwith </span></b><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>In earlier Jinja versions the <i>b </i>attribute would
refer to the results of the first attribute. If you depend on this behavior you
can rewrite it to use the set tag:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.15pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>with </span></b><span
  style='font-size:11.0pt;line-height:107%'>a={} </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>b = a.attribute </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endwith </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 164269"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Extension</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>In older versions of Jinja (before 2.9) it was required to
enable this feature with an extension. It’s now enabled by default.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 164270"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.2pt;margin-left:
-.25pt'>Autoescape Overrides</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.4.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>If you want you can activate and deactivate the
autoescaping from within the templates.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Example:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.9pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>autoescape true </span></b><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.5pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Autoescaping
  is active within this block</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:14.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endautoescape
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>autoescape false </span></b><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.5pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Autoescaping
  is inactive within this block</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endautoescape </span></b><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.8pt;
margin-left:-.25pt'>After an <i>endautoescape </i>the behavior is reverted to
what it was before.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 164271"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.4pt;margin-left:.5pt;text-align:left;line-height:104%'><b>Extension</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>In older versions of Jinja (before 2.9) it was required to
enable this feature with an extension. It’s now enabled by default.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 164272"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>84 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>5</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 161654"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Extensions</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 161655"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Jinja2 supports extensions that can add extra filters,
tests, globals or even extend the parser. The main motivation of extensions is
to move often used code into a reusable class like adding support for
internationalization.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Adding Extensions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>Extensions are added to the Jinja2 environment at creation
time. Once the environment is created additional extensions cannot be added. To
add an extension pass a list of extension classes or import paths to the <i>extensions
</i>parameter of the Environment constructor. The following example creates a
Jinja2 environment with the i18n extension loaded:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.45pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>jinja_env
= Environment(extensions=[</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'jinja2.ext.i18n'</span><span style='font-size:11.0pt;
line-height:105%'>])</span></p>

</div>

<h2 style='margin-left:-.25pt'>i18n Extension</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:6.85pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>Import
name: </b><i>jinja2.ext.i18n</i></p>

<p class=MsoNormal style='margin-left:-.25pt'>The i18n extension can be used in
combination with <a href="https://docs.python.org/dev/library/gettext"><span
style='color:#CC0000;text-decoration:none'>gettext</span></a><span
style='color:#CC0000'> </span>or <a href="http://babel.pocoo.org/"><span
style='color:#CC0000;text-decoration:none'>babel</span></a><a
href="http://babel.pocoo.org/"><span style='color:black;text-decoration:none'>.</span></a>
If the i18n extension is enabled Jinja2 provides a <i>trans </i>statement that
marks the wrapped string as translatable and calls <i>gettext</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.85pt;
margin-left:-.25pt'>After enabling, dummy <i>_ </i>function that forwards calls
to <i>gettext </i>is added to the environment globals. An internationalized
application then has to provide a <i>gettext </i>function and optionally an <i>ngettext
</i>function into the namespace, either globally or for each rendering.</p>

<h3 style='margin-left:-.25pt'>Environment Methods</h3>

<p class=MsoNormal style='margin-left:-.25pt'>After enabling the extension, the
environment provides the following additional methods:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:286.9pt;text-align:left;text-indent:-286.9pt;
line-height:111%'>jinja2.Environment.<b>install_gettext_translations</b>(<i>translations</i>,          <i>newstyle=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:29.75pt'>Installs a translation globally for that environment. The
translations object provided must implement at least <i>ugettext </i>and <i>ungettext</i>.
The <i>gettext.NullTranslations </i>and <i>gettext.GNUTranslations </i>classes
as well as <a href="http://babel.pocoo.org/"><span style='color:#CC0000;
text-decoration:none'>Babel</span></a><a href="http://babel.pocoo.org/"><span
style='color:black;text-decoration:none'>s</span></a> <i>Translations </i>class
are supported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.75pt;text-indent:29.25pt;line-height:156%'>Changed in version
2.5: newstyle gettext added jinja2.Environment.<b>install_null_translations</b>(<i>newstyle=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Install dummy gettext functions. This is useful if you
want to prepare the application for internationalization but don’t want to
implement the full internationalization system yet.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:29.25pt;
line-height:135%'>Changed in version 2.5: newstyle gettext added jinja2.Environment.<b>install_gettext_callables</b>(<i>gettext</i>, <i>ngettext</i>,          <i>newstyle=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Installs the given <i>gettext </i>and <i>ngettext </i>callables
into the environment as globals. They are supposed to behave exactly like the
standard library’s gettext.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.95pt;margin-left:29.75pt;text-align:left;line-height:108%'>ugettext()
and gettext.ungettext() functions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:29.75pt'>If <i>newstyle </i>is activated, the callables are wrapped
to work like newstyle callables. See <i>Whitespace Trimming </i>for more
information.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.5.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.85pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'>jinja2.Environment.<b>uninstall_gettext_translations</b>()
Uninstall the translations again.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>jinja2.Environment.<b>extract_translations</b>(<i>source</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Extract localizable strings from
the given template node or source.</p>

<p class=MsoNormal style='margin-left:29.75pt'>For every string found this
function yields a (lineno, function, message) tuple, where:</p>

<p class=MsoNormal style='margin-left:48.25pt'>•<i>lineno </i>is the number of
the line on which the string was found,</p>

<p class=MsoNormal style='margin-left:55.0pt;text-indent:-7.25pt'>•<i>function </i>is
the name of the <i>gettext </i>function used (if the string was extracted from
embedded Python code), and</p>

<p class=MsoNormal style='margin-left:55.0pt;text-indent:-7.25pt'>•<i>message </i>is
the string itself (a <i>unicode </i>object, or a tuple of <i>unicode </i>objects
for functions with multiple string arguments).</p>

<p class=MsoNormal style='margin-left:29.75pt'>If <a
href="http://babel.pocoo.org/"><span style='color:#CC0000;text-decoration:none'>Babel</span></a><span
style='color:#CC0000'> </span>is installed, <i>the babel integration </i>can be
used to extract strings for babel.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>For a web application that is available in multiple
languages but gives all the users the same language (for example a multilingual
forum software installed for a French community) may load the translations once
and add the translation methods to the environment at environment generation
time:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:184.0pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>translations
= get_gettext_translations() env = Environment(extensions=[</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'jinja2.ext.i18n'</span><span
style='font-size:11.0pt;line-height:105%'>])
env.install_gettext_translations(translations)</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The <i>get_gettext_translations </i>function
would return the translator for the current configuration. (For example by
using <i>gettext.find</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.1pt;
margin-left:-.25pt'>The usage of the <i>i18n </i>extension for template
designers is covered as part <i>of the template documentation</i>.</p>

<h3 style='margin-left:-.25pt'>Whitespace Trimming</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.10.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.65pt;
margin-left:-.25pt'>Linebreaks and surrounding whitespace can be automatically
trimmed by enabling the ext.i18n.trimmed <i>policy</i>.</p>

<h3 style='margin-left:-.25pt'>Newstyle Gettext</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>New in version 2.5.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>Starting with version 2.5 you can use newstyle gettext
calls. These are inspired by trac’s internal gettext functions and are fully
supported by the babel extraction tool. They might not work as expected by
other extraction tools in case you are not using</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>Babel’s.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:-.25pt'>What’s the big difference between standard and newstyle
gettext calls? In general they are less to type and less error prone. Also if
they are used in an autoescaping environment they better support automatic
escaping. Here are some common differences between old and new calls: standard
gettext:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello World!'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello %(name)s!'</span><span
style='font-size:11.0pt;line-height:110%'>)|</span><span style='font-size:11.0pt;
line-height:110%;color:#333333'>format</span><span style='font-size:11.0pt;
line-height:110%'>(name=</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'World'</span><span style='font-size:11.0pt;line-height:110%'>) </span><span
style='font-size:11.0pt;line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%'>ngettext(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'%(num)d apple'</span><span style='font-size:11.0pt;
line-height:105%'>, </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'%(num)d apples'</span><span style='font-size:11.0pt;line-height:
105%'>, apples|</span><span style='font-size:11.0pt;line-height:105%;
color:#333333'>count</span><span style='font-size:11.0pt;line-height:105%'>)|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>format</span><span
style='font-size:11.0pt;line-height:105%'>( num=apples|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>count</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.75pt;margin-left:.5pt;text-align:left;line-height:107%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:107%'>)</span><span
style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>newstyle gettext looks like this instead:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello World!'</span><span
style='font-size:11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>gettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'Hello %(name)s!'</span><span
style='font-size:11.0pt;line-height:110%'>, name=</span><span style='font-size:
11.0pt;line-height:110%;color:#AB8A1C'>'World'</span><span style='font-size:
11.0pt;line-height:110%'>) </span><span style='font-size:11.0pt;line-height:
110%;color:#B01414'>}}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>ngettext(</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'%(num)d apple'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'%(num)d apples'</span><span style='font-size:
11.0pt;line-height:110%'>, apples|</span><span style='font-size:11.0pt;
line-height:110%;color:#333333'>count</span><span style='font-size:11.0pt;
line-height:110%'>) </span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The advantages of newstyle gettext are that you have less
to type and that named placeholders become mandatory. The latter sounds like a
disadvantage but solves a lot of troubles translators are often facing when
they are unable to switch the positions of two placeholder. With newstyle
gettext, all format strings look the same.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Furthermore with newstyle gettext, string formatting is
also used if no placeholders are used which makes all strings behave exactly
the same. Last but not least are newstyle gettext calls able to properly mark
strings for autoescaping which solves lots of escaping related issues many
templates are experiencing over time when using autoescaping.</p>

<h2 style='margin-left:-.25pt'>Expression Statement</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:6.85pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>Import
name: </b><i>jinja2.ext.do</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>The “do” aka expression-statement extension adds a simple <i>do
</i>tag to the template engine that works like a variable expression but
ignores the return value.</p>

<h2 style='margin-left:-.25pt'>Loop Controls</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:6.85pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>Import
name: </b><i>jinja2.ext.loopcontrols</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>This extension adds support for <i>break </i>and <i>continue
</i>in loops. After enabling, Jinja2 provides those two keywords which work
exactly like in Python.</p>

<h2 style='margin-left:-.25pt'>With Statement</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:249.4pt;margin-bottom:
0in;margin-left:-.25pt;line-height:148%'><b>Import name: </b><i>jinja2.ext.with_
</i>Changed in version 2.9.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>This extension is now built-in and no longer does anything.</p>

<h2 style='margin-left:-.25pt'>Autoescape Extension</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:225.95pt;margin-bottom:
0in;margin-left:-.25pt;line-height:148%'><b>Import name: </b><i>jinja2.ext.autoescape
</i>Changed in version 2.9.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This extension was removed and is
now built-in. Enabling the extension no longer does anything.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Writing Extensions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>By writing extensions you can add custom tags to Jinja2.
This is a non-trivial task and usually not needed as the default tags and
expressions cover all common use cases. The i18n extension is a good example of
why extensions are useful. Another one would be fragment caching.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:-.25pt'>When writing extensions you have to keep in mind that you
are working with the Jinja2 template compiler which does not validate the node
tree you are passing to it. If the AST is malformed you will get all kinds of
compiler or runtime errors that are horrible to debug. Always make sure you are
using the nodes you create correctly. The API documentation below shows which
nodes exist and how to use them.</p>

<h3 style='margin-left:-.25pt'>Example Extension</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The following example implements a <i>cache </i>tag for
Jinja2 by using the <a href="http://werkzeug.pocoo.org/"><span
style='color:#CC0000;text-decoration:none'>Werkzeug </span></a>caching contrib
module:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:426.4pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.9pt 5.75pt 0in 3.2pt;height:426.4pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:274.15pt;
  margin-bottom:27.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:116%'><b><span style='font-size:11.0pt;line-height:116%;
  color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
  116%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
  line-height:116%;color:#B80000'>import </span></b><span style='font-size:
  11.0pt;line-height:116%'>nodes </span><b><span style='font-size:11.0pt;
  line-height:116%;color:#B80000'>from </span></b><b><span style='font-size:
  11.0pt;line-height:116%;color:#333333'>jinja2.ext </span></b><b><span
  style='font-size:11.0pt;line-height:116%;color:#B80000'>import </span></b><span
  style='font-size:11.0pt;line-height:116%'>Extension</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:186.9pt;
  margin-bottom:14.05pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:104%'><b><span style='font-size:11.0pt;line-height:104%;
  color:#B80000'>class </span></b><b><span style='font-size:11.0pt;line-height:
  104%;color:#333333'>FragmentCacheExtension</span></b><span style='font-size:
  11.0pt;line-height:104%'>(Extension): </span><span style='font-size:11.0pt;
  line-height:104%;color:#ABABAB'># a set of names that trigger the extension. </span><span
  style='font-size:11.0pt;line-height:104%'>tags = </span><span
  style='font-size:11.0pt;line-height:104%;color:#333333'>set</span><span
  style='font-size:11.0pt;line-height:104%'>([</span><span style='font-size:
  11.0pt;line-height:104%;color:#AB8A1C'>'cache'</span><span style='font-size:
  11.0pt;line-height:104%'>])</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>__init__</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, environment):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.45pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#333333'>super</span><span
  style='font-size:11.0pt;line-height:107%'>(FragmentCacheExtension, </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>).</span><span style='font-size:
  11.0pt;line-height:107%;color:#333333'>__init__</span><span style='font-size:
  11.0pt;line-height:107%'>(environment)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  add the defaults to the environment</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:165.05pt;
  margin-bottom:0in;margin-left:65.45pt;text-align:left;text-indent:-21.8pt;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%'>environment.extend(
  fragment_cache_prefix=</span><span style='font-size:11.0pt;line-height:101%;
  color:#AB8A1C'>''</span><span style='font-size:11.0pt;line-height:101%'>,
  fragment_cache=</span><span style='font-size:11.0pt;line-height:101%;
  color:#333333'>None</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.95pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>parse</span><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, parser):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  the first token is the token that started the tag. In our case</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  we only listen to ``'cache'`` so this will be a name token with</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.45pt;
  margin-bottom:13.9pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:11.0pt;line-height:104%;color:#ABABAB'>#
  `cache` as value. We get the line number so that we can give # that line
  number to the nodes we create by hand. </span><span style='font-size:11.0pt;
  line-height:104%'>lineno = </span><span style='font-size:11.0pt;line-height:
  104%;color:#333333'>next</span><span style='font-size:11.0pt;line-height:
  104%'>(parser.stream).lineno</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:50.5pt;
  margin-bottom:13.55pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#ABABAB'>#
  now we parse a single expression that is used as cache key. </span><span
  style='font-size:11.0pt;line-height:101%'>args = [parser.parse_expression()]</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.0pt;
  margin-bottom:.1pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#ABABAB'>#
  if there is a comma, the user provided a timeout. If not use # None as second
  parameter.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>parser.stream.skip_if(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'comma'</span><span
  style='font-size:11.0pt;line-height:107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:65.45pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>args.append(parser.parse_expression())</span></p>
  </td>
 </tr>
 <tr style='height:345.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  border-top:none;padding:4.9pt 5.75pt 0in 3.2pt;height:345.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>else</span></b><span style='font-size:11.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.7pt;margin-left:43.65pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>args.append(nodes.Const(</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>None</span><span
  style='font-size:11.0pt;line-height:107%'>))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  now we parse the body of the cache block up to `endcache` and</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:28.7pt;
  margin-bottom:12.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  drop the needle (which would always be `endcache` in that case) </span><span
  style='font-size:11.0pt;line-height:107%'>body = parser.parse_statements([</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'name:endcache'</span><span
  style='font-size:11.0pt;line-height:107%'>], drop_needle=</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>True</span><span
  style='font-size:11.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:66.9pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  now return a `CallBlock` node that calls our _cache_support # helper method
  on this extension.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:.55in;
  margin-bottom:12.95pt;margin-left:147.25pt;text-align:left;text-indent:-125.45pt;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>nodes.CallBlock(</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>self</span><span style='font-size:11.0pt;line-height:107%'>.call_method(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'_cache_support'</span><span
  style='font-size:11.0pt;line-height:107%'>, args), [], [],
  body).set_lineno(lineno)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>def </span></b><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>_cache_support</span><span style='font-size:11.0pt;line-height:
  107%'>(</span><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>, name, timeout, caller):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;&quot;&quot;Helper
  callback.&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:13.45pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>key = </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>.environment.fragment_cache_prefix
  + name</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#ABABAB'>#
  try to load the block from the cache</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:77.8pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:101%'><span style='font-size:11.0pt;line-height:101%;color:#ABABAB'>#
  if there is no fragment in the cache, render it and store # it in the cache.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:159.6pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:112%'><span style='font-size:11.0pt;line-height:112%'>rv = </span><span
  style='font-size:11.0pt;line-height:112%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:112%'>.environment.fragment_cache.get(key)
  </span><b><span style='font-size:11.0pt;line-height:112%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:112%'>rv </span><b><span
  style='font-size:11.0pt;line-height:112%;color:#B80000'>is not </span></b><span
  style='font-size:11.0pt;line-height:112%;color:#333333'>None</span><span
  style='font-size:11.0pt;line-height:112%'>: </span><b><span style='font-size:
  11.0pt;line-height:112%;color:#B80000'>return </span></b><span
  style='font-size:11.0pt;line-height:112%'>rv rv = caller()</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:83.25pt;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#333333'>self</span><span
  style='font-size:11.0pt;line-height:107%'>.environment.fragment_cache.add(key,
  rv, timeout) </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>return </span></b><span style='font-size:11.0pt;line-height:
  107%'>rv</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.0pt;
margin-left:-.25pt'>And here is how you use it in an environment:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
105%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>import </span></b><span style='font-size:11.0pt;
line-height:105%'>Environment</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.4pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%;border:none;padding:0in'><b><span style='font-size:11.0pt;
line-height:107%;color:#B80000'>from </span></b><b><span style='font-size:11.0pt;
line-height:107%;color:#333333'>werkzeug.contrib.cache </span></b><b><span
style='font-size:11.0pt;line-height:107%;color:#B80000'>import </span></b><span
style='font-size:11.0pt;line-height:107%'>SimpleCache</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>env =
Environment(extensions=[FragmentCacheExtension]) env.fragment_cache =
SimpleCache()</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;
margin-left:-.25pt'>Inside the template it’s then possible to mark blocks as
cacheable. The following example caches a sidebar for 300 seconds:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:342.2pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>cache </span></b><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'sidebar'</span><span style='font-size:11.0pt;line-height:110%'>,
</span><span style='font-size:11.0pt;line-height:110%;color:#454545'>300 </span><span
style='font-size:11.0pt;line-height:110%;color:#B01414'>%} </span><span
style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span style='font-size:
11.0pt;line-height:110%;color:dimgray'>div </span></b><span style='font-size:
11.0pt;line-height:110%;color:dimgray'>class</span><span style='font-size:11.0pt;
line-height:110%'>=</span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>&quot;sidebar&quot;</span><span style='font-size:11.0pt;
line-height:110%'>&gt; ...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:35.45pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>div</span></b><span
style='font-size:11.0pt;line-height:108%'>&gt; </span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>endcache </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<h3 style='margin-left:-.25pt'>Extension API</h3>

<p class=MsoNormal style='margin-left:-.25pt'>Extensions always have to extend
the jinja2.ext.Extension class:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.ext.<b>Extension</b>(<i>environment</i>)</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'>Extensions
can be used to add extra functionality to the Jinja template system</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:29.75pt'>at the parser level. Custom extensions are bound to an
environment but may not store environment specific data on <i>self</i>. The
reason for this is that an extension can be bound to another environment (for
overlays) by creating a copy and reassigning the <i>environment </i>attribute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:29.75pt'>As extensions are created by the environment they cannot
accept any arguments for configuration. One may want to work around that by
using a factory function, but that is not possible as extensions are identified
by their import name. The correct way to configure the extension is storing the
configuration values on the environment. Because this way the environment ends
up acting as central configuration storage the attributes may clash which is
why extensions have to ensure that the names they choose for configuration are
not too generic. prefix for example is a terrible name, fragment_cache_prefix on
the other hand is a good name as includes the name of the extension (fragment
cache).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>identifier</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:55.5pt'>The identifier of the extension. This is always the true
import name of the extension class and must not be changed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>tags</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>If the extension implements
custom tags this is a set of tag names the extension is listening for.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>attr</b>(<i>name</i>,
<i>lineno=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:55.5pt'>Return an attribute node for the current extension. This is
useful to pass constants on extensions to generated template code.</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:55.0pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.45pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#333333'>self</span><span style='font-size:11.0pt;line-height:105%'>.attr(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'_my_attribute'</span><span
style='font-size:11.0pt;line-height:105%'>, lineno=lineno)</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:101.0pt;text-align:left;text-indent:-71.75pt;
line-height:110%'><b>call_method</b>(<i>name</i>,      <i>args=None</i>,      <i>kwargs=None</i>, <i>dyn_args=None</i>,
<i>dyn_kwargs=None</i>, <i>lineno=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:55.5pt'>Call a method of the extension.    This is a shortcut for attr()
+ jinja2. nodes.Call.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>filter_stream</b>(<i>stream</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;
margin-left:55.5pt'>It’s passed a TokenStream that can be used to filter tokens
returned. This method has to return an iterable of Tokens, but it doesn’t have
to return a TokenStream.</p>

<p class=MsoNormal style='margin-left:55.5pt'>In the <i>ext </i>folder of the
Jinja2 source distribution there is a file called <i>inlinegettext.py </i>which
implements a filter that utilizes this method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>parse</b>(<i>parser</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>If any of the tags matched this
method is called with the parser as first argument. The token the parser stream
is pointing at is the name token that matched. This method has to return one or
a list of multiple nodes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>preprocess</b>(<i>source</i>,
<i>name</i>, <i>filename=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>This method is called before the
actual lexing and can be used to preprocess the source. The <i>filename </i>is
optional. The return value must be the preprocessed source.</p>

<h3 style='margin-left:-.25pt'>Parser API</h3>

<p class=MsoNormal style='margin-left:-.25pt'>The parser passed to Extension.parse()
provides ways to parse expressions of different types. The following methods
may be used by extensions:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:153.65pt;text-align:left;text-indent:-154.4pt;
line-height:110%'><b>class </b>jinja2.parser.<b>Parser</b>(<i>environment</i>,          <i>source</i>, <i>name=None</i>,   <i>filename=None</i>,
<i>state=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>This is the central parsing class Jinja2 uses. It’s passed
to extensions and can be used to parse expressions or statements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>filename</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:55.5pt'>The filename of the template the parser processes. This is <b>not
</b>the load name of the template. For the load name see name. For templates
that were not loaded form the file system this is <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>name</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The load name of the template.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>stream</b></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:25.75pt'>The current TokenStream
<b>fail</b>(<i>msg</i>, <i>lineno=None</i>, <i>exc=&lt;class
‘jinja2.exceptions.TemplateSyntaxError’&gt;</i>) Convenience method that raises
<i>exc </i>with the message, passed line number or last line number as well as
the current name and filename.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>free_identifier</b>(<i>lineno=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Return a new free identifier as InternalName.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:148.8pt;text-align:left;text-indent:-119.55pt;
line-height:110%'><b>parse_assign_target</b>(<i>with_tuple=True</i>, <i>name_only=False</i>,       <i>extra_end_rules=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:55.5pt'>Parse an assignment target. As Jinja2 allows assignments to
tuples, this function can parse all allowed assignment targets. Per default
assignments to tuples are parsed, that can be disable however by setting <i>with_tuple
</i>to <i>False</i>. If only assignments to names are wanted <i>name_only </i>can
be set to <i>True</i>.</p>

<p class=MsoNormal style='margin-left:55.5pt'>The <i>extra_end_rules </i>parameter
is forwarded to the tuple parsing function.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>parse_expression</b>(<i>with_condexpr=True</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Parse an expression. Per default
all expressions are parsed, if the optional <i>with_condexpr </i>parameter is
set to <i>False </i>conditional expressions are not parsed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>parse_statements</b>(<i>end_tokens</i>,
<i>drop_needle=False</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Parse multiple statements into a
list until one of the end tokens is reached. This is used to parse the body of
statements as it also parses template data if appropriate. The parser checks
first if the current token is a colon and skips it if there is one. Then it
checks for the block end and parses until if one of the <i>end_tokens </i>is
reached. Per default the active token in the stream at the end of the call is
the matched end token. If this is not wanted <i>drop_needle </i>can be set to <i>True
</i>and the end token is removed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:101.0pt;text-align:left;text-indent:-71.75pt;
line-height:110%'><b>parse_tuple</b>(<i>simplified=False</i>, <i>with_condexpr=True</i>,
<i>extra_end_rules=None</i>, <i>explicit_parentheses=False</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Works like <i>parse_expression </i>but
if multiple expressions are delimited by a</p>

<p class=MsoNormal style='margin-left:55.5pt'>comma a Tuple node is created.
This method could also return a regular expression instead of a tuple if no
commas where found.</p>

<p class=MsoNormal style='margin-left:55.5pt'>The default parsing mode is a
full tuple. If <i>simplified </i>is <i>True </i>only names and literals are
parsed. The <i>no_condexpr </i>parameter is forwarded to parse_expression().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.95pt;
margin-left:55.5pt'>Because tuples do not require delimiters and may end in a
bogus comma an extra hint is needed that marks the end of a tuple. For example
for loops support tuples between <i>for </i>and <i>in</i>. In that case the <i>extra_end_rules
</i>is set to ['name:in'].</p>

<p class=MsoNormal style='margin-left:55.5pt'><i>explicit_parentheses </i>is
true if the parsing was triggered by an expression in parentheses. This is used
to figure out if an empty tuple is a valid expression or not.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.lexer.<b>TokenStream</b>(<i>generator</i>, <i>name</i>, <i>filename</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A token stream is an iterable
that yields Tokens. The parser however does not iterate over it but calls next()
to go one token ahead. The current active token is stored as current.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>current</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>The current Token.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>eos</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>Are we at the end of the stream?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>expect</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:55.5pt'>Expect a given token type and return it. This accepts the
same argument as jinja2.lexer.Token.test().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>look</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Look at the next token.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>next_if</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Perform the token test and return
the token if it matched. Otherwise the return value is <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>push</b>(<i>token</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Push a token back to the stream.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>skip</b>(<i>n=1</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Got n tokens ahead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>skip_if</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Like next_if() but only returns <i>True
</i>or <i>False</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:282.75pt;
margin-bottom:5.95pt;margin-left:28.5pt;text-align:left;text-indent:-29.25pt;
line-height:108%'><b>class </b>jinja2.lexer.<b>Token </b>Token class.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>lineno</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>The line number of the token</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>type</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>The type of the token. This
string is interned so you may compare it with</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>arbitrary strings using the <i>is </i>operator.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>value</b></p>

<p class=MsoNormal style='margin-left:55.5pt'>The value of the token.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>test</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Test a token against a token
expression. This can either be a token type or 'token_type:token_value'. This
can only test against string values and types.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>test_any</b>(<i>*iterable</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:55.5pt'>Test against multiple token expressions.</p>

<p class=MsoNormal style='margin-left:-.25pt'>There is also a utility function
in the lexer module that can count newline characters in strings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'>jinja2.lexer.<b>count_newlines</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:29.75pt'>Count the number of newline characters in the string. This
is useful for extensions that filter a stream.</p>

<h3 style='margin-left:-.25pt'>AST</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>The AST (Abstract Syntax Tree) is used to represent a
template after parsing. It’s build of nodes that the compiler then converts
into executable Python code objects. Extensions that provide custom statements
can return nodes to execute custom Python code.</p>

<p class=MsoNormal style='margin-left:-.25pt'>The list below describes all
nodes that are currently available. The AST may change between Jinja2 versions
but will stay backwards compatible.</p>

<p class=MsoNormal style='margin-left:-.25pt'>For more information have a look
at the repr of jinja2.Environment.parse().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Node</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Baseclass for all Jinja2 nodes.
There are a number of nodes available of different types. There are four major
types:</p>

<p class=MsoNormal style='margin-left:48.25pt'>•Stmt: statements</p>

<p class=MsoNormal style='margin-left:48.25pt'>•Expr: expressions</p>

<p class=MsoNormal style='margin-left:48.25pt'>•Helper: helper nodes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.7pt;
margin-left:48.25pt'>•Template: the outermost wrapper node</p>

<p class=MsoNormal style='margin-left:29.75pt'>All nodes have fields and
attributes. Fields may be other nodes, lists, or arbitrary values. Fields are
passed to the constructor as regular positional arguments, attributes as
keyword arguments. Each node has two attributes: <i>lineno </i>(the line number
of the node) and <i>environment</i>. The <i>environment </i>attribute is set at
the end of the parsing process for all nodes automatically.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>find</b>(<i>node_type</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Find the first node of a given
type. If no such node exists the return value is <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>find_all</b>(<i>node_type</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Find all the nodes of a given
type. If the type is a tuple, the check is performed for any of the tuple
items.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>iter_child_nodes</b>(<i>exclude=None</i>,
<i>only=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Iterates over all direct child
nodes of the node. This iterates over all fields and yields the values of they
are nodes. If the value of a field is a list all the nodes in that list are
returned.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>iter_fields</b>(<i>exclude=None</i>,
<i>only=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>This method iterates over all
fields that are defined and yields (key, value) tuples. Per default all fields
are returned, but it’s possible to limit that to some fields by providing the <i>only
</i>parameter or to exclude some using the <i>exclude </i>parameter. Both
should be sets or tuples of field names.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>set_ctx</b>(<i>ctx</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Reset the context of a node and
all child nodes. Per default the parser will all generate nodes that have a
‘load’ context as it’s the most common one. This method is used in the parser
to set assignment targets and other nodes to a store context.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>set_environment</b>(<i>environment</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Set the environment for all
nodes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>set_lineno</b>(<i>lineno</i>,
<i>override=False</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Set the line numbers of the node
and children.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Expr</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Baseclass for all expressions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Node</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:29.75pt;text-align:left;line-height:110%'><b>as_const</b>(<i>eval_ctx=None</i>)</p>

<p class=MsoNormal style='margin-left:55.5pt'>Return the value of the
expression as constant or raise Impossible if this was not possible.</p>

<p class=MsoNormal style='margin-left:55.5pt'>An EvalContext can be provided,
if none is given a default context is created which requires the nodes to have
an attached environment.</p>

<p class=MsoNormal style='margin-left:55.5pt'>Changed in version 2.4: the <i>eval_ctx
</i>parameter was added.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:29.0pt;text-align:left;line-height:111%'><b>can_assign</b>()</p>

<p class=MsoNormal style='margin-left:55.5pt'>Check if it’s possible to assign
something to this node.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>BinExpr</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Baseclass for all binary
expressions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Add</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Add the left to the right node.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:241.25pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>And</b>(<i>left</i>,
<i>right</i>) Short circuited AND.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Div</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Divides the left by the right
node.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>FloorDiv</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Divides the left by the right
node and truncates conver the result into an integer by truncating.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:248.75pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Mod</b>(<i>left</i>,
<i>right</i>) Left modulo right.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Mul</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Multiplies the left with the
right node.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:247.25pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Or</b>(<i>left</i>,
<i>right</i>) Short circuited OR.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:248.75pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Pow</b>(<i>left</i>,
<i>right</i>) Left to the power of right.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Sub</b>(<i>left</i>, <i>right</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Subtract the right from the left
node.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>BinExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>Call</b>(<i>node</i>, <i>args</i>, <i>kwargs</i>, <i>dyn_args</i>,
<i>dyn_kwargs</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Calls an expression. <i>args </i>is
a list of arguments, <i>kwargs </i>a list of keyword arguments (list of Keyword
nodes), and <i>dyn_args </i>and <i>dyn_kwargs </i>has to be either <i>None </i>or
a node that is used as node for dynamic positional (*args) or keyword (**kwargs)
arguments.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Compare</b>(<i>expr</i>, <i>ops</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:0in;text-align:left;text-indent:0in'><span
style='font-size:11.0pt;line-height:103%'>                     </span>Compares
an expression with some other expressions.               <i>ops </i>must be a
list of</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:29.75pt;text-align:left;line-height:108%'>Operands.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Concat</b>(<i>nodes</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Concatenates the list of
expressions provided after converting them to unicode.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:29.35pt;text-align:left;line-height:108%'>jinja2.nodes.<b>CondExpr</b>(<i>test</i>,
<i>expr1</i>, <i>expr2</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A conditional expression (inline
if expression). ({{ foo if bar else baz }})</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>ContextReference</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Returns the current template
context. It can be used like a Name node, with a 'load' ctx and will return the
current Context object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Here an example that assigns the current template name to
a variable named <i>foo</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=571
 style='width:5.95in;margin-left:26.1pt;border-collapse:collapse'>
 <tr style='height:33.45pt'>
  <td width=571 valign=top style='width:5.95in;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:33.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Assign(Name(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'foo'</span><span
  style='font-size:11.0pt;line-height:107%'>, ctx=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'store'</span><span
  style='font-size:11.0pt;line-height:107%'>),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:38.2pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>Getattr(ContextReference(),
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'name'</span><span
  style='font-size:11.0pt;line-height:107%'>))</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.1pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>EnvironmentAttribute</b>(<i>name</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Loads an attribute from the
environment object. This is useful for extensions that want to call a callback
stored on the environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>ExtensionAttribute</b>(<i>identifier</i>,
<i>name</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Returns the attribute of an
extension bound to the environment. The identifier is the identifier of the Extension.</p>

<p class=MsoNormal style='margin-left:29.75pt'>This node is usually constructed
by calling the attr() method on an extension.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>Filter</b>(<i>node</i>, <i>name</i>, <i>args</i>, <i>kwargs</i>,
<i>dyn_args</i>, <i>dyn_kwargs</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>This node applies a filter on an
expression. <i>name </i>is the name of the filter, the rest of the fields are
the same as for Call.</p>

<p class=MsoNormal style='margin-left:29.75pt'>If the <i>node </i>of a filter
is <i>None </i>the contents of the last buffer are filtered. Buffers are
created by macros and filter blocks.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Getattr</b>(<i>node</i>, <i>attr</i>, <i>ctx</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Get an attribute or item from an
expression that is a ascii-only bytestring and prefer the attribute.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Getitem</b>(<i>node</i>, <i>arg</i>, <i>ctx</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Get an attribute or item from an
expression and prefer the item.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>ImportedName</b>(<i>importname</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>If created with an import name
the import name is returned on node access. For example ImportedName('cgi.escape')
returns the <i>escape </i>function from the cgi module on evaluation. Imports
are optimized by the compiler so there is no need to assign them to local
variables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>InternalName</b>(<i>name</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>An internal name in the
compiler. You cannot create these nodes yourself but the parser provides a free_identifier()
method that creates a new identifier for you. This identifier is not available
from the template and is not threated specially by the compiler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:253.9pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Literal
</b>Baseclass for literals.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Const</b>(<i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>All constant values. The parser
will return this node for simple constants such as 42 or &quot;foo&quot; but it
can be used to store more complex values such as lists too. Only constants with
a safe representation (objects where eval(repr(x)) == x is true).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Literal</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Dict</b>(<i>items</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Any dict literal such as {1: 2,
3: 4}. The items must be a list of Pair nodes.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Literal</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>List</b>(<i>items</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Any list literal such as [1, 2,
3]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Literal</p>

<p class=MsoNormal style='margin-top:0in;margin-right:231.15pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>TemplateData</b>(<i>data</i>)
A constant template string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Literal</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Tuple</b>(<i>items</i>, <i>ctx</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>For loop unpacking and some
other things like multiple arguments for subscripts. Like for Name <i>ctx </i>specifies
if the tuple is used for loading the names or storing.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Literal</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>MarkSafe</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Mark the wrapped expression as
safe (wrap it as <i>Markup</i>).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>MarkSafeIfAutoescape</b>(<i>expr</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:29.75pt'>Mark the wrapped expression as safe (wrap it as <i>Markup</i>)
but only if autoescaping is active.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.5.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:29.35pt;text-align:left;line-height:108%'>jinja2.nodes.<b>Name</b>(<i>name</i>,
<i>ctx</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Looks up a name or stores a
value in a name. The <i>ctx </i>of the node can be one of the following values:</p>

<p class=MsoNormal style='margin-left:48.25pt'>•<i>store</i>: store a value in
the name</p>

<p class=MsoNormal style='margin-left:48.25pt'>•<i>load</i>: load that name</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:14.25pt;margin-left:5.2pt;text-align:center;text-indent:0in;
line-height:107%'>•<i>param</i>: like <i>store </i>but if the name was defined
as function parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.8pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Slice</b>(<i>start</i>, <i>stop</i>, <i>step</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Represents a slice object. This
must only be used as argument for Subscript.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>Test</b>(<i>node</i>, <i>name</i>, <i>args</i>, <i>kwargs</i>,
<i>dyn_args</i>, <i>dyn_kwargs</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Applies a test on an expression.
<i>name </i>is the name of the test, the rest of the fields are the same as for
Call.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>UnaryExpr</b>(<i>node</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Baseclass for all unary
expressions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Expr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Neg</b>(<i>node</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Make the expression negative.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.05pt;margin-left:55.5pt;text-align:left;line-height:108%'><b>Node
type </b>UnaryExpr</p>

<p class=MsoNormal style='margin-top:0in;margin-right:254.3pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Not</b>(<i>node</i>)
Negate the expression.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.05pt;margin-left:55.5pt;text-align:left;line-height:108%'><b>Node
type </b>UnaryExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Pos</b>(<i>node</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Make the expression positive
(noop for most expressions)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:55.5pt;text-align:left;line-height:108%'><b>Node
type </b>UnaryExpr</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Helper</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Nodes that exist in a specific
context only.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Node</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Keyword</b>(<i>key</i>, <i>value</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A key, value pair for keyword
arguments where key is a string.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Helper</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Operand</b>(<i>op</i>, <i>expr</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.75pt'>Holds an operator and an expression. The following
operators are available: %,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.85pt;margin-left:29.75pt;text-align:left;line-height:108%'>**, *,
+, -, //, /, eq, gt, gteq, in, lt, lteq, ne, not, notin</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Helper</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection9>

<p class=MsoNormal style='margin-top:0in;margin-right:251.7pt;margin-bottom:
7.8pt;margin-left:29.35pt'>jinja2.nodes.<b>Pair</b>(<i>key</i>, <i>value</i>) A
key, value pair for dicts.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Helper</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Stmt</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Base node for all statements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Node</p>

<p class=MsoNormal style='margin-top:0in;margin-right:198.4pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Assign</b>(<i>target</i>,
<i>node</i>) Assigns an expression to a target.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:168.25pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>AssignBlock</b>(<i>target</i>,
<i>body</i>) Assigns a block to a target.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:201.45pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Block</b>(<i>name</i>,
<i>body</i>, <i>scoped</i>) A node that represents a block.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:284.65pt;
margin-bottom:7.0pt;margin-left:28.5pt;text-align:left;text-indent:-29.25pt;
line-height:108%'><b>class </b>jinja2.nodes.<b>Break </b>Break a loop.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>CallBlock</b>(<i>call</i>, <i>args</i>, <i>defaults</i>, <i>body</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Like a macro without a name but
a call instead. <i>call </i>is called with the unnamed macro as <i>caller </i>argument
this node holds.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:247.65pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Continue
</b>Continue a loop.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>EvalContextModifier</b>(<i>options</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Modifies the eval context. For
each option that should be modified, a Keyword has to be added to the options list.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:29.75pt'>Example to change the <i>autoescape </i>setting:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:29.25pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:23.3pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>EvalContextModifier(options=[Keyword(</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'autoescape'</span><span
style='font-size:11.0pt;line-height:105%'>, Const(</span><b><span
style='font-size:11.0pt;line-height:105%;color:#B80000'>True</span></b><span
style='font-size:11.0pt;line-height:105%'>))])</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:111%'><b>class </b>jinja2.nodes.<b>ScopedEvalContextModifier</b>(<i>options</i>,
<i>body</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Modifies the eval context and
reverts it later. Works exactly like EvalContextModifier but will only modify
the EvalContext for nodes in the body.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:55.5pt;text-align:left;line-height:108%'><b>Node
type </b>EvalContextModifier</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:29.35pt;text-align:left;line-height:108%'>jinja2.nodes.<b>ExprStmt</b>(<i>node</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A statement that evaluates an
expression and discards the result.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Extends</b>(<i>template</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Represents an extends statement.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:185.8pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>FilterBlock</b>(<i>body</i>,
<i>filter</i>) Node for filter sections.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>For</b>(<i>target</i>, <i>iter</i>, <i>body</i>, <i>else_</i>,
<i>test</i>, <i>recursive</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>The for loop. <i>target </i>is
the target for the iteration (usually a Name or Tuple), <i>iter </i>the
iterable. <i>body </i>is a list of nodes that are used as loop-body, and <i>else_
</i>a list of nodes for the <i>else </i>block. If no else node exists it has to
be an empty list.</p>

<p class=MsoNormal style='margin-left:29.75pt'>For filtered nodes an expression
can be stored as <i>test</i>, otherwise <i>None</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>FromImport</b>(<i>template</i>, <i>names</i>, <i>with_context</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:29.75pt'>A node that represents the from import tag. It’s important
to not pass unsafe names to the name attribute. The compiler translates the
attribute lookups directly into getattr calls and does <i>not </i>use the
subscript callback of the interface. As exported variables may not start with
double underscores (which the parser asserts) this is not a problem for regular
Jinja code, but if this node is used in an extension extra care must be taken.</p>

<p class=MsoNormal style='margin-left:29.75pt'>The list of names may contain
tuples if aliases are wanted.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>If</b>(<i>test</i>, <i>body</i>, <i>else_</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>If <i>test </i>is true, <i>body </i>is
rendered, else <i>else_</i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:142.8pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Import</b>(<i>template</i>,
<i>target</i>, <i>with_context</i>) A node that represents the import tag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:91.0pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Include</b>(<i>template</i>,
<i>with_context</i>, <i>ignore_missing</i>) A node that represents the include
tag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>Macro</b>(<i>name</i>, <i>args</i>, <i>defaults</i>, <i>body</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A macro definition. <i>name </i>is
the name of the macro, <i>args </i>a list of arguments and <i>defaults </i>a
list of defaults if there are any. <i>body </i>is a list of nodes for the macro
body.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:29.35pt;text-align:left;line-height:108%'>jinja2.nodes.<b>Output</b>(<i>nodes</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>A node that holds multiple
expressions which are then printed out. This is used both for the <i>print </i>statement
and the regular template data.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal style='margin-top:0in;margin-right:263.8pt;margin-bottom:
7.8pt;margin-left:28.5pt;text-indent:-29.25pt'><b>class </b>jinja2.nodes.<b>Scope</b>(<i>body</i>)
An artificial scope.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:110%'><b>class
</b>jinja2.nodes.<b>With</b>(<i>targets</i>, <i>values</i>, <i>body</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:29.75pt'>Specific node for with statements. In older versions of
Jinja the with statement was implemented on the base of the <i>Scope </i>node
instead.</p>

<p class=MsoNormal style='margin-left:29.75pt'>New in version 2.9.3.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Stmt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>class
</b>jinja2.nodes.<b>Template</b>(<i>body</i>)</p>

<p class=MsoNormal style='margin-left:29.75pt'>Node that represents a template.
This must be the outermost node that is passed to the compiler.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:54.75pt;text-align:left;line-height:104%'><b>Node
type </b>Node</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:108%'><b>exception
</b>jinja2.nodes.<b>Impossible</b></p>

<p class=MsoNormal style='margin-left:29.75pt'>Raised if the node could not
perform a requested action.</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:50.2pt;margin-left:.5pt;text-align:right;line-height:110%'>CHAPTER
<b><span style='font-size:17.0pt;line-height:110%'>6</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 170515"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Integration</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 170518"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja2 provides some code for
integration into other tools such as frameworks, the <a
href="http://babel.pocoo.org/"><span style='color:#CC0000;text-decoration:none'>Babel</span></a><span
style='color:#CC0000'> </span>library or your favourite editor for fancy code
highlighting. This is a brief description of whats included.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>Files to help integration are available <a
href="https://github.com/pallets/jinja/tree/master/ext"><span style='color:
#CC0000;text-decoration:none'>here.</span></a></p>

<h2 style='margin-left:-.25pt'>Babel Integration</h2>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja provides support for
extracting gettext messages from templates via a <a
href="http://babel.pocoo.org/"><span style='color:#CC0000;text-decoration:none'>Babel</span></a><span
style='color:#CC0000'> </span>extractor entry point called <i>jinja2.ext.babel_extract</i>.
The Babel support is implemented as part of the <i>i18n Extension </i>extension.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>Gettext messages extracted from both <i>trans </i>tags and
code expressions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>To extract gettext messages from templates, the project
needs a Jinja2 section in its Babel extraction method <a
href="http://babel.pocoo.org/en/latest/messages.html#extraction-method-mapping-and-configuration"><span
style='color:#CC0000;text-decoration:none'>mapping file</span></a><a
href="http://babel.pocoo.org/en/latest/messages.html#extraction-method-mapping-and-configuration"><span
style='color:black;text-decoration:none'>:</span></a></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:244.0pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.65pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>[jinja2: **/templates/**.html] </span></b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>encoding </span><span
style='font-size:11.0pt;line-height:108%'>= </span><span style='font-size:11.0pt;
line-height:108%;color:#AB8A1C'>utf-8</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>The syntax related options of the Environment are also
available as configuration values in the mapping file. For example to tell the
extraction that templates use % as <i>line_statement_prefix </i>you can use
this code:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:249.45pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>[jinja2: **/templates/**.html] </span></b><span
style='font-size:11.0pt;line-height:108%;color:dimgray'>encoding </span><span
style='font-size:11.0pt;line-height:108%'>= </span><span style='font-size:11.0pt;
line-height:108%;color:#AB8A1C'>utf-8 </span><span style='font-size:11.0pt;
line-height:108%;color:dimgray'>line_statement_prefix </span><span
style='font-size:11.0pt;line-height:108%'>= </span><span style='font-size:11.0pt;
line-height:108%;color:#AB8A1C'>%</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:-.25pt'><i>Extensions </i>may also be defined by passing a comma
separated list of import paths as <i>extensions </i>value. The i18n extension
is added automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.25pt;
margin-left:-.25pt'>Changed in version 2.7: Until 2.7 template syntax errors
were always ignored. This was done since many people are dropping non template
html files into the templates folder and it would randomly fail. The assumption
was that testsuites will catch syntax errors in templates anyways. If you don’t
want that behavior you can add silent=false to the settings and exceptions are
propagated.</p>

<h2 style='margin-left:-.25pt'>Pylons</h2>

<p class=MsoNormal style='margin-left:-.25pt'>With <a
href="http://www.pylonshq.com/"><span style='color:#CC0000;text-decoration:
none'>Pylons</span></a><span style='color:#CC0000'> </span>0.9.7 onwards it’s
incredible easy to integrate Jinja into a Pylons powered application.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.9pt;
margin-left:-.25pt'>The template engine is configured in <i>config/environment.py</i>.
The configuration for Jinja2 looks something like that:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>from </span></b><b><span style='font-size:11.0pt;line-height:
105%;color:#333333'>jinja2 </span></b><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>import </span></b><span style='font-size:11.0pt;
line-height:105%'>Environment, PackageLoader config[</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'pylons.app_globals'</span><span
style='font-size:11.0pt;line-height:105%'>].jinja_env = Environment(
loader=PackageLoader(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'yourapplication'</span><span style='font-size:11.0pt;
line-height:105%'>, </span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'templates'</span><span style='font-size:11.0pt;line-height:
105%'>)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>After that you can render Jinja
templates by using the <i>render_jinja </i>function from the <i>pylons.templating
</i>module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.6pt;
margin-left:-.25pt'>Additionally it’s a good idea to set the Pylons’ <i>c </i>object
into strict mode. Per default any attribute to not existing attributes on the <i>c
</i>object return an empty string and not an undefined object. To change this
just use this snippet and add it into your <i>config/environment.py</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:40.75pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>config[</span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'pylons.strict_c'</span><span
style='font-size:11.0pt;line-height:110%'>] = </span><b><span style='font-size:
11.0pt;line-height:110%;color:#B80000'>True</span></b></p>

</div>

<h2 style='margin-left:-.25pt'>TextMate</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>There is a <a
href="https://github.com/mitsuhiko/jinja2-tmbundle"><span style='color:#CC0000;
text-decoration:none'>bundle for TextMate</span></a><span style='color:#CC0000'>
</span>that supports syntax highlighting for Jinja1 and Jinja2 for text based
templates as well as HTML. It also contains a few often used snippets.</p>

<h2 style='margin-left:-.25pt'>Vim</h2>

<p class=MsoNormal style='margin-left:-.25pt'>A syntax plugin for <a
href="http://www.vim.org/"><span style='color:#CC0000;text-decoration:none'>Vim</span></a><span
style='color:#CC0000'> </span>exists in the Vim-scripts directory as well as
the <i>ext </i>folder at the root of the Jinja2 project. <a
href="http://www.vim.org/scripts/script.php?script_id=1856"><span
style='color:#CC0000;text-decoration:none'>The script</span></a><span
style='color:#CC0000'> </span>supports Jinja1 and Jinja2. Once installed two
file types are available <i>jinja </i>and <i>htmljinja</i>. The first one for
text based templates, the latter for HTML templates.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Copy the files into your <i>syntax
</i>folder.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:50.2pt;margin-left:.5pt;text-align:right;line-height:110%'>CHAPTER
<b><span style='font-size:17.0pt;line-height:110%'>7</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 169942"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 align=left style='margin-top:0in;margin-right:0in;margin-bottom:.15pt;
margin-left:17.95pt;text-align:left'>Switching from other Template Engines</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 169943"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>If you have used a different template engine in the past
and want to switch to Jinja2 here is a small guide that shows the basic
syntactic and semantic changes between some common, similar text template
engines for Python.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Jinja1</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:-.25pt'>Jinja2 is mostly compatible with Jinja1 in terms of API
usage and template syntax. The differences between Jinja1 and 2 are explained
in the following list.</p>

<h3 style='margin-left:-.25pt'>API</h3>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Loaders </b>Jinja2
uses a different loader API. Because the internal representation of templates
changed there is no longer support for external caching systems such as
memcached. The memory consumed by templates is comparable with regular Python
modules now and external caching doesn’t give any advantage. If you have used a
custom loader in the past have a look at the new <i>loader API</i>.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Loading
templates from strings </b>In the past it was possible to generate templates
from a string with the default environment configuration by using <i>jinja.from_string</i>.
Jinja2 provides a Template class that can be used to do the same, but with
optional additional configuration.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Automatic
unicode conversion </b>Jinja1 performed automatic conversion of bytestrings in
a given encoding into unicode objects. This conversion is no longer implemented
as it was inconsistent as most libraries are using the regular Python ASCII
bytestring to Unicode conversion. An application powered by Jinja2 <i>has</i></p>

<p class=MsoNormal style='margin-left:29.75pt'><i>to </i>use unicode internally
everywhere or make sure that Jinja2 only gets unicode strings passed.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>i18n </b>Jinja1
used custom translators for internationalization. i18n is now available as
Jinja2 extension and uses a simpler, more gettext friendly interface and has
support for babel. For more details see <i>i18n Extension</i>.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Internal
methods </b>Jinja1 exposed a few internal methods on the environment object
such as <i>call_function</i>, <i>get_attribute </i>and others. While they were
marked as being an internal method it was possible to override them. Jinja2
doesn’t have equivalent methods.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Sandbox </b>Jinja1
was running sandbox mode by default. Few applications actually used that
feature so it became optional in Jinja2. For more details about the sandboxed
execution see SandboxedEnvironment.</p>

<p class=MsoNormal style='margin-left:28.5pt;text-indent:-29.25pt'><b>Context </b>Jinja1
had a stacked context as storage for variables passed to the environment. In
Jinja2 a similar object exists but it doesn’t allow modifications nor is it a
singleton. As inheritance is dynamic now multiple context objects may exist
during template evaluation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:28.5pt;text-indent:-29.25pt'><b>Filters and Tests </b>Filters and
tests are regular functions now. It’s no longer necessary and allowed to use
factory functions.</p>

<h3 style='margin-left:-.25pt'>Templates</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>Jinja2 has mostly the same syntax as Jinja1. What’s
different is that macros require parentheses around the argument list now.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Additionally Jinja2 allows
dynamic inheritance now and dynamic includes. The old helper function <i>rendertemplate
</i>is gone now, <i>include </i>can be used instead. Includes no longer import
macros and variable assignments, for that the new <i>import </i>tag is used.
This concept is explained in the <i>Import </i>documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.95pt;
margin-left:-.25pt'>Another small change happened in the <i>for</i>-tag. The
special loop variable doesn’t have a <i>parent </i>attribute, instead you have
to alias the loop yourself. See <i>Accessing the parent Loop </i>for more
details.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Django</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>If you have previously worked with Django templates, you
should find Jinja2 very familiar. In fact, most of the syntax elements look and
work the same.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>However, Jinja2 provides some more syntax elements covered
in the documentation and some work a bit different.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This section covers the template
changes. As the API is fundamentally different we won’t cover it here.</p>

<h3 style='margin-left:-.25pt'>Method Calls</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>In Django method calls work implicitly, while Jinja
requires the explicit Python syntax. Thus this Django code:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:108.35pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>page </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>user.get_created_pages </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>...looks like this in Jinja:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:102.9pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>page </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>user.get_created_pages() </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.85pt;
margin-left:-.25pt'>This allows you to pass variables to the method, which is
not possible in Django. This syntax is also used for macros.</p>

<h3 style='margin-left:-.25pt'>Filter Arguments</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>Jinja2 provides more than one argument for filters. Also
the syntax for argument passing is different. A template that looks like this
in Django:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.65pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>items|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>join</span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>:&quot;, &quot; </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:-.25pt'>looks like this in Jinja2:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.6pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>items|</span><span
style='font-size:11.0pt;line-height:105%;color:#333333'>join</span><span
style='font-size:11.0pt;line-height:105%'>(</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>', '</span><span style='font-size:11.0pt;
line-height:105%'>) </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>}}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.65pt;
margin-left:-.25pt'>It is a bit more verbose, but it allows different types of
arguments - including variables - and more than one of them.</p>

<h3 style='margin-left:-.25pt'>Tests</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>In addition to filters there also are tests you can perform
using the is operator. Here are some examples:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.85pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>if </span></b><span style='font-size:11.0pt;line-height:107%'>user.user_id
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>is </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>odd </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>user.username|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>e </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}} </span><span
  style='font-size:11.0pt;line-height:107%'>is odd</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:176.0pt;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>else </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>hmm. </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>user.username|</span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>e </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>}} </span><span style='font-size:11.0pt;
  line-height:107%'>looks pretty normal</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endif </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>Loops</h3>

<p class=MsoNormal style='margin-left:-.25pt'>For loops work very similarly to
Django, but notably the Jinja2 special variable for the loop context is called <i>loop</i>,
not <i>forloop </i>as in Django.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>In addition, the Django <i>empty </i>argument is called <i>else
</i>in Jinja2. For example, the Django template:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>item
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>items </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{{
  </span><span style='font-size:11.0pt;line-height:107%'>item </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:377.8pt;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>empty
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>No items!</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>...looks like this in Jinja2:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:312.35pt;
  margin-bottom:.85pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>items </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} {{ </span><span
  style='font-size:11.0pt;line-height:107%'>item </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:377.8pt;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>else </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>No items!</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<h3 style='margin-left:-.25pt'>Cycle</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.4pt;
margin-left:-.25pt'>The {% cycle %} tag does not exist in Jinja2; however, you
can achieve the same output by using the <i>cycle </i>method on the loop
context special variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.85pt;
margin-left:-.25pt'>The following Django template:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>user
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>users </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>li </span></b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:110%;color:#B80000'>cycle </span></b><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'odd' 'even' </span><span style='font-size:
11.0pt;line-height:110%;color:#B01414'>%}</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:110%'>&gt;</span><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:110%'>user </span><span
style='font-size:11.0pt;line-height:110%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:110%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:110%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>...looks like this in Jinja2:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:47.0pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.05pt 5.75pt 0in 3.2pt;height:47.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:107%'>user
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>users </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%;color:#333333'>loop</span><span style='font-size:11.0pt;
  line-height:107%'>.cycle(</span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'odd'</span><span style='font-size:11.0pt;line-height:
  107%'>, </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'even'</span><span
  style='font-size:11.0pt;line-height:107%'>) </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>}}</span><span style='font-size:11.0pt;
  line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
  line-height:107%'>&gt;</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:107%'>user
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:31.4pt;margin-left:-.25pt;text-align:left;line-height:108%'>There
is no equivalent of {% cycle ... as variable %}.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Mako</h2>

<p class=MsoNormal style='margin-left:-.25pt'>If you have used Mako so far and
want to switch to Jinja2 you can configure Jinja2 to look more like Mako:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>env =
Environment(</span><span style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'&lt;%'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'%&gt;'</span><span style='font-size:11.0pt;
line-height:110%'>, </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'${'</span><span style='font-size:11.0pt;line-height:110%'>, </span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'}'</span><span
style='font-size:11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>'&lt;%doc&gt;'</span><span style='font-size:
11.0pt;line-height:110%'>, </span><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'&lt;/%doc&gt;'</span><span style='font-size:11.0pt;
line-height:110%'>, </span><span style='font-size:11.0pt;line-height:110%;
color:#AB8A1C'>'%'</span><span style='font-size:11.0pt;line-height:110%'>, </span><span
style='font-size:11.0pt;line-height:110%;color:#AB8A1C'>'##'</span><span
style='font-size:11.0pt;line-height:110%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>With an environment configured
like that, Jinja2 should be able to interpret a small subset of Mako templates.
Jinja2 does not support embedded Python code, so you would have to move that
out of the template. The syntax for defs (which are called macros in Jinja2)
and template inheritance is different too. The following Mako template:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:101.2pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:101.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;%</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>inherit </span><span style='font-size:11.0pt;line-height:107%;
  color:dimgray'>file=</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;layout.html&quot; </span><span style='font-size:11.0pt;
  line-height:107%;color:#B01414'>/&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>&lt;%</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>def </span><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>name=</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;title()&quot;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%'>Page Title</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>&lt;/%</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>def</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>list</span><span
  style='font-size:11.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.65pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>${</span><span style='font-size:11.0pt;
  line-height:107%'>item</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor</span></b></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Looks like this in Jinja2 with the above configuration:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:128.3pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.55pt 5.75pt 0in 3.2pt;height:128.3pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;% </span><span style='font-size:11.0pt;line-height:107%'>extends
  </span><span style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;layout.html&quot;
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;% </span><span style='font-size:11.0pt;line-height:107%'>block
  title </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%&gt;</span><span
  style='font-size:11.0pt;line-height:107%'>Page Title</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>&lt;% </span><span
  style='font-size:11.0pt;line-height:107%'>endblock </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>&lt;%
  </span><span style='font-size:11.0pt;line-height:107%'>block body </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>item </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>list</span><span
  style='font-size:11.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.65pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>${</span><span style='font-size:11.0pt;
  line-height:107%'>item</span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor</span></b></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>&lt;% </span><span style='font-size:11.0pt;line-height:107%'>endblock
  </span><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%&gt;</span></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection11>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>110 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>8</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 173233"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Tips and Tricks</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 173234"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>This part of the documentation shows some tips and tricks
for Jinja2 templates.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Null-Master Fallback</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.5pt;
margin-left:-.25pt'>Jinja2 supports dynamic inheritance and does not
distinguish between parent and child template as long as no <i>extends </i>tag
is visited. While this leads to the surprising behavior that everything before
the first <i>extends </i>tag including whitespace is printed out instead of
being ignored, it can be used for a neat trick.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.7pt;
margin-left:-.25pt'>Usually child templates extend from one template that adds
a basic HTML skeleton. However it’s possible to put the <i>extends </i>tag into
an <i>if </i>tag to only extend from the layout template if the <i>standalone </i>variable
evaluates to false which it does per default if it’s not defined. Additionally
a very basic skeleton is added to the file so that if it’s indeed rendered with
<i>standalone </i>set to <i>True </i>a very basic HTML skeleton is added:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>if not </span></b><span style='font-size:11.0pt;line-height:
108%'>standalone </span><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
108%;color:#AB8A1C'>'master.html' </span><span style='font-size:11.0pt;
line-height:108%;color:#B01414'>%}{% </span><b><span style='font-size:11.0pt;
line-height:108%;color:#B80000'>endif </span></b><span style='font-size:11.0pt;
line-height:108%'>-</span><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;line-height:107%;border:
none;padding:0in'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>&lt;!DOCTYPE
HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>title</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:105%;color:#B80000'>block </span></b><span style='font-size:
11.0pt;line-height:105%'>title </span><span style='font-size:11.0pt;line-height:
105%;color:#B01414'>%}</span><span style='font-size:11.0pt;line-height:105%'>The
Page Title</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>{%
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>endblock
</span></b><span style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span><span
style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>title</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>link </span></b><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>rel</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;stylesheet&quot; </span><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>href</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;style.css&quot; </span><span
style='font-size:11.0pt;line-height:110%;color:dimgray'>type</span><span
style='font-size:11.0pt;line-height:110%'>=</span><span style='font-size:11.0pt;
line-height:110%;color:#AB8A1C'>&quot;text/css&quot;</span><span
style='font-size:11.0pt;line-height:110%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>block </span></b><span style='font-size:11.0pt;line-height:108%'>body
</span><span style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;This is the page body.&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>p</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endblock </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<h2 style='margin-left:-.25pt'>Alternating Rows</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.75pt;
margin-left:-.25pt'>If you want to have different styles for each row of a
table or list you can use the <i>cycle </i>method on the <i>loop </i>object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>for </span></b><span style='font-size:11.0pt;line-height:105%'>row
</span><b><span style='font-size:11.0pt;line-height:105%;color:#B80000'>in </span></b><span
style='font-size:11.0pt;line-height:105%'>rows </span><span style='font-size:
11.0pt;line-height:105%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li </span></b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>class</span><span
style='font-size:11.0pt;line-height:105%'>=</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
line-height:105%;color:#333333'>loop</span><span style='font-size:11.0pt;
line-height:105%'>.cycle(</span><span style='font-size:11.0pt;line-height:105%;
color:#AB8A1C'>'odd'</span><span style='font-size:11.0pt;line-height:105%'>, </span><span
style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>'even'</span><span
style='font-size:11.0pt;line-height:105%'>) </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>}}</span><span style='font-size:11.0pt;
line-height:105%;color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;
line-height:105%'>&gt;</span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{{ </span><span style='font-size:11.0pt;line-height:105%'>row </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>}}</span><span
style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>li</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.2pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>&lt;/</span><b><span
style='font-size:11.0pt;line-height:105%;color:dimgray'>ul</span></b><span
style='font-size:11.0pt;line-height:105%'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.85pt;
margin-left:-.25pt'><i>cycle </i>can take an unlimited amount of strings. Each
time this tag is encountered the next item from the list is rendered.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Highlighting Active Menu Items</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:-.25pt'>Often you want to have a navigation bar with an active
navigation item. This is really simple to achieve. Because assignments outside
of <i>block</i>s in child templates are global and executed before the layout
template is evaluated it’s possible to define the active menu item in the child
template:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>&quot;layout.html&quot; </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.8pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>active_page
= </span><span style='font-size:11.0pt;line-height:105%;color:#AB8A1C'>&quot;index&quot;
</span><span style='font-size:11.0pt;line-height:105%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The layout template can then access <i>active_page</i>.
Additionally it makes sense to define a default for that variable:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:196.05pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:3.8pt 5.75pt 0in 3.2pt;height:196.05pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:107%'>navigation_bar
  = [</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'/'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'index'</span><span style='font-size:
  11.0pt;line-height:107%'>, </span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'Index'</span><span style='font-size:11.0pt;line-height:
  107%'>),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'/downloads/'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'downloads'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'Downloads'</span><span
  style='font-size:11.0pt;line-height:107%'>),</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>(</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>'/about/'</span><span
  style='font-size:11.0pt;line-height:107%'>, </span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'about'</span><span style='font-size:
  11.0pt;line-height:107%'>, </span><span style='font-size:11.0pt;line-height:
  107%;color:#AB8A1C'>'About'</span><span style='font-size:11.0pt;line-height:
  107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>] -</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:143.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>active_page = active_page|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>default</span><span
  style='font-size:11.0pt;line-height:107%'>(</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>'index'</span><span style='font-size:
  11.0pt;line-height:107%'>) -</span><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%} </span><span style='font-size:11.0pt;line-height:107%'>...</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>id</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;navigation&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>href, id, caption </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>navigation_bar </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>if </span></b><span
  style='font-size:11.0pt;line-height:107%'>id == active_page </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>class</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;active&quot;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{% </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>endif</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>href</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>href|</span><span style='font-size:11.0pt;line-height:107%;
  color:#333333'>e </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%;
  color:#AB8A1C'>&quot;</span><span style='font-size:11.0pt;line-height:107%'>&gt;</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>caption|</span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>e </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>a</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>li</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>ul</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>...</span></p>
  </td>
 </tr>
</table>

<h2 style='margin-left:-.25pt'>Accessing the parent Loop</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.85pt;
margin-left:-.25pt'>The special <i>loop </i>variable always points to the
innermost loop. If it’s desired to have access to an outer loop it’s possible
to alias it:</p>

<p class=MsoNormal style='margin-left:-.25pt'>112</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:523.3pt;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:141.85pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.8pt 5.75pt 0in 3.2pt;height:141.85pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>table</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>row </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>table </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>tr</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>set </span></b><span
  style='font-size:11.0pt;line-height:107%'>rowloop = </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>cell </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>row </span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:21.8pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>td </span></b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>id</span><span
  style='font-size:11.0pt;line-height:107%'>=</span><span style='font-size:
  11.0pt;line-height:107%;color:#AB8A1C'>&quot;cell-</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%'>rowloop.index </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>-</span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>{{ </span><span
  style='font-size:11.0pt;line-height:107%;color:#333333'>loop</span><span
  style='font-size:11.0pt;line-height:107%'>.index </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>}}</span><span
  style='font-size:11.0pt;line-height:107%;color:#AB8A1C'>&quot;</span><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span><span style='font-size:
  11.0pt;line-height:107%;color:#B01414'>{{ </span><span style='font-size:11.0pt;
  line-height:107%'>cell </span><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>}}</span><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>td</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.6pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:10.9pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>tr</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>endfor
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>&lt;/</span><b><span
  style='font-size:11.0pt;line-height:107%;color:dimgray'>table</span></b><span
  style='font-size:11.0pt;line-height:107%'>&gt;</span></p>
  </td>
 </tr>
</table>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>114</p>

<h1 align=left style='margin-top:0in;margin-right:97.7pt;margin-bottom:.15pt;
margin-left:-.25pt;text-align:left'><span style='font-size:17.0pt;line-height:
107%'>Part II </span>ADDITIONAL INFORMATION<br clear=all style='page-break-before:
always'>
</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.0pt;
margin-left:-.25pt'>116 CHAPTER <b><span style='font-size:17.0pt;line-height:
103%'>9</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 171860"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Frequently Asked Questions</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 171861"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.05pt;
margin-left:-.25pt'>This page answers some of the often asked questions about
Jinja.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Why is it called Jinja?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.3pt;
margin-left:-.25pt'>The name Jinja was chosen because it’s the name of a
Japanese temple and temple and template share a similar pronunciation. It is
not named after the city in Uganda.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>How fast is it?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.25pt;
margin-left:-.25pt'>We really hate benchmarks especially since they don’t
reflect much. The performance of a template depends on many factors and you
would have to benchmark different engines in different situations. The
benchmarks from the testsuite show that Jinja2 has a similar performance to <a
href="http://www.makotemplates.org/"><span style='color:#CC0000;text-decoration:
none'>Mako</span></a><span style='color:#CC0000'> </span>and is between 10 and
20 times faster than Django’s template engine or Genshi. These numbers should
be taken with tons of salt as the benchmarks that took these numbers only test
a few performance related situations such as looping. Generally speaking the
performance of a template engine doesn’t matter much as the usual bottleneck in
a web application is either the database or the application code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>How Compatible is Jinja2 with Django?</span></p>

<p class=MsoNormal style='margin-left:-.25pt'>The default syntax of Jinja2
matches Django syntax in many ways. However this similarity doesn’t mean that
you can use a Django template unmodified in Jinja2. For</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection12>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>example filter arguments use a function call syntax rather
than a colon to separate filter name and arguments. Additionally the extension
interface in Jinja is fundamentally different from the Django one which means
that your custom tags won’t work any longer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Generally speaking you will use much less custom extensions
as the Jinja template system allows you to use a certain subset of Python
expressions which can replace most Django extensions. For example instead of
using something like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=610
 style='width:457.65pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:74.1pt'>
  <td width=610 valign=top style='width:457.65pt;border:solid black 1.0pt;
  padding:4.0pt 5.75pt 0in 3.2pt;height:74.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>load </span></b><span
  style='font-size:11.0pt;line-height:107%'>comments </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>get_latest_comments
  </span></b><span style='font-size:11.0pt;line-height:107%;color:#454545'>10 </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>as </span></b><span
  style='font-size:11.0pt;line-height:107%'>latest_comments </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%}</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:236.0pt;
  margin-bottom:.3pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;color:#B01414'>{%
  </span><b><span style='font-size:11.0pt;line-height:107%;color:#B80000'>for </span></b><span
  style='font-size:11.0pt;line-height:107%'>comment </span><b><span
  style='font-size:11.0pt;line-height:107%;color:#B80000'>in </span></b><span
  style='font-size:11.0pt;line-height:107%'>latest_comments </span><span
  style='font-size:11.0pt;line-height:107%;color:#B01414'>%} </span><span
  style='font-size:11.0pt;line-height:107%'>...</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:107%;
  color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
  107%;color:#B01414'>%}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:-.25pt'>You will most likely provide an object with attributes to
retrieve comments from the database:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:89.3pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>comment </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>models.comments.latest(</span><span style='font-size:11.0pt;line-height:
105%;color:#454545'>10</span><span style='font-size:11.0pt;line-height:105%'>) </span><span
style='font-size:11.0pt;line-height:105%;color:#B01414'>%} </span><span
style='font-size:11.0pt;line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>Or directly provide the model for quick testing:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:45.65pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:21.8pt;text-align:left;text-indent:-21.8pt;
line-height:105%;border:none;padding:0in'><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>{% </span><b><span style='font-size:11.0pt;
line-height:105%;color:#B80000'>for </span></b><span style='font-size:11.0pt;
line-height:105%'>comment </span><b><span style='font-size:11.0pt;line-height:
105%;color:#B80000'>in </span></b><span style='font-size:11.0pt;line-height:
105%'>Comment.objects.order_by(</span><span style='font-size:11.0pt;line-height:
105%;color:#AB8A1C'>'-pub_date'</span><span style='font-size:11.0pt;line-height:
105%'>)[:</span><span style='font-size:11.0pt;line-height:105%;color:#454545'>10</span><span
style='font-size:11.0pt;line-height:105%'>] </span><span style='font-size:11.0pt;
line-height:105%;color:#B01414'>%} </span><span style='font-size:11.0pt;
line-height:105%'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.3pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>endfor </span></b><span style='font-size:11.0pt;line-height:
108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Please keep in mind that even though you may put such
things into templates it still isn’t a good idea. Queries should go into the
view code and not the template!</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Isn’t it a terrible idea to put Logic
into Templates?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>Without a doubt you should try to remove as much logic from
templates as possible. But templates without any logic mean that you have to do
all the processing in the code which is boring and stupid. A template engine
that does that is shipped with Python and called <i>string.Template</i>. Comes
without loops and if conditions and is by far the fastest template engine you
can get for Python.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>So some amount of logic is required in templates to keep
everyone happy. And Jinja leaves it pretty much to you how much logic you want
to put into templates. There are some restrictions in what you can do and what
not.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Jinja2 neither allows you to put
arbitrary Python code into templates nor does it allow all Python expressions.
The operators are limited to the most common ones and more advanced expressions
such as list comprehensions and generator expressions are not supported. This
keeps the template engine easier to maintain and templates more readable.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Why is Autoescaping not the Default?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>There are multiple reasons why automatic escaping is not
the default mode and also not the recommended one. While automatic escaping of
variables means that you will less likely have an XSS problem it also causes a
huge amount of extra processing in the template engine which can cause serious
performance problems. As Python doesn’t provide a way to mark strings as unsafe
Jinja has to hack around that limitation by providing a custom string class
(the Markup string) that safely interacts with safe and unsafe strings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>With explicit escaping however the template engine doesn’t
have to perform any safety checks on variables. Also a human knows not to
escape integers or strings that may never contain characters one has to escape
or already HTML markup. For example when iterating over a list over a table of
integers and floats for a table of statistics the template designer can omit
the escaping because he knows that integers or floats don’t contain any unsafe
parameters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:-.25pt'>Additionally Jinja2 is a general purpose template engine
and not only used for HTML/XML generation. For example you may generate LaTeX,
emails, CSS,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>JavaScript, or configuration files.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.8pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Why is the Context immutable?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.6pt;
margin-left:-.25pt'>When writing a contextfunction() or something similar you
may have noticed that the context tries to stop you from modifying it. If you
have managed to modify the context by using an internal context API you may
have noticed that changes in the context don’t seem to be visible in the template.
The reason for this is that Jinja uses the context only as primary data source
for template variables for performance reasons.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:-.25pt'>If you want to modify the context write a function that
returns a variable instead that one can assign to a variable by using set:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:41.15pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:105%;
color:#B80000'>set </span></b><span style='font-size:11.0pt;line-height:105%'>comments
= get_latest_comments() </span><span style='font-size:11.0pt;line-height:105%;
color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>My tracebacks look weird. What’s
happening?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:-.25pt'>If the debugsupport module is not compiled and you are
using a Python installation without ctypes (Python 2.4 without ctypes, Jython
or Google’s AppEngine) Jinja2 is unable to provide correct debugging
information and the traceback may be incomplete. There is currently no good
workaround for Jython or the AppEngine as ctypes is unavailable there and it’s
not possible to use the debugsupport extension.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If you are working in the Google
AppEngine development server you can whitelist the ctypes module to restore the
tracebacks. This however won’t work in production environments:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:85.85pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.0pt;margin-left:.5pt;text-align:left;line-height:105%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:105%'>import
os if os.environ.get('SERVER_SOFTWARE', '').startswith('Dev'): from
google.appengine.tools.devappserver2.python import sandbox
sandbox._WHITE_LIST_C_MODULES += ['_ctypes', 'gestalt']</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:-.25pt'>Credit for this snippet goes to <a
href="https://stackoverflow.com/questions/3086091/debug-jinja2-in-google-app-engine/3694434#3694434"><span
style='color:#CC0000;text-decoration:none'>Thomas Johansson</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.6pt;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Why is there no Python
2.3/2.4/2.5/3.1/3.2 support?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.55pt;
margin-left:-.25pt'>Python 2.3 is missing a lot of features that are used
heavily in Jinja2. This decision was made as with the upcoming Python 2.6 and
3.0 versions it becomes harder to maintain the code for older Python versions.
If you really need Python 2.3 support you either have to use <a
href="http://jinja.pocoo.org/1/"><span style='color:#CC0000;text-decoration:
none'>Jinja</span></a><span style='color:#CC0000'> </span><a
href="http://jinja.pocoo.org/1/"><span style='color:#CC0000;text-decoration:
none'>1</span></a><span style='color:#CC0000'> </span>or other templating
engines that still support 2.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:-.25pt'>Python 2.4/2.5/3.1/3.2 support was removed when we switched
to supporting Python 2 and 3 by the same sourcecode (without using 2to3). It
was required to drop support because only Python 2.6/2.7 and &gt;=3.3 support
byte and unicode literals in a way compatible to each other version. If you
really need support for older Python 2 (or 3) versions, you can just use Jinja2
2.6.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>My Macros are overridden by something</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:102.55pt;margin-bottom:
3.3pt;margin-left:-.25pt;line-height:148%'>In some situations the Jinja scoping
appears arbitrary: layout.tmpl:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:238.55pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.15pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>macro </span></b><span style='font-size:11.0pt;line-height:108%'>foo()
</span><span style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span><span
style='font-size:11.0pt;line-height:108%'>LAYOUT</span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>endmacro </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%} {% </span><b><span
style='font-size:11.0pt;line-height:108%;color:#B80000'>block </span></b><span
style='font-size:11.0pt;line-height:108%'>body </span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>%}{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>endblock </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>child.tmpl:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:110%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:110%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:110%;
color:#B80000'>extends </span></b><span style='font-size:11.0pt;line-height:
110%;color:#AB8A1C'>'layout.tmpl' </span><span style='font-size:11.0pt;
line-height:110%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>macro </span></b><span style='font-size:11.0pt;line-height:108%'>foo()
</span><span style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span><span
style='font-size:11.0pt;line-height:108%'>CHILD</span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>endmacro </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:16.6pt;margin-left:.5pt;text-align:left;line-height:108%;
border:none;padding:0in'><span style='font-size:11.0pt;line-height:108%;
color:#B01414'>{% </span><b><span style='font-size:11.0pt;line-height:108%;
color:#B80000'>block </span></b><span style='font-size:11.0pt;line-height:108%'>body
</span><span style='font-size:11.0pt;line-height:108%;color:#B01414'>%}{{ </span><span
style='font-size:11.0pt;line-height:108%'>foo() </span><span style='font-size:
11.0pt;line-height:108%;color:#B01414'>}}{% </span><b><span style='font-size:
11.0pt;line-height:108%;color:#B80000'>endblock </span></b><span
style='font-size:11.0pt;line-height:108%;color:#B01414'>%}</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This will print LAYOUT in Jinja2.
This is a side effect of having the parent template evaluated after the child
one. This allows child templates passing information to the parent template. To
avoid this issue rename the macro or variable in the parent template to have an
uncommon prefix.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:50.05pt;margin-left:.5pt;text-align:right;line-height:110%'>CHAPTER
<b><span style='font-size:17.0pt;line-height:110%'>10</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.6pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 173186"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:0in;margin-left:
.5pt;margin-bottom:.0001pt'>Jinja2 Changelog</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:56.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 173187"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Version 2.10</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(feature release, release date to
be decided)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a
new extension node called <i>OverlayScope </i>which can be used to create an
unoptimized scope that will look up all variables from a derived context.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added an <i>in
</i>test that works like the in operator. This can be used in combination with <i>reject
</i>and <i>select</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>previtem
</i>and <i>nextitem </i>to loop contexts, providing access to the previous/next
item in the loop. If such an item does not exist, the value is undefined.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>changed(*values)
</i>to loop contexts, providing an easy way of checking whether a value has
changed since the last iteration (or rather since the last call of the method)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a <i>namespace
</i>function that creates a special object which allows attribute assignment
using the <i>set </i>tag. This can be used to carry data across scopes, e.g.
from a loop body to code that comes after the loop.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a <i>trimmed
</i>modifier to <i>{% trans %} </i>to strip linebreaks and surrounding
whitespace. Also added a new policy to enable this for all <i>trans </i>blocks.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>The random
filter is no longer incorrectly constant folded and will produce a new random
choice each time the template is rendered. (<a
href="https://github.com/pallets/jinja/pull/478"><span style='color:#CC0000;
text-decoration:none'>#478</span></a><a
href="https://github.com/pallets/jinja/pull/478"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a unique
filter. (<a href="https://github.com/pallets/jinja/pull/469"><span
style='color:#CC0000;text-decoration:none'>#469</span></a><a
href="https://github.com/pallets/jinja/pull/469"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added min and
max filters. (<a href="https://github.com/pallets/jinja/pull/475"><span
style='color:#CC0000;text-decoration:none'>#475</span></a><a
href="https://github.com/pallets/jinja/pull/475"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
tests for all comparison operators: eq, ne, lt, le, gt, ge. (<a
href="https://github.com/pallets/jinja/pull/665"><span style='color:#CC0000;
text-decoration:none'>#665</span></a><a
href="https://github.com/pallets/jinja/pull/665"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>import statement
cannot end with a trailing comma. (<a
href="https://github.com/pallets/jinja/pull/617"><span style='color:#CC0000;
text-decoration:none'>#617</span></a><a
href="https://github.com/pallets/jinja/pull/617"><span style='color:black;
text-decoration:none'>,</span></a> <a
href="https://github.com/pallets/jinja/pull/618"><span style='color:#CC0000;
text-decoration:none'>#618</span></a><a
href="https://github.com/pallets/jinja/pull/618"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>indent filter
will not indent blank lines by default. (<a
href="https://github.com/pallets/jinja/pull/685"><span style='color:#CC0000;
text-decoration:none'>#685</span></a><a
href="https://github.com/pallets/jinja/pull/685"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.3pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added reverse argument for dictsort filter. (<a
href="https://github.com/pallets/jinja/pull/692"><span style='color:#CC0000;
text-decoration:none'>#692</span></a><a
href="https://github.com/pallets/jinja/pull/692"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Version 2.9.7</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, in development)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>tojson filter
marks output as safe to match documented behavior. (<a
href="https://github.com/pallets/jinja/pull/718"><span style='color:#CC0000;
text-decoration:none'>#718</span></a><a
href="https://github.com/pallets/jinja/pull/718"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Resolved a
bug where getting debug locals for tracebacks could modify template context.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.05pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Fixed a bug where having many <i>{% elif ... %} </i>blocks resulted in a
“too many levels of indentation” error. These blocks now compile to native <i>elif
..: </i>instead of <i>else: if ..: </i>(#759)</p>

<h2 style='margin-left:-.25pt'>Version 2.9.6</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
April 3rd 2017)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:16.65pt'>• Fixed custom context behavior in fast resolve mode
(#675)</p>

<h2 style='margin-left:-.25pt'>Version 2.9.5</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 28th 2017)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Restored
the original repr of the internal <i>_GroupTuple </i>because this caused issues
with ansible and it was an unintended change. (#654)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added back
support for custom contexts that override the old <i>resolve </i>method since
it was hard for people to spot that this could cause a regression.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Correctly
use the buffer for the else block of for loops. This caused invalid syntax
errors to be caused on 2.x and completely wrong behavior on Python 3 (#669)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Resolve an
issue where the <i>{% extends %} </i>tag could not be used with async
environments. (#668)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Reduce
memory footprint slightly by reducing our unicode database dump we use for
identifier matching on Python 3 (#666)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
autoescaping not working for macros in async compilation mode. (#671)</p>

<h2 style='margin-left:-.25pt'>Version 2.9.4</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 10th 2017)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Solved
some warnings for string literals. (#646)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Increment
the bytecode cache version which was not done due to an oversight before.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Corrected
bad code generation and scoping for filtered loops. (#649)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Resolved
an issue where top-level output silencing after known extend blocks could
generate invalid code when blocks where contained in if statements. (#651)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Made the <i>truncate.leeway </i>default configurable to improve
compatibility with older templates.</p>

<h2 style='margin-left:-.25pt'>Version 2.9.3</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 8th 2017)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Restored
the use of blocks in macros to the extend that was possible before. On Python 3
it would render a generator repr instead of the block contents. (#645)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Set a
consistent behavior for assigning of variables in inner scopes when the
variable is also read from an outer scope. This now sets the intended behavior
in all situations however it does not restore the old behavior where limited
assignments to outer scopes was possible. For more information and a discussion
see #641</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Resolved
an issue where <i>block scoped </i>would not take advantage of the new scoping
rules. In some more exotic cases a variable overriden in a local scope would
not make it into a block.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.05pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Change the code generation of the <i>with </i>statement to be in line
with the new scoping rules. This resolves some unlikely bugs in edge cases.
This also introduces a new internal <i>With </i>node that can be used by
extensions.</p>

<h2 style='margin-left:-.25pt'>Version 2.9.2</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 8th 2017)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed a
regression that caused for loops to not be able to use the same variable for
the target as well as source iterator. (#640)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add support for a previously unknown behavior of macros. It used to be
possible in some circumstances to explicitly provide a caller argument to
macros. While badly buggy and unintended it turns out that this is a common
case that gets copy pasted around. To not completely break backwards
compatibility with the most common cases it’s now possible to provide an
explicit keyword argument for caller if it’s given an explicit default. (#642)</p>

<h2 style='margin-left:-.25pt'>Version 2.9.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 7th 2017)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>• Resolved a regression with call
block scoping for macros. Nested caller blocks that used the same identifiers
as outer macros could refer to the wrong variable incorrectly.</p>

<h2 style='margin-left:-.25pt'>Version 2.9</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Derivation, released on
January 7th 2017)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Change
cache key definition in environment. This fixes a performance regression
introduced in 2.8.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for <i>generator_stop </i>on supported Python versions (Python 3.5 and
later)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Corrected
a long standing issue with operator precedence of math operations not being
what was expected.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for Python 3.6 async iterators through a new async mode.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
policies for filter defaults and similar things.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>urlize now
sets “rel noopener” by default.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
attribute fallback for old-style classes in 2.x.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
toplevel set statements in extend situations.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Restored
behavior of Cycler for Python 3 users.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Subtraction
now follows the same behavior as other operators on undefined values.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><i>map </i>and
friends will now give better error messages if you forgot to quote the
parameter.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Depend on
MarkupSafe 0.23 or higher.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Improved
the <i>truncate </i>filter to support better truncation in case the string is
barely truncated at all.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Change the
logic for macro autoescaping to be based on the runtime autoescaping
information at call time instead of macro define time.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Ported a
modified version of the <i>tojson </i>filter from Flask to Jinja2 and hooked it
up with the new policy framework.</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection13>

<p class=MsoNormal style='margin-left:29.75pt'>Block sets are now marked <i>safe
</i>by default.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>On Python
2 the asciification of ASCII strings can now be disabled with the <i>compiler.ascii_str
</i>policy.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Tests now
no longer accept an arbitrary expression as first argument but a restricted
one. This means that you can now properly use multiple tests in one expression
without extra parentheses. In particular you can now write foo is divisibleby 2
or foo is divisibleby 3 as you would expect.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Greatly
changed the scoping system to be more consistent with what template designers
and developers expect. There is now no more magic difference between the
different include and import constructs. Context is now always propagated the
same way. The only remaining differences is the defaults for <i>with context </i>and
<i>without context</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>The <i>with
</i>and <i>autoescape </i>tags are now built-in.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added the new <i>select_autoescape </i>function which helps configuring
better autoescaping easier.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Version 2.8.2</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, unreleased)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>• Fixed a runtime error in the sandbox
when attributes of async generators were accessed.</p>

<h2 style='margin-left:-.25pt'>Version 2.8.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
December 29th 2016)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed the <i>for_qs
</i>flag for <i>urlencode</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
regression when applying <i>int </i>to non-string values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>SECURITY: if the sandbox mode is used format expressions are now
sandboxed with the same rules as in Jinja. This solves various information
leakage problems that can occur with format strings.</p>

<h2 style='margin-left:-.25pt'>Version 2.8</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Replacement, released
on July 26th 2015)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>target
</i>parameter to urlize function.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for <i>followsymlinks </i>to the file system loader.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>The
truncate filter now counts the length.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Added equalto filter that helps
with select filters.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Changed
cache keys to use absolute file names if available instead of load names.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed loop
length calculation for some iterators.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Changed
how Jinja2 enforces strings to be native strings in Python 2 to work when
people break their default encoding.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added make_logging_undefined()
which returns an undefined object that logs failures into a logger.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>If
unmarshalling of cached data fails the template will be reloaded now.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Implemented
a block set tag.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Default
cache size was increased to 400 from a low 50.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed is
number test to accept long integers in all Python versions.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Changed is
number to accept Decimal as a number.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a
check for default arguments followed by non-default arguments. This change
makes {% macro m(x, y=1, z) %}...{% endmacro %} a syntax error. The previous
behavior for this code was broken anyway (resulting in the default value being
applied to <i>y</i>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.8pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add ability to use custom subclasses of jinja2.compiler.CodeGenerator and
jinja2.runtime.Context by adding two new attributes to the environment</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:7.05pt;margin-left:29.75pt;text-align:left;line-height:110%'>(<i>code_generator_class
</i>and <i>context_class</i>) (pull request #404).</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added
support for context/environment/evalctx decorator functions on the finalize
callback of the environment.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>escape
query strings for urlencode properly. Previously slashes were not escaped in
that place.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add ‘base’ parameter to ‘int’ filter.</p>

<h2 style='margin-left:-.25pt'>Version 2.7.3</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on June
6th 2014)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>• Security issue: Corrected the
security fix for the cache folder. This fix was provided by RedHat.</p>

<h2 style='margin-left:-.25pt'>Version 2.7.2</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
January 10th 2014)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>• Prefix
loader was not forwarding the locals properly to inner loaders. This is now
fixed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.0pt;
margin-left:29.75pt'>Security issue: Changed the default folder for the
filesystem cache to be user specific and read and write protected on UNIX
systems. See <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=734747"><span
style='color:#CC0000;text-decoration:none'>Debian bug 734747 </span></a>for
more information.</p>

<h2 style='margin-left:-.25pt'>Version 2.7.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
August 7th 2013)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed a
bug with call_filter not working properly on environment and context filters.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed lack
of Python 3 support for bytecode caches.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Reverted
support for defining blocks in included templates as this broke existing
templates for users.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed some
warnings with hashing of undefineds and nodes if Python is run with warnings
for Python 3.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for properly hashing undefined objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Fixed a bug with the title filter not working on already uppercase
strings.</p>

<h2 style='margin-left:-.25pt'>Version 2.7</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Translation, released
on May 20th 2013)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Choice and
prefix loaders now dispatch source and template lookup separately in order to
work in combination with module loaders as advertised.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
filesizeformat.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added a
non-silent option for babel extraction.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>urlencode
</i>filter that automatically quotes values for URL safe usage with utf-8 as
only supported encoding. If applications want to change this encoding they can
override the filter.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>keep-trailing-newline
</i>configuration to environments and templates to optionally preserve the
final trailing newline.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Accessing <i>last
</i>on the loop context no longer causes the iterator to be consumed into a
list.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Python
requirement changed: 2.6, 2.7 or &gt;= 3.3 are required now, supported by same
source code, using the “six” compatibility library.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Allow <i>contextfunction
</i>and other decorators to be applied to <i>__call__</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for changing from newline to different signs in the <i>wordwrap </i>filter.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for ignoring memcache errors silently.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Added support for keeping the
trailing newline in templates.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
finer grained support for stripping whitespace on the left side of blocks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.95pt;
margin-left:29.25pt;text-indent:-13.1pt;line-height:110%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added <i>map</i>,
<i>select</i>, <i>reject</i>, <i>selectattr </i>and <i>rejectattr </i>filters.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for <i>loop.depth </i>to figure out how deep inside a recursive loop
the code is.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Disabled py_compile for pypy and python 3.</p>

<h2 style='margin-left:-.25pt'>Version 2.6</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Convolution, released
on July 24th 2011)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>internal
attributes now raise an internal attribute error now instead of returning an
undefined. This fixes problems when passing undefined objects to Python
semantics expecting APIs.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>traceback
support now works properly for PyPy. (Tested with 1.4)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>implemented
operator intercepting for sandboxed environments. This allows application
developers to disable builtin operators for better security. (For instance
limit the mathematical operators to actual integers instead of longs)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>groupby
filter now supports dotted notation for grouping by attributes of attributes.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>scoped
blocks now properly treat toplevel assignments and imports. Previously an
import suddenly “disappeared” in a scoped block.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>automatically
detect newer Python interpreter versions before loading code from bytecode
caches to prevent segfaults on invalid opcodes. The segfault in earlier Jinja2
versions here was not a Jinja2 bug but a limitation in the underlying Python
interpreter. If you notice Jinja2 segfaulting in earlier versions after an
upgrade of the Python interpreter you don’t have to upgrade, it’s enough to
flush the bytecode cache. This just no longer makes this necessary, Jinja2 will
automatically detect these cases now.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the sum
filter can now sum up values by attribute. This is a backwards incompatible
change. The argument to the filter previously was the optional starting index
which defaults to zero. This now became the second argument to the function
because it’s rarely used.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>like sum,
sort now also makes it possible to order items by attribute.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>like sum
and sort, join now also is able to join attributes of objects as string.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the
internal eval context now has a reference to the environment.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added a
mapping test to see if an object is a dict or an object with a similar
interface.</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection14>

<h2 style='margin-left:-.25pt'>Version 2.5.5</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.6pt;margin-left:29.25pt;text-align:left;text-indent:-29.25pt;
line-height:104%'><b>(re-release of 2.5.4 with built documentation removed for
filesize. </b>Released on October 18th 2010)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:16.65pt'>• built documentation is no longer part of release.</p>

<h2 style='margin-left:-.25pt'>Version 2.5.4</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
October 17th 2010)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
extensions not loading properly with overlays.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>Work around a bug in cpython for the debugger that causes segfaults on
64bit big-endian architectures.</p>

<h2 style='margin-left:-.25pt'>Version 2.5.3</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
October 17th 2010)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:32.1pt;
margin-left:29.25pt;text-indent:-13.1pt'>• fixed an operator precedence error
introduced in 2.5.2. Statements like “-foo.bar” had their implicit parentheses
applied around the first part of the expression (“(foo).bar”) instead of the
more correct “-(foo.bar)”.</p>

<h2 style='margin-left:-.25pt'>Version 2.5.2</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
August 18th 2010)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>improved
setup.py script to better work with assumptions people might still have from it
(--with-speedups).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>fixed a packaging error that excluded the new debug support.</p>

<h2 style='margin-left:-.25pt'>Version 2.5.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
August 17th 2010)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>StopIteration exceptions raised by functions called from templates are
now intercepted and converted to undefineds. This solves a lot of debugging
grief.</p>

<p class=MsoNormal style='margin-left:29.75pt'>(StopIteration is used
internally to abort template execution)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>improved
performance of macro calls slightly.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>babel
extraction can now properly extract newstyle gettext calls.</p>

<p class=MsoNormal style='margin-left:29.75pt'>using the variable <i>num </i>in
newstyle gettext for something else than the pluralize count will no longer
raise a KeyError.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>removed
builtin markup class and switched to markupsafe. For backwards compatibility
the pure Python implementation still exists but is pulled from markupsafe by
the Jinja2 developers. The debug support went into a separate feature called
“debugsupport” and is disabled by default because it is only relevant for
Python 2.4</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>fixed an issue with unary operators having the wrong precedence.</p>

<h2 style='margin-left:-.25pt'>Version 2.5</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Incoherence, released
on May 29th 2010)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>improved
the sort filter (should have worked like this for a long time) by adding
support for case insensitive searches.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
bug for getattribute constant folding.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>support
for newstyle gettext translations which result in a nicer in-template user
interface and more consistent catalogs. (<i>Whitespace Trimming</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>it’s now possible to register extensions after an environment was
created.</p>

<h2 style='margin-left:-.25pt'>Version 2.4.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
April 20th 2010)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:16.65pt'>• fixed an error reporting bug for undefineds.</p>

<h2 style='margin-left:-.25pt'>Version 2.4</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Correlation, released
on April 13th 2010)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the
environment template loading functions now transparently pass through a
template object if it was passed to it. This makes it possible to import or
extend from a template object that was passed to the template.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added a ModuleLoader
that can load templates from precompiled sources. The environment now features
a method to compile the templates from a configured loader into a zip file or
folder.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the
_speedups C extension now supports Python 3.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added
support for autoescaping toggling sections and support for evaluation contexts
(<i>Evaluation Context</i>).</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>extensions
have a priority now.</p>

<h2 style='margin-left:-.25pt'>Version 2.3.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
February 19th 2010)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.75pt;margin-bottom:
7.8pt;margin-left:7.7pt;text-indent:16.15pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span>fixed an error reporting bug on all python versions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.75pt;margin-bottom:
0in;margin-left:7.7pt;text-indent:16.15pt;line-height:224%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>fixed an error
reporting bug on Python 2.4 <span style='font-size:17.0pt;line-height:224%'>Version
2.3</span></p>

<p class=MsoNormal style='margin-left:-.25pt'>(3000 Pythons, released on
February 10th 2010)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixes
issue with code generator that causes unbound variables to be generated if set
was used in if-blocks and other small identifier problems.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>include
tags are now able to select between multiple templates and take the first that
exists, if a list of templates is given.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
problem with having call blocks in outer scopes that have an argument that is
also used as local variable in an inner frame (#360).</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>greatly
improved error message reporting (#339)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>implicit
tuple expressions can no longer be totally empty. This change makes {% if
%}...{% endif %} a syntax error now. (#364)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added
support for translator comments if extracted via babel.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added
with-statement extension.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>experimental Python 3 support.</p>

<h2 style='margin-left:-.25pt'>Version 2.2.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(bugfix release, released on
September 14th 2009)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:16.65pt'>• fixes some smaller problems for Jinja2 on Jython.</p>

<h2 style='margin-left:-.25pt'>Version 2.2</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Kong, released on
September 13th 2009)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Include
statements can now be marked with ignore missing to skip non existing
templates.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Priority
of <i>not </i>raised. It’s now possible to write <i>not foo in bar </i>as an
alias to <i>foo not in bar </i>like in python. Previously the grammar required
parentheses (<i>not (foo in bar)</i>) which was odd.</p>

<p class=MsoNormal style='margin-left:29.75pt'>Fixed a bug that caused syntax
errors when defining macros or using the <i>{% call %} </i>tag inside loops.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed a
bug in the parser that made {{ foo[1, 2] }} impossible.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Made it
possible to refer to names from outer scopes in included templates that were
unused in the callers frame (#327)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed a
bug that caused internal errors if names where used as iteration variable and
regular variable <i>after </i>the loop if that variable was unused <i>before </i>the
loop. (#331)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for optional <i>scoped </i>modifier to blocks.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
support for line-comments.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Added the <i>meta
</i>module.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>Renamed
(undocumented) attribute “overlay” to “overlayed” on the environment because it
was clashing with a method of the same name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>speedup extension is now disabled by default.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.6pt;margin-left:
-.25pt'>Version 2.1.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(Bugfix release)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:16.65pt'>• Fixed a translation error caused by looping over empty
recursive loops.</p>

<h2 style='margin-left:-.25pt'>Version 2.1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename Yasuzo, released on
November 23rd 2008)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
bug with nested loops and the special loop variable. Before the change an inner
loop overwrote the loop variable from the outer one after iteration.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
bug with the i18n extension that caused the explicit pluralization block to
look up the wrong variable.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
limitation in the lexer that made {{ foo.0.0 }} impossible.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>index
based subscribing of variables with a constant value returns an undefined
object now instead of raising an index error. This was a bug caused by eager
optimizing.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the i18n
extension looks up <i>foo.ugettext </i>now followed by <i>foo.gettext </i>if an
translations object is installed. This makes dealing with custom translations
classes easier.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
confusing behavior with conditional extending. loops were partially executed
under some conditions even though they were not part of a visible area.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added <i>sort
</i>filter that works like <i>dictsort </i>but for arbitrary sequences.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>fixed a
bug with empty statements in macros.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>implemented
a bytecode cache system. (<i>Bytecode Cache</i>)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the
template context is now weakref-able</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>inclusions
and imports “with context” forward all variables now, not only the initial
context.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added a
cycle helper called <i>cycler</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added a
joining helper called <i>joiner</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added a <i>compile_expression
</i>method to the environment that allows compiling of Jinja expressions into
callable Python objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>fixed an escaping bug in urlize</p>

<h2 style='margin-left:-.25pt'>Version 2.0</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(codename jinjavitus, released on
July 17th 2008)</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>the
subscribing of objects (looking up attributes and items) changed from slightly.
It’s now possible to give attributes or items a higher priority by either using
dot-notation lookup or the bracket syntax. This also changed the AST slightly. <i>Subscript
</i>is gone and was replaced with Getitem and Getattr.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:21.25pt;
margin-bottom:6.95pt;margin-left:29.75pt;text-align:left;line-height:110%'>For
more information see <i>the implementation details</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added
support for preprocessing and token stream filtering for extensions. This would
allow extensions to allow simplified gettext calls in template data and
something similar.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.1pt;
margin-left:29.25pt;text-indent:-13.1pt;line-height:108%'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>added jinja2.environment.TemplateStream.dump().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>added missing support for implicit string literal concatenation. {{
&quot;foo&quot; &quot;bar&quot;</p>

<p class=MsoNormal style='margin-left:29.75pt'>}} is equivalent to {{
&quot;foobar&quot; }}</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><i>else </i>is
optional for conditional expressions. If not given it evaluates to <i>false</i>.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span>improved
error reporting for undefined values by providing a position.</p>

<p class=MsoNormal style='margin-left:29.25pt;text-indent:-13.1pt'>•<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span><i>filesizeformat
</i>filter uses decimal prefixes now per default and can be set to binary mode
with the second parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:29.25pt;text-indent:-13.1pt'>•<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>fixed bug in finalizer</p>

<h2 style='margin-left:-.25pt'>Version 2.0rc1</h2>

<p class=MsoNormal style='margin-left:-.25pt'>(no codename, released on June
9th 2008)</p>

<p class=MsoNormal style='margin-left:16.65pt'>• first release of Jinja2</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection15>

<p class=MsoNormal style='margin-left:-.25pt'>134</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:17.4pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 178084"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

<h1 align=left style='margin-top:0in;margin-right:0in;margin-bottom:.15pt;
margin-left:389.2pt;text-align:left'>Index</h1>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=603 height=1 id="Group 178086"
src="Jinja2%20Documentation_files/image002.gif"></span></p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection16>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>Symbols</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>_fail_with_undefined_error()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>(jinja2.Undefined method), 19</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:39.1pt;text-indent:-39.85pt'>_undefined_exception             (jinja2.Undefined
attribute), 19</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=294
 style='width:220.65pt;border-collapse:collapse'>
 <tr style='height:27.65pt'>
  <td width=276 valign=top style='width:206.8pt;padding:0in 0in 0in 0in;
  height:27.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>_undefined_hint          (jinja2.Undefined tribute), 19</p>
  </td>
  <td width=18 valign=top style='width:13.85pt;padding:0in 0in 0in 0in;
  height:27.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>at-</p>
  </td>
 </tr>
 <tr style='height:28.9pt'>
  <td width=276 valign=top style='width:206.8pt;padding:0in 0in 0in 0in;
  height:28.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>_undefined_name       (jinja2.Undefined tribute), 19</p>
  </td>
  <td width=18 valign=top style='width:13.85pt;padding:0in 0in 0in 0in;
  height:28.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>at-</p>
  </td>
 </tr>
 <tr style='height:27.65pt'>
  <td width=276 valign=top style='width:206.8pt;padding:0in 0in 0in 0in;
  height:27.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>_undefined_obj           (jinja2.Undefined tribute), 19</p>
  </td>
  <td width=18 valign=top style='width:13.85pt;padding:0in 0in 0in 0in;
  height:27.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>at-</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>A</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>abs()
(built-in function), 68 Add (class in jinja2.nodes), 95 add_extension() (jinja2.Environment
method), 13 And (class in jinja2.nodes), 95</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>as_const()
(jinja2.nodes.Expr method), 95 Assign (class in jinja2.nodes), 100 AssignBlock
(class in jinja2.nodes), 100 attr() (built-in function), 68 attr()
(jinja2.ext.Extension method), 91 autoescape (jinja2.EvalContext attribute), 35</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>B</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>BaseLoader
(class in jinja2), 23 batch() (built-in function), 68 BinExpr (class in
jinja2.nodes), 95 Block (class in jinja2.nodes), 100 blocks (jinja2.Context
attribute), 22 blocks (jinja2.Template attribute), 37 Break (class in
jinja2.nodes), 100</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Bucket (class in jinja2.bccache), 26 bytecode_from_string()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.6pt;
margin-left:-.75pt;text-indent:39.85pt'>(jinja2.bccache.Bucket method), 27
bytecode_to_string()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.15in;
margin-left:-.75pt;text-indent:39.85pt'>(jinja2.bccache.Bucket method), 27
BytecodeCache (class in jinja2), 26</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>C</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:-.25pt'>Call (class in jinja2.nodes), 96 call()
(jinja2.runtime.Context method), 22 call_binop()
(jinja2.sandbox.SandboxedEnvironment method), 39</p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.65pt;margin-bottom:
.4pt;margin-left:39.1pt;text-indent:-39.85pt'>call_method()  (jinja2.ext.Extension
method), 91</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>call_unop()
(jinja2.sandbox.SandboxedEnvironment method), 40</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.6pt;margin-bottom:
0in;margin-left:-.25pt'>callable() (built-in function), 76 CallBlock (class in
jinja2.nodes), 100 can_assign() (jinja2.nodes.Expr method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.6pt;margin-bottom:
.2pt;margin-left:-.75pt;text-indent:39.85pt'>95 capitalize() (built-in
function), 68 center() (built-in function), 68 ChoiceLoader (class in jinja2),
25 clear() (jinja2.BytecodeCache method), 26 clear_caches() (in module jinja2),
31 code (jinja2.Bucket attribute), 27 code_generator_class (jinja2.Environment
attribute), 11 Compare (class in jinja2.nodes), 96 compile_expression()
(jinja2.Environment method), 13</p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.65pt;margin-bottom:
.4pt;margin-left:39.1pt;text-indent:-39.85pt'>compile_templates()
(jinja2.Environment method), 13</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Concat (class in jinja2.nodes), 96</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>CondExpr (class in jinja2.nodes), 96</p>

<p class=MsoNormal style='margin-left:-.25pt'>Const (class in jinja2.nodes), 98</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Context (class in jinja2.runtime), 21</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>context_class   (jinja2.Environment    attribute),
12</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>contextfilter() (in module jinja2), 30 contextfunction()
(in module jinja2), 30 ContextReference (class in jinja2.nodes),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>97</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>Continue (class in jinja2.nodes), 100</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>count_newlines() (in module jinja2.lexer),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.75pt;text-indent:39.85pt'>94 current (cycler attribute), 79
current (jinja2.ext.TokenStream attribute),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.3in;margin-bottom:10.85pt;
margin-left:-.75pt;text-indent:39.85pt'>93 cycler (built-in class), 78</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>D</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>DebugUndefined
(class in jinja2), 19 default() (built-in function), 68 default_binop_table
environmentfilter() (in module jinja2), 30 environmentfunction() (in module
jinja2),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.6pt;margin-bottom:
.45pt;margin-left:-.75pt;text-indent:39.85pt'>30 eos (jinja2.lexer.TokenStream
attribute), 93 equalto() (built-in function), 76 escape() (built-in function),
69 escape() (in module jinja2), 31 escape() (jinja2.Markup class method), 32</p>

<p class=MsoNormal style='margin-top:0in;margin-right:55.6pt;margin-bottom:
.45pt;margin-left:-.75pt;text-indent:39.85pt'>escaped() (built-in function), 77
eval_ctx (jinja2.Context attribute), 22 EvalContext (class in jinja2.nodes), 35
evalcontextfilter() (in module jinja2), 30 evalcontextfunction() (in module
jinja2), 30</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>EvalContextModifier   (class   in
jinja2.nodes), 100</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=602 style='width:451.3pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:328.1pt'>
  <td width=602 valign=top style='width:451.3pt;padding:0in 0in 0in 0in;
  height:328.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.sandbox.SandboxedEnvironmentexported_vars
  (jinja2.Context attribute),</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>attribute),
  40                                                       22</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>default_unop_table                                               Expr
  (class in jinja2.nodes), 95</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.sandbox.SandboxedEnvironmentExprStmt (class in
  jinja2.nodes), 100</p>
  <table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=602
   style='width:451.3pt;border-collapse:collapse'>
   <tr style='height:98.65pt'>
    <td width=307 valign=top style='width:230.6pt;padding:0in 0in 0in 0in;
    height:98.65pt'>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:67.1pt;
    margin-bottom:0in;margin-left:0in;text-align:left;text-indent:39.85pt;
    line-height:107%'>attribute), 40 defined() (built-in function), 76 Dict
    (class in jinja2.nodes), 98 dict() (built-in function), 78 DictLoader
    (class in jinja2), 24 dictsort() (built-in function), 68
    disable_buffering()</p>
    </td>
    <td width=294 valign=top style='width:220.65pt;padding:0in 0in 0in 0in;
    height:98.65pt'>
    <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>extend()
    (jinja2.Environment method), 14</p>
    <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
    0in;line-height:107%'>Extends (class in jinja2.nodes), 101</p>
    <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
    0in;line-height:107%'>Extension (class in jinja2.ext), 90</p>
    <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>ExtensionAttribute
    (class in jinja2.nodes),</p>
    <p class=MsoNormal style='margin:0in;text-indent:39.85pt;line-height:107%'>97
    extract_translations() (jinja2.Environment method), 86</p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.95pt;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.environment.TemplateStream</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>method),
  17                                            <span style='font-size:17.0pt;
  line-height:107%'>F</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:119%'>Div (class in jinja2.nodes), 96 fail()
  (jinja2.parser.Parser method), 92 divisibleby() (built-in function), 76   filename
  (jinja2.ext.Parser attribute), 92</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>dump() (jinja2.environment.TemplateStreamfilename
  (jinja2.Template attribute), 15</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:2.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'>                  </span>method),
  17                                                    filename
  (jinja2.TemplateSyntaxError at-</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:25.05pt;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:111%'>dump_bytecode()        (jinja2.BytecodeCache            tribute),
  33 method), 26           filesizeformat() (built-in function), 69</p>
  <p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
  margin-bottom:2.2pt;margin-left:0in;text-align:right;text-indent:0in;
  line-height:107%'>FileSystemBytecodeCache (class in jinja2),</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:17.0pt;line-height:107%'>E                                                                      </span>27</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>enable_buffering()                                                 FileSystemLoader
  (class in jinja2), 24</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.environment.TemplateStreamFilter (class in
  jinja2.nodes), 97</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:55.6pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>even()
(built-in function), 77 expect() (jinja2.lexer.TokenStream method), 93</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection17>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>method), 17</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:-.25pt'>Environment (class in jinja2), 9 environment (jinja2.Bucket
attribute), 27</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>environment (jinja2.Context attribute), 22</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.75pt;text-align:left;text-indent:0in'>EnvironmentAttribute               (class           in</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>jinja2.nodes), 97</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>filter_stream() (jinja2.ext.Extension
method), 91</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:24.8pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>FilterBlock
(class in jinja2.nodes), 101 filters (jinja2.Environment attribute), 11 find()
(jinja2.nodes.Node method), 94 find_all() (jinja2.nodes.Node method), 94
find_referenced_templates() (in module jinja2.meta), 38</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>find_undeclared_variables() (in module
jinja2.meta), 37</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>first()
(built-in function), 69 float() (built-in function), 69 FloorDiv (class in
jinja2.nodes), 96 For (class in jinja2.nodes), 101 forceescape() (built-in
function), 69 format() (built-in function), 69 free_identifier() (jinja2.parser.Parser
method), 92</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>from_string()   (jinja2.Environment
method), 14</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.85pt;
margin-left:-.25pt'>FromImport (class in jinja2.nodes), 101 FunctionLoader
(class in jinja2), 24</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>G</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>generate()
(jinja2.Template method), 16 generate_async()   (jinja2.Template method), 16
ImmutableSandboxedEnvironment (class in jinja2.sandbox), 41</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Import (class in jinja2.nodes), 101</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>ImportedName (class in jinja2.nodes), 97</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:72.15pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Impossible,
102</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:72.15pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Include
(class in jinja2.nodes), 101 indent() (built-in function), 70
install_gettext_callables()</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=294
 style='width:220.65pt;border-collapse:collapse'>
 <tr style='height:42.05pt'>
  <td width=230 valign=top style='width:172.7pt;padding:0in 0in 0in 0in;
  height:42.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.Environment</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>86</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>install_gettext_translations()</p>
  </td>
  <td width=64 valign=top style='width:47.95pt;padding:0in 0in 0in 0in;
  height:42.05pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>method),</p>
  </td>
 </tr>
 <tr style='height:43.35pt'>
  <td width=230 valign=top style='width:172.7pt;padding:0in 0in 0in 0in;
  height:43.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.Environment</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>86</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>install_null_translations()</p>
  </td>
  <td width=64 valign=top style='width:47.95pt;padding:0in 0in 0in 0in;
  height:43.35pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>method),</p>
  </td>
 </tr>
 <tr style='height:13.2pt'>
  <td width=230 valign=top style='width:172.7pt;padding:0in 0in 0in 0in;
  height:13.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:0in;
  line-height:107%'>(jinja2.Environment</p>
  </td>
  <td width=64 valign=top style='width:47.95pt;padding:0in 0in 0in 0in;
  height:13.2pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>method),</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:113.3pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>86 int() (built-in function), 70 intercepted_binops</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'>(jinja2.sandbox.SandboxedEnvironment</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=642 style='width:481.5pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:11.95pt'>
  <td width=642 valign=top style='width:481.5pt;padding:0in 0in 0in 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>get()
  (jinja2.MemcachedBytecodeCache.MinimalClientInterface(jinja2.sandbox.SandboxedEnvironment</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:45.05pt;margin-bottom:
0in;margin-left:-.75pt;text-indent:39.85pt'>attribute), 40 intercepted_unops</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection18>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>method), 28</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>get_all() (jinja2.runtime.Context method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>22 get_exported()      (jinja2.runtime.Context method), 22</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>get_or_select_template()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
110%'><span style='font-size:11.0pt;line-height:110%'>                    </span>(jinja2.Environment            method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.75pt;text-indent:39.85pt'>14 get_source() (jinja2.BaseLoader
method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>23 get_template()      (jinja2.Environment method), 14</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:5.0pt;
margin-bottom:10.9pt;margin-left:-.25pt;text-align:left;line-height:103%'>Getattr
(class in jinja2.nodes), 97 Getitem (class in jinja2.nodes), 97 globals
(jinja2.Environment attribute), 11 globals (jinja2.Template attribute), 15
greaterthan() (built-in function), 77 groupby() (built-in function), 69</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>H</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.15in;
margin-left:-.25pt'>Helper (class in jinja2.nodes), 99</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>I</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.6pt;
margin-left:39.1pt;text-indent:-39.85pt'>identifier (jinja2.ext.Extension
attribute), 91</p>

<p class=MsoNormal style='margin-left:-.25pt'>If (class in jinja2.nodes), 101</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:30.25pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>attribute), 40 InternalName (class in jinja2.nodes), 98
is_internal_attribute()        (in module jinja2.sandbox), 41</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>is_safe_attribute()</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'>(jinja2.sandbox.SandboxedEnvironment</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>method), 40</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>is_safe_callable()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:40.35pt'>(jinja2.sandbox.SandboxedEnvironment method), 40</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt'>is_undefined() (in module jinja2), 31 is_up_to_date
(jinja2.Template attribute),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:30.25pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>37 iter_child_nodes() (jinja2.nodes.Node method), 95</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>iter_fields() (jinja2.nodes.Node method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:88.05pt;margin-bottom:
9.15pt;margin-left:-.75pt;text-indent:39.85pt'>95 iterable() (built-in
function), 77</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>J</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.25pt;margin-bottom:
10.65pt;margin-left:-.25pt'>jinja2 (module), 7, 120 jinja2.ext (module), 89
jinja2.nodes (module), 94</p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.25pt;margin-bottom:
10.65pt;margin-left:-.25pt'>jinja2.sandbox (module), 39 join() (built-in
function), 70 join_path() (jinja2.Environment method), 14 joiner (built-in
class), 79</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>K</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.9pt;margin-bottom:10.85pt;
margin-left:-.25pt'>key (jinja2.Bucket attribute), 27 Keyword (class in
jinja2.nodes), 99</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>L</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>last()
(built-in function), 70 length() (built-in function), 70 lessthan() (built-in
function), 77 lex() (jinja2.Environment method), 36 lineno (jinja2.ext.Token
attribute), 93 lineno        (jinja2.TemplateSyntaxError attribute), 33</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>lipsum()
(built-in function), 78 List (class in jinja2.nodes), 98 list() (built-in
function), 70 list_templates() (jinja2.Environment method), 14 Literal (class
in jinja2.nodes), 98 load() (jinja2.BaseLoader method), 24 load_bytecode()          (jinja2.bccache.Bucket
method), 27</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>load_bytecode()          (jinja2.BytecodeCache
method), 26</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>look() (jinja2.lexer.TokenStream method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:49.05pt;margin-bottom:
9.15pt;margin-left:-.75pt;text-indent:39.85pt'>93 lower() (built-in function),
71, 77</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>M</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Macro
(class in jinja2.nodes), 101</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>make_logging_undefined()     (in        module
jinja2), 20</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>make_module() (jinja2.Template method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:37.3pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>16 map() (built-in function), 71 mapping() (built-in
function), 77 MarkSafe (class in jinja2.nodes), 98</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>MarkSafeIfAutoescape              (class           in</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>jinja2.nodes), 98</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>Markup (class in jinja2), 31</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>MemcachedBytecodeCache          (class       in</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>jinja2), 27</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Mod
(class in jinja2.nodes), 96 modifies_known_mutable()  (in        module
jinja2.sandbox), 41</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:51.6pt;
margin-bottom:10.9pt;margin-left:-.25pt;text-align:left;line-height:103%'>module
(jinja2.Template attribute), 16 ModuleLoader (class in jinja2), 25 Mul (class
in jinja2.nodes), 96</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>N</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:56.7pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Name
(class in jinja2.nodes), 98 name (jinja2.Context attribute), 22 name
(jinja2.ext.Parser attribute), 92 name (jinja2.Template attribute), 15</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>name    (jinja2.TemplateSyntaxError  attribute),
33</p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.25pt;margin-bottom:
0in;margin-left:-.25pt'>namespace (built-in class), 79 Neg (class in
jinja2.nodes), 99 new_context() (jinja2.Template method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:30.25pt;
margin-bottom:9.2pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>37 next() (cycler method), 79 next_if()          (jinja2.lexer.TokenStream
method), 93 Node (class in jinja2.nodes), 94 none() (built-in function), 77 Not
(class in jinja2.nodes), 99 number() (built-in function), 77</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>O</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:59.25pt;margin-bottom:
.4pt;margin-left:-.25pt'>odd() (built-in function), 77 Operand (class in
jinja2.nodes), 99</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:30.25pt;
margin-bottom:10.9pt;margin-left:-.25pt;text-align:left;line-height:103%'>Or
(class in jinja2.nodes), 96 Output (class in jinja2.nodes), 101 overlay()
(jinja2.Environment method), 12</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>P</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:39.55pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>PackageLoader
(class in jinja2), 24 Pair (class in jinja2.nodes), 99 parent (jinja2.Context
attribute), 21 parse() (jinja2.Environment method), 36 parse()
(jinja2.ext.Extension method), 91</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=602 style='width:451.3pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:56.45pt'>
  <td width=602 valign=bottom style='width:451.3pt;padding:0in 0in 0in 0in;
  height:56.45pt'>
  <table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=294
   style='width:220.65pt;margin-left:230.6pt;border-collapse:collapse'>
   <tr style='height:27.65pt'>
    <td width=156 valign=top style='width:116.75pt;padding:0in 0in 0in 0in;
    height:27.65pt'>
    <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
    margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
    line-height:107%'>parse_expression() method), 92</p>
    </td>
    <td width=139 valign=top style='width:103.9pt;padding:0in 0in 0in 0in;
    height:27.65pt'>
    <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>(jinja2.parser.Parser</p>
    </td>
   </tr>
   <tr style='height:13.2pt'>
    <td width=156 valign=top style='width:116.75pt;padding:0in 0in 0in 0in;
    height:13.2pt'>
    <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
    0in;line-height:107%'>parse_statements()</p>
    </td>
    <td width=139 valign=top style='width:103.9pt;padding:0in 0in 0in 0in;
    height:13.2pt'>
    <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>(jinja2.parser.Parser</p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>MemcachedBytecodeCache.MinimalClientInterfacemethod),
  92</p>
  <p class=MsoNormal style='margin:0in;text-indent:39.85pt;line-height:107%'>(class
  in jinja2), 28 parse_tuple() (jinja2.parser.Parser message
  (jinja2.TemplateSyntaxError at- method), 92 tribute), 33 Parser (class in
  jinja2.parser), 92</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:39.1pt;text-indent:-39.85pt'>parse_assign_target()
(jinja2.parser.Parser method), 92</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>policies (jinja2.Environment attribute), 11</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:45.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Pos
(class in jinja2.nodes), 99 Pow (class in jinja2.nodes), 96</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:45.35pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>pprint()
(built-in function), 71 PrefixLoader (class in jinja2), 25</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>preprocess()     (jinja2.Environment
method), 37</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>preprocess()     (jinja2.ext.Extension
method), 91</p>

<p class=MsoNormal style='margin-left:39.1pt;text-indent:-39.85pt'>push()
(jinja2.lexer.TokenStream method), 93</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>R</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.25pt'>random() (built-in function), 71 range() (built-in
function), 78 reject() (built-in function), 71 rejectattr() (built-in
function), 71 render() (jinja2.Template method), 15 render_async()
(jinja2.Template method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.15pt;
margin-left:-.75pt;text-indent:39.85pt'>16 replace() (built-in function), 72
reset() (cycler method), 79 reset() (jinja2.bccache.Bucket method), 27</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.15pt;
margin-left:-.75pt;text-indent:39.85pt'>resolve() (jinja2.runtime.Context
method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>22 reverse() (built-in function), 72 root_render_func()         (jinja2.Template
method), 37</p>

<p class=MsoNormal style='margin-left:-.25pt'>round() (built-in function), 72</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>S</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>safe()
(built-in function), 72 sameas() (built-in function), 77 sandboxed
(jinja2.Environment attribute),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:40.35pt'>11</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=294
 style='width:220.65pt;border-collapse:collapse'>
 <tr style='height:42.05pt'>
  <td width=280 valign=top style='width:210.2pt;padding:0in 0in 0in 0in;
  height:42.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:39.85pt;text-align:left;text-indent:-39.85pt;
  line-height:107%'>SandboxedEnvironment          (class jinja2.sandbox), 39</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Scope (class in jinja2.nodes), 102</p>
  </td>
  <td width=14 valign=top style='width:10.45pt;padding:0in 0in 0in 0in;
  height:42.05pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>in</p>
  </td>
 </tr>
 <tr style='height:13.2pt'>
  <td width=280 valign=top style='width:210.2pt;padding:0in 0in 0in 0in;
  height:13.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>ScopedEvalContextModifier           (class</p>
  </td>
  <td width=14 valign=top style='width:10.45pt;padding:0in 0in 0in 0in;
  height:13.2pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>in</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>jinja2.nodes), 100 SecurityError, 41 select() (built-in
function), 72 select_autoescape() (in module jinja2), 17 select_template()   (jinja2.Environment
method), 14</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>selectattr()
(built-in function), 73 sequence() (built-in function), 77 set_ctx()
(jinja2.nodes.Node method), 95 set_environment()      (jinja2.nodes.Node
method), 95</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>set_lineno() (jinja2.nodes.Node method),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:30.25pt;margin-bottom:
0in;margin-left:-.75pt;text-indent:39.85pt'>95 shared (jinja2.Environment
attribute), 11 skip() (jinja2.lexer.TokenStream method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:30.25pt;
margin-bottom:9.2pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>93 skip_if()     (jinja2.lexer.TokenStream method), 93 Slice
(class in jinja2.nodes), 99 slice() (built-in function), 73 sort() (built-in
function), 73 Stmt (class in jinja2.nodes), 100 stream (jinja2.ext.Parser
attribute), 92 stream() (jinja2.Template method), 16 StrictUndefined (class in
jinja2), 20 string() (built-in function), 73, 77 striptags() (built-in
function), 74 striptags() (jinja2.Markup method), 32 Sub (class in
jinja2.nodes), 96 sum() (built-in function), 74</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>T</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:-.25pt'>tags (jinja2.ext.Extension attribute), 91 Template (class
in jinja2), 15</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Template (class in jinja2.nodes), 102</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>TemplateAssertionError, 33</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>TemplateData (class in jinja2.nodes), 98</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>TemplateError, 32</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>TemplateNotFound, 33</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>TemplatesNotFound, 33</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:39.1pt;text-indent:-39.85pt'>TemplateStream          (class   in
jinja2.environment), 16</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:34.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>TemplateSyntaxError,
33 Test (class in jinja2.nodes), 99 test() (jinja2.lexer.Token method), 94</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:34.95pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>test_any()
(jinja2.lexer.Token method), 94 tests (jinja2.Environment attribute), 11
title() (built-in function), 74 tojson() (built-in function), 74 Token (class
in jinja2.lexer), 93 TokenStream (class in jinja2.lexer), 93 trim() (built-in
function), 74 truncate() (built-in function), 74 Tuple (class in jinja2.nodes),
98 type (jinja2.ext.Token attribute), 93</p>

</div>

<span style='font-size:12.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:auto'>
</span>

<div class=WordSection19>

<p class=MsoNormal style='margin-left:39.1pt;text-indent:-39.85pt'>set()
(jinja2.MemcachedBytecodeCache.MinimalClientInterface method), 28</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>U</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:110.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>UnaryExpr
(class in jinja2.nodes), 99</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:110.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:103%'>Undefined
(class in jinja2), 19 undefined() (built-in function), 77 undefined()
(jinja2.Environment method), 12 UndefinedError, 32 unescape() (jinja2.Markup
method), 32 uninstall_gettext_translations()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
110%'><span style='font-size:11.0pt;line-height:110%'>                    </span>(jinja2.Environment            method),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:126.95pt;
margin-bottom:9.2pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:103%'>86 unsafe() (in module jinja2.sandbox), 41 upper() (built-in
function), 75, 77 urlencode() (built-in function), 75 urlize() (built-in
function), 75</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>V</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:118.75pt;
margin-bottom:10.9pt;margin-left:-.25pt;text-align:left;line-height:103%'>value
(jinja2.ext.Token attribute), 94 vars (jinja2.Context attribute), 22 volatile
(jinja2.EvalContext attribute), 35</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>W</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:100.95pt;
margin-bottom:9.2pt;margin-left:-.25pt;text-align:left;line-height:103%'>With
(class in jinja2.nodes), 102 wordcount() (built-in function), 75 wordwrap()
(built-in function), 75 write_bytecode()           (jinja2.bccache.Bucket
method), 27</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:17.0pt;line-height:107%'>X</span></p>

<p class=MsoNormal style='margin-left:-.25pt'>xmlattr() (built-in function), 75</p>

</div>

</body>

</html>
