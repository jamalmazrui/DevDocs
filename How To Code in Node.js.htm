<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>How To Code in Node.js</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"DejaVu Sans";
	panose-1:2 11 6 3 3 8 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:.25pt;
	margin-left:15.75pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:14.5pt;
	line-height:142%;
	font-size:15.0pt;
	font-family:"Times New Roman",serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:37.75pt;
	margin-left:1.25pt;
	text-indent:-.5pt;
	line-height:117%;
	page-break-after:avoid;
	font-size:25.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:11.1pt;
	margin-left:1.25pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:17.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:13.0pt;
	margin-left:1.25pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:15.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Arial",sans-serif;
	color:black;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:69.6pt 76.25pt 1.0in 76.25pt;}
div.WordSection2
	{page:WordSection2;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'><img width=816 height=1056
src="How%20To%20Code%20in%20Node.js_files/image001.gif"><br clear=ALL>
</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.95pt;margin-left:1.0pt;text-align:left;text-indent:0in;
line-height:107%'><img width=100 height=27 id="Picture 12"
src="How%20To%20Code%20in%20Node.js_files/image002.jpg"></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:184%'><span style='font-size:11.0pt;line-height:184%'>This work is
licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0
International License.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'>ISBN
978-1-7358317-2-5</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:34.95pt;margin-left:95.65pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:25.0pt;line-height:107%;font-family:
"Arial",sans-serif;color:#3445FF'>How To Code in Node.js</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:47.9pt;margin-left:100.45pt;text-align:left;text-indent:0in;
line-height:107%'><b><span style='font-size:17.0pt;line-height:107%'>David
Landup and Marcus Sanatan</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:52.75pt;
margin-bottom:230.9pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><span style='font-size:17.0pt;line-height:107%'>Editors:
Timothy Nolan and Brian MacDonald</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:129.4pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'>DigitalOcean,
New York City, New York, USA</span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>2020-12</p>

<h1 style='margin-left:.5pt'>How To Code in Node.js</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>About Di</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>italOcean</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Introduction</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Write and Run Your
First Pro</span></u><span style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>ram
in Node.</u>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Use the Node.</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>j<u>s REPL</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Use Node.</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>j<u>s Modules with npm and
packa</u>g<u>e.</u>j<u>son</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Create a Node.</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>j<u>s Module</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Write As</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>y<u>nchronous Code in
Node.</u>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Test a Node.</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>j<u>s Module with Mocha
and Assert</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Create a Web Server
in Node.</span></u><span style='font-family:"Arial",sans-serif;color:#3445FF'>j<u>s
with the HTTP Module</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Usin</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u> Buffers in Node.</u>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Usin</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u> Event Emitters in
Node.</u>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Debu</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u> Node.</u>j<u>s with
the Built-In Debu</u>gg<u>er and Chrome DevTools</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Launch Child
Processes in Node.</span></u><span style='font-family:"Arial",sans-serif;
color:#3445FF'>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Work with Files
usin</span></u><span style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>
the fs Module in Node.</u>j<u>s</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.35pt;margin-left:38.25pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Create an HTTP
Client with Core HTTP in Node.</span></u><span style='font-family:"Arial",sans-serif;
color:#3445FF'>j<u>s</u></span></p>

<h1 style='margin-left:.5pt'>About DigitalOcean</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>DigitalOcean is a cloud services platform
delivering the simplicity developers love and businesses trust to run
production applications at scale. It provides highly available, secure, and
scalable compute, storage, and networking solutions that help developers build
great software faster. Founded in 2012 with offices in New York City and
Cambridge, MA, DigitalOcean offers transparent and affordable pricing, an
elegant user interface, and one of the largest libraries of open source
resources available. For more information, please visit <a
href="https://www.digitalocean.com/"><span style='color:#3445FF'>htt</span></a><a
href="https://www.digitalocean.com/"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://www.digitalocean.com/"><span
style='color:#3445FF'>s://www.di</span></a><a
href="https://www.digitalocean.com/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://www.digitalocean.com/"><span
style='color:#3445FF'>italocean.com</span></a> or follow <a
href="https://twitter.com/digitalocean"><span style='color:#3445FF;text-decoration:
none'>@</span></a><a href="https://twitter.com/digitalocean"><span
style='color:#3445FF'>di</span></a><a href="https://twitter.com/digitalocean"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://twitter.com/digitalocean"><span style='color:#3445FF'>italocean</span></a><a
href="https://twitter.com/digitalocean"><span style='color:black;text-decoration:
none'> </span></a>on Twitter.<br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-left:.5pt'>Introduction</h1>

<h2 style='margin-left:.5pt'>Preface — Getting Started with this Book</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>We recommend that you begin with a clean,
new server to start learning how to program with Node. You can also use a local
computer like a laptop or desktop. If you are unfamiliar with Node, or do not
have a development environment set up, Chapter 1 of this book links to a
tutorial that explains how to install Node for development on macOS, or an
Ubuntu 20.04 system.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Programming using Node requires some familiarity with
JavaScript, so if you would like to learn more about the language itself before
exploring this book, visit the DigitalOcean Community’s <a
href="https://www.digitalocean.com/community/tags/javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tags/javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/javascript"><span
style='color:#3445FF'>t section</span></a> to explore tutorials that focus on
using JavaScript in a browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt'>Once you are set up with a local or remote Node development
environment, you will be able to follow along with each chapter at your own
pace, and in the order that you choose.</p>

<h2 style='margin-left:.5pt'>About this Book</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><a href="https://nodejs.org/"><span
style='color:#3445FF'>Node</span></a><a href="https://nodejs.org/"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF'>s</span></a> is a
popular open-source runtime environment that can execute JavaScript outside of
the browser. The Node runtime is commonly used for back-end web development,
leveraging its asynchronous capabilities to create networking applications and
web servers. Node is also a popular choice for building command line tools.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>In this book, you will go through exercises to learn the
basics of how to code in Node.js, gaining skills that apply equally to back-end
and full stack development in the process. Each chapter is written by members
of the <a href="https://stackabuse.com/"><span style='color:#3445FF'>Stack
Abuse</span></a> team.</p>

<h2 style='margin-left:.5pt'>Learning Goals and Outcomes</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>The chapters in this book cover a broad
range of Node topics, from using and packaging your own modules, to writing
complete web servers and clients. While there is a general progression that
starts with installing Node locally and running small Node programs on the
command line, each chapter in this book can be read independently of the
others. If there is a particular topic or chapter that catches your attention
feel free to jump ahead and work through it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>By the end of this book you will be able to write programs
that leverage Node’s asynchronous code execution capabilities, complete with
event emitters and listeners that will respond to user actions. Along the way
you will learn how to debug Node applications using the built-in debugging
utilities, as well as the Chrome browser’s DevTools utilities. You will also
learn how to write automated tests for your programs to ensure that any
features that you add or change function as you expect.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>If you would like to learn more about Node development after
you have finished reading this book, be sure to visit the DigitalOcean
Community’s <a href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>s section</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Write and Run Your First</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Pro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>ram in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>eech Fund</span></a> to receive a donation as part of the
<a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write for
DOnations</span></a> program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><a href="https://nodejs.org/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF'>s</span></a> is a
popular open-source runtime environment that can execute <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>outside of the browser
using the V8 JavaScript engine, which is the same engine used to power the <a
href="https://www.google.com/chrome/"><span style='color:#3445FF'>Goo</span></a><a
href="https://www.google.com/chrome/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://www.google.com/chrome/"><span
style='color:#3445FF'>le Chrome web browser</span></a>’s JavaScript execution.
The Node runtime is commonly used to create command line tools and web servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Learning Node.js will allow you to write your front-end code
and your back-end code in the same language. Using JavaScript throughout your
entire stack can help reduce time for context switching, and libraries are more
easily shared between your back-end server and front-end projects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Also, thanks to its support for <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>as</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous execution</span></a>, Node.js excels at
I/O-intensive tasks, which is what makes it so suitable for the web. Realtime
applications, like video streaming, or applications that continuously send and
receive data, can run more efficiently when written in Node.js.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt'>In this tutorial you’ll create your first program with the
Node.js runtime. You’ll be introduced to a few Node-specific concepts and build
your way up to create a program that helps users inspect environment variables
on their system. To do this, you’ll learn how to output strings to the console,
receive input from the user, and access environment variables.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>To complete this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 228117"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> Node.js
installed on your development machine. This tutorial uses Node.js version
10.16.0. To install this on macOS or Ubuntu 18.04, <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the “Installing Using a PPA” </span></a>section
of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 228118"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>A basic knowledge of JavaScript, which
you can find here: </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>How To Code in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Outputting to the Console</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>To write a “Hello, World!”
program, open up a command line text editor</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>With the text editor
opened, enter the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image005.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895824384;
left:0px;margin-left:1px;margin-top:3px;width:125px;height:55px'><img
width=125 height=55 src="How%20To%20Code%20in%20Node.js_files/image006.gif"></span><span
style='position:absolute;z-index:251660288;left:0px;margin-left:572px;
margin-top:3px;width:39px;height:20px'><img width=39 height=20
src="How%20To%20Code%20in%20Node.js_files/image007.gif"></span><span
style='position:absolute;z-index:251661312;left:0px;margin-left:160px;
margin-top:71px;width:33px;height:21px'><img width=33 height=21
src="How%20To%20Code%20in%20Node.js_files/image008.gif"></span><span
style='position:absolute;z-index:251662336;left:0px;margin-left:365px;
margin-top:71px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image009.gif"></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>console</span>
object in Node.js provides simple methods to write to <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>stdo ut</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>,
or to any other Node.js stream, which in most cases is the command line. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>log</span>
method prints to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>stdout</span> stream, so you can see it in your console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251663360;left:0px;
margin-left:73px;margin-top:35px;width:61px;height:21px'><img width=61
height=21 src="How%20To%20Code%20in%20Node.js_files/image009.gif"></span><span
style='position:absolute;z-index:251664384;left:0px;margin-left:271px;
margin-top:69px;width:159px;height:21px'><img width=159 height=21
src="How%20To%20Code%20in%20Node.js_files/image010.gif"></span>In the context
of Node.js, streams are objects that can either receive data, like the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stdout</span>
stream, or objects that can output data, like a network socket or a file. In
the case of the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>stdout</span> and <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>stderr</span> streams, any data sent to them
will then be shown in the console. One of the great things about streams is
that they’re easily redirected, in which case you can redirect the output of
your program to a file, for example.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.8pt;
margin-left:.25pt'><span style='position:absolute;z-index:251665408;left:0px;
margin-left:135px;margin-top:2px;width:44px;height:21px'><img width=44
height=21 src="How%20To%20Code%20in%20Node.js_files/image011.gif"></span><span
style='position:absolute;z-index:251666432;left:0px;margin-left:282px;
margin-top:2px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image009.gif"></span><span
style='position:absolute;z-index:251667456;left:0px;margin-left:47px;
margin-top:36px;width:16px;height:21px'><img width=16 height=21
src="How%20To%20Code%20in%20Node.js_files/image012.gif"></span>Save and exit <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>
by pressing <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+X</span>,
when prompted to save the file, press <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Y</span>. Now your program is ready to run.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5pt'>Step
2 — Running the Program</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=245
src="How%20To%20Code%20in%20Node.js_files/image013.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895815168;
left:0px;margin-left:396px;margin-top:2px;width:215px;height:88px'><img
width=215 height=88 src="How%20To%20Code%20in%20Node.js_files/image014.gif"></span><span
style='position:absolute;z-index:-1895814144;left:0px;margin-left:1px;
margin-top:36px;width:124px;height:54px'><img width=124 height=54
src="How%20To%20Code%20in%20Node.js_files/image015.gif"></span><span
style='position:absolute;z-index:251670528;left:0px;margin-left:186px;
margin-top:36px;width:34px;height:21px'><img width=34 height=21
src="How%20To%20Code%20in%20Node.js_files/image016.gif"></span>The Node.js
interpreter read the file and executed <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>console.log(&quot;Hello W
orld&quot;);</span> by calling the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>log</span> method of the global <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>console</span>
object. The <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF'>strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g </span></a><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>&quot;Hello World&quot;</span>
was passed as an argument to the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>log</span> function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Although quotation marks are necessary in the code to
indicate that the text is a string, they are not printed to the screen.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:4.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Having confirmed that the program works, let’s make it more
interactive.</p>

<h2 style='margin-left:.5pt'>Step 3 — Receiving User Input via Command Line
Arguments</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Every time you run the Node.js “Hello,
World!” program, it produces the same output. In order to make the program more
dynamic, let’s get input from the user and display it on the screen.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251671552;left:0px;
margin-left:265px;margin-top:35px;width:42px;height:21px'><img width=42
height=21 src="How%20To%20Code%20in%20Node.js_files/image017.gif"></span><span
style='position:absolute;z-index:251672576;left:0px;margin-left:388px;
margin-top:35px;width:89px;height:21px'><img width=89 height=21
src="How%20To%20Code%20in%20Node.js_files/image018.gif"></span>Command line
tools often accept various arguments that modify their behavior. For example,
running <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node</span>
with the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--version</span>
argument prints the installed version instead of running the interpreter. In
this step, you will make your code accept user input via command line
arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image019.gif"></span>Create
a new file <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>arguments.js</span>
with nano:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Enter the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image020.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251673600;left:0px;
margin-left:57px;margin-top:2px;width:70px;height:21px'><img width=70
height=21 src="How%20To%20Code%20in%20Node.js_files/image021.gif"></span><span
style='position:absolute;z-index:251674624;left:0px;margin-left:495px;
margin-top:36px;width:43px;height:21px'><img width=43 height=21
src="How%20To%20Code%20in%20Node.js_files/image022.gif"></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>process</span>
object is a global Node.js object that contains <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>functions</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>and data all related to
the currently running Node.js process. The <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>argv</span> property is an <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>of strings containing all
the command line arguments given to a program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251675648;left:0px;
margin-left:139px;margin-top:2px;width:44px;height:21px'><img width=44
height=21 src="How%20To%20Code%20in%20Node.js_files/image011.gif"></span><span
style='position:absolute;z-index:251676672;left:0px;margin-left:275px;
margin-top:2px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image023.gif"></span><span
style='position:absolute;z-index:251677696;left:0px;margin-left:47px;
margin-top:36px;width:16px;height:21px'><img width=16 height=21
src="How%20To%20Code%20in%20Node.js_files/image024.gif"></span>Save and exit <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>
by typing <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+X</span>,
when prompted to save the file, press <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Y</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now when you run this program, you provide a command line
argument like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image025.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The output looks like the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=172
src="How%20To%20Code%20in%20Node.js_files/image026.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251678720;left:0px;
margin-left:236px;margin-top:2px;width:115px;height:21px'><img width=115
height=21 src="How%20To%20Code%20in%20Node.js_files/image027.gif"></span><span
style='position:absolute;z-index:251679744;left:0px;margin-left:237px;
margin-top:100px;width:141px;height:21px'><img width=141 height=21
src="How%20To%20Code%20in%20Node.js_files/image028.gif"></span>The first
argument in the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>process.argv</span> array is always the location of the Node.js
binary that is running the program. The second argument is always the location
of the file being run. The remaining arguments are what the user entered, in
this case: <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>hello</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>world</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>We are mostly interested in the arguments that the user
entered, not the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=133
src="How%20To%20Code%20in%20Node.js_files/image029.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image030.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251680768;left:0px;
margin-left:92px;margin-top:2px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image022.gif"></span><span
style='position:absolute;z-index:-1895801856;left:0px;margin-left:411px;
margin-top:36px;width:128px;height:55px'><img width=128 height=55
src="How%20To%20Code%20in%20Node.js_files/image031.gif"></span><span
style='position:absolute;z-index:251682816;left:0px;margin-left:41px;
margin-top:70px;width:16px;height:21px'><img width=16 height=21
src="How%20To%20Code%20in%20Node.js_files/image032.gif"></span>Because <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>argv</span>
is an array, you can use JavaScript’s built-in <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-accessor-methods#slice()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>slice</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-accessor-methods#slice()"><span
style='color:#3445FF'> method </span></a>that returns a selection of elements.
When you provide the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>slice</span> function with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>2</span> as its argument, you get
all the elements of <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>argv</span> that comes after its second element; that is, the
arguments the user entered.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251683840;left:0px;
margin-left:258px;margin-top:2px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image022.gif"></span>Re-run
the program with the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>node</span> command and the same arguments as last time:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image033.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Now, the output looks
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image034.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that you can collect input from the user, let’s collect
input from the program’s environment.</p>

<h2 style='margin-left:.5pt'>Step 4 — Accessing Environment Variables</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.05in;
margin-left:.25pt;text-indent:0in'>Environment variables are key-value data
stored outside of a program and provided by the OS. They are typically set by
the system or user and are available to all running processes for configuration
or state purposes. You <span style='font-size:11.0pt;line-height:142%;
font-family:"Calibri",sans-serif'><img border=0 width=600 height=127
src="How%20To%20Code%20in%20Node.js_files/image035.gif"></span>Use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>
to create a new file <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>environment.js</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Add
the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image036.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251684864;left:0px;
margin-left:60px;margin-top:3px;width:34px;height:21px'><img width=34
height=21 src="How%20To%20Code%20in%20Node.js_files/image037.gif"></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>env</span>
object stores all the environment variables that are available when Node.js is
running the program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251685888;left:0px;
margin-left:327px;margin-top:2px;width:134px;height:21px'><img width=134
height=21 src="How%20To%20Code%20in%20Node.js_files/image038.gif"></span><span
style='position:absolute;z-index:251686912;left:0px;margin-left:568px;
margin-top:2px;width:44px;height:21px'><img width=44 height=21
src="How%20To%20Code%20in%20Node.js_files/image039.gif"></span>Save and exit
like before, and run the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>environment.js</span> file with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node </span>command.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image040.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Upon running the program, you should see output similar to
the following:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image041.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=267
src="How%20To%20Code%20in%20Node.js_files/image042.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Keep in mind that many of the environment variables you see
are dependent on the configuration and settings of your system, and your output
may look substantially different than what you see here. Rather than viewing a
long list of environment variables, you might want to retrieve a specific one.</p>

<h2 style='margin-left:.5pt'>Step 5 — Accessing a Specified Environment
Variable</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt;text-indent:0in'>In this step you’ll view environment
variables and their values using the global <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>process.env</span> object and print
their values to the console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895795712'><span
style='left:0px;position:absolute;left:56px;top:-32px;width:113px;height:55px'><img
width=113 height=55 src="How%20To%20Code%20in%20Node.js_files/image043.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>process.env</span>
object is a simple mapping between environment <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>variable names and their values stored
as strings. Like all </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ects in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>, you access an individual property by
referencing its name in </span></a>square brackets.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=129 src="How%20To%20Code%20in%20Node.js_files/image044.gif"></span>Open
the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>environment.js</span>
file for editing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image045.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image046.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The output now looks like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image047.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251688960;left:0px;
margin-left:568px;margin-top:2px;width:44px;height:21px'><img width=44
height=21 src="How%20To%20Code%20in%20Node.js_files/image048.gif"></span><span
style='position:absolute;z-index:251689984;left:0px;margin-left:96px;
margin-top:36px;width:105px;height:21px'><img width=105 height=21
src="How%20To%20Code%20in%20Node.js_files/image049.gif"></span><span
style='position:absolute;z-index:251691008;left:0px;margin-left:453px;
margin-top:36px;width:52px;height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image050.gif"></span>Instead of
printing the entire object, you now only print the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>HOME </span>property of <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>process.env</span>,
which stores the value of the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>$HOME</span> environment variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Again, keep in mind that the output from this code will
likely be different than what you see here because it is specific to your
system. Now that you can specify the environment variable to retrieve, you can
enhance your program by asking the user for the variable they want to see.</p>

<h2 style='margin-left:.5pt'>Step 6 — Retrieving An Argument in Response to
User Input</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Next, you’ll use the ability to read command
line arguments and environment variables to create a command line utility that
prints the value of an environment variable to the screen.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image051.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Add the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=149
src="How%20To%20Code%20in%20Node.js_files/image052.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251692032;left:0px;
margin-left:155px;margin-top:3px;width:70px;height:21px'><img width=70
height=21 src="How%20To%20Code%20in%20Node.js_files/image053.gif"></span><span
style='position:absolute;z-index:-1895790592;left:0px;margin-left:373px;
margin-top:37px;width:107px;height:55px'><img width=107 height=55
src="How%20To%20Code%20in%20Node.js_files/image054.gif"></span>The first line
of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>echo.js</span>
stores all the command line arguments that the user provided into a constant
variable called <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>args</span>. The second line prints the environment variable
stored in the first element of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>args</span>; that is, the first command line
argument the user provided.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.0pt;
margin-left:15.75pt;text-indent:0in'><span style='position:absolute;z-index:
-1895789568;left:0px;margin-left:12px;margin-top:3px;width:590px;height:90px'><img
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image055.gif"></span>Save
and exit <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>,
then run the program as follows:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Now, the output would be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image056.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251695104;left:0px;
margin-left:138px;margin-top:2px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image057.gif"></span><span
style='position:absolute;z-index:-1895787520;left:0px;margin-left:324px;
margin-top:2px;width:106px;height:55px'><img width=106 height=55
src="How%20To%20Code%20in%20Node.js_files/image058.gif"></span>The argument <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>HOME</span>
was saved to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>args</span> array, which was then used to find its value in the
environment via the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>process.env</span> object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.05pt;
margin-left:.25pt'><span style='position:absolute;z-index:251697152;left:0px;
margin-left:547px;margin-top:35px;width:64px;height:21px'><img width=64
height=21 src="How%20To%20Code%20in%20Node.js_files/image059.gif"></span>At
this point you can now access the value of any environment variable on your
system. To verify this, try viewing the following variables: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PWD</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>US</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:6.9pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='position:absolute;z-index:251698176;left:0px;
margin-left:1px;margin-top:0px;width:74px;height:21px'><img width=74 height=21
src="How%20To%20Code%20in%20Node.js_files/image060.gif"></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>ER</span>, <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>PATH</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Retrieving single variables is good, but letting the user
specify how many variables they want would be better.</p>

<h2 style='margin-left:.5pt'>Step 7 — Viewing Multiple Environment Variables</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.45pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251699200;
left:0px;margin-left:568px;margin-top:67px;width:44px;height:21px'><img
width=44 height=21 src="How%20To%20Code%20in%20Node.js_files/image048.gif"></span>Currently,
the application can only inspect one environment variable at a time. It would
be useful if we could accept multiple command line arguments and get their
corresponding value in the environment. Use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>nano </span>to edit <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image061.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>echo.js</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Edit the file so that it
has the following code instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=245
src="How%20To%20Code%20in%20Node.js_files/image062.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251700224;left:0px;
margin-left:167px;margin-top:58px;width:70px;height:21px'><img width=70
height=21 src="How%20To%20Code%20in%20Node.js_files/image053.gif"></span><span
style='position:absolute;z-index:251701248;left:0px;margin-left:310px;
margin-top:58px;width:43px;height:21px'><img width=43 height=21
src="How%20To%20Code%20in%20Node.js_files/image057.gif"></span>The <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#foreach()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>forEach</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#foreach()"><span
style='color:#3445FF'> method</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#foreach()"><span
style='color:black;text-decoration:none'> </span></a>is a standard JavaScript
method on all array objects. It accepts a callback function that is used as it
iterates over every element of the array. You use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>forEach</span> on the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>args</span>
array, providing it a callback function that prints the current argument’s
value in the environment.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file. Now re-run the program with two arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image063.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You would see the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image064.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895781376;
left:0px;margin-left:1px;margin-top:3px;width:126px;height:55px'><img
width=126 height=55 src="How%20To%20Code%20in%20Node.js_files/image065.gif"></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>forEach</span>
function ensures that every command line argument in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>args</span>
array is printed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now you have a way to retrieve the variables the user asks
for, but we still need to handle the case where the user enters bad data.</p>

<h2 style='margin-left:.5pt'>Step 8 — Handling Undefined Input</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>To see what happens if you give the program
an argument that is not a valid environment variable, run the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image066.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
output will look similar to the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=140
src="How%20To%20Code%20in%20Node.js_files/image067.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:absolute;z-index:251703296;left:0px;
margin-left:1px;margin-top:35px;width:88px;height:21px'><img width=88
height=21 src="How%20To%20Code%20in%20Node.js_files/image068.gif"></span><span
style='position:absolute;z-index:251704320;left:0px;margin-left:254px;
margin-top:35px;width:88px;height:21px'><img width=88 height=21
src="How%20To%20Code%20in%20Node.js_files/image069.gif"></span>The first two
lines print as expected, and the last line only has <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>. In
JavaScript, an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>
value means that a variable or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:-1895778304;
left:0px;margin-left:294px;margin-top:2px;width:207px;height:55px'><img
width=207 height=55 src="How%20To%20Code%20in%20Node.js_files/image070.gif"></span>property
has not been assigned a value. Because <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>NOT_DEFINED</span> is not a valid
environment variable, it is shown as <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>undefined</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>It would be more helpful to a user to see an error message
if their command line argument was not found in the environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=129 src="How%20To%20Code%20in%20Node.js_files/image071.gif"></span>Open
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>echo.js</span>
for editing:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=405
src="How%20To%20Code%20in%20Node.js_files/image072.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.05pt;
margin-left:.25pt'><span style='position:absolute;z-index:251706368;left:0px;
margin-left:496px;margin-top:3px;width:70px;height:21px'><img width=70
height=21 src="How%20To%20Code%20in%20Node.js_files/image073.gif"></span>Here,
you have modified the callback function provided to <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>forEach</span> to do the
following things:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.9pt;
margin-left:30.75pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Get the command
line argument’s value in the environment and store it in a variable <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>envVar</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:30.75pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Check if the value of <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>envVar</span> is <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>undefined</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.75pt'><span style='line-height:142%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='position:relative;z-index:-1895776256'><span style='left:0px;position:
absolute;left:88px;top:-66px;width:296px;height:89px'><img width=296 height=89
src="How%20To%20Code%20in%20Node.js_files/image074.gif"></span></span>If the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>envVar</span>
is <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>,
then we print a helpful message indicating that it could not be found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.8pt;
margin-left:30.75pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>If an environment variable was found, we print its value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895775232;
left:0px;margin-left:108px;margin-top:2px;width:205px;height:55px'><img
width=205 height=55 src="How%20To%20Code%20in%20Node.js_files/image075.gif"></span><span
style='position:absolute;z-index:251709440;left:0px;margin-left:1px;margin-top:
36px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image076.gif"></span><span
style='position:absolute;z-index:251710464;left:0px;margin-left:550px;
margin-top:36px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image077.gif"></span><span
style='position:absolute;z-index:-1895772160;left:0px;margin-left:236px;
margin-top:91px;width:170px;height:55px'><img width=170 height=55
src="How%20To%20Code%20in%20Node.js_files/image078.gif"></span><b>Note</b>: The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>console.error</span>
function prints a message to the screen via the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>stderr</span> stream, whereas <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>console.log</span>
prints to the screen via the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>stdout </span>stream. When you run this program via
the command line, you won’t notice the difference between the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stdout</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>
streams, but it is good practice to print errors via the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>
stream so that they can be easier identified and processed by other programs,
which can tell the difference. Now run the following command once more:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image066.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This time the output will
be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=140
src="How%20To%20Code%20in%20Node.js_files/image079.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now when you provide a command line argument that’s not an
environment variable, you get a clear error message stating so.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Your first program displayed “Hello World”
to the screen, and now you have written a Node.js command line utility that
reads user arguments to display environment variables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>If you want to take this further, you can change the
behavior of this program even more. For example, you may want to validate the
command line arguments before you print. If an argument is undefined, you can
return an error, and the user will only get output if all arguments are valid
environment variables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>If you’d like to continue learning
Node.js, you can return to the </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>, or browse programming projects and
setups on our </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:black;text-decoration:none'>.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Use the Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s REPL</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>eech Fund</span></a> to receive a donation as part of the
<a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write for
DOnations</span></a> program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The Node.js Read-Eval-Print-Loop (REPL) is an interactive
shell that processes Node.js expressions. The shell <b>reads</b> JavaScript
code the user enters, <b>eval</b>uates the result of interpreting the line of
code, <b>prints</b> the result to the user, and <b>loops</b> until the user
signals to quit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt'>The REPL is bundled with with every Node.js installation and
allows you to quickly test and explore JavaScript code within the Node
environment without having to store it in a file.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>To complete this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 231962"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> Node.js
installed on your development machine. This tutorial uses version 10.16.0. To
install this on macOS or Ubuntu 18.04, follow the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the “Installing Using a PPA”
section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 231963"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>A basic knowledge of JavaScript, which
you can find here: </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>How To Code in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Starting and Stopping the REPL</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=164
src="How%20To%20Code%20in%20Node.js_files/image080.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image081.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>immediately evaluated.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>For
an example, try adding two numbers in the REPL by typing this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image082.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.05pt;
margin-left:.25pt;text-indent:0in'>return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895771136'><span
style='left:0px;position:absolute;left:12px;top:-69px;width:599px;height:92px'><img
width=599 height=92 src="How%20To%20Code%20in%20Node.js_files/image083.gif"></span></span><span
style='position:absolute;z-index:251713536;left:0px;margin-left:1px;margin-top:
36px;width:39px;height:20px'><img width=39 height=20
src="How%20To%20Code%20in%20Node.js_files/image084.gif"></span>To exit the
REPL, you can type <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>.exit</span>, or press <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>CTRL+D</span> once, or press <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CT RL+C</span>
twice, which will return you to the shell prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>With starting and stopping out of the way, let’s take a look
at how you can use the REPL to execute simple JavaScript code.</p>

<h2 style='margin-left:.5pt'>Step 2 — Executing Code in the Node.js REPL</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>The REPL is a quick way to test JavaScript
code without having to create a file. Almost every valid JavaScript or Node.js
expression can be executed in the REPL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In the previous step you already tried out addition of two
numbers, now let’s try division. To do so, start a new REPL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image085.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
the prompt type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=163
src="How%20To%20Code%20in%20Node.js_files/image086.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The REPL can also process operations on strings. <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#string-concatenation"><span
style='color:#3445FF'>Concatenate</span></a> the following strings in your REPL
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=163
src="How%20To%20Code%20in%20Node.js_files/image087.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'><b>Note</b>: You may have noticed that the output used
single quotes instead of double quotes. In JavaScript, the quotes used for a
string do not affect its value. If the string you entered used a single quote,
the REPL is smart enough to use double quotes in the output.</p>

<h3 style='margin-left:.5pt'>Calling Functions</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.6pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251714560;
left:0px;margin-left:599px;margin-top:2px;width:12px;height:20px'><img
width=12 height=20 src="How%20To%20Code%20in%20Node.js_files/image088.gif"></span><span
style='position:absolute;z-index:251715584;left:0px;margin-left:1px;margin-top:
36px;width:93px;height:20px'><img width=93 height=20
src="How%20To%20Code%20in%20Node.js_files/image089.gif"></span><span
style='position:absolute;z-index:251716608;left:0px;margin-left:563px;
margin-top:58px;width:48px;height:20px'><img width=48 height=20
src="How%20To%20Code%20in%20Node.js_files/image090.gif"></span><span
style='position:absolute;z-index:251717632;left:0px;margin-left:1px;margin-top:
92px;width:39px;height:20px'><img width=39 height=20
src="How%20To%20Code%20in%20Node.js_files/image084.gif"></span><img width=610
height=268 src="How%20To%20Code%20in%20Node.js_files/image091.gif" align=left
hspace=12><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image092.gif" align=left hspace=12>When
writing Node.js code, it’s common to print messages via the global <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c
onsole.log</span> method or a similar <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>function</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> Type the following at the
prompt: instead of returning a string, the message is seen without quotes. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undef ined</span>
is the return value of the function.</p>

<h3 style='margin-left:.5pt'>Creating Variables</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251720704;
left:0px;margin-left:453px;margin-top:35px;width:34px;height:21px'><img
width=34 height=21 src="How%20To%20Code%20in%20Node.js_files/image093.gif"></span>Rarely
do you just work with literals in JavaScript. Creating a variable in the REPL
works in the same fashion as working with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>.js</span> files. Type the
following at the prompt:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.0pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><img width=48 height=20
src="How%20To%20Code%20in%20Node.js_files/image094.gif" align=left hspace=12><span
style='font-size:11.0pt;line-height:110%;font-family:"Calibri",sans-serif'><img
border=0 width=613 height=236
src="How%20To%20Code%20in%20Node.js_files/image095.gif"></span>Like before,
with <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>console.log</span>,
the return value of this command is <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>unde</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251722752;
left:0px;margin-left:275px;margin-top:3px;width:34px;height:21px'><img
width=34 height=21 src="How%20To%20Code%20in%20Node.js_files/image096.gif"></span><span
style='position:absolute;z-index:251723776;left:0px;margin-left:143px;
margin-top:37px;width:53px;height:21px'><img width=53 height=21
src="How%20To%20Code%20in%20Node.js_files/image097.gif"></span>For example, you
can multiply <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>age</span>
by two. Type the following at the prompt and press <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ENTER</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image098.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.95pt;
margin-left:15.75pt;text-indent:0in'>The result is:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.15pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895758848'><span
style='left:0px;position:absolute;left:12px;top:-69px;width:590px;height:92px'><img
width=590 height=92 src="How%20To%20Code%20in%20Node.js_files/image099.gif"></span></span>Because
the REPL returns values, you don’t need to use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>console.log</span> or similar
functions to see the output on the screen. By default, any returned value will
appear on the screen.</p>

<h3 style='margin-left:.5pt'>Multi-line Blocks</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Multi-line blocks of code are supported as
well. For example, you can create a function that adds 3 to a given number.
Start the function by typing the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=163
src="How%20To%20Code%20in%20Node.js_files/image100.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The REPL noticed an open curly bracket and therefore assumes
you’re writing more than one line of code, which needs to be indented. To make
it easier to read, the REPL adds 3 dots and a space on the next line, so the
following code appears to be indented.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:absolute;z-index:251725824;left:0px;
margin-left:599px;margin-top:3px;width:12px;height:20px'><img width=12
height=20 src="How%20To%20Code%20in%20Node.js_files/image088.gif"></span><span
style='position:absolute;z-index:251726848;left:0px;margin-left:1px;margin-top:
37px;width:39px;height:20px'><img width=39 height=20
src="How%20To%20Code%20in%20Node.js_files/image101.gif"></span>Enter the second
and third lines of the function, one at a time, pressing <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>E NTER</span>
after each:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=126
src="How%20To%20Code%20in%20Node.js_files/image102.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:2.5pt;text-indent:-2.25pt'><span style='position:absolute;
z-index:251727872;left:0px;margin-left:1px;margin-top:35px;width:34px;
height:21px'><img width=34 height=21
src="How%20To%20Code%20in%20Node.js_files/image096.gif"></span><span
style='position:absolute;z-index:251728896;left:0px;margin-left:266px;
margin-top:35px;width:16px;height:21px'><img width=16 height=21
src="How%20To%20Code%20in%20Node.js_files/image032.gif"></span>which is the
“return value” of the function assignment to a variable. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>...</span>
prompt is now gone and the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>&gt;</span> prompt returns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>undefined </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt;</span>&nbsp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image103.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>As
expected, the output is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image104.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>You can use the REPL to try out bits of JavaScript code
before including them into your programs. The REPL also includes some handy
shortcuts to make that process easier.</p>

<h2 style='margin-left:.5pt'>Step 3 — Mastering REPL Shortcuts</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>The REPL provides shortcuts to decrease
coding time when possible. It keeps a history of all the entered commands and
allows us to cycle through them and repeat a command if necessary.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>For
an example, enter the following string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=54
src="How%20To%20Code%20in%20Node.js_files/image105.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This results in:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:11.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>'The answer to life the universe and everything is 32'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251729920;left:0px;
margin-left:62px;margin-top:35px;width:25px;height:21px'><img width=25
height=21 src="How%20To%20Code%20in%20Node.js_files/image106.gif"></span>If
we’d like to edit the string and change the “32” to “42”, at the prompt, use
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>UP</span>
arrow key to return to the previous command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.2pt;
margin-bottom:0in;margin-left:15.75pt;text-align:left;text-indent:-15.0pt;
line-height:148%'><span style='position:absolute;z-index:251730944;left:0px;
margin-left:296px;margin-top:33px;width:15px;height:21px'><img width=15
height=21 src="How%20To%20Code%20in%20Node.js_files/image107.gif"></span><span
style='position:absolute;z-index:251731968;left:0px;margin-left:366px;
margin-top:33px;width:16px;height:21px'><img width=16 height=21
src="How%20To%20Code%20in%20Node.js_files/image032.gif"></span><span
style='position:absolute;z-index:251732992;left:0px;margin-left:471px;
margin-top:33px;width:51px;height:21px'><img width=51 height=21
src="How%20To%20Code%20in%20Node.js_files/image108.gif"></span><span
style='font-size:11.0pt;line-height:148%;font-family:"Courier New"'>&gt;
&quot;The answer to life the universe and everything is 32&quot; </span>Move
the cursor to the left, delete <span style='font-size:11.0pt;line-height:148%;
font-family:"Courier New"'>3</span>, enter <span style='font-size:11.0pt;
line-height:148%;font-family:"Courier New"'>4</span>, and press <span
style='font-size:11.0pt;line-height:148%;font-family:"Courier New"'>ENTER</span>
again:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:11.5pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>'The answer to life the universe and everything is 42'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251734016;left:0px;
margin-left:202px;margin-top:2px;width:25px;height:21px'><img width=25
height=21 src="How%20To%20Code%20in%20Node.js_files/image109.gif"></span><span
style='position:absolute;z-index:251735040;left:0px;margin-left:150px;
margin-top:68px;width:43px;height:21px'><img width=43 height=21
src="How%20To%20Code%20in%20Node.js_files/image110.gif"></span>Continue to
press the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>UP</span>
arrow key, and you’ll go further back through your history until the first used
command in the current REPL session. In contrast, pressing <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DOWN</span>
will iterate towards the more recent commands in the history.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251736064;left:0px;
margin-left:599px;margin-top:3px;width:12px;height:20px'><img width=12
height=20 src="How%20To%20Code%20in%20Node.js_files/image088.gif"></span><span
style='position:absolute;z-index:251737088;left:0px;margin-left:1px;margin-top:
37px;width:30px;height:20px'><img width=30 height=20
src="How%20To%20Code%20in%20Node.js_files/image111.gif"></span>When you are
done maneuvering through your command history, press <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>D OWN</span> repeatedly
until you have exhausted your recent command history and are once again seeing
the prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.55pt;
margin-left:.25pt'>To quickly get the last evaluated value, use the underscore
character. At the prompt, type <span style='font-size:11.0pt;line-height:142%;
font-family:"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image112.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>_</span>
and press <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The previously entered
string will appear again:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:11.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>'The answer to life the universe and everything is 42'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251738112;left:0px;
margin-left:581px;margin-top:35px;width:30px;height:20px'><img width=30
height=20 src="How%20To%20Code%20in%20Node.js_files/image113.gif"></span>The
REPL also has an autocompletion for functions, variables, and keywords. If you
wanted to find the square root of a number using the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Mat h.sqrt</span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image114.gif"></span> function, enter
the first few letters, like so:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
absolute;z-index:251739136;left:0px;margin-left:142px;margin-top:3px;
width:34px;height:21px'><img width=34 height=21
src="How%20To%20Code%20in%20Node.js_files/image096.gif"></span>Then press the <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>TAB</span>
key and the REPL will autocomplete the function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:11.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt; Math.sqrt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When there are multiple possibilities for autocompletion,
you’re prompted with all the available options. For an example, enter just:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=94
src="How%20To%20Code%20in%20Node.js_files/image115.gif"></span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image116.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=299
src="How%20To%20Code%20in%20Node.js_files/image117.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251740160;left:0px;
margin-left:391px;margin-top:67px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image118.gif"></span>Depending
on the screen size of your shell, the output may be displayed with a different
number of rows and columns. This is a list of all the functions and properties
that are available in the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Math</span> module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251741184;left:0px;
margin-left:68px;margin-top:2px;width:61px;height:21px'><img width=61
height=21 src="How%20To%20Code%20in%20Node.js_files/image119.gif"></span>Press <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+C</span>
to get to a new line in the prompt without executing what is in the current
line.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Knowing the REPL shortcuts makes you more efficient when
using it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt;text-indent:0in'>Though, there’s another thing REPL provides
for increased productivity— The REPL commands.</p>

<h2 style='margin-left:.5pt'>Step 4 — Using REPL Commands</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251742208;
left:0px;margin-left:227px;margin-top:35px;width:16px;height:21px'><img
width=16 height=21 src="How%20To%20Code%20in%20Node.js_files/image032.gif"></span>The
REPL has specific keywords to help control its behavior. Each command begins
with a dot <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.</span>.</p>

<h3 style='margin-left:.5pt'>.help</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:absolute;
z-index:251743232;left:0px;margin-left:345px;margin-top:2px;width:52px;
height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image120.gif"></span>To list all the
available commands, use the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>.help</span> command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image121.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>There aren’t many, but they’re useful for getting things
done in the REPL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=342
src="How%20To%20Code%20in%20Node.js_files/image122.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.05pt;
margin-left:.25pt'><span style='position:absolute;z-index:251744256;left:0px;
margin-left:464px;margin-top:3px;width:52px;height:21px'><img width=52
height=21 src="How%20To%20Code%20in%20Node.js_files/image123.gif"></span>If
ever you forget a command, you can always refer to <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>.help</span> to see what it does.</p>

<h3 style='margin-left:.5pt'>.break/.clear</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.8pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:-1895738368;
left:0px;margin-left:12px;margin-top:2px;width:590px;height:124px'><img
width=590 height=124 src="How%20To%20Code%20in%20Node.js_files/image124.gif"></span>Using
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.break</span>
or <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.clear</span>,
it’s easy to exit a multi-line expression. For example, begin a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>for loop</span>
as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt; for (let i = 0; i &lt; 100000000; i++) {</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.5pt;
margin-left:.25pt'>To exit from entering any more lines, instead of entering
the next one, use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image125.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.break</span>
or <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.clear</span>
command to break out:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You’ll see a new prompt:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:11.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt;</span>&nbsp;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.8pt;
margin-left:.25pt'><span style='position:absolute;z-index:251746304;left:0px;
margin-left:153px;margin-top:35px;width:61px;height:21px'><img width=61
height=21 src="How%20To%20Code%20in%20Node.js_files/image126.gif"></span>The
REPL will move on to a new line without executing any code, similar to pressing
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+C</span>.</p>

<h3 style='margin-left:.5pt'>.save and .load</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251747328;
left:0px;margin-left:39px;margin-top:3px;width:52px;height:21px'><img width=52
height=21 src="How%20To%20Code%20in%20Node.js_files/image127.gif"></span><span
style='position:absolute;z-index:251748352;left:0px;margin-left:134px;
margin-top:37px;width:52px;height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image128.gif"></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.save</span>
command stores all the code you ran since starting the REPL, into a file. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.load</span>
command runs all the JavaScript code from a file inside the REPL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895734272;
left:0px;margin-left:237px;margin-top:2px;width:54px;height:55px'><img
width=54 height=55 src="How%20To%20Code%20in%20Node.js_files/image129.gif"></span><span
style='position:absolute;z-index:251750400;left:0px;margin-left:475px;
margin-top:2px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image119.gif"></span>Quit the session
using the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.exit</span>
command or with the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>CTRL+D</span> shortcut. Now start a new REPL with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node</span>.
Now only the code you are about to write will be saved.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Create
an array with fruits:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image130.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>In the next line, the
REPL will display:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:12.15pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>[ 'banana', 'apple', 'mango' ]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image131.gif"></span>Save
this variable to a new file, <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>fruits.js</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>We’re
greeted with the confirmation:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image132.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The file is saved in the same directory where you opened the
Node.js REPL. For example, if you opened the Node.js REPL in your home
directory, then your file will be saved in your home directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.75pt;
margin-left:.25pt'><span style='position:absolute;z-index:251751424;left:0px;
margin-left:372px;margin-top:2px;width:44px;height:21px'><img width=44
height=21 src="How%20To%20Code%20in%20Node.js_files/image039.gif"></span>Exit
the session and start a new REPL with <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>node</span>. At the prompt, load the <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=154
src="How%20To%20Code%20in%20Node.js_files/image133.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fruits.js</span>
file by entering:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This results in:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=118
src="How%20To%20Code%20in%20Node.js_files/image134.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251752448;left:0px;
margin-left:57px;margin-top:2px;width:52px;height:21px'><img width=52
height=21 src="How%20To%20Code%20in%20Node.js_files/image127.gif"></span><span
style='position:absolute;z-index:251753472;left:0px;margin-left:389px;
margin-top:36px;width:61px;height:21px'><img width=61 height=21
src="How%20To%20Code%20in%20Node.js_files/image135.gif"></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.load</span>
command reads each line of code and executes it, as expected of a JavaScript
interpreter. You can now use the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>fruits</span> variable as if it was available
in the current session all the time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image136.gif"></span>Type
the following command and press <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>ENTER</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
REPL will output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image137.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.95pt;
margin-left:.25pt'><span style='position:absolute;z-index:251754496;left:0px;
margin-left:387px;margin-top:2px;width:51px;height:21px'><img width=51
height=21 src="How%20To%20Code%20in%20Node.js_files/image138.gif"></span><img
width=610 height=127 src="How%20To%20Code%20in%20Node.js_files/image139.gif"
align=left hspace=12><img width=57 height=20
src="How%20To%20Code%20in%20Node.js_files/image140.gif" align=left hspace=12>You
can load any JavaScript file with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>.load</span> command, not only items you saved.
Let’s quickly demonstrate by opening your preferred code</p>

<p class=MsoNormal style='margin-top:11.75pt;margin-right:.7pt;margin-bottom:
9.1pt;margin-left:15.75pt;text-indent:0in;line-height:107%'>Now that the file
is open, type the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image141.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.3pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit nano by
pressing <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895726080'><span
style='left:0px;position:absolute;left:274px;top:-32px;width:186px;height:55px'><img
width=186 height=55 src="How%20To%20Code%20in%20Node.js_files/image142.gif"></span></span>In
the same directory where you saved <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>peanuts.js</span>, start the Node.js</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=164
src="How%20To%20Code%20in%20Node.js_files/image143.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=182
src="How%20To%20Code%20in%20Node.js_files/image144.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.4pt;
margin-left:.25pt'><span style='position:absolute;z-index:251758592;left:0px;
margin-left:145px;margin-top:67px;width:51px;height:21px'><img width=51
height=21 src="How%20To%20Code%20in%20Node.js_files/image108.gif"></span><span
style='position:absolute;z-index:251759616;left:0px;margin-left:242px;
margin-top:67px;width:52px;height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image128.gif"></span>When your REPL
usage goes longer than expected, or you believe you have an interesting code
snippet worth sharing or explore in more depth, you can use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.save</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>.load</span>
commands to make both those goals possible.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>The REPL is an interactive
environment that allows you to execute</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>JavaScript code without
first having to write it to a file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You can use the REPL to
try out JavaScript code from other tutorials:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><img width=6 height=102
src="How%20To%20Code%20in%20Node.js_files/image145.gif" align=left hspace=12><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>How To Define Functions in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>t</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF'>How To Use the Switch Statement in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF'>t</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript"><span
style='color:#3445FF'>How To Use Ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript"><span
style='color:#3445FF'>ect Methods in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript"><span
style='color:#3445FF'>t</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'>How To Index</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'> S</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'>lit</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'> and Mani</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'>ulate Strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'>s in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript"><span
style='color:#3445FF'>t</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Use Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s Modules with npm and packa</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>e.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>son</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>eech Fund</span></a> to receive a donation as part of the
<a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write for
DOnations</span></a> program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Because of such features as its speedy Input/Output (I/O)
performance and its well-known JavaScript syntax, <a
href="https://nodejs.org/en/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/en/"><span style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/en/"><span style='color:#3445FF'>s</span></a> has
quickly become a popular runtime environment for back-end web development. But
as interest grows, larger applications are built, and managing the complexity
of the codebase and its dependencies becomes more difficult. Node.js organizes
this complexity using modules, which are any single JavaScript files containing
functions or objects that can be used by other programs or modules. A
collection of one or more modules is commonly referred to as a package, and
these packages are themselves organized by package managers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.2pt;
margin-left:.25pt'><span style='position:absolute;z-index:251761664;left:0px;
margin-left:311px;margin-top:131px;width:116px;height:21px'><img width=116
height=21 src="How%20To%20Code%20in%20Node.js_files/image146.gif"></span>The <a
href="https://www.npmjs.com/"><span style='color:#3445FF'>Node</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>s Packa</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>e Mana</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>er </span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>n</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>m)</span></a><a
href="https://www.npmjs.com/"><span style='color:black;text-decoration:none'> </span></a>is
the default and most popular package manager in the Node.js ecosystem, and is
primarily used to install and manage external modules in a Node.js project. It
is also commonly used to install a wide range of CLI tools and run project
scripts. npm tracks the modules installed in a project with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file, which resides in a project’s directory and contains:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=70
src="How%20To%20Code%20in%20Node.js_files/image147.gif" align=left hspace=12>All
the modules needed for a project and their installed versions</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:4.95pt;
margin-bottom:4.85pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'>All the metadata for a project, such as the author, the
license, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Scripts that can be run
to automate tasks within the project</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251763712;left:0px;
margin-left:226px;margin-top:35px;width:116px;height:21px'><img width=116
height=21 src="How%20To%20Code%20in%20Node.js_files/image148.gif"></span>As you
create more complex Node.js projects, managing your metadata and dependencies
with the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file will provide you with more predictable builds, since all external
dependencies are kept the same. The file will keep track of this information
automatically; while you may change the file directly to update your project’s
metadata, you will seldom need to interact with it directly to manage modules.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:.25pt'><span style='position:absolute;z-index:251764736;left:0px;
margin-left:265px;margin-top:35px;width:115px;height:21px'><img width=115
height=21 src="How%20To%20Code%20in%20Node.js_files/image149.gif"></span>In
this tutorial, you will manage packages with npm. The first step will be to
create and understand the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.json</span> file. You will then use it to
keep track of all the modules you install in your project. Finally, you will
list your package dependencies, update your packages, uninstall your packages,
and perform an audit to find security flaws in your packages.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>To complete this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.15pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 230378"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> Node.js
installed on your development machine. This tutorial uses version 10.17.0. To
install this on macOS or Ubuntu 18.04, follow the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. By having Node.js installed you </span></a>will
also have npm installed; this tutorial uses version 6.11.3.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.8pt;margin-left:
.5pt'>Step 1 — Creating a <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>package.json</span> File</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:absolute;z-index:251765760;
left:0px;margin-left:1px;margin-top:35px;width:70px;height:21px'><img width=70
height=21 src="How%20To%20Code%20in%20Node.js_files/image150.gif"></span>We
begin this tutorial by setting up the example project—a fictional Node.js <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>locator</span>
module that gets the user’s IP address and returns the country of origin. You
will not be coding the module in this tutorial. However, the packages you
manage would be relevant if you were developing it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251766784;left:0px;
margin-left:211px;margin-top:2px;width:115px;height:21px'><img width=115
height=21 src="How%20To%20Code%20in%20Node.js_files/image151.gif"></span>First,
you will create a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>package.json</span> file to store useful metadata about the
project and help you manage the project’s dependent Node.js modules. As the
suffix suggests, this is a JSON (JavaScript Object Notation) file. JSON is a
standard format used for sharing, based on <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>t ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ects</span></a> and consisting of data stored as
key-value pairs. If you would like to learn more about JSON, read our <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-json"><span
style='color:#3445FF'>Introduction to JSON</span></a> article.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251767808;left:0px;
margin-left:98px;margin-top:2px;width:115px;height:21px'><img width=115
height=21 src="How%20To%20Code%20in%20Node.js_files/image149.gif"></span><span
style='position:absolute;z-index:251768832;left:0px;margin-left:478px;
margin-top:68px;width:42px;height:21px'><img width=42 height=21
src="How%20To%20Code%20in%20Node.js_files/image152.gif"></span><span
style='position:absolute;z-index:251769856;left:0px;margin-left:75px;
margin-top:134px;width:115px;height:21px'><img width=115 height=21
src="How%20To%20Code%20in%20Node.js_files/image153.gif"></span>Since a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file contains numerous properties, it can be cumbersome to create manually,
without copy and pasting a template from somewhere else. To make things easier,
npm provides the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>init</span> command. This is an interactive command that asks
you a series of questions and creates a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>package.json</span> file based on
your answers.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:14.45pt;margin-left:
.5pt'>Using the <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>init</span> Command</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>First, set up a project so
you can practice managing modules. In your shell,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image154.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Then
move into the new folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image155.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now,
initialize the interactive prompt by entering:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image156.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251770880;left:0px;
margin-left:265px;margin-top:34px;width:86px;height:21px'><img width=86
height=21 src="How%20To%20Code%20in%20Node.js_files/image157.gif"></span><span
style='position:absolute;z-index:251771904;left:0px;margin-left:215px;
margin-top:88px;width:149px;height:21px'><img width=149 height=21
src="How%20To%20Code%20in%20Node.js_files/image158.gif"></span><span
style='position:absolute;z-index:-1895710720;left:0px;margin-left:410px;
margin-top:88px;width:201px;height:54px'><img width=201 height=54
src="How%20To%20Code%20in%20Node.js_files/image159.gif"></span><span
style='position:absolute;z-index:-1895709696;left:0px;margin-left:1px;
margin-top:122px;width:115px;height:54px'><img width=115 height=54
src="How%20To%20Code%20in%20Node.js_files/image160.gif"></span><b>Note</b>: If
your code will use Git for version control, create the Git repository first and
then run <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm
init</span>. The command automatically understands that it is in a Git-enabled
folder. If a Git remote is set, it automatically fills out the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>repository</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>bugs</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>homepage</span>
fields for your <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>package.json</span> file. If you initialized the repo after
creating the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.jso
n</span> file, you will have to add this information in yourself. For more on
Git <a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:black;text-decoration:none'>version control, see our </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF'>Introduction to Git: Installation</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF'> Usa</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:#3445FF'> and Branches</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/introduction-to-git-installation-usage-and-branches"><span
style='color:black;text-decoration:none'> series.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will receive the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=492
src="How%20To%20Code%20in%20Node.js_files/image161.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251774976;left:0px;
margin-left:302px;margin-top:2px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image162.gif"></span><span
style='position:absolute;z-index:-1895707648;left:0px;margin-left:245px;
margin-top:58px;width:139px;height:89px'><img width=139 height=89
src="How%20To%20Code%20in%20Node.js_files/image163.gif"></span><span
style='position:absolute;z-index:251777024;left:0px;margin-left:1px;margin-top:
92px;width:43px;height:21px'><img width=43 height=21
src="How%20To%20Code%20in%20Node.js_files/image164.gif"></span>You will first
be prompted for the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>name</span> of your new project. By default, the command assumes
it’s the name of the folder you’re in. Default values for each property are
shown in parentheses <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>()</span>. Since the default value for <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>name</span> will work for
this tutorial, press <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>ENTER</span> to accept it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251778048;left:0px;
margin-left:461px;margin-top:3px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image165.gif"></span>The
next value to enter is <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>version</span>. Along with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>name</span>,
this field is required if your project will be shared with others in the npm
package repository.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251779072;left:0px;
margin-left:491px;margin-top:35px;width:52px;height:21px'><img width=52
height=21 src="How%20To%20Code%20in%20Node.js_files/image166.gif"></span><span
style='position:absolute;z-index:251780096;left:0px;margin-left:65px;
margin-top:101px;width:52px;height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image127.gif"></span><b>Note:</b>
Node.js packages are expected to follow the <a href="https://semver.org/"><span
style='color:#3445FF'>Semantic Versionin</span></a><a href="https://semver.org/"><span
style='color:#3445FF;text-decoration:none'>g </span></a>(semver) guide.
Therefore, the first number will be the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>MAJOR</span> version number that
only changes when the API changes. The second number will be the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>MINOR</span>
version that changes when features are added. The last number will be the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PATCH</span>
version that changes when bugs are fixed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:-1895702528'><span style='left:0px;position:absolute;
left:68px;top:-32px;width:139px;height:55px'><img width=139 height=55
src="How%20To%20Code%20in%20Node.js_files/image167.gif"></span></span>Press <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>ENTER</span>
so the default version is accepted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895701504;
left:0px;margin-left:174px;margin-top:2px;width:184px;height:55px'><img
width=184 height=55 src="How%20To%20Code%20in%20Node.js_files/image168.gif"></span><span
style='position:absolute;z-index:-1895700480;left:0px;margin-left:1px;
margin-top:70px;width:505px;height:89px'><img width=505 height=89
src="How%20To%20Code%20in%20Node.js_files/image169.gif"></span><span
style='position:absolute;z-index:251784192;left:0px;margin-left:590px;
margin-top:70px;width:21px;height:20px'><img width=21 height=20
src="How%20To%20Code%20in%20Node.js_files/image170.gif"></span>The next field
is <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>description</span>—a
useful string to explain what your Node.js module does. Our fictional <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>locator</span>
project would get the user’s IP address and return the country of origin. A
fitting <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>description</span>
would be <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Fi
nds the country of origin of the incoming request</span>, so type in something
like this and press <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>ENTER</span>. The <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>description</span> is very useful when people
are searching for your module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:-1895698432;
left:0px;margin-left:394px;margin-top:3px;width:180px;height:55px'><img
width=180 height=55 src="How%20To%20Code%20in%20Node.js_files/image171.gif"></span><span
style='position:absolute;z-index:251786240;left:0px;margin-left:99px;
margin-top:37px;width:78px;height:21px'><img width=78 height=21
src="How%20To%20Code%20in%20Node.js_files/image172.gif"></span><span
style='position:absolute;z-index:251787264;left:0px;margin-left:496px;
margin-top:103px;width:43px;height:21px'><img width=43 height=21
src="How%20To%20Code%20in%20Node.js_files/image162.gif"></span><span
style='position:absolute;z-index:251788288;left:0px;margin-left:52px;
margin-top:137px;width:115px;height:21px'><img width=115 height=21
src="How%20To%20Code%20in%20Node.js_files/image149.gif"></span>The following
prompt will ask you for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>entry point</span>. If someone installs and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requires</span>
your module, what you set in the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>entry point</span> will be the first part of
your program that is loaded. The value needs to be the relative location of a
JavaScript file, and will be added to the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>main</span> property of the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>.
Press <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>
to keep the default value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895694336'><span
style='left:0px;position:absolute;left:223px;top:-31px;width:203px;height:89px'><img
width=203 height=89 src="How%20To%20Code%20in%20Node.js_files/image173.gif"></span></span><span
style='position:absolute;z-index:251790336;left:0px;margin-left:385px;
margin-top:58px;width:114px;height:21px'><img width=114 height=21
src="How%20To%20Code%20in%20Node.js_files/image174.gif"></span><span
style='position:absolute;z-index:251791360;left:0px;margin-left:88px;
margin-top:92px;width:79px;height:21px'><img width=79 height=21
src="How%20To%20Code%20in%20Node.js_files/image175.gif"></span><b>Note</b>:
Most modules have an <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>index.js</span> file as the main point of entry. This is the
default value for a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>package.json</span>’s <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>main</span> property, which is the point of
entry for npm modules. If there is no <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>package.json</span>, Node.js will try to load <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>index.js</span>
by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:absolute;z-index:251792384;left:0px;
margin-left:275px;margin-top:2px;width:121px;height:21px'><img width=121
height=21 src="How%20To%20Code%20in%20Node.js_files/image176.gif"></span><span
style='position:absolute;z-index:251793408;left:0px;margin-left:263px;
margin-top:132px;width:52px;height:21px'><img width=52 height=21
src="How%20To%20Code%20in%20Node.js_files/image127.gif"></span>Next, you’ll be
asked for a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>test
command</span>, an executable script or command to run your project tests. In
many popular Node.js modules, tests are written and executed with <a
href="https://mochajs.org/"><span style='color:#3445FF'>Mocha</span></a><a
href="https://mochajs.org/"><span style='color:black;text-decoration:none'>,</span></a>
<a href="https://jestjs.io/"><span style='color:#3445FF'>Jest</span></a><a
href="https://jestjs.io/"><span style='color:black;text-decoration:none'>,</span></a>
<a href="https://jasmine.github.io/"><span style='color:#3445FF'>Jasmine</span></a>,
or other test frameworks. Since testing is beyond the scope of this article,
leave this option empty for now, and press <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ENTER</span> to move on.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:-.35pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:absolute;z-index:251794432;left:0px;
margin-left:59px;margin-top:3px;width:43px;height:21px'><img width=43
height=21 src="How%20To%20Code%20in%20Node.js_files/image165.gif"></span>The <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>init</span>
command will then ask for the project’s <a
href="https://help.github.com/en/github/creating-cloning-and-archiving-repositories/about-repositories"><span
style='color:#3445FF'>GitHub Re</span></a><a
href="https://help.github.com/en/github/creating-cloning-and-archiving-repositories/about-repositories"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://help.github.com/en/github/creating-cloning-and-archiving-repositories/about-repositories"><span
style='color:#3445FF'>ositor</span></a><a
href="https://help.github.com/en/github/creating-cloning-and-archiving-repositories/about-repositories"><span
style='color:#3445FF;text-decoration:none'>y</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>You won’t use this in this
example, so leave it empty as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.75pt;
margin-left:.25pt'><span style='position:absolute;z-index:251795456;left:0px;
margin-left:481px;margin-top:2px;width:79px;height:21px'><img width=79
height=21 src="How%20To%20Code%20in%20Node.js_files/image175.gif"></span><span
style='position:absolute;z-index:251796480;left:0px;margin-left:1px;margin-top:
164px;width:133px;height:21px'><img width=133 height=21
src="How%20To%20Code%20in%20Node.js_files/image177.gif"></span><span
style='position:absolute;z-index:251797504;left:0px;margin-left:368px;
margin-top:164px;width:116px;height:21px'><img width=116 height=21
src="How%20To%20Code%20in%20Node.js_files/image146.gif"></span>After the
repository prompt, the command asks for <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>keywords</span>. This property is
an array of strings with useful terms that people can use to find your
repository. It’s best to have a small set of words that are really relevant to
your project, so that searching can be more targeted. List these keywords as a
string with commas separating each value. For this sample project, type <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ip,geo,country</span>
at the prompt. The finished <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.json</span> will have three</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>items in the array for <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>keywords</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.05pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895685120'><span
style='left:0px;position:absolute;left:173px;top:-32px;width:170px;height:41px'><img
width=170 height=41 src="How%20To%20Code%20in%20Node.js_files/image178.gif"></span></span>The
next field in the prompt is <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>author</span>. This is useful for users of your
module who want to get in contact with you. For example, if someone discovers
an exploit in your module, they can use this to report the problem so that you
can fix it. The <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>author</span> field is a string in the following format: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895684096'><span
style='left:0px;position:absolute;left:1px;top:-127px;width:270px;height:1px'><img
width=270 height=1 src="How%20To%20Code%20in%20Node.js_files/image179.gif"></span></span><span
style='position:relative;z-index:-1895683072'><span style='left:0px;position:
absolute;left:354px;top:-127px;width:257px;height:1px'><img width=257 height=1
src="How%20To%20Code%20in%20Node.js_files/image180.gif"></span></span><span
style='position:relative;z-index:251801600'><span style='left:0px;position:
absolute;left:223px;top:-127px;width:53px;height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image181.gif"></span></span><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#EF2929'>Name</span></b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'> \&lt;</span><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#EF2929'>Email</span></b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>\&gt; (</span><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#EF2929'>Website</span></b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>)&quot;</span>.
For example, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;Sammy
\&lt;sammy@your_domain\&gt; (https://your_domain)&quot;</span> is a valid
author. The email and website data are optional—a valid author could just be a
name. Add your contact details as an author and confirm with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.85pt;
margin-left:.25pt'><span style='position:relative;z-index:251802624'><span
style='left:0px;position:absolute;left:319px;top:-260px;width:70px;height:1px'><img
width=70 height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>Finally,
you’ll be prompted for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>license</span>. This determines the legal
permissions and limitations users will have while using your module. Many
Node.js modules are open source, so npm sets the default to <a
href="https://www.npmjs.com/package/isc-license"><span style='color:#3445FF'>ISC</span></a><a
href="https://www.npmjs.com/package/isc-license"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:251803648'><span
style='left:0px;position:absolute;left:563px;top:-367px;width:48px;height:1px'><img
width=48 height=1 src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span><span
style='position:relative;z-index:-1895678976'><span style='left:0px;position:
absolute;left:1px;top:-367px;width:98px;height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image184.gif"></span></span>At this
point, you would review your licensing options and decide what’s best for your
project. For more information on different types of open source licenses, see
this <a href="https://opensource.org/licenses"><span style='color:#3445FF'>license
list from the O</span></a><a href="https://opensource.org/licenses"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://opensource.org/licenses"><span style='color:#3445FF'>en Source
Initiative</span></a><a href="https://opensource.org/licenses"><span
style='color:black;text-decoration:none'>.</span></a> If you do not want to
provide a license for a private repository, you can type <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>UNLIC ENSED</span>
at the prompt. For this sample, use the default ISC license, and press <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>
to finish this process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251805696'><span
style='left:0px;position:absolute;left:360px;top:-535px;width:116px;height:
1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>init</span>
command will now display the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.json</span> file it’s going to create. It
will look similar to this:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=748
src="How%20To%20Code%20in%20Node.js_files/image186.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.25pt'><span style='position:relative;z-index:251806720'><span
style='left:0px;position:absolute;left:532px;top:-1423px;width:51px;height:
1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image187.gif"></span></span><span
style='position:relative;z-index:251807744'><span style='left:0px;position:
absolute;left:303px;top:-1423px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>Once
the information matches what you see here, press <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ENTER</span> to complete this
process and create the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.json</span> file. With this file, you can
keep a record of modules you install for your project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.3pt;
margin-left:.25pt'><span style='position:relative;z-index:251808768'><span
style='left:0px;position:absolute;left:233px;top:-1531px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>Now that
you have your <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file, you can test out installing modules in the next step.</p>

<h2 style='margin-left:.5pt'>Step 2 — Installing Modules</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>It is common in software development to use
external libraries to perform ancillary tasks in projects. This allows the
developer to focus on the business logic and create the application more
quickly and efficiently.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251809792'><span
style='left:0px;position:absolute;left:244px;top:-1762px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>For
example, if our sample <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>locator</span> module has to make an external API
request to get geographical data, we could use an HTTP library to make that
task easier. Since our main goal is to return pertinent geographical data to
the user, we could install a package that makes HTTP requests easier for us
instead of rewriting this code for ourselves, a task that is beyond the scope
of our project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.9pt;
margin-left:.25pt;line-height:195%'><span style='position:relative;z-index:
251810816'><span style='left:0px;position:absolute;left:339px;top:-1928px;
width:71px;height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image189.gif"></span></span>Let’s run
through this example. In your <span style='font-size:11.0pt;line-height:195%;
font-family:"Courier New"'>locator</span> application, you will use the <a
href="https://github.com/axios/axios"><span style='color:#3445FF'>axios</span></a>
library, which will help you make HTTP requests. Install it by entering the
following in your shell: <span style='font-size:11.0pt;line-height:195%;
font-family:"Courier New"'>npm install axios --save</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895671808'><span
style='left:0px;position:absolute;left:12px;top:-2086px;width:590px;height:
1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image190.gif"></span></span><span
style='position:relative;z-index:251812864'><span style='left:0px;position:
absolute;left:489px;top:-2086px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:251813888'><span style='left:0px;position:
absolute;left:329px;top:-2086px;width:62px;height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span><span
style='position:relative;z-index:251814912'><span style='left:0px;position:
absolute;left:36px;top:-2086px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>You begin
this command with <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>npm install</span>, which will install the package (for brevity
you can use <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm
i</span>). You then list the packages that you want installed, separated by a
space. In this case, this is <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>axios</span>. Finally, you end the command with the
optional <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--save</span>
parameter, which specifies that <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>axios</span> will be saved as a project dependency.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>When the library is installed, you will see output similar to
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=204
src="How%20To%20Code%20in%20Node.js_files/image193.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=127
src="How%20To%20Code%20in%20Node.js_files/image194.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You’ll
see a new property, as highlighted in the following:<br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.2pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=707
src="How%20To%20Code%20in%20Node.js_files/image195.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251815936'><span
style='left:0px;position:absolute;left:63px;top:-3431px;width:61px;height:1px'><img
width=61 height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:251816960'><span style='left:0px;position:
absolute;left:414px;top:-3431px;width:114px;height:1px'><img width=114
height=1 src="How%20To%20Code%20in%20Node.js_files/image197.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--save</span>
option told npm to update the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.json</span> with the module and version that
was just installed. This is great, as other developers working on your projects
can easily see what external dependencies are needed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251817984'><span
style='left:0px;position:absolute;left:285px;top:-3530px;width:16px;height:
1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:251819008'><span style='left:0px;position:
absolute;left:580px;top:-3530px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:251820032'><span style='left:0px;position:
absolute;left:1px;top:-3530px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:251821056'><span style='left:0px;position:
absolute;left:322px;top:-3530px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><b>Note</b>:
You may have noticed the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>^</span> before the version number for the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>axi os</span>
dependency. Recall that semantic versioning consists of three digits: <b>MAJOR</b>,
<b>MINOR</b>, and <b>PATCH</b>. The <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>^</span> symbol signifies that any higher</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>MINOR or PATCH version
would satisfy this version constraint. If you see </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:2.25pt'><span style='position:relative;
z-index:251822080'><span style='left:0px;position:absolute;left:1px;top:-3662px;
width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>~</span> at
the beginning of a version number, then only higher PATCH versions satisfy the
constraint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.85pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:251823104'><span style='left:0px;position:absolute;left:292px;
top:-3729px;width:116px;height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span>When you
are finished reviewing <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>package.json</span>, exit the file.</p>

<h3 style='margin-left:.5pt'>Development Dependencies</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Packages that are used for the development
of a project but not for building or running it in production are called
development dependencies. They are not necessary for your module or application
to work in production, but may be helpful while writing the code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>For example, it’s common for developers to use <a
href="https://en.wikipedia.org/wiki/Lint_(software)"><span style='color:#3445FF'>code
linters</span></a><a href="https://en.wikipedia.org/wiki/Lint_(software)"><span
style='color:black;text-decoration:none'> </span></a>to ensure their code
follows best practices and to keep the style consistent. While this is useful
for development, this only adds to the size of the distributable without
providing a tangible benefit when deployed in production.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.5pt;
margin-left:.25pt'>Install a linter as a development dependency for your
project. Try this out in your shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:27.9pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>npm i eslint@6.0.0 --save-dev</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.2pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895659520'><span
style='left:0px;position:absolute;left:12px;top:-4165px;width:600px;height:
1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image202.gif"></span></span><span
style='position:relative;z-index:251825152'><span style='left:0px;position:
absolute;left:54px;top:-4165px;width:62px;height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image203.gif"></span></span><span
style='position:relative;z-index:251826176'><span style='left:0px;position:
absolute;left:254px;top:-4165px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>In this
command, you used the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>--save-dev</span> flag. This will save <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>eslint </span>as
a dependency that is only needed for development. Notice also that you added <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>@6.0.0</span>
to your dependency name. When modules are updated, they are tagged with a
version. The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>@</span>
tells npm to look for a specific tag of the module you are installing. Without
a specified tag, npm installs the latest tagged version. Open <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image204.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
again:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>This
will show the following:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=803
src="How%20To%20Code%20in%20Node.js_files/image205.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:7.35pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:251827200'><span
style='left:0px;position:absolute;left:21px;top:-5328px;width:61px;height:1px'><img
width=61 height=1 src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>eslint</span>
has been saved as a <span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>devDependencies</span>, along with the version</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:23.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:-1895655424'><span style='left:0px;position:absolute;left:267px;
top:-5364px;width:142px;height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image207.gif"></span></span>number
you specified earlier. Exit <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>package.json</span>.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:14.6pt;margin-left:
.5pt'>Automatically Generated Files: <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>node_modules</span> and <span style='font-size:
11.0pt;line-height:107%;font-family:"Courier New"'>package-lock.json</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895654400'><span
style='left:0px;position:absolute;left:102px;top:-5465px;width:183px;
height:1px'><img width=183 height=1
src="How%20To%20Code%20in%20Node.js_files/image208.gif"></span></span>When you
first install a package to a Node.js project, npm automatically creates the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
folder to store the modules needed for your project and the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package-lock.json</span>
file that you examined earlier.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:251830272'><span
style='left:0px;position:absolute;left:551px;top:-5564px;width:25px;height:
1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>Confirm
these are in your working directory. In your shell, type <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>ls</span>
and</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=137
src="How%20To%20Code%20in%20Node.js_files/image210.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:251831296'><span
style='left:0px;position:absolute;left:59px;top:-5767px;width:115px;height:
1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:251832320'><span style='left:0px;position:
absolute;left:352px;top:-5767px;width:160px;height:1px'><img width=160
height=1 src="How%20To%20Code%20in%20Node.js_files/image211.gif"></span></span><span
style='position:relative;z-index:251833344'><span style='left:0px;position:
absolute;left:599px;top:-5767px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
folder contains every installed dependency for your project. In most cases, you
should <b>not</b> commit this folder into your version controlled repository.
As you install more dependencies, the size of this folder will quickly grow.
Furthermore, the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>package-lock.json</span> file keeps a record of the exact
versions installed in a more succinct way, so including <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>n ode_modules</span> is not
necessary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895649280'><span
style='left:0px;position:absolute;left:1px;top:-5935px;width:222px;height:1px'><img
width=222 height=1 src="How%20To%20Code%20in%20Node.js_files/image213.gif"></span></span><span
style='position:relative;z-index:-1895648256'><span style='left:0px;position:
absolute;left:248px;top:-5935px;width:331px;height:1px'><img width=331
height=1 src="How%20To%20Code%20in%20Node.js_files/image214.gif"></span></span><span
style='position:relative;z-index:251836416'><span style='left:0px;position:
absolute;left:344px;top:-5935px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span>While
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file lists dependencies that tell us the suitable versions that should be
installed for the project, the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package-lock.json</span> file keeps track of all
changes in <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
or <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
and tells us the exact version of the package installed. You usually commit
this to your version controlled repository instead of <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>, as it’s
a cleaner representation of all your dependencies.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;margin-left:
.5pt'>Installing from package.json</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251837440'><span
style='left:0px;position:absolute;left:88px;top:-6145px;width:115px;height:
1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span><span
style='position:relative;z-index:251838464'><span style='left:0px;position:
absolute;left:242px;top:-6145px;width:160px;height:1px'><img width=160
height=1 src="How%20To%20Code%20in%20Node.js_files/image216.gif"></span></span><span
style='position:relative;z-index:251839488'><span style='left:0px;position:
absolute;left:219px;top:-6145px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image217.gif"></span></span><span
style='position:relative;z-index:251840512'><span style='left:0px;position:
absolute;left:599px;top:-6145px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>With your
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package-lock.json</span>
files, you can quickly set up the same project dependencies before you start
development on a new project. To demonstrate this, move up a level in your
directory tree and create a new folder named <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>cloned_locator</span> in the same
directory level as <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>l</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=125
src="How%20To%20Code%20in%20Node.js_files/image218.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Move
into your new directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=613 height=197
src="How%20To%20Code%20in%20Node.js_files/image219.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:107.5pt;margin-bottom:
3.75pt;margin-left:16.5pt;text-indent:-.75pt;line-height:299%'>To install the
required modules for this project, type: <span style='font-size:11.0pt;
line-height:299%;font-family:"Courier New"'>npm i</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:7.05pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>npm will check for a <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>package-lock.json</span> file to
install the modules. If no</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895642112'><span
style='left:0px;position:absolute;left:12px;top:-6768px;width:595px;height:
1px'><img width=595 height=1
src="How%20To%20Code%20in%20Node.js_files/image220.gif"></span></span>lock file
is available, it would read from the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>package.json</span> file to determine the
installations. It is usually quicker to install from <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>package-lock.json</span>,
since the lock file contains the exact version of modules and their
dependencies, meaning npm does not have to spend time figuring out a suitable
version to install.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.95pt;
margin-left:.25pt'><span style='position:relative;z-index:251842560'><span
style='left:0px;position:absolute;left:572px;top:-6901px;width:39px;height:
1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:251843584'><span style='left:0px;position:
absolute;left:1px;top:-6901px;width:102px;height:1px'><img width=102 height=1
src="How%20To%20Code%20in%20Node.js_files/image222.gif"></span></span><span
style='position:relative;z-index:251844608'><span style='left:0px;position:
absolute;left:196px;top:-6901px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span>When
deploying to production, you may want to skip the development dependencies.
Recall that development dependencies are stored in the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>devD ependencies</span>
section of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>,
and have no impact on the running of your app. When installing modules as part
of the CI/CD process to deploy your application, omit the dev dependencies by
running:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895638016'><span
style='left:0px;position:absolute;left:12px;top:-7141px;width:590px;height:
1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--production</span>
flag ignores the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>devDependencies</span> section during installation. For now,
stick with your development build.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:64.55pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895636992'><span style='left:0px;position:absolute;left:12px;top:-7208px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Before
moving to the next section, return to the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>locator</span> folder:</p>

<h3 style='margin-left:.5pt'>Global Installations</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251847680'><span
style='left:0px;position:absolute;left:434px;top:-7370px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>So far,
you have been installing npm modules for the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>locator</span> project. npm also
allows you to install packages globally. This means that the package is
available to your user in the wider system, like any other shell command. This
ability is useful for the many Node.js modules that are CLI tools.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251848704'><span
style='left:0px;position:absolute;left:435px;top:-7503px;width:71px;height:
1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image224.gif"></span></span>For
example, you may want to blog about the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>locator</span> project that you’re
currently working on. To do so, you can use a library like <a
href="https://hexo.io/"><span style='color:#3445FF'>Hexo</span></a><a
href="https://hexo.io/"><span style='color:black;text-decoration:none'> </span></a>to
create and manage your static website blog. Install the Hexo CLI globally like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image225.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:251849728'><span style='left:0px;position:absolute;left:386px;
top:-7658px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>To
install a package globally, you append the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>-g</span> flag to the command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251850752'><span
style='left:0px;position:absolute;left:90px;top:-7692px;width:205px;height:
1px'><img width=205 height=1
src="How%20To%20Code%20in%20Node.js_files/image227.gif"></span></span><b>Note</b>:
If you get a permission error trying to install this package globally, your
system may require super user privileges to run the command. Try again with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sudo npm i
hexo-cli -g</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Test
that the package was successfully installed by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image228.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You
will see output similar to:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=620
src="How%20To%20Code%20in%20Node.js_files/image229.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251851776'><span
style='left:0px;position:absolute;left:527px;top:-8599px;width:84px;height:
1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image230.gif"></span></span><span
style='position:relative;z-index:251852800'><span style='left:0px;position:
absolute;left:1px;top:-8599px;width:223px;height:1px'><img width=223 height=1
src="How%20To%20Code%20in%20Node.js_files/image231.gif"></span></span><span
style='position:relative;z-index:251853824'><span style='left:0px;position:
absolute;left:463px;top:-8599px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>So far,
you have learned how to install modules with npm. You can install packages to a
project locally, either as a production or development dependency. You can also
install packages based on pre-existing <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>package.j son</span> or <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package-lock.json</span>
files, allowing you to develop with the same dependencies as your peers.
Finally, you can use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>-g</span> flag to install packages globally, so you
can access them regardless of whether you’re in a Node.js project or not.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that you can install modules, in the next section you
will practice techniques to administer your dependencies.</p>

<h2 style='margin-left:.5pt'>Step 3 — Managing Modules</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt;text-indent:0in'>A complete package manager can do a lot more
than install modules. npm has over 20 commands relating to dependency
management available. In this step, you will:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="How%20To%20Code%20in%20Node.js_files/image232.gif" align=left hspace=12>List
modules you have installed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Update modules to a more
recent version.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Uninstall modules you no
longer need.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.55pt;
margin-left:16.75pt;text-indent:0in'>Perform a security audit on your modules
to find and fix security flaws.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.05pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895627776'><span
style='left:0px;position:absolute;left:383px;top:-9164px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image233.gif"></span></span>While
these examples will be done in your <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>locator</span> folder, all of these commands
can be run globally by appending the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>-g</span> flag at the end of them, exactly like
you did when installing globally.</p>

<h3 style='margin-left:.5pt'>Listing Modules</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.45pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251856896'><span
style='left:0px;position:absolute;left:161px;top:-9325px;width:94px;height:
1px'><img width=94 height=1
src="How%20To%20Code%20in%20Node.js_files/image234.gif"></span></span><span
style='position:relative;z-index:251857920'><span style='left:0px;position:
absolute;left:526px;top:-9325px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image230.gif"></span></span>If you
would like to know which modules are installed in a project, it would be easier
to use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>list</span>
or <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ls</span>
command instead of reading the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>package.j son</span><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=600
height=90 src="How%20To%20Code%20in%20Node.js_files/image235.gif"></span>
directly. To do this, enter:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You
will see output like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=588
src="How%20To%20Code%20in%20Node.js_files/image236.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251858944'><span
style='left:0px;position:absolute;left:124px;top:-10187px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>By
default, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ls</span>
shows the entire dependency tree—the modules your project depends on and the
modules that your dependencies depend on. This can be a bit unwieldy if you
want a high-level overview of what’s installed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>To only print the modules you installed without their
dependencies, enter the following in your shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image237.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your output will be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image238.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.05pt;
margin-left:.25pt'><span style='position:relative;z-index:251859968'><span
style='left:0px;position:absolute;left:58px;top:-10594px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:251860992'><span style='left:0px;position:
absolute;left:314px;top:-10594px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--depth</span>
option allows you to specify what level of the dependency tree you want to see.
When it’s <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>,
you only see your top level dependencies.</p>

<h3 style='margin-left:.5pt'>Updating Modules</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.2pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895621632'><span
style='left:0px;position:absolute;left:1px;top:-10722px;width:600px;height:
1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image239.gif"></span></span><span
style='position:relative;z-index:251863040'><span style='left:0px;position:
absolute;left:581px;top:-10722px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>It is a
good practice to keep your npm modules up to date. This improves your
likelihood of getting the latest security fixes for a module. Use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>out dated</span>
command to check if any modules can be updated:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will get output like
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image240.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:.85pt;margin-left:0in;text-align:left;line-height:145%'><span
style='position:relative;z-index:251864064'><span style='left:0px;position:
absolute;left:266px;top:-11081px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:251865088'><span style='left:0px;position:
absolute;left:542px;top:-11081px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:251866112'><span style='left:0px;position:
absolute;left:112px;top:-11081px;width:60px;height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image241.gif"></span></span><span
style='position:relative;z-index:251867136'><span style='left:0px;position:
absolute;left:127px;top:-11081px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:251868160'><span style='left:0px;position:
absolute;left:291px;top:-11081px;width:60px;height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image241.gif"></span></span>This
command first lists the <span style='font-size:11.0pt;line-height:145%;
font-family:"Courier New"'>Package</span> that’s installed and the <span
style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>Current </span>version.
The <span style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>Wanted</span>
column shows which version satisfies your version requirement in <span
style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>package.json</span>.
The <span style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>Latest</span>
column shows the most recent version of the module that was published.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895614464'><span
style='left:0px;position:absolute;left:57px;top:-11183px;width:126px;
height:1px'><img width=126 height=1
src="How%20To%20Code%20in%20Node.js_files/image242.gif"></span></span><span
style='position:relative;z-index:251870208'><span style='left:0px;position:
absolute;left:337px;top:-11183px;width:71px;height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image189.gif"></span></span><span
style='position:relative;z-index:251871232'><span style='left:0px;position:
absolute;left:486px;top:-11183px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Location</span>
column states where in the dependency tree the package is located. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>outdated</span>
command has the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>--depth</span> flag like <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ls</span>. By default, the depth is
0.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:251872256'><span
style='left:0px;position:absolute;left:254px;top:-11250px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:251873280'><span style='left:0px;position:
absolute;left:590px;top:-11250px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span>It seems
that you can update <span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>eslint</span> to a more recent version. Use the <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>up</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image245.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The output of the command
will contain the version installed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=268
src="How%20To%20Code%20in%20Node.js_files/image246.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>If
you wanted to update all modules at once, then you would enter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.05pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image247.gif"></span></p>

<h3 style='margin-left:.5pt'>Uninstalling Modules</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251874304'><span
style='left:0px;position:absolute;left:84px;top:-11880px;width:89px;height:
1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image248.gif"></span></span><span
style='position:relative;z-index:-1895608320'><span style='left:0px;position:
absolute;left:451px;top:-11880px;width:160px;height:1px'><img width=160
height=1 src="How%20To%20Code%20in%20Node.js_files/image249.gif"></span></span><span
style='position:relative;z-index:251876352'><span style='left:0px;position:
absolute;left:292px;top:-11880px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>The
npm <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>uninstall</span>
command can remove modules from your projects. This means the module will no
longer be installed in the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>node_modules </span>folder, nor will it be seen in
your <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package-lock.json
</span>files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Removing dependencies from a project is a normal activity in
the software development lifecycle. A dependency may not solve the problem as
advertised, or may not provide a satisfactory development experience. In these
cases, it may better to uninstall the dependency and build your own module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.35pt;
margin-left:.25pt'><span style='position:relative;z-index:251877376'><span
style='left:0px;position:absolute;left:132px;top:-12112px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:251878400'><span style='left:0px;position:
absolute;left:445px;top:-12112px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:251879424'><span style='left:0px;position:
absolute;left:572px;top:-12112px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span>Imagine
that <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>axios</span>
does not provide the development experience you would have liked for making
HTTP requests. Uninstall <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>axios</span> with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>unin stall</span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image250.gif"></span> or <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>un</span>
command by entering:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your output will be
similar to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=172
src="How%20To%20Code%20in%20Node.js_files/image251.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251880448'><span
style='left:0px;position:absolute;left:261px;top:-12570px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>It
doesn’t explicitly say that <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>axios</span> was removed. To verify that it was
uninstalled, list the dependencies once again:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=51
src="How%20To%20Code%20in%20Node.js_files/image252.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=157
src="How%20To%20Code%20in%20Node.js_files/image253.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.8pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:251881472'><span style='left:0px;position:absolute;left:454px;
top:-12885px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>This
shows that you have successfully uninstalled the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>axios</span> package.</p>

<h3 style='margin-left:.5pt'>Auditing Modules</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251882496'><span
style='left:0px;position:absolute;left:148px;top:-12982px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image187.gif"></span></span>npm
provides an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>audit</span>
command to highlight potential security risks in your dependencies. To see the
audit in action, install an outdated version of the <a
href="https://github.com/request/request"><span style='color:#3445FF'>re</span></a><a
href="https://github.com/request/request"><span style='color:#3445FF;
text-decoration:none'>q</span></a><a href="https://github.com/request/request"><span
style='color:#3445FF'>uest</span></a><a
href="https://github.com/request/request"><span style='color:black;text-decoration:
none'> </span></a>module by running the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image254.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>similar to the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=204
src="How%20To%20Code%20in%20Node.js_files/image255.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>npm is telling you that you have vulnerabilities in your
dependencies. To get more details, audit your entire project with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=94
src="How%20To%20Code%20in%20Node.js_files/image256.gif"></span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=616 height=864
src="How%20To%20Code%20in%20Node.js_files/image257.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=616 height=843
src="How%20To%20Code%20in%20Node.js_files/image258.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.3pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895600128'><span
style='left:0px;position:absolute;left:12px;top:-15366px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>You can
see the path of the vulnerability, and sometimes npm offers ways for you to fix
it. You can run the update command as suggested, or you can run the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fix</span>
subcommand of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>audit</span>.
In your shell, enter:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see similar
output to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=236
src="How%20To%20Code%20in%20Node.js_files/image259.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251884544'><span
style='left:0px;position:absolute;left:353px;top:-15853px;width:91px;
height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image260.gif"></span></span>npm was
able to safely update two of the packages, decreasing your vulnerabilities by
the same amount. However, you still have four vulnerabilities in your
dependencies. The <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>audit fix</span> command does not always fix every problem.
Although a version of a module may have a security vulnerability, if you update
it to a version with a different API then it could break code higher up in the
dependency tree.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251885568'><span
style='left:0px;position:absolute;left:152px;top:-16019px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>You can
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--force</span>
parameter to ensure the vulnerabilities are gone, like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image261.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>As mentioned before, this is not recommended unless you are
sure that it won’t break functionality.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251886592'><span
style='left:0px;position:absolute;left:357px;top:-16240px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>In this
tutorial, you went through various exercises to demonstrate how Node.js modules
are organized into packages, and how these packages are managed by npm. In a
Node.js project, you used npm packages as dependencies by creating and
maintaining a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.json</span>
file—a record of your project’s metadata, including what modules you installed.
You also used the npm CLI tool to install, update, and remove modules, in
addition to listing the dependency tree for your projects and checking and
updating modules that are outdated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In the future, leveraging existing code by using modules
will speed up development time, as you don’t have to repeat functionality. You
will also be able to create your own npm modules, and these will in turn will
be managed by others via npm commands. As for next steps, experiment with what
you learned in this tutorial by installing and testing the variety of packages
out there. See what the ecosystem provides to make problem solving easier. For
example, you could try out <a href="https://www.typescriptlang.org/"><span
style='color:#3445FF'>T</span></a><a href="https://www.typescriptlang.org/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.typescriptlang.org/"><span style='color:#3445FF'>peScri</span></a><a
href="https://www.typescriptlang.org/"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://www.typescriptlang.org/"><span
style='color:#3445FF'>t</span></a>, a superset of JavaScript, or turn your
website into mobile apps with <a href="https://cordova.apache.org/"><span
style='color:#3445FF'>Cordova</span></a>. If you’d like to learn more about
Node.js, see our <a
href="https://www.digitalocean.com/community/tags/node-js?type=tutorials"><span
style='color:#3445FF'>other Node</span></a><a
href="https://www.digitalocean.com/community/tags/node-js?type=tutorials"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tags/node-js?type=tutorials"><span
style='color:#3445FF'>s tutorials</span></a><a
href="https://www.digitalocean.com/community/tags/node-js?type=tutorials"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Create a Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s Module</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>eech Fund</span></a> to receive a donation as part of the
<a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write for
DOnations</span></a> program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In Node.js, a module is a collection of JavaScript functions
and objects that can be used by external applications. Describing a piece of
code as a module refers less to what the code is and more to what it does—any
Node.js file or collection of files can be considered a module if its functions
and data are made usable to external programs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Because modules provide units of functionality that can be
reused in many larger programs, they enable you to create loosely coupled
applications that scale with complexity, and open the door for you to share
your code with other developers. Being able to write modules that export useful
functions and data will allow you to contribute to the wider Node.js
community—in fact, all packages that you use on npm were bundled and shared as
modules. This makes creating modules an essential skill for a Node.js developer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt'>In this tutorial, you will create a Node.js module that
suggests what color web developers should use in their designs. You will
develop the module by storing the colors as an array, and providing a function
to retrieve one randomly. Afterwards, you will run through various ways of
importing a module into a Node.js application.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 235069"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> You will need
Node.js and npm installed on your development environment. This tutorial uses
version 10.17.0. To install this on <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>macOS or Ubuntu 18.04, follow the
steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. By having Node.js installed you will
also have npm installed; </span></a>this tutorial uses version 6.11.3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.4pt;
margin-left:16.75pt;text-indent:0in'><span style='position:relative;z-index:
251887616'><span style='left:0px;position:absolute;left:406px;top:-17692px;
width:115px;height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 235070"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> You should also
be familiar with the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>package.json</span> file, and experience with npm commands would
be useful as well. To gain this <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:black;text-decoration:none'>experience, follow </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>How To Use Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>s Modules with n</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>m and </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>acka</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>son</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:black;text-decoration:none'>, particularly the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><b><span
style='color:black;text-decoration:none'>Step 1 — Creating a </span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>package.json</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><b><span
style='color:black;text-decoration:none'> File</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:black;text-decoration:none'>. </span></a><span style='font-size:
11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img border=0
width=6 height=6 id="Group 235072"
src="How%20To%20Code%20in%20Node.js_files/image003.gif"></span> It will also
help to be comfortable with the Node.js REPL (ReadEvaluate-Print-Loop). You
will use this to test your module. If you <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'>need more information on this, read
our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>How To Use the Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>s REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Creating a Module</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251888640'><span
style='left:0px;position:absolute;left:447px;top:-17956px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>This step
will guide you through creating your first Node.js module. Your module will
contain a collection of colors in an array and provide a function to get one at
random. You will use the Node.js built-in <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exports</span> property to make the
function and array available to external programs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251889664'><span
style='left:0px;position:absolute;left:493px;top:-18089px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image262.gif"></span></span><span
style='position:relative;z-index:251890688'><span style='left:0px;position:
absolute;left:348px;top:-18089px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span>First,
you’ll begin by deciding what data about colors you will store in your module.
Every color will be an object that contains a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>name</span> property that humans
can easily identify, and a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>code</span> property that is a string containing an
HTML color code. HTML color codes are six-digit hexadecimal numbers that allow
you to change the color of elements on a web page. You can learn more about
HTML color codes by reading this <a
href="https://www.computerhope.com/htmcolor.htm"><span style='color:#3445FF'>HTML
Color Codes and Names</span></a><a
href="https://www.computerhope.com/htmcolor.htm"><span style='color:black;
text-decoration:none'> </span></a>article.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895591936'><span
style='left:0px;position:absolute;left:350px;top:-18288px;width:261px;
height:1px'><img width=261 height=1
src="How%20To%20Code%20in%20Node.js_files/image264.gif"></span></span>You will
then decide what colors you want to support in your module. Your module will
contain an array called <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>allColors</span> that will contain six colors. Your
module will also include a function called <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>getRandomColor() </span>that will
randomly select a color from your array and return it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=122 src="How%20To%20Code%20in%20Node.js_files/image265.gif"></span>In
your terminal, make a new folder called <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>colors</span> and move into it:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.1pt;
margin-left:.25pt'>Initialize npm so other programs can import this module
later in the tutorial:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895590912'><span
style='left:0px;position:absolute;left:12px;top:-18694px;width:599px;
height:1px'><img width=599 height=1
src="How%20To%20Code%20in%20Node.js_files/image266.gif"></span></span><span
style='position:relative;z-index:251893760'><span style='left:0px;position:
absolute;left:1px;top:-18694px;width:57px;height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image267.gif"></span></span>You used
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>-y</span>
flag to skip the usual prompts to customize your <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>packag e.json</span>. If this were
a module you wished to publish to npm, you would <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:black;text-decoration:none'>answer all these prompts with relevant
data, as explained in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>How To Use Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>s Modules with n</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>m and </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>acka</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:#3445FF'>son</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json#step-1-%E2%80%94-creating-a-packagejson-file"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
this case, your output will be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=428
src="How%20To%20Code%20in%20Node.js_files/image268.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:54.75pt;
margin-left:.25pt'><span style='position:relative;z-index:251894784'><span
style='left:0px;position:absolute;left:427px;top:-19287px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span>Now, open
up a command-line text editor such as <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>nano</span> and create a new file to serve as
the entry point for your module:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.6pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895587840'><span
style='left:0px;position:absolute;left:12px;top:-19427px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Your
module will do a few things. First, you’ll define a <span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New"'>Color</span><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>class</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> Your</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:2.25pt'><span style='position:relative;
z-index:251896832'><span style='left:0px;position:absolute;left:1px;top:-19461px;
width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Color</span>
class will be instantiated with its name and HTML code. Add the following lines
to create the class:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image271.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251897856'><span
style='left:0px;position:absolute;left:386px;top:-19844px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Now that
you have your data structure for <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Color</span>, add some instances into your
module. Write the following highlighted <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a> to your file:<br
clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=565
src="How%20To%20Code%20in%20Node.js_files/image272.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251898880'><span
style='left:0px;position:absolute;left:535px;top:-20548px;width:75px;
height:1px'><img width=75 height=1
src="How%20To%20Code%20in%20Node.js_files/image273.gif"></span></span><span
style='position:relative;z-index:251899904'><span style='left:0px;position:
absolute;left:1px;top:-20548px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>Finally,
enter a <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>function</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>that randomly selects an
item from the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>allColor
s</span> array you just created:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=771
src="How%20To%20Code%20in%20Node.js_files/image275.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:251900928'><span
style='left:0px;position:absolute;left:62px;top:-21387px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:-1895581696'><span style='left:0px;position:
absolute;left:508px;top:-21387px;width:103px;height:1px'><img width=103
height=1 src="How%20To%20Code%20in%20Node.js_files/image276.gif"></span></span><span
style='position:relative;z-index:251902976'><span style='left:0px;position:
absolute;left:1px;top:-21387px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span><span
style='position:relative;z-index:-1895579648'><span style='left:0px;position:
absolute;left:367px;top:-21387px;width:138px;height:1px'><img width=138
height=1 src="How%20To%20Code%20in%20Node.js_files/image278.gif"></span></span><span
style='position:relative;z-index:-1895578624'><span style='left:0px;position:
absolute;left:187px;top:-21387px;width:134px;height:1px'><img width=134
height=1 src="How%20To%20Code%20in%20Node.js_files/image279.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exports</span>
keyword references a global object available in every Node.js module. All
functions and objects stored in a module’s <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exports </span>object are exposed
when other Node.js modules import it. The <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>getRandomCo lor()</span> function
was created directly on the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>exports</span> object, for example. You then added
an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>allColors</span>
property to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>exports</span> object that references the local constant <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>allColors</span>
array created earlier in the script.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251906048'><span
style='left:0px;position:absolute;left:399px;top:-21554px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span><span
style='position:relative;z-index:251907072'><span style='left:0px;position:
absolute;left:526px;top:-21554px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image230.gif"></span></span><span
style='position:relative;z-index:251908096'><span style='left:0px;position:
absolute;left:1px;top:-21554px;width:66px;height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image281.gif"></span></span>When
other modules import this module, both <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>allColors</span> and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>getRandom
Color()</span> will be exposed and available for usage.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.05pt;
margin-left:.25pt'><span style='position:relative;z-index:251909120'><span
style='left:0px;position:absolute;left:540px;top:-21653px;width:60px;
height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image282.gif"></span></span>So far,
you have created a module that contains an array of colors and a function that
returns one randomly. You have also exported the array and function, so that
external programs can use them. In the next step, you will use your module in
other applications to demonstrate the effects of <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>export</span>.</p>

<h2 style='margin-left:.5pt'>Step 2 — Testing your Module with the REPL</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895573504'><span
style='left:0px;position:absolute;left:460px;top:-21853px;width:151px;
height:1px'><img width=151 height=1
src="How%20To%20Code%20in%20Node.js_files/image283.gif"></span></span><span
style='position:relative;z-index:251911168'><span style='left:0px;position:
absolute;left:1px;top:-21853px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>Before
you build a complete application, take a moment to confirm that your module is
working. In this step, you will use the REPL to load the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>col ors</span>
module. While in the REPL, you will call the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>getRandomColor() </span>function to
see if it behaves as you expect it to.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:36.1pt;margin-bottom:
1.45pt;margin-left:16.5pt;text-indent:-.75pt;line-height:312%'><span
style='position:relative;z-index:-1895571456'><span style='left:0px;position:
absolute;left:12px;top:-21986px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image285.gif"></span></span>Start
the Node.js REPL in the same folder as the <span style='font-size:11.0pt;
line-height:312%;font-family:"Courier New"'>index.js</span> file: <span
style='font-size:11.0pt;line-height:312%;font-family:"Courier New"'>node</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When the REPL has started, you will see the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&gt;</span>
prompt. This means you can enter JavaScript code that will be immediately
evaluated. If you would like to read more about this, follow our guide on <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'> the REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=597
src="How%20To%20Code%20in%20Node.js_files/image286.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895570432'><span
style='left:0px;position:absolute;left:237px;top:-22797px;width:114px;
height:1px'><img width=114 height=1
src="How%20To%20Code%20in%20Node.js_files/image287.gif"></span></span><span
style='position:relative;z-index:-1895569408'><span style='left:0px;position:
absolute;left:443px;top:-22797px;width:169px;height:1px'><img width=169
height=1 src="How%20To%20Code%20in%20Node.js_files/image288.gif"></span></span>The
REPL shows us the value of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span>, which are all the functions and
objects imported from the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>index.js</span> file. When you use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>require </span>keyword,
Node.js returns all the contents within the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exports</span> object of a module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251915264'><span
style='left:0px;position:absolute;left:207px;top:-22896px;width:152px;
height:1px'><img width=152 height=1
src="How%20To%20Code%20in%20Node.js_files/image289.gif"></span></span><span
style='position:relative;z-index:251916288'><span style='left:0px;position:
absolute;left:401px;top:-22896px;width:187px;height:1px'><img width=187
height=1 src="How%20To%20Code%20in%20Node.js_files/image290.gif"></span></span><span
style='position:relative;z-index:251917312'><span style='left:0px;position:
absolute;left:31px;top:-22896px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Recall
that you added <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>getRandomColor()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>allColors</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exports</span>
in the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>colors</span>
module. For that reason, you see them both in the REPL when they are imported.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image291.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You’ll be prompted with a
random color:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image292.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895565312'><span
style='left:0px;position:absolute;left:12px;top:-23225px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>As the
index is random, your output may vary. Now that you confirmed that the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>colors</span>
module is working, exit the Node.js REPL:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This will return you to
your terminal command line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>You have just confirmed that your module works as expected
using the REPL. Next, you will apply these same concepts and load your module
into an application, as you would do in a real project.</p>

<h2 style='margin-left:.5pt'>Step 3 — Saving your Local Module as a Dependency</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251919360'><span
style='left:0px;position:absolute;left:385px;top:-23563px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image293.gif"></span></span><span
style='position:relative;z-index:251920384'><span style='left:0px;position:
absolute;left:84px;top:-23563px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:251921408'><span style='left:0px;position:
absolute;left:417px;top:-23563px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image294.gif"></span></span>While
testing your module in the REPL, you imported it with a relative path. This
means you used the location of the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>index.js</span> file in relation to the working
directory to get its contents. While this works, it is usually a better
programming experience to import modules by their names so that the import is
not broken when the context is changed. In this step, you will install the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>colors</span>
module with npm’s local module <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>install</span> feature.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251922432'><span
style='left:0px;position:absolute;left:364px;top:-23729px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Set up a
new Node.js module outside the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> folder. First, go to the previous
directory and create a new folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=86
src="How%20To%20Code%20in%20Node.js_files/image295.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now
move into your new project:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=202
src="How%20To%20Code%20in%20Node.js_files/image296.gif"></span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=428
src="How%20To%20Code%20in%20Node.js_files/image297.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:11.9pt;
margin-left:.25pt;line-height:233%'><span style='position:relative;z-index:
-1895560192'><span style='left:0px;position:absolute;left:12px;top:-24621px;
width:600px;height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image298.gif"></span></span><span
style='position:relative;z-index:-1895559168'><span style='left:0px;position:
absolute;left:405px;top:-24621px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Now,
install your <span style='font-size:11.0pt;line-height:233%;font-family:"Courier New"'>colors</span>
module and use the <span style='font-size:11.0pt;line-height:233%;font-family:
"Courier New"'>--save</span> flag so it will be recorded in your <span
style='font-size:11.0pt;line-height:233%;font-family:"Courier New"'>package.json</span>
file: <span style='font-size:11.0pt;line-height:233%;font-family:"Courier New"'>npm
install --save ../colors</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.3pt;
margin-left:.25pt'>You just installed your <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>colors</span> module in the new
project. Open the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>pack age.json</span><span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image299.gif"></span> file to see the
new local dependency:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You
will find that the following highlighted lines have been added:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=565
src="How%20To%20Code%20in%20Node.js_files/image300.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251925504'><span
style='left:0px;position:absolute;left:58px;top:-25584px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:251926528'><span style='left:0px;position:
absolute;left:357px;top:-25584px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>colors</span>
module was copied to your <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>node_modules</span> directory. Verify it’s there
with the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image301.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>This
will give the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image302.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.6pt;
margin-left:.25pt;line-height:218%'>Use your installed local module in this new
program. Re-open your text editor and create another JavaScript file: <span
style='font-size:11.0pt;line-height:218%;font-family:"Courier New"'>nano
index.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895556096'><span
style='left:0px;position:absolute;left:12px;top:-25982px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image303.gif"></span></span>Your
program will first import the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> module. It will then choose a color at
random using the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>getRandomColor()</span> function provided by the module.
Finally, it will print a message to the console that tells the user what color
to use.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=288
src="How%20To%20Code%20in%20Node.js_files/image304.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit this file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Your application will now tell the user a random color
option for a website component.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Run
this script with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image305.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your output will be
similar to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=108
src="How%20To%20Code%20in%20Node.js_files/image306.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.3pt;
margin-left:.25pt'><span style='position:relative;z-index:251928576'><span
style='left:0px;position:absolute;left:332px;top:-26757px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span><span
style='position:relative;z-index:251929600'><span style='left:0px;position:
absolute;left:324px;top:-26757px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:251930624'><span style='left:0px;position:
absolute;left:33px;top:-26757px;width:99px;height:1px'><img width=99 height=1
src="How%20To%20Code%20in%20Node.js_files/image307.gif"></span></span><span
style='position:relative;z-index:251931648'><span style='left:0px;position:
absolute;left:360px;top:-26757px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>You’ve
now successfully installed the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> module and can manage it like any
other npm package used in your project. However, if you added more colors and
functions to your local <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> module, you would have to run <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm update</span>
in your applications to be able to use the new options. In the next step, you
will use the local module <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> in another way and get automatic
updates when the module code changes.</p>

<h2 style='margin-left:.5pt'>Step 4 — Linking a Local Module</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>If your local module is in heavy
development, continually updating packages can be tedious. An alternative would
be to link the modules. Linking a module ensures that any updates to the module
are immediately reflected in the applications using it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895550976'><span
style='left:0px;position:absolute;left:188px;top:-27087px;width:146px;
height:1px'><img width=146 height=1
src="How%20To%20Code%20in%20Node.js_files/image308.gif"></span></span>In this
step, you will link the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>colors</span> module to your application. You will
also modify the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>colors</span> module and confirm that its most recent changes
work in the application without having to reinstall or upgrade.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>First,
uninstall your local module:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image309.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>npm links modules by using symbolic links (or symlinks),
which are references that point to files or directories in your computer.
Linking a module is done in two steps:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='position:relative;z-index:-1895549952'><span style='left:0px;position:
absolute;left:137px;top:-27353px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image310.gif"></span></span><span
style='position:relative;z-index:251934720'><span style='left:0px;position:
absolute;left:70px;top:-27353px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>Creating
a global link to the module. npm creates a symlink between your global <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
directory and the directory of your module. The global <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
directory is the location in which all your system-wide npm packages are
installed (any package you install with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>-g</span> flag).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.5pt;
margin-left:30.75pt;text-indent:-14.75pt'><span style='line-height:142%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Create a local
link. npm creates a symlink between your local project that’s using the module
and the global link of the module.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:251935744'><span style='left:0px;position:
absolute;left:410px;top:-27572px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>First,
create the global link by returning to the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>colors</span> folder and using</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=125
src="How%20To%20Code%20in%20Node.js_files/image311.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Once complete, your shell
will output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image312.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251936768'><span
style='left:0px;position:absolute;left:310px;top:-27893px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span><span
style='position:relative;z-index:251937792'><span style='left:0px;position:
absolute;left:551px;top:-27893px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>You just
created a symlink in your <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>node_modules</span> folder to your <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>colors </span>directory.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:251938816'><span style='left:0px;position:
absolute;left:130px;top:-27926px;width:224px;height:1px'><img width=224
height=1 src="How%20To%20Code%20in%20Node.js_files/image313.gif"></span></span>Return
to the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>really-large-application</span>
folder and link the package:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=86
src="How%20To%20Code%20in%20Node.js_files/image314.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:24.7pt;
margin-left:15.75pt;text-indent:0in'>You will receive output similar to the
following:</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;margin-left:
16.25pt'><span style='font-family:"Courier New";color:#BBBBBB'>Output</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:33.85pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1895543808'><span
style='left:0px;position:absolute;left:12px;top:-28153px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image315.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>/home/</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>/really-large-application/node_modules/colors
-&gt; /u sr/local/lib/node_modules/colors -&gt; /home/</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>/colors</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251940864'><span
style='left:0px;position:absolute;left:497px;top:-28264px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:251941888'><span style='left:0px;position:
absolute;left:1px;top:-28264px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image316.gif"></span></span><span
style='position:relative;z-index:251942912'><span style='left:0px;position:
absolute;left:173px;top:-28264px;width:132px;height:1px'><img width=132
height=1 src="How%20To%20Code%20in%20Node.js_files/image317.gif"></span></span><b>Note</b>:
If you would like to type a bit less, you can use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ln</span> instead of <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>link</span>.
For example, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm
ln colors</span> would have worked the exact same</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>way.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>As the output shows, you
just created a symlink from your <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>really-large</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1895539712'><span
style='left:0px;position:absolute;left:451px;top:-28400px;width:160px;
height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image318.gif"></span></span><span
style='position:relative;z-index:-1895538688'><span style='left:0px;position:
absolute;left:1px;top:-28400px;width:298px;height:1px'><img width=298 height=1
src="How%20To%20Code%20in%20Node.js_files/image319.gif"></span></span><span
style='position:relative;z-index:251945984'><span style='left:0px;position:
absolute;left:589px;top:-28400px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:251947008'><span style='left:0px;position:
absolute;left:1px;top:-28400px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>-application</span>’s
local <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>
directory to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>colors</span> symlink in your global <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>node_modules</span>, which
points to the actual directory with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>co lors</span> module.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
linking process is complete. Run your file to ensure it still works:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image305.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your output will be
similar to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=108
src="How%20To%20Code%20in%20Node.js_files/image321.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251948032'><span
style='left:0px;position:absolute;left:424px;top:-28712px;width:78px;
height:1px'><img width=78 height=1
src="How%20To%20Code%20in%20Node.js_files/image322.gif"></span></span><span
style='position:relative;z-index:251949056'><span style='left:0px;position:
absolute;left:590px;top:-28712px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span>Your
program functionality is intact. Next, test that updates are immediately
applied. In your text editor, re-open the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>index.js</span> file in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>co</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=125
src="How%20To%20Code%20in%20Node.js_files/image323.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251950080'><span
style='left:0px;position:absolute;left:523px;top:-28920px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image324.gif"></span></span>Now add a
function that selects the very best shade of blue that exists. It takes no
arguments, and always returns the third item of the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>allColors </span>array. Add
these lines to the end of the file:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image325.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=35 id="Group 235464"
src="How%20To%20Code%20in%20Node.js_files/image326.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:251951104'><span
style='left:0px;position:absolute;left:334px;top:-29994px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image293.gif"></span></span><span
style='position:relative;z-index:251952128'><span style='left:0px;position:
absolute;left:499px;top:-29994px;width:112px;height:1px'><img width=112
height=1 src="How%20To%20Code%20in%20Node.js_files/image327.gif"></span></span>Save
and exit the file, then re-open the <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>index.js</span> file in the <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>really-large</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=165
src="How%20To%20Code%20in%20Node.js_files/image328.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt;text-indent:0in'>sentence with the color’s properties. Add
these statements to the end of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=323
src="How%20To%20Code%20in%20Node.js_files/image329.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251953152'><span
style='left:0px;position:absolute;left:315px;top:-30630px;width:89px;
height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image330.gif"></span></span>The code
now uses the newly create <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>getBlue()</span> function. Execute the file as
before:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image331.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will get output like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=140
src="How%20To%20Code%20in%20Node.js_files/image332.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:251954176'><span
style='left:0px;position:absolute;left:478px;top:-30952px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image333.gif"></span></span><span
style='position:relative;z-index:251955200'><span style='left:0px;position:
absolute;left:178px;top:-30952px;width:98px;height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image334.gif"></span></span>Your
script was able to use the latest function in your <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>colors</span> module, without
having to run <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm
update</span>. This will make it easier to make changes to this application in
development.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.1pt;
margin-left:.25pt'><span style='position:relative;z-index:251956224'><span
style='left:0px;position:absolute;left:162px;top:-31052px;width:107px;
height:1px'><img width=107 height=1
src="How%20To%20Code%20in%20Node.js_files/image335.gif"></span></span>As you
write larger and more complex applications, think about how related code can be
grouped into modules, and how you want these modules to be set up. If your
module is only going to be used by one program, it can stay within the same
project and be referenced by a relative path. If your module will later be
shared separately or exists in a very different location from the project you
are working on now, installing or linking might be more viable. Modules in
active development also benefit from the automatic updates of linking. If the
module is not under active development, using <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>npm install</span> may be the
easier option.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:251957248'><span
style='left:0px;position:absolute;left:542px;top:-31384px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>In this
tutorial, you learned that a Node.js module is a JavaScript file with functions
and objects that can be used by other programs. You then created a module and
attached your functions and objects to the global <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exports </span>object to make them
available to external programs. Finally, you imported that module into a
program, demonstrating how modules come together into larger applications.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now that you know how to create modules, think about the
type of program you want to write and break it down into various components,
keeping each unique set of activities and data in their own modules. The more
practice you get writing modules, the better your ability to write quality
Node.js programs on your learning journey. To work through an <a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>example of a Node.js application that
uses modules, see our </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Set Up a Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:#3445FF'>s Ap</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:#3445FF'>lication for Production on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> tutorial.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:34.25pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='font-size:21.5pt;line-height:107%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='font-size:21.5pt;line-height:107%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='font-size:21.5pt;line-height:107%;font-family:"Arial",sans-serif;
color:#3445FF'>nchronous Code in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='font-size:21.5pt;line-height:107%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='font-size:21.5pt;line-height:107%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.45pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Written by Stack Abuse</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>The author selected the </span><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>eech Fund</span></a><span
style='font-size:13.0pt;line-height:142%'> to receive a donation as part of the
</span><a href="https://do.co/w4do-cta"><span style='font-size:13.0pt;
line-height:142%;color:#3445FF'>Write for DOnations</span></a><span
style='font-size:13.0pt;line-height:142%'> program.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>For many programs in JavaScript, code is executed as the
developer writes it—line by line. This is called synchronous execution, because
the lines are executed one after the other, in the order they were written.
However, not every instruction you give to the computer needs to be attended to
immediately. For example, if you send a network request, the process executing
your code will have to wait for the data to return before it can work on it. In
this case, time would be wasted if it did not execute other code while waiting
for the network request to be completed. To solve this problem, developers use
asynchronous programming, in which lines of code are executed in a different
order than the one in which they were written. With asynchronous programming, we
can execute other code while we wait for long activities like network requests
to finish.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>JavaScript code is executed on a single thread within a
computer process. Its code is processed synchronously on this thread, with only
one instruction run at a time. Therefore, if we were to do a long-running task
on this thread, all of the remaining code is blocked until the task is
complete. By leveraging JavaScript’s asynchronous programming features, we can
offload long-running tasks to a background thread to avoid this problem. When
the task is complete, the code we need to process the task’s data is put back
on the main single thread.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251958272'><span style='left:0px;position:absolute;left:0px;top:-32384px;
width:92px;height:1px'><img width=92 height=1
src="How%20To%20Code%20in%20Node.js_files/image336.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>In this tutorial, you will learn how
JavaScript manages asynchronous tasks with help from the Event Loop, which is a
JavaScript construct that completes a new task while waiting for another. You
will then create a program that uses asynchronous programming to request a list
of movies from a </span><a href="https://ghibliapi.herokuapp.com/"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>Studio Ghibli API</span></a><span
style='font-size:13.0pt;line-height:142%'> and save the data to a </span><a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>CSV file</span></a><a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>.</span></a><span
style='font-size:13.0pt;line-height:142%'> The asynchronous code will be
written in three ways: callbacks, promises, and with the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>async</span><span
style='font-size:13.0pt;line-height:142%'>/</span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>await</span><span style='font-size:
13.0pt;line-height:142%'> keywords.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251959296'><span style='left:0px;position:absolute;left:332px;
top:-32529px;width:93px;height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image337.gif"></span></span><b><span
style='font-size:13.0pt;line-height:142%'>Note:</span></b><span
style='font-size:13.0pt;line-height:142%'> As of this writing, asynchronous
programming is no longer done using only callbacks, but learning this obsolete
method can provide great context as to why the JavaScript community now uses
promises. The </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>async</span><span style='font-size:13.0pt;line-height:142%'>/</span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>await</span><span
style='font-size:13.0pt;line-height:142%'> keywords enable us to use promises
in a less verbose way, and are thus the standard way to do asynchronous
programming in JavaScript at the time of writing this article.</span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:15.4pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>Prerequisites</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:25.6pt;text-indent:-11.95pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=5
height=5 id="Group 236513"
src="How%20To%20Code%20in%20Node.js_files/image338.gif"></span><span
style='font-size:13.0pt;line-height:142%'> Node.js installed on your
development machine. This tutorial uses version 10.17.0. </span><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>To
install this on macOS or Ubuntu 18.04, follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>s and Create a Local
Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>ment Environment on
macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'> or
the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><b><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>Installing
Using a </span></b></a><b><span style='font-size:13.0pt;line-height:142%'>PPA</span></b><span
style='font-size:13.0pt;line-height:142%'> section of </span><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:25.6pt;text-indent:-11.95pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=5
height=5 id="Group 236514"
src="How%20To%20Code%20in%20Node.js_files/image338.gif"></span><span
style='font-size:13.0pt;line-height:142%'> You will also need to be familiar
with installing packages in your project. Get up to </span><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>speed
by reading our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>How To Use Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>s Modules with n</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>m and </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>acka</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>son</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.45pt;
margin-left:25.6pt;text-indent:-11.95pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=5
height=5 id="Group 236515"
src="How%20To%20Code%20in%20Node.js_files/image338.gif"></span><span
style='font-size:13.0pt;line-height:142%'> It is important that you’re
comfortable creating and executing functions in JavaScript before learning how
to use them asynchronously. If you need an </span><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='font-size:13.0pt;line-height:142%;color:black;text-decoration:none'>introduction
or refresher, you can read our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>How To Define Functions
in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='font-size:13.0pt;line-height:142%;color:#3445FF'>t</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>The Event Loop</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>Let’s begin by studying the internal workings of JavaScript function
execution. Understanding how this behaves will allow you to write asynchronous
code more deliberately, and will help you with troubleshooting code in the
future.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>As the JavaScript interpreter executes the code, every
function that is called is added to JavaScript’s call stack. The call stack is
a stack—a list-like data structure where items can only be added to the top,
and removed from the top. Stacks follow the “Last in, first out” or LIFO
principle. If you add two items on the stack, the most recently added item is
removed first.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895523328'><span style='left:0px;position:absolute;left:0px;
top:-33227px;width:208px;height:1px'><img width=208 height=1
src="How%20To%20Code%20in%20Node.js_files/image339.gif"></span></span><span
style='position:relative;z-index:251961344'><span style='left:0px;position:
absolute;left:486px;top:-33227px;width:91px;height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image340.gif"></span></span><span
style='position:relative;z-index:-1895521280'><span style='left:0px;position:
absolute;left:250px;top:-33227px;width:91px;height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image341.gif"></span></span><span
style='position:relative;z-index:251963392'><span style='left:0px;position:
absolute;left:314px;top:-33227px;width:90px;height:1px'><img width=90 height=1
src="How%20To%20Code%20in%20Node.js_files/image342.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Let’s illustrate with an example
using the call stack. If JavaScript encounters a function </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>functionA()</span><span
style='font-size:13.0pt;line-height:142%'> being called, it is added to the
call stack. If that function </span><span style='font-size:9.5pt;line-height:
142%;font-family:"Courier New"'>functionA()</span><span style='font-size:13.0pt;
line-height:142%'> calls another function </span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>functionB()</span><span
style='font-size:13.0pt;line-height:142%'>, then </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>functionB()</span><span
style='font-size:13.0pt;line-height:142%'> is added to the top of the call
stack. As JavaScript completes the execution of a function, it is removed from
the call stack. Therefore, JavaScript will execute </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>functionB()</span><span
style='font-size:13.0pt;line-height:142%'> first, remove it from the stack when
complete, and then finish the execution of </span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>functionA()</span><span
style='font-size:13.0pt;line-height:142%'> and remove it from the call stack.
This is why inner functions are always executed before their outer functions.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>When JavaScript encounters an asynchronous operation, like
writing to a file, it adds it to a table in its memory. This table stores the
operation, the condition for it to be completed, and the function to be called
when it’s completed. As the operation completes, JavaScript adds the associated
function to the message queue. A queue is another list-like data structure
where items can only be added to the bottom but removed from the top. In the
message queue, if two or more asynchronous operations are ready for their
functions to be executed, the asynchronous operation that was completed first
will have its function marked for execution first.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>Functions in the message queue are waiting to be added to the
call stack. The event loop is a perpetual process that checks if the call stack
is empty. If it is, then the first item in the message queue is moved to the
call stack. JavaScript prioritizes functions in the message queue over function
calls it interprets in the code. The combined effect of the call stack, message
queue, and event loop allows JavaScript code to be processed while managing
asynchronous activities.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:15.55pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251964416'><span style='left:0px;position:absolute;left:531px;
top:-33748px;width:82px;height:1px'><img width=82 height=1
src="How%20To%20Code%20in%20Node.js_files/image343.gif"></span></span><span
style='position:relative;z-index:251965440'><span style='left:0px;position:
absolute;left:0px;top:-33748px;width:10px;height:1px'><img width=10 height=1
src="How%20To%20Code%20in%20Node.js_files/image344.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Now that you have a high-level
understanding of the event loop, you know how the asynchronous code you write
will be executed. With this knowledge, you can now create asynchronous code
with three different approaches: callbacks, promises, and </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>async</span><span
style='font-size:13.0pt;line-height:142%'>/</span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>awai t</span><span
style='font-size:13.0pt;line-height:142%'>.</span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>Asynchronous
Programming with Callbacks</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>A callback function is one that is passed as an argument to another
function, and then executed when the other function is finished. We use
callbacks to ensure that code is executed only after an asynchronous operation
is completed.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>For a long time, callbacks were the most common mechanism for
writing asynchronous code, but now they have largely become obsolete because
they can make code confusing to read. In this step, you’ll write an example of
asynchronous code using callbacks so that you can use it as a baseline to see
the increased efficiency of other strategies.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.7pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>There are many ways to use callback functions in another
function. Generally, they take this structure:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-4.2pt;
margin-bottom:24.1pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=609 height=101
src="How%20To%20Code%20in%20Node.js_files/image345.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>While it is not syntactically required by JavaScript or
Node.js to have the callback function as the last argument of the outer
function, it is a common practice that makes callbacks easier to identify. It’s
also common for JavaScript developers to use an anonymous function as a
callback. Anonymous functions are those created without a name. It’s usually
much more readable when a function is defined at the end of the argument list.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><a
href="https://en.wikipedia.org/wiki/Studio_Ghibli"><span style='font-size:13.0pt;
line-height:142%;color:black;text-decoration:none'>To demonstrate callbacks,
let’s create a Node.js module that writes a list of </span></a><a
href="https://en.wikipedia.org/wiki/Studio_Ghibli"><span style='font-size:13.0pt;
line-height:142%;color:#3445FF'>Studio Ghibli</span></a><a
href="https://en.wikipedia.org/wiki/Studio_Ghibli"><span style='font-size:13.0pt;
line-height:142%;color:black;text-decoration:none'> movies to a file. First,
create a folder that will store our JavaScript file and its </span></a><span
style='font-size:13.0pt;line-height:142%'>output:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.0pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=46
src="How%20To%20Code%20in%20Node.js_files/image346.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Then enter that folder:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.0pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=46
src="How%20To%20Code%20in%20Node.js_files/image347.gif"></span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
12.8pt;line-height:137%'><span style='font-size:13.0pt;line-height:137%'>We
will start by making an HTTP request to the </span><a
href="https://ghibliapi.herokuapp.com/"><span style='font-size:13.0pt;
line-height:137%;color:#3445FF'>Studio Ghibli API</span></a><a
href="https://ghibliapi.herokuapp.com/"><span style='font-size:13.0pt;
line-height:137%;color:black;text-decoration:none'>,</span></a><span
style='font-size:13.0pt;line-height:137%'> which our callback function will log
the results of. To do this, we will install a library that allows us to access
the data of an HTTP response in a callback.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>In your terminal, initialize npm so we can have a
reference for our packages later:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=46
src="How%20To%20Code%20in%20Node.js_files/image348.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Then, install the </span><a
href="https://www.npmjs.com/package/request"><span style='font-size:9.5pt;
line-height:107%;font-family:"Courier New";color:#3445FF'>request</span></a><span
style='font-size:13.0pt;line-height:107%'> library:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=46
src="How%20To%20Code%20in%20Node.js_files/image349.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.0pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=93
src="How%20To%20Code%20in%20Node.js_files/image350.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.15pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'><span style='font-size:13.0pt;line-height:107%'>In your text
editor, enter the following code. Let’s begin by sending an HTTP request</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=612 height=258
src="How%20To%20Code%20in%20Node.js_files/image351.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
251966464'><span style='left:0px;position:absolute;left:564px;top:-35246px;
width:49px;height:1px'><img width=49 height=1
src="How%20To%20Code%20in%20Node.js_files/image352.gif"></span></span><span
style='position:relative;z-index:251967488'><span style='left:0px;position:
absolute;left:0px;top:-35246px;width:10px;height:1px'><img width=10 height=1
src="How%20To%20Code%20in%20Node.js_files/image353.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>returns a function that can make HTTP
requests; we then save that function in the </span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>reques t</span><span
style='font-size:13.0pt;line-height:142%'> constant.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251968512'><span style='left:0px;position:absolute;left:328px;
top:-35275px;width:75px;height:1px'><img width=75 height=1
src="How%20To%20Code%20in%20Node.js_files/image354.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>We then make the HTTP request using
the </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>request()</span><span
style='font-size:13.0pt;line-height:142%'> function. Let’s now print the data
from the HTTP request to the console by adding the highlighted changes:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.95pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=597 height=600
src="How%20To%20Code%20in%20Node.js_files/image355.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.45pt;
margin-left:13.65pt;text-indent:0in;line-height:107%'><img width=5 height=1
src="How%20To%20Code%20in%20Node.js_files/image356.gif" align=left hspace=12><span
style='font-size:13.0pt;line-height:107%'>The URL of the website we are trying
to request</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.75pt;
margin-left:13.65pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>A callback function that handles any errors or successful responses after
the request is complete</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895513088'><span style='left:0px;position:absolute;left:323px;
top:-36035px;width:131px;height:1px'><img width=131 height=1
src="How%20To%20Code%20in%20Node.js_files/image357.gif"></span></span><span
style='position:relative;z-index:251971584'><span style='left:0px;position:
absolute;left:496px;top:-36035px;width:37px;height:1px'><img width=37 height=1
src="How%20To%20Code%20in%20Node.js_files/image358.gif"></span></span><span
style='position:relative;z-index:251972608'><span style='left:0px;position:
absolute;left:572px;top:-36035px;width:41px;height:1px'><img width=41 height=1
src="How%20To%20Code%20in%20Node.js_files/image359.gif"></span></span><span
style='position:relative;z-index:251973632'><span style='left:0px;position:
absolute;left:0px;top:-36035px;width:26px;height:1px'><img width=26 height=1
src="How%20To%20Code%20in%20Node.js_files/image360.gif"></span></span><span
style='position:relative;z-index:251974656'><span style='left:0px;position:
absolute;left:68px;top:-36035px;width:36px;height:1px'><img width=36 height=1
src="How%20To%20Code%20in%20Node.js_files/image361.gif"></span></span><span
style='position:relative;z-index:251975680'><span style='left:0px;position:
absolute;left:188px;top:-36035px;width:36px;height:1px'><img width=36 height=1
src="How%20To%20Code%20in%20Node.js_files/image362.gif"></span></span><span
style='position:relative;z-index:-1895506944'><span style='left:0px;position:
absolute;left:149px;top:-36035px;width:111px;height:1px'><img width=111
height=1 src="How%20To%20Code%20in%20Node.js_files/image363.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Our callback function has three
arguments: </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>error</span><span style='font-size:13.0pt;line-height:142%'>, </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>response</span><span
style='font-size:13.0pt;line-height:142%'>, and </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>body</span><span
style='font-size:13.0pt;line-height:142%'>. When the HTTP request is complete,
the arguments are automatically given values depending on the outcome. If the
request failed to send, then </span><span style='font-size:9.5pt;line-height:
142%;font-family:"Courier New"'>error</span><span style='font-size:13.0pt;
line-height:142%'> would contain an object, but </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>respo nse</span><span
style='font-size:13.0pt;line-height:142%'> and </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>body</span><span
style='font-size:13.0pt;line-height:142%'> would be </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>null</span><span
style='font-size:13.0pt;line-height:142%'>. If it made the request
successfully, then the HTTP response is stored in </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>response</span><span
style='font-size:13.0pt;line-height:142%'>. If our HTTP response returns data
(in this example we get JSON) then the data is set in </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>body</span><span
style='font-size:13.0pt;line-height:142%'>.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251977728'><span style='left:0px;position:absolute;left:59px;
top:-36180px;width:29px;height:1px'><img width=29 height=1
src="How%20To%20Code%20in%20Node.js_files/image364.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Our callback function first checks to
see if we received an error. It’s best practice to check for errors in a
callback first so the execution of the callback won’t continue with missing
data. In this case, we log the error and the function’s execution. We then
check the status code of the response. Our server may not always be available,
and APIs can change causing once sensible requests to become incorrect. By
checking that the status code is </span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>200</span><span style='font-size:
13.0pt;line-height:142%'>, which means the request was “OK”, we can have
confidence that our response is what we expect it to be.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251978752'><span style='left:0px;position:absolute;left:312px;
top:-36354px;width:45px;height:1px'><img width=45 height=1
src="How%20To%20Code%20in%20Node.js_files/image365.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Finally, we parse the response body
to an </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>Array</span><span
style='font-size:13.0pt;line-height:142%'> and loop through each movie to log
its name and release year.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>After saving and quitting the file, run this script
with:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.0pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=46
src="How%20To%20Code%20in%20Node.js_files/image366.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>You will get the following output:</span><br
clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.1pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=583
src="How%20To%20Code%20in%20Node.js_files/image367.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>We successfully received a list of Studio Ghibli movies with
the year they were released. Now let’s complete this program by writing the
movie list we are currently logging into a file.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251979776'><span style='left:0px;position:absolute;left:106px;
top:-37217px;width:136px;height:1px'><img width=136 height=1
src="How%20To%20Code%20in%20Node.js_files/image368.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Update the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>callbackMovies.js</span><span
style='font-size:13.0pt;line-height:142%'> file in your text editor to include
the following highlighted code, which creates a CSV file with our movie data:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=596 height=864
src="How%20To%20Code%20in%20Node.js_files/image369.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895502848'><span style='left:0px;position:absolute;left:9px;
top:-38141px;width:595px;height:1px'><img width=595 height=1
src="How%20To%20Code%20in%20Node.js_files/image370.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Noting the highlighted changes, we
see that we import the </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>fs</span><span style='font-size:13.0pt;line-height:
142%'> module. This module is standard in all Node.js installations, and it
contains a </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>writeFile()</span><span style='font-size:13.0pt;line-height:
142%'> method that can asynchronously write to a file.</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.15pt;
margin-bottom:6.75pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'><span style='font-size:13.0pt;line-height:107%'>Instead of
logging the data to the console, we now add it to a string variable </span><span
style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>movieLis</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895501824'><span style='left:0px;position:absolute;left:541px;top:-38230px;
width:72px;height:1px'><img width=72 height=1
src="How%20To%20Code%20in%20Node.js_files/image371.gif"></span></span><span
style='position:relative;z-index:-1895500800'><span style='left:0px;position:
absolute;left:0px;top:-38230px;width:197px;height:1px'><img width=197 height=1
src="How%20To%20Code%20in%20Node.js_files/image372.gif"></span></span><span
style='position:relative;z-index:-1895499776'><span style='left:0px;position:
absolute;left:347px;top:-38230px;width:91px;height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image373.gif"></span></span><span
style='position:relative;z-index:251984896'><span style='left:0px;position:
absolute;left:343px;top:-38230px;width:36px;height:1px'><img width=36 height=1
src="How%20To%20Code%20in%20Node.js_files/image374.gif"></span></span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>t</span><span
style='font-size:13.0pt;line-height:142%'>. We then use </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>writeFile()</span><span
style='font-size:13.0pt;line-height:142%'> to save the contents of </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>movieList</span><span
style='font-size:13.0pt;line-height:142%'> to a new file—</span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>callbackM
ovies.csv</span><span style='font-size:13.0pt;line-height:142%'>. Finally, we
provide a callback to the </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>writeFile()</span><span style='font-size:13.0pt;
line-height:142%'> function, which has one argument: </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>error</span><span
style='font-size:13.0pt;line-height:142%'>. This allows us to handle cases
where we are not able to write to a file, for example when the user we are
running the </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>node</span><span style='font-size:13.0pt;line-height:142%'>
process on does not have those permissions.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Save the file and run this Node.js program once again
with:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=79
src="How%20To%20Code%20in%20Node.js_files/image375.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>following content:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.1pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=583
src="How%20To%20Code%20in%20Node.js_files/image376.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251985920'><span style='left:0px;position:absolute;left:87px;
top:-39097px;width:90px;height:1px'><img width=90 height=1
src="How%20To%20Code%20in%20Node.js_files/image342.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>It’s important to note that we write
to our CSV file in the callback of the HTTP request. Once the code is in the
callback function, it will only write to the file after the HTTP request was
completed. If we wanted to communicate to a database after we wrote our CSV
file, we would make another asynchronous function that would be called in the
callback of </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>writeFile()</span><span style='font-size:13.0pt;line-height:
142%'>. The more asynchronous code we have, the more callback functions have to
be nested.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>Let’s imagine that we want to execute five asynchronous
operations, each one only able to run when another is complete. If we were to
code this, we would have something like this:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.1pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=319
src="How%20To%20Code%20in%20Node.js_files/image377.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.1pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>When nested callbacks have many lines of code to execute,
they become substantially more complex and unreadable. As your JavaScript
project grows in size and complexity, this effect will become more pronounced,
until it is eventually unmanageable. Because of this, developers no longer use
callbacks to handle asynchronous operations. To improve the syntax of our
asynchronous code, we can use promises instead.</span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>Using Promises for
Concise Asynchronous Programming</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>A promise is a JavaScript object that will return a value at some point
in the future. Asynchronous functions can return promise objects instead of
concrete values. If we get a value in the future, we say that the promise was
fulfilled. If we get an error in the future, we say that the promise was
rejected. Otherwise, the promise is still being worked on in a pending state.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.75pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Promises generally take the following form:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=101
src="How%20To%20Code%20in%20Node.js_files/image378.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251986944'><span style='left:0px;position:absolute;left:113px;
top:-40104px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image379.gif"></span></span><span
style='position:relative;z-index:251987968'><span style='left:0px;position:
absolute;left:220px;top:-40104px;width:60px;height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image380.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>As shown in this template, promises
also use callback functions. We have a callback function for the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>then()</span><span
style='font-size:13.0pt;line-height:142%'> method, which is executed when a
promise is fulfilled. We also have a callback function for the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>catch()</span><span
style='font-size:13.0pt;line-height:142%'> method to handle any errors that
come up while the promise is being executed.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>Let’s get firsthand experience with promises by rewriting our
Studio Ghibli program to use promises instead.</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.95pt;
margin-bottom:0in;margin-left:0in;text-align:center;text-indent:0in;line-height:
107%'><a href="https://www.npmjs.com/package/axios"><span style='font-size:
13.0pt;line-height:107%;color:#3445FF'>Axios</span></a><span style='font-size:
13.0pt;line-height:107%'> is a promise-based HTTP client for JavaScript, so
let’s go ahead and install it:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=172
src="How%20To%20Code%20in%20Node.js_files/image381.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.3pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>based version of </span><span style='font-size:9.5pt;
line-height:107%;font-family:"Courier New"'>fs</span><span style='font-size:
13.0pt;line-height:107%'> to save to a new CSV file.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.5pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895494656'><span style='left:0px;position:absolute;left:116px;
top:-40484px;width:154px;height:1px'><img width=154 height=1
src="How%20To%20Code%20in%20Node.js_files/image382.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Type this code in </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>promiseMovies.js</span><span
style='font-size:13.0pt;line-height:142%'> so we can load Axios and send an
HTTP request to the movie API:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.5pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=612 height=235
src="How%20To%20Code%20in%20Node.js_files/image383.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895493632'><span style='left:0px;position:absolute;left:45px;
top:-40792px;width:94px;height:1px'><img width=94 height=1
src="How%20To%20Code%20in%20Node.js_files/image384.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>The </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>axios.get()</span><span
style='font-size:13.0pt;line-height:142%'> method returns a promise. Let’s
chain that promise so we can print the list of Ghibli movies to the console:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.5pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=606 height=424
src="How%20To%20Code%20in%20Node.js_files/image385.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.8pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:251991040'><span style='left:0px;position:absolute;left:0px;
top:-41285px;width:41px;height:1px'><img width=41 height=1
src="How%20To%20Code%20in%20Node.js_files/image386.gif"></span></span><span
style='position:relative;z-index:251992064'><span style='left:0px;position:
absolute;left:126px;top:-41285px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image379.gif"></span></span><span
style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>get()</span><span
style='font-size:13.0pt;line-height:107%'>, we use the </span><span
style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>then()</span><span
style='font-size:13.0pt;line-height:107%'> function, which is only executed
when the promise is fulfilled.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.45pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>In this case, we print the movies to the screen like
we did in the callbacks example.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>To improve this program, add the highlighted code to
write the HTTP data to a file:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.5pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=588
src="How%20To%20Code%20in%20Node.js_files/image387.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895490560'><span style='left:0px;position:absolute;left:39px;top:-41964px;
width:94px;height:1px'><img width=94 height=1
src="How%20To%20Code%20in%20Node.js_files/image388.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>have </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>.promises</span><span
style='font-size:13.0pt;line-height:142%'>. Node.js includes a promised-based
version of the callback-based </span><span style='font-size:9.5pt;line-height:
142%;font-family:"Courier New"'>fs </span><span style='font-size:13.0pt;
line-height:142%'>library, so backward compatibility is not broken in legacy
projects.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:-1895489536'><span style='left:0px;position:absolute;left:499px;
top:-42022px;width:114px;height:1px'><img width=114 height=1
src="How%20To%20Code%20in%20Node.js_files/image389.gif"></span></span><span
style='position:relative;z-index:-1895488512'><span style='left:0px;position:
absolute;left:28px;top:-42022px;width:215px;height:1px'><img width=215
height=1 src="How%20To%20Code%20in%20Node.js_files/image390.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>The first </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>then()</span><span
style='font-size:13.0pt;line-height:142%'> function that processes the HTTP
request now calls </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>fs.writeFile() </span><span style='font-size:13.0pt;
line-height:142%'>instead of printing to the console. Since we imported the
promise-based version of </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>fs</span><span style='font-size:13.0pt;line-height:
142%'>, our </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>writeFile()</span><span style='font-size:13.0pt;line-height:
142%'> function returns another promise. As such, we append another </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>then() </span><span
style='font-size:13.0pt;line-height:142%'>function for when the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>writeFile()</span><span
style='font-size:13.0pt;line-height:142%'> promise is fulfilled.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251996160'><span style='left:0px;position:absolute;left:543px;
top:-42138px;width:53px;height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image391.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>A promise can return a new promise,
allowing us to execute promises one after the other. This paves the way for us
to perform multiple asynchronous operations. This is called promise chaining,
and it is analogous to nesting callbacks. The second </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>then()</span><span
style='font-size:13.0pt;line-height:142%'> is only called after we successfully
write to the file.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251997184'><span style='left:0px;position:absolute;left:215px;
top:-42225px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image392.gif"></span></span><b><span
style='font-size:13.0pt;line-height:142%'>Note:</span></b><span
style='font-size:13.0pt;line-height:142%'> In this example, we did not check
for the HTTP status code like we did in the callback example. By default, </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>axios</span><span
style='font-size:13.0pt;line-height:142%'> does not fulfil its promise if it
gets a status code indicating an error. As such, we no longer need to validate
it.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.5pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251998208'><span style='left:0px;position:absolute;left:422px;
top:-42312px;width:59px;height:1px'><img width=59 height=1
src="How%20To%20Code%20in%20Node.js_files/image393.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>To complete this program, chain the
promise with a </span><span style='font-size:9.5pt;line-height:142%;font-family:
"Courier New"'>catch()</span><span style='font-size:13.0pt;line-height:142%'>
function as it is highlighted in the following:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=630
src="How%20To%20Code%20in%20Node.js_files/image394.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:251999232'><span style='left:0px;position:absolute;left:45px;
top:-43004px;width:59px;height:1px'><img width=59 height=1
src="How%20To%20Code%20in%20Node.js_files/image393.gif"></span></span><span
style='position:relative;z-index:252000256'><span style='left:0px;position:
absolute;left:506px;top:-43004px;width:59px;height:1px'><img width=59 height=1
src="How%20To%20Code%20in%20Node.js_files/image395.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>If any promise is not fulfilled in
the chain of promises, JavaScript automatically goes to the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>catch()</span><span
style='font-size:13.0pt;line-height:142%'> function if it was defined. That’s
why we only have one </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>catch()</span><span style='font-size:13.0pt;
line-height:142%'> clause even though we have two asynchronous operations.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Let’s confirm that our program produces the same
output by running:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=597 height=694
src="How%20To%20Code%20in%20Node.js_files/image396.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>With promises, we can write much more concise code than using
only callbacks. The promise chain of callbacks is a cleaner option than nesting
callbacks. However, as we make more asynchronous calls, our promise chain
becomes longer and harder to maintain.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:16.55pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:252001280'><span style='left:0px;position:absolute;left:601px;
top:-43896px;width:11px;height:1px'><img width=11 height=1
src="How%20To%20Code%20in%20Node.js_files/image397.gif"></span></span><span
style='position:relative;z-index:252002304'><span style='left:0px;position:
absolute;left:0px;top:-43896px;width:111px;height:1px'><img width=111 height=1
src="How%20To%20Code%20in%20Node.js_files/image398.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>The verbosity of callbacks and
promises come from the need to create functions when we have the result of an
asynchronous task. A better experience would be to wait for an asynchronous
result and put it in a variable outside the function. That way, we can use the
results in the variables without having to make a function. We can achieve this
with the </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>a
sync</span><span style='font-size:13.0pt;line-height:142%'> and </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>await</span><span
style='font-size:13.0pt;line-height:142%'> keywords.</span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.45pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>Writing JavaScript with
</span><span style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>async</span><span
style='font-size:14.5pt;line-height:107%'>/</span><span style='font-size:9.5pt;
line-height:107%;font-family:"Courier New"'>await</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.9pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
252003328'><span style='left:0px;position:absolute;left:32px;top:-44073px;
width:93px;height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image399.gif"></span></span><span
style='position:relative;z-index:252004352'><span style='left:0px;position:
absolute;left:410px;top:-44073px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image400.gif"></span></span><span
style='position:relative;z-index:252005376'><span style='left:0px;position:
absolute;left:569px;top:-44073px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image392.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>The </span><span style='font-size:
9.5pt;line-height:142%;font-family:"Courier New"'>async</span><span
style='font-size:13.0pt;line-height:142%'>/</span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>await</span><span style='font-size:
13.0pt;line-height:142%'> keywords provide an alternative syntax when working
with promises. Instead of having the result of a promise available in the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>then()</span><span
style='font-size:13.0pt;line-height:142%'> method, the result is returned as a
value like in any other function. We define a function with the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>async </span><span
style='font-size:13.0pt;line-height:142%'>keyword to tell JavaScript that it’s
an asynchronous function that returns a promise. We</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.1pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><img width=612 height=1
src="How%20To%20Code%20in%20Node.js_files/image401.gif" align=left hspace=12><span
style='font-size:13.0pt;line-height:107%'>returning the promise itself when
it’s fulfilled.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:208.55pt;
margin-left:12.8pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>In general, </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>async</span><span style='font-size:13.0pt;
line-height:142%'>/</span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>await</span><span style='font-size:13.0pt;
line-height:142%'> usage looks like this:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>In your newly opened JavaScript file, let’s start by
importing the same modules we used in our promise example:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=613 height=501
src="How%20To%20Code%20in%20Node.js_files/image402.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.6pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>asynchronous function.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:252007424'><span style='left:0px;position:absolute;left:74px;
top:-45471px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image403.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Use the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>await</span><span
style='font-size:13.0pt;line-height:142%'> keyword to make an HTTP request that
gets the list of movies from the Ghibli API:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.3pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=613 height=438
src="How%20To%20Code%20in%20Node.js_files/image404.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895475200'><span style='left:0px;position:absolute;left:287px;top:-45949px;
width:86px;height:1px'><img width=86 height=1
src="How%20To%20Code%20in%20Node.js_files/image405.gif"></span></span><span
style='position:relative;z-index:252009472'><span style='left:0px;position:
absolute;left:142px;top:-45949px;width:90px;height:1px'><img width=90 height=1
src="How%20To%20Code%20in%20Node.js_files/image342.gif"></span></span><span
style='position:relative;z-index:252010496'><span style='left:0px;position:
absolute;left:451px;top:-45949px;width:67px;height:1px'><img width=67 height=1
src="How%20To%20Code%20in%20Node.js_files/image406.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>before it is called. When JavaScript
sees </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>await</span><span
style='font-size:13.0pt;line-height:142%'>, it will only execute the remaining
code of the function after </span><span style='font-size:9.5pt;line-height:
142%;font-family:"Courier New"'>axios.get()</span><span style='font-size:13.0pt;
line-height:142%'> finishes execution and sets the </span><span
style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>response</span><span
style='font-size:13.0pt;line-height:142%'> variable. The other code saves the
movie data so we can write to a file.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Let’s write the movie data to a file:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:6.95pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=597 height=435 src="How%20To%20Code%20in%20Node.js_files/image407.gif"></span><span
style='font-size:13.0pt;line-height:107%'>We also use the </span><span
style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>await</span><span
style='font-size:13.0pt;line-height:107%'> keyword when we write to the file
with </span><span style='font-size:9.5pt;line-height:107%;font-family:"Courier New"'>fs.writeFile()</span><span
style='font-size:13.0pt;line-height:107%'>.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:252011520'><span style='left:0px;position:absolute;left:241px;
top:-46529px;width:77px;height:1px'><img width=77 height=1
src="How%20To%20Code%20in%20Node.js_files/image408.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>To complete this function, we need to
catch errors our promises can throw. Let’s do this by encapsulating our code in
a </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>try</span><span
style='font-size:13.0pt;line-height:142%'>/</span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>catch</span><span style='font-size:
13.0pt;line-height:142%'> block:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=546
src="How%20To%20Code%20in%20Node.js_files/image409.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='font-size:13.0pt;line-height:
142%'>This will capture any errors that are thrown when either the HTTP request
or file writing operations fail.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:252012544'><span style='left:0px;position:absolute;left:323px;
top:-47202px;width:98px;height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image410.gif"></span></span><span
style='position:relative;z-index:252013568'><span style='left:0px;position:
absolute;left:172px;top:-47202px;width:36px;height:1px'><img width=36 height=1
src="How%20To%20Code%20in%20Node.js_files/image361.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>Finally, let’s call our asynchronous
function </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>saveMovies()</span><span
style='font-size:13.0pt;line-height:142%'> so it will be executed when we run
the program with </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>node</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.1pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=595 height=548
src="How%20To%20Code%20in%20Node.js_files/image411.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='position:relative;
z-index:252014592'><span style='left:0px;position:absolute;left:169px;
top:-47842px;width:93px;height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image412.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>At a glance, this looks like a
typical synchronous JavaScript code block. It has fewer functions being passed
around, which looks a bit neater. These small tweaks make asynchronous code
with </span><span style='font-size:9.5pt;line-height:142%;font-family:"Courier New"'>async</span><span
style='font-size:13.0pt;line-height:142%'>/</span><span style='font-size:9.5pt;
line-height:142%;font-family:"Courier New"'>await</span><span style='font-size:
13.0pt;line-height:142%'> easier to maintain.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:12.8pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>Test this iteration of our program by entering this in
your terminal:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:6.95pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=79
src="How%20To%20Code%20in%20Node.js_files/image413.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'><span style='font-size:
13.0pt;line-height:107%'>the following contents:</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.4pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=612 height=662
src="How%20To%20Code%20in%20Node.js_files/image414.gif"></span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:9.65pt;margin-left:
-.25pt'><span style='font-size:14.5pt;line-height:107%'>Conclusion</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:0in'><span style='position:relative;z-index:
252015616'><span style='left:0px;position:absolute;left:184px;top:-48790px;
width:92px;height:1px'><img width=92 height=1
src="How%20To%20Code%20in%20Node.js_files/image415.gif"></span></span><span
style='font-size:13.0pt;line-height:142%'>In this tutorial, you learned how
JavaScript handles executing functions and managing asynchronous operations
with the event loop. You then wrote programs that created a CSV file after
making an HTTP request for movie data using various asynchronous programming
techniques. First, you used the obsolete callback-based approach. You then used
promises, and finally </span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>async</span><span style='font-size:13.0pt;
line-height:142%'>/</span><span style='font-size:9.5pt;line-height:142%;
font-family:"Courier New"'>await</span><span style='font-size:13.0pt;
line-height:142%'> to make the promise syntax more succinct.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.2pt;
margin-left:-.75pt;text-indent:12.3pt'><span style='font-size:13.0pt;
line-height:142%'>With your understanding of asynchronous code with Node.js,
you can now develop programs that benefit from asynchronous programming, like
those that rely on API calls. Have a look at this list of </span><a
href="https://github.com/public-apis/public-apis"><span style='font-size:13.0pt;
line-height:142%;color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/public-apis/public-apis"><span style='font-size:13.0pt;
line-height:142%;color:#3445FF'>ublic APIs</span></a><a
href="https://github.com/public-apis/public-apis"><span style='font-size:13.0pt;
line-height:142%;color:black;text-decoration:none'>.</span></a><span
style='font-size:13.0pt;line-height:142%'> To use them, you will have to make
asynchronous HTTP requests like we did in this tutorial. For further study, try
building an app that uses these APIs to practice the techniques you learned
here.</span><br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-test-a-node-js-module-with-mocha-and-assert"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Test a Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-test-a-node-js-module-with-mocha-and-assert"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-test-a-node-js-module-with-mocha-and-assert"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s Module with Mocha and Assert</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>O</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>en Internet/Free S</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.brightfunds.org/funds/open-internet-free-speech"><span
style='color:#3445FF'>eech Fund</span></a> to receive a donation as part of the
<a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write for
DOnations</span></a> program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Testing is an integral part of software development. It’s
common for programmers to run code that tests their application as they make
changes in order to confirm it’s behaving as they’d like. With the right test
setup, this process can even be automated, saving a lot of time. Running tests
consistently after writing new code ensures that new changes don’t break
pre-existing features. This gives the developer confidence in their code base,
especially when it gets deployed to production so users can interact with it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>A test framework structures the way we create test cases. <a
href="https://mochajs.org/"><span style='color:#3445FF'>Mocha</span></a><a
href="https://mochajs.org/"><span style='color:black;text-decoration:none'> </span></a>is
a popular JavaScript test framework that organizes our test cases and runs them
for us. However, Mocha does not verify our code’s behavior. To compare values
in a test, we can use the Node.js <a href="https://nodejs.org/api/assert.html"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>assert</span></a><a
href="https://nodejs.org/api/assert.html"><span style='color:black;text-decoration:
none'> </span></a>module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.65pt;
margin-left:.25pt'><span style='position:relative;z-index:252016640'><span
style='left:0px;position:absolute;left:183px;top:-49681px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252017664'><span style='left:0px;position:
absolute;left:439px;top:-49681px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>In this
article, you’ll write tests for a <a href="https://nodejs.org/en/"><span
style='color:#3445FF'>Node</span></a><a href="https://nodejs.org/en/"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/en/"><span style='color:#3445FF'>s</span></a> TODO
list module. You will set up and use the Mocha test framework to structure your
tests. Then you’ll use the Node.js <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>assert</span> module to create the tests
themselves. In this sense, you will be using Mocha as a plan builder, and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>
to implement the plan.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 238201"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> Node.js
installed on your development machine. This tutorial uses Node.js version
10.16.0. To install this on macOS or Ubuntu 18.04, <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the Installing Using a PPA </span></a>section
of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 238202"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>A basic knowledge of JavaScript, which
you can find in our </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>How To Code in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Writing a Node Module</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Let’s begin this article by writing the
Node.js module we’d like to test. This module will manage a list of TODO items.
Using this module, we will be able to list all the TODOs that we are keeping
track of, add new items, and mark some as complete. Additionally, we’ll be able
to export a list of TODO items to a CSV file. If you’d like a refresher on
writing Node.js modules, you can read our article on <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>How To Create a Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>s Module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.45pt;
margin-left:.25pt'>First, we need to set up the coding environment. Create a
folder with the name of your project in your terminal. This tutorial will use
the name <span style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image417.gif"></span><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#EF2929'>todos</span></b>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Then
enter that folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image418.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now initialize <a href="https://www.npmjs.com/"><span
style='color:#3445FF'>n</span></a><a href="https://www.npmjs.com/"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.npmjs.com/"><span style='color:#3445FF'>m</span></a>, since
we’ll be using its CLI functionality to run the tests later:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image419.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:54.9pt;
margin-left:.25pt'>We only have one dependency, Mocha, which we will use to
organize and run our tests. To download and install Mocha, use the following:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895464960'><span
style='left:0px;position:absolute;left:12px;top:-50826px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>We
install Mocha as a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>dev</span> dependency, as it’s not required by the module in a
production setting. If you would like to learn more about <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:black;text-decoration:none'>Node.js packages or npm, check out our
guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>How To Use Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>s Modules with n</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>m and </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>acka</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>son</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Finally,
let’s create our file that will contain our module’s code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image420.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=611 height=133
src="How%20To%20Code%20in%20Node.js_files/image421.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252019712'><span
style='left:0px;position:absolute;left:64px;top:-51203px;width:79px;height:
1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>functions</span></a> that we need to manage our TODO
list. Add the following lines of code to <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>index.js</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=309
src="How%20To%20Code%20in%20Node.js_files/image423.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252020736'><span
style='left:0px;position:absolute;left:280px;top:-51618px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252021760'><span style='left:0px;position:
absolute;left:415px;top:-51618px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image424.gif"></span></span><span
style='position:relative;z-index:252022784'><span style='left:0px;position:
absolute;left:560px;top:-51618px;width:51px;height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>We begin
the file by creating a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Todos</span> class. Its <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>constructor()</span> function takes
no arguments, therefore we don’t need to provide any values to instantiate an
object for this class. All we do when we initialize a <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Todos </span>object is
create a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>todos</span>
property that’s an empty <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895459840'><span
style='left:0px;position:absolute;left:60px;top:-51751px;width:132px;
height:1px'><img width=132 height=1
src="How%20To%20Code%20in%20Node.js_files/image426.gif"></span></span><span
style='position:relative;z-index:252024832'><span style='left:0px;position:
absolute;left:560px;top:-51751px;width:51px;height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>modules</span>
line allows other Node.js modules to require our <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Todos </span>class. Without
explicitly exporting the class, the test file that we will create later would
not be able to use it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252025856'><span
style='left:0px;position:absolute;left:359px;top:-51851px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Let’s add
a function to return the array of <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>todos</span> we have stored. Write in the
following highlighted lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=396
src="How%20To%20Code%20in%20Node.js_files/image427.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252026880'><span
style='left:0px;position:absolute;left:58px;top:-52353px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252027904'><span style='left:0px;position:
absolute;left:97px;top:-52353px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252028928'><span style='left:0px;position:
absolute;left:456px;top:-52353px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image428.gif"></span></span>Our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>list()</span>
function returns a copy of the array that’s used by the class. It makes a copy
of the array by using JavaScript’s <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:#3445FF'>destructurin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:#3445FF'> s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:#3445FF'>ntax</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-destructuring-assignment-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> We make a copy of the
array so that changes the user makes to the array returned by <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>list()</span>
does not affect the array used by the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Todos</span> object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252029952'><span
style='left:0px;position:absolute;left:443px;top:-52486px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252030976'><span style='left:0px;position:
absolute;left:72px;top:-52486px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:-1895451648'><span style='left:0px;position:
absolute;left:177px;top:-52486px;width:145px;height:1px'><img width=145
height=1 src="How%20To%20Code%20in%20Node.js_files/image429.gif"></span></span><span
style='position:relative;z-index:252033024'><span style='left:0px;position:
absolute;left:440px;top:-52486px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><b>Note:</b>
JavaScript arrays are reference types. This means that for any <a
href="https://www.digitalocean.com/community/tutorials/understanding-variables-scope-hoisting-in-javascript"><span
style='color:#3445FF'>variable</span></a> assignment to an array or function
invocation with an array as a parameter, JavaScript refers to the original
array that was created. For example, if we have an array with three items
called <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>x</span>,
and create a new variable <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>y</span> such that <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>y = x</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>y</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>x</span>
both refer to the same thing. Any changes we make to the array with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>y</span>
impacts variable <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>x</span> and vice versa.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252034048'><span style='left:0px;position:
absolute;left:178px;top:-52652px;width:53px;height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span>Now let’s
write the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>add()</span>
function, which adds a new TODO item:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=684
src="How%20To%20Code%20in%20Node.js_files/image431.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895448576'><span
style='left:0px;position:absolute;left:61px;top:-53401px;width:117px;
height:1px'><img width=117 height=1
src="How%20To%20Code%20in%20Node.js_files/image432.gif"></span></span><span
style='position:relative;z-index:252036096'><span style='left:0px;position:
absolute;left:443px;top:-53401px;width:89px;height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image248.gif"></span></span>Our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>add()</span>
function takes a string, and places it in a new JavaScript <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>’</span></a>s <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>title</span> property. The
new object also has a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>completed</span> property, which is set to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>false</span>
by default. We then add this new object to our array of TODOs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252037120'><span
style='left:0px;position:absolute;left:512px;top:-53501px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image433.gif"></span></span>Important
functionality in a TODO manager is to mark items as completed. For this
implementation, we will loop through our <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>todos</span> array to find the TODO
item the user is searching for. If one is found, we’ll mark it as completed. If
none is found, we’ll throw an error.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252038144'><span style='left:0px;position:
absolute;left:90px;top:-53634px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>Add the <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>complete()</span>
function like this:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=864
src="How%20To%20Code%20in%20Node.js_files/image435.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=363
src="How%20To%20Code%20in%20Node.js_files/image436.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save the file and exit
from the text editor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>We now have a basic TODO manager that we can experiment
with. Next, let’s manually test our code to see if the application is working.</p>

<h2 style='margin-left:.5pt'>Step 2 — Manually Testing the Code</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>In this step, we will run our code’s
functions and observe the output to ensure it matches our expectations. This is
called manual testing. It’s likely the most common testing methodology
programmers apply. Although we will automate our testing later with Mocha, we
will first manually test our code to give a better sense of how manual testing
differs from testing frameworks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252039168'><span
style='left:0px;position:absolute;left:351px;top:-55281px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>Let’s add
two TODO items to our app and mark one as complete. Start the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>s REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'> </span></a>in the same folder as the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>index.js</span>
file:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.4pt;
margin-left:.25pt;line-height:223%'><span style='position:relative;z-index:
-1895443456'><span style='left:0px;position:absolute;left:12px;top:-55348px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span><span
style='position:relative;z-index:-1895442432'><span style='left:0px;position:
absolute;left:12px;top:-55348px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image438.gif"></span></span>You
will see the <span style='font-size:11.0pt;line-height:223%;font-family:"Courier New"'>&gt;</span>
prompt in the REPL that tells us we can enter JavaScript code. Type the
following at the prompt: <span style='font-size:11.0pt;line-height:223%;
font-family:"Courier New"'>const Todos = require('./index');</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.8pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>With <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>require()</span>, we load the TODOs module into a <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>Todos</span>
variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252042240'><span style='left:0px;position:absolute;left:278px;
top:-55504px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Recall
that our module returns the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>Todos</span> class by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.55pt;
margin-left:.25pt;line-height:218%'><span style='position:relative;z-index:
-1895440384'><span style='left:0px;position:absolute;left:12px;top:-55538px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image439.gif"></span></span>Now,
let’s instantiate an object for that class. In the REPL, add this line of code:
<span style='font-size:11.0pt;line-height:218%;font-family:"Courier New"'>const
todos = new Todos();</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We can use the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>todos</span> object to verify our
implementation works. Let’s add our first TODO item:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image440.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252044288'><span
style='left:0px;position:absolute;left:155px;top:-55782px;width:102px;
height:1px'><img width=102 height=1
src="How%20To%20Code%20in%20Node.js_files/image441.gif"></span></span>So far we
have not seen any output in our terminal. Let’s verify that we’ve stored our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;run
code&quot;</span> TODO item by getting a list of all our TODOs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image442.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see this output
in your REPL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image443.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This is the expected result: We have one TODO item in our
array of TODOs, and it’s not completed by default. Let’s add another TODO item:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image444.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.1pt;
margin-left:15.75pt;text-indent:0in'><img width=610 height=1
src="How%20To%20Code%20in%20Node.js_files/image445.gif" align=left hspace=12><img
width=611 height=1 src="How%20To%20Code%20in%20Node.js_files/image446.gif"
align=left hspace=12>Mark the first TODO item as completed:</p>

<p class=MsoNormal style='margin-top:11.75pt;margin-right:.7pt;margin-bottom:
9.1pt;margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL will
output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=172
src="How%20To%20Code%20in%20Node.js_files/image447.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now,
exit the REPL with the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image448.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>We’ve confirmed that our module behaves as we expect it to.
While we didn’t put our code in a test file or use a testing library, we did
test our code manually. Unfortunately, this form of testing becomes time
consuming to do every time we make a change. Next, let’s use automated testing
in Node.js and see if we can solve this problem with the Mocha testing
framework.</p>

<h2 style='margin-left:.5pt'>Step 3 — Writing Your First Test with Mocha and
Assert</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>In the last step, we manually tested our
application. This will work for individual use cases, but as our module scales,
this method becomes less viable. As we test new features, we must be certain
that the added functionality has not created problems in the old functionality.
We would like to test each feature over again for every change in the code, but
doing this by hand would take a lot of effort and would be prone to error.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>A more efficient practice would be to set up automated
tests. These are scripted tests written like any other code block. We run our
functions with defined inputs and inspect their effects to ensure they behave
as we expect. As our codebase grows, so will our automated tests. When we write
new tests alongside the features, we can verify the entire module still
works—all without having to remember how to use each function every time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252047360'><span
style='left:0px;position:absolute;left:70px;top:-57453px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>In this
tutorial, we’re using the Mocha testing framework with the Node.js <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>
module. Let’s get some hands-on experience to see how they work together.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>To
begin, create a new file to store our test code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image449.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252048384'><span
style='left:0px;position:absolute;left:569px;top:-57601px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span>Now use
your preferred text editor to open the test file. You can use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano </span>like
before:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image451.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:.25pt'><span style='position:relative;z-index:252049408'><span
style='left:0px;position:absolute;left:378px;top:-57706px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>In the
first line of the text file, we will load the TODOs module like we did in the
Node.js shell. We will then load the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>assert</span> module for when we write our
tests. Add the following lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=149
src="How%20To%20Code%20in%20Node.js_files/image452.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252050432'><span
style='left:0px;position:absolute;left:58px;top:-57997px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252051456'><span style='left:0px;position:
absolute;left:253px;top:-57997px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>strict</span>
property of the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>assert</span> module will allow us to use special equality tests
that are recommended by Node.js and are good for futureproofing, since they
account for more use cases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Before we go into writing tests, let’s discuss how Mocha
organizes our code. Tests structured in Mocha usually follow this template:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=182
src="How%20To%20Code%20in%20Node.js_files/image453.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252052480'><span
style='left:0px;position:absolute;left:262px;top:-58352px;width:96px;
height:1px'><img width=96 height=1
src="How%20To%20Code%20in%20Node.js_files/image454.gif"></span></span><span
style='position:relative;z-index:252053504'><span style='left:0px;position:
absolute;left:411px;top:-58352px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252054528'><span style='left:0px;position:
absolute;left:514px;top:-58352px;width:98px;height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image455.gif"></span></span>Notice
two key functions: <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>describe()</span> and <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>it()</span>. The <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>describe() </span>function is used
to group similar tests. It’s not required for Mocha to run tests, but grouping
tests make our test code easier to maintain. It’s recommended that you group
your tests in a way that’s easy for you to update similar ones together.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252055552'><span
style='left:0px;position:absolute;left:59px;top:-58484px;width:43px;height:
1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:252056576'><span style='left:0px;position:
absolute;left:300px;top:-58484px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252057600'><span style='left:0px;position:
absolute;left:487px;top:-58484px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252058624'><span style='left:0px;position:
absolute;left:157px;top:-58484px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>it()</span>
contains our test code. This is where we would interact with our module’s
functions and use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>assert</span> library. Many <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>it()</span> functions can be
defined in a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>describe()</span>
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.05pt;
margin-left:.25pt'><span style='position:relative;z-index:252059648'><span
style='left:0px;position:absolute;left:410px;top:-58584px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Our goal
in this section is to use Mocha and <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>assert</span> to automate our manual test.
We’ll do this step-by-step, beginning with our describe block. Add the
following to your file after the module lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image457.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252060672'><span
style='left:0px;position:absolute;left:527px;top:-58907px;width:84px;
height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image230.gif"></span></span><span
style='position:relative;z-index:252061696'><span style='left:0px;position:
absolute;left:1px;top:-58907px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image458.gif"></span></span>With this
code block, we’ve created a grouping for our integrated tests. Unit tests would
test one function at a time. Integration tests verify how well functions within
or across modules work together. When Mocha runs our test, all the tests within
that describe block will run under the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>&quot;integrat ion test&quot;</span>
group.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:17.8pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252062720'><span
style='left:0px;position:absolute;left:123px;top:-59040px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image459.gif"></span></span>Let’s add
an <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>it()</span>
function so we can begin testing our module’s code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=236
src="How%20To%20Code%20in%20Node.js_files/image460.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Notice how descriptive we made the test’s name. If anyone
runs our test, it will be immediately clear what’s passing or failing. A
well-tested application is typically a well-documented application, and tests
can sometimes be an effective kind of documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252063744'><span
style='left:0px;position:absolute;left:339px;top:-59450px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span>For our
first test, we will create a new <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Todos</span> object and verify it has no items
in it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=300
src="How%20To%20Code%20in%20Node.js_files/image461.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:.25pt'><span style='position:relative;z-index:252064768'><span
style='left:0px;position:absolute;left:395px;top:-59789px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>The first
new line of code instantiated a new <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Todos</span> object as we would do in the
Node.js REPL or another module. In the second new line, we use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>
module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895417856'><span
style='left:0px;position:absolute;left:30px;top:-59857px;width:136px;
height:1px'><img width=136 height=1
src="How%20To%20Code%20in%20Node.js_files/image462.gif"></span></span><span
style='position:relative;z-index:252066816'><span style='left:0px;position:
absolute;left:343px;top:-59857px;width:151px;height:1px'><img width=151
height=1 src="How%20To%20Code%20in%20Node.js_files/image463.gif"></span></span><span
style='position:relative;z-index:252067840'><span style='left:0px;position:
absolute;left:590px;top:-59857px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:252068864'><span style='left:0px;position:
absolute;left:1px;top:-59857px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='position:relative;z-index:252069888'><span style='left:0px;position:
absolute;left:452px;top:-59857px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image464.gif"></span></span><span
style='position:relative;z-index:252070912'><span style='left:0px;position:
absolute;left:244px;top:-59857px;width:152px;height:1px'><img width=152
height=1 src="How%20To%20Code%20in%20Node.js_files/image289.gif"></span></span>From
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>
module we use the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>notStrictEqual()</span> method. This function takes two
parameters: the value that we want to test (called the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>ac tual</span> value) and
the value we expect to get (called the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>expected</span> value). If both
arguments are the same, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>notStrictEqual()</span> throws an error to fail the
test.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252071936'><span style='left:0px;position:absolute;left:177px;
top:-59990px;width:125px;height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image465.gif"></span></span>Save and
exit from <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.test.js</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252072960'><span
style='left:0px;position:absolute;left:425px;top:-60025px;width:15px;
height:1px'><img width=15 height=1
src="How%20To%20Code%20in%20Node.js_files/image466.gif"></span></span><span
style='position:relative;z-index:-1895409664'><span style='left:0px;position:
absolute;left:536px;top:-60025px;width:75px;height:1px'><img width=75 height=1
src="How%20To%20Code%20in%20Node.js_files/image467.gif"></span></span>The base
case will be true as the length should be <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>0</span>, which isn’t <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>.
Let’s confirm this by running Mocha. To do this, we need to modify our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>package.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=413
src="How%20To%20Code%20in%20Node.js_files/image468.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.25pt'><span style='position:relative;z-index:252075008'><span
style='left:0px;position:absolute;left:425px;top:-60505px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span><span
style='position:relative;z-index:-1895407616'><span style='left:0px;position:
absolute;left:1px;top:-60505px;width:247px;height:1px'><img width=247 height=1
src="How%20To%20Code%20in%20Node.js_files/image470.gif"></span></span><span
style='position:relative;z-index:-1895406592'><span style='left:0px;position:
absolute;left:407px;top:-60505px;width:204px;height:1px'><img width=204
height=1 src="How%20To%20Code%20in%20Node.js_files/image471.gif"></span></span>We
have just changed the behavior of npm’s CLI <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>test</span> command. When we run <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm test</span>,
npm will review the command we just entered in <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>packag e.json</span>. It will look
for the Mocha library in our <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>node_modules</span> folder and run the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>mocha</span>
command with our test file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.0pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>package.json</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Let’s
see what happens when we run our test. In your terminal, enter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image472.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The command will produce
the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=364
src="How%20To%20Code%20in%20Node.js_files/image473.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252078080'><span
style='left:0px;position:absolute;left:280px;top:-61179px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span>This
output first shows us which group of tests it is about to run. For every
individual test within a group, the test case is indented. We see our test name
as we described it in the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>it()</span> function. The tick at the left side of
the test case indicates that the test passed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>At the bottom, we get a summary of all our tests. In our
case, our one test is passing and was completed in 16ms (the time varies from
computer to computer).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Our testing has started with success. However, this current
test case can allow for false-positives. A false-positive is a test case that
passes when it should fail.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252079104'><span
style='left:0px;position:absolute;left:544px;top:-61412px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image474.gif"></span></span>We
currently check that the length of the array is not equal to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>.
Let’s modify the test so that this condition holds true when it should not. Add
the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=425
src="How%20To%20Code%20in%20Node.js_files/image475.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>We
added two TODO items. Let’s run the test to see what happens:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image476.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This will give the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=236
src="How%20To%20Code%20in%20Node.js_files/image477.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This passes as expected, as the length is greater than 1.
However, it defeats the original purpose of having that first test. The first
test is meant to confirm that we start on a blank state. A better test will
confirm that in all cases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252080128'><span
style='left:0px;position:absolute;left:302px;top:-62485px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image465.gif"></span></span>Let’s
change the test so it only passes if we have absolutely no TODOs in store. Make
the following changes to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>index.test.js</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=364
src="How%20To%20Code%20in%20Node.js_files/image478.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252081152'><span
style='left:0px;position:absolute;left:146px;top:-62956px;width:151px;
height:1px'><img width=151 height=1
src="How%20To%20Code%20in%20Node.js_files/image479.gif"></span></span><span
style='position:relative;z-index:252082176'><span style='left:0px;position:
absolute;left:338px;top:-62956px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image480.gif"></span></span>You
changed <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>notStrictEqual()</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>strictEqual()</span>,
a function that checks for equality between its actual and expected argument.
Strict equal will fail if our arguments are not exactly the same.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit, then run the test so we can see what happens:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image481.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>This
time, the output will show an error:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image482.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=75
src="How%20To%20Code%20in%20Node.js_files/image483.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This text will be useful for us to debug why the test
failed. Notice that since the test failed there was no tick at the beginning of
the test case.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Our test summary is no longer at the bottom of the output,
but right after our list of test cases were displayed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=150
src="How%20To%20Code%20in%20Node.js_files/image484.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>The remaining output provides us with data about our failing
tests. First, we see what test case has failed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=150
src="How%20To%20Code%20in%20Node.js_files/image485.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Then,
we see why our test failed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=470
src="How%20To%20Code%20in%20Node.js_files/image486.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895400448'><span
style='left:0px;position:absolute;left:1px;top:-65282px;width:182px;height:
1px'><img width=182 height=1
src="How%20To%20Code%20in%20Node.js_files/image487.gif"></span></span><span
style='position:relative;z-index:-1895399424'><span style='left:0px;position:
absolute;left:316px;top:-65282px;width:123px;height:1px'><img width=123
height=1 src="How%20To%20Code%20in%20Node.js_files/image488.gif"></span></span>An
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>AssertionError</span>
is thrown when <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>strictEqual()</span>
fails. We see that the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>expected</span> value, 0, is different from the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>actual</span>
value, 2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We then see the line in our test file where the code fails.
In this case, it’s line 10.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now, we’ve seen for ourselves that our test will fail if we
expect incorrect values. Let’s change our test case back to its right value.
First, open the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image489.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252085248'><span
style='left:0px;position:absolute;left:185px;top:-65506px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span>Then take
out the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>todos.add</span>
lines so that your code looks like the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=323
src="How%20To%20Code%20in%20Node.js_files/image491.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Run it once more to confirm that it passes without any
potential falsepositives:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image492.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
output will be as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=236
src="How%20To%20Code%20in%20Node.js_files/image493.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252086272'><span
style='left:0px;position:absolute;left:572px;top:-66343px;width:39px;
height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span>We’ve now
improved our test’s resiliency quite a bit. Let’s move forward with our
integration test. The next step is to add a new TODO item to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>inde</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=521
src="How%20To%20Code%20in%20Node.js_files/image494.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895396352'><span
style='left:0px;position:absolute;left:146px;top:-66932px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image495.gif"></span></span><span
style='position:relative;z-index:-1895395328'><span style='left:0px;position:
absolute;left:293px;top:-66932px;width:318px;height:1px'><img width=318
height=1 src="How%20To%20Code%20in%20Node.js_files/image496.gif"></span></span><span
style='position:relative;z-index:252089344'><span style='left:0px;position:
absolute;left:1px;top:-66932px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span><span
style='position:relative;z-index:-1895393280'><span style='left:0px;position:
absolute;left:377px;top:-66932px;width:71px;height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image497.gif"></span></span><span
style='position:relative;z-index:252091392'><span style='left:0px;position:
absolute;left:572px;top:-66932px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:252092416'><span style='left:0px;position:
absolute;left:1px;top:-66932px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span><span
style='position:relative;z-index:252093440'><span style='left:0px;position:
absolute;left:170px;top:-66932px;width:88px;height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image498.gif"></span></span>After
using the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>add()</span>
function, we confirm that we now have one TODO being managed by our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>todos</span>
object with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>strictEqual()</span>.
Our next test confirms the data in the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>todos</span> with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>deepStrictEqual()</span>.
The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>deepStrictEq
ual()</span> function recursively tests that our expected and actual objects
have the same properties. In this case, it tests that the arrays we expect both
have a JavaScript object within them. It then checks that their JavaScript
objects have the same properties, that is, that both their <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>title</span>
properties are <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;run
code&quot;</span> and both their <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>completed</span> properties are <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>false</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We then complete the remaining tests using these two
equality checks as needed by adding the following highlighted lines:<br
clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image499.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=171
src="How%20To%20Code%20in%20Node.js_files/image500.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Our test now mimics our manual test. With these programmatic
tests, we don’t need to check the output continuously if our tests pass when we
run them. You typically want to test every aspect of use to make sure the code
is tested properly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:26.1pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=294 src="How%20To%20Code%20in%20Node.js_files/image501.gif"></span>Let’s
run our test with <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>npm test</span> once more to get this familiar output:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252094464'><span
style='left:0px;position:absolute;left:1px;top:-68833px;width:61px;height:1px'><img
width=61 height=1 src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span>You’ve
now set up an integrated test with the Mocha framework and the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>
library.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252095488'><span
style='left:0px;position:absolute;left:174px;top:-68866px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='position:relative;z-index:252096512'><span style='left:0px;position:
absolute;left:514px;top:-68866px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span>Let’s
consider a situation where we’ve shared our module with some other developers
and they’re now giving us feedback. A good portion of our users would like the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>complete()</span>
function to return an error if no TODOs were added as of yet. Let’s add this
functionality in our <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>complete() </span>function.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image503.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Add
the following to the function:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=750
src="How%20To%20Code%20in%20Node.js_files/image504.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252097536'><span
style='left:0px;position:absolute;left:155px;top:-69975px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Now let’s
add a new test for this new feature. We want to verify that if we call complete
on a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Todos</span>
object that has no items, it will return our special error.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image505.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>At the end of the file,
add the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=451
src="How%20To%20Code%20in%20Node.js_files/image506.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895385088'><span
style='left:0px;position:absolute;left:42px;top:-70680px;width:219px;
height:1px'><img width=219 height=1
src="How%20To%20Code%20in%20Node.js_files/image507.gif"></span></span><span
style='position:relative;z-index:252099584'><span style='left:0px;position:
absolute;left:141px;top:-70680px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>We use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>describe()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>it()</span>
like before. Our test begins with creating a new <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>todos</span> object. We then define
the error we are expecting to receive when we call the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>complete()</span> function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252100608'><span
style='left:0px;position:absolute;left:160px;top:-70779px;width:78px;
height:1px'><img width=78 height=1
src="How%20To%20Code%20in%20Node.js_files/image508.gif"></span></span><span
style='position:relative;z-index:252101632'><span style='left:0px;position:
absolute;left:367px;top:-70779px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Next, we
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>throws()</span>
function of the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>assert</span> module. This function was created so we can verify
the errors that are thrown in our code. Its first argument is a function that
contains the code that throws the error. The second argument is the error we
are expecting to receive.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252102656'><span
style='left:0px;position:absolute;left:321px;top:-70912px;width:80px;
height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image509.gif"></span></span>In your
terminal, run the tests with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>npm test</span> once again and you will now see the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=332
src="How%20To%20Code%20in%20Node.js_files/image510.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252103680'><span
style='left:0px;position:absolute;left:98px;top:-71354px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252104704'><span style='left:0px;position:
absolute;left:581px;top:-71354px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252105728'><span style='left:0px;position:
absolute;left:1px;top:-71354px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>This
output highlights the benefit of why we do automated testing with Mocha and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>assert</span>.
Because our tests are scripted, every time we run <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>npm test</span>, we verify that all
our tests are passing. We did not need to manually check if the other code is
still working; we know that it is because the test we have still passed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>So far, our tests have verified the results of synchronous
code. Let’s see how we would need to adapt our newfound testing habits to work
with asynchronous code.</p>

<h2 style='margin-left:.5pt'>Step 4 — Testing Asynchronous Code</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252106752'><span
style='left:0px;position:absolute;left:361px;top:-71596px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>One of
the features we want in our TODO module is a CSV export feature. This will
print all the TODOs we have in store along with the completed status to a file.
This requires that we use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module—a built-in Node.js module for
working with the file system.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.1pt;
margin-left:.25pt'><span style='position:relative;z-index:252107776'><span
style='left:0px;position:absolute;left:524px;top:-71696px;width:87px;
height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image511.gif"></span></span><span
style='position:relative;z-index:252108800'><span style='left:0px;position:
absolute;left:1px;top:-71696px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>Writing
to a file is an <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>as</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous o</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>eration</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a> There are many ways to
write to a file in Node.js. We can use callbacks, Promises, or the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async</span>/<span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>awa it</span>
keywords. In this section, we’ll look at how we write tests for those different
methods.</p>

<h3 style='margin-left:.5pt'>Callbacks</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>A callback function is one used as an
argument to an asynchronous function. It is called when the asynchronous
operation is completed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252109824'><span
style='left:0px;position:absolute;left:274px;top:-71924px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image512.gif"></span></span><span
style='position:relative;z-index:252110848'><span style='left:0px;position:
absolute;left:445px;top:-71924px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span>Let’s
add a function to our <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Todos</span> class called <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>saveToFile()</span>. This
function will build a string by looping through all our TODO items and writing
that string to a file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image513.gif"></span>Open
your <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.js</span>
file:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
this file, add the following highlighted code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image514.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.9pt;
margin-bottom:0in;margin-left:-76.25pt;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=589
 style='width:441.75pt;margin-left:8.85pt;border-collapse:collapse'>
 <tr style='height:9.0in'>
  <td width=589 style='width:441.75pt;border-top:none;border-left:solid #F2F2F2 1.0pt;
  border-bottom:none;border-right:solid #F2F2F2 1.0pt;background:#F2F2F2;
  padding:0in 5.75pt 0in 7.6pt;height:9.0in'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:150.7pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  187%'><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>       
  let todoFound = false         this.todos.forEach((todo) =&gt; {             if
  (todo.title === title) {                 todo.completed =
  true;                 todoFound = true;                 return; </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>            } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>        }); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:8.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  187%'><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>       
  if (!todoFound) {             throw new Error(`No TODO was found with the
  title: </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>&quot;${title}&quot;`); </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>        } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:387.75pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  187%'><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>   
  }  </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>    </span><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#EF2929'>saveToFile(callback) {</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:187%'><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New"'>        </span><b><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#EF2929'>let fileContents =
  'Title,Completed\n';</span></b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New"'>         </span><b><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>this.todos.forEach((todo)
  =&gt; {</span></b><span style='font-size:11.0pt;line-height:187%;font-family:
  "Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:1.7pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  187%'><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>           
  </span><b><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#EF2929'>fileContents += `${todo.title},${todo.completed}\n `</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>        </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#EF2929'>});</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>        </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#EF2929'>fs.writeFile('todos.csv',
  fileContents, callback);</span></b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New"'> </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>    } </span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:414.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  187%'><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>} 
  </span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New"'>module.exports = Todos;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=11 id="Group 241690"
src="How%20To%20Code%20in%20Node.js_files/image515.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252111872'><span
style='left:0px;position:absolute;left:254px;top:-73956px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252112896'><span style='left:0px;position:
absolute;left:42px;top:-73956px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:252113920'><span style='left:0px;position:
absolute;left:71px;top:-73956px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span><span
style='position:relative;z-index:252114944'><span style='left:0px;position:
absolute;left:338px;top:-73956px;width:88px;height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span><span
style='position:relative;z-index:252115968'><span style='left:0px;position:
absolute;left:111px;top:-73956px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span><span
style='position:relative;z-index:252116992'><span style='left:0px;position:
absolute;left:213px;top:-73956px;width:89px;height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image330.gif"></span></span><span
style='position:relative;z-index:252118016'><span style='left:0px;position:
absolute;left:560px;top:-73956px;width:51px;height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>We first
have to import the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>fs</span> module in our file. Then we added our new <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>saveToFile()</span>
function. Our function takes a callback function that will be used once the
file write operation is complete. In that function, we create a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fileContents</span>
variable that stores the entire string we want to be saved as a file. It’s
initialized with the CSV’s headers. We then loop through each TODO item with
the internal array’s <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>forEach()</span> method. As we iterate, we add the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>title</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>completed</span>
properties of the individual <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>todos </span>objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252119040'><span
style='left:0px;position:absolute;left:187px;top:-74155px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252120064'><span style='left:0px;position:
absolute;left:505px;top:-74155px;width:106px;height:1px'><img width=106
height=1 src="How%20To%20Code%20in%20Node.js_files/image516.gif"></span></span><span
style='position:relative;z-index:-1895362560'><span style='left:0px;position:
absolute;left:336px;top:-74155px;width:123px;height:1px'><img width=123
height=1 src="How%20To%20Code%20in%20Node.js_files/image517.gif"></span></span>Finally,
we use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module to write the file with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>writeFile() </span>function. Our first argument
is the file name: <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>todos.csv</span>. The second is the contents of the file, in
this case, our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fileContents</span>
variable. Our last argument is our callback function, which handles any file
writing errors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252122112'><span
style='left:0px;position:absolute;left:276px;top:-74320px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>Let’s now
write a test for our <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>saveToFile()</span> function. Our test will do two things:
confirm that the file exists in the first place, and then verify that it has
the right contents.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=164
src="How%20To%20Code%20in%20Node.js_files/image518.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=172
src="How%20To%20Code%20in%20Node.js_files/image519.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Now, at the end of the
file let’s add our new test case:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=547
src="How%20To%20Code%20in%20Node.js_files/image520.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252123136'><span
style='left:0px;position:absolute;left:195px;top:-75350px;width:98px;
height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image334.gif"></span></span><span
style='position:relative;z-index:252124160'><span style='left:0px;position:
absolute;left:394px;top:-75350px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252125184'><span style='left:0px;position:
absolute;left:250px;top:-75350px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span><span
style='position:relative;z-index:252126208'><span style='left:0px;position:
absolute;left:347px;top:-75350px;width:62px;height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span>Like
before, we use <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>describe()</span>
to group our test separately from the others as it involves new functionality.
The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>it()</span>
function is slightly different from our other ones. Usually, the callback
function we use has no arguments. This time, we have <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>done</span> as an argument.
We need this argument when testing functions with callbacks. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>done()</span>
callback function is used by Mocha to tell it when an asynchronous function is
completed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252127232'><span
style='left:0px;position:absolute;left:551px;top:-75516px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>All
callback functions being tested in Mocha must call the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>done() </span>callback. If
not, Mocha would never know when the function was complete and would be stuck
waiting for a signal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895355392'><span
style='left:0px;position:absolute;left:113px;top:-75616px;width:175px;
height:1px'><img width=175 height=1
src="How%20To%20Code%20in%20Node.js_files/image522.gif"></span></span>Continuing,
we create our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Todos</span>
instance and add a single item to it. We then call the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>saveToFile()</span>
function, with a callback that captures a file writing error. Note how our test
for this function resides in the callback. If our test code was outside the
callback, it would fail as long as the code was called before the file writing
completed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>In our callback function,
we first check that our file exists:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image523.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895354368'><span
style='left:0px;position:absolute;left:64px;top:-76007px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image524.gif"></span></span><span
style='position:relative;z-index:252130304'><span style='left:0px;position:
absolute;left:363px;top:-76007px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs.existsSync()</span>
function returns <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>true</span> if the file path in its argument exists, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>false</span>
otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252131328'><span
style='left:0px;position:absolute;left:108px;top:-76073px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:252132352'><span style='left:0px;position:
absolute;left:260px;top:-76073px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252133376'><span style='left:0px;position:
absolute;left:75px;top:-76073px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><b>Note:</b>
The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module’s functions are asynchronous by default. However, for key functions,
they made synchronous counterparts. This test is simpler by using synchronous
functions, as we don’t have to nest the asynchronous code to ensure it works.
In the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module, synchronous functions usually end with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>&quot;Sync&quot;</span> at the end
of their names.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>We then create a variable
to store our expected value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=195
src="How%20To%20Code%20in%20Node.js_files/image525.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.2pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=598 height=241
src="How%20To%20Code%20in%20Node.js_files/image526.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.55pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895349248'><span
style='left:0px;position:absolute;left:62px;top:-76759px;width:277px;
height:1px'><img width=277 height=1
src="How%20To%20Code%20in%20Node.js_files/image527.gif"></span></span><span
style='position:relative;z-index:252135424'><span style='left:0px;position:
absolute;left:545px;top:-76759px;width:66px;height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image528.gif"></span></span><span
style='position:relative;z-index:252136448'><span style='left:0px;position:
absolute;left:1px;top:-76759px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252137472'><span style='left:0px;position:
absolute;left:88px;top:-76759px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>We now
provide <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>readFileSync()</span>
with the right path for the file: <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>todos.c sv</span>. As <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>readFileSync()</span>
returns a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Buffer</span>
object, which stores binary data, we use its <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>toString()</span> method so we can
compare its value with the string we expect to have saved.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252138496'><span
style='left:0px;position:absolute;left:258px;top:-76861px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252139520'><span style='left:0px;position:
absolute;left:419px;top:-76861px;width:106px;height:1px'><img width=106
height=1 src="How%20To%20Code%20in%20Node.js_files/image516.gif"></span></span>Like
before, we use the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>assert</span> module’s <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>strictEqual</span> to do a comparison:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image529.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252140544'><span
style='left:0px;position:absolute;left:290px;top:-77118px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>We end
our test by calling the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>done()</span> callback, ensuring that Mocha knows to
stop testing that case:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image530.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252141568'><span
style='left:0px;position:absolute;left:153px;top:-77408px;width:33px;
height:1px'><img width=33 height=1
src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span><span
style='position:relative;z-index:252142592'><span style='left:0px;position:
absolute;left:272px;top:-77408px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>We
provide the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>err</span>
object to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>done()</span>
so Mocha can fail the test in the case an error occurred.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.35pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit from <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.test.js</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895340032'><span
style='left:0px;position:absolute;left:177px;top:-77510px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image532.gif"></span></span>Let’s run
this test with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm
test</span> like before. Your console will display this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=428
src="How%20To%20Code%20in%20Node.js_files/image533.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>You’ve now tested your first asynchronous function with
Mocha using callbacks. But at the time of writing this tutorial, Promises are
more <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:black;text-decoration:none'>prevalent than callbacks in new
Node.js code, as explained in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:black;text-decoration:none'> article. Next, let’s learn how we can
</span></a>test them with Mocha as well.</p>

<h3 style='margin-left:.5pt'>Promises</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>A <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#using-promises-for-concise-asynchronous-programming"><span
style='color:#3445FF'>Promise</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#using-promises-for-concise-asynchronous-programming"><span
style='color:black;text-decoration:none'> </span></a>is a JavaScript object
that will eventually return a value. When a Promise is successful, it is
resolved. When it encounters an error, it is rejected.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895339008'><span
style='left:0px;position:absolute;left:162px;top:-78271px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image534.gif"></span></span>Let’s
modify the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>saveToFile()</span>
function so that it uses Promises instead of callbacks. Open up <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>index.js</span>:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895337984'><span
style='left:0px;position:absolute;left:12px;top:-78339px;width:600px;
height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image239.gif"></span></span>First, we
need to change how the <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>fs</span> module is loaded. In your <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>index.js</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=201
src="How%20To%20Code%20in%20Node.js_files/image535.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252146688'><span
style='left:0px;position:absolute;left:195px;top:-78605px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:252147712'><span style='left:0px;position:
absolute;left:327px;top:-78605px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image536.gif"></span></span>We
just imported the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>fs</span> module that uses Promises instead of callbacks. Now,
we need to make some changes to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>saveToFile()</span> so that it works with Promises
instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252148736'><span
style='left:0px;position:absolute;left:497px;top:-78672px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span>In your
text editor, make the following changes to the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>saveToFile() </span>function to
remove the callbacks:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=364
src="How%20To%20Code%20in%20Node.js_files/image537.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.6pt;
margin-left:.25pt'><span style='position:relative;z-index:252149760'><span
style='left:0px;position:absolute;left:526px;top:-79142px;width:84px;
height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image230.gif"></span></span><span
style='position:relative;z-index:252150784'><span style='left:0px;position:
absolute;left:1px;top:-79142px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>The first
difference is that our function no longer accepts any arguments. With Promises
we don’t need a callback function. The second change concerns how the file is
written. We now return the result of the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>writeFile ()</span> promise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.1in;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252151808'><span style='left:0px;position:absolute;left:197px;
top:-79243px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>Save and
close out of <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.js</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252152832'><span
style='left:0px;position:absolute;left:545px;top:-79278px;width:66px;
height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image528.gif"></span></span>Let’s now
adapt our test so that it works with Promises. Open up <span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New"'>index.t</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=133
src="How%20To%20Code%20in%20Node.js_files/image538.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=556
src="How%20To%20Code%20in%20Node.js_files/image539.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252153856'><span
style='left:0px;position:absolute;left:434px;top:-80034px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252154880'><span style='left:0px;position:
absolute;left:292px;top:-80034px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>The first
change we need to make is to remove the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>done()</span> callback from its
arguments. If Mocha passes the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>done()</span> argument, it needs to be called or it
will throw an error like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:219.5pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>1) saveToFile()        should save a single TODO: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:34.25pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1895327744'><span
style='left:0px;position:absolute;left:12px;top:-80196px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>     Error:
Timeout of 2000ms exceeded. For async tests and ho oks, ensure
&quot;done()&quot; is called; if returning a Promise, ensure it resolves.
(/home/ubuntu/todos/index.test.js)       at listOnTimeout
(internal/timers.js:536:17)       at processTimers (internal/timers.js:480:7)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252156928'><span style='left:0px;position:absolute;left:364px;
top:-80398px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>When
testing Promises, do not include the <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>done()</span> callback in <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>it()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895325696'><span
style='left:0px;position:absolute;left:521px;top:-80433px;width:91px;
height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image541.gif"></span></span><span
style='position:relative;z-index:252158976'><span style='left:0px;position:
absolute;left:1px;top:-80433px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252160000'><span style='left:0px;position:
absolute;left:292px;top:-80433px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>To test
our promise, we need to put our assertion code in the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>then() </span>function.
Notice that we return this promise in the test, and we don’t have a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catch()</span>
function to catch when the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Promise</span> is rejected.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252161024'><span
style='left:0px;position:absolute;left:551px;top:-80533px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image542.gif"></span></span><span
style='position:relative;z-index:252162048'><span style='left:0px;position:
absolute;left:254px;top:-80533px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image543.gif"></span></span><span
style='position:relative;z-index:252163072'><span style='left:0px;position:
absolute;left:32px;top:-80533px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252164096'><span style='left:0px;position:
absolute;left:152px;top:-80533px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>We return
the promise so that any errors that are thrown in the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>then() </span>function are
bubbled up to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>it()</span> function. If the errors are not bubbled up, Mocha
will not fail the test case. When testing Promises, you need to use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>return</span>
on the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Promise</span>
being tested. If not, you run the risk of getting a false-positive.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252165120'><span
style='left:0px;position:absolute;left:178px;top:-80666px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>We also
omit the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catch()</span>
clause because Mocha can detect when a promise is rejected. If rejected, it
automatically fails the test.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252166144'><span
style='left:0px;position:absolute;left:41px;top:-80732px;width:79px;height:
1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>Now that
we have our test in place, save and exit the file, then run Mocha with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm test</span>
and to confirm we get a successful result:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=428
src="How%20To%20Code%20in%20Node.js_files/image544.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt;line-height:168%'><span style='position:relative;z-index:
-1895316480'><span style='left:0px;position:absolute;left:442px;top:-81266px;
width:169px;height:1px'><img width=169 height=1
src="How%20To%20Code%20in%20Node.js_files/image545.gif"></span></span><span
style='position:relative;z-index:252168192'><span style='left:0px;position:
absolute;left:1px;top:-81266px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>We’ve
changed our code and test to use Promises, and now we know for sure that it
works. But the most recent asynchronous patterns use <span style='font-size:
11.0pt;line-height:168%;font-family:"Courier New"'>async</span>/<span
style='font-size:11.0pt;line-height:168%;font-family:"Courier New"'>aw ait</span>
keywords so we don’t have to create multiple <span style='font-size:11.0pt;
line-height:168%;font-family:"Courier New"'>then()</span> functions to handle
successful results. Let’s see how we can test with <span style='font-size:11.0pt;
line-height:168%;font-family:"Courier New"'>async</span>/<span
style='font-size:11.0pt;line-height:168%;font-family:"Courier New"'>await</span>.
<b><span style='font-family:"Arial",sans-serif'>async/await</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252169216'><span
style='left:0px;position:absolute;left:41px;top:-81427px;width:108px;
height:1px'><img width=108 height=1
src="How%20To%20Code%20in%20Node.js_files/image546.gif"></span></span><span
style='position:relative;z-index:-1895313408'><span style='left:0px;position:
absolute;left:434px;top:-81427px;width:178px;height:1px'><img width=178
height=1 src="How%20To%20Code%20in%20Node.js_files/image547.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async</span>/<span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>await</span>
keywords make working with Promises less verbose. Once we define a function as
asynchronous with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>async</span> keyword, we can get any future results
in that function with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>await</span> keyword. This way we can use Promises
without having to use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>then()</span> or <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>catch() </span>functions.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-2.65pt;
margin-bottom:28.45pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=615 height=621
src="How%20To%20Code%20in%20Node.js_files/image548.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252171264'><span
style='left:0px;position:absolute;left:421px;top:-82220px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image549.gif"></span></span><span
style='position:relative;z-index:252172288'><span style='left:0px;position:
absolute;left:31px;top:-82220px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252173312'><span style='left:0px;position:
absolute;left:560px;top:-82220px;width:51px;height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>The first
change is that the function used by the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>it()</span> function now has the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async</span>
keyword when it’s defined. This allows us to the use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>await </span>keyword
inside its body.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252174336'><span
style='left:0px;position:absolute;left:391px;top:-82287px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image550.gif"></span></span><span
style='position:relative;z-index:252175360'><span style='left:0px;position:
absolute;left:560px;top:-82287px;width:51px;height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image551.gif"></span></span>The
second change is found when we call <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>saveToFile()</span>. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>await </span>keyword
is used before it is called. Now Node.js knows to wait until this function is
resolved before continuing the test.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.0pt;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=616 height=555
src="How%20To%20Code%20in%20Node.js_files/image552.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We can now test asynchronous functions using any of three
asynchronous paradigms appropriately.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>We have covered a lot of ground with testing synchronous and
asynchronous code with Mocha. Next, let’s dive in a bit deeper to some other
functionality that Mocha offers to improve our testing experience, particularly
how hooks can change test environments.</p>

<h2 style='margin-left:.5pt'>Step 5 — Using Hooks to Improve Test Cases</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252176384'><span
style='left:0px;position:absolute;left:562px;top:-83212px;width:49px;
height:1px'><img width=49 height=1
src="How%20To%20Code%20in%20Node.js_files/image553.gif"></span></span><span
style='position:relative;z-index:252177408'><span style='left:0px;position:
absolute;left:1px;top:-83212px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image554.gif"></span></span>Hooks are
a useful feature of Mocha that allows us to configure the environment before
and after a test. We typically add hooks within a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>descr ibe()</span> function block,
as they contain setup and teardown logic specific to some test cases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.6pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Mocha provides four hooks
that we can use in our tests:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:8.6pt;margin-bottom:.25pt;
margin-left:33.0pt;text-indent:0in'><span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>before</span>: This hook is run once before the
first test begins. <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>beforeEach</span>: This hook is run before every test case.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.6pt;
margin-left:33.0pt;text-indent:0in'><span style='position:relative;z-index:
-1895305216'><span style='left:0px;position:absolute;left:22px;top:-83431px;
width:116px;height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image555.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>after</span>:
This hook is run once after the last test case is complete. <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>afterEach</span>:
This hook is run after every test case.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252179456'><span
style='left:0px;position:absolute;left:560px;top:-83518px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>When we
test a function or feature multiple times, hooks come in handy as they allow us
to separate the test’s setup code (like creating the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>todos </span>object) from
the test’s assertion code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252180480'><span
style='left:0px;position:absolute;left:462px;top:-83618px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image550.gif"></span></span>To see
the value of hooks, let’s add more tests to our <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>saveToFile()</span> test block.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>While we have confirmed that we can save our TODO items to a
file, we only saved one item. Furthermore, the item was not marked as
completed. Let’s add more tests to be sure that the various aspects of our
module works.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252181504'><span
style='left:0px;position:absolute;left:434px;top:-83751px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>First,
let’s add a second test to confirm that our file is saved correctly when we
have a completed a TODO item. Open your <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>index.test.js</span> file in your
text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image557.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Change
the last test to the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image558.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=107
src="How%20To%20Code%20in%20Node.js_files/image559.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895301120'><span
style='left:0px;position:absolute;left:1px;top:-84926px;width:159px;height:
1px'><img width=159 height=1
src="How%20To%20Code%20in%20Node.js_files/image560.gif"></span></span><span
style='position:relative;z-index:-1895300096'><span style='left:0px;position:
absolute;left:355px;top:-84926px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image561.gif"></span></span><span
style='position:relative;z-index:-1895299072'><span style='left:0px;position:
absolute;left:524px;top:-84926px;width:87px;height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image562.gif"></span></span><span
style='position:relative;z-index:252185600'><span style='left:0px;position:
absolute;left:255px;top:-84926px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>The test
is similar to what we had before. The key differences are that we call the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>complete()</span>
function before we call <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>saveToFile()</span>, and that our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exp
ectedFileContents</span> now have <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>true</span> instead of <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>false</span> for the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>completed </span>column’s
value.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image563.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>This
will give the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=460
src="How%20To%20Code%20in%20Node.js_files/image564.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252186624'><span
style='left:0px;position:absolute;left:214px;top:-85686px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>It works
as expected. There is, however, room for improvement. They both have to
instantiate a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Todos</span>
object at the beginning of the test. As we add more test cases, this quickly
becomes repetitive and memory-wasteful. Also, each time we run the test, it
creates a file. This can be mistaken for real output by someone less familiar
with the module. It would be nice if we cleaned up our output files after
testing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252187648'><span
style='left:0px;position:absolute;left:535px;top:-85852px;width:76px;
height:1px'><img width=76 height=1
src="How%20To%20Code%20in%20Node.js_files/image565.gif"></span></span><span
style='position:relative;z-index:252188672'><span style='left:0px;position:
absolute;left:1px;top:-85852px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='position:relative;z-index:-1895293952'><span style='left:0px;position:
absolute;left:553px;top:-85852px;width:58px;height:1px'><img width=58 height=1
src="How%20To%20Code%20in%20Node.js_files/image566.gif"></span></span><span
style='position:relative;z-index:252190720'><span style='left:0px;position:
absolute;left:1px;top:-85852px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span>Let’s
make these improvements using test hooks. We’ll use the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>beforeEa ch()</span> hook to
set up our test fixture of TODO items. A test fixture is any consistent state
used in a test. In our case, our test fixture is a new <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>todos </span>object that has
one TODO item added to it already. We will then use <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>afterE ach()</span> to
remove the file created by the test.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;line-height:163%'><span style='position:relative;z-index:
-1895291904'><span style='left:0px;position:absolute;left:1px;top:-85985px;
width:165px;height:1px'><img width=165 height=1
src="How%20To%20Code%20in%20Node.js_files/image567.gif"></span></span><span
style='position:relative;z-index:-1895290880'><span style='left:0px;position:
absolute;left:563px;top:-85985px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span>In <span
style='font-size:11.0pt;line-height:163%;font-family:"Courier New"'>index.test.js</span>,
make the following changes to your last test for <span style='font-size:11.0pt;
line-height:163%;font-family:"Courier New"'>saveT oFile()</span>:<br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image568.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=363
src="How%20To%20Code%20in%20Node.js_files/image569.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252193792'><span
style='left:0px;position:absolute;left:496px;top:-87348px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image550.gif"></span></span>Let’s
break down all the changes we’ve made. We added a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>beforeEach() </span>block to the
test block:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image570.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895288832'><span
style='left:0px;position:absolute;left:198px;top:-87696px;width:182px;
height:1px'><img width=182 height=1
src="How%20To%20Code%20in%20Node.js_files/image571.gif"></span></span><span
style='position:relative;z-index:252195840'><span style='left:0px;position:
absolute;left:425px;top:-87696px;width:114px;height:1px'><img width=114
height=1 src="How%20To%20Code%20in%20Node.js_files/image197.gif"></span></span><span
style='position:relative;z-index:-1895286784'><span style='left:0px;position:
absolute;left:35px;top:-87696px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image572.gif"></span></span><span
style='position:relative;z-index:252197888'><span style='left:0px;position:
absolute;left:424px;top:-87696px;width:42px;height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>These two
lines of code create a new <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Todos</span> object that will be available in each
of our tests. With Mocha, the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>this</span> object in <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>beforeEach()</span> refers to the
same <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>this</span>
object in <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>it()</span>.
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>this</span>
is the same for every code block inside the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>describe()</span> block. For more
information on <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>this</span>,
see our tutorial <a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'>Understandin</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'> This</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'> Bind</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'> Call</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'> and Ap</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'>l</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'> in JavaScri</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/conceptual_articles/understanding-this-bind-call-and-apply-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This powerful context sharing is why we can quickly create
test fixtures that work for both of our tests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:26.1pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=366 src="How%20To%20Code%20in%20Node.js_files/image573.gif"></span>We
then clean up our CSV file in the <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>afterEach()</span> function:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252198912'><span
style='left:0px;position:absolute;left:275px;top:-88328px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>If our
test failed, then it may not have created a file. That’s why we check if the
file exists before we use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>unlinkSync()</span> function to delete it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895283712'><span
style='left:0px;position:absolute;left:359px;top:-88395px;width:141px;
height:1px'><img width=141 height=1
src="How%20To%20Code%20in%20Node.js_files/image574.gif"></span></span><span
style='position:relative;z-index:252200960'><span style='left:0px;position:
absolute;left:210px;top:-88395px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image543.gif"></span></span><span
style='position:relative;z-index:252201984'><span style='left:0px;position:
absolute;left:1px;top:-88395px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image575.gif"></span></span>The
remaining changes switch the reference from <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>todos</span>, which were previously
created in the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>it()</span>
function, to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>this.todos</span>
which is available in the Mocha context. We also deleted the lines that
previously instantiated <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>todos</span> in the individual test cases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252203008'><span
style='left:0px;position:absolute;left:510px;top:-88494px;width:81px;
height:1px'><img width=81 height=1
src="How%20To%20Code%20in%20Node.js_files/image576.gif"></span></span>Now,
let’s run this file to confirm our tests still work. Enter <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>npm test</span>
in your terminal to get:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=460
src="How%20To%20Code%20in%20Node.js_files/image577.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.35pt;
margin-left:.25pt'><span style='position:relative;z-index:252204032'><span
style='left:0px;position:absolute;left:254px;top:-89064px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span>The
results are the same, and as a benefit, we have slightly reduced the setup time
for new tests for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>saveToFile()</span> function and found a solution to
the residual CSV file.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252205056'><span
style='left:0px;position:absolute;left:551px;top:-89195px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image578.gif"></span></span>In this
tutorial, you wrote a Node.js module to manage TODO items and tested the code
manually using the Node.js REPL. You then created a test file and used the
Mocha framework to run automated tests. With the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>assert </span>module, you were able
to verify that your code works. You also tested synchronous and asynchronous
functions with Mocha. Finally, you created hooks with Mocha that make writing
multiple related test cases much more readable and maintainable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Equipped with this understanding, challenge yourself to
write tests for new Node.js modules that you are creating. Can you think about
the inputs and outputs of your function and write your test before you write
your code?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>If you would like more information about the Mocha testing
framework, check out the <a href="https://mochajs.org/#getting-started"><span
style='color:#3445FF'>official Mocha documentation</span></a>. If you’d like to
continue learning Node.js, you can return to the <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Create a Web Server in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s with the HTTP Module</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When you view a webpage in your browser, you are making a
request to another computer on the internet, which then provides you the
webpage as a response. That computer you are talking to via the internet is a
web server. A web server receives HTTP requests from a client, like your
browser, and provides an HTTP response, like an HTML page or <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>JSON</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>from an API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>A lot of software is involved for a server to return a
webpage. This software generally falls into two categories: frontend and
backend. Frontend code is concerned with how the content is presented, such as
the color of a navigation bar and the text styling. Back-end code is concerned
with how data is exchanged, processed, and stored. Code that handles network
requests from your browser or communicates with the database is primarily
managed by back-end code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><a href="https://nodejs.org/en/about/"><span
style='color:#3445FF'>Node</span></a><a href="https://nodejs.org/en/about/"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/en/about/"><span style='color:#3445FF'>s</span></a>
allows developers to use <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>to write back-end code,
even though traditionally it was used in the browser to write front-end code.
Having both the frontend and backend together like this reduces the effort it
takes to make a web server, which is a major reason why Node.js is a popular
choice for writing back-end code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:23.05pt;
margin-left:.25pt'><a href="https://nodejs.org/api/http.html"><span
style='color:black;text-decoration:none'>In this tutorial, you will learn how
to build web servers using the </span></a><a
href="https://nodejs.org/api/http.html"><span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New";color:#3445FF'>http </span></a><a
href="https://nodejs.org/api/http.html"><span style='color:#3445FF'>module</span></a><a
href="https://nodejs.org/api/http.html"><span style='color:black;text-decoration:
none'> </span></a><a href="https://nodejs.org/api/http.html"><span
style='color:black;text-decoration:none'>that’s included in Node.js. You will
build web servers that can </span></a>return JSON data, CSV files, and HTML web
pages.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 244399"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> Ensure that
Node.js is installed on your development machine. This tutorial uses Node.js
version 10.19.0. To install this on macOS or <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>Ubuntu 18.04, follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><b><span
style='color:black;text-decoration:none'>Installing Using a </span></b></a><b>PPA</b>
section of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 244400"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> The Node.js
platform supports creating web servers out of the box. To get started, be sure
you’re familiar with the basics of Node.js. You can <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:black;text-decoration:none'>get started by reviewing our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:#3445FF'>How To Write and Run Your First Pro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:#3445FF'>ram in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:#3445FF'>s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-and-run-your-first-program-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.65pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='position:relative;
z-index:252206080'><span style='left:0px;position:absolute;left:158px;
top:-90776px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 244401"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> We also make
use of asynchronous programming for one of our sections. If you’re not familiar
with asynchronous programming in Node.js or the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fs</span> module for interacting
with files, you can learn more with our article on <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>s</span></a>.</p>

<h2 style='margin-left:.5pt'>Step 1 — Creating a Basic HTTP Server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Let’s start by creating a server that
returns plain text to the user. This will cover the key concepts required to
set up a server, which will provide the foundation necessary to return more
complex data formats like JSON.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>First, we need to set up an accessible coding environment to
do our exercises, as well as the others in the article. In the terminal, create
a folder called <span style='font-size:11.0pt;line-height:142%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image579.gif"></span><b><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#EF2929'>first-servers</span></b>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Then
enter that folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image580.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now,
create the file that will house the code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=601 height=94
src="How%20To%20Code%20in%20Node.js_files/image581.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.65pt;
margin-left:.25pt;text-indent:0in'>terminal:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895276544'><span
style='left:0px;position:absolute;left:12px;top:-91612px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>We start
by loading the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>http</span>
module that’s standard with all Node.js</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=177
src="How%20To%20Code%20in%20Node.js_files/image582.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252208128'><span
style='left:0px;position:absolute;left:59px;top:-91854px;width:43px;height:
1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http</span>
module contains the function to create the server, which we will see later on.
If you would like to learn more about modules in Node.js, check out our <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>How To Create a Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>s Module</span></a> article.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Our next step will be to define two constants, the host and
port that our server will be bound to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image583.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>As mentioned before, web servers accept requests from
browsers and other clients. We may interact with a web server by entering a
domain name, which is translated to an IP address by a DNS server. An IP
address is a unique sequence of numbers that identify a machine on a network,
like the internet. For more information on domain name concepts, take a look at
our <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF'>An Introduction to DNS Terminolo</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF;text-decoration:none'>gy,</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF'> Com</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF'>onents</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF'> and Conce</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:#3445FF'>ts</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts#domain-terminology"><span
style='color:black;text-decoration:none'> </span></a>article.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252209152'><span
style='left:0px;position:absolute;left:109px;top:-92439px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image584.gif"></span></span><span
style='position:relative;z-index:252210176'><span style='left:0px;position:
absolute;left:590px;top:-92439px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:252211200'><span style='left:0px;position:
absolute;left:1px;top:-92439px;width:66px;height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image281.gif"></span></span>The value
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>localhost</span>
is a special private address that computers use to refer to themselves. It’s
typically the equivalent of the internal IP address <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>12 7.0.0.1</span> and it’s
only available to the local computer, not to any local networks we’ve joined or
to the internet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252212224'><span
style='left:0px;position:absolute;left:338px;top:-92539px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span><span
style='position:relative;z-index:252213248'><span style='left:0px;position:
absolute;left:590px;top:-92539px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:252214272'><span style='left:0px;position:
absolute;left:1px;top:-92539px;width:102px;height:1px'><img width=102 height=1
src="How%20To%20Code%20in%20Node.js_files/image585.gif"></span></span>The port
is a number that servers use as an endpoint or “door” to our IP address. In our
example, we will use port <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>8000</span> for our web server. Ports <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>80 80</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>8000</span>
are typically used as default ports in development, and in most cases
developers will use them rather than other ports for HTTP servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252215296'><span
style='left:0px;position:absolute;left:176px;top:-92672px;width:197px;
height:1px'><img width=197 height=1
src="How%20To%20Code%20in%20Node.js_files/image586.gif"></span></span>When we
bind our server to this host and port, we will be able to reach our server by
visiting <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http://localhost:8000</span>
in a local browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s add a special function, which in Node.js we call a
request listener. This function is meant to handle an incoming HTTP request and
return an HTTP response. This function must have two arguments, a request
object and a response object. The request object captures all the data of the
HTTP request that’s coming in. The response object is used to return HTTP
responses for the server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252216320'><span
style='left:0px;position:absolute;left:95px;top:-92904px;width:169px;
height:1px'><img width=169 height=1
src="How%20To%20Code%20in%20Node.js_files/image587.gif"></span></span>We want
our first server to return this message whenever someone accesses it: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;My
first server!&quot;</span>. Let’s add that function next:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image588.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895266304'><span
style='left:0px;position:absolute;left:206px;top:-93290px;width:146px;
height:1px'><img width=146 height=1
src="How%20To%20Code%20in%20Node.js_files/image589.gif"></span></span>The
function would usually be named based on what it does. For example, if we
created a request listener function to return a list of books, we would likely
name it <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>listBooks()</span>.
Since this one is a sample case, we will use the generic name <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252218368'><span
style='left:0px;position:absolute;left:542px;top:-93390px;width:33px;
height:1px'><img width=33 height=1
src="How%20To%20Code%20in%20Node.js_files/image590.gif"></span></span><span
style='position:relative;z-index:252219392'><span style='left:0px;position:
absolute;left:1px;top:-93390px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252220416'><span style='left:0px;position:
absolute;left:86px;top:-93390px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span><span
style='position:relative;z-index:252221440'><span style='left:0px;position:
absolute;left:463px;top:-93390px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>All
request listener functions in Node.js accept two arguments: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>req</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>res</span>
(we can name them differently if we want). The HTTP request the user sends is
captured in a Request object, which corresponds to the first argument, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>req</span>.
The HTTP response that we return to the user is formed by interacting with the
Response object in second argument, <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>res</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252222464'><span
style='left:0px;position:absolute;left:141px;top:-93556px;width:179px;
height:1px'><img width=179 height=1
src="How%20To%20Code%20in%20Node.js_files/image593.gif"></span></span><span
style='position:relative;z-index:252223488'><span style='left:0px;position:
absolute;left:404px;top:-93556px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252224512'><span style='left:0px;position:
absolute;left:564px;top:-93556px;width:42px;height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>The first
line <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>res.writeHead(200);</span>
sets the HTTP status code of the response. HTTP status codes indicate how well
an HTTP request was handled by the server. In this case, the status code <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>200</span>
corresponds to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;OK&quot;</span>.
If you are interested in learning about the various HTTP codes that your <a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:black;text-decoration:none'>web servers can return with the
meaning they signify, our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:#3445FF'>How To Troubleshoot Common HTTP Error Codes</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:black;text-decoration:none'> is a good place to start.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252225536'><span
style='left:0px;position:absolute;left:262px;top:-93722px;width:261px;
height:1px'><img width=261 height=1
src="How%20To%20Code%20in%20Node.js_files/image594.gif"></span></span>The next
line of the function, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>res.end(&quot;My first server!&quot;);</span>,
writes the HTTP response back to the client who requested it. This function
returns any data the server has to return. In this case, it’s returning text
data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Finally, we can now create our server and make use of our
request listener:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image595.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.45pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252226560'><span style='left:0px;position:absolute;left:133px;
top:-94176px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span>Save and
exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
by pressing <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895256064'><span
style='left:0px;position:absolute;left:277px;top:-94211px;width:67px;
height:1px'><img width=67 height=1
src="How%20To%20Code%20in%20Node.js_files/image597.gif"></span></span><span
style='position:relative;z-index:252228608'><span style='left:0px;position:
absolute;left:463px;top:-94211px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252229632'><span style='left:0px;position:
absolute;left:590px;top:-94211px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:-1895252992'><span style='left:0px;position:
absolute;left:1px;top:-94211px;width:236px;height:1px'><img width=236 height=1
src="How%20To%20Code%20in%20Node.js_files/image598.gif"></span></span>In the
first line, we create a new <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>server</span> object via the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>http</span> module’s <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>cr
eateServer()</span> function. This server accepts HTTP requests and passes them
on to our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252231680'><span
style='left:0px;position:absolute;left:107px;top:-94312px;width:141px;
height:1px'><img width=141 height=1
src="How%20To%20Code%20in%20Node.js_files/image599.gif"></span></span><span
style='position:relative;z-index:252232704'><span style='left:0px;position:
absolute;left:546px;top:-94312px;width:65px;height:1px'><img width=65 height=1
src="How%20To%20Code%20in%20Node.js_files/image600.gif"></span></span><span
style='position:relative;z-index:252233728'><span style='left:0px;position:
absolute;left:1px;top:-94312px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>After we
create our server, we must bind it to a network address. We do that with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>server.listen()</span>
method. It accepts three arguments: <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>port</span>, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>h ost</span>, and a <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#asynchronous-programming-with-callbacks"><span
style='color:#3445FF'>callback function</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#asynchronous-programming-with-callbacks"><span
style='color:black;text-decoration:none'> </span></a>that fires when the server
begins to listen.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>All of these arguments are optional, but it is a good idea
to explicitly state which port and host we want a web server to use. When
deploying web servers to different environments, knowing the port and host it
is running on is required to set up load balancing or a <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts"><span
style='color:#3445FF'>DNS</span></a> alias.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The callback function logs a message to our console so we
can know when the server began listening to connections.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252234752'><span
style='left:0px;position:absolute;left:186px;top:-94611px;width:160px;
height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image216.gif"></span></span><span
style='position:relative;z-index:252235776'><span style='left:0px;position:
absolute;left:497px;top:-94611px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><b>Note:</b>
Even though <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
does not use the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>req</span> object, it must still be the first argument of the
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>With less than fifteen lines of code, we now have a web
server. Let’s see it in action and test it end-to-end by running the program:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image601.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>In the console, we will
see this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image602.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Notice that the prompt disappears. This is because a Node.js
server is a long running process. It only exits if it encounters an error that
causes it to crash and quit, or if we stop the Node.js process running the
server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252236800'><span
style='left:0px;position:absolute;left:232px;top:-95068px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>In a
separate terminal window, we’ll communicate with the server using <a
href="https://github.com/curl/curl"><span style='color:#3445FF'>cURL</span></a><a
href="https://github.com/curl/curl"><span style='color:black;text-decoration:
none'>,</span></a> a CLI tool to transfer data to and from a network. Enter the
command to make an HTTP <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>GET</span> request to our running server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=206
src="How%20To%20Code%20in%20Node.js_files/image603.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>We’ve now set up a server
and got our first server response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252237824'><span
style='left:0px;position:absolute;left:143px;top:-95446px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span><span
style='position:relative;z-index:252238848'><span style='left:0px;position:
absolute;left:373px;top:-95446px;width:197px;height:1px'><img width=197
height=1 src="How%20To%20Code%20in%20Node.js_files/image586.gif"></span></span><span
style='position:relative;z-index:-1895243776'><span style='left:0px;position:
absolute;left:153px;top:-95446px;width:160px;height:1px'><img width=160
height=1 src="How%20To%20Code%20in%20Node.js_files/image604.gif"></span></span>Let’s
break down what happened when we tested our server. Using cURL, we sent a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
request to the server at <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>http://localhost:8000</span>. Our Node.js server
listened to connections from that address. The server passed that request to
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
function. The function returned text data with the status code <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>200</span>.
The server then sent that response back to cURL, which displayed the message in
our terminal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252240896'><span
style='left:0px;position:absolute;left:546px;top:-95612px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>Before we
continue, let’s exit our running server by pressing <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+C</span>. This
interrupts our server’s execution, bringing us back to the command line prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>In most web sites we visit or APIs we use, the server
responses are seldom in plain text. We get HTML pages and JSON data as common
response formats. In the next step, we will learn how to return HTTP responses
in common data formats we encounter in the web.</p>

<h2 style='margin-left:.5pt'>Step 2 — Returning Different Types of Content</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>The response we return from a web server can
take a variety of formats. JSON and HTML were mentioned before, and we can also
return other text formats like XML and CSV. Finally, web servers can return
non-text data like PDFs, zipped files, audio, and video.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>In this article, in addition to the plain text we just
returned, you’ll learn how to return the following types of data:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="How%20To%20Code%20in%20Node.js_files/image232.gif" align=left hspace=12>JSON</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>CSV</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>HTML</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.9pt;
margin-left:.25pt'>The three data types are all text-based, and are popular
formats for delivering content on the web. Many server-side development
languages and tools have support for returning these different data types. In
the context of Node.js, we need to do two things:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='position:relative;z-index:252242944'><span style='left:0px;position:
absolute;left:118px;top:-96296px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span>Set
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Type</span>
header in our HTTP responses with the appropriate value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.85pt;
margin-left:30.75pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span style='position:relative;z-index:252243968'><span
style='left:0px;position:absolute;left:136px;top:-96330px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image584.gif"></span></span>Ensure
that <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>res.end()</span>
gets the data in the right format.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252244992'><span
style='left:0px;position:absolute;left:370px;top:-96384px;width:160px;
height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image211.gif"></span></span>Let’s see
this in action with some examples. The code we will be writing in this section
and later ones have many similarities to the code we wrote previously. Most
changes exist within the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>requestListener()</span> function. Let’s create
files with this “template code” to make future sections easier to follow.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252246016'><span
style='left:0px;position:absolute;left:227px;top:-96517px;width:71px;
height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image189.gif"></span></span>Create a
new file called <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>html.js</span>. This file will be used later to return HTML text
in an HTTP response. We’ll put the template code here and copy it to the other
servers that return various types.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
the terminal, enter the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image605.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.95pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=603
src="How%20To%20Code%20in%20Node.js_files/image606.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252247040'><span style='left:0px;position:absolute;left:133px;
top:-97357px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image294.gif"></span></span><span
style='position:relative;z-index:252248064'><span style='left:0px;position:
absolute;left:248px;top:-97357px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save and
exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>html.js</span>
with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>,
then return to the terminal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now let’s copy this file into two new files. The first file
will be to return CSV data in the HTTP response:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=53
src="How%20To%20Code%20in%20Node.js_files/image607.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:9.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=589 height=2 id="Group 243461"
src="How%20To%20Code%20in%20Node.js_files/image608.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
second file will return a JSON response in the server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image609.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
remaining files will be for later exercises:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=86
src="How%20To%20Code%20in%20Node.js_files/image610.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>We’re now set up to continue our exercises. Let’s begin with
returning JSON.</p>

<h3 style='margin-left:.5pt'>Serving JSON</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>JavaScript Object Notation, commonly
referred to as JSON, is a text-based data exchange format. As its name
suggests, it is derived from JavaScript objects, but it is language
independent, meaning it can be used by any programming language that can parse
its syntax.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>JSON is commonly used by APIs to accept and return data. Its
popularity is due to lower data transfer size than previous data exchange
standards like XML, as well as the tooling that exists that allow programs to
parse them without excessive effort. If you’d like to learn more about JSON,
you can read our guide on <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>How To Work with JSON in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>t</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.3pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=603 height=129 src="How%20To%20Code%20in%20Node.js_files/image611.gif"></span>Open
the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>json.js</span>
file with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252249088'><span style='left:0px;position:absolute;left:1px;top:-98320px;
width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>()</span>
function to return the appropriate header all JSON responses have by changing
the highlighted lines like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=245
src="How%20To%20Code%20in%20Node.js_files/image612.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252250112'><span
style='left:0px;position:absolute;left:61px;top:-98667px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span><span
style='position:relative;z-index:252251136'><span style='left:0px;position:
absolute;left:173px;top:-98667px;width:142px;height:1px'><img width=142
height=1 src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>res.setHeader()</span>
method adds an HTTP header to the response. HTTP headers are additional
information that can be attached to a request or a response. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>res.setHeader()</span>
method takes two arguments: the header’s name and its value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252252160'><span
style='left:0px;position:absolute;left:58px;top:-98767px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:252253184'><span style='left:0px;position:
absolute;left:72px;top:-98767px;width:288px;height:1px'><img width=288
height=1 src="How%20To%20Code%20in%20Node.js_files/image614.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Type</span>
header is used to indicate the format of the data, also known as media type,
that’s being sent with the request or response. In this case our <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Type</span>
is <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>application/json</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252254208'><span
style='left:0px;position:absolute;left:449px;top:-98866px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>Now,
let’s return JSON content to the user. Modify <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>json.js</span> so it looks like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=309
src="How%20To%20Code%20in%20Node.js_files/image615.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252255232'><span
style='left:0px;position:absolute;left:148px;top:-99248px;width:33px;
height:1px'><img width=33 height=1
src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span><span
style='position:relative;z-index:252256256'><span style='left:0px;position:
absolute;left:344px;top:-99248px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image217.gif"></span></span>Like
before, we tell the user that their request was successful by returning a
status code of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>200</span>.
This time in the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>response.end()</span> call, our string argument contains valid
JSON.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252257280'><span
style='left:0px;position:absolute;left:133px;top:-99314px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image294.gif"></span></span><span
style='position:relative;z-index:252258304'><span style='left:0px;position:
absolute;left:304px;top:-99314px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save and
exit <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>json.js</span>
by pressing <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>.
Now, let’s run the server with</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image616.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
another terminal, let’s reach the server by using cURL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=206
src="How%20To%20Code%20in%20Node.js_files/image617.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.15pt;
margin-left:.25pt'><span style='position:relative;z-index:252259328'><span
style='left:0px;position:absolute;left:43px;top:-99683px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>We now
have successfully returned a JSON response, just like many of the popular APIs
we create apps with. Be sure to exit the running server with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+C</span>
so we can return to the standard terminal prompt. Next, let’s look at another
popular format of returning data: CSV.</p>

<h3 style='margin-left:.5pt'>Serving CSV</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>The Comma Separated Values (CSV) file format
is a text standard that’s commonly used for providing tabular data. In most
cases, each row is separated by a newline, and each item in the row is
separated by a comma.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:10.1pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=129 src="How%20To%20Code%20in%20Node.js_files/image618.gif"></span>In
our workspace, open the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>csv.js</span> file with a text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=291
src="How%20To%20Code%20in%20Node.js_files/image619.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895223296'><span
style='left:0px;position:absolute;left:119px;top:-100483px;width:140px;
height:1px'><img width=140 height=1
src="How%20To%20Code%20in%20Node.js_files/image620.gif"></span></span><span
style='position:relative;z-index:252261376'><span style='left:0px;position:
absolute;left:445px;top:-100483px;width:166px;height:1px'><img width=166
height=1 src="How%20To%20Code%20in%20Node.js_files/image621.gif"></span></span>This
time, our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Type</span>
indicates that a CSV file is being returned as the value is <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>text/csv</span>.
The second header we add is <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Content-Dispositio</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252262400'><span
style='left:0px;position:absolute;left:1px;top:-100551px;width:12px;height:
1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>n</span>.
This header tells the browser how to display the data, particularly in the
browser or as a separate file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252263424'><span
style='left:0px;position:absolute;left:270px;top:-100618px;width:179px;
height:1px'><img width=179 height=1
src="How%20To%20Code%20in%20Node.js_files/image593.gif"></span></span><span
style='position:relative;z-index:252264448'><span style='left:0px;position:
absolute;left:346px;top:-100618px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>When
we return CSV responses, most modern browsers automatically download the file
even if the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Disposition</span>
header is not set. However, when returning a CSV file we should still add this
header as it allows us to set the name of the CSV file. In this case, we signal
to the browser that this CSV file is an attachment and should be downloaded. We
then tell the browser that the file’s name is <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>oceanpals.csv</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Let’s write the CSV data
in the HTTP response:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=355
src="How%20To%20Code%20in%20Node.js_files/image623.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252265472'><span
style='left:0px;position:absolute;left:219px;top:-101216px;width:64px;
height:1px'><img width=64 height=1
src="How%20To%20Code%20in%20Node.js_files/image624.gif"></span></span><span
style='position:relative;z-index:252266496'><span style='left:0px;position:
absolute;left:56px;top:-101216px;width:88px;height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image584.gif"></span></span><span
style='position:relative;z-index:252267520'><span style='left:0px;position:
absolute;left:417px;top:-101216px;width:24px;height:1px'><img width=24
height=1 src="How%20To%20Code%20in%20Node.js_files/image625.gif"></span></span>Like
before we return a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>200</span>/<span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>OK</span> status with our response. This time, our
call to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>res.end()</span>
has a string that’s a valid CSV. The comma separates the value in each column
and the new line character (<span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>\n</span>) separates the rows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>We have two rows, one for
the table header and one for the data.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:9.1pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252268544'><span
style='left:0px;position:absolute;left:359px;top:-101341px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>We’ll
test this server in the browser. Save <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>csv.js</span> and exit the editor with</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:7.0pt;margin-left:3.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252269568'><span
style='left:0px;position:absolute;left:1px;top:-101379px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Run
the server with the Node.js command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image626.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
another Terminal, let’s reach the server by using cURL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image627.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The console will show
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.2pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image628.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895213056'><span
style='left:0px;position:absolute;left:122px;top:-101793px;width:276px;
height:1px'><img width=276 height=1
src="How%20To%20Code%20in%20Node.js_files/image629.gif"></span></span>If we go
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http://localhost:8000</span>
in our browser, a CSV file will be downloaded. Its file name will be <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>oceanpals.csv</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Exit the running server with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>CTRL+C</span> to return to the
standard terminal prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>Having returned JSON and CSV, we’ve covered two cases that
are popular for APIs. Let’s move on to how we return data for websites people
view in a browser.</p>

<h3 style='margin-left:.5pt'>Serving HTML</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'>HTML</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'> H</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'>perText Marku</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'> Lan</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'>ua</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:#3445FF'>e</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/HTML"><span
style='color:black;text-decoration:none'>,</span></a> is the most common format
to use when we want users to interact with our server via a web browser. It was
created to structure web content. Web browsers are built to display HTML
content, as well as any styles we add with <a
href="https://developer.mozilla.org/en-US/docs/Web/CSS"><span style='color:
#3445FF'>CSS</span></a>, another front-end web technology that allows us to
change the aesthetics of our websites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=603 height=129 src="How%20To%20Code%20in%20Node.js_files/image630.gif"></span>Let’s
reopen <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>html.js</span>
with our text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=305
src="How%20To%20Code%20in%20Node.js_files/image631.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252271616'><span
style='left:0px;position:absolute;left:1px;top:-102661px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>Now,
let’s return HTML content to the user. Add the highlighted lines to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>html.js</span>
so it looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=309
src="How%20To%20Code%20in%20Node.js_files/image632.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252272640'><span
style='left:0px;position:absolute;left:421px;top:-103076px;width:134px;
height:1px'><img width=134 height=1
src="How%20To%20Code%20in%20Node.js_files/image633.gif"></span></span><span
style='position:relative;z-index:252273664'><span style='left:0px;position:
absolute;left:581px;top:-103076px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252274688'><span style='left:0px;position:
absolute;left:1px;top:-103076px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image458.gif"></span></span>We first
add the HTTP status code. We then call <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>response.end()</span> with a string
argument that contains valid HTML. When we access our server in the browser, we
will see an HTML page with one header tag containing <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Thi s is HTML</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252275712'><span
style='left:0px;position:absolute;left:273px;top:-103177px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Let’s
save and exit by pressing <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>CTRL+X</span>. Now, let’s run the server with the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:1.0pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=133
src="How%20To%20Code%20in%20Node.js_files/image634.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.2pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>program has started.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252276736'><span
style='left:0px;position:absolute;left:324px;top:-103382px;width:196px;
height:1px'><img width=196 height=1
src="How%20To%20Code%20in%20Node.js_files/image635.gif"></span></span>Now go
into the browser and visit <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>http://localhost:8000</span>. Our page will look
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=398
src="How%20To%20Code%20in%20Node.js_files/image636.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252277760'><span
style='left:0px;position:absolute;left:319px;top:-103853px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Let’s
quit the running server with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>CTRL+C</span> and return to the standard terminal
prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt'>It’s common for HTML to be written in a file, separate from
the serverside code like our Node.js programs. Next, let’s see how we can
return HTML responses from files.</p>

<h2 style='margin-left:.5pt'>Step 3 — Serving an HTML Page From a File</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>We can serve HTML as strings in Node.js to
the user, but it’s preferable that we load HTML files and serve their content.
This way, as the HTML file grows we don’t have to maintain long strings in our
Node.js code, keeping it more concise and allowing us to work on each aspect of
our website independently. This “separation of concerns” is common in many web
development setups, so it’s good to know how to load HTML files to support it
in Node.js</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>To serve HTML files, we load the HTML file with the <a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>fs</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>
module</span></a><a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='color:black;text-decoration:none'> </span></a>and use its data when
writing our HTTP response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>First, we’ll create an HTML file that the web server will
return. Create a new HTML file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=163
src="How%20To%20Code%20in%20Node.js_files/image637.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Our web page will be minimal. It will have an orange
background and will display some greeting text in the center. Add this code to
the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=864
src="How%20To%20Code%20in%20Node.js_files/image638.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.9pt;
margin-bottom:0in;margin-left:-76.25pt;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=589
 style='width:441.75pt;margin-left:8.85pt;border-collapse:collapse'>
 <tr style='height:9.0in'>
  <td width=589 style='width:441.75pt;border-top:none;border-left:solid #F2F2F2 1.0pt;
  border-bottom:none;border-right:solid #F2F2F2 1.0pt;background:#F2F2F2;
  padding:0in 5.75pt 0in 7.6pt;height:9.0in'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:218.45pt;
  margin-bottom:0in;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
  "Courier New"'>           </span><b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#007020'>width</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#40A070'>100</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#902000'>%</span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#666666'>; </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>           </span><b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#007020'>height</span></b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New"'>: </span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#40A070'>50</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#902000'>%</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>; </span><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New"'>           </span><b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#007020'>margin</span></b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New"'>: </span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#40A070'>0</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#666666'>; </span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New"'>           </span><b><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#007020'>position</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#40A070'>absolute</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>; </span><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New"'>           </span><b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#007020'>top</span></b><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New"'>: </span><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#40A070'>50</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#902000'>%</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>; </span><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New"'>           </span><b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#007020'>left</span></b><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New"'>: </span><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#40A070'>50</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#902000'>%</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:83.05pt;
  margin-bottom:0in;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
  "Courier New"'>           </span><b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#007020'>transform</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#06287E'>translate(</span><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#40A070'>-50</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#902000'>%</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>,</span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New"'> </span><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New";color:#40A070'>-50</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#902000'>%</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#06287E'>)</span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#666666'>; </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>           </span><b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#007020'>color</span></b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New"'>: </span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#880000'>white</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#666666'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
  "Courier New"'>           </span><b><span style='font-size:11.0pt;line-height:
  187%;font-family:"Courier New";color:#007020'>font-family</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#4070A0'>&quot;Trebuchet MS&quot;</span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>
  Helvetica</span><span style='font-size:11.0pt;line-height:187%;font-family:
  "Courier New";color:#666666'>,</span><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New"'> </span><span style='font-size:
  11.0pt;line-height:187%;font-family:"Courier New";color:#40A070'>sans-serif</span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#666666'>; </span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New"'>           </span><b><span style='font-size:11.0pt;
  line-height:187%;font-family:"Courier New";color:#007020'>text-align</span></b><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
  color:#40A070'>center</span><span style='font-size:11.0pt;line-height:187%;
  font-family:"Courier New";color:#666666'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:34.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       h1 {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>           </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#007020'>font-size</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
  color:#40A070'>144</span><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#902000'>px</span><span style='font-size:
  11.0pt;line-height:107%;font-family:"Courier New";color:#666666'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:34.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       p {</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>           </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#007020'>font-size</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>: </span><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
  color:#40A070'>64</span><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#902000'>px</span><span style='font-size:
  11.0pt;line-height:107%;font-family:"Courier New";color:#666666'>;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       }</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>   </span><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;/style&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:34.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;/head&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;body&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>   </span><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;div</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
  color:#007020'> class=</span><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#4070A0'>&quot;center&quot;</span><b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
  color:#007020'>&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#007020'>&lt;h1&gt;</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>Hello
  Again!</span><b><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New";color:#007020'>&lt;/h1&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.2pt;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>       </span><b><span style='font-size:11.0pt;line-height:
  107%;font-family:"Courier New";color:#007020'>&lt;p&gt;</span></b><span
  style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>This is
  served from a file</span><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;/p&gt;</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
  "Courier New"'>   </span><b><span style='font-size:11.0pt;line-height:107%;
  font-family:"Courier New";color:#007020'>&lt;/div&gt;</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=127
src="How%20To%20Code%20in%20Node.js_files/image639.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252278784'><span
style='left:0px;position:absolute;left:389px;top:-106521px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span><span
style='position:relative;z-index:252279808'><span style='left:0px;position:
absolute;left:543px;top:-106521px;width:67px;height:1px'><img width=67
height=1 src="How%20To%20Code%20in%20Node.js_files/image640.gif"></span></span><span
style='position:relative;z-index:252280832'><span style='left:0px;position:
absolute;left:1px;top:-106521px;width:168px;height:1px'><img width=168
height=1 src="How%20To%20Code%20in%20Node.js_files/image641.gif"></span></span>This
single webpage shows two lines of text: <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Hello Again!</span> and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>This is
served from a file</span>. The lines appear in the center of the page, one
above each other. The first line of text is displayed in a heading, meaning it
would be large. The second line of text will appear slightly smaller. All the
text will appear white and the webpage has an orange background.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>While it’s not the scope of this article or series, if you
are interested in learning more about HTML, CSS, and other front-end web
technologies, you can take a look at <a
href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web"><span
style='color:#3445FF'>Mozilla’s Gettin</span></a><a
href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web"><span
style='color:#3445FF'> Started with the Web</span></a><a
href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web"><span
style='color:black;text-decoration:none'> </span></a>guide.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:-.25pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252281856'><span
style='left:0px;position:absolute;left:546px;top:-106786px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>That’s
all we need for the HTML, so save and exit the file with <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>We can now move on to the
server code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252282880'><span
style='left:0px;position:absolute;left:308px;top:-106853px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image642.gif"></span></span>For this
exercise, we’ll work on <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>htmlFile.js</span>. Open it with the text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=94
src="How%20To%20Code%20in%20Node.js_files/image643.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image644.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252283904'><span
style='left:0px;position:absolute;left:222px;top:-107202px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='position:relative;z-index:252284928'><span style='left:0px;position:
absolute;left:478px;top:-107202px;width:24px;height:1px'><img width=24
height=1 src="How%20To%20Code%20in%20Node.js_files/image625.gif"></span></span><span
style='position:relative;z-index:252285952'><span style='left:0px;position:
absolute;left:563px;top:-107202px;width:48px;height:1px'><img width=48
height=1 src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span><span
style='position:relative;z-index:252286976'><span style='left:0px;position:
absolute;left:1px;top:-107202px;width:75px;height:1px'><img width=75 height=1
src="How%20To%20Code%20in%20Node.js_files/image645.gif"></span></span>This
module contains a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>readFile()</span> function that we’ll use to load the HTML file
in place. We import the promise variant in keeping with modern JavaScript best
practices. We use promises as its syntactically more succinct than callbacks,
which we would have to use if we assigned <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fs</span> to just <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requi
re('fs')</span>. To learn more about asynchronous programming best practices,
you can read our <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>s </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>uide</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.7pt;
margin-left:.25pt'><span style='position:relative;z-index:252288000'><span
style='left:0px;position:absolute;left:208px;top:-107401px;width:161px;
height:1px'><img width=161 height=1
src="How%20To%20Code%20in%20Node.js_files/image646.gif"></span></span>We want
our HTML file to be read when a user requests our system. Let’s begin by
modifying <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
to read the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.05pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=245
src="How%20To%20Code%20in%20Node.js_files/image647.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.85pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895194624'><span
style='left:0px;position:absolute;left:1px;top:-107759px;width:235px;
height:1px'><img width=235 height=1
src="How%20To%20Code%20in%20Node.js_files/image648.gif"></span></span><span
style='position:relative;z-index:252290048'><span style='left:0px;position:
absolute;left:572px;top:-107759px;width:39px;height:1px'><img width=39
height=1 src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:252291072'><span style='left:0px;position:
absolute;left:506px;top:-107759px;width:105px;height:1px'><img width=105
height=1 src="How%20To%20Code%20in%20Node.js_files/image649.gif"></span></span>We
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs.readFile()</span>
method to load the file. Its argument has <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>__di rname +
&quot;/index.html&quot;</span>. The special variable <a
href="https://nodejs.org/api/modules.html#modules_dirname"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>__dirname</span></a><a
href="https://nodejs.org/api/modules.html#modules_dirname"><span
style='color:black;text-decoration:none'> </span></a>has the absolute path of
where the Node.js code is being run. We then append <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>/index.html </span>so we can
load the HTML file we created earlier.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Now let’s return the HTML
page once it’s loaded:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=405
src="How%20To%20Code%20in%20Node.js_files/image650.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895191552'><span
style='left:0px;position:absolute;left:77px;top:-108375px;width:146px;
height:1px'><img width=146 height=1
src="How%20To%20Code%20in%20Node.js_files/image651.gif"></span></span><span
style='position:relative;z-index:252293120'><span style='left:0px;position:
absolute;left:532px;top:-108375px;width:79px;height:1px'><img width=79
height=1 src="How%20To%20Code%20in%20Node.js_files/image652.gif"></span></span>If
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs.readFile()</span>
promise successfully resolves, it will return its data. We use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>then()</span>
method to handle this case. The <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>contents </span>parameter contains the HTML file’s
data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252294144'><span
style='left:0px;position:absolute;left:151px;top:-108475px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:252295168'><span style='left:0px;position:
absolute;left:352px;top:-108475px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span><span
style='position:relative;z-index:252296192'><span style='left:0px;position:
absolute;left:222px;top:-108475px;width:79px;height:1px'><img width=79
height=1 src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span>We
first set the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Content-Type</span>
header to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>text/html</span>
to tell the client that we are returning HTML data. We then write the status
code to indicate the request was successful. We finally send the client the
HTML page we loaded, with the data in the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>contents</span> variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.45pt;
margin-left:.25pt'><span style='position:relative;z-index:252297216'><span
style='left:0px;position:absolute;left:59px;top:-108575px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image480.gif"></span></span><span
style='position:relative;z-index:252298240'><span style='left:0px;position:
absolute;left:340px;top:-108575px;width:161px;height:1px'><img width=161
height=1 src="How%20To%20Code%20in%20Node.js_files/image653.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs.readFile()</span>
method can fail at times, so we should handle this case when we get an error.
Add this to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>requestListener()</span> function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=565
src="How%20To%20Code%20in%20Node.js_files/image654.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252299264'><span style='left:0px;position:absolute;left:194px;
top:-109252px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span><span
style='position:relative;z-index:252300288'><span style='left:0px;position:
absolute;left:282px;top:-109252px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
the file and exit <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>nano</span> with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895182336'><span
style='left:0px;position:absolute;left:74px;top:-109286px;width:138px;
height:1px'><img width=138 height=1
src="How%20To%20Code%20in%20Node.js_files/image655.gif"></span></span><span
style='position:relative;z-index:252302336'><span style='left:0px;position:
absolute;left:420px;top:-109286px;width:125px;height:1px'><img width=125
height=1 src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>When
a promise encounters an error, it is rejected. We handle that case with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catch()</span>
method. It accepts the error that <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>fs.readFile()</span> returns, sets the status
code to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>500</span>
signifying that an internal error was encountered, and returns the error to the
user.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=599 height=133
src="How%20To%20Code%20in%20Node.js_files/image656.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=366
src="How%20To%20Code%20in%20Node.js_files/image657.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252303360'><span
style='left:0px;position:absolute;left:270px;top:-109964px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>You have
now returned an HTML page from the server to the user. You can quit the running
server with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+C</span>.
You will see the terminal prompt return when you do.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When writing code like this in production, you may not want
to load an HTML page every time you get an HTTP request. While this HTML page
is roughly 800 bytes in size, more complex websites can be megabytes in size.
Large files can take a while to load. If your site is expecting a lot of
traffic, it may be best to load HTML files at startup and save their contents.
After they are loaded, you can set up the server and make it listen to requests
on an address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'>To demonstrate this method, let’s see how we can rework our
server to be more efficient and scalable.</p>

<h3 style='margin-left:.5pt'>Serving HTML Efficiently</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Instead of loading the HTML for every
request, in this step we will load it once at the beginning. The request will
return the data we loaded at startup. In the terminal, re-open the Node.js
script with a text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=94
src="How%20To%20Code%20in%20Node.js_files/image658.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=305
src="How%20To%20Code%20in%20Node.js_files/image659.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When we run this program, this variable will hold the HTML
file’s contents.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=403
src="How%20To%20Code%20in%20Node.js_files/image660.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252304384'><span
style='left:0px;position:absolute;left:452px;top:-111384px;width:160px;
height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image216.gif"></span></span>Next, we
shift the file reading logic from the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>requestListener() </span>function to our server
startup. Make the following changes as we create the server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=579
src="How%20To%20Code%20in%20Node.js_files/image661.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252305408'><span style='left:0px;position:absolute;left:194px;
top:-112071px;width:44px;height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span><span
style='position:relative;z-index:252306432'><span style='left:0px;position:
absolute;left:282px;top:-112071px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
the file and exit <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>nano</span> with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252307456'><span
style='left:0px;position:absolute;left:182px;top:-112105px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span><span
style='position:relative;z-index:252308480'><span style='left:0px;position:
absolute;left:1px;top:-112105px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span><span
style='position:relative;z-index:-1895174144'><span style='left:0px;position:
absolute;left:131px;top:-112105px;width:204px;height:1px'><img width=204
height=1 src="How%20To%20Code%20in%20Node.js_files/image662.gif"></span></span>The
code that reads the file is similar to what we wrote in our first attempt.
However, when we successfully read the file we now save the contents to our
global <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>indexFile</span>
variable. We then start the server with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>listen()</span> method. The key
thing is that the file is loaded before the server is run. This way, the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
function will be sure to return an HTML page, as <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>indexFile</span> is no longer an
empty variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252310528'><span
style='left:0px;position:absolute;left:146px;top:-112271px;width:62px;
height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image663.gif"></span></span>Our error
handler has changed as well. If the file can’t be loaded, we capture the error
and print it to our console. We then exit the Node.js program with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exit()</span>
function without starting the server. This way we can see why the file reading
failed, address the problem, and then start the server again.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>We’ve now created different web servers that return various
types of data to a user. So far, we have not used any request data to determine
what should be returned. We’ll need to use request data when setting up
different routes or paths in a Node.js server, so next let’s see how they work
together.</p>

<h2 style='margin-left:.5pt'>Step 4 — Managing Routes Using an HTTP Request
Object</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Most websites we visit or APIs we use
usually have more than one endpoint so we can access various resources. A good
example would be a book management system, one that might be used in a library.
It would not only need to manage book data, but it would also manage author
data for cataloguing and searching convenience.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Even though the data for books and authors are related, they
are two different objects. In these cases, software developers usually code
each object on different endpoints as a way to indicate to the API user what
kind of data they are interacting with.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895172096'><span
style='left:0px;position:absolute;left:450px;top:-112834px;width:157px;
height:1px'><img width=157 height=1
src="How%20To%20Code%20in%20Node.js_files/image664.gif"></span></span>Let’s
create a new server for a small library, which will return two different types
of data. If the user goes to our server’s address at <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>/books</span>, they will
receive a list of books in JSON. If they go to <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>/authors</span>, they will receive
a list of author information in JSON.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>So far, we have been returning the same response to every
request we get.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Let’s illustrate this
quickly.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Re-run
our JSON response example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image665.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
another terminal, let’s do a cURL request like before:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image666.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image667.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=243
src="How%20To%20Code%20in%20Node.js_files/image668.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895171072'><span
style='left:0px;position:absolute;left:315px;top:-113628px;width:205px;
height:1px'><img width=205 height=1
src="How%20To%20Code%20in%20Node.js_files/image669.gif"></span></span>We have
not built any special logic in our <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>requestListener()</span> function to handle a
request whose URL contains <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>/todos</span>, so Node.js returns the same JSON
message by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>As we want to build a miniature library management server,
we’ll now separate the kind of data that’s returned based on the endpoint the
user accesses.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.55pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252313600'><span style='left:0px;position:absolute;left:293px;
top:-113794px;width:62px;height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span>First,
exit the running server with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>CTRL+C</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=603 height=129 src="How%20To%20Code%20in%20Node.js_files/image670.gif"></span>Now
open <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>routes.js</span>
in your text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=512
src="How%20To%20Code%20in%20Node.js_files/image671.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252314624'><span
style='left:0px;position:absolute;left:59px;top:-114504px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>books</span>
variable is a string that contains JSON for an array of book objects. Each book
has a title or name, an author, and the year it was published.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252315648'><span
style='left:0px;position:absolute;left:58px;top:-114571px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>authors</span>
variable is a string that contains the JSON for an array of author objects.
Each author has a name, a country of birth, and their year of birth.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252316672'><span
style='left:0px;position:absolute;left:30px;top:-114638px;width:161px;
height:1px'><img width=161 height=1
src="How%20To%20Code%20in%20Node.js_files/image672.gif"></span></span>Now that
we have the data our responses will return, let’s start modifying the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
function to return them to the correct routes.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252317696'><span
style='left:0px;position:absolute;left:581px;top:-114704px;width:30px;
height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>First,
we’ll ensure that every response from our server has the correct <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>Con</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=305
src="How%20To%20Code%20in%20Node.js_files/image673.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now, we want to return the right JSON depending on the URL
path the user visits. Let’s create a <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>switch</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF'> statement</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>on the request’s URL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image674.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252318720'><span
style='left:0px;position:absolute;left:578px;top:-115456px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252319744'><span style='left:0px;position:
absolute;left:348px;top:-115456px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>To
get the URL path from a request object, we need to access its <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>url </span>property.
We can now add cases to the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>switch</span> statement to return the appropriate
JSON.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252320768'><span
style='left:0px;position:absolute;left:122px;top:-115523px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>JavaScript’s
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>switch</span>
statement provides a way to control what code is run depending on the value of
an object or JavaScript expression (for example, the result of mathematical
operations). If you need a lesson or reminder on <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:black;text-decoration:none'>how to use them, take a look at our
guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF'>How To Use the Switch Statement in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252321792'><span
style='left:0px;position:absolute;left:238px;top:-115656px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>Let’s
continue by adding a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>case</span> for when the user wants to get our list of books:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=437
src="How%20To%20Code%20in%20Node.js_files/image675.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252322816'><span
style='left:0px;position:absolute;left:225px;top:-116165px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252323840'><span style='left:0px;position:
absolute;left:506px;top:-116165px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image676.gif"></span></span>We
set our status code to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>200</span> to indicate the request is fine and
return the JSON containing the list of our books. Now let’s add another <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>case</span>
for our authors:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=565
src="How%20To%20Code%20in%20Node.js_files/image677.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252324864'><span
style='left:0px;position:absolute;left:315px;top:-116836px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Like
before, the status code will be <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>200</span> as the request is fine. This time we
return the JSON containing the list of our authors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We want to return an error if the user tries to go to any
other path. Let’s add the default case to do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=675
src="How%20To%20Code%20in%20Node.js_files/image678.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252325888'><span
style='left:0px;position:absolute;left:117px;top:-117684px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252326912'><span style='left:0px;position:
absolute;left:307px;top:-117684px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252327936'><span style='left:0px;position:
absolute;left:578px;top:-117684px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>We
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>default</span>
keyword in a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>switch</span>
statement to capture all other scenarios not captured by our previous cases. We
set the status code to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>404 </span>to indicate that the URL they were
looking for was not found. We then set a JSON object that contains an error
message.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s test our server to see if it behaves as we expect. In
another terminal, let’s first run a command to see if we get back our list of
books:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=270
src="How%20To%20Code%20in%20Node.js_files/image679.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252328960'><span
style='left:0px;position:absolute;left:359px;top:-118193px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>So far so
good. Let’s try the same for <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>/authors</span>. Type the following command in the
terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image680.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see the
following output when the command is complete:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=140
src="How%20To%20Code%20in%20Node.js_files/image681.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252329984'><span
style='left:0px;position:absolute;left:451px;top:-118549px;width:160px;
height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image682.gif"></span></span>Last,
let’s try an erroneous URL to ensure that <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>requestListener() </span>returns
the error response:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image683.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Entering that command
will display this message:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image684.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252331008'><span style='left:0px;position:absolute;left:317px;
top:-118841px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>You can
exit the running server with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>CTRL+C</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>We’ve now created different avenues for users to get
different data. We also added a default response that returns an HTTP error if
the user enters a URL that we don’t support.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>In this tutorial, you’ve made a series of
Node.js HTTP servers. You first returned a basic textual response. You then
went on to return various types of data from our server: JSON, CSV, and HTML.
From there you were able to combine file loading with HTTP responses to return
an HTML page from the server to the user, and to create an API that used
information about the user’s request to determine what data should be sent in
its response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>You’re now equipped to create web servers that can handle a
variety of requests and responses. With this knowledge, you can make a server
that returns many HTML pages to the user at different endpoints. You could also
create your own API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252332032'><span
style='left:0px;position:absolute;left:267px;top:-119272px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image685.gif"></span></span>To learn
about more HTTP web servers in Node.js, you can read the <a
href="https://nodejs.org/docs/latest-v10.x/api/http.html"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/docs/latest-v10.x/api/http.html"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/docs/latest-v10.x/api/http.html"><span
style='color:#3445FF'>s documentation</span></a> on the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>http</span> module. If you’d
like to continue learning Node.js, you can return to the <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> Buffers in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252333056'><span
style='left:0px;position:absolute;left:551px;top:-119566px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>A buffer
is a space in memory (typically RAM) that stores binary data. In <a
href="https://nodejs.org/en/about/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/en/about/"><span style='color:#3445FF;text-decoration:
none'>.j</span></a><a href="https://nodejs.org/en/about/"><span
style='color:#3445FF'>s</span></a>, we can access these spaces of memory with
the built-in <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Buffer
</span>class. Buffers store a sequence of integers, similar to an <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a> in <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a>. Unlike arrays, you cannot change the size
of a buffer once it is created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>You may have used buffers implicitly if you wrote Node.js
code already. For example, when you read from a file with <a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>fs.readFile()</span></a>,
the data returned to the <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>callback or Promise</span></a> is a buffer <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> Additionally, when HTTP
requests are made in Node.js, they return data streams that are temporarily
stored in an internal buffer when the client cannot process the stream all at
once.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Buffers are useful when you’re interacting with binary data,
usually at lower networking levels. They also equip you with the ability to do
finegrained data manipulation in Node.js.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.35pt;
margin-left:.25pt'><span style='position:relative;z-index:252334080'><span
style='left:0px;position:absolute;left:30px;top:-119964px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span>In this
tutorial, you will use the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>s REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'> </span></a>to run through various
examples of buffers, such as creating buffers, reading from buffers, writing to
and copying from buffers, and using buffers to convert between binary and
encoded data. By the end of the tutorial, you’ll have learned how to use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Buffer</span>
class to work with binary data.</p>

<h2 style='margin-left:.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 247593"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> You will need
Node.js installed on your development machine. This tutorial uses version
10.19.0. To install this on macOS or Ubuntu <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>18.04, follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA </span></b></a>section
of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 247594"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> In this
tutorial, you will interact with buffers in the Node.js REPL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:0in'>(Read-Evaluate-Print-Loop). If you want a
refresher on how to use the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'>Node.js REPL effectively, you can read
our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>How To Use the Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>s REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 247595"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> For this
article we expect the user to be comfortable with basic JavaScript and its data
types. You can learn those fundamentals with our <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>How To Code in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Creating a Buffer</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>This first step will show you the two
primary ways to create a buffer object in Node.js.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252335104'><span
style='left:0px;position:absolute;left:350px;top:-120560px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252336128'><span style='left:0px;position:
absolute;left:551px;top:-120560px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>To
decide what method to use, you need to answer this question: Do you want to
create a new buffer or extract a buffer from existing data? If you are going to
store data in memory that you have yet to receive, you’ll want to create a new
buffer. In Node.js we use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>alloc()</span> function of the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Buffer </span><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>class</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>to do this.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Let’s open the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:#3445FF'>s REPL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-node-js-repl"><span
style='color:black;text-decoration:none'> </span></a>to see for ourselves. In
your terminal, enter</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=133
src="How%20To%20Code%20in%20Node.js_files/image686.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.55pt;
margin-left:.25pt;line-height:172%'><span style='position:relative;z-index:
252337152'><span style='left:0px;position:absolute;left:60px;top:-120853px;
width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>The <span
style='font-size:11.0pt;line-height:172%;font-family:"Courier New"'>alloc()</span>
function takes the size of the buffer as its first and only required argument.
The size is an integer representing how many bytes of memory the buffer object
will use. For example, if we wanted to create a buffer that was 1KB (kilobyte)
large, equivalent to 1024 bytes, we would enter this in the console: <span
style='font-size:11.0pt;line-height:172%;font-family:"Courier New"'>const
firstBuf = Buffer.alloc(1024);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895145472'><span
style='left:0px;position:absolute;left:12px;top:-121039px;width:600px;
height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image687.gif"></span></span><span
style='position:relative;z-index:252339200'><span style='left:0px;position:
absolute;left:116px;top:-121039px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252340224'><span style='left:0px;position:
absolute;left:372px;top:-121039px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252341248'><span style='left:0px;position:
absolute;left:1px;top:-121039px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>To create
a new buffer, we used the globally available <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Buffer</span> class, which has the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>alloc()</span>
method. By providing <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>1024</span> as the argument for <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>all oc()</span>, we created a
buffer that’s 1KB large.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252342272'><span
style='left:0px;position:absolute;left:386px;top:-121138px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:-1895140352'><span style='left:0px;position:
absolute;left:1px;top:-121138px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image688.gif"></span></span><span
style='position:relative;z-index:252344320'><span style='left:0px;position:
absolute;left:113px;top:-121138px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252345344'><span style='left:0px;position:
absolute;left:289px;top:-121138px;width:69px;height:1px'><img width=69
height=1 src="How%20To%20Code%20in%20Node.js_files/image689.gif"></span></span>By
default, when you initialize a buffer with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>alloc()</span>, the buffer is
filled with binary zeroes as a placeholder for later data. However, we can
change the default value if we’d like to. If we wanted to create a new buffer
with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>s
instead of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>s,
we would set the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>alloc()</span> function’s second parameter— <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fill</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.55pt;
margin-left:.25pt'>In your terminal, create a new buffer at the REPL prompt
that’s filled with <span style='font-size:11.0pt;line-height:142%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image690.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>s:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252346368'><span
style='left:0px;position:absolute;left:157px;top:-121414px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>We just
created a new buffer object that references a space in memory that stores 1KB
of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>s.
Although we entered an integer, all data stored in a buffer is binary data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252347392'><span
style='left:0px;position:absolute;left:469px;top:-121481px;width:80px;
height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image691.gif"></span></span><span
style='position:relative;z-index:252348416'><span style='left:0px;position:
absolute;left:250px;top:-121481px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>Binary
data can come in many different formats. For example, let’s consider a binary
sequence representing a byte of data: <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>01110110</span>. If this <a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:black;text-decoration:
none'>binary sequence represented a </span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF'>strin</span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a href="https://en.wikipedia.org/wiki/ASCII"><span
style='color:black;text-decoration:none'> in English using </span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF'>the
ASCII encodin</span></a><a href="https://en.wikipedia.org/wiki/ASCII"><span
style='color:#3445FF;text-decoration:none'>g </span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF'>standard</span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:black;text-decoration:
none'>, it would be the letter </span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New";color:black;text-decoration:none'>v</span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:black;text-decoration:
none'>. However, if our computer was processing </span></a>an image, that
binary sequence could contain information about the color of a pixel.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The computer knows to process them differently because the
bytes are encoded differently. Byte encoding is the format of the byte. A
buffer in Node.js uses the <a href="https://en.wikipedia.org/wiki/UTF-8"><span
style='color:#3445FF'>UTF-8</span></a><a
href="https://en.wikipedia.org/wiki/UTF-8"><span style='color:black;text-decoration:
none'> </span></a>encoding scheme by default if it’s initialized with string
data. A byte in UTF-8 represents a number, a letter (in English and in other
languages), or a symbol. UTF-8 is a superset of <a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF'>ASCII</span></a><a
href="https://en.wikipedia.org/wiki/ASCII"><span style='color:black;text-decoration:
none'>,</span></a> the American Standard Code for Information Interchange.
ASCII can encode bytes with uppercase and lowercase English letters, the
numbers 0-9, and a few other symbols like the exclamation mark (<b>!</b>) or
the ampersand sign (<b>&amp;</b>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252349440'><span
style='left:0px;position:absolute;left:572px;top:-121879px;width:39px;
height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:252350464'><span style='left:0px;position:
absolute;left:1px;top:-121879px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span><span
style='position:relative;z-index:252351488'><span style='left:0px;position:
absolute;left:259px;top:-121879px;width:78px;height:1px'><img width=78
height=1 src="How%20To%20Code%20in%20Node.js_files/image692.gif"></span></span>If
we were writing a program that could only work with ASCII characters, we could
change the encoding used by our buffer with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>allo c()</span> function’s third
argument—<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>encoding</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.35pt;
margin-left:.25pt;line-height:218%'><span style='position:relative;z-index:
-1895131136'><span style='left:0px;position:absolute;left:12px;top:-121979px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image693.gif"></span></span>Let’s
create a new buffer that’s five bytes long and stores only ASCII characters: <span
style='font-size:11.0pt;line-height:218%;font-family:"Courier New"'>const
asciiBuf = Buffer.alloc(5, 'a', 'ascii');</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The buffer is initialized with five bytes of the character <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>a</span>,
using the ASCII representation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.8pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><b>Note</b>: By default,
Node.js supports the following character encodings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.65pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="How%20To%20Code%20in%20Node.js_files/image232.gif" align=left hspace=12><b>ASCII</b>,
represented as <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>ascii</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:8.0pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><b>UTF-8</b>, represented
as <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>utf-8</span>
or <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>utf8</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:-1895129088'><span style='left:0px;position:absolute;
left:225px;top:-122274px;width:186px;height:1px'><img width=186 height=1
src="How%20To%20Code%20in%20Node.js_files/image694.gif"></span></span><a
href="https://en.wikipedia.org/wiki/UTF-16"><b><span style='color:#3445FF'>UTF-16</span></b></a>,
represented as <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>utf-16le</span>
or <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>utf16le</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><a
href="https://en.wikipedia.org/wiki/Universal_Coded_Character_Set"><b><span
style='color:#3445FF'>UCS-2</span></b></a>, represented as <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>ucs-2</span>
or <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>ucs2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="How%20To%20Code%20in%20Node.js_files/image232.gif" align=left hspace=12><a
href="https://en.wikipedia.org/wiki/Base64"><b><span style='color:#3445FF'>Base64</span></b></a><a
href="https://en.wikipedia.org/wiki/Base64"><span style='color:black;
text-decoration:none'>,</span></a> represented as <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>base64</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.6pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><a
href="https://en.wikipedia.org/wiki/Hexadecimal"><b><span style='color:#3445FF'>Hexadecimal</span></b></a><a
href="https://en.wikipedia.org/wiki/Hexadecimal"><span style='color:black;
text-decoration:none'>,</span></a> represented as <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>hex</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:22.0pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:-1895127040'><span style='left:0px;position:absolute;
left:229px;top:-122405px;width:226px;height:1px'><img width=226 height=1
src="How%20To%20Code%20in%20Node.js_files/image695.gif"></span></span><a
href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1"><b><span style='color:#3445FF'>ISO/IEC
8859-1</span></b></a><a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1"><span
style='color:black;text-decoration:none'>,</span></a> represented as <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>latin1</span>
or <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>binary</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895126016'><span
style='left:0px;position:absolute;left:542px;top:-122459px;width:69px;
height:1px'><img width=69 height=1
src="How%20To%20Code%20in%20Node.js_files/image696.gif"></span></span><span
style='position:relative;z-index:252358656'><span style='left:0px;position:
absolute;left:1px;top:-122459px;width:57px;height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image267.gif"></span></span>All of
these values can be used in Buffer class functions that accept an <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>en coding</span>
parameter. Therefore, these values are all valid for the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>alloc() </span>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252359680'><span
style='left:0px;position:absolute;left:428px;top:-122526px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>So far
we’ve been creating new buffers with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>alloc()</span> function. But
sometimes we may want to create a buffer from data that already exists, like a
string or array.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252360704'><span
style='left:0px;position:absolute;left:449px;top:-122593px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>To create
a buffer from pre-existing data, we use the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>from()</span> method. We can use
that function to create buffers from:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='position:relative;z-index:
252361728'><span style='left:0px;position:absolute;left:493px;top:-122678px;
width:88px;height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image697.gif"></span></span><span
style='position:relative;z-index:252362752'><span style='left:0px;position:
absolute;left:71px;top:-122678px;width:106px;height:1px'><img width=106
height=1 src="How%20To%20Code%20in%20Node.js_files/image698.gif"></span></span><img
width=6 height=1 src="How%20To%20Code%20in%20Node.js_files/image232.gif"
align=left hspace=12><img width=6 height=1
src="How%20To%20Code%20in%20Node.js_files/image232.gif" align=left hspace=12>An
array of integers: The integer values can be between <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>0</span> and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>255</span>.
An <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ArrayBuffer</span>:
This is a JavaScript object that stores a fixed length of bytes. A string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.15pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Another buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.05pt;
margin-left:16.75pt;text-indent:0in'><span style='position:relative;z-index:
252365824'><span style='left:0px;position:absolute;left:361px;top:-122778px;
width:169px;height:1px'><img width=169 height=1
src="How%20To%20Code%20in%20Node.js_files/image699.gif"></span></span><span
style='position:relative;z-index:252366848'><span style='left:0px;position:
absolute;left:131px;top:-122778px;width:375px;height:1px'><img width=375
height=1 src="How%20To%20Code%20in%20Node.js_files/image700.gif"></span></span><span
style='position:relative;z-index:252367872'><span style='left:0px;position:
absolute;left:546px;top:-122778px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>Other
JavaScript objects that have a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Symbol.toPrimitive</span> property. That property
tells JavaScript how to convert the object to a primitive data type: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>boolean</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>null</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>number</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>string</span>,
or <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>symbol</span>.
You can read more about Symbols at Mozilla’s JavaScript <a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><span
style='color:#3445FF'>documentation</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s see how we can create a buffer from a string. In the
Node.js prompt, enter this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:27.9pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>const stringBuf = Buffer.from('My name is Paul');</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.5pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895114752'><span
style='left:0px;position:absolute;left:12px;top:-123018px;width:595px;
height:1px'><img width=595 height=1
src="How%20To%20Code%20in%20Node.js_files/image701.gif"></span></span>We now
have a buffer object created from the string <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>My name is Paul</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:50.65pt;margin-bottom:
3.4pt;margin-left:16.0pt;text-indent:-15.75pt;line-height:299%'><span
style='position:relative;z-index:-1895113728'><span style='left:0px;position:
absolute;left:12px;top:-123052px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image702.gif"></span></span>Let’s
create a new buffer from another buffer we made earlier: <span
style='font-size:11.0pt;line-height:299%;font-family:"Courier New"'>const
asciiCopy = Buffer.from(asciiBuf);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.25pt'><span style='position:relative;z-index:252370944'><span
style='left:0px;position:absolute;left:22px;top:-123176px;width:80px;
height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image703.gif"></span></span>We’ve now
created a new buffer <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>asciiCopy</span> that contains the same data as <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>asciiBuf</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that we have experienced creating buffers, we can dive
into examples of reading their data.</p>

<h2 style='margin-left:.5pt'>Step 2 — Reading from a Buffer</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>There are many ways to access data in a
Buffer. We can access an individual byte in a buffer or we can extract the
entire contents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252371968'><span
style='left:0px;position:absolute;left:217px;top:-123411px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>To access
one byte of a buffer, we pass the index or location of the byte we want.
Buffers store data sequentially like arrays. They also index their data like
arrays, starting at <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>0</span>. We can use array notation on the buffer object to get
an individual byte.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:13.8pt;
margin-bottom:0in;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'>Let’s see how this looks by creating a buffer from a string
in the REPL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image704.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now
let’s read the first byte of the buffer:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=94
src="How%20To%20Code%20in%20Node.js_files/image705.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image706.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252372992'><span style='left:0px;position:absolute;left:117px;
top:-123844px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>The
integer <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>72</span>
corresponds the UTF-8 representation for the letter <span style='font-size:
11.0pt;line-height:107%;font-family:"Courier New"'>H</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895109632'><span
style='left:0px;position:absolute;left:443px;top:-123878px;width:132px;
height:1px'><img width=132 height=1
src="How%20To%20Code%20in%20Node.js_files/image707.gif"></span></span><span
style='position:relative;z-index:252375040'><span style='left:0px;position:
absolute;left:62px;top:-123878px;width:58px;height:1px'><img width=58 height=1
src="How%20To%20Code%20in%20Node.js_files/image708.gif"></span></span><b>Note</b>:
The values for bytes can be numbers between <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>0</span> and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>255</span>.
A byte is a sequence of 8 bits. A bit is binary, and therefore can only have
one of two values: <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>0</span> or <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>1</span>. If we have a sequence of 8 bits and two
possible values per bit, then we have a maximum of 2&#8312; possible values for
a byte. That works out to a maximum of 256 values. Since we start counting from
zero, that means our highest number is 255.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.7pt;
margin-left:15.75pt;text-indent:0in'>Let’s do the same for the second byte.
Enter the following in the REPL:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:-1895107584'><span style='left:0px;position:absolute;
left:12px;top:-124151px;width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>The REPL
returns <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>105</span>,
which represents the lowercase <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>i</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.6pt;
margin-left:15.75pt;text-indent:0in'>Finally, let’s get the third character:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:-1895106560'><span style='left:0px;position:absolute;
left:12px;top:-124293px;width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>You will
see <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>33</span>
displayed in the REPL, which corresponds to <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>!</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Let’s
try to retrieve a byte from an invalid index:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image709.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL will return:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image710.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This is just like if we tried to access an element in an
array with an incorrect index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252378112'><span
style='left:0px;position:absolute;left:182px;top:-124572px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='position:relative;z-index:252379136'><span style='left:0px;position:
absolute;left:347px;top:-124572px;width:79px;height:1px'><img width=79
height=1 src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>Now
that we’ve seen how to read individual bytes of a buffer, let’s see our options
for retrieving all the data stored in a buffer at once. The buffer object comes
with the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toString()</span>
and the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toJSON()</span>
methods, which return the entire contents of a buffer in two different formats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252380160'><span
style='left:0px;position:absolute;left:237px;top:-124705px;width:98px;
height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image711.gif"></span></span><span
style='position:relative;z-index:252381184'><span style='left:0px;position:
absolute;left:1px;top:-124705px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span><span
style='position:relative;z-index:252382208'><span style='left:0px;position:
absolute;left:236px;top:-124705px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>As
its name suggests, the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>toString()</span> method converts the bytes of the
buffer into a string and returns it to the user. If we use this method on <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>hiBuf</span>,
we will get the string <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Hi!</span>. Let’s try it!</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
the prompt, enter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image712.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL will return:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image713.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252383232'><span
style='left:0px;position:absolute;left:30px;top:-125055px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>That
buffer was created from a string. Let’s see what happens if we use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toString()</span>
on a buffer that was not made from string data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=198 src="How%20To%20Code%20in%20Node.js_files/image714.gif"></span>Let’s
create a new, empty buffer that’s <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>10</span> bytes large:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:30.7pt;
margin-left:15.75pt;text-indent:0in'>We will see the following result:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:44.15pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1895099392'><span
style='left:0px;position:absolute;left:12px;top:-125426px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image715.gif"></span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>'\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895098368'><span
style='left:0px;position:absolute;left:96px;top:-125503px;width:75px;
height:1px'><img width=75 height=1
src="How%20To%20Code%20in%20Node.js_files/image716.gif"></span></span><span
style='position:relative;z-index:252386304'><span style='left:0px;position:
absolute;left:418px;top:-125503px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252387328'><span style='left:0px;position:
absolute;left:553px;top:-125503px;width:57px;height:1px'><img width=57
height=1 src="How%20To%20Code%20in%20Node.js_files/image717.gif"></span></span>The
string <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>\u0000</span>
is the Unicode character for <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>NULL</span>. It corresponds to the number <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>.
When the buffer’s data is not encoded as a string, the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>toStri ng()</span> method
returns the UTF-8 encoding of the bytes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895095296'><span
style='left:0px;position:absolute;left:1px;top:-125604px;width:154px;
height:1px'><img width=154 height=1
src="How%20To%20Code%20in%20Node.js_files/image718.gif"></span></span><span
style='position:relative;z-index:252389376'><span style='left:0px;position:
absolute;left:388px;top:-125604px;width:80px;height:1px'><img width=80
height=1 src="How%20To%20Code%20in%20Node.js_files/image719.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toString()</span>
has an optional parameter, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>encoding</span>. We can use this parameter to change
the encoding of the buffer data that’s returned.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252390400'><span
style='left:0px;position:absolute;left:521px;top:-125671px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image720.gif"></span></span>For
example, if you wanted the hexadecimal encoding for <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>hiBuf</span> you would enter
the following at the prompt:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image721.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>That statement will
evaluate to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image722.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:17.25pt'><span style='position:relative;
z-index:-1895092224'><span style='left:0px;position:absolute;left:21px;
top:-125962px;width:67px;height:1px'><img width=67 height=1
src="How%20To%20Code%20in%20Node.js_files/image723.gif"></span></span><span
style='position:relative;z-index:252392448'><span style='left:0px;position:
absolute;left:580px;top:-125962px;width:31px;height:1px'><img width=31
height=1 src="How%20To%20Code%20in%20Node.js_files/image724.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>486921</span>
is the hexadecimal representation for the bytes that represent the string <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Hi!</span>.
In Node.js, when users want to convert the encoding of data from one form to
another, they usually put the string in a buffer and call <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toS tring()</span>
with their desired encoding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895090176'><span
style='left:0px;position:absolute;left:1px;top:-126062px;width:138px;
height:1px'><img width=138 height=1
src="How%20To%20Code%20in%20Node.js_files/image725.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toJSON()</span>
method behaves differently. Regardless of whether the buffer was made from a
string or not, it always returns the data as the integer representation of the
byte.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252394496'><span
style='left:0px;position:absolute;left:177px;top:-126128px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252395520'><span style='left:0px;position:
absolute;left:286px;top:-126128px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span>Let’s
re-use the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>hiBuf</span>
and <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>tenZeroes</span>
buffers to practice using </p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:1.0pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image726.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL will return:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image727.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252396544'><span
style='left:0px;position:absolute;left:212px;top:-126417px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252397568'><span style='left:0px;position:
absolute;left:490px;top:-126417px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>The
JSON object has a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>type</span> property that will always be <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Buffer</span>. That’s so
programs can distinguish these JSON object from other JSON objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252398592'><span
style='left:0px;position:absolute;left:58px;top:-126484px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:252399616'><span style='left:0px;position:
absolute;left:273px;top:-126484px;width:68px;height:1px'><img width=68
height=1 src="How%20To%20Code%20in%20Node.js_files/image728.gif"></span></span><span
style='position:relative;z-index:252400640'><span style='left:0px;position:
absolute;left:385px;top:-126484px;width:24px;height:1px'><img width=24
height=1 src="How%20To%20Code%20in%20Node.js_files/image625.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>data</span>
property contains an array of the integer representation of the bytes. You may
have noticed that <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>72</span>, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>105</span>, and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>33</span> correspond to the values
we received when we individually pulled the bytes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image729.gif"></span>Let’s
try the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>toJSON()</span>
method with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>tenZeroes</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>In the REPL you will see
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=172
src="How%20To%20Code%20in%20Node.js_files/image730.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252401664'><span
style='left:0px;position:absolute;left:57px;top:-126930px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>type</span>
is the same as noted before. However, the data is now an array with ten zeroes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that we’ve covered the main ways to read from a buffer,
let’s look at how we modify a buffer’s contents.</p>

<h2 style='margin-left:.5pt'>Step 3 — Modifying a Buffer</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>There are many ways we can modify an
existing buffer object. Similar to reading, we can modify buffer bytes
individually using the array syntax. We can also write new contents to a
buffer, replacing the existing data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895080960'><span
style='left:0px;position:absolute;left:231px;top:-127194px;width:91px;
height:1px'><img width=91 height=1
src="How%20To%20Code%20in%20Node.js_files/image731.gif"></span></span><span
style='position:relative;z-index:252403712'><span style='left:0px;position:
absolute;left:523px;top:-127194px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image732.gif"></span></span>Let’s
begin by looking at how we can change individual bytes of a buffer. Recall our
buffer variable <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>hiBuf</span>, which contains the string <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Hi!</span>. Let’s change
each byte so that it contains <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Hey</span> instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.05pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895078912'><span style='left:0px;position:absolute;left:12px;top:-127294px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>In the
REPL, let’s first try setting the second element of <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>hiBuf</span> to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>e</span>:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:5.6pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Now, let’s see this buffer as a string to confirm it’s
storing the right data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Follow up by calling the <span
style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image733.gif"></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>toString()</span>
method:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>It will be evaluated as:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image734.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=611 height=267
src="How%20To%20Code%20in%20Node.js_files/image735.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>We get this output in the
REPL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image736.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>To
change the last character in the buffer, we need to set the third element</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:27.9pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=238
src="How%20To%20Code%20in%20Node.js_files/image737.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image738.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>If we try to write a byte that’s outside the range of the
buffer, it will be ignored and the contents of the buffer won’t change. For
example, let’s try</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=613 height=164
src="How%20To%20Code%20in%20Node.js_files/image739.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image740.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The output is still:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.3pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image738.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252405760'><span
style='left:0px;position:absolute;left:599px;top:-129000px;width:12px;
height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252406784'><span style='left:0px;position:
absolute;left:1px;top:-129000px;width:57px;height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image267.gif"></span></span><span
style='position:relative;z-index:252407808'><span style='left:0px;position:
absolute;left:173px;top:-129000px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>If
we wanted to change the contents of the entire buffer, we can use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>w rite()</span>
method. The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>write()</span>
method accepts a string that will replace the contents of a buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.3pt;
margin-left:.25pt;line-height:229%'><span style='position:relative;z-index:
-1895074816'><span style='left:0px;position:absolute;left:1px;top:-129066px;
width:600px;height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image741.gif"></span></span><span
style='position:relative;z-index:252409856'><span style='left:0px;position:
absolute;left:129px;top:-129066px;width:69px;height:1px'><img width=69
height=1 src="How%20To%20Code%20in%20Node.js_files/image689.gif"></span></span><span
style='position:relative;z-index:252410880'><span style='left:0px;position:
absolute;left:477px;top:-129066px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252411904'><span style='left:0px;position:
absolute;left:599px;top:-129066px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>Let’s
use the <span style='font-size:11.0pt;line-height:229%;font-family:"Courier New"'>write()</span>
method to change the contents of <span style='font-size:11.0pt;line-height:
229%;font-family:"Courier New"'>hiBuf</span> back to <span style='font-size:
11.0pt;line-height:229%;font-family:"Courier New"'>H i!</span>. In your Node.js
shell, type the following command at the prompt: <span style='font-size:11.0pt;
line-height:229%;font-family:"Courier New"'>hiBuf.write('Hi!');</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>write()</span> method returned <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>3</span> in
the REPL. This is because it wrote three bytes of data. Each letter has one
byte in size, since this buffer uses UTF-8 encoding, which uses a byte for each
character. If the buffer used</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=159
src="How%20To%20Code%20in%20Node.js_files/image742.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL will produce:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image743.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This is quicker than
having to change each element byte-by-byte.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>If you try to write more bytes than a buffer’s size, the
buffer object will only accept what bytes fit. To illustrate, let’s create a
buffer that stores three bytes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=202
src="How%20To%20Code%20in%20Node.js_files/image744.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>three bytes were written to the buffer. Now
confirm that the buffer contains the first three bytes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image745.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
REPL returns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image746.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252412928'><span
style='left:0px;position:absolute;left:57px;top:-130210px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>write()</span>
function adds the bytes in sequential order, so only the first three bytes were
placed in the buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.05pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1895069696'><span style='left:0px;position:absolute;left:12px;top:-130276px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>By
contrast, let’s make a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Buffer</span> that stores four bytes:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Write
the same contents to it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image747.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Then add some new content that occupies less space than the
original content:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image748.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>contents:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image749.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>We’d be greeted with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image750.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The first two characters are overwritten, but the rest of
the buffer is untouched.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252414976'><span
style='left:0px;position:absolute;left:551px;top:-130868px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>Sometimes
the data we want in our pre-existing buffer is not in a string but resides in
another buffer object. In these cases, we can use the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>copy() </span>function to
modify what our buffer is storing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.5pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Let’s create two new
buffers:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.5pt;
margin-bottom:18.25pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>const wordsBuf = Buffer.from('Banana Nananana'); const
catchphraseBuf = Buffer.from('Not sure Turtle!');</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895067648'><span
style='left:0px;position:absolute;left:1px;top:-131106px;width:600px;
height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image751.gif"></span></span><span
style='position:relative;z-index:-1895066624'><span style='left:0px;position:
absolute;left:383px;top:-131106px;width:207px;height:1px'><img width=207
height=1 src="How%20To%20Code%20in%20Node.js_files/image752.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catchphraseBuf</span>
buffers both contain string data. We want to modify <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>catchphraseBuf</span> so
that it stores <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Nananana
Turtle!</span> instead of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Not sure Turtle!</span>. We’ll use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>copy()</span>
to get <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Nananana</span>
from <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catchphraseBuf</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.95pt;
margin-left:.25pt;line-height:198%'><span style='position:relative;z-index:
-1895065600'><span style='left:0px;position:absolute;left:12px;top:-131208px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image753.gif"></span></span><span
style='position:relative;z-index:-1895064576'><span style='left:0px;position:
absolute;left:484px;top:-131208px;width:126px;height:1px'><img width=126
height=1 src="How%20To%20Code%20in%20Node.js_files/image754.gif"></span></span>To
copy data from one buffer to the other, we’ll use the <span style='font-size:
11.0pt;line-height:198%;font-family:"Courier New"'>copy()</span> method on the
buffer that’s the source of the information. Therefore, as <span
style='font-size:11.0pt;line-height:198%;font-family:"Courier New"'>wordsBuf </span>has
the string data we want to copy, we need to copy like this: <span
style='font-size:11.0pt;line-height:198%;font-family:"Courier New"'>wordsBuf.copy(catchphraseBuf);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.05pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>target</span>
parameter in this case is the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>catchphraseBuf</span> buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252420096'><span
style='left:0px;position:absolute;left:222px;top:-131404px;width:80px;
height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image719.gif"></span></span><span
style='position:relative;z-index:252421120'><span style='left:0px;position:
absolute;left:536px;top:-131404px;width:75px;height:1px'><img width=75
height=1 src="How%20To%20Code%20in%20Node.js_files/image273.gif"></span></span>When
we enter that into the REPL, it returns <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>15</span> indicating that 15 bytes
were written. The string <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Nananana</span> only uses 8 bytes of data, so we
immediately know that our copy did not go as intended. Use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toString ()</span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image755.gif"></span> method to see
the contents of <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>catchphraseBuf</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL returns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image756.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.55pt;
margin-left:.25pt;line-height:187%'><span style='position:relative;z-index:
-1895061504'><span style='left:0px;position:absolute;left:12px;top:-131795px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image757.gif"></span></span><span
style='position:relative;z-index:-1895060480'><span style='left:0px;position:
absolute;left:39px;top:-131795px;width:142px;height:1px'><img width=142
height=1 src="How%20To%20Code%20in%20Node.js_files/image758.gif"></span></span><span
style='position:relative;z-index:252424192'><span style='left:0px;position:
absolute;left:417px;top:-131795px;width:78px;height:1px'><img width=78
height=1 src="How%20To%20Code%20in%20Node.js_files/image322.gif"></span></span><span
style='position:relative;z-index:252425216'><span style='left:0px;position:
absolute;left:478px;top:-131795px;width:132px;height:1px'><img width=132
height=1 src="How%20To%20Code%20in%20Node.js_files/image759.gif"></span></span>By
default, <span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>copy()</span>
took the entire contents of <span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'>wordsBuf</span> and placed it into <span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>catchphraseBuf</span>.
We need to be more selective for our goal and only copy <span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New"'>Nananana</span>. Let’s
re-write the original contents of <span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New"'>catchphraseBuf </span>before continuing: <span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>catchphraseBuf.write('Not
sure Turtle!');</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.7pt;
margin-left:.25pt'>The <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>copy()</span> function has a few more parameters
that allow us to customize what data is copied to the other buffer. Here’s a
list of all the parameters of this function:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:33.0pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252426240'><span style='left:0px;position:absolute;left:22px;
top:-132067px;width:80px;height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image760.gif"></span></span><span
style='position:relative;z-index:252427264'><span style='left:0px;position:
absolute;left:425px;top:-132067px;width:60px;height:1px'><img width=60
height=1 src="How%20To%20Code%20in%20Node.js_files/image282.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>target</span>
- This is the only required parameter of <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>copy()</span>. As we’ve seen</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:30.75pt;text-indent:0in;line-height:107%'>from our previous usage,
it is the buffer we want to copy to.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:2.25pt'><span style='position:relative;
z-index:252428288'><span style='left:0px;position:absolute;left:22px;
top:-132133px;width:125px;height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image761.gif"></span></span><span
style='position:relative;z-index:252429312'><span style='left:0px;position:
absolute;left:401px;top:-132133px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>targetStart</span>
- This is the index of the bytes in the target buffer where we should begin
copying to. By default it’s <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>0</span>, meaning it copies data starting at the
beginning of the buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:33.0pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252430336'><span style='left:0px;position:absolute;left:22px;
top:-132233px;width:125px;height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image761.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>sourceStart</span>
- This is the index of the bytes in the source buffer where</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:30.75pt;text-indent:0in;line-height:107%'>we should copy from.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:2.25pt'><span style='position:relative;
z-index:252431360'><span style='left:0px;position:absolute;left:22px;
top:-132300px;width:107px;height:1px'><img width=107 height=1
src="How%20To%20Code%20in%20Node.js_files/image762.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sourceEnd</span>
- This is the index of the bytes in the source buffer where we should stop
copying. By default, it’s the length of the buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.75pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895051264'><span
style='left:0px;position:absolute;left:1px;top:-132367px;width:610px;
height:1px'><img width=610 height=1
src="How%20To%20Code%20in%20Node.js_files/image763.gif"></span></span>So, to
copy <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Nananana</span>
from <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf</span>
into <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>catchphraseBuf</span>,
our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>target
</span>should be <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>catchphraseBuf</span> like before. The <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>targetStart</span> would be <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span> as
we want <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Nananana</span>
to appear at the beginning of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>catchphraseBuf</span>. The <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>sourceS tart</span> should
be <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>7</span>
as that’s the index where <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Nananana</span> begins in <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:72.8pt;margin-bottom:
12.25pt;margin-left:15.25pt;text-indent:-15.0pt;line-height:230%'><span
style='position:relative;z-index:-1895050240'><span style='left:0px;position:
absolute;left:12px;top:-132501px;width:600px;height:1px'><img width=600
height=1 src="How%20To%20Code%20in%20Node.js_files/image764.gif"></span></span>The
<span style='font-size:11.0pt;line-height:230%;font-family:"Courier New"'>sourceEnd</span>
would continue to be the length of the buffers. At the REPL prompt, copy the
contents of <span style='font-size:11.0pt;line-height:230%;font-family:"Courier New"'>wordsBuf</span>
like this: <span style='font-size:11.0pt;line-height:230%;font-family:"Courier New"'>wordsBuf.copy(catchphraseBuf,
0, 7, wordsBuf.length);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.55pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895049216'><span
style='left:0px;position:absolute;left:1px;top:-132663px;width:57px;height:
1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image765.gif"></span></span><span
style='position:relative;z-index:252435456'><span style='left:0px;position:
absolute;left:285px;top:-132663px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span>The
REPL confirms that <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>8</span> bytes have been written. Note how <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf.
length</span> is used as the value for the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>sourceEnd</span> parameter. Like
arrays, the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>l
ength</span> property gives us the size of the buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image766.gif"></span>Now
let’s see the contents of <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>catchphraseBuf</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The REPL returns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image767.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.55pt;
margin-left:.25pt'><span style='position:relative;z-index:252436480'><span
style='left:0px;position:absolute;left:384px;top:-133053px;width:133px;
height:1px'><img width=133 height=1
src="How%20To%20Code%20in%20Node.js_files/image768.gif"></span></span><span
style='position:relative;z-index:252437504'><span style='left:0px;position:
absolute;left:123px;top:-133053px;width:80px;height:1px'><img width=80
height=1 src="How%20To%20Code%20in%20Node.js_files/image719.gif"></span></span>Success!
We were able to modify the data of <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>catchphraseBuf</span> by copying the contents
of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordsBuf</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>You can exit the Node.js REPL if you would like to do so.
Note that all the variables that were created will no longer be available when
you do:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image769.gif"></span></p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252438528'><span
style='left:0px;position:absolute;left:1px;top:-133287px;width:97px;height:
1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='position:relative;z-index:252439552'><span style='left:0px;position:
absolute;left:140px;top:-133287px;width:79px;height:1px'><img width=79
height=1 src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span><span
style='position:relative;z-index:252440576'><span style='left:0px;position:
absolute;left:490px;top:-133287px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252441600'><span style='left:0px;position:
absolute;left:599px;top:-133287px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252442624'><span style='left:0px;position:
absolute;left:1px;top:-133287px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span>In this
tutorial, you learned that buffers are fixed-length allocations in memory that
store binary data. You first created buffers by defining their size in memory
and by initializing them with pre-existing data. You then read data from a
buffer by examining their individual bytes and by using the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toString()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>toJSON()</span>
methods. Finally, you modified the data stored by a buffer by changing its
individual bytes and by using the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>write()</span> and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>c opy()</span> methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252443648'><span
style='left:0px;position:absolute;left:166px;top:-133486px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>Buffers
give you great insight into how binary data is manipulated by Node.js. Now that
you can interact with buffers, you can observe the different ways character
encoding affect how data is stored. For example, you can create buffers from
string data that are not UTF-8 or ASCII encoding and observe their difference
in size. You can also take a buffer with UTF-8 and use <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>toString()</span> to convert
it to other encoding schemes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252444672'><span
style='left:0px;position:absolute;left:192px;top:-133652px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><a
href="https://nodejs.org/api/buffer.html"><span style='color:black;text-decoration:
none'>To learn about buffers in Node.js, you can read the </span></a><a
href="https://nodejs.org/api/buffer.html"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/buffer.html"><span style='color:#3445FF;
text-decoration:none'>.j</span></a><a href="https://nodejs.org/api/buffer.html"><span
style='color:#3445FF'>s documentation</span></a><a
href="https://nodejs.org/api/buffer.html"><span style='color:black;text-decoration:
none'> on the </span></a><a href="https://nodejs.org/api/buffer.html"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>Buffer</span></a><a
href="https://nodejs.org/api/buffer.html"><span style='color:black;text-decoration:
none'> object. If you’d like to continue learning </span></a>Node.js, you can
return to the <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a>, or browse programming projects and
setups on our <a href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> Event Emitters in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Event emitters are objects in <a
href="https://nodejs.org/en/about/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/en/about/"><span style='color:#3445FF;text-decoration:
none'>.j</span></a><a href="https://nodejs.org/en/about/"><span
style='color:#3445FF'>s</span></a><a href="https://nodejs.org/en/about/"><span
style='color:black;text-decoration:none'> </span></a>that trigger an event by
sending a message to signal that an action was completed. <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a> developers can write code that listens to <a
href="https://www.digitalocean.com/community/tutorials/understanding-events-in-javascript"><span
style='color:#3445FF'>events</span></a> from an event emitter, allowing them to
execute <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>functions</span></a> every time those events are
triggered. In this context, events are composed of an identifying <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF'>strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g</span></a> and any data that needs
to be passed to the listeners.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Typically in Node.js, when we want to have an action occur
upon completion of another action, we use <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>as</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>ro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>rammin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g </span></a>techniques like nesting
callbacks or chaining promises. However, these techniques tightly couple the
triggering action and the resulting action, making it difficult to modify the
resulting action in the future. Event emitters provide a different way to structure
this relationship: the publishsubscribe pattern. In this software architecture
pattern, a publisher (the event emitter) sends a message (an event), and a
subscriber receives the event and performs an action. The power of this pattern
is that the publisher does not need to know about the subscribers. A publisher
publishes a message, and it’s up to the subscribers to react to it in their
respective ways. If we wanted to change the behavior of our application, we
could adjust how the subscribers react to the events without having to change
the publisher.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.4pt;
margin-left:.25pt'><span style='position:relative;z-index:252445696'><span
style='left:0px;position:absolute;left:488px;top:-134510px;width:123px;
height:1px'><img width=123 height=1
src="How%20To%20Code%20in%20Node.js_files/image770.gif"></span></span><span
style='position:relative;z-index:252446720'><span style='left:0px;position:
absolute;left:30px;top:-134510px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>In this
article, we will create an event listener for a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>TicketManager </span><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>t class</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>that allows a user to buy
tickets. We will set up listeners for the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy</span> event, which will
trigger every time a ticket is bought. This process will also show how to
manage erroneous events from the emitter and how to manage event subscribers.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 248727"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> Node.js
installed on your development machine. This tutorial uses version 10.20.1. To
install this on macOS or Ubuntu 18.04, follow the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How to Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 248728"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> The main
example in this article makes use of JavaScript classes as they were introduced
in <a href="http://www.ecma-international.org/ecma-262/6.0/"><span
style='color:#3445FF'>ES2015</span></a> (commonly referred to as ES6). If <a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'>you’d like to learn about classes in
JavaScript, read our </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>Understandin</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>Classes in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript"><span
style='color:black;text-decoration:none'> tutorial.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Emitting Events</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>In this step, we’ll explore the two most
common ways to create an event emitter in Node.js. The first is to use an event
emitter object directly, and the second is to create an object that <a
href="https://www.digitalocean.com/community/tutorials/understanding-classes-in-javascript#extending-a-class"><span
style='color:#3445FF'>extends</span></a> the event emitter object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Deciding which one to use depends on how coupled your events
are to the actions of your objects. If the events you want to emit are an
effect of an object’s actions, you would likely extend from the event emitter
object to have access to its functions for convenience. If the events you want
to emit are independent of your business objects or are a result of actions
from many business objects, you would instead create an independent event
emitter object that’s referenced by your objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.5pt;
margin-left:.25pt'>Let’s begin by creating a standalone, event-emitting object.
We’ll begin by creating a folder to store all of our code. In your terminal,
make a new folder called <span style='font-size:11.0pt;line-height:142%;
font-family:"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image771.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>event-emitters</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.35pt;
margin-left:15.75pt;text-indent:0in'>Then enter that folder:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:.25pt;line-height:230%'><span style='position:relative;z-index:
-1895035904'><span style='left:0px;position:absolute;left:12px;top:-135628px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span><span
style='position:relative;z-index:-1895034880'><span style='left:0px;position:
absolute;left:12px;top:-135628px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image772.gif"></span></span>Open
the first event emitter, <span style='font-size:11.0pt;line-height:230%;
font-family:"Courier New"'>firstEventEmitter.js</span>, in a text editor. We
will use <span style='font-size:11.0pt;line-height:230%;font-family:"Courier New"'>nano</span>
as it’s available in the terminal: <span style='font-size:11.0pt;line-height:
230%;font-family:"Courier New"'>nano firstEventEmitter.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:.25pt'><span style='position:relative;z-index:252449792'><span
style='left:0px;position:absolute;left:56px;top:-135751px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252450816'><span style='left:0px;position:
absolute;left:460px;top:-135751px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>In
Node.js, we emit events via the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>EventEmitter</span> class. This class is part of the
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>events</span>
module. Let’s begin by first loading the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>events</span> module in our file by
adding the following line:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=117
src="How%20To%20Code%20in%20Node.js_files/image773.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>With the class imported, we can use it to create a new
object instance from it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=181
src="How%20To%20Code%20in%20Node.js_files/image774.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:7.0pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><img width=599 height=1
src="How%20To%20Code%20in%20Node.js_files/image266.gif" align=left hspace=12><img
width=187 height=1 src="How%20To%20Code%20in%20Node.js_files/image775.gif"
align=left hspace=12>Let’s emit an event by adding the following highlighted
line at the end of </p>

<p class=MsoNormal style='margin-top:28.55pt;margin-right:.7pt;margin-bottom:
.25pt;margin-left:.25pt'><span style='position:relative;z-index:252453888'><span
style='left:0px;position:absolute;left:58px;top:-136635px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>emit()</span>
function is used to fire events. We need to pass the name of the event to it as
a string. We can add any number of arguments after the event name. Events with
just a name are fairly limited; the other arguments allow us to send data to
our listeners. When we set up our ticket manager, our events will pass data
about the purchase when it happens. Keep the name of the event in mind, because
event listeners will identify it by this name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252454912'><span
style='left:0px;position:absolute;left:476px;top:-136863px;width:60px;
height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image282.gif"></span></span><span
style='position:relative;z-index:252455936'><span style='left:0px;position:
absolute;left:62px;top:-136863px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:252456960'><span style='left:0px;position:
absolute;left:154px;top:-136863px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><b>Note:</b>
While we don’t capture it in this example, the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>emit()</span> function returns <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>true</span>
if there are listeners for the event. If there are no listeners for an event,
it returns <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>false</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252457984'><span
style='left:0px;position:absolute;left:456px;top:-136930px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>Let’s run
this file to see what happens. Save and exit <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>nano</span>, then execute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image776.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252459008'><span
style='left:0px;position:absolute;left:464px;top:-137065px;width:147px;
height:1px'><img width=147 height=1
src="How%20To%20Code%20in%20Node.js_files/image777.gif"></span></span><span
style='position:relative;z-index:252460032'><span style='left:0px;position:
absolute;left:1px;top:-137065px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>When the
script finishes its execution, you will see no output in the terminal. That’s
because we do not log any messages in <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>firstEventEmitte r.js</span> and there’s
nothing that listens to the event that was sent. The event is emitted, but
nothing acts on these events.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s work toward seeing a more complete example of
publishing, listening to, and acting upon events. We’ll do this by creating a
ticket manager example application. The ticket manager will expose a function
to buy tickets. When a ticket is bought, an event will be sent with details of
the purchaser. Later, we’ll create another Node.js module to simulate an email
being sent to the purchaser’s email confirming the purchase.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252461056'><span
style='left:0px;position:absolute;left:517px;top:-137331px;width:94px;
height:1px'><img width=94 height=1
src="How%20To%20Code%20in%20Node.js_files/image778.gif"></span></span><span
style='position:relative;z-index:252462080'><span style='left:0px;position:
absolute;left:1px;top:-137331px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>Let’s
begin by creating our ticket manager. It will extend the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>EventEmitt
er</span> class so that we don’t have to create a separate event emitter object
to emit events.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.45pt;
margin-left:.25pt'><span style='position:relative;z-index:252463104'><span
style='left:0px;position:absolute;left:544px;top:-137398px;width:67px;
height:1px'><img width=67 height=1
src="How%20To%20Code%20in%20Node.js_files/image640.gif"></span></span>In the
same working directory, create and open a new file called <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ticketM
anager.js</span><span style='font-size:11.0pt;line-height:142%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=90
src="How%20To%20Code%20in%20Node.js_files/image779.gif"></span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252464128'><span
style='left:0px;position:absolute;left:453px;top:-137539px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image215.gif"></span></span><span
style='position:relative;z-index:252465152'><span style='left:0px;position:
absolute;left:79px;top:-137539px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>As with
the first event emitter, we need to import the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>EventEmitter</span> class from the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>events</span>
module. Put the following code at the beginning of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=117
src="How%20To%20Code%20in%20Node.js_files/image780.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252466176'><span
style='left:0px;position:absolute;left:173px;top:-137766px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>Now, make
a new <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
class that will soon define the method for ticket purchases:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=181
src="How%20To%20Code%20in%20Node.js_files/image781.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1895016448'><span
style='left:0px;position:absolute;left:139px;top:-138057px;width:182px;
height:1px'><img width=182 height=1
src="How%20To%20Code%20in%20Node.js_files/image782.gif"></span></span><span
style='position:relative;z-index:252468224'><span style='left:0px;position:
absolute;left:444px;top:-138057px;width:114px;height:1px'><img width=114
height=1 src="How%20To%20Code%20in%20Node.js_files/image197.gif"></span></span><span
style='position:relative;z-index:252469248'><span style='left:0px;position:
absolute;left:572px;top:-138057px;width:39px;height:1px'><img width=39
height=1 src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:252470272'><span style='left:0px;position:
absolute;left:1px;top:-138057px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>In this
case, the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
class extends the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>EventEmitter</span> class. This means that the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
class inherits the methods and properties of the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>EventEmitter</span> class. This is
how it gets access to the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>emit ()</span> method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252471296'><span
style='left:0px;position:absolute;left:349px;top:-138158px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>In our
ticket manager, we want to provide the initial supply of tickets that <a
href="https://www.digitalocean.com/community/tutorials/understanding-prototypes-and-inheritance-in-javascript#constructor-functions"><span
style='color:black;text-decoration:none'>can be purchased. We’ll do this by
accepting the initial supply in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-prototypes-and-inheritance-in-javascript#constructor-functions"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>constr
uctor()</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-prototypes-and-inheritance-in-javascript#constructor-functions"><span
style='color:black;text-decoration:none'>, a special function that’s called
when a new object of a class is </span></a>made. Add the following constructor
to the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
class:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=341
src="How%20To%20Code%20in%20Node.js_files/image783.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252472320'><span
style='left:0px;position:absolute;left:219px;top:-138671px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:-1895010304'><span style='left:0px;position:
absolute;left:367px;top:-138671px;width:244px;height:1px'><img width=244
height=1 src="How%20To%20Code%20in%20Node.js_files/image784.gif"></span></span><span
style='position:relative;z-index:252474368'><span style='left:0px;position:
absolute;left:1px;top:-138671px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span><span
style='position:relative;z-index:252475392'><span style='left:0px;position:
absolute;left:201px;top:-138671px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>The
constructor has one <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>supply</span> argument. This is a number detailing the initial
supply of tickets we can sell. Even though we declared that <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketMa
nager</span> is a child class of <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>EventEmitter</span>, we still need to call <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>super()</span>
to get access to the methods and properties of <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>EventEmitter</span>. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>super()</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252476416'><span
style='left:0px;position:absolute;left:1px;top:-138806px;width:93px;height:
1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image785.gif"></span></span>function
calls the constructor of the parent function, which in this case is <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Ev
entEmitter</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252477440'><span
style='left:0px;position:absolute;left:181px;top:-138843px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252478464'><span style='left:0px;position:
absolute;left:471px;top:-138843px;width:105px;height:1px'><img width=105
height=1 src="How%20To%20Code%20in%20Node.js_files/image649.gif"></span></span>Finally,
we create a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>supply</span>
property for the object with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>this.supply</span> and give it the value passed in
by the constructor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252479488'><span
style='left:0px;position:absolute;left:173px;top:-138909px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Now,
let’s add a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy()</span>
method that will be called when a ticket is purchased. This method will
decrease the supply by one and emit an event with the purchase data.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252480512'><span style='left:0px;position:
absolute;left:90px;top:-138976px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Add the <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>buy()</span>
method as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=501
src="How%20To%20Code%20in%20Node.js_files/image786.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252481536'><span
style='left:0px;position:absolute;left:79px;top:-139541px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252482560'><span style='left:0px;position:
absolute;left:189px;top:-139541px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>In
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy()</span>
function, we take the purchaser’s email address and the price they paid for the
ticket. We then decrease the supply of tickets by one. We end by emitting a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy</span>
event. This time, we emit an event with extra data: the email and price that
were passed in the function as well as a timestamp of when the purchase was
made.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>So that our other <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>s modules</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:black;text-decoration:none'> </span></a>can use this class, we
need to export it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Add this line at the end of
the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=181
src="How%20To%20Code%20in%20Node.js_files/image787.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.45pt;
margin-left:.25pt'><span style='position:relative;z-index:252483584'><span
style='left:0px;position:absolute;left:401px;top:-139984px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>We’ve
finished our setup for the event emitter <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>TicketManager</span>. Now that
we’ve put things in place to push events, we can move on to reading and
processing those events. To do that, we will create event listeners in the next
step.</p>

<h2 style='margin-left:.5pt'>Step 2 — Listening for Events</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.05pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252484608'><span
style='left:0px;position:absolute;left:451px;top:-140149px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>Node.js
allows us to add a listener for an event with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>on()</span> function of an event
emitter object. This listens for a particular event name and fires a callback
when the event is triggered. Adding a listener typically looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=118
src="How%20To%20Code%20in%20Node.js_files/image788.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252485632'><span
style='left:0px;position:absolute;left:258px;top:-140411px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:-1894996992'><span style='left:0px;position:
absolute;left:430px;top:-140411px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image789.gif"></span></span><b>Note:</b>:
Node.js aliases the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>on()</span> method with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>addListener()</span>. They perform
the same task. In this tutorial, we will continue to use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Let’s get some first-hand experience with listening to our
first event.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=133
src="How%20To%20Code%20in%20Node.js_files/image790.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>message upon receiving our
first event.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:4.5pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894995968'><span
style='left:0px;position:absolute;left:162px;top:-140682px;width:152px;
height:1px'><img width=152 height=1
src="How%20To%20Code%20in%20Node.js_files/image791.gif"></span></span>First,
let’s import <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
into our new Node.js module. Add the following code into <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>firstListener.js</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=181
src="How%20To%20Code%20in%20Node.js_files/image792.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252488704'><span
style='left:0px;position:absolute;left:121px;top:-140974px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span><span
style='position:relative;z-index:252489728'><span style='left:0px;position:
absolute;left:312px;top:-140974px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>Recall
that <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>TicketManager</span>
objects need their initial supply of tickets when created. This is why we pass
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>10</span>
argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252490752'><span
style='left:0px;position:absolute;left:578px;top:-141041px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Now let’s
add our first Node.js event listener. It will listen to the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy </span>event.
Add the following highlighted code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=309
src="How%20To%20Code%20in%20Node.js_files/image793.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:.85pt;margin-left:0in;text-align:left;line-height:145%'><span
style='position:relative;z-index:252491776'><span style='left:0px;position:
absolute;left:302px;top:-141456px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span><span
style='position:relative;z-index:252492800'><span style='left:0px;position:
absolute;left:572px;top:-141456px;width:39px;height:1px'><img width=39
height=1 src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span><span
style='position:relative;z-index:-1894989824'><span style='left:0px;position:
absolute;left:1px;top:-141456px;width:462px;height:1px'><img width=462
height=1 src="How%20To%20Code%20in%20Node.js_files/image794.gif"></span></span>To
add a new listener, we used the <span style='font-size:11.0pt;line-height:145%;
font-family:"Courier New"'>on()</span> function that’s a part of the <span
style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>tick
etManager</span> object. The <span style='font-size:11.0pt;line-height:145%;
font-family:"Courier New"'>on()</span> method is available to all event emitter
objects, and since <span style='font-size:11.0pt;line-height:145%;font-family:
"Courier New"'>TicketManager</span> inherits from the <span style='font-size:
11.0pt;line-height:145%;font-family:"Courier New"'>EventEmitter</span> class,
this method is available on all of the <span style='font-size:11.0pt;
line-height:145%;font-family:"Courier New"'>TicketManager</span> instance
objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252494848'><span
style='left:0px;position:absolute;left:232px;top:-141592px;width:244px;
height:1px'><img width=244 height=1
src="How%20To%20Code%20in%20Node.js_files/image795.gif"></span></span><span
style='position:relative;z-index:252495872'><span style='left:0px;position:
absolute;left:15px;top:-141592px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>The
second argument to the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>on()</span> method is a callback function, written
as an <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript#arrow-functions"><span
style='color:#3445FF'>arrow function</span></a>. The code in this function is
run after the event is emitted. In this case, we log <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>&quot;Someone bought a
ticket!&quot;</span> to the console if a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy</span> event is emitted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252496896'><span
style='left:0px;position:absolute;left:389px;top:-141691px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image181.gif"></span></span>Now that
we set up a listener, let’s use the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>buy()</span> function so that the event will be
emitted. At the end of your file add this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.05pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=181
src="How%20To%20Code%20in%20Node.js_files/image796.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894985728'><span
style='left:0px;position:absolute;left:131px;top:-141979px;width:73px;
height:1px'><img width=73 height=1
src="How%20To%20Code%20in%20Node.js_files/image797.gif"></span></span><span
style='position:relative;z-index:252498944'><span style='left:0px;position:
absolute;left:444px;top:-141979px;width:132px;height:1px'><img width=132
height=1 src="How%20To%20Code%20in%20Node.js_files/image759.gif"></span></span>This
performs the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy</span>
method with a user email of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>test@email.com</span> and a ticket price of <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>20</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image798.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your console will display
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image799.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.45pt;
margin-left:.25pt;line-height:227%'><span style='position:relative;z-index:
-1894983680'><span style='left:0px;position:absolute;left:12px;top:-142333px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image800.gif"></span></span>Your
first event listener worked. Let’s see what happens if we buy multiple tickets.
Re-open your <span style='font-size:11.0pt;line-height:227%;font-family:"Courier New"'>firstListener.js</span>
in your text editor: <span style='font-size:11.0pt;line-height:227%;font-family:
"Courier New"'>nano firstListener.js</span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>At
the end of the file, make another call to the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>buy()</span> function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=213
src="How%20To%20Code%20in%20Node.js_files/image801.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Save and exit the file. Let’s run the script with Node.js to
see what happens:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image802.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your console will display
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image803.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.45pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252500992'><span
style='left:0px;position:absolute;left:100px;top:-143023px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252502016'><span style='left:0px;position:
absolute;left:406px;top:-143023px;width:35px;height:1px'><img width=35
height=1 src="How%20To%20Code%20in%20Node.js_files/image804.gif"></span></span>Since
the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>buy()</span>
function was called twice, two <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>buy</span> events were emitted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Our listener picked up
both.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:252503040'><span
style='left:0px;position:absolute;left:329px;top:-143089px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Sometimes
we’re only interested in listening to the first time an event was fired, as
opposed to all the times it’s emitted. Node.js provides an alternative to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>
for this case with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>once()</span> function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.7pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894979584'><span
style='left:0px;position:absolute;left:67px;top:-143190px;width:153px;
height:1px'><img width=153 height=1
src="How%20To%20Code%20in%20Node.js_files/image805.gif"></span></span><span
style='position:relative;z-index:-1894978560'><span style='left:0px;position:
absolute;left:12px;top:-143190px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image806.gif"></span></span><span
style='position:relative;z-index:252506112'><span style='left:0px;position:
absolute;left:188px;top:-143190px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Like
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>,
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once()</span>
function accepts the event name as its first argument, and a callback function
that’s called when the event is fired as its second argument. Under the hood,
when the event is emitted and received by a listener that uses <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once()</span>,
Node.js automatically removes the listener and then executes the code in the
callback function. Let’s see <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>once()</span> in action by editing <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>firstListener.js</span>:
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano
firstListener.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'>At the end of the file, add a new event listener using <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once()</span>
like the following highlighted lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=533
src="How%20To%20Code%20in%20Node.js_files/image807.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image808.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The output is the same as
the last time:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image809.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252507136'><span
style='left:0px;position:absolute;left:366px;top:-144276px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252508160'><span style='left:0px;position:
absolute;left:1px;top:-144276px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>While we
added a new event listener with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>once()</span>, it was added after the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy</span>
events were emitted. Because of this, the listener didn’t detect these two
events. You can’t listen for events that already happened in the past.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.45pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>When you add a listener you
can only capture events that come after.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:relative;z-index:252509184'><span
style='left:0px;position:absolute;left:222px;top:-144408px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252510208'><span style='left:0px;position:
absolute;left:1px;top:-144408px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span><span
style='position:relative;z-index:252511232'><span style='left:0px;position:
absolute;left:359px;top:-144408px;width:151px;height:1px'><img width=151
height=1 src="How%20To%20Code%20in%20Node.js_files/image463.gif"></span></span>Let’s
add a couple more <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>buy()</span> function calls so we can confirm that the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once()</span>
listener only reacts one time. Open <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>firstListener.js</span> in your text</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>editor like before:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image810.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Add
the following calls at the end of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=341
src="How%20To%20Code%20in%20Node.js_files/image811.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit, then execute this program:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image812.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your output will be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=204
src="How%20To%20Code%20in%20Node.js_files/image813.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.05pt;
margin-left:.25pt'><span style='position:relative;z-index:252512256'><span
style='left:0px;position:absolute;left:365px;top:-145357px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252513280'><span style='left:0px;position:
absolute;left:550px;top:-145357px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image333.gif"></span></span>The
first two lines were from the first two <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy()</span> calls before the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once() </span>listener
was added. Adding a new event listener does not remove previous ones, so the
first event listener we added is still active and logs messages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894969344'><span
style='left:0px;position:absolute;left:170px;top:-145464px;width:224px;
height:1px'><img width=224 height=1
src="How%20To%20Code%20in%20Node.js_files/image814.gif"></span></span><span
style='position:relative;z-index:-1894968320'><span style='left:0px;position:
absolute;left:1px;top:-145464px;width:100px;height:1px'><img width=100
height=1 src="How%20To%20Code%20in%20Node.js_files/image815.gif"></span></span><span
style='position:relative;z-index:-1894967296'><span style='left:0px;position:
absolute;left:454px;top:-145464px;width:157px;height:1px'><img width=157
height=1 src="How%20To%20Code%20in%20Node.js_files/image816.gif"></span></span>Since
the event listener with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>on()</span> was declared before the event listener
with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>once()</span>,
we see <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Someone
bought a ticket!</span> before <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>This is only call ed once</span>. These two lines
are both responding to the second-to-last <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy </span>event.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894966272'><span
style='left:0px;position:absolute;left:231px;top:-145565px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image817.gif"></span></span>Finally,
when the last call to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>buy()</span> was made, the event emitter only had
the first listener that was created with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>on()</span>. As mentioned earlier,
when an event listener created with <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>once()</span> receives an event, it is
automatically removed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that we have added event listeners to detect our
emitters, we will see how to capture data with those listeners.</p>

<h2 style='margin-left:.5pt'>Step 3 — Capturing Event Data</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>So far, you’ve set up event listeners to
react to emitted events. The emitted events also pass along data. Let’s see how
we can capture the data that accompanies an event.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We’ll begin by creating some new Node.js modules: an email
service and a database service. They’ll be used to simulate sending an email
and saving to a database respectively. We’ll then tie them all together with
our main</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252518400'><span style='left:0px;position:absolute;left:132px;
top:-145963px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span>Node.js
script—<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.js</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.0pt;
margin-left:.25pt'>Let’s begin by editing our email service module. Open the
file in your text editor:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.8pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894964224'><span
style='left:0px;position:absolute;left:12px;top:-146104px;width:595px;
height:1px'><img width=595 height=1
src="How%20To%20Code%20in%20Node.js_files/image818.gif"></span></span><span
style='position:relative;z-index:252520448'><span style='left:0px;position:
absolute;left:473px;top:-146104px;width:33px;height:1px'><img width=33
height=1 src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span>Our
email service consists of a class that contains one method—<span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>send()</span>.
This method expects the email that’s emitted along with <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>buy</span> events. Add the
following code to your file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=309
src="How%20To%20Code%20in%20Node.js_files/image819.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252521472'><span
style='left:0px;position:absolute;left:188px;top:-146565px;width:116px;
height:1px'><img width=116 height=1
src="How%20To%20Code%20in%20Node.js_files/image185.gif"></span></span><span
style='position:relative;z-index:252522496'><span style='left:0px;position:
absolute;left:474px;top:-146565px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>This
code creates an <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>EmailService</span> class that contains a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>send()</span>
function. In lieu of sending an actual email, it uses <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#creating-and-viewing-the-output-of-strings"><span
style='color:#3445FF'>tem</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#creating-and-viewing-the-output-of-strings"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#creating-and-viewing-the-output-of-strings"><span
style='color:#3445FF'>late literals</span></a> to log a message to the console
that would contain the email address of someone buying a ticket. Save and exit
before moving on.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:54.8pt;
margin-left:.25pt'><span style='position:relative;z-index:252523520'><span
style='left:0px;position:absolute;left:355px;top:-146665px;width:170px;
height:1px'><img width=170 height=1
src="How%20To%20Code%20in%20Node.js_files/image820.gif"></span></span>Let’s set
up the database service. Open <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>databaseService.js</span> with your text editor:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894959104'><span
style='left:0px;position:absolute;left:12px;top:-146771px;width:599px;
height:1px'><img width=599 height=1
src="How%20To%20Code%20in%20Node.js_files/image266.gif"></span></span><span
style='position:relative;z-index:252525568'><span style='left:0px;position:
absolute;left:285px;top:-146771px;width:169px;height:1px'><img width=169
height=1 src="How%20To%20Code%20in%20Node.js_files/image821.gif"></span></span>The
database service saves our purchase data to a database via its <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>save() </span>method.
Add the following code to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>databaseService.js</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.2pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=355
src="How%20To%20Code%20in%20Node.js_files/image822.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894957056'><span
style='left:0px;position:absolute;left:179px;top:-147235px;width:194px;
height:1px'><img width=194 height=1
src="How%20To%20Code%20in%20Node.js_files/image823.gif"></span></span><span
style='position:relative;z-index:-1894956032'><span style='left:0px;position:
absolute;left:479px;top:-147235px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image824.gif"></span></span>This
creates a new <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DatabaseService</span>
class that contains a single <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>save() </span>method. Similar to the email service’s
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>send()</span>
method, the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>save()</span>
function uses the data that accompanies a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy</span> event, logging it to the
console instead of actually inserting it into a database. This method needs the
email of the purchaser, price of the ticket, and the time the ticket was
purchased to function. Save and exit the file.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:7.4pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>We will use our last file to bring the <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>TicketManager</span>,
<span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>EmailService</span>,
and </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:2.25pt'><span style='position:relative;
z-index:-1894955008'><span style='left:0px;position:absolute;left:322px;
top:-147437px;width:249px;height:1px'><img width=249 height=1
src="How%20To%20Code%20in%20Node.js_files/image825.gif"></span></span><span
style='position:relative;z-index:252529664'><span style='left:0px;position:
absolute;left:1px;top:-147437px;width:142px;height:1px'><img width=142
height=1 src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span><span
style='position:relative;z-index:252530688'><span style='left:0px;position:
absolute;left:227px;top:-147437px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span><span
style='position:relative;z-index:252531712'><span style='left:0px;position:
absolute;left:580px;top:-147437px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252532736'><span style='left:0px;position:
absolute;left:1px;top:-147437px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DatabaseService</span>
together. It will set up a listener for the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy</span> event and will call the
email service’s <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>send()</span> function and the database service’s <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sav e()</span>
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image826.gif"></span>Open
the <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.js</span>
file in your text editor:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
first thing to do is import the modules we are using:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image827.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Next, let’s create objects for the classes we imported.
We’ll set a low ticket supply of three for this demonstration:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=309
src="How%20To%20Code%20in%20Node.js_files/image828.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We can now set up our listener with the instantiated
objects. Whenever someone buys a ticket, we want to send them an email as well
as saving the data to a database. Add the following listener to your code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=501
src="How%20To%20Code%20in%20Node.js_files/image829.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252533760'><span
style='left:0px;position:absolute;left:340px;top:-148941px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span>Like
before, we add a listener with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>on()</span> method. The difference this time is
that we have three arguments in our callback function. Each argument
corresponds to the data that the event emits. As a reminder, this is</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=177
src="How%20To%20Code%20in%20Node.js_files/image830.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:252534784'><span
style='left:0px;position:absolute;left:313px;top:-149219px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:252535808'><span style='left:0px;position:
absolute;left:1px;top:-149219px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>In our
callback, we first capture the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>email</span> from the emitter, then the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>pri ce</span>,
and finally the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>Date.now()</span> data, which we capture as <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>timestamp</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894946816'><span
style='left:0px;position:absolute;left:465px;top:-149287px;width:146px;
height:1px'><img width=146 height=1
src="How%20To%20Code%20in%20Node.js_files/image831.gif"></span></span><span
style='position:relative;z-index:-1894945792'><span style='left:0px;position:
absolute;left:152px;top:-149287px;width:137px;height:1px'><img width=137
height=1 src="How%20To%20Code%20in%20Node.js_files/image832.gif"></span></span><span
style='position:relative;z-index:-1894944768'><span style='left:0px;position:
absolute;left:1px;top:-149287px;width:187px;height:1px'><img width=187
height=1 src="How%20To%20Code%20in%20Node.js_files/image833.gif"></span></span><span
style='position:relative;z-index:252539904'><span style='left:0px;position:
absolute;left:362px;top:-149287px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span>When
our listener detects a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>buy</span> event, it will call the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>send()</span>
function from the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>emailService</span> object as well as the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>save()</span>
function from <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>databas
eService</span>. To test that this setup works, let’s make a call to the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy() </span>function
at the end of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image834.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252540928'><span
style='left:0px;position:absolute;left:466px;top:-149611px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image835.gif"></span></span>Save and
exit the editor. Now let’s run this script with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>node</span> and observe what comes
next. In your terminal enter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image836.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=140
src="How%20To%20Code%20in%20Node.js_files/image837.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The data was successfully captured and returned in our
callback function. With this knowledge, you can set up listeners for a variety
of emitters with different event names and data. However, there are certain
nuances to handling error events with event emitters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Next, let’s look at how to handle error events and what
standards we should follow in doing so.</p>

<h2 style='margin-left:.5pt'>Step 4 — Handling Error Events</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>If an event emitter cannot perform its
action, it should emit an event to signal that the action failed. In Node.js,
the standard way for an event emitter to signal failure is by emitting an error
event.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252541952'><span
style='left:0px;position:absolute;left:407px;top:-150259px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span><span
style='position:relative;z-index:252542976'><span style='left:0px;position:
absolute;left:163px;top:-150259px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>An
error event must have its name set to <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>error</span>. It must also be accompanied by an
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Error</span>
object. Let’s see a practical example of emitting an error event.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252544000'><span
style='left:0px;position:absolute;left:560px;top:-150325px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span><span
style='position:relative;z-index:252545024'><span style='left:0px;position:
absolute;left:376px;top:-150325px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:252546048'><span style='left:0px;position:
absolute;left:173px;top:-150325px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>Our
ticket manager decreases the supply by one every time the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy() </span>function
is called. Right now there’s nothing stopping it from selling more tickets than
it has available. Let’s modify the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>buy()</span> function so that if the ticket
supply reaches <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>
and someone wants to buy a ticket, we emit an error indicating that we’re out
of stock.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=129 src="How%20To%20Code%20in%20Node.js_files/image838.gif"></span>Open
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>ticketManager.js</span>
in your text editor once more:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=479
src="How%20To%20Code%20in%20Node.js_files/image839.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252547072'><span
style='left:0px;position:absolute;left:157px;top:-151138px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:252548096'><span style='left:0px;position:
absolute;left:559px;top:-151138px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252549120'><span style='left:0px;position:
absolute;left:92px;top:-151138px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252550144'><span style='left:0px;position:
absolute;left:380px;top:-151138px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>We’ve
added an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>if</span>
statement that allows a ticket purchase if our supply is greater than zero. If
we don’t have any other tickets, we’ll emit an <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error </span>event. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
event is emitted with a new <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>Error</span> object that contains a description of
why we’re throwing this error.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894932480'><span
style='left:0px;position:absolute;left:488px;top:-151271px;width:123px;
height:1px'><img width=123 height=1
src="How%20To%20Code%20in%20Node.js_files/image840.gif"></span></span>Save and
exit the file. Let’s try to throw this error in our <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>index.js</span> file. Right
now, we only buy one ticket. We instantiated the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ticketManager </span>object with
three tickets, so we should get an error if we try to buy four tickets.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=79 src="How%20To%20Code%20in%20Node.js_files/image841.gif"></span>Edit
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>index.js</span>
with your text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=11 id="Group 251131"
src="How%20To%20Code%20in%20Node.js_files/image842.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Now add the following lines at the end of the file so we can
buy four tickets in total:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=277
src="How%20To%20Code%20in%20Node.js_files/image843.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the editor.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Let’s
execute this file to see what happens:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image836.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Your
output will be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image844.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894931456'><span
style='left:0px;position:absolute;left:12px;top:-152884px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>    at
Function.executeUserEntryPoint [as runMain] (internal/m
odules/run_main.js:71:12) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:84.05pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    at internal/main/run_main_module.js:17:47 Emitted 'error'
event on TicketManager instance at: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    at TicketManager.buy (/home/</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>/event-emitters/ticketMan
ager.js:16:14) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    at Object.&lt;anonymous&gt; (/home/</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>/event-emitters/index.j
s:17:15) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:90.8pt;
margin-bottom:34.0pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    [... lines matching original stack trace ...]     at
internal/main/run_main_module.js:17:47</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894930432'><span
style='left:0px;position:absolute;left:141px;top:-153215px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span><span
style='position:relative;z-index:-1894929408'><span style='left:0px;position:
absolute;left:589px;top:-153215px;width:22px;height:1px'><img width=22
height=1 src="How%20To%20Code%20in%20Node.js_files/image845.gif"></span></span><span
style='position:relative;z-index:-1894928384'><span style='left:0px;position:
absolute;left:1px;top:-153215px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>The first
three <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buy</span>
events were processed correctly, but on the fourth <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>bu y</span> event our program
crashed. Let’s examine the beginning of the error message:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=332
src="How%20To%20Code%20in%20Node.js_files/image846.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:5.95pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>The first two lines highlight that an error was thrown. The
comment says </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:2.25pt'><span style='position:relative;
z-index:252556288'><span style='left:0px;position:absolute;left:1px;top:-153652px;
width:234px;height:1px'><img width=234 height=1
src="How%20To%20Code%20in%20Node.js_files/image847.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&quot;Unhandled
'error' event&quot;</span>. If an event emitter emits an error and we did not
attach a listener for error events, Node.js throws the error and crashes the
program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252557312'><span
style='left:0px;position:absolute;left:423px;top:-153719px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>It’s
considered best practice to always listen for <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error</span> events if you’re
listening to an event emitter. If you do not set up a listener for errors, your
entire application will crash if one is emitted. With an error listener, you
can gracefully handle it.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252558336'><span
style='left:0px;position:absolute;left:580px;top:-153819px;width:30px;
height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>To follow
best practices, let’s set up a listener for errors. Re-open the <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>ind</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image848.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Add a listener before we start buying tickets. Remember, a
listener can only respond to events that are emitted after it was added. Insert
an error listener like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=405
src="How%20To%20Code%20in%20Node.js_files/image849.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.25pt'><span style='position:relative;z-index:252559360'><span
style='left:0px;position:absolute;left:553px;top:-154465px;width:57px;
height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image717.gif"></span></span><span
style='position:relative;z-index:252560384'><span style='left:0px;position:
absolute;left:1px;top:-154465px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image458.gif"></span></span>When we
receive an error event, we will log it to the console with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>consol
e.error()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252561408'><span
style='left:0px;position:absolute;left:155px;top:-154502px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>Save and
leave <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>.
Re-run the script to see our error event handled correctly:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image850.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>This
time the following output will be displayed:</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;margin-left:
16.25pt'><span style='font-family:"Courier New";color:#BBBBBB'>Output</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894921216'><span
style='left:0px;position:absolute;left:12px;top:-154664px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>Sending
email to test@email.com Running query: INSERT INTO orders VALUES (email, price,
create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email.com, 10, </span><b><span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>1588726293332</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Sending email to test@email.com Running query: INSERT INTO
orders VALUES (email, price, create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email.com, 10, </span><b><span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>1588726293348</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Sending email to test@email.com Running query: INSERT INTO
orders VALUES (email, price, create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email.com, 10, </span><b><span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>1588726293348</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:33.75pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Gracefully handling our error: Error: There are no more ticket s
left to purchase</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>From the last line, we confirm that our error event is being
handled by our second listener, and the Node.js process did not crash.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that we’ve covered the concepts of sending and listening
to events, let’s look at some additional functionality that can be used to
manage event listeners.</p>

<h2 style='margin-left:.5pt'>Step 5 — Managing Events Listeners</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894920192'><span
style='left:0px;position:absolute;left:403px;top:-155256px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image851.gif"></span></span>Event
emitters come with some mechanisms to monitor and control how many listeners
are subscribed to an event. To get an overview of how many listeners are
processing an event, we can use the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>listenerCount()</span> method that’s included
in every object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894919168'><span
style='left:0px;position:absolute;left:57px;top:-155356px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span><span
style='position:relative;z-index:-1894918144'><span style='left:0px;position:
absolute;left:342px;top:-155356px;width:79px;height:1px'><img width=79
height=1 src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>listenerCount()</span>
method accepts one argument: the event name you want the count for. Let’s see
it in action in <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>index.js</span>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=133
src="How%20To%20Code%20in%20Node.js_files/image852.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252566528'><span
style='left:0px;position:absolute;left:533px;top:-155568px;width:78px;
height:1px'><img width=78 height=1
src="How%20To%20Code%20in%20Node.js_files/image322.gif"></span></span>lines.
When you do, add these two new lines so that your entire <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>index.js </span>looks
like this:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=714
src="How%20To%20Code%20in%20Node.js_files/image853.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252567552'><span
style='left:0px;position:absolute;left:249px;top:-156389px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:-1894915072'><span style='left:0px;position:
absolute;left:468px;top:-156389px;width:143px;height:1px'><img width=143
height=1 src="How%20To%20Code%20in%20Node.js_files/image854.gif"></span></span><span
style='position:relative;z-index:252569600'><span style='left:0px;position:
absolute;left:1px;top:-156389px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span><span
style='position:relative;z-index:252570624'><span style='left:0px;position:
absolute;left:560px;top:-156389px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>We’ve
removed the calls to <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>buy()</span> from the previous section and instead logged two
lines to the console. The first log statement uses the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>listenerCo unt()</span>
function to display the number of listeners for the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>buy()</span> event. The
second log statement shows how many listeners we have for the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error </span>event.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image855.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You’ll get this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image856.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252571648'><span
style='left:0px;position:absolute;left:166px;top:-156816px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image857.gif"></span></span><span
style='position:relative;z-index:252572672'><span style='left:0px;position:
absolute;left:390px;top:-156816px;width:33px;height:1px'><img width=33
height=1 src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span><span
style='position:relative;z-index:252573696'><span style='left:0px;position:
absolute;left:1px;top:-156816px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span>We only
used the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>
function once for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>buy</span> event and once for the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
event, so this output matches our expectations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252574720'><span
style='left:0px;position:absolute;left:192px;top:-156883px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span>Next,
we’ll use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>listenerCount()</span>
as we remove listeners from an event emitter. We may want to remove event
listeners when the period of an event no longer applies. For example, if our
ticket manager was being used for a specific concert, as the concert comes to
an end you would remove the event listeners.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894907904'><span
style='left:0px;position:absolute;left:157px;top:-157016px;width:101px;
height:1px'><img width=101 height=1
src="How%20To%20Code%20in%20Node.js_files/image858.gif"></span></span>In
Node.js we use the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>off()</span> function to remove event listeners from an event
emitter. The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>off()</span>
method accepts two arguments: the event name and the function that’s listening
to it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894906880'><span
style='left:0px;position:absolute;left:47px;top:-157116px;width:192px;
height:1px'><img width=192 height=1
src="How%20To%20Code%20in%20Node.js_files/image859.gif"></span></span><span
style='position:relative;z-index:252577792'><span style='left:0px;position:
absolute;left:491px;top:-157116px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252578816'><span style='left:0px;position:
absolute;left:407px;top:-157116px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image428.gif"></span></span><b>Note</b>:
Similar to the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>
function, Node.js aliases the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>off()</span> method with <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>removeListener()</span>.
They both do the same thing, with the same arguments. In this tutorial, we will
continue to use <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>off()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252579840'><span
style='left:0px;position:absolute;left:287px;top:-157215px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252580864'><span style='left:0px;position:
absolute;left:458px;top:-157215px;width:112px;height:1px'><img width=112
height=1 src="How%20To%20Code%20in%20Node.js_files/image860.gif"></span></span>For
the second argument of the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>off()</span> function, we need a reference to the
callback that’s listening to an event. Therefore, to remove an event listener,
its callback must be saved to some variable or constant. As it stands, we
cannot remove the current event listeners for <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy</span> or <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
with the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>off()</span>
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894901760'><span
style='left:0px;position:absolute;left:30px;top:-157348px;width:99px;
height:1px'><img width=99 height=1
src="How%20To%20Code%20in%20Node.js_files/image861.gif"></span></span>To see <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>off()</span>
in action, let’s add a new event listener that we will remove in subsequent
calls. First, let’s define the callback in a variable so that we</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=413
src="How%20To%20Code%20in%20Node.js_files/image862.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252582912'><span style='left:0px;position:
absolute;left:333px;top:-157867px;width:33px;height:1px'><img width=33
height=1 src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span>Now
add another event listener for the <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>buy</span> event:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image863.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>To
be sure that we successfully added that event listener, let’s print the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=302
src="How%20To%20Code%20in%20Node.js_files/image864.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file, then run the program:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image836.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
following message will be displayed in the terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=300
src="How%20To%20Code%20in%20Node.js_files/image865.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252583936'><span
style='left:0px;position:absolute;left:250px;top:-158941px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252584960'><span style='left:0px;position:
absolute;left:283px;top:-158941px;width:206px;height:1px'><img width=206
height=1 src="How%20To%20Code%20in%20Node.js_files/image866.gif"></span></span>From
the output, we see our log statement from when we added the new event listener.
We then call the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>buy()</span> function, and both listeners react to it. The first
listener sent the email and saved data to the database, and then our second
listener printed its message <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>I will be removed soon</span> to the screen.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.95pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Let’s now use the <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>off()</span> function to remove the second
event listener.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:280.15pt;margin-bottom:
1.6pt;margin-left:16.0pt;text-indent:-15.75pt;line-height:312%'><span
style='position:relative;z-index:-1894897664'><span style='left:0px;position:
absolute;left:12px;top:-159108px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image867.gif"></span></span>Re-open
the file in <span style='font-size:11.0pt;line-height:312%;font-family:"Courier New"'>nano</span>:
<span style='font-size:11.0pt;line-height:312%;font-family:"Courier New"'>nano
index.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252587008'><span
style='left:0px;position:absolute;left:1px;top:-159183px;width:52px;height:
1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span>Now add
the following <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>off()</span>
call to the end of the file. You will also add a log statement to confirm the
number of listeners, and make another call to <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>buy()</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=287
src="How%20To%20Code%20in%20Node.js_files/image868.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.45pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252588032'><span
style='left:0px;position:absolute;left:134px;top:-159577px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image869.gif"></span></span><span
style='position:relative;z-index:252589056'><span style='left:0px;position:
absolute;left:555px;top:-159577px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Note
how the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>onBuy</span>
variable was used as the second argument of <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>off()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.8pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image870.gif"></span>Now
run this with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>node</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252590080'><span
style='left:0px;position:absolute;left:599px;top:-159779px;width:12px;
height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252591104'><span style='left:0px;position:
absolute;left:1px;top:-159779px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>The
previous output will remain unchanged, but this time we will find the new log
line we added confirming we have one listener once more. When <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>b uy()</span>
is called again, we will only see the output of the callback used by the first
listener:</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;margin-left:
16.25pt'><span style='font-family:"Courier New";color:#BBBBBB'>Output</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>We have 1 listener(s) for the buy event </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>We have 1 listener(s) for the error event </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894891520'><span
style='left:0px;position:absolute;left:12px;top:-159973px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>We added a
new event listener bringing our total count for the buy event to: 2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Sending email to test@email </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Running query: INSERT INTO orders VALUES (email, price, create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email, 20, 1588816352178) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>I will be removed soon </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New";color:#EF2929'>We now have: 1 listener(s) for the buy event</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><b><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#EF2929'>Sending email to test@email Running query: INSERT
INTO orders VALUES (email, price, create</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:44.25pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New";color:#EF2929'>d) VALUES (test@email, 20, 1588816352178)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894890496'><span
style='left:0px;position:absolute;left:341px;top:-160340px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:-1894889472'><span style='left:0px;position:
absolute;left:544px;top:-160340px;width:66px;height:1px'><img width=66
height=1 src="How%20To%20Code%20in%20Node.js_files/image528.gif"></span></span><span
style='position:relative;z-index:-1894888448'><span style='left:0px;position:
absolute;left:1px;top:-160340px;width:120px;height:1px'><img width=120
height=1 src="How%20To%20Code%20in%20Node.js_files/image871.gif"></span></span>If
we wanted to remove all events with <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>off()</span>, we could use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>removeA
llListeners()</span> function. This function accepts one argument: the name of
the event we want to remove listeners for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.25pt;
margin-left:.25pt;line-height:226%'><span style='position:relative;z-index:
-1894887424'><span style='left:0px;position:absolute;left:12px;top:-160440px;
width:600px;height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image872.gif"></span></span>Let’s use
this function at the end of the file to take off the first event listener we
added for the <span style='font-size:11.0pt;line-height:226%;font-family:"Courier New"'>buy</span>
event. Open the <span style='font-size:11.0pt;line-height:226%;font-family:
"Courier New"'>index.js</span> file once more: <span style='font-size:11.0pt;
line-height:226%;font-family:"Courier New"'>nano index.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>You’ll first remove all the listeners with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>removeAllListeners()</span>.
You’ll then log a statement with the listener count using the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>listenerCount()
</span>function. To confirm it’s no longer listening, you’ll buy another
ticket.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>When the event is emitted,
nothing will react to it.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Enter
the following code at the end of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=287
src="How%20To%20Code%20in%20Node.js_files/image873.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image874.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Our
final output is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>We have 1 listener(s) for the buy event </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>We have 1 listener(s) for the error event </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894886400'><span
style='left:0px;position:absolute;left:12px;top:-161271px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>We added a
new event listener bringing our total count for the buy event to: 2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Sending email to test@email </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Running query: INSERT INTO orders VALUES (email, price, create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email, 20, 1588817058088) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:145.0pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>I will be removed soon We now have: 1 listener(s) for the buy
event </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Sending email to test@email </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Running query: INSERT INTO orders VALUES (email, price, create</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>d) VALUES (test@email, 20, 1588817058088) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New";color:#EF2929'>We have 0 listeners for the buy event</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:43.7pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New";color:#EF2929'>The last ticket was bought</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>After removing all listeners, we no longer send emails or
save to the database for ticket purchases.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894885376'><span
style='left:0px;position:absolute;left:305px;top:-161828px;width:87px;
height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image875.gif"></span></span><span
style='position:relative;z-index:-1894884352'><span style='left:0px;position:
absolute;left:440px;top:-161828px;width:172px;height:1px'><img width=172
height=1 src="How%20To%20Code%20in%20Node.js_files/image876.gif"></span></span><span
style='position:relative;z-index:-1894883328'><span style='left:0px;position:
absolute;left:499px;top:-161828px;width:112px;height:1px'><img width=112
height=1 src="How%20To%20Code%20in%20Node.js_files/image327.gif"></span></span><span
style='position:relative;z-index:-1894882304'><span style='left:0px;position:
absolute;left:1px;top:-161828px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>In this
tutorial, you learned how to use Node.js event emitters to trigger events. You
emitted events with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>emit()</span> function of an <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>EventEmitter </span>object,
then listened to events with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>on()</span> and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>once()</span> functions to execute
code every time the event is triggered. You also added a listener for an error
event and monitored and managed listeners with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>listenerCoun t()</span> function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>With callbacks and promises, our ticket manager system would
need to be integrated with the email and database service modules to get the
same functionality. Since we used event emitters, the event was decoupled from
the implementations. Furthermore, any module with access to the ticket manager
can observe its event and react to it. If you want Node.js modules, internal or
external, to observe what’s happening with your object, consider making it an
event emitter for scalability.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><a href="https://nodejs.org/api/events.html"><span
style='color:black;text-decoration:none'>To learn more about events in Node.js,
you can read the </span></a><a href="https://nodejs.org/api/events.html"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/events.html"><span style='color:#3445FF;
text-decoration:none'>.j</span></a><a href="https://nodejs.org/api/events.html"><span
style='color:#3445FF'>s documentation</span></a><a
href="https://nodejs.org/api/events.html"><span style='color:black;text-decoration:
none'>. If you’d like to continue learning Node.js, you can return to </span></a>the
<a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>,</span></a> or browse programming
projects and setups on our <a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a>.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Debu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s with the Built-In Debu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>gg</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>er and Chrome DevTools</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In Node.js development, tracing a coding error back to its
source can save a lot of time over the course of a project. But as a program
grows in complexity, it becomes harder and harder to do this efficiently. To
solve this problem, developers use tools like a debugger, a program that allows
developers to inspect their program as it runs. By replaying the code
lineby-line and observing how it changes the program’s state, debuggers can
provide insight into how a program is running, making it easier to find bugs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>A common practice programmers use to track bugs in their
code is to print statements as the program runs. In Node.js, that involves
adding extra <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>console.lo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>()</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='color:#3445FF'> or </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>console.debu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>()</span></a>
statements in their modules. While this technique can be used quickly, it is
also manual, making it less scalable and more prone to errors. Using this
method, it is possible to mistakenly log sensitive information to the console,
which could provide malicious agents with private information about customers
or your application. On the other hand, debuggers provide a systematic way to
observe what’s happening in a program, without exposing your program to
security threats.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The key features of debuggers are watching objects and
adding breakpoints. By watching objects, a debugger can help track the changes
of a variable as the programmer steps through a program. Breakpoints are
markers that a programmer can place in their code to stop the code from
continuing beyond points that the developer is investigating.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>In this article, you will use a debugger to debug some
sample Node.js <a href="https://nodejs.org/api/debugger.html"><span
style='color:black;text-decoration:none'>applications. You will first debug
code using the built-in </span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:#3445FF;
text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:#3445FF'>s debu</span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:#3445FF;
text-decoration:none'>gg</span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:#3445FF'>er tool</span></a><a
href="https://nodejs.org/api/debugger.html"><span style='color:black;
text-decoration:none'>, setting up watchers and breakpoints so you can find the
root cause of a </span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:black;text-decoration:none'>bug. You will then use </span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF'>Goo</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF'>le Chrome DevTools</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:black;text-decoration:none'>as a </span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF'>Gra</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF'>hical User Interface </span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:#3445FF'>GUI)</span></a><a
href="https://en.wikipedia.org/wiki/Graphical_user_interface"><span
style='color:black;text-decoration:none'> alternative to the command line
Node.js debugger.</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 253594"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> You will need
Node.js installed in your development environment. This tutorial uses version
10.19.0. To install this on macOS or Ubuntu <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>18.04, follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA </span></b></a>section
of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 253595"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> For this
article we expect the user to be comfortable with basic JavaScript, especially
creating and using <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:#3445FF'>functions</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> You can learn <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>those fundamentals and more by reading
our </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>How To Code in</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.7pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 253597"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> To use the
Chrome DevTools debugger, you will need to download and <a
href="https://www.chromium.org/"><span style='color:black;text-decoration:none'>install
the </span></a><a href="https://www.chromium.org/"><span style='color:#3445FF'>Goo</span></a><a
href="https://www.chromium.org/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://www.chromium.org/"><span style='color:#3445FF'>le
Chrome web browser</span></a><a href="https://www.chromium.org/"><span
style='color:black;text-decoration:none'> or the open-source </span></a><a
href="https://www.chromium.org/"><span style='color:#3445FF'>Chromium web
browser</span></a><a href="https://www.chromium.org/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<h2 style='margin-left:.5pt'>Step 1 — Using Watchers with the Node.js Debugger</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Debuggers are primarily useful for two
features: their ability to watch variables and observe how they change when a
program is run and their ability to stop and start code execution at different
locations called breakpoints. In this step, we will run through how to watch
variables to identify errors in code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Watching variables as we step through code gives us insight
into how the values of variables change as the program runs. Let’s practice
watching variables to help us find and fix logical errors in our code with an
example.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.5pt;
margin-left:.25pt'>We begin by setting up our coding environment. In your
terminal, create a new folder called <span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=590 height=90
src="How%20To%20Code%20in%20Node.js_files/image877.gif"></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>debugging</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now
enter that folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image878.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>the terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image879.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Our code will iterate over an <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a> and add numbers into a
total sum, which in our example will be used to add up the number of daily
orders over the course of a week at a store. The program will return the sum of
all the numbers in the array. In the editor, enter the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=373
src="How%20To%20Code%20in%20Node.js_files/image880.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894881280'><span
style='left:0px;position:absolute;left:125px;top:-165011px;width:166px;
height:1px'><img width=166 height=1
src="How%20To%20Code%20in%20Node.js_files/image881.gif"></span></span><span
style='position:relative;z-index:252603392'><span style='left:0px;position:
absolute;left:468px;top:-165011px;width:143px;height:1px'><img width=143
height=1 src="How%20To%20Code%20in%20Node.js_files/image882.gif"></span></span><span
style='position:relative;z-index:252604416'><span style='left:0px;position:
absolute;left:1px;top:-165011px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image277.gif"></span></span>We start
by creating the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>orders</span> array, which stores five numbers. We then
initialize <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>,
as it will store the total of the five numbers. In the <a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>for</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF'> loop</span></a>, we iteratively add each value in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalO
rders</span>. Finally, we print the total amount of orders at the end of the
program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.0pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1894878208'><span style='left:0px;position:absolute;left:12px;top:-165144px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Save and
exit from the editor. Now run this program with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>node</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The terminal will show
this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image883.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252606464'><span
style='left:0px;position:absolute;left:599px;top:-165368px;width:12px;
height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252607488'><span style='left:0px;position:
absolute;left:1px;top:-165368px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252608512'><span style='left:0px;position:
absolute;left:73px;top:-165368px;width:159px;height:1px'><img width=159
height=1 src="How%20To%20Code%20in%20Node.js_files/image884.gif"></span></span><a
href="https://www.digitalocean.com/community/tutorials/how-to-convert-data-types-in-javascript#converting-values-to-numbers"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>NaN</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-convert-data-types-in-javascript#converting-values-to-numbers"><span
style='color:black;text-decoration:none'> </span></a>in JavaScript means <b>Not
a Number</b>. Given that all the input are valid numbers, this is unexpected
behavior. To find the error, let’s use the Node.js debugger to see what happens
to the two variables that are changed in the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>f or</span> loop: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>i</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252609536'><span
style='left:0px;position:absolute;left:70px;top:-165467px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252610560'><span style='left:0px;position:
absolute;left:569px;top:-165467px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span>When
we want to use the built-in Node.js debugger on a program, we include <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>inspect</span>
before the file name. In your terminal, run the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>node </span>command with this
debugger option as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image885.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>When you start the
debugger, you will find output like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=300
src="How%20To%20Code%20in%20Node.js_files/image886.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252611584'><span
style='left:0px;position:absolute;left:389px;top:-166015px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252612608'><span style='left:0px;position:
absolute;left:524px;top:-166015px;width:87px;height:1px'><img width=87
height=1 src="How%20To%20Code%20in%20Node.js_files/image887.gif"></span></span><span
style='position:relative;z-index:252613632'><span style='left:0px;position:
absolute;left:7px;top:-166015px;width:89px;height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image330.gif"></span></span>The first
line shows us the URL of our debug server. That’s used when we want to debug
with external clients, like a web browser as we’ll see later on. Note that this
server listens on port <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>:9229</span> of the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>localhost </span>(<span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>127.0.0.1</span>)
by default. For security reasons, it is recommended to avoid exposing this port
to the public.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;line-height:163%'><span style='position:relative;z-index:
252614656'><span style='left:0px;position:absolute;left:451px;top:-166148px;
width:160px;height:1px'><img width=160 height=1
src="How%20To%20Code%20in%20Node.js_files/image888.gif"></span></span><span
style='position:relative;z-index:252615680'><span style='left:0px;position:
absolute;left:1px;top:-166148px;width:111px;height:1px'><img width=111
height=1 src="How%20To%20Code%20in%20Node.js_files/image889.gif"></span></span>After
the debugger is attached, the debugger outputs <span style='font-size:11.0pt;
line-height:163%;font-family:"Courier New"'>Break on start in badLoop.js:1</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Breakpoints are places in our code where we’d like execution
to stop. By default, Node.js’s debugger stops execution at the beginning of the
file.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:-.15pt;
margin-bottom:0in;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252616704'><span
style='left:0px;position:absolute;left:581px;top:-166253px;width:30px;
height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>The
debugger then shows us a snippet of code, followed by a special <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>deb</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=265
src="How%20To%20Code%20in%20Node.js_files/image890.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252617728'><span
style='left:0px;position:absolute;left:59px;top:-166583px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:252618752'><span style='left:0px;position:
absolute;left:147px;top:-166583px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&gt;</span>
next to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span>
indicates which line we’ve reached in our execution, and the prompt is where we
will type in our commends to the debugger. When this output appears, the
debugger is ready to accept commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.5pt;
margin-left:.25pt'>When using a debugger, we step through code by telling the
debugger to go to the next line that the program will execute. Node.js allows
the following commands to use a debugger:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.8pt;
margin-left:33.0pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252619776'><span style='left:0px;position:absolute;left:22px;
top:-166801px;width:105px;height:1px'><img width=105 height=1
src="How%20To%20Code%20in%20Node.js_files/image891.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>c</span> or
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>cont</span>:
Continue execution to the next breakpoint or to the end of</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:177.65pt;
margin-bottom:.85pt;margin-left:33.0pt;text-align:left;text-indent:-2.25pt;
line-height:145%'><span style='position:relative;z-index:252620800'><span
style='left:0px;position:absolute;left:22px;top:-166836px;width:103px;
height:1px'><img width=103 height=1
src="How%20To%20Code%20in%20Node.js_files/image892.gif"></span></span><span
style='position:relative;z-index:252621824'><span style='left:0px;position:
absolute;left:22px;top:-166836px;width:103px;height:1px'><img width=103
height=1 src="How%20To%20Code%20in%20Node.js_files/image892.gif"></span></span>the
program. <span style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>n</span>
or <span style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>next</span>:
Move to the next line of code. <span style='font-size:11.0pt;line-height:145%;
font-family:"Courier New"'>s</span> or <span style='font-size:11.0pt;
line-height:145%;font-family:"Courier New"'>step</span>: Step into a function.
By default, we only step through code in the block or <a
href="https://www.digitalocean.com/community/tutorials/understanding-variables-scope-hoisting-in-javascript"><span
style='color:#3445FF'>sco</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-variables-scope-hoisting-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-variables-scope-hoisting-in-javascript"><span
style='color:#3445FF'>e</span></a> we’re debugging. By stepping into a
function, we can inspect the code of the function our code calls and observe
how it reacts to our data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.85pt;
margin-left:30.75pt;text-indent:2.25pt'><span style='position:relative;
z-index:252622848'><span style='left:0px;position:absolute;left:22px;
top:-167039px;width:35px;height:1px'><img width=35 height=1
src="How%20To%20Code%20in%20Node.js_files/image893.gif"></span></span><span
style='position:relative;z-index:252623872'><span style='left:0px;position:
absolute;left:22px;top:-167039px;width:71px;height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image894.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>o</span>:
Step out of a function. After stepping into a function, the debugger goes back
to the main file when the function returns. We can use this command to go back
to the original function we were debugging before the function has finished
execution. <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>pause</span>:
Pause the running code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252624896'><span
style='left:0px;position:absolute;left:461px;top:-167192px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>We’ll be
stepping through this code line-by-line. Press <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>n</span> to go to the next line:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image895.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Our debugger will now be
stuck on the third line of code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.3pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=236
src="How%20To%20Code%20in%20Node.js_files/image896.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252625920'><span
style='left:0px;position:absolute;left:454px;top:-167610px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>Empty
lines are skipped for convenience. If we press <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>n</span> once more in the debug
console, our debugger will be situated on the fifth line of code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=236
src="How%20To%20Code%20in%20Node.js_files/image897.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252626944'><span
style='left:0px;position:absolute;left:558px;top:-167952px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image898.gif"></span></span><span
style='position:relative;z-index:252627968'><span style='left:0px;position:
absolute;left:1px;top:-167952px;width:78px;height:1px'><img width=78 height=1
src="How%20To%20Code%20in%20Node.js_files/image899.gif"></span></span><span
style='position:relative;z-index:252628992'><span style='left:0px;position:
absolute;left:332px;top:-167952px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252630016'><span style='left:0px;position:
absolute;left:482px;top:-167952px;width:107px;height:1px'><img width=107
height=1 src="How%20To%20Code%20in%20Node.js_files/image335.gif"></span></span><span
style='position:relative;z-index:-1894852608'><span style='left:0px;position:
absolute;left:80px;top:-167952px;width:167px;height:1px'><img width=167
height=1 src="How%20To%20Code%20in%20Node.js_files/image900.gif"></span></span><span
style='position:relative;z-index:252632064'><span style='left:0px;position:
absolute;left:294px;top:-167952px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>We
are now beginning our loop. If the terminal supports color, the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span> in
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>l et
i = 0</span> will be highlighted. The debugger highlights the part of the code
the program is about to execute, and in a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>for</span> loop, the counter
initialization is executed first. From here, we can watch to see why <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>
is returning <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>NaN</span>
instead of a number. In this loop, two variables are changed every iteration—<span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>i</span>.
Let’s set up watchers for both of those variables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:13.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252633088'><span
style='left:0px;position:absolute;left:287px;top:-168151px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image642.gif"></span></span>We’ll
first add a watcher for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>totalOrders</span> variable. In the interactive
shell, enter this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:27.5pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>watch('totalOrders')</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894849536'><span
style='left:0px;position:absolute;left:12px;top:-168290px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image901.gif"></span></span><span
style='position:relative;z-index:252635136'><span style='left:0px;position:
absolute;left:563px;top:-168290px;width:48px;height:1px'><img width=48
height=1 src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span><span
style='position:relative;z-index:252636160'><span style='left:0px;position:
absolute;left:1px;top:-168290px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>To watch
a variable, we use the built-in <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>watch()</span> function with a <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF'>strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g </span></a>argument that contains
the variable name. As we press <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>ENTER</span> on the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>watch ()</span> function, the
prompt will move to the next line without providing feedback, but the watch
word will be visible when we move the debugger to the next line.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252637184'><span style='left:0px;position:
absolute;left:346px;top:-168423px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>Now
let’s add a watcher for the variable <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>i</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image902.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>The debug console will show
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=364
src="How%20To%20Code%20in%20Node.js_files/image903.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252638208'><span
style='left:0px;position:absolute;left:382px;top:-168996px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image516.gif"></span></span><span
style='position:relative;z-index:252639232'><span style='left:0px;position:
absolute;left:536px;top:-168996px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image904.gif"></span></span>The
debugger now displays the values of <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>totalOrders</span> and <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>i</span> before showing the
line of code, as shown in the output. These values are updated every time a
line of code changes them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252640256'><span
style='left:0px;position:absolute;left:389px;top:-169096px;width:218px;
height:1px'><img width=218 height=1
src="How%20To%20Code%20in%20Node.js_files/image905.gif"></span></span><span
style='position:relative;z-index:252641280'><span style='left:0px;position:
absolute;left:590px;top:-169096px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:252642304'><span style='left:0px;position:
absolute;left:1px;top:-169096px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span><span
style='position:relative;z-index:252643328'><span style='left:0px;position:
absolute;left:369px;top:-169096px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>At
this point, the debugger is highlighting <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>length</span> in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders.length</span>.
This means the program is about to check the condition before it executes the
code within its block. After the code is executed, the final expression <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>i+ +</span>
will be executed. You can read more about <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>for</span> loops and their
execution in our <a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF'>How To Construct For Loo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF'>s in JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-construct-for-loops-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>guide.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252644352'><span style='left:0px;position:
absolute;left:69px;top:-169229px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:252645376'><span style='left:0px;position:
absolute;left:300px;top:-169229px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Enter
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>n</span>
in the console to enter the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>for</span> loop’s body:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=364
src="How%20To%20Code%20in%20Node.js_files/image906.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252646400'><span
style='left:0px;position:absolute;left:201px;top:-169658px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image907.gif"></span></span>This step
updates the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>
variable. Therefore, after this step is complete our variable and watcher will
be updated.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=393
src="How%20To%20Code%20in%20Node.js_files/image908.gif"></span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:17.65pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252647424'><span
style='left:0px;position:absolute;left:149px;top:-170119px;width:105px;
height:1px'><img width=105 height=1
src="How%20To%20Code%20in%20Node.js_files/image649.gif"></span></span><span
style='position:relative;z-index:252648448'><span style='left:0px;position:
absolute;left:549px;top:-170119px;width:33px;height:1px'><img width=33
height=1 src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span>As
highlighted, <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>totalOrders</span>
now has the value of the first order: <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>341</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Our debugger is just about to process the final condition of
the loop.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=425
src="How%20To%20Code%20in%20Node.js_files/image909.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>After initialization, we had to step through the code four
times to see the variables updated. Stepping through the code like this can be
tedious; this problem will be addressed with breakpoints in <a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools#step-2-%E2%80%94-using-breakpoints-with-the-nodejs-debugger"><span
style='color:#3445FF'>Ste</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools#step-2-%E2%80%94-using-breakpoints-with-the-nodejs-debugger"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-debug-node-js-with-the-built-in-debugger-and-chrome-devtools#step-2-%E2%80%94-using-breakpoints-with-the-nodejs-debugger"><span
style='color:#3445FF'> 2</span></a>. But for now, by setting up our watchers,
we are ready to observe their values and find our problem.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252649472'><span
style='left:0px;position:absolute;left:343px;top:-170777px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>Step
through the program by entering <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>n</span> twelve more times, observing the output.
Your console will display this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=364
src="How%20To%20Code%20in%20Node.js_files/image910.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252650496'><span
style='left:0px;position:absolute;left:146px;top:-171247px;width:62px;
height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image663.gif"></span></span><span
style='position:relative;z-index:252651520'><span style='left:0px;position:
absolute;left:419px;top:-171247px;width:15px;height:1px'><img width=15
height=1 src="How%20To%20Code%20in%20Node.js_files/image466.gif"></span></span><span
style='position:relative;z-index:-1894831104'><span style='left:0px;position:
absolute;left:518px;top:-171247px;width:94px;height:1px'><img width=94
height=1 src="How%20To%20Code%20in%20Node.js_files/image911.gif"></span></span><span
style='position:relative;z-index:252653568'><span style='left:0px;position:
absolute;left:81px;top:-171247px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:-1894829056'><span style='left:0px;position:
absolute;left:163px;top:-171247px;width:89px;height:1px'><img width=89
height=1 src="How%20To%20Code%20in%20Node.js_files/image912.gif"></span></span><span
style='position:relative;z-index:252655616'><span style='left:0px;position:
absolute;left:365px;top:-171247px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>Recall
that our <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders</span>
array has five items, and <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>i</span> is now at position <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>5</span>. But since <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>i</span> is
used as the index of an array, there is no value at <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>orders[5]</span>; the last
value of the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders</span>
array is at index <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>4</span>. This means that <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>orders[5] </span>will have a value
of <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252656640'><span
style='left:0px;position:absolute;left:68px;top:-171347px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>Type <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>n</span> in
the console and you’ll observe that the code in the loop is executed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=364
src="How%20To%20Code%20in%20Node.js_files/image913.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=594 height=425
src="How%20To%20Code%20in%20Node.js_files/image914.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894825984'><span
style='left:0px;position:absolute;left:255px;top:-172210px;width:337px;
height:1px'><img width=337 height=1
src="How%20To%20Code%20in%20Node.js_files/image915.gif"></span></span><span
style='position:relative;z-index:-1894824960'><span style='left:0px;position:
absolute;left:82px;top:-172210px;width:106px;height:1px'><img width=106
height=1 src="How%20To%20Code%20in%20Node.js_files/image916.gif"></span></span><span
style='position:relative;z-index:252659712'><span style='left:0px;position:
absolute;left:1px;top:-172210px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252660736'><span style='left:0px;position:
absolute;left:370px;top:-172210px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:252661760'><span style='left:0px;position:
absolute;left:117px;top:-172210px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Through
debugging and watching <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>totalOrders</span> and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>i</span>, we can see that our loop
is iterating six times instead of five. When <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>i</span> is <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>5</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders[5]</span>
is added to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>totalOrders</span>.
Since <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>orders[5]</span>
is <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>,
adding this to a number will yield <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>NaN</span>. The problem with our code therefore
lies within our <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>for</span> loop’s condition. Instead of checking if <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>i</span> is
less than or equal to the length of the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>orders</span> array, we should only
check that it’s less than the length.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Let’s exit our debugger, make the changes and run the code
again. In the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=133
src="How%20To%20Code%20in%20Node.js_files/image917.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=310
src="How%20To%20Code%20in%20Node.js_files/image918.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252662784'><span style='left:0px;position:
absolute;left:133px;top:-172922px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span>Save
and exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>.
Now let’s execute our script like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image919.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>When it’s complete, the
correct result will be printed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image920.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252663808'><span
style='left:0px;position:absolute;left:343px;top:-173172px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>In this
section, we used the debugger’s <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>watch</span> command to find a bug in our code,
fixed it, and watched it work as expected.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>Now that we have some experience with the basic use of the
debugger to watch variables, let’s look at how we can use breakpoints so that
we can debug without stepping through all the lines of code from the start of
the program.</p>

<h2 style='margin-left:.5pt'>Step 2 — Using Breakpoints With the Node.js
Debugger</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>It’s common for Node.js projects to consist
of many interconnected <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-node-js-modules-with-npm-and-package-json"><span
style='color:#3445FF'>modules</span></a>. Debugging each module line-by-line
would be time consuming, especially as an app scales in complexity. To solve
this problem, breakpoints allow us to jump to a line of code where we’d like to
pause execution and inspect the program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252664832'><span
style='left:0px;position:absolute;left:545px;top:-173537px;width:66px;
height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image528.gif"></span></span><span
style='position:relative;z-index:252665856'><span style='left:0px;position:
absolute;left:1px;top:-173537px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span><span
style='position:relative;z-index:252666880'><span style='left:0px;position:
absolute;left:159px;top:-173537px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252667904'><span style='left:0px;position:
absolute;left:511px;top:-173537px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>When
debugging in Node.js, we add a breakpoint by adding the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>debugge r</span> keyword
directly to our code. We can then go from one breakpoint to the next by
pressing <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c</span>
in the debugger console instead of <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>n</span>. At each breakpoint, we can set up
watchers for expressions of interest.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s see this with an example. In this step, we’ll set up a
program that reads a list of sentences and determines the most common word used
throughout all the text. Our sample code will return the first word with the
highest number of occurrences.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252668928'><span
style='left:0px;position:absolute;left:482px;top:-173769px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>For this
exercise, we will create three files. The first file, <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>sentences.txt</span>, will
contain the raw data that our program will process. We’ll add the beginning
text from <a href="https://www.britannica.com/animal/whale-shark"><span
style='color:#3445FF'>Enc</span></a><a
href="https://www.britannica.com/animal/whale-shark"><span style='color:#3445FF;
text-decoration:none'>y</span></a><a
href="https://www.britannica.com/animal/whale-shark"><span style='color:#3445FF'>clo</span></a><a
href="https://www.britannica.com/animal/whale-shark"><span style='color:#3445FF;
text-decoration:none'>p</span></a><a
href="https://www.britannica.com/animal/whale-shark"><span style='color:#3445FF'>aedia
Britannica’s article on the Whale Shark </span></a>as sample data, with the
punctuation removed. Open the file in your text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image921.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Next,
enter the following code:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:4.1pt;margin-left:7.5pt;text-align:center;text-indent:0in;
line-height:107%'><b><span style='font-family:"Courier New"'>debugger/sentences.txt</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Whale shark Rhincodon typus gigantic but harmless shark family </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Rhincodontidae that is the largest living fish </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Whale sharks are found in marine environments worldwide but ma
inly in tropical oceans </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894813696'><span
style='left:0px;position:absolute;left:12px;top:-174181px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image922.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>They make
up the only species of the genus Rhincodon and are c lassified within the order
Orectolobiformes a group containing the carpet sharks </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>The whale shark is enormous and reportedly capable of reaching a
maximum length of about 18 metres 59 feet </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Most specimens that have been studied however weighed about 15
tons about 14 metric tons and averaged about 12 metres 39 feet in length </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>The body coloration is distinctive </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:33.75pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Light vertical and horizontal stripes form a checkerboard patt
ern on a dark background and light spots mark the fins and dar k areas of the
body</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.85pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.25pt;
margin-left:.25pt;line-height:200%'><span style='position:relative;z-index:
-1894812672'><span style='left:0px;position:absolute;left:12px;top:-174541px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image923.gif"></span></span><span
style='position:relative;z-index:-1894811648'><span style='left:0px;position:
absolute;left:259px;top:-174541px;width:123px;height:1px'><img width=123
height=1 src="How%20To%20Code%20in%20Node.js_files/image770.gif"></span></span>Now
let’s add our code to <span style='font-size:11.0pt;line-height:200%;
font-family:"Courier New"'>textHelper.js</span>. This module will contain some
handy functions we’ll use to process the text file, making it easier to
determine the most popular word. Open <span style='font-size:11.0pt;line-height:
200%;font-family:"Courier New"'>textHelper.js</span> in your text editor: <span
style='font-size:11.0pt;line-height:200%;font-family:"Courier New"'>nano
textHelper.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We’ll create three functions to process the data in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sentences.txt</span>.
The first will be to read the file. Type the following into <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>textHelper.js</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=309
src="How%20To%20Code%20in%20Node.js_files/image924.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894810624'><span
style='left:0px;position:absolute;left:49px;top:-175117px;width:135px;
height:1px'><img width=135 height=1
src="How%20To%20Code%20in%20Node.js_files/image925.gif"></span></span><span
style='position:relative;z-index:-1894809600'><span style='left:0px;position:
absolute;left:342px;top:-175117px;width:175px;height:1px'><img width=175
height=1 src="How%20To%20Code%20in%20Node.js_files/image926.gif"></span></span>First,
we import the <a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>fs</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>
Node</span></a><a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>s
librar</span></a><a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='color:#3445FF;text-decoration:none'>y</span></a> so we can read files.
We then create the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>readFile()</span> function that uses <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>readFileSync()</span> to
load the data from <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>sentences.txt</span> as a <a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>Buffer</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF'> ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF'>ect</span></a> and the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>toString()</span> method to return
it as a string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The next function we’ll add processes a string of text and
flattens it to an array with its words. Add the following code into the editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.1pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=373
src="How%20To%20Code%20in%20Node.js_files/image927.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In this code, we are using the methods <a
href="https://www.digitalocean.com/community/tutorials/how-to-index-split-and-manipulate-strings-in-javascript#splitting-strings"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>split()</span></a>,
<a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-accessor-methods#join()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF;
text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-accessor-methods#join()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>oin()</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-accessor-methods#join()"><span
style='color:black;text-decoration:none'>,</span></a> and <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#map()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>map()</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#map()"><span
style='color:black;text-decoration:none'> </span></a>to manipulate the string
into an array of individual words. The function also lowercases each word to
make counting easier.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The last function needed returns the counts of different
words in a string array. Add the last function like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=533
src="How%20To%20Code%20in%20Node.js_files/image928.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252675072'><span
style='left:0px;position:absolute;left:368px;top:-176436px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Here we
create a <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>t ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>called <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>map</span>
that has the words as its keys and their counts as the values. We loop through
the array, adding one to a count of each word when it’s the current element of
the loop. Let’s complete this module by exporting these functions, making them
available to other modules:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=181
src="How%20To%20Code%20in%20Node.js_files/image929.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.65pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.95pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Our third and final file we’ll use for this exercise will use
the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>textHelpe</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894807552'><span
style='left:0px;position:absolute;left:526px;top:-176856px;width:85px;
height:1px'><img width=85 height=1
src="How%20To%20Code%20in%20Node.js_files/image930.gif"></span></span><span
style='position:relative;z-index:252677120'><span style='left:0px;position:
absolute;left:1px;top:-176856px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>r.js</span>
module to find the most popular word in our text. Open <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>index.js </span>with your
text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=94
src="How%20To%20Code%20in%20Node.js_files/image931.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image932.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:19.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Continue by creating a
new array containing <a href="https://en.wikipedia.org/wiki/Stop_words"><span
style='color:#3445FF'>sto</span></a><a
href="https://en.wikipedia.org/wiki/Stop_words"><span style='color:#3445FF;
text-decoration:none'>p</span></a><a
href="https://en.wikipedia.org/wiki/Stop_words"><span style='color:#3445FF'>
words</span></a>: <b><span style='font-family:"Courier New"'>debugger/index.js</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.75pt;
margin-bottom:.35in;margin-left:16.5pt;text-align:left;text-indent:0in;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#666666'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:16.5pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><b><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>const</span></b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New"'> stopwords </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>=</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> [</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'i'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'me'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'my'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'myself'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'we'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'our'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'ou
rs'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'ourselves'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'you'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'your'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'yours'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'yourself'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'yoursel
ves'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'he'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'him'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'his'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'himself'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'she'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'her'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'hers'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'he
rself'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'it'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'its'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'itself'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'they'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'them'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'their'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'their
s'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'themselves'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'what'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'which'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'who'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'whom'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'this'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'tha
t'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'these'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'those'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'am'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'is'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'are'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'was'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'were'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'be'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:16.5pt;
margin-bottom:48.75pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894805504'><span
style='left:0px;position:absolute;left:12px;top:-177519px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image922.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'been'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'being'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'have'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'has'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'had'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'having'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'do'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'does'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'did'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'doing'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'a'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'an'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'the'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'and'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'but'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'if'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'or'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'b
ecause'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'as'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'until'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'while'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'of'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'at'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'by'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'for'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'wit
h'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'about'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'against'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'between'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'into'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'through'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'during'
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'before'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'after'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'above'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'below'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'to'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'from'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'up'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'do
wn'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'in'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'out'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'on'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'off'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'over'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'under'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'again'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'furt
her'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'then'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'once'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'here'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'there'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'when'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'where'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'why'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'how'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'all'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'any'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'both'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'each'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'few'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'more'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'most'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'o
ther'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'some'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'such'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'no'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'nor'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'not'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'only'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'own'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'sam
e'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'so'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'than'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'too'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'very'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'s'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'t'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'can'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'will'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'jus
t'</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#666666'>,</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New"'> </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#4070A0'>'don'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'should'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>'now'</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>''</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>]</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894804480'><span
style='left:0px;position:absolute;left:440px;top:-177897px;width:76px;
height:1px'><img width=76 height=1
src="How%20To%20Code%20in%20Node.js_files/image933.gif"></span></span>Stop
words are commonly used words in a language that we filter out before
processing a text. We can use this to find more meaningful data than the result
that the most popular word in English text is <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>the</span> or <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>a</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252680192'><span
style='left:0px;position:absolute;left:236px;top:-177997px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>Continue
by using the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>textHelper.js</span>
module functions to get a JavaScript object with words and their counts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=245
src="How%20To%20Code%20in%20Node.js_files/image934.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We can then complete this module by determining the words
with the highest frequency. To do this, we’ll loop through each key of the
object with the word counts and compare its count to the previously stored
maximum.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>If the word’s count is
higher, it becomes the new maximum.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Add
the following lines of code to compute the most popular word:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=575
src="How%20To%20Code%20in%20Node.js_files/image935.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252681216'><span
style='left:0px;position:absolute;left:110px;top:-179124px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span>In this
code, we are using <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript#objectentries()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>Ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript#objectentries()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF;
text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript#objectentries()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>ect.entries()</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript#objectentries()"><span
style='color:black;text-decoration:none'> </span></a>to transform the key-value
pairs in the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>wordCounts</span>
object into individual arrays, all of which are nested within a larger array.
We then use the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#foreach()"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>forEach()</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-array-methods-in-javascript-iteration-methods#foreach()"><span
style='color:#3445FF'> method</span></a> and some <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-conditional-statements-in-javascript"><span
style='color:#3445FF'>conditional statements</span></a> to test the count of
each word and store the highest number.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Save
and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s now run this file to see it in action. In your
terminal enter this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image936.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will see the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=108
src="How%20To%20Code%20in%20Node.js_files/image937.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252682240'><span
style='left:0px;position:absolute;left:87px;top:-179572px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image938.gif"></span></span><span
style='position:relative;z-index:252683264'><span style='left:0px;position:
absolute;left:488px;top:-179572px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image428.gif"></span></span>From
reading the text, we can see that the answer is incorrect. A quick search in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sentences.txt</span>
would highlight that the word <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>whale</span> appears more than once.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We have quite a few functions that can cause this error: We
may not be reading the entire file, or we may not be processing the text into
the array and JavaScript object correctly. Our algorithm for finding the
maximum word could also be incorrect. The best way to figure out what’s wrong
is to use the debugger.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Even without a large codebase, we don’t want to spend time
stepping through each line of code to observe when things change. Instead, we
can use breakpoints to go to those key moments before the function returns and
observe the output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894799360'><span
style='left:0px;position:absolute;left:283px;top:-179871px;width:230px;
height:1px'><img width=230 height=1
src="How%20To%20Code%20in%20Node.js_files/image939.gif"></span></span>Let’s add
breakpoints in each function in the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>textHelper.js</span> module. To do so, we need
to add the keyword <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>debugger</span> into our code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252685312'><span
style='left:0px;position:absolute;left:99px;top:-179939px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image940.gif"></span></span><span
style='position:relative;z-index:252686336'><span style='left:0px;position:
absolute;left:525px;top:-179939px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image941.gif"></span></span>Open
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>textHelper.js</span>
file in the text editor. We’ll be using <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>nano</span> once again:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=534
src="How%20To%20Code%20in%20Node.js_files/image942.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252687360'><span style='left:0px;position:
absolute;left:355px;top:-180547px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>Next,
we’ll add another breakpoint to the <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>getWords()</span> function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=469
src="How%20To%20Code%20in%20Node.js_files/image943.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:252688384'><span style='left:0px;position:
absolute;left:320px;top:-181081px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image536.gif"></span></span>Finally,
we’ll add a breakpoint to the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>countWords()</span> function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=629
src="How%20To%20Code%20in%20Node.js_files/image944.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252689408'><span style='left:0px;position:absolute;left:133px;
top:-181776px;width:124px;height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image940.gif"></span></span>Save and
exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>textHelper.js</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894793216'><span
style='left:0px;position:absolute;left:563px;top:-181810px;width:48px;
height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image945.gif"></span></span><span
style='position:relative;z-index:-1894792192'><span style='left:0px;position:
absolute;left:1px;top:-181810px;width:84px;height:1px'><img width=84 height=1
src="How%20To%20Code%20in%20Node.js_files/image946.gif"></span></span>Let’s
begin the debugging process. Although the breakpoints are in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>textH
elpers.js</span>, we are debugging the main point of entry of our application: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>in dex.js</span>.
Start a debugging session by entering the following command in your shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image947.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>After
entering the command, we’ll be greeted with this output:<br clear=all
style='page-break-before:always'>
</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;margin-left:
16.25pt'><span style='font-family:"Courier New";color:#BBBBBB'>Output</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt; Debugger listening on
ws://127.0.0.1:9229/b2d3ce0e-3a64-4836</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-bdbf-84b6083d6d30 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:70.5pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&lt; For help, see: https://nodejs.org/en/docs/inspector &lt;
Debugger attached. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Break on start in index.js:1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt; 1 const textHelper = require('./textHelper'); </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  3 const stopwords = ['i', 'me', 'my', 'myself', 'we', 'our',
'ours', 'ourselves', 'you', 'your', 'yours', 'yourself', 'your selves', 'he',
'him', 'his', 'himself', 'she', 'her', 'hers',  'herself', 'it', 'its',
'itself', 'they', 'them', 'their', 't heirs', 'themselves', 'what', 'which',
'who', 'whom', 'this',  'that', 'these', 'those', 'am', 'is', 'are', 'was',
'were',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do',</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894791168'><span
style='left:0px;position:absolute;left:12px;top:-182504px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> 'does',
'did', 'doing', 'a', 'an', 'the', 'and', 'but', 'if', 'or', 'because', 'as',
'until', 'while', 'of', 'at', 'by', 'fo r', 'with', 'about', 'against',
'between', 'into', 'through',  'during', 'before', 'after', 'above', 'below',
'to', 'from',  'up', 'down', 'in', 'out', 'on', 'off', 'over', 'under', 'aga
in', 'further', 'then', 'once', 'here', 'there', 'when', 'wher e', 'why',
'how', 'all', 'any', 'both', 'each', 'few', 'more', 'most', 'other', 'some',
'such', 'no', 'nor', 'not', 'only',  'own', 'same', 'so', 'than', 'too',
'very', 's', 't', 'can',  'will', 'just', 'don', 'should', 'now', ''];</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252693504'><span
style='left:0px;position:absolute;left:152px;top:-182799px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252694528'><span style='left:0px;position:
absolute;left:532px;top:-182799px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image948.gif"></span></span>This
time, enter <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c</span>
into the interactive debugger. As a reminder, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>c</span> is short for continue.
This jumps the debugger to the next breakpoint in the code.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=297
src="How%20To%20Code%20in%20Node.js_files/image949.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>We’ve now saved some debugging time by going directly to our
breakpoint.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252695552'><span
style='left:0px;position:absolute;left:269px;top:-183235px;width:87px;
height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image950.gif"></span></span>In this
function, we want to be sure that all the text in the file is being returned.
Add a watcher for the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>sentences</span> variable so we can see what’s being
returned:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=613 height=127
src="How%20To%20Code%20in%20Node.js_files/image951.gif"></span></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;margin-left:
16.25pt'><span style='font-family:"Courier New";color:#BBBBBB'>Output</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:212.75pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>break in textHelper.js:7 Watchers: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  0: sentences = </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    'Whale shark Rhincodon typus gigantic but harmless shark f
amily Rhincodontidae that is the largest living fish\n' +       'Whale sharks
are found in marine environments worldwide but mainly in tropical oceans\n' + </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='position:relative;z-index:-1894787072'><span
style='left:0px;position:absolute;left:12px;top:-183650px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image540.gif"></span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>      'They
make up the only species of the genus Rhincodon an d are classified within the
order Orectolobiformes a group con taining the carpet sharks\n' +       'The
whale shark is enormous and reportedly capable of r eaching a maximum length of
about 18 metres 59 feet\n' +       'Most specimens that have been studied
however weighed a bout 15 tons about 14 metric tons and averaged about 12
metres </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>39 feet in length\n' + </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>      'The body coloration is distinctive\n' + </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:0in;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>      'Light vertical and horizontal stripes form a checkerboa
rd pattern on a dark background and light spots mark the fins  and dark areas
of the body\n'  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:42.85pt;text-align:left;text-indent:-27.1pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>let
sentences = data.toString(); </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:42.85pt;text-align:left;text-indent:-27.1pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>debugger;
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&gt; 7   return sentences; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  8 }; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:9.95pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  9</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252697600'><span
style='left:0px;position:absolute;left:72px;top:-184154px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>It seems
that we aren’t having any problems reading the file; the problem must lie
elsewhere in our code. Let’s move to the next breakpoint by pressing <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c</span>
once again. When you do, you’ll see this output:<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image952.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=75
src="How%20To%20Code%20in%20Node.js_files/image953.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252698624'><span
style='left:0px;position:absolute;left:524px;top:-185267px;width:87px;
height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image887.gif"></span></span><span
style='position:relative;z-index:252699648'><span style='left:0px;position:
absolute;left:79px;top:-185267px;width:88px;height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image954.gif"></span></span>We get
this error message because we set up a watcher for the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>sentences </span>variable,
but that variable does not exist in our current function scope. A watcher lasts
for the entire debugging session, so as long as we keep watching <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sentences</span>
where it’s not defined, we’ll continue to see this error.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252700672'><span
style='left:0px;position:absolute;left:380px;top:-185400px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image955.gif"></span></span><span
style='position:relative;z-index:252701696'><span style='left:0px;position:
absolute;left:75px;top:-185400px;width:89px;height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image330.gif"></span></span>We can
stop watching variables with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>unwatch()</span> command. Let’s unwatch <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>sentences</span>
so we no longer have to see this error message every time the debugger prints
its output. In the interactive prompt, enter this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image956.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The debugger does not
output anything when you unwatch a variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.75pt;
margin-left:.25pt;line-height:200%'><span style='position:relative;z-index:
-1894780928'><span style='left:0px;position:absolute;left:12px;top:-185604px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image957.gif"></span></span><span
style='position:relative;z-index:252703744'><span style='left:0px;position:
absolute;left:135px;top:-185604px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>Back
in the <span style='font-size:11.0pt;line-height:200%;font-family:"Courier New"'>getWords()</span>
function, we want to be sure that we are returning a list of words that are
taken from the text we loaded earlier. Let’s watch the value of the <span
style='font-size:11.0pt;line-height:200%;font-family:"Courier New"'>words</span>
variable: <span style='font-size:11.0pt;line-height:200%;font-family:"Courier New"'>watch('words')</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Then enter <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>n</span> to go to the next line of the debugger, so
we can see what’s being stored in <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>words</span>. The debugger will show the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image958.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=75
src="How%20To%20Code%20in%20Node.js_files/image959.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252704768'><span
style='left:0px;position:absolute;left:443px;top:-186798px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span>The
debugger does not print out the entire array as it’s quite long and would make
the output harder to read. However, the output meets our expectations of what
should be stored: the text from <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>sentences</span> split into lowercase strings. It
seems that <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>getWords()</span>
is functioning correctly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894777856'><span
style='left:0px;position:absolute;left:255px;top:-186932px;width:126px;
height:1px'><img width=126 height=1
src="How%20To%20Code%20in%20Node.js_files/image960.gif"></span></span><span
style='position:relative;z-index:252706816'><span style='left:0px;position:
absolute;left:1px;top:-186932px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span>Let’s
move on to observe the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>countWords()</span> function. First, unwatch the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>words</span>
array so we don’t cause any debugger errors when we are at the next</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>breakpoint. In the command
prompt, enter this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image961.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=236
src="How%20To%20Code%20in%20Node.js_files/image962.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252707840'><span
style='left:0px;position:absolute;left:422px;top:-187443px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>In this
function, we want to be sure that the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>map</span> variable correctly contains the
count of each word from our sentences. First, let’s tell the</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=133
src="How%20To%20Code%20in%20Node.js_files/image963.gif"></span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=716
src="How%20To%20Code%20in%20Node.js_files/image964.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252708864'><span
style='left:0px;position:absolute;left:107px;top:-188424px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>That does
not look correct. It seems as though the method for counting words is producing
erroneous results. We don’t know why those values are being entered, so our
next step is to debug what’s happening in the loop used on the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>words</span>
array. To do this, we need to make some changes to where we place our
breakpoint.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=238
src="How%20To%20Code%20in%20Node.js_files/image965.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.7pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252709888'><span
style='left:0px;position:absolute;left:554px;top:-188808px;width:57px;
height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image717.gif"></span></span><span
style='position:relative;z-index:252710912'><span style='left:0px;position:
absolute;left:1px;top:-188808px;width:57px;height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image267.gif"></span></span>remove
their breakpoints. We then want to remove the breakpoint in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>countW
ords()</span> from the end of the function, and add two new breakpoints to the
beginning and end of the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>forEach()</span> block.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:-1894771712'><span style='left:0px;position:
absolute;left:59px;top:-188910px;width:233px;height:1px'><img width=233
height=1 src="How%20To%20Code%20in%20Node.js_files/image966.gif"></span></span>Edit
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>textHelper.js</span>
so it looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=864
src="How%20To%20Code%20in%20Node.js_files/image967.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.3pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=255
src="How%20To%20Code%20in%20Node.js_files/image968.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252712960'><span style='left:0px;position:absolute;left:133px;
top:-190097px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span><span
style='position:relative;z-index:252713984'><span style='left:0px;position:
absolute;left:221px;top:-190097px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
and exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Let’s
start the debugger again with this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image969.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252715008'><span
style='left:0px;position:absolute;left:325px;top:-190228px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image543.gif"></span></span><span
style='position:relative;z-index:252716032'><span style='left:0px;position:
absolute;left:581px;top:-190228px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252717056'><span style='left:0px;position:
absolute;left:1px;top:-190228px;width:57px;height:1px'><img width=57 height=1
src="How%20To%20Code%20in%20Node.js_files/image267.gif"></span></span>To get
insight into what’s happening, we want to debug a few things in the loop.
First, let’s set up a watcher for <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>word</span>, the argument used in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>for Each()</span>
loop containing the string that the loop is currently looking at. In the debug
prompt, enter this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image970.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>So far, we have only watched variables. But watches are not
limited to variables. We can watch any valid JavaScript expression that’s used
in our code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252718080'><span
style='left:0px;position:absolute;left:498px;top:-190466px;width:109px;
height:1px'><img width=109 height=1
src="How%20To%20Code%20in%20Node.js_files/image971.gif"></span></span>In
practical terms, we can add a watcher for the condition <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>word in map</span>, which
determines how we count numbers. In the debug prompt, create this watcher:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=602 height=94
src="How%20To%20Code%20in%20Node.js_files/image972.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>variable:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image973.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.2pt;
margin-left:.25pt;line-height:196%'><span style='position:relative;z-index:
-1894764544'><span style='left:0px;position:absolute;left:12px;top:-190736px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image974.gif"></span></span>Watchers
can even be expressions that aren’t used in our code but could be evaluated
with the code we have. Let’s see how this works by adding a watcher for the
length of the <span style='font-size:11.0pt;line-height:196%;font-family:"Courier New"'>word</span>
variable: <span style='font-size:11.0pt;line-height:196%;font-family:"Courier New"'>watch('word.length')</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now that we’ve set up all our watchers, let’s enter <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c</span>
into the debugger prompt so we can see how the first element in the loop of <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>countWords()</span>
is evaluated. The debugger will print this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=428
src="How%20To%20Code%20in%20Node.js_files/image975.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252720128'><span
style='left:0px;position:absolute;left:257px;top:-191462px;width:51px;
height:1px'><img width=51 height=1
src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span><span
style='position:relative;z-index:252721152'><span style='left:0px;position:
absolute;left:464px;top:-191462px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:-1894761472'><span style='left:0px;position:
absolute;left:22px;top:-191462px;width:192px;height:1px'><img width=192
height=1 src="How%20To%20Code%20in%20Node.js_files/image976.gif"></span></span><span
style='position:relative;z-index:252723200'><span style='left:0px;position:
absolute;left:560px;top:-191462px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span><span
style='position:relative;z-index:252724224'><span style='left:0px;position:
absolute;left:396px;top:-191462px;width:93px;height:1px'><img width=93
height=1 src="How%20To%20Code%20in%20Node.js_files/image977.gif"></span></span>The
first word in the loop is <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>whale</span>. At this point, the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>map</span>
object has no key with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>whale</span> as its empty. Following from that, when
looking up <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>whale
</span>in <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>map</span>,
we get <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>.
Lastly, the length of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>whale</span> is <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>5</span>. That does not help us
debug the problem, but it does validate that we can watch any expression that
could be evaluated with the code while debugging.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252725248'><span
style='left:0px;position:absolute;left:70px;top:-191595px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span>Press <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>c</span>
once more to see what’s changed by the end of the loop. The debugger will show
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.95pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=428
src="How%20To%20Code%20in%20Node.js_files/image978.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894757376'><span
style='left:0px;position:absolute;left:225px;top:-192129px;width:251px;
height:1px'><img width=251 height=1
src="How%20To%20Code%20in%20Node.js_files/image979.gif"></span></span><span
style='position:relative;z-index:-1894756352'><span style='left:0px;position:
absolute;left:505px;top:-192129px;width:45px;height:1px'><img width=45
height=1 src="How%20To%20Code%20in%20Node.js_files/image980.gif"></span></span><span
style='position:relative;z-index:252728320'><span style='left:0px;position:
absolute;left:90px;top:-192129px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252729344'><span style='left:0px;position:
absolute;left:230px;top:-192129px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>At
the end of the loop, <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>word in map</span> is now true as the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>map</span> variable contains
a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>whale</span>
key. The value of <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>map</span> for the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>whale</span> key is <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>NaN</span>, which highlights
our problem. The <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>if</span> statement in <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>countWords()</span> is meant to set a word’s
count to one if it’s new, and add one if it existed already.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:7.0pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252730368'><span
style='left:0px;position:absolute;left:167px;top:-192262px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>The
culprit is the <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>if</span>
statement’s condition. We should set <span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New"'>map[word]</span> to </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt;text-indent:2.25pt'><span style='position:relative;
z-index:-1894752256'><span style='left:0px;position:absolute;left:322px;
top:-192297px;width:270px;height:1px'><img width=270 height=1
src="How%20To%20Code%20in%20Node.js_files/image981.gif"></span></span><span
style='position:relative;z-index:252732416'><span style='left:0px;position:
absolute;left:1px;top:-192297px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:252733440'><span style='left:0px;position:
absolute;left:69px;top:-192297px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252734464'><span style='left:0px;position:
absolute;left:241px;top:-192297px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:252735488'><span style='left:0px;position:
absolute;left:94px;top:-192297px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>1</span> if
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>word</span>
is not found in <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>map</span>. Right now, we are adding one if <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>word</span>
is found. At the beginning of the loop, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>map[&quot;whale&quot;]</span> is <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined</span>.
In JavaScript, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>undefined
+ 1</span> evaluates to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>NaN</span>—not a number.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252736512'><span
style='left:0px;position:absolute;left:502px;top:-192399px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image982.gif"></span></span><span
style='position:relative;z-index:-1894746112'><span style='left:0px;position:
absolute;left:1px;top:-192399px;width:344px;height:1px'><img width=344
height=1 src="How%20To%20Code%20in%20Node.js_files/image983.gif"></span></span><span
style='position:relative;z-index:-1894745088'><span style='left:0px;position:
absolute;left:402px;top:-192399px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image984.gif"></span></span><span
style='position:relative;z-index:252739584'><span style='left:0px;position:
absolute;left:599px;top:-192399px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>The
fix for this would be to change the condition of the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>if</span> statement from <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>(word in
map)</span> to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>(!(word
in map))</span>, using the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>!</span> operator to test if <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>w ord</span> is not in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>map</span>.
Let’s make that change in the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>countWords()</span> function to see what happens.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=238
src="How%20To%20Code%20in%20Node.js_files/image985.gif"></span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=597
src="How%20To%20Code%20in%20Node.js_files/image986.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and close the
editor.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now
let’s run this file without a debugger. In the terminal, enter this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image836.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
script will output the following sentence:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=108
src="How%20To%20Code%20in%20Node.js_files/image987.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This output seems a lot more likely than what we received
before. With the debugger, we figured out which function caused the problem and
which functions did not.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252740608'><span
style='left:0px;position:absolute;left:533px;top:-193769px;width:78px;
height:1px'><img width=78 height=1
src="How%20To%20Code%20in%20Node.js_files/image322.gif"></span></span>We’ve
debugged two different Node.js programs with the built-in CLI debugger. We are
now able to set up breakpoints with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>debugger </span>keyword and create
various watchers to observe changes in internal state. But sometimes, code can
be more effectively debugged from a GUI application.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.5pt;
margin-left:.25pt'>In the next section, we’ll use the debugger in Google
Chrome’s DevTools. We’ll start the debugger in Node.js, navigate to a dedicated
debugging page in Google Chrome, and set up breakpoints and watchers using the
GUI.</p>

<h2 style='margin-left:.5pt'>Step 3 — Debugging Node.js with Chrome DevTools</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>Chrome DevTools is a popular choice for
debugging Node.js in a web browser. As Node.js uses the same <a
href="https://v8.dev/"><span style='color:#3445FF'>V8 JavaScri</span></a><a
href="https://v8.dev/"><span style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://v8.dev/"><span style='color:#3445FF'>t en</span></a><a
href="https://v8.dev/"><span style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://v8.dev/"><span style='color:#3445FF'>ine</span></a><a
href="https://v8.dev/"><span style='color:black;text-decoration:none'> </span></a>that
Chrome uses, the debugging experience is more integrated than with other
debuggers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>For this exercise, we’ll create a new Node.js application
that runs an HTTP server and returns a <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>JSON res</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>onse</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a> We’ll then use the
debugger to set up breakpoints and gain deeper insight into what response is
being generated for the request.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.45pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252741632'><span
style='left:0px;position:absolute;left:265px;top:-194266px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image988.gif"></span></span>Let’s
create a new file called <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>server.js</span> that will store our server code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.95pt;
margin-left:.25pt;text-indent:0in'>Open the file in the text editor:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894740992'><span
style='left:0px;position:absolute;left:12px;top:-194408px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>This
application will return a JSON with a <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>Hello World</span> greeting. It will have an
array of messages in different languages. When a request is received, it will
randomly pick a greeting and return it in a JSON body.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252743680'><span
style='left:0px;position:absolute;left:306px;top:-194507px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span><span
style='position:relative;z-index:252744704'><span style='left:0px;position:
absolute;left:532px;top:-194507px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image187.gif"></span></span>This
application will run on our <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>localhost</span> server on port <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>:8000</span>.
If you’d like to learn more about creating HTTP servers with Node.js, read <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>How To Create a Web Server in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>s with the HTTP Module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Type
the following code into the text editor:<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=458
src="How%20To%20Code%20in%20Node.js_files/image989.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894737920'><span
style='left:0px;position:absolute;left:251px;top:-195155px;width:196px;
height:1px'><img width=196 height=1
src="How%20To%20Code%20in%20Node.js_files/image990.gif"></span></span>We begin
by importing the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>http</span> module, which is needed to create an HTTP server. We
then set up the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>host</span> and <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>port</span> variables that we will use later to run
the server. The <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>greetings</span> array contains all the possible greetings our
server can return. The <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>getGreeting()</span> function randomly selects a
greeting and returns it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s add the request listener that processes HTTP requests
and add code to run our server. Continue editing the Node.js module by typing
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=501
src="How%20To%20Code%20in%20Node.js_files/image991.gif"></span></p>

<p class=MsoNormal style='margin-right:9.65pt;text-indent:0in'>Our server is
now ready for use, so let’s set up the Chrome debugger. We can start the Chrome
debugger with the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image992.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252746752'><span
style='left:0px;position:absolute;left:484px;top:-196033px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image993.gif"></span></span><span
style='position:relative;z-index:252747776'><span style='left:0px;position:
absolute;left:185px;top:-196033px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span><b>Note:</b>
Keep in mind the difference between the CLI debugger and the Chrome debugger
commands. When using the CLI you use <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>inspect</span>. When using Chrome you use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>--inspect</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>After
starting the debugger, you’ll find the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=172
src="How%20To%20Code%20in%20Node.js_files/image994.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252748800'><span
style='left:0px;position:absolute;left:439px;top:-196370px;width:151px;
height:1px'><img width=151 height=1
src="How%20To%20Code%20in%20Node.js_files/image995.gif"></span></span><span
style='position:relative;z-index:252749824'><span style='left:0px;position:
absolute;left:590px;top:-196370px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:252750848'><span style='left:0px;position:
absolute;left:1px;top:-196370px;width:111px;height:1px'><img width=111
height=1 src="How%20To%20Code%20in%20Node.js_files/image889.gif"></span></span>Now
open Google Chrome or <a href="https://www.chromium.org/"><span
style='color:#3445FF'>Chromium</span></a> and enter <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>chrome://inspect</span> in
the address bar. <a href="https://www.microsoft.com/en-us/edge"><span
style='color:#3445FF'>Microsoft Ed</span></a><a
href="https://www.microsoft.com/en-us/edge"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a href="https://www.microsoft.com/en-us/edge"><span
style='color:#3445FF'>e</span></a> also uses the V8 JavaScript engine, and can
thus use the same debugger. If you are using Microsoft Edge, navigate to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ed
ge://inspect</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>After navigating to the
URL, you will see the following page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=416
src="How%20To%20Code%20in%20Node.js_files/image996.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Under the <b>Devices</b> header, click the <b>Open dedicated
DevTools for Node </b>button. A new window will pop up:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=275
src="How%20To%20Code%20in%20Node.js_files/image997.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>We’re now able to debug our Node.js code with Chrome.
Navigate to the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><b>Sources</b> tab if not
already there. On the left-hand side, expand the file tree</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=331
src="How%20To%20Code%20in%20Node.js_files/image998.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Let’s add a breakpoint to our code. We want to stop when the
server has selected a greeting and is about to return it. Click on the line
number <b>10</b> in the debug console. A red dot will appear next to the number
and the righthand panel will indicate a new breakpoint was added:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=284
src="How%20To%20Code%20in%20Node.js_files/image999.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252751872'><span
style='left:0px;position:absolute;left:599px;top:-198160px;width:12px;
height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252752896'><span style='left:0px;position:
absolute;left:1px;top:-198160px;width:66px;height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image281.gif"></span></span><span
style='position:relative;z-index:252753920'><span style='left:0px;position:
absolute;left:154px;top:-198160px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Now
let’s add a watch expression. On the right panel, click the arrow next to the <b>Watch</b>
header to open the watch words list, then click <b>+</b>. Enter <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>g reeting</span>
and press <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>
so that we can observe its value when processing a request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894728704'><span
style='left:0px;position:absolute;left:1px;top:-198259px;width:196px;
height:1px'><img width=196 height=1
src="How%20To%20Code%20in%20Node.js_files/image1000.gif"></span></span>Next,
let’s debug our code. Open a new browser window and navigate to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http://localhost:8000</span>—the
address the Node.js server is running on. When pressing <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>ENTER</span>, we will not
immediately get a response. Instead, the debug window will pop up once again.
If it does not immediately come into focus, navigate to the debug window to see
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=421
src="How%20To%20Code%20in%20Node.js_files/image1001.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The debugger pauses the server’s response where we set our
breakpoint. The variables that we watch are updated in the right panel and also
in the line of code that created it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>Let’s complete the response’s execution by pressing the
continue button at the right panel, right above <b>Paused on breakpoint</b>.
When the response is complete, you will see a successful JSON response in the
browser window used to speak with the Node.js server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:21.75pt;
margin-left:.25pt'>In this way, Chrome DevTools does not require changes to the
code to add breakpoints. If you prefer to use graphical applications over the
command line to debug, the Chrome DevTools are more suitable for you.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'>In this article, we debugged sample Node.js
applications by setting up watchers to observe the state of our application,
and then by adding breakpoints to allow us to pause execution at various points
in our program’s execution. We accomplished this using both the built-in CLI
debugger and Google Chrome’s DevTools.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Many Node.js developers log to the console to debug their
code. While this is useful, it’s not as flexible as being able to pause
execution and watch various state changes. Because of this, using debugging
tools is often more efficient, and will save time over the course of developing
a project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:black;text-decoration:none'>To learn more about these debugging
tools, you can read the </span></a><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:#3445FF'>s documentation</span></a><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://developers.google.com/web/tools/chrome-devtools/javascript"><span
style='color:#3445FF'>Chrome DevTools documentation</span></a><a
href="https://nodejs.org/en/docs/guides/debugging-getting-started/"><span
style='color:black;text-decoration:none'>. If you’d like to </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>continue learning Node.js, you can
return to the </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>, or browse programming projects and
setups on our</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-launch-child-processes-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Launch Child Processes in</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-launch-child-processes-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-launch-child-processes-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-launch-child-processes-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>When a user executes a single <a href="https://nodejs.org/"><span
style='color:#3445FF'>Node</span></a><a href="https://nodejs.org/"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF'>s</span></a><a
href="https://nodejs.org/"><span style='color:black;text-decoration:none'> </span></a>program,
it runs as a single operating system (OS) process that represents the instance
of the program running. Within that process, Node.js executes programs on a
single thread. <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:black;text-decoration:none'>As mentioned earlier in this series
with the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:#3445FF'>nchronous Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:#3445FF'>s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#the-event-loop"><span
style='color:black;text-decoration:none'> tutorial, because only one thread can
run on one process, </span></a>operations that take a long time to execute in <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>can block the Node.js
thread and delay the execution of other code. A key strategy to work around
this problem is to launch a child process, or a process created by another
process, when faced with long-running tasks. When a new process is launched,
the operating system can employ multiprocessing techniques to ensure that the
main Node.js process and the additional child process run concurrently, or at
the same time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Node.js includes the <a
href="https://nodejs.org/api/child_process.html#child_process_child_process"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>child_process</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process"><span
style='color:#3445FF'> </span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process"><span
style='color:#3445FF'>module</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process"><span
style='color:black;text-decoration:none'>,</span></a> which has functions to
create new processes. Aside from dealing with long-running tasks, this module
can also interface with the OS and run <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal#the-shell"><span
style='color:#3445FF'>shell</span></a> commands. System administrators can use
Node.js to run shell commands to structure and maintain their operations as a <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>s module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:black;text-decoration:none'> </span></a>instead of <a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-shell-scripting"><span
style='color:#3445FF'>shell scri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-shell-scripting"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-shell-scripting"><span
style='color:#3445FF'>ts</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:15.85pt;
margin-left:.25pt'><span style='position:relative;z-index:252755968'><span
style='left:0px;position:absolute;left:499px;top:-200453px;width:112px;
height:1px'><img width=112 height=1
src="How%20To%20Code%20in%20Node.js_files/image327.gif"></span></span><span
style='position:relative;z-index:252756992'><span style='left:0px;position:
absolute;left:1px;top:-200453px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>In this
tutorial, you will create child processes while executing a series of sample
Node.js applications. You’ll create processes with the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>child_proces s</span> module
by retrieving the results of a child process via a <a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF'>buffer</span></a> or string <a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:black;text-decoration:none'>with the </span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>exec()</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:#3445FF'> function</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:black;text-decoration:none'>, and then from a data stream with the
</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>spawn()
</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:#3445FF'>function</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:black;text-decoration:none'>. You’ll finish by using </span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>fork()</span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><span
style='color:black;text-decoration:none'>to create a child process of another </span></a>Node.js
program that you can communicate with as it’s running. To illustrate these
concepts, you will write a program to list the contents of a directory, a
program to find files, and a web server with multiple endpoints.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 257484"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> You must have
Node.js installed to run through these examples. This tutorial uses version
10.22.0. To install this on macOS or Ubuntu <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>18.04, follow the steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA </span></b></a>section
of <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.2pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='position:relative;
z-index:252758016'><span style='left:0px;position:absolute;left:71px;
top:-200892px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 257485"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> This article
uses an example that creates a web server to explain how the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>
function works. To get familiar with creating web servers, <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>you can read our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>How To Create a Web Server in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>s with the HTTP Module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
.5pt'>Step 1 — Creating a Child Process with <sub><span style='font-family:
"Courier New"'>exec()</span></sub></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252759040'><span
style='left:0px;position:absolute;left:551px;top:-201061px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252760064'><span style='left:0px;position:
absolute;left:405px;top:-201061px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span>Developers
commonly create child processes to execute commands on their operating system
when they need to manipulate the output of their Node.js programs with a shell,
such as using shell piping or redirection. The <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec() </span>function in Node.js
creates a new shell process and executes a command in that shell. The output of
the command is kept in a buffer in memory, which you can accept via a <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#asynchronous-programming-with-callbacks"><span
style='color:#3445FF'>callback function</span></a> passed into <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s begin creating our first child processes in Node.js.
First, we need to set up our coding environment to store the scripts we’ll
create throughout</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=240
src="How%20To%20Code%20in%20Node.js_files/image1003.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:55.75pt;
margin-left:.25pt;text-indent:0in'>In this tutorial we will use <a
href="https://www.nano-editor.org/"><span style='color:#3445FF'>nano</span></a><a
href="https://www.nano-editor.org/"><span style='color:black;text-decoration:
none'>,</span></a> a terminal text editor:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894722560'><span
style='left:0px;position:absolute;left:12px;top:-201653px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span><span
style='position:relative;z-index:252762112'><span style='left:0px;position:
absolute;left:30px;top:-201653px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252763136'><span style='left:0px;position:
absolute;left:186px;top:-201653px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252764160'><span style='left:0px;position:
absolute;left:326px;top:-201653px;width:24px;height:1px'><img width=24
height=1 src="How%20To%20Code%20in%20Node.js_files/image625.gif"></span></span>We’ll
be writing a Node.js module that uses the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec()</span> function to run the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ls</span>
command. The <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>ls</span>
command list the files and folders in a directory. This program takes the
output from the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>ls</span> command and displays it to the user.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
the text editor, add the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.15pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=565
src="How%20To%20Code%20in%20Node.js_files/image1004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252765184'><span
style='left:0px;position:absolute;left:187px;top:-202384px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:-1894717440'><span style='left:0px;position:
absolute;left:420px;top:-202384px;width:125px;height:1px'><img width=125
height=1 src="How%20To%20Code%20in%20Node.js_files/image1005.gif"></span></span><span
style='position:relative;z-index:252767232'><span style='left:0px;position:
absolute;left:599px;top:-202384px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:252768256'><span style='left:0px;position:
absolute;left:1px;top:-202384px;width:50px;height:1px'><img width=50 height=1
src="How%20To%20Code%20in%20Node.js_files/image1006.gif"></span></span>We first
import the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
command from the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>child_process</span> module using <a
href="https://www.digitalocean.com/community/tutorials/understanding-destructuring-rest-parameters-and-spread-syntax-in-javascript#destructuring"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-destructuring-rest-parameters-and-spread-syntax-in-javascript#destructuring"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-destructuring-rest-parameters-and-spread-syntax-in-javascript#destructuring"><span
style='color:#3445FF'>t destructurin</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-destructuring-rest-parameters-and-spread-syntax-in-javascript#destructuring"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-destructuring-rest-parameters-and-spread-syntax-in-javascript#destructuring"><span
style='color:black;text-decoration:none'>.</span></a> Once imported, we use the
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
function. The first argument is the command we would like to run. In this case,
it’s <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>l
s -lh</span>, which lists all the files and folders in the current directory in
long format, with a total file size in human-readable units at the top of the
output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252769280'><span
style='left:0px;position:absolute;left:1px;top:-202550px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image1007.gif"></span></span><span
style='position:relative;z-index:252770304'><span style='left:0px;position:
absolute;left:178px;top:-202550px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252771328'><span style='left:0px;position:
absolute;left:519px;top:-202550px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:-1894711296'><span style='left:0px;position:
absolute;left:580px;top:-202550px;width:31px;height:1px'><img width=31
height=1 src="How%20To%20Code%20in%20Node.js_files/image1008.gif"></span></span><span
style='position:relative;z-index:-1894710272'><span style='left:0px;position:
absolute;left:1px;top:-202550px;width:48px;height:1px'><img width=48 height=1
src="How%20To%20Code%20in%20Node.js_files/image1009.gif"></span></span>The
second argument is a callback function with three parameters: <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stdout</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>.
If the command failed to run, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>error</span> will capture the reason why it failed.
This can happen if the shell cannot find the command you’re trying to execute.
If the command is executed successfully, any data it writes to the <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#standard-output"><span
style='color:#3445FF'>standard out</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#standard-output"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#standard-output"><span
style='color:#3445FF'>ut stream</span></a> is captured in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>s tdout</span>,
and any data it writes to the <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#standard-error"><span
style='color:#3445FF'>standard error stream</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#standard-error"><span
style='color:black;text-decoration:none'> </span></a>is captured in <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>std err</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252774400'><span
style='left:0px;position:absolute;left:439px;top:-202716px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252775424'><span style='left:0px;position:
absolute;left:530px;top:-202716px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252776448'><span style='left:0px;position:
absolute;left:330px;top:-202716px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252777472'><span style='left:0px;position:
absolute;left:429px;top:-202716px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image203.gif"></span></span><b>Note:</b>
It’s important to keep the difference between <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error</span> and <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>
in mind. If the command itself fails to run, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error</span> will capture the
error. If the command runs but returns output to the error stream, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>
will capture it. The most resilient Node.js programs will handle all possible
outputs for a child process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252778496'><span
style='left:0px;position:absolute;left:181px;top:-202848px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:-1894704128'><span style='left:0px;position:
absolute;left:345px;top:-202848px;width:109px;height:1px'><img width=109
height=1 src="How%20To%20Code%20in%20Node.js_files/image1010.gif"></span></span><span
style='position:relative;z-index:252780544'><span style='left:0px;position:
absolute;left:563px;top:-202848px;width:48px;height:1px'><img width=48
height=1 src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span><span
style='position:relative;z-index:252781568'><span style='left:0px;position:
absolute;left:1px;top:-202848px;width:93px;height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image785.gif"></span></span>In our
callback function, we first check if we received an error. If we did, we
display the error’s <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>message</span> (a property of the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Error</span> object) with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>conso
le.error()</span> and end the function with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>return</span>. We then check if the
command printed an error message and <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>return</span> if so. If the command
successfully executes, we log its output to the <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-javascript-developer-console"><span
style='color:#3445FF'>console</span></a> with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>console.log()</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:9.05pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1894701056'><span
style='left:0px;position:absolute;left:472px;top:-203014px;width:130px;
height:1px'><img width=130 height=1
src="How%20To%20Code%20in%20Node.js_files/image1011.gif"></span></span>Let’s
run this file to see it in action. First, save and exit <span style='font-size:
11.0pt;line-height:110%;font-family:"Courier New"'>nano</span> by pressing </p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:.1in;margin-left:3.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:252783616'><span
style='left:0px;position:absolute;left:1px;top:-203052px;width:61px;height:
1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image206.gif"></span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.0pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1894699008'><span style='left:0px;position:absolute;left:12px;top:-203087px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Back in
your terminal, run your application with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>node</span> command:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Your
terminal will display the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.95pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=140
src="How%20To%20Code%20in%20Node.js_files/image1012.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252785664'><span
style='left:0px;position:absolute;left:261px;top:-203402px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image851.gif"></span></span><span
style='position:relative;z-index:252786688'><span style='left:0px;position:
absolute;left:266px;top:-203402px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:252787712'><span style='left:0px;position:
absolute;left:496px;top:-203402px;width:116px;height:1px'><img width=116
height=1 src="How%20To%20Code%20in%20Node.js_files/image550.gif"></span></span><span
style='position:relative;z-index:252788736'><span style='left:0px;position:
absolute;left:363px;top:-203402px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>This
lists the contents of the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>child-processes</span> directory in long format,
along with the size of the contents at the top. Your results will have your own
user and group in place of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>sammy</span>. This shows that the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>listFiles.js
</span>program successfully ran the shell command <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ls -lh</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'><span style='position:relative;z-index:252789760'><span
style='left:0px;position:absolute;left:1px;top:-203535px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>Now let’s
look at another way to execute concurrent processes. Node.js’s <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>child_process</span>
module can also run executable files with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>execFile()</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894692864'><span
style='left:0px;position:absolute;left:471px;top:-203603px;width:141px;
height:1px'><img width=141 height=1
src="How%20To%20Code%20in%20Node.js_files/image1013.gif"></span></span><span
style='position:relative;z-index:-1894691840'><span style='left:0px;position:
absolute;left:228px;top:-203603px;width:204px;height:1px'><img width=204
height=1 src="How%20To%20Code%20in%20Node.js_files/image1014.gif"></span></span><span
style='position:relative;z-index:-1894690816'><span style='left:0px;position:
absolute;left:35px;top:-203603px;width:63px;height:1px'><img width=63 height=1
src="How%20To%20Code%20in%20Node.js_files/image1015.gif"></span></span><span
style='position:relative;z-index:252793856'><span style='left:0px;position:
absolute;left:483px;top:-203603px;width:124px;height:1px'><img width=124
height=1 src="How%20To%20Code%20in%20Node.js_files/image1016.gif"></span></span>function.
The key difference between the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>execFile()</span> and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec()</span> functions is that the
first argument of <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>execFile()</span> is now a path to an executable file instead of
a command. The output of the executable file is stored in a buffer like <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>,
which we access via a callback function with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stdout</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr</span>
parameters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252794880'><span
style='left:0px;position:absolute;left:316px;top:-203736px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image835.gif"></span></span><span
style='position:relative;z-index:252795904'><span style='left:0px;position:
absolute;left:403px;top:-203736px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252796928'><span style='left:0px;position:
absolute;left:41px;top:-203736px;width:98px;height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image1017.gif"></span></span><span
style='position:relative;z-index:-1894685696'><span style='left:0px;position:
absolute;left:301px;top:-203736px;width:161px;height:1px'><img width=161
height=1 src="How%20To%20Code%20in%20Node.js_files/image1018.gif"></span></span><b>Note:</b>
Scripts in Windows such as <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>.bat</span> and <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>.cmd</span> files cannot be run
with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>
because the function does not create a shell when running the file. On Unix,
Linux, and macOS, executable scripts do not always need a shell to run.
However, a Windows machines needs a shell to execute scripts. To execute script
files on Windows, use <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>exec()</span>, since it creates a new shell.
Alternatively, you can use <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>spawn()</span>, which you’ll use later in this Step.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:6.35pt;margin-left:0in;text-align:left;line-height:145%'><span
style='position:relative;z-index:252798976'><span style='left:0px;position:
absolute;left:319px;top:-203935px;width:44px;height:1px'><img width=44
height=1 src="How%20To%20Code%20in%20Node.js_files/image459.gif"></span></span><span
style='position:relative;z-index:252800000'><span style='left:0px;position:
absolute;left:50px;top:-203935px;width:97px;height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span>However,
note that you can execute <span style='font-size:11.0pt;line-height:145%;
font-family:"Courier New"'>.exe</span> files in Windows successfully using <span
style='font-size:11.0pt;line-height:145%;font-family:"Courier New"'>execFile()</span>.
This limitation only applies to script files that require a shell to execute.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252801024'><span
style='left:0px;position:absolute;left:404px;top:-204011px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span>Let’s
begin by adding an executable script for <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>execFile()</span> to run. We’ll
write a <a href="https://www.gnu.org/software/bash/"><span style='color:#3445FF'>bash</span></a>
script that downloads the <a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:#3445FF'>s lo</span></a><a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:#3445FF'>o</span></a><a
href="https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg"><span
style='color:black;text-decoration:none'> </span></a>from the Node.js website
and <a href="https://en.wikipedia.org/wiki/Base64"><span style='color:#3445FF'>Base64</span></a><a
href="https://en.wikipedia.org/wiki/Base64"><span style='color:black;
text-decoration:none'> </span></a>encodes it to convert its data to a string of
<a href="https://en.wikipedia.org/wiki/ASCII"><span style='color:#3445FF'>ASCII
</span></a>characters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.2pt;
margin-left:15.75pt;text-indent:0in'><span style='position:relative;z-index:
-1894681600'><span style='left:0px;position:absolute;left:12px;top:-204111px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Create a
new shell script file called <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>processNodejsImage.sh</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Now write a script to
download the image and base64 convert it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=191
src="How%20To%20Code%20in%20Node.js_files/image1019.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252803072'><span
style='left:0px;position:absolute;left:117px;top:-204488px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252804096'><span style='left:0px;position:
absolute;left:564px;top:-204488px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span><span
style='position:relative;z-index:-1894678528'><span style='left:0px;position:
absolute;left:428px;top:-204488px;width:150px;height:1px'><img width=150
height=1 src="How%20To%20Code%20in%20Node.js_files/image1020.gif"></span></span><span
style='position:relative;z-index:252806144'><span style='left:0px;position:
absolute;left:193px;top:-204488px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>The
first statement is a shebang statement. It’s used in Unix, Linux, and macOS
when we want to specify a shell to execute our script. The second statement is
a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>curl</span>
command. The <a href="https://curl.haxx.se/"><span style='color:#3445FF'>cURL
utilit</span></a><a href="https://curl.haxx.se/"><span style='color:#3445FF;
text-decoration:none'>y</span></a>, whose command is <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>curl</span>, is a
command-line tool that can transfer data to and from a server. We use cURL to
download the Node.js logo from the website, and then we use <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection"><span
style='color:#3445FF'>redirection</span></a> to save the downloaded data to a
new file <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nodejs-logo.svg</span>.
The last statement uses the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>base64</span> utility to encode the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nodejs-logo.svg</span>
file we downloaded with cURL. The script then outputs the encoded string to the
console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit before
continuing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In order for our Node program to run the bash script, we
have to make it executable. To do this, run the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1021.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This will give your
current user the permission to execute the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252807168'><span
style='left:0px;position:absolute;left:200px;top:-204923px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>With our
script in place, we can write a new Node.js module to execute it. This script
will use <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>
to run the script in a child process, catching any errors and displaying all
output to console.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:8.95pt;
margin-bottom:62.0pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1894675456'><span
style='left:0px;position:absolute;left:12px;top:-205022px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>In your
terminal, make a new JavaScript file called <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>getNodejsImage.js</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Type
the following code in the text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=575
src="How%20To%20Code%20in%20Node.js_files/image1022.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252809216'><span
style='left:0px;position:absolute;left:397px;top:-205771px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span><span
style='position:relative;z-index:-1894673408'><span style='left:0px;position:
absolute;left:30px;top:-205771px;width:210px;height:1px'><img width=210
height=1 src="How%20To%20Code%20in%20Node.js_files/image1023.gif"></span></span><span
style='position:relative;z-index:-1894672384'><span style='left:0px;position:
absolute;left:270px;top:-205771px;width:162px;height:1px'><img width=162
height=1 src="How%20To%20Code%20in%20Node.js_files/image1024.gif"></span></span><span
style='position:relative;z-index:252812288'><span style='left:0px;position:
absolute;left:1px;top:-205771px;width:196px;height:1px'><img width=196
height=1 src="How%20To%20Code%20in%20Node.js_files/image635.gif"></span></span><span
style='position:relative;z-index:252813312'><span style='left:0px;position:
absolute;left:599px;top:-205771px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>We
use JavaScript destructuring to import the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>execFile()</span> function from the
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>child_process</span>
module. We then use that function, passing the file path as the first name. <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>__dirname</span>
contains the directory path of the module in which it is written. Node.js
provides the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>__dirname</span>
variable to a module when the module runs. By using <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>__dirname</span>, our script
will always find the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>processNodejsImage.sh</span> file across different operating
systems, no matter where we run <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>getNodejsImage.js</span>. Note that for our current
project setup, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>g
etNodejsImage.js</span> and <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>processNodejsImage.sh</span> must be in the same
folder.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894669312'><span
style='left:0px;position:absolute;left:1px;top:-206003px;width:503px;
height:1px'><img width=503 height=1
src="How%20To%20Code%20in%20Node.js_files/image1025.gif"></span></span><span
style='position:relative;z-index:252815360'><span style='left:0px;position:
absolute;left:550px;top:-206003px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image333.gif"></span></span>The
second argument is a callback with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>error</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stdout</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>stderr
</span>parameters. Like with our previous example that used <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>,
we check for each possible output of the script file and log them to the
console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.5pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>In your text editor, save
this file and exit from the editor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image1026.gif"></span>In
your terminal, use <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>node</span> to execute the module:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Running this script will
produce output like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=236
src="How%20To%20Code%20in%20Node.js_files/image1027.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.3pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Note that we truncated
the output in this article because of its large size.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252816384'><span
style='left:0px;position:absolute;left:366px;top:-206617px;width:197px;
height:1px'><img width=197 height=1
src="How%20To%20Code%20in%20Node.js_files/image586.gif"></span></span>Before
base64 encoding the image, <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>processNodejsImage.sh</span> first downloads it. You
can also verify that you downloaded the image by inspecting the current
directory.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:-1894666240'><span style='left:0px;position:
absolute;left:12px;top:-206683px;width:590px;height:1px'><img width=590
height=1 src="How%20To%20Code%20in%20Node.js_files/image223.gif"></span></span>Execute
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>listFiles.js</span>
to find the updated list of files in our directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=4 id="Group 258440"
src="How%20To%20Code%20in%20Node.js_files/image1028.gif"></span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:16.45pt;
margin-bottom:8.75pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'>The script will display content similar to the following on
the terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.3pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=268
src="How%20To%20Code%20in%20Node.js_files/image1029.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894665216'><span
style='left:0px;position:absolute;left:178px;top:-207076px;width:336px;
height:1px'><img width=336 height=1
src="How%20To%20Code%20in%20Node.js_files/image1030.gif"></span></span>We’ve
now successfully executed <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>processNodejsImage.sh</span> as a child process in
Node.js using the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>execFile()</span> function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.0pt;
margin-left:.25pt'><span style='position:relative;z-index:252819456'><span
style='left:0px;position:absolute;left:64px;top:-207144px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252820480'><span style='left:0px;position:
absolute;left:353px;top:-207144px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252821504'><span style='left:0px;position:
absolute;left:457px;top:-207144px;width:69px;height:1px'><img width=69
height=1 src="How%20To%20Code%20in%20Node.js_files/image1031.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>
functions can run commands on the operating system’s shell in a Node.js child
process. Node.js also provides another method with similar functionality, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn()</span>.
The difference is that instead of getting the output of the shell commands all
at once, we get them in chunks via a stream. In the next section we’ll use the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn()</span>
command to create a child process.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.2pt;margin-left:
.5pt'>Step 2 — Creating a Child Process with <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>spawn()</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252822528'><span
style='left:0px;position:absolute;left:38px;top:-207378px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn()</span>
function runs a command in a process. This function returns data via the <a
href="https://nodejs.org/api/stream.html"><span style='color:#3445FF'>stream
API</span></a>. Therefore, to get the output of the child process, we need to
listen for stream <a
href="https://www.digitalocean.com/community/tutorials/understanding-events-in-javascript"><span
style='color:#3445FF'>events</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Streams in Node.js are instances of event emitters. If you
would like to learn more about listening for events and the foundations of
interacting with streams, you can read our guide on <a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'>Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'> Event Emitters in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'>s</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252823552'><span
style='left:0px;position:absolute;left:300px;top:-207578px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252824576'><span style='left:0px;position:
absolute;left:420px;top:-207578px;width:190px;height:1px'><img width=190
height=1 src="How%20To%20Code%20in%20Node.js_files/image1032.gif"></span></span><span
style='position:relative;z-index:252825600'><span style='left:0px;position:
absolute;left:161px;top:-207578px;width:195px;height:1px'><img width=195
height=1 src="How%20To%20Code%20in%20Node.js_files/image1033.gif"></span></span>It’s
often a good idea to choose <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>spawn()</span> over <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec()</span> or <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile() </span>when
the command you want to run can output a large amount of data. With a buffer,
as used by <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>,
all the processed data is stored in the computer’s memory. For large amounts of
data, this can degrade system performance. With a stream, the data is processed
and transferred in small chunks. Therefore, you can process a large amount of
data without using too much memory at any one time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252826624'><span
style='left:0px;position:absolute;left:229px;top:-207777px;width:71px;
height:1px'><img width=71 height=1
src="How%20To%20Code%20in%20Node.js_files/image189.gif"></span></span><span
style='position:relative;z-index:252827648'><span style='left:0px;position:
absolute;left:569px;top:-207777px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252828672'><span style='left:0px;position:
absolute;left:222px;top:-207777px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>Let’s
see how we can use <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>spawn()</span> to make a child process. We will write a new
Node.js module that creates a child process to run the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>find </span>command. We will
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>find</span>
command to list all the files in the current directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=593 height=346 src="How%20To%20Code%20in%20Node.js_files/image1034.gif"></span>Create
a new file called <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>findFiles.js</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894653952'><span
style='left:0px;position:absolute;left:156px;top:-208255px;width:110px;
height:1px'><img width=110 height=1
src="How%20To%20Code%20in%20Node.js_files/image1035.gif"></span></span><span
style='position:relative;z-index:252830720'><span style='left:0px;position:
absolute;left:417px;top:-208255px;width:123px;height:1px'><img width=123
height=1 src="How%20To%20Code%20in%20Node.js_files/image770.gif"></span></span><span
style='position:relative;z-index:252831744'><span style='left:0px;position:
absolute;left:34px;top:-208255px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252832768'><span style='left:0px;position:
absolute;left:560px;top:-208255px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span>We
first imported the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>spawn()</span> function from the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>child_process</span> module. We
then called the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>spawn()</span> function to create a child process that executes
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>find</span>
command. We hold the reference to the process in the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>child </span>variable, which
we will use to listen to its streamed events.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.8pt;
margin-left:.25pt'><span style='position:relative;z-index:252833792'><span
style='left:0px;position:absolute;left:198px;top:-208388px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252834816'><span style='left:0px;position:
absolute;left:564px;top:-208388px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span><span
style='position:relative;z-index:252835840'><span style='left:0px;position:
absolute;left:569px;top:-208388px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:252836864'><span style='left:0px;position:
absolute;left:242px;top:-208388px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image201.gif"></span></span><span
style='position:relative;z-index:252837888'><span style='left:0px;position:
absolute;left:580px;top:-208388px;width:31px;height:1px'><img width=31
height=1 src="How%20To%20Code%20in%20Node.js_files/image724.gif"></span></span><span
style='position:relative;z-index:252838912'><span style='left:0px;position:
absolute;left:1px;top:-208388px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>The first
argument in <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn()</span>
is the command to run, in this case <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>find</span>. The second argument is an <a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>that contains the
arguments for the executed command. In this case, we are telling Node.js to
execute the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>find
</span>command with the argument <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>.</span>, thereby making the command find all
the files in the current directory. The equivalent command in the terminal is <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fin d .</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt'><span style='position:relative;z-index:252839936'><span
style='left:0px;position:absolute;left:103px;top:-208556px;width:60px;
height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image241.gif"></span></span><span
style='position:relative;z-index:252840960'><span style='left:0px;position:
absolute;left:211px;top:-208556px;width:98px;height:1px'><img width=98
height=1 src="How%20To%20Code%20in%20Node.js_files/image334.gif"></span></span><span
style='position:relative;z-index:-1894641664'><span style='left:0px;position:
absolute;left:504px;top:-208556px;width:107px;height:1px'><img width=107
height=1 src="How%20To%20Code%20in%20Node.js_files/image1036.gif"></span></span>With
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>
functions, we wrote the arguments along with the command in one string.
However, with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn()</span>,
all arguments to commands must be entered in the array. That’s because <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>spawn</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252843008'><span
style='left:0px;position:absolute;left:1px;top:-208657px;width:21px;height:
1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252844032'><span style='left:0px;position:
absolute;left:95px;top:-208657px;width:60px;height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image241.gif"></span></span><span
style='position:relative;z-index:252845056'><span style='left:0px;position:
absolute;left:202px;top:-208657px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>()</span>,
unlike <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>,
does not create a new shell before running a process. To have commands with
their arguments in one string, you need Node.js to create a new shell as well.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Let’s continue our module by adding listeners for the
command’s output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Add the following
highlighted lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=437
src="How%20To%20Code%20in%20Node.js_files/image1037.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252846080'><span
style='left:0px;position:absolute;left:363px;top:-209291px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252847104'><span style='left:0px;position:
absolute;left:551px;top:-209291px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252848128'><span style='left:0px;position:
absolute;left:1px;top:-209291px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image316.gif"></span></span><span
style='position:relative;z-index:252849152'><span style='left:0px;position:
absolute;left:370px;top:-209291px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>Commands
can return data in either the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>stdout</span> stream or the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>stderr </span>stream, so you
added listeners for both. You can add listeners by calling the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>on()</span>
method of each streams’ objects. The <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>data</span> event from the streams gives us the
command’s output to that stream. Whenever we get data on either stream, we log
it to the console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894633472'><span
style='left:0px;position:absolute;left:289px;top:-209424px;width:100px;
height:1px'><img width=100 height=1
src="How%20To%20Code%20in%20Node.js_files/image1038.gif"></span></span>We then
listen to two other events: the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>error</span> event if the command fails to execute
or is interrupted, and the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>close</span> event for when the command has finished
execution, thus closing the stream.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In the text editor, complete the Node.js module by writing
the following highlighted lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=693
src="How%20To%20Code%20in%20Node.js_files/image1039.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252851200'><span
style='left:0px;position:absolute;left:83px;top:-210323px;width:141px;
height:1px'><img width=141 height=1
src="How%20To%20Code%20in%20Node.js_files/image1040.gif"></span></span><span
style='position:relative;z-index:252852224'><span style='left:0px;position:
absolute;left:581px;top:-210323px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252853248'><span style='left:0px;position:
absolute;left:1px;top:-210323px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252854272'><span style='left:0px;position:
absolute;left:290px;top:-210323px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252855296'><span style='left:0px;position:
absolute;left:111px;top:-210323px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:252856320'><span style='left:0px;position:
absolute;left:541px;top:-210323px;width:71px;height:1px'><img width=71
height=1 src="How%20To%20Code%20in%20Node.js_files/image224.gif"></span></span>For
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>close</span>
events, you set up a listener directly on the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>chi ld</span> variable. When
listening for <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
events, if one occurs Node.js provides an <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Error</span> object. In this case,
you log the error’s <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>message </span>property.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252857344'><span
style='left:0px;position:absolute;left:200px;top:-210423px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252858368'><span style='left:0px;position:
absolute;left:150px;top:-210423px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>When
listening to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>close</span> event, Node.js provides the exit code of the
command. An exit code denotes if the command ran successfully or not. When a
command runs without errors, it returns the lowest possible value for an exit
code: <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>.
When executed with an error, it returns a non-zero code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.15pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:252859392'><span style='left:0px;position:absolute;left:336px;
top:-210555px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252860416'><span style='left:0px;position:
absolute;left:424px;top:-210555px;width:60px;height:1px'><img width=60
height=1 src="How%20To%20Code%20in%20Node.js_files/image282.gif"></span></span>The
module is complete. Save and exit <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>nano</span> with <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:8.85pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=590 height=90 src="How%20To%20Code%20in%20Node.js_files/image1041.gif"></span>Now,
run the code with the <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>node</span> command:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Once complete, you will
find the following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=332
src="How%20To%20Code%20in%20Node.js_files/image1042.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252861440'><span
style='left:0px;position:absolute;left:163px;top:-211134px;width:16px;
height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>We find a
list of all files in our current directory and the exit code of the command,
which is <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>0</span>
as it ran successfully. While our current directory has a small number of
files, if we ran this code in our home directory, our program would list every
single file in every accessible folder for our user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252862464'><span
style='left:0px;position:absolute;left:452px;top:-211266px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>Because
it has such a potentially large output, using the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>spawn()</span> function is most
ideal as its streams do not require as much memory as a large buffer.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.95pt;
margin-left:.25pt'><span style='position:relative;z-index:252863488'><span
style='left:0px;position:absolute;left:551px;top:-211333px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>So far
we’ve used functions to create child processes to execute external commands in
our operating system. Node.js also provides a way to create a child process
that executes other Node.js programs. Let’s use the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>fork() </span>function to
create a child process for a Node.js module in the next section.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.5pt;margin-left:
.5pt'>Step 3 — Creating a Child Process with <sub><span style='font-family:
"Courier New"'>fork()</span></sub></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252864512'><span
style='left:0px;position:absolute;left:178px;top:-211537px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:252865536'><span style='left:0px;position:
absolute;left:442px;top:-211537px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>Node.js
provides the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>
function, a variation of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>spawn()</span>, to create a child process that’s
also a Node.js process. The main benefit of using <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fork</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894617088'><span
style='left:0px;position:absolute;left:550px;top:-211605px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image1043.gif"></span></span><span
style='position:relative;z-index:252867584'><span style='left:0px;position:
absolute;left:1px;top:-211605px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252868608'><span style='left:0px;position:
absolute;left:315px;top:-211605px;width:165px;height:1px'><img width=165
height=1 src="How%20To%20Code%20in%20Node.js_files/image1044.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>()</span>
to create a Node.js process over <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>spawn()</span> or <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec()</span> is that <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork() </span>enables
communication between the parent and the child process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252869632'><span
style='left:0px;position:absolute;left:69px;top:-211672px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>With <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>,
in addition to retrieving data from the child process, a parent process can
send messages to the running child process. Likewise, the child process can
send messages to the parent process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252870656'><span
style='left:0px;position:absolute;left:304px;top:-211771px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Let’s see
an example where using <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fork()</span> to create a new Node.js child process
can improve the performance of our application. Node.js programs run on a
single process. Therefore, CPU intensive tasks like iterating over large loops
or parsing large <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>JSON files</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>stop other JavaScript code
from running. For certain applications, this is not a viable option. If a web
server is blocked, then it cannot process any new incoming requests until the
blocking code has completed its execution.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Let’s see this in practice by creating a web server with two
endpoints. One endpoint will do a slow computation that blocks the Node.js
process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252871680'><span style='left:0px;position:absolute;left:424px;
top:-212037px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image428.gif"></span></span>The other
endpoint will return a JSON object saying <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>hello</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:54.55pt;
margin-left:.25pt'><span style='position:relative;z-index:252872704'><span
style='left:0px;position:absolute;left:268px;top:-212062px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>First,
create a new file called <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>httpServer.js</span>, which will have the code for
our HTTP server:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894609920'><span
style='left:0px;position:absolute;left:12px;top:-212201px;width:598px;
height:1px'><img width=598 height=1
src="How%20To%20Code%20in%20Node.js_files/image1045.gif"></span></span><span
style='position:relative;z-index:252874752'><span style='left:0px;position:
absolute;left:1px;top:-212201px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span>We’ll
begin by setting up the HTTP server. This involves importing the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>h ttp</span>
module, creating a request listener function, creating a server object, and
listening for requests on the server object. If you would like to dive deeper
into creating HTTP servers in Node.js or would like a refresher, you <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>can read our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>How To Create a Web Server in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>s with the HTTP Module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Enter the following code
in your text editor to set up an HTTP server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=437
src="How%20To%20Code%20in%20Node.js_files/image1046.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252875776'><span
style='left:0px;position:absolute;left:427px;top:-212843px;width:184px;
height:1px'><img width=184 height=1
src="How%20To%20Code%20in%20Node.js_files/image1047.gif"></span></span><span
style='position:relative;z-index:252876800'><span style='left:0px;position:
absolute;left:1px;top:-212843px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>This code
sets up an HTTP server that will run at <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>http://localhost:800 0</span>. It
uses <a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF'>tem</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF'>late literals</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>to dynamically generate
that URL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.25pt'><span style='position:relative;z-index:252877824'><span
style='left:0px;position:absolute;left:214px;top:-212909px;width:161px;
height:1px'><img width=161 height=1
src="How%20To%20Code%20in%20Node.js_files/image646.gif"></span></span>Next, we
will write an intentionally slow function that counts in a loop 5 billion
times. Before the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>requestListener()</span> function, add the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=533
src="How%20To%20Code%20in%20Node.js_files/image1048.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.0pt;
margin-left:.25pt'><span style='position:relative;z-index:252878848'><span
style='left:0px;position:absolute;left:1px;top:-213552px;width:97px;height:
1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>This uses
the <a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript#arrow-functions"><span
style='color:#3445FF'>arrow function s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript#arrow-functions"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript#arrow-functions"><span
style='color:#3445FF'>ntax</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript#arrow-functions"><span
style='color:black;text-decoration:none'> </span></a>to create a <a
href="https://www.digitalocean.com/community/tutorials/using-while-and-do-while-loops-in-javascript#while-loop"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>while</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-while-and-do-while-loops-in-javascript#while-loop"><span
style='color:#3445FF'> loop</span></a> that counts to <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>5000000000</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.85pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894603776'><span
style='left:0px;position:absolute;left:290px;top:-213589px;width:321px;
height:1px'><img width=321 height=1
src="How%20To%20Code%20in%20Node.js_files/image1049.gif"></span></span>To
complete this module, we need to add code to the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>requestListener() </span>function.
Our function will call the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>slowFunction()</span> on subpath, and return a small
JSON message for the other. Add the following code to the module:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=661
src="How%20To%20Code%20in%20Node.js_files/image1050.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894602752'><span
style='left:0px;position:absolute;left:230px;top:-214354px;width:137px;
height:1px'><img width=137 height=1
src="How%20To%20Code%20in%20Node.js_files/image1051.gif"></span></span><span
style='position:relative;z-index:252881920'><span style='left:0px;position:
absolute;left:545px;top:-214354px;width:66px;height:1px'><img width=66
height=1 src="How%20To%20Code%20in%20Node.js_files/image528.gif"></span></span><span
style='position:relative;z-index:-1894600704'><span style='left:0px;position:
absolute;left:1px;top:-214354px;width:178px;height:1px'><img width=178
height=1 src="How%20To%20Code%20in%20Node.js_files/image1052.gif"></span></span>If
the user reaches the server at the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>/total</span> subpath, then we run <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>slowFun
ction()</span>. If we are hit at the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>/hello</span> subpath, we return this JSON
message:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:3.0pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=598 height=161
src="How%20To%20Code%20in%20Node.js_files/image1053.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>When our server starts,
the console will display the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1054.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.15pt;
margin-left:.25pt;line-height:200%'><span style='position:relative;z-index:
-1894599680'><span style='left:0px;position:absolute;left:12px;top:-214751px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image1055.gif"></span></span><span
style='position:relative;z-index:252884992'><span style='left:0px;position:
absolute;left:315px;top:-214751px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>Now,
to test the performance of our module, open two additional terminals. In the
first terminal, use the <span style='font-size:11.0pt;line-height:200%;
font-family:"Courier New"'>curl</span> command to make a request to the <span
style='font-size:11.0pt;line-height:200%;font-family:"Courier New"'>/total</span>
endpoint, which we expect to be slow: <span style='font-size:11.0pt;line-height:
200%;font-family:"Courier New"'>curl http://localhost:8000/total</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In the other terminal, use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>curl</span> to make a request to
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>/hello</span>
endpoint like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1056.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
first request will return the following JSON:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1057.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Whereas the second
request will return this JSON:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1058.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894597632'><span
style='left:0px;position:absolute;left:1px;top:-215311px;width:200px;
height:1px'><img width=200 height=1
src="How%20To%20Code%20in%20Node.js_files/image1059.gif"></span></span><span
style='position:relative;z-index:252887040'><span style='left:0px;position:
absolute;left:491px;top:-215311px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image192.gif"></span></span><span
style='position:relative;z-index:252888064'><span style='left:0px;position:
absolute;left:599px;top:-215311px;width:12px;height:1px'><img width=12
height=1 src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span>The
request to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>/hello</span>
completed only after the request to <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>/total</span>. The <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>s lowFunction()</span> blocked all
other code from executing while it was still in its loop. You can verify this
by looking at the Node.js server output that was logged in your original
terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image1060.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252889088'><span
style='left:0px;position:absolute;left:426px;top:-215562px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252890112'><span style='left:0px;position:
absolute;left:354px;top:-215562px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>To
process the blocking code while still accepting incoming requests, we can move
the blocking code to a child process with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fork()</span>. We will move the
blocking code into its own module. The Node.js server will then create a child
process when someone accesses the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>/total</span> endpoint and listen for results
from this child process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.85pt;
margin-left:.25pt'><span style='position:relative;z-index:252891136'><span
style='left:0px;position:absolute;left:505px;top:-215695px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image516.gif"></span></span><span
style='position:relative;z-index:252892160'><span style='left:0px;position:
absolute;left:136px;top:-215695px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image768.gif"></span></span>Refactor
the server by first creating a new module called <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>getCount.js </span>that will
contain <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>slowFunction()</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.9pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=94
src="How%20To%20Code%20in%20Node.js_files/image1061.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=341
src="How%20To%20Code%20in%20Node.js_files/image1062.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894590464'><span
style='left:0px;position:absolute;left:480px;top:-216277px;width:130px;
height:1px'><img width=130 height=1
src="How%20To%20Code%20in%20Node.js_files/image1063.gif"></span></span><span
style='position:relative;z-index:252894208'><span style='left:0px;position:
absolute;left:1px;top:-216277px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>Since
this module will be a child process created with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fork()</span>, we can also add code
to communicate with the parent process when <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>slowFunction ()</span> has
completed processing. Add the following block of code that sends a message to
the parent process with the JSON to return to the user:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=629
src="How%20To%20Code%20in%20Node.js_files/image1064.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894588416'><span
style='left:0px;position:absolute;left:200px;top:-217078px;width:165px;
height:1px'><img width=165 height=1
src="How%20To%20Code%20in%20Node.js_files/image1065.gif"></span></span><span
style='position:relative;z-index:-1894587392'><span style='left:0px;position:
absolute;left:439px;top:-217078px;width:172px;height:1px'><img width=172
height=1 src="How%20To%20Code%20in%20Node.js_files/image1066.gif"></span></span><span
style='position:relative;z-index:252897280'><span style='left:0px;position:
absolute;left:1px;top:-217078px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span><span
style='position:relative;z-index:252898304'><span style='left:0px;position:
absolute;left:499px;top:-217078px;width:112px;height:1px'><img width=112
height=1 src="How%20To%20Code%20in%20Node.js_files/image327.gif"></span></span><span
style='position:relative;z-index:252899328'><span style='left:0px;position:
absolute;left:1px;top:-217078px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>Let’s
break down this block of code. The messages between a parent and <a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:black;text-decoration:none'>child process created by </span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>fork()</span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:black;text-decoration:none'> are accessible via the Node.js global
</span></a><a href="https://nodejs.org/api/process.html#process_process"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>proce
ss</span></a><a href="https://nodejs.org/api/process.html#process_process"><span
style='color:#3445FF'> ob</span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:#3445FF'>ect</span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:black;text-decoration:none'>. We add a listener to the </span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>process</span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='color:black;text-decoration:none'> variable to look for </span></a><a
href="https://nodejs.org/api/process.html#process_process"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>message </span></a>events. Once we receive a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>message</span>
event, we check if it’s the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>START</span> event. Our server code will send the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>START</span>
event when someone accesses the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>/to tal</span> endpoint. Upon receiving that event,
we run <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>slowFunction()</span>
and create a JSON string with the result of the function. We use <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>process.send
()</span> to send a message to the parent process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Save and exit <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>getCount.js</span>
by entering <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>
in nano.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.5pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1894583296'><span
style='left:0px;position:absolute;left:133px;top:-217347px;width:266px;
height:1px'><img width=266 height=1
src="How%20To%20Code%20in%20Node.js_files/image1067.gif"></span></span><span
style='position:relative;z-index:252901376'><span style='left:0px;position:
absolute;left:562px;top:-217347px;width:48px;height:1px'><img width=48
height=1 src="How%20To%20Code%20in%20Node.js_files/image183.gif"></span></span>Now,
let’s modify the <span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>httpServer.js</span> file so that instead of calling <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>slowF</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><img width=107 height=1
src="How%20To%20Code%20in%20Node.js_files/image335.gif" align=left hspace=12><span
style='font-size:11.0pt;line-height:110%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=383
src="How%20To%20Code%20in%20Node.js_files/image1068.gif"></span>Re-open <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>httpServer.js</span>
with <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>nano</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252903424'><span
style='left:0px;position:absolute;left:299px;top:-217854px;width:132px;
height:1px'><img width=132 height=1
src="How%20To%20Code%20in%20Node.js_files/image1069.gif"></span></span><span
style='position:relative;z-index:252904448'><span style='left:0px;position:
absolute;left:97px;top:-217854px;width:160px;height:1px'><img width=160
height=1 src="How%20To%20Code%20in%20Node.js_files/image1070.gif"></span></span>Next,
we are going to remove the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>slowFunction()</span> from this module and modify
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestListener()</span>
function to create a child process. Change the code in your file so it looks
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=821
src="How%20To%20Code%20in%20Node.js_files/image1071.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894578176'><span
style='left:0px;position:absolute;left:158px;top:-218775px;width:233px;
height:1px'><img width=233 height=1
src="How%20To%20Code%20in%20Node.js_files/image1072.gif"></span></span><span
style='position:relative;z-index:252906496'><span style='left:0px;position:
absolute;left:111px;top:-218775px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>When
someone goes to the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>/total</span> endpoint, we now create a new child process with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>.
The argument of <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>fork()</span> is the path to the Node.js module. In this case,
it is the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>getCount.js</span>
file in our current directory, which we receive from <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>__dirname</span>. The
reference to this child process is stored in a variable <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>child</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252907520'><span
style='left:0px;position:absolute;left:275px;top:-218908px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:-1894575104'><span style='left:0px;position:
absolute;left:466px;top:-218908px;width:105px;height:1px'><img width=105
height=1 src="How%20To%20Code%20in%20Node.js_files/image1073.gif"></span></span>We
then add a listener to the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>child</span> object. This listener captures any
messages that the child process gives us. In this case, <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>getCount.js</span> will
return a JSON string with the total number counted by the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>while</span>
loop.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.75pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>When we receive that
message, we send the JSON to the user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.6pt;
margin-left:.25pt'><span style='position:relative;z-index:252909568'><span
style='left:0px;position:absolute;left:118px;top:-219041px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span><span
style='position:relative;z-index:-1894573056'><span style='left:0px;position:
absolute;left:266px;top:-219041px;width:98px;height:1px'><img width=98
height=1 src="How%20To%20Code%20in%20Node.js_files/image1074.gif"></span></span><span
style='position:relative;z-index:252911616'><span style='left:0px;position:
absolute;left:572px;top:-219041px;width:39px;height:1px'><img width=39
height=1 src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span>We
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>send()</span>
function of the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>child</span> variable to give it a message. This program sends
the message <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>START</span>,
which begins the execution of <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>slow</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.8pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252912640'><span style='left:0px;position:absolute;left:1px;top:-219109px;
width:93px;height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image785.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>Function()</span>
in the child process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.6pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:252913664'><span style='left:0px;position:absolute;left:133px;
top:-219145px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span><span
style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=158
src="How%20To%20Code%20in%20Node.js_files/image1075.gif"></span>Save and exit <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
by entering <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Like before, it will
output the following message when it launches:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1076.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>To test the server, we will need an additional two terminals
as we did the first time. You can re-use them if they are still open.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:12.35pt;
margin-left:.25pt;line-height:230%'><span style='position:relative;z-index:
-1894568960'><span style='left:0px;position:absolute;left:1px;top:-219566px;
width:600px;height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image1077.gif"></span></span><span
style='position:relative;z-index:252915712'><span style='left:0px;position:
absolute;left:250px;top:-219566px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252916736'><span style='left:0px;position:
absolute;left:581px;top:-219566px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>In
the first terminal, use the <span style='font-size:11.0pt;line-height:230%;
font-family:"Courier New"'>curl</span> command to make a request to the <span
style='font-size:11.0pt;line-height:230%;font-family:"Courier New"'>/to tal</span>
endpoint, which takes a while to compute: <span style='font-size:11.0pt;
line-height:230%;font-family:"Courier New"'>curl http://localhost:8000/total</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In the other terminal, use <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>curl</span> to make a request to
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>/hello</span>
endpoint, which responds in a short time:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1078.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The first request will
return the following JSON:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1079.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Whereas the second
request will return this JSON:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1080.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252917760'><span
style='left:0px;position:absolute;left:507px;top:-220133px;width:62px;
height:1px'><img width=62 height=1
src="How%20To%20Code%20in%20Node.js_files/image203.gif"></span></span>Unlike
the first time we tried this, the second request to <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>/hello</span> runs
immediately. You can confirm by reviewing the logs, which will look like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.55pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=140
src="How%20To%20Code%20in%20Node.js_files/image1081.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252918784'><span
style='left:0px;position:absolute;left:364px;top:-220380px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>These
logs show that the request for the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>/hello</span> endpoint ran after the child
process was created but before the child process had finished its task.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.4pt;
margin-left:.25pt'><span style='position:relative;z-index:252919808'><span
style='left:0px;position:absolute;left:515px;top:-220446px;width:60px;
height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image1082.gif"></span></span><span
style='position:relative;z-index:252920832'><span style='left:0px;position:
absolute;left:264px;top:-220446px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image1083.gif"></span></span>Since
we moved the blocking code in a child process using <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>, the server
was still able to respond to other requests and execute other JavaScript code.
Because of the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fork()</span>
function’s message passing ability, we can control when a child process begins
an activity and we can return data from a child process to a parent process.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.4pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252921856'><span
style='left:0px;position:absolute;left:432px;top:-220644px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:252922880'><span style='left:0px;position:
absolute;left:580px;top:-220644px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252923904'><span style='left:0px;position:
absolute;left:1px;top:-220644px;width:66px;height:1px'><img width=66 height=1
src="How%20To%20Code%20in%20Node.js_files/image281.gif"></span></span><span
style='position:relative;z-index:252924928'><span style='left:0px;position:
absolute;left:302px;top:-220644px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:252925952'><span style='left:0px;position:
absolute;left:572px;top:-220644px;width:39px;height:1px'><img width=39
height=1 src="How%20To%20Code%20in%20Node.js_files/image221.gif"></span></span>In
this article, you used various functions to create a child process in Node.js.
You first created child processes with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>exec()</span> to run shell commands
from Node.js code. You then ran an executable file with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exe cFile()</span>
function. You looked at the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>spawn()</span> function, which can also run commands
but returns data via a stream and does not start a shell like <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>exec</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252926976'><span
style='left:0px;position:absolute;left:1px;top:-220802px;width:156px;
height:1px'><img width=156 height=1
src="How%20To%20Code%20in%20Node.js_files/image1084.gif"></span></span><span
style='position:relative;z-index:252928000'><span style='left:0px;position:
absolute;left:338px;top:-220802px;width:62px;height:1px'><img width=62
height=1 src="How%20To%20Code%20in%20Node.js_files/image203.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>execFile()</span>.
Finally, you used the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fork()</span> function to allow for twoway
communication between the parent and child process.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252929024'><span
style='left:0px;position:absolute;left:248px;top:-220869px;width:125px;
height:1px'><img width=125 height=1
src="How%20To%20Code%20in%20Node.js_files/image556.gif"></span></span>To learn
more about the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>child_process</span>
module, you can read the <a href="https://nodejs.org/api/child_process.html"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/child_process.html"><span style='color:#3445FF;
text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/child_process.html"><span style='color:#3445FF'>s
documentation</span></a>. If you’d like to continue learning Node.js, you can
return to the <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a>, or browse programming projects and
setups on our <a href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Work with Files usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> the fs</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Module in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-files-using-the-fs-module-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Working with files is as common for development purposes as
it is for non-development purposes. In daily computer use, a user would likely
read and write data to files in various directories in order to accomplish
tasks like saving a downloaded file or accessing data to be used in another
application. In the same way, a back-end program or command line interface
(CLI) tool might need to write downloaded data to a file in order to save it,
or a data-intensive application may need to export to <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>JSON</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='color:#3445FF'>CSV</span></a><a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='color:black;text-decoration:none'>, </span></a>or <a
href="https://www.microsoft.com/en-us/microsoft-365/excel"><span
style='color:#3445FF'>Excel</span></a><a
href="https://www.microsoft.com/en-us/microsoft-365/excel"><span
style='color:black;text-decoration:none'> </span></a>formats. These programs
would need to communicate with the filesystem of the operating system on which
they are running.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>With <a href="https://nodejs.org/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/"><span style='color:#3445FF'>s</span></a><a
href="https://nodejs.org/"><span style='color:black;text-decoration:none'>,</span></a>
you can programmatically manipulate files with the builtin <a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>fs</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>
module</span></a>. The name is short for “file system,” and the module contains
all the functions you need to read, write, and delete files on the local
machine. This unique aspect of Node.js makes <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>a useful language for
back-end and CLI tool programming.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.4pt;
margin-left:.25pt'><span style='position:relative;z-index:252930048'><span
style='left:0px;position:absolute;left:280px;top:-221636px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:252931072'><span style='left:0px;position:
absolute;left:517px;top:-221636px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image1085.gif"></span></span>In
this article, you will use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module to read a file created via the
command line, create and write to a new file, delete the file that you created,
and move the first file into a different folder. The <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>fs</span> module supports
interacting with files synchronously, asynchronously, or via streams; this
tutorial will focus on how to use the asynchronous, <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#using-promises-for-concise-asynchronous-programming"><span
style='color:#3445FF'>Promise</span></a>based API, the most commonly used
method for Node.js developers.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.15pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='position:relative;
z-index:252932096'><span style='left:0px;position:absolute;left:586px;
top:-221878px;width:25px;height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 260824"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> You must have
Node.js installed on your computer to access the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fs </span>module and follow the
tutorial. This tutorial uses Node.js version 10.22.0. To install Node.js on
macOS or Ubuntu 18.04, follow the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.65pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='position:relative;
z-index:-1894550528'><span style='left:0px;position:absolute;left:41px;
top:-222044px;width:176px;height:1px'><img width=176 height=1
src="How%20To%20Code%20in%20Node.js_files/image1086.gif"></span></span><span
style='position:relative;z-index:252934144'><span style='left:0px;position:
absolute;left:589px;top:-222044px;width:22px;height:1px'><img width=22
height=1 src="How%20To%20Code%20in%20Node.js_files/image845.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 260826"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> This article
uses JavaScript Promises to work with files, particularly with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async/await</span>
syntax. If you’re not familiar with Promises, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>as ync/await</span> syntax, or
asynchronous programming, check out our guide on <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>How To Write As</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>nchronous Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js"><span
style='color:#3445FF'>s</span></a>.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;margin-left:
.5pt'>Step 1 — Reading Files with <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>readFile()</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252935168'><span
style='left:0px;position:absolute;left:235px;top:-222244px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><span
style='position:relative;z-index:252936192'><span style='left:0px;position:
absolute;left:390px;top:-222244px;width:96px;height:1px'><img width=96
height=1 src="How%20To%20Code%20in%20Node.js_files/image1087.gif"></span></span>In
this step, you’ll write a program to read files in Node.js. To do this, you’ll
need to import the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>fs</span> module, a standard Node.js module for working with
files, and then use the module’s <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>readFile()</span> function. Your program will
read the file, store its contents in a variable, then log its contents to the
console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The first step will be to set up the coding environment for
this activity and the ones in the later sections.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.65pt;
margin-left:.25pt'><span style='position:relative;z-index:252937216'><span
style='left:0px;position:absolute;left:1px;top:-222444px;width:97px;height:
1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>Create a
folder to store your code. In your terminal, make a folder called <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node-files</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=602 height=94
src="How%20To%20Code%20in%20Node.js_files/image1088.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1089.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>In this folder, you’ll create two files. The first file will
be a new file with content that your program will read later. The second file
will be the Node.js module that reads the file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:53.8pt;
margin-bottom:1.6pt;margin-left:16.25pt;text-align:left;text-indent:-.5pt;
line-height:312%'><span style='position:relative;z-index:-1894545408'><span
style='left:0px;position:absolute;left:12px;top:-222782px;width:600px;
height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image1090.gif"></span></span>Create
the file <span style='font-size:11.0pt;line-height:312%;font-family:"Courier New"'>greetings.txt</span>
with the following command: <span style='font-size:11.0pt;line-height:312%;
font-family:"Courier New"'>echo &quot;hello, hola, bonjour, hallo&quot; &gt;
greetings.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.5pt;
margin-left:.25pt'>The <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>echo</span> command prints its <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF'>strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>argument to the terminal.
You use <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>&gt;
</span>to <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection#stream-redirection"><span
style='color:#3445FF'>redirect</span></a> <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>echo</span>’s output to a new file,
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>greetings.txt</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894544384'><span
style='left:0px;position:absolute;left:211px;top:-222977px;width:226px;
height:1px'><img width=226 height=1
src="How%20To%20Code%20in%20Node.js_files/image1091.gif"></span></span><span
style='position:relative;z-index:252940288'><span style='left:0px;position:
absolute;left:105px;top:-222977px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:252941312'><span style='left:0px;position:
absolute;left:569px;top:-222977px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span>Now,
create and open <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>readFile.js</span> in your text editor of choice. This tutorial
uses <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>nano</span>,
a terminal text editor. You can open this file with <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>nano </span>like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1092.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The code for this file can be broken up into three sections.
First, you need to import the <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:#3445FF'>s module</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-node-js-module"><span
style='color:black;text-decoration:none'> </span></a>that allows your program
to work with files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>In your text editor, type
this code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image1093.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252942336'><span
style='left:0px;position:absolute;left:333px;top:-223363px;width:24px;
height:1px'><img width=24 height=1
src="How%20To%20Code%20in%20Node.js_files/image625.gif"></span></span><span
style='position:relative;z-index:252943360'><span style='left:0px;position:
absolute;left:435px;top:-223363px;width:89px;height:1px'><img width=89
height=1 src="How%20To%20Code%20in%20Node.js_files/image1094.gif"></span></span>As
mentioned earlier, you use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module to interact with the filesystem.
Notice, though, that you are importing the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>.promises</span> part of the
module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252944384'><span
style='left:0px;position:absolute;left:116px;top:-223430px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:-1894538240'><span style='left:0px;position:
absolute;left:354px;top:-223430px;width:159px;height:1px'><img width=159
height=1 src="How%20To%20Code%20in%20Node.js_files/image1095.gif"></span></span><span
style='position:relative;z-index:252946432'><span style='left:0px;position:
absolute;left:587px;top:-223430px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image1096.gif"></span></span>When
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module was first created, the primary way to write asynchronous code in Node.js
was through <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#asynchronous-programming-with-callbacks"><span
style='color:#3445FF'>callbacks</span></a>. As promises grew in popularity, the
Node.js team worked to support them in the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fs</span> module out of the box. In
Node.js version 10, they created a <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>promises</span> object in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs </span>module
that uses promises, while the main <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>fs</span> module continues to expose functions
that use callbacks. In this program, you are importing the promise version of
the module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252947456'><span
style='left:0px;position:absolute;left:433px;top:-223629px;width:53px;
height:1px'><img width=53 height=1
src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span><span
style='position:relative;z-index:252948480'><span style='left:0px;position:
absolute;left:560px;top:-223629px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image425.gif"></span></span><span
style='position:relative;z-index:252949504'><span style='left:0px;position:
absolute;left:407px;top:-223629px;width:69px;height:1px'><img width=69
height=1 src="How%20To%20Code%20in%20Node.js_files/image689.gif"></span></span>Once
the module is imported, you can create an <a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#writing-javascript-with-asyncawait"><span
style='color:#3445FF'>as</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#writing-javascript-with-asyncawait"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#writing-javascript-with-asyncawait"><span
style='color:#3445FF'>nchronous function</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-write-asynchronous-code-in-node-js#writing-javascript-with-asyncawait"><span
style='color:black;text-decoration:none'> </span></a>to read the file.
Asynchronous functions begin with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>async</span> keyword. With an asynchronous
function, you can resolve promises using the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>await </span>keyword, instead of
chaining the promise with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>.then()</span> method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.35pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894533120'><span
style='left:0px;position:absolute;left:187px;top:-223762px;width:149px;
height:1px'><img width=149 height=1
src="How%20To%20Code%20in%20Node.js_files/image1097.gif"></span></span><span
style='position:relative;z-index:252951552'><span style='left:0px;position:
absolute;left:53px;top:-223762px;width:80px;height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image719.gif"></span></span><span
style='position:relative;z-index:252952576'><span style='left:0px;position:
absolute;left:460px;top:-223762px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>Create
a new function <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>readFile()</span>
that accepts one argument, a string called <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>filePath</span>. Your <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>readFile()</span>
function will use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module to load the file into a variable
using <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async/await</span>
syntax.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Enter
the following highlighted code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=415
src="How%20To%20Code%20in%20Node.js_files/image1098.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252953600'><span
style='left:0px;position:absolute;left:288px;top:-224343px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252954624'><span style='left:0px;position:
absolute;left:122px;top:-224343px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span><span
style='position:relative;z-index:-1894528000'><span style='left:0px;position:
absolute;left:337px;top:-224343px;width:131px;height:1px'><img width=131
height=1 src="How%20To%20Code%20in%20Node.js_files/image1099.gif"></span></span><span
style='position:relative;z-index:-1894526976'><span style='left:0px;position:
absolute;left:1px;top:-224343px;width:192px;height:1px'><img width=192
height=1 src="How%20To%20Code%20in%20Node.js_files/image1100.gif"></span></span>You
define the function with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>async</span> keyword so you can later use the
accompanying <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>await</span>
keyword. To capture errors in your asynchronous file <a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'>reading operation, you enclose the
call to </span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>fs.readFile()</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'> with a </span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>tr</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF;
text-decoration:none'>y</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>...catc
h</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:#3445FF'> block</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'>. Within the </span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>try</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'> section, you load a file to a </span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:black;
text-decoration:none'>data</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'> variable with the</span></a><a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><span
style='color:black;text-decoration:none'> </span></a><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>fs.readFile()</span>
function. The only required argument for that function is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.4pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>the file path, which is
given as a string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252957696'><span
style='left:0px;position:absolute;left:58px;top:-224543px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image480.gif"></span></span><span
style='position:relative;z-index:252958720'><span style='left:0px;position:
absolute;left:495px;top:-224543px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image1101.gif"></span></span><span
style='position:relative;z-index:252959744'><span style='left:0px;position:
absolute;left:341px;top:-224543px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs.readFile()</span>
returns a <a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>buffer</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:black;text-decoration:none'> </span></a>object by default. A <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>buffer</span>
object can store any kind of file type. When you log the contents of the file,
you convert those bytes into text by using the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>toString()</span> method of the
buffer object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.05pt;
margin-left:.25pt'>If an error is caught, typically if the file is not found or
the program does not have permission to read the file, you log the error you
received in the console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:252960768'><span
style='left:0px;position:absolute;left:291px;top:-224715px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image940.gif"></span></span>Finally,
call the function on the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>greetings.txt</span> file with the following
highlighted line:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=479
src="How%20To%20Code%20in%20Node.js_files/image1102.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.6pt;
margin-left:.25pt'><span style='position:relative;z-index:252961792'><span
style='left:0px;position:absolute;left:338px;top:-225271px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span><span
style='position:relative;z-index:252962816'><span style='left:0px;position:
absolute;left:72px;top:-225271px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>Be sure
to save your contents. With <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>nano</span>, you can save and exit by pressing <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252963840'><span
style='left:0px;position:absolute;left:294px;top:-225307px;width:124px;
height:1px'><img width=124 height=1
src="How%20To%20Code%20in%20Node.js_files/image622.gif"></span></span>Your
program will now read the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>greetings.txt</span> file you created earlier and
log its contents to the terminal. Confirm this by executing your module</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=84
src="How%20To%20Code%20in%20Node.js_files/image1103.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=9 id="Group 261048"
src="How%20To%20Code%20in%20Node.js_files/image1104.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will receive the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1105.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.95pt;
margin-left:.25pt'><span style='position:relative;z-index:252964864'><span
style='left:0px;position:absolute;left:284px;top:-225638px;width:24px;
height:1px'><img width=24 height=1
src="How%20To%20Code%20in%20Node.js_files/image1106.gif"></span></span><span
style='position:relative;z-index:252965888'><span style='left:0px;position:
absolute;left:392px;top:-225638px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image1107.gif"></span></span><span
style='position:relative;z-index:252966912'><span style='left:0px;position:
absolute;left:30px;top:-225638px;width:106px;height:1px'><img width=106
height=1 src="How%20To%20Code%20in%20Node.js_files/image907.gif"></span></span>You’ve
now read a file with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module’s <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>readFile()</span> function using
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async/await</span>
syntax.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><b>Note:</b> In some earlier versions of Node.js, you will
receive the following</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=603 height=147
src="How%20To%20Code%20in%20Node.js_files/image1108.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252967936'><span
style='left:0px;position:absolute;left:63px;top:-225920px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span><span
style='position:relative;z-index:252968960'><span style='left:0px;position:
absolute;left:276px;top:-225920px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>promises</span>
object of the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module was introduced in Node.js version 10, so some earlier versions still
call the module experimental. This warning was removed when the API became
stable in version 12.6.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.5pt;
margin-left:.25pt'><span style='position:relative;z-index:252969984'><span
style='left:0px;position:absolute;left:329px;top:-226020px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span>Now that
you’ve read a file with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>fs</span> module, you will next create a file and
write text to it.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.6pt;margin-left:
.5pt'>Step 2 — Writing Files with <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>writeFile()</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:252971008'><span
style='left:0px;position:absolute;left:345px;top:-226156px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image907.gif"></span></span><span
style='position:relative;z-index:252972032'><span style='left:0px;position:
absolute;left:587px;top:-226156px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image1096.gif"></span></span>In
this step, you will write files with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>writeFile()</span> function of the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs </span>module.
You will create a CSV file in Node.js that keeps track of a grocery bill. The
first time you write the file, you will create the file and add the headers.
The second time, you will append data to the file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=283
src="How%20To%20Code%20in%20Node.js_files/image1109.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252973056'><span
style='left:0px;position:absolute;left:262px;top:-226612px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image516.gif"></span></span>You will
continue to use <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>async/await</span> syntax as you create two functions. The first
function will be to make the CSV file. The second function will be to add data
to the CSV file.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
your text editor, enter the following highlighted code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=415
src="How%20To%20Code%20in%20Node.js_files/image1110.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894509568'><span
style='left:0px;position:absolute;left:397px;top:-227192px;width:214px;
height:1px'><img width=214 height=1
src="How%20To%20Code%20in%20Node.js_files/image1111.gif"></span></span><span
style='position:relative;z-index:252975104'><span style='left:0px;position:
absolute;left:1px;top:-227192px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span><span
style='position:relative;z-index:252976128'><span style='left:0px;position:
absolute;left:154px;top:-227192px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image209.gif"></span></span><span
style='position:relative;z-index:252977152'><span style='left:0px;position:
absolute;left:515px;top:-227192px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span>This
asynchronous function first creates a <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>csvHeaders</span> variable that contains the
column headings of your CSV file. You then use the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>writeFile ()</span> function of the
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs</span>
module to create a file and write data to it. The first argument is the file
path. As you provided just the file name, Node.js will create the file in the
same directory that you’re executing the code in. The second argument is the
data you are writing, in this case the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>csvHeaders </span>variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Next, create a new function to add items to your grocery
list. Add the following highlighted function in your text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=725
src="How%20To%20Code%20in%20Node.js_files/image1112.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.25pt'><span style='position:relative;z-index:252978176'><span
style='left:0px;position:absolute;left:177px;top:-228223px;width:151px;
height:1px'><img width=151 height=1
src="How%20To%20Code%20in%20Node.js_files/image1113.gif"></span></span><span
style='position:relative;z-index:252979200'><span style='left:0px;position:
absolute;left:580px;top:-228223px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span><span
style='position:relative;z-index:252980224'><span style='left:0px;position:
absolute;left:1px;top:-228223px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>The
asynchronous <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>addGroceryItem()</span>
function accepts three arguments: the name of the grocery item, the amount you
are buying, and the price per unit. These arguments are used with <a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF'>tem</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF'>late literal s</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-template-literals-in-javascript"><span
style='color:#3445FF'>ntax</span></a> to form the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>csv Line</span> variable, which is
the data you are writing to the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252981248'><span
style='left:0px;position:absolute;left:174px;top:-228357px;width:106px;
height:1px'><img width=106 height=1
src="How%20To%20Code%20in%20Node.js_files/image907.gif"></span></span><span
style='position:relative;z-index:252982272'><span style='left:0px;position:
absolute;left:514px;top:-228357px;width:97px;height:1px'><img width=97
height=1 src="How%20To%20Code%20in%20Node.js_files/image502.gif"></span></span><span
style='position:relative;z-index:252983296'><span style='left:0px;position:
absolute;left:154px;top:-228357px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:252984320'><span style='left:0px;position:
absolute;left:369px;top:-228357px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252985344'><span style='left:0px;position:
absolute;left:461px;top:-228357px;width:16px;height:1px'><img width=16
height=1 src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span><span
style='position:relative;z-index:252986368'><span style='left:0px;position:
absolute;left:90px;top:-228357px;width:16px;height:1px'><img width=16 height=1
src="How%20To%20Code%20in%20Node.js_files/image198.gif"></span></span>You then
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>writeFile()</span>
method as you did in the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>openFile() </span>function. However, this time you
have a third argument: a <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>t ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a>. This object has a <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>flag</span> key with the
value <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>a</span>.
Flags tell Node.js how to interact with the file on the system. By using the
flag <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>a</span>,
you are telling Node.js to append to the file, not overwrite it. If you don’t
specify a flag, it defaults to <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>w</span>, which creates a new file if none exists or
overwrites a file if it <a
href="https://nodejs.org/api/fs.html#fs_file_system_flags"><span
style='color:black;text-decoration:none'>already exists. You can learn more
about filesystem flags in the </span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system_flags"><span
style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system_flags"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system_flags"><span
style='color:#3445FF'>s documentation</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system_flags"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>To complete your script, use these functions. Add the
following highlighted lines at the end of the file:<br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=586
src="How%20To%20Code%20in%20Node.js_files/image1114.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252987392'><span
style='left:0px;position:absolute;left:518px;top:-229282px;width:93px;
height:1px'><img width=93 height=1
src="How%20To%20Code%20in%20Node.js_files/image1115.gif"></span></span><span
style='position:relative;z-index:252988416'><span style='left:0px;position:
absolute;left:1px;top:-229282px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='position:relative;z-index:252989440'><span style='left:0px;position:
absolute;left:130px;top:-229282px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:252990464'><span style='left:0px;position:
absolute;left:1px;top:-229282px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image1116.gif"></span></span>To
call the functions, you first create a wrapper function with <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>async func
tion</span>. Since the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>await</span> keyword can not be used from the global
scope as of the writing of this tutorial, you must wrap the asynchronous
functions in an <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>async function</span>. Notice that this function is anonymous,
meaning it has no</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.5pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>name to identify it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.75pt;
margin-left:.25pt'><span style='position:relative;z-index:252991488'><span
style='left:0px;position:absolute;left:71px;top:-229449px;width:97px;
height:1px'><img width=97 height=1
src="How%20To%20Code%20in%20Node.js_files/image434.gif"></span></span><span
style='position:relative;z-index:252992512'><span style='left:0px;position:
absolute;left:218px;top:-229449px;width:151px;height:1px'><img width=151
height=1 src="How%20To%20Code%20in%20Node.js_files/image463.gif"></span></span><span
style='position:relative;z-index:-1894490112'><span style='left:0px;position:
absolute;left:30px;top:-229449px;width:222px;height:1px'><img width=222
height=1 src="How%20To%20Code%20in%20Node.js_files/image1117.gif"></span></span>Your
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>openFile()</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>addGroceryItem()</span>
functions are asynchronous functions. Without enclosing these calls in another
function, you cannot guarantee the order of the content. The wrapper you
created is defined with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>async</span> keyword. Within that function you order
the function calls using the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>await</span> keyword.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:25.75pt;
margin-left:.25pt'>Finally, the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>async function</span> definition is enclosed in
parentheses. These tell JavaScript that the code inside them is a function
expression. The parentheses at the end of the function and before the semicolon
are used to <a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:black;text-decoration:none'>invoke the function immediately. This
is called an </span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF'>Immediatel</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF'>-Invoked Function Ex</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF'>ression </span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:#3445FF'>IIFE)</span></a><a
href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression"><span
style='color:black;text-decoration:none'>. By using an IIFE with an anonymous
function, </span></a>you can test that your code produces a CSV file with three
lines: the column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.25pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><img width=601 height=1
src="How%20To%20Code%20in%20Node.js_files/image1118.gif" align=left hspace=12><img
width=71 height=1 src="How%20To%20Code%20in%20Node.js_files/image1119.gif"
align=left hspace=12>Save and exit <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>nano</span> with <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:57.05pt;
margin-left:15.75pt;text-indent:0in'>Now, run your code with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>node</span>
command:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>There will be no output. However, a new file will exist in
your current directory.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image1120.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will receive the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=140
src="How%20To%20Code%20in%20Node.js_files/image1121.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:252996608'><span
style='left:0px;position:absolute;left:137px;top:-230413px;width:96px;
height:1px'><img width=96 height=1
src="How%20To%20Code%20in%20Node.js_files/image1087.gif"></span></span><span
style='position:relative;z-index:252997632'><span style='left:0px;position:
absolute;left:417px;top:-230413px;width:150px;height:1px'><img width=150
height=1 src="How%20To%20Code%20in%20Node.js_files/image1122.gif"></span></span>Your
call to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>openFile()</span>
created a new file and added the column headings for your CSV. The subsequent
calls to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>addGroceryItem()</span>
then added your two lines of data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.3pt;
margin-left:.25pt'><span style='position:relative;z-index:252998656'><span
style='left:0px;position:absolute;left:97px;top:-230480px;width:107px;
height:1px'><img width=107 height=1
src="How%20To%20Code%20in%20Node.js_files/image1123.gif"></span></span>With the
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>writeFile()</span>
function, you can create and edit files. Next, you will delete files, a common
operation when you have temporary files or need to make space on a hard drive.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;margin-left:
.5pt'>Step 3 — Deleting Files with <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>unlink()</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894483968'><span
style='left:0px;position:absolute;left:367px;top:-230649px;width:244px;
height:1px'><img width=244 height=1
src="How%20To%20Code%20in%20Node.js_files/image1124.gif"></span></span>In this
step, you will delete files with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>unlink()</span> function in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>fs </span>module.
You will write a Node.js script to delete the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>groceries.csv</span> file that you
created in the last section.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:56.0pt;
margin-left:15.75pt;text-indent:0in'>In your terminal, create a new file for
this Node.js module:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894482944'><span
style='left:0px;position:absolute;left:12px;top:-230823px;width:600px;
height:1px'><img width=600 height=1
src="How%20To%20Code%20in%20Node.js_files/image239.gif"></span></span><span
style='position:relative;z-index:253001728'><span style='left:0px;position:
absolute;left:30px;top:-230823px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>Now you
will write code that creates an asynchronous <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>deleteFile() </span>function. That
function will accept a file path as an argument, passing it to the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>unlink()</span>
function to remove it from your filesystem.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>In
your text editor, write the following code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=479
src="How%20To%20Code%20in%20Node.js_files/image1125.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253002752'><span
style='left:0px;position:absolute;left:57px;top:-231467px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image422.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>unlink()</span>
function accepts one argument: the file path of the file you want to be
deleted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253003776'><span
style='left:0px;position:absolute;left:387px;top:-231534px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image293.gif"></span></span><b>Warning:</b>
When you delete the file with the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>unlink()</span> function, it is not sent to
your recycle bin or trash can but permanently removed from your filesystem.
This action is not reversible, so please be certain that you want to remove the
file before executing your code.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:8.9pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:-1894478848'><span
style='left:0px;position:absolute;left:1px;top:-231667px;width:100px;
height:1px'><img width=100 height=1
src="How%20To%20Code%20in%20Node.js_files/image1126.gif"></span></span><span
style='position:relative;z-index:253005824'><span style='left:0px;position:
absolute;left:581px;top:-231667px;width:30px;height:1px'><img width=30
height=1 src="How%20To%20Code%20in%20Node.js_files/image199.gif"></span></span>Exit
<span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>nano</span>,
ensuring that you save the contents of the file by entering <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTR</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:6.95pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>L+X</span>.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Now, execute the program. Run the following command in your
terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=47
src="How%20To%20Code%20in%20Node.js_files/image1127.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=7 id="Group 261988"
src="How%20To%20Code%20in%20Node.js_files/image1128.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will receive the
following output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.35pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1129.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253006848'><span
style='left:0px;position:absolute;left:434px;top:-231991px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>To
confirm that the file no longer exists, use the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>ls</span> command in your current
directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1130.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This command will display
these files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=76
src="How%20To%20Code%20in%20Node.js_files/image1131.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253007872'><span
style='left:0px;position:absolute;left:532px;top:-232249px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image652.gif"></span></span>You’ve
now confirmed that your file was deleted with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>unlink() </span>function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.45pt;
margin-left:.25pt'>So far you’ve learned how to read, write, edit, and delete
files. The following section uses a function to move files to different
folders. After learning that function, you will be able to do the most critical
file management tasks in Node.js.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.95pt;margin-left:
.5pt'>Step 4 — Moving Files with <span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New"'>rename()</span></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253008896'><span
style='left:0px;position:absolute;left:96px;top:-232451px;width:123px;
height:1px'><img width=123 height=1
src="How%20To%20Code%20in%20Node.js_files/image770.gif"></span></span>Folders
are used to organize files, so being able to programmatically move files from
one folder to another makes file management easier. You can move files in
Node.js with the <a
href="https://nodejs.org/api/fs.html#fs_fs_rename_oldpath_newpath_callback"><span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New";color:#3445FF'>rename()</span></a><a
href="https://nodejs.org/api/fs.html#fs_fs_rename_oldpath_newpath_callback"><span
style='color:black;text-decoration:none'> </span></a>function. In this step,
you’ll move a copy of the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>greetings.txt</span> file into a new folder.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.7pt;
margin-left:.25pt;line-height:197%'><span style='position:relative;z-index:
-1894473728'><span style='left:0px;position:absolute;left:12px;top:-232584px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image1132.gif"></span></span>Before
you can code your Node.js module, you need to set a few things up. Begin by
creating a folder that you’ll be moving your file into. In your terminal,
create a <span style='font-size:11.0pt;line-height:197%;font-family:"Courier New"'>test-data</span>
folder in your current directory: <span style='font-size:11.0pt;line-height:
197%;font-family:"Courier New"'>mkdir test-data</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>Now, copy the <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>greetings.txt</span> file that was used in the first
step using</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image1133.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.65pt;margin-bottom:
3.45pt;margin-left:16.5pt;text-indent:-.75pt;line-height:299%'>Finish the setup
by opening a JavaScript file to contain your code: <span style='font-size:11.0pt;
line-height:299%;font-family:"Courier New"'>nano moveFile.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894472704'><span
style='left:0px;position:absolute;left:12px;top:-232953px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image1134.gif"></span></span><span
style='position:relative;z-index:253011968'><span style='left:0px;position:
absolute;left:75px;top:-232953px;width:79px;height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span><span
style='position:relative;z-index:-1894470656'><span style='left:0px;position:
absolute;left:230px;top:-232953px;width:185px;height:1px'><img width=185
height=1 src="How%20To%20Code%20in%20Node.js_files/image1135.gif"></span></span><span
style='position:relative;z-index:253014016'><span style='left:0px;position:
absolute;left:590px;top:-232953px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:-1894468608'><span style='left:0px;position:
absolute;left:1px;top:-232953px;width:162px;height:1px'><img width=162
height=1 src="How%20To%20Code%20in%20Node.js_files/image1136.gif"></span></span>In
your Node.js module, you’ll create a function called <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>moveFile()</span> that calls
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>rename()</span>
function. When using the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>rename()</span> function, you need to provide the
file path of the original file and the path of the destination location. For
this example, you’ll use a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>moveFile()</span> function to move the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>gr
eetings-2.txt</span> file into the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>test-data</span> folder. You’ll also change its
name to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>salutations.txt</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Enter
the following code in your open text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=490
src="How%20To%20Code%20in%20Node.js_files/image1137.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253016064'><span
style='left:0px;position:absolute;left:240px;top:-233674px;width:79px;
height:1px'><img width=79 height=1
src="How%20To%20Code%20in%20Node.js_files/image437.gif"></span></span>As
mentioned earlier, the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>rename()</span> function takes two arguments: the
source and destination file paths. This function can move files to other
folders, rename a file in its current directory, or move and rename at the same
time. In your code, you are moving and renaming your file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:7.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253017088'><span style='left:0px;position:absolute;left:133px;
top:-233807px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span>Save and
exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
by pressing <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894465536'><span
style='left:0px;position:absolute;left:277px;top:-233842px;width:64px;
height:1px'><img width=64 height=1
src="How%20To%20Code%20in%20Node.js_files/image1138.gif"></span></span>Next,
execute this program with <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>node</span>. Enter this command to run the program:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1139.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You
will receive this output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=76
src="How%20To%20Code%20in%20Node.js_files/image1140.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'>To confirm that the file no longer exists in your current
directory, you can</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:.75pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=93
src="How%20To%20Code%20in%20Node.js_files/image1141.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>This command will display
these files and folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=108
src="How%20To%20Code%20in%20Node.js_files/image1142.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=93
src="How%20To%20Code%20in%20Node.js_files/image1143.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Your moved file will
appear in the output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=76
src="How%20To%20Code%20in%20Node.js_files/image1144.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253019136'><span
style='left:0px;position:absolute;left:231px;top:-234671px;width:80px;
height:1px'><img width=80 height=1
src="How%20To%20Code%20in%20Node.js_files/image719.gif"></span></span>You have
now used the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>rename()</span>
function to move a file from your current directory into a subfolder. You also
renamed the file with the same function call.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253020160'><span
style='left:0px;position:absolute;left:363px;top:-234781px;width:98px;
height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image334.gif"></span></span><span
style='position:relative;z-index:-1894462464'><span style='left:0px;position:
absolute;left:419px;top:-234781px;width:192px;height:1px'><img width=192
height=1 src="How%20To%20Code%20in%20Node.js_files/image1145.gif"></span></span><span
style='position:relative;z-index:253022208'><span style='left:0px;position:
absolute;left:283px;top:-234781px;width:80px;height:1px'><img width=80
height=1 src="How%20To%20Code%20in%20Node.js_files/image1146.gif"></span></span>In
this article, you learned various functions to manage files with Node.js. You
first loaded the contents of a file with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>readFile()</span>. You then created
new files and appended data to an existing file with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>writeFile()
</span>function. You permanently removed a file with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>unlink()</span>
function, and then move and renamed a file with <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>rename()</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253023232'><span
style='left:0px;position:absolute;left:506px;top:-234914px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image1085.gif"></span></span>Working
with files programmatically is an important function of Node.js. Programs might
need to output files for a user to use, or may need to store data for an
application that is not always running. With the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>fs</span> module’s functions,
developers have control of how files are used in our Node.js programs.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253024256'><span
style='left:0px;position:absolute;left:260px;top:-235047px;width:25px;
height:1px'><img width=25 height=1
src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:black;
text-decoration:none'>To learn more about the </span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New";color:black;text-decoration:
none'>fs</span></a><a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:black;
text-decoration:none'>module, you can read the </span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF;
text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/fs.html#fs_file_system"><span style='color:#3445FF'>s
documentation</span></a><a href="https://nodejs.org/api/fs.html#fs_file_system"><span
style='color:black;text-decoration:none'>. If you’d like to continue learning
Node.js, you can return to </span></a>the <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>,</span></a> or browse programming
projects and setups on our <a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>Node to</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>ic </span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/node-js"><span
style='color:#3445FF'>e</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-an-http-client-with-core-http-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Create an HTTP Client with Core</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.55in;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-an-http-client-with-core-http-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>HTTP in Node.</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-an-http-client-with-core-http-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-an-http-client-with-core-http-in-node-js"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>Written by Stack Abuse</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The author selected the <a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:#3445FF'>COVID-19 Relief Fund</span></a><a
href="https://www.brightfunds.org/funds/write-for-donations-covid-19-relief-fund"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>It’s common for a modern web application to communicate with
other servers to accomplish a task. For example, a web app that allows you to
purchase a book online may involve communication between a customer orders
server, a book inventory server, and a payment server. In this design, the
different services communicate via web APIs—standard formats that allow you to
programmatically send and receive data. In a <a
href="https://nodejs.org/en/about/"><span style='color:#3445FF'>Node</span></a><a
href="https://nodejs.org/en/about/"><span style='color:#3445FF;text-decoration:
none'>.j</span></a><a href="https://nodejs.org/en/about/"><span
style='color:#3445FF'>s</span></a><a href="https://nodejs.org/en/about/"><span
style='color:black;text-decoration:none'> </span></a>app, you can communicate
with web APIs by making HTTP requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Node.js comes bundled with an <a
href="https://nodejs.org/api/http.html"><span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New";color:#3445FF'>http</span></a> and
an <a href="https://nodejs.org/api/https.html"><span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New";color:#3445FF'>https</span></a><a
href="https://nodejs.org/api/https.html"><span style='color:#3445FF'> </span></a><a
href="https://nodejs.org/api/https.html"><span style='color:#3445FF'>module</span></a>.
These modules have functions to <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:#3445FF'>create an HTTP server</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-a-web-server-in-node-js-with-the-http-module"><span
style='color:black;text-decoration:none'> </span></a>so that a Node.js program
can respond to HTTP requests. They can also make HTTP requests to other
servers. This key functionality equips Node.js programmers to create modern,
API-driven web applications with Node.js. As it’s a core module, you do not need
to install any libraries to use it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253025280'><span
style='left:0px;position:absolute;left:278px;top:-235748px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:253026304'><span style='left:0px;position:
absolute;left:82px;top:-235748px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span><span
style='position:relative;z-index:253027328'><span style='left:0px;position:
absolute;left:198px;top:-235748px;width:89px;height:1px'><img width=89
height=1 src="How%20To%20Code%20in%20Node.js_files/image1147.gif"></span></span><span
style='position:relative;z-index:253028352'><span style='left:0px;position:
absolute;left:338px;top:-235748px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>In
this tutorial, you will use the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>https</span> module to make HTTP requests to <a
href="https://jsonplaceholder.typicode.com/"><span style='color:#3445FF'>JSON
Placeholder</span></a><a href="https://jsonplaceholder.typicode.com/"><span
style='color:black;text-decoration:none'>,</span></a> a fake <a
href="https://en.wikipedia.org/wiki/Representational_state_transfer"><span
style='color:#3445FF'>REST API</span></a><a
href="https://en.wikipedia.org/wiki/Representational_state_transfer"><span
style='color:black;text-decoration:none'> </span></a>for testing purposes. You
will begin by making a <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>GET</span> request, the standard HTTP request to
receive data. You will then look at ways to customize your request, such as by
adding headers. Finally, you will make <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>POST</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PUT</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DELETE</span>
requests so that you can modify data in an external server.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:18.05pt;margin-left:
.5pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='position:relative;
z-index:253029376'><span style='left:0px;position:absolute;left:281px;
top:-235966px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 262424"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> This tutorial
requires that you have Node.js installed. Once installed, you will be able to
access the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>https</span>
module that’s used throughout the tutorial. This tutorial uses Node.js version
10.19.0. To install Node.js <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>on macOS or Ubuntu 18.04, follow the
steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>s and Create a Local Develo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:#3445FF'>ment Environment on macOS</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"><span
style='color:black;text-decoration:none'>or the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><b><span
style='color:black;text-decoration:none'>Installing Using a PPA</span></b></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> section of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>s on Ubuntu </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.9pt;
margin-left:30.75pt;text-indent:-14.0pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 262426"
src="How%20To%20Code%20in%20Node.js_files/image416.gif"></span> The methods
used to send HTTP requests have a Stream-based API. In Node.js, streams are
instances of event emitters. The way in which you respond to data coming from a
stream is the same as the way in which you respond to data from events. If you
are curious, you can get more <a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:black;text-decoration:none'>in-depth knowledge of event emitters
by reading our </span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'>Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'> Event Emitters in Node</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:#3445FF'>s</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-event-emitters-in-node-js"><span
style='color:black;text-decoration:none'> guide.</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;margin-left:
.5pt'>Step 1 — Making a <sub><span style='font-family:"Courier New"'>GET</span></sub>
Request</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253030400'><span
style='left:0px;position:absolute;left:420px;top:-236401px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253031424'><span style='left:0px;position:
absolute;left:590px;top:-236401px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:253032448'><span style='left:0px;position:
absolute;left:1px;top:-236401px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>When you
interact with an API, you typically make <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>GET</span> requests to retrieve
data from web servers. In this step, you’ll look at two functions to make <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GE T</span>
requests in Node.js. Your code will retrieve a <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript"><span
style='color:#3445FF'>JSON</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF'>arra</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-arrays-in-javascript"><span
style='color:#3445FF;text-decoration:none'>y</span></a> of user profiles from a
publicly accessible API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253033472'><span
style='left:0px;position:absolute;left:58px;top:-236501px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:-1894449152'><span style='left:0px;position:
absolute;left:404px;top:-236501px;width:207px;height:1px'><img width=207
height=1 src="How%20To%20Code%20in%20Node.js_files/image1148.gif"></span></span><span
style='position:relative;z-index:253035520'><span style='left:0px;position:
absolute;left:261px;top:-236501px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253036544'><span style='left:0px;position:
absolute;left:71px;top:-236501px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>https</span>
module has two functions to make <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>GET</span> requests—the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>get() </span>function, which
can only make <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
requests, and the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>request()</span> function, which makes other types of requests.
You will begin by making a request with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>get()</span> function.</p>

<h3 style='margin-left:.5pt'>Making Requests with <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>get()</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:20.3pt;
margin-left:.25pt;text-indent:0in;line-height:107%'><span style='position:relative;
z-index:-1894446080'><span style='left:0px;position:absolute;left:203px;
top:-236665px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>HTTP
requests using the <span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>get()</span> function have this format:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:133.75pt;
margin-bottom:0in;margin-left:7.25pt;text-align:left;text-indent:-7.25pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>https</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#666666'>.</span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>get</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>(</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>URL_String,</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'> </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>Callback_Function</span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>) {    </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#666666'>Action</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:26.45pt;margin-left:1.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The first argument is a string with the endpoint you’re
making the request to. The second argument is a <a
href="https://www.digitalocean.com/community/tutorials/understanding-the-event-loop-callbacks-promises-and-async-await-in-javascript#callback-functions"><span
style='color:#3445FF'>callback function</span></a>, which you use to handle the
response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>First, set up your coding environment. In your terminal,
create a folder to store all your Node.js modules for this guide:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1149.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Enter
that folder:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:8.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=600 height=94
src="How%20To%20Code%20in%20Node.js_files/image1150.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:260.05pt;margin-bottom:
3.25pt;margin-left:16.0pt;text-indent:-15.75pt;line-height:299%'>it’s available
in the terminal: <span style='font-size:11.0pt;line-height:299%;font-family:
"Courier New"'>nano getRequestWithGet.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894445056'><span
style='left:0px;position:absolute;left:12px;top:-237262px;width:590px;
height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image1151.gif"></span></span>To make
HTTP requests in Node.js, import the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>https</span> module by adding the follow line:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=117
src="How%20To%20Code%20in%20Node.js_files/image1152.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253039616'><span
style='left:0px;position:absolute;left:207px;top:-237417px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:-1894443008'><span style='left:0px;position:
absolute;left:317px;top:-237417px;width:129px;height:1px'><img width=129
height=1 src="How%20To%20Code%20in%20Node.js_files/image1153.gif"></span></span><span
style='position:relative;z-index:253041664'><span style='left:0px;position:
absolute;left:432px;top:-237417px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><b>Note:</b>:
Node.js has an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http</span>
and an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>https</span>
module. They have the same functions and behave in a similar manner, but <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>https</span>
makes the requests through the <a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF'>Trans</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF'>ort La</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF'>er Securit</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF'> </span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:#3445FF'>TLS/SSL)</span></a><a
href="https://en.wikipedia.org/wiki/Transport_Layer_Security"><span
style='color:black;text-decoration:none'>.</span></a> As the web servers you
are using are available via HTTPS, you will use the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>https</span> module. If you
are making requests to and from URLs that only have HTTP, then you would use
the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http</span>
module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894440960'><span
style='left:0px;position:absolute;left:117px;top:-237583px;width:55px;
height:1px'><img width=55 height=1
src="How%20To%20Code%20in%20Node.js_files/image1154.gif"></span></span><span
style='position:relative;z-index:253043712'><span style='left:0px;position:
absolute;left:318px;top:-237583px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Now
use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http</span>
<a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'> </span></a>to make a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
request to the API to retrieve a list of users. You will use <a
href="https://jsonplaceholder.typicode.com/"><span style='color:#3445FF'>JSON
Placeholder</span></a><a href="https://jsonplaceholder.typicode.com/"><span
style='color:black;text-decoration:none'>,</span></a> a publicly available API
for testing. This API does not keep a record of any changes you make in your
requests. It simulates a real server, and returns mocked responses as long as
you send a valid request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>Write the following
highlighted code in your text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=238
src="How%20To%20Code%20in%20Node.js_files/image1155.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253044736'><span
style='left:0px;position:absolute;left:397px;top:-238030px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>As
mentioned in the function signature, the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>get()</span> function takes two
parameters. The first is the API URL you are making the request to in <a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF'>strin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript"><span
style='color:#3445FF;text-decoration:none'>g </span></a>format and the second
is a callback to handle the HTTP response. To read the data from your response,
you have to add some code in the callback.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>HTTP responses come with a status code. A status code is a
number that indicates how successful the response was. Status codes between 200
and 299 are positive responses, while codes between 400 and 599 are errors. <a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:black;text-decoration:none'>You can learn more about status codes
in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:#3445FF'>How To Troubleshoot Common HTTP Error Codes</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-troubleshoot-common-http-error-codes"><span
style='color:black;text-decoration:none'> guide.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:3.15pt;
margin-left:.25pt'>For this request, a successful response would have a 200
status code. The first thing you’ll do in your callback will be to verify that
the status code is what you expect. Add the following code to the callback
function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.7pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=394
src="How%20To%20Code%20in%20Node.js_files/image1156.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253045760'><span
style='left:0px;position:absolute;left:514px;top:-238834px;width:98px;
height:1px'><img width=98 height=1
src="How%20To%20Code%20in%20Node.js_files/image455.gif"></span></span>The
response object that’s available in the callback has a <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>statusCode </span>property
that stores the status code. If the status code is not 200, you log an error to
the console and exit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253046784'><span
style='left:0px;position:absolute;left:206px;top:-238934px;width:115px;
height:1px'><img width=115 height=1
src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span><span
style='position:relative;z-index:253047808'><span style='left:0px;position:
absolute;left:303px;top:-238934px;width:115px;height:1px'><img width=115
height=1 src="How%20To%20Code%20in%20Node.js_files/image188.gif"></span></span>Note
the line that has <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>res.resume()</span>. You included that line to improve
performance. When making HTTP requests, Node.js will consume all the data
that’s sent with the request. The <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>res.resume()</span> method tells Node.js to
ignore the stream’s data. In turn, Node.js would typically discard the data
more quickly than if it left it for garbage collection—a periodic process that
frees an application’s memory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now that you’ve captured error responses, add code to read
the data. Node.js responses stream their data in chunks. The strategy for
retrieving data will be to listen for when data comes from the response,
collate all the chunks, and then parse the JSON so your application can use it.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Modify
the request callback to include this code:<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=746
src="How%20To%20Code%20in%20Node.js_files/image1157.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253048832'><span
style='left:0px;position:absolute;left:339px;top:-240069px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image263.gif"></span></span>You begin
by creating a new variable <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>data</span> that’s an empty string. You can store
data as an array of numbers representing byte data or a string. This <a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>tutorial uses the latter as it’s
easier to convert a JSON string to a </span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>JavaScri</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>t ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:#3445FF'>ect</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-objects-in-javascript"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253049856'><span
style='left:0px;position:absolute;left:176px;top:-240168px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:253050880'><span style='left:0px;position:
absolute;left:199px;top:-240168px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:253051904'><span style='left:0px;position:
absolute;left:113px;top:-240168px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>After
creating the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>data</span>
variable, you create an <a
href="https://www.digitalocean.com/community/tutorials/understanding-events-in-javascript#event-handlers-and-event-listeners"><span
style='color:#3445FF'>event listener</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-events-in-javascript#event-handlers-and-event-listeners"><span
style='color:black;text-decoration:none'>.</span></a> Node.js streams the data
of an HTTP response in chunks. Therefore, when the response object emits a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>data</span>
event, you will take the data it received and add it to your <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>data</span>
variable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253052928'><span
style='left:0px;position:absolute;left:559px;top:-240268px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:253053952'><span style='left:0px;position:
absolute;left:470px;top:-240268px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>When
all the data from the server is received, Node.js emits a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>close </span>event.
At this point, you parse the JSON string stored in <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>data</span> and log the result to
the console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Your Node.js module can now communicate with the JSON API
and log the list of users, which will be a JSON array of three users. However,
there’s one small improvement you can make first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>This script will throw an error if you are unable to make a
request. You may not be able to make a request if you lose your internet
connection, for example. Add the following code to capture errors when you’re
unable to send an HTTP request:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.3pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=575
src="How%20To%20Code%20in%20Node.js_files/image1158.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253054976'><span
style='left:0px;position:absolute;left:599px;top:-241149px;width:12px;
height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image212.gif"></span></span><span
style='position:relative;z-index:253056000'><span style='left:0px;position:
absolute;left:1px;top:-241149px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span><span
style='position:relative;z-index:253057024'><span style='left:0px;position:
absolute;left:151px;top:-241149px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:253058048'><span style='left:0px;position:
absolute;left:31px;top:-241149px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:253059072'><span style='left:0px;position:
absolute;left:266px;top:-241149px;width:53px;height:1px'><img width=53
height=1 src="How%20To%20Code%20in%20Node.js_files/image430.gif"></span></span>When
a request is made but cannot be sent, the request object emits an <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>e rror</span>
event. If an <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
event is emitted but not listened to, the Node.js program crashes. Therefore,
to capture errors you add an event listener with the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>on()</span> function and
listen for <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>error</span>
events. When you get an error, you log its message.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:13.1pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:253060096'><span
style='left:0px;position:absolute;left:384px;top:-241282px;width:44px;
height:1px'><img width=44 height=1
src="How%20To%20Code%20in%20Node.js_files/image459.gif"></span></span><span
style='position:relative;z-index:253061120'><span style='left:0px;position:
absolute;left:528px;top:-241282px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>That’s
all the code for this file. Save and exit <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>nano</span> by pressing <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:253062144'><span style='left:0px;position:
absolute;left:278px;top:-241316px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span>Now
execute this program with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>node</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1159.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Your
console will display this response:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1160.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.4pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=587
src="How%20To%20Code%20in%20Node.js_files/image1161.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253063168'><span
style='left:0px;position:absolute;left:380px;top:-242955px;width:33px;
height:1px'><img width=33 height=1
src="How%20To%20Code%20in%20Node.js_files/image531.gif"></span></span>This
means you’ve successfully made a <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>GET</span> request with the core Node.js
library.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894419456'><span
style='left:0px;position:absolute;left:16px;top:-242989px;width:95px;
height:1px'><img width=95 height=1
src="How%20To%20Code%20in%20Node.js_files/image1162.gif"></span></span><span
style='position:relative;z-index:253065216'><span style='left:0px;position:
absolute;left:196px;top:-242989px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253066240'><span style='left:0px;position:
absolute;left:337px;top:-242989px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>get()</span>
method you used is a convenient method Node.js provides because <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
requests are a very common type of request. Node.js provides a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>
method to make a request of any type. Next, this tutorial will examine how to
make a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
request with <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:14.9pt;margin-left:
.5pt'>Making Requests with <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>request()</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.9pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253067264'><span
style='left:0px;position:absolute;left:40px;top:-243167px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image584.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>
method supports multiple function signatures. You’ll use this one for the
subsequent example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=118
src="How%20To%20Code%20in%20Node.js_files/image1163.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The first argument is a string with the API endpoint. The
second argument is a JavaScript object containing all the options for the
request. The last argument is a callback function to handle the response.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.15pt;
margin-bottom:26.05pt;margin-left:.5pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Calibri",sans-serif'><img border=0 width=611 height=316
src="How%20To%20Code%20in%20Node.js_files/image1164.gif"></span>Create a new
file for a new module called <span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New"'>getRequestWithRequest.js</span>:</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:253068288'><span style='left:0px;position:
absolute;left:437px;top:-243878px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>Next,
create a new JavaScript object that contains a <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>method</span> key:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.95pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=245
src="How%20To%20Code%20in%20Node.js_files/image1165.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253069312'><span
style='left:0px;position:absolute;left:61px;top:-244188px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:253070336'><span style='left:0px;position:
absolute;left:399px;top:-244188px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>method</span>
key in this object will tell the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>request()</span> function what HTTP method the
request is using.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253071360'><span
style='left:0px;position:absolute;left:463px;top:-244255px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span>Next,
make the request in your code. The following codeblock highlights code that was
different from the request made with the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>get()</span> method. In your
editor, enter all of the following lines:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1166.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=106
src="How%20To%20Code%20in%20Node.js_files/image1167.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253072384'><span
style='left:0px;position:absolute;left:235px;top:-245366px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image490.gif"></span></span>To make a
request using <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>,
you provide the URL in the first argument, an object with the HTTP options in
the second argument, and a callback to handle the response in the third
argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253073408'><span
style='left:0px;position:absolute;left:58px;top:-245466px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:253074432'><span style='left:0px;position:
absolute;left:181px;top:-245466px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>options</span>
variable you created earlier is the second argument, telling Node.js that this
is a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
request. The callback is unchanged from when you first wrote it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253075456'><span
style='left:0px;position:absolute;left:177px;top:-245533px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:-1894407168'><span style='left:0px;position:
absolute;left:367px;top:-245533px;width:151px;height:1px'><img width=151
height=1 src="How%20To%20Code%20in%20Node.js_files/image1168.gif"></span></span>You
also call the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>end()</span>
method of the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request</span>
variable. This is an important method that must be called when using the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>
function. It completes the request, allowing it to be sent. If you don’t call
it, the program will never complete, as Node.js will think you still have data
to add to the request.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:9.35pt;
margin-bottom:6.6pt;margin-left:15.1pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:253077504'><span
style='left:0px;position:absolute;left:133px;top:-245666px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span><span
style='position:relative;z-index:253078528'><span style='left:0px;position:
absolute;left:221px;top:-245666px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
and exit <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>nano</span>
with <span style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>CTRL+X</span>,
or the equivalent with your text editor.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Run
this program in your terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1169.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>You
will receive this output, which is the same as the first module:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1160.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.4in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=587
src="How%20To%20Code%20in%20Node.js_files/image1170.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253079552'><span
style='left:0px;position:absolute;left:222px;top:-247315px;width:89px;
height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image330.gif"></span></span><span
style='position:relative;z-index:253080576'><span style='left:0px;position:
absolute;left:474px;top:-247315px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253081600'><span style='left:0px;position:
absolute;left:103px;top:-247315px;width:51px;height:1px'><img width=51
height=1 src="How%20To%20Code%20in%20Node.js_files/image187.gif"></span></span>You
have now used the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>request()</span> method to make a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>GET</span> request. It’s important
to know this function as it allows you to customize your request in ways the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>get()</span>
method cannot, like making requests with other HTTP methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253082624'><span
style='left:0px;position:absolute;left:544px;top:-247415px;width:67px;
height:1px'><img width=67 height=1
src="How%20To%20Code%20in%20Node.js_files/image640.gif"></span></span><span
style='position:relative;z-index:253083648'><span style='left:0px;position:
absolute;left:1px;top:-247415px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>Next, you
will configure and customize your requests with the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>request ()</span> function.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.4pt;margin-left:
.5pt'>Step 2 — Configuring HTTP <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>request()</span> Options</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.95pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253084672'><span
style='left:0px;position:absolute;left:44px;top:-247494px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image584.gif"></span></span><span
style='position:relative;z-index:253085696'><span style='left:0px;position:
absolute;left:165px;top:-247494px;width:71px;height:1px'><img width=71
height=1 src="How%20To%20Code%20in%20Node.js_files/image224.gif"></span></span><span
style='position:relative;z-index:253086720'><span style='left:0px;position:
absolute;left:379px;top:-247494px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span>The
<span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request()</span>
function allows you to send HTTP requests without specifying the URL in the
first argument. In this case, the URL would be contained with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>options</span>
object, and the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>request()</span> would have this function signature:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.65pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=118
src="How%20To%20Code%20in%20Node.js_files/image1171.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.25pt'><span style='position:relative;z-index:253087744'><span
style='left:0px;position:absolute;left:523px;top:-247756px;width:87px;
height:1px'><img width=87 height=1
src="How%20To%20Code%20in%20Node.js_files/image887.gif"></span></span><span
style='position:relative;z-index:253088768'><span style='left:0px;position:
absolute;left:71px;top:-247756px;width:70px;height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>In this
step, you will use this functionality to configure your <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>request() </span>with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>options</span>
object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:11.85pt;
margin-left:.25pt;line-height:233%'><span style='position:relative;z-index:
-1894393856'><span style='left:0px;position:absolute;left:12px;top:-247824px;
width:590px;height:1px'><img width=590 height=1
src="How%20To%20Code%20in%20Node.js_files/image1172.gif"></span></span>Node.js
allows you to enter the URL in the <span style='font-size:11.0pt;line-height:
233%;font-family:"Courier New"'>options</span> object you pass to the request.
To try this out, reopen the <span style='font-size:11.0pt;line-height:233%;
font-family:"Courier New"'>getRequestWithRequest.js</span> file: <span
style='font-size:11.0pt;line-height:233%;font-family:"Courier New"'>nano
getRequestWithRequest.js</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253090816'><span
style='left:0px;position:absolute;left:30px;top:-247948px;width:70px;
height:1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image1173.gif"></span></span>Remove
the URL from the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>request()</span> call so that the only arguments are the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>options</span>
variable and the callback function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=341
src="How%20To%20Code%20in%20Node.js_files/image1174.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=593 height=465
src="How%20To%20Code%20in%20Node.js_files/image1175.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:6.6pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:253091840'><span
style='left:0px;position:absolute;left:476px;top:-248861px;width:42px;
height:1px'><img width=42 height=1
src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span><span
style='position:relative;z-index:253092864'><span style='left:0px;position:
absolute;left:564px;top:-248861px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>Instead
of one string URL, you have two properties—<span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>host</span> and <span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>path</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253093888'><span
style='left:0px;position:absolute;left:38px;top:-248895px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>host</span>
is the domain name or IP address of the server you’re accessing. The path is
everything that comes after the domain name, including query parameters (values
after the question mark).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The options object can hold other useful data that goes into
a request. For example, you can provide request headers in the options. Headers
typically send metadata about the request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253094912'><span
style='left:0px;position:absolute;left:386px;top:-249095px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>When
developers create APIs, they may choose to support different data formats. One
API endpoint may be able to return data in JSON, <a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='color:#3445FF'>CSV</span></a><a
href="https://en.wikipedia.org/wiki/Comma-separated_values"><span
style='color:black;text-decoration:none'>,</span></a> or <a
href="https://en.wikipedia.org/wiki/XML"><span style='color:#3445FF'>XML</span></a>.
In those APIs, the server may look at the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Accept</span> header to determine
the correct response type.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253095936'><span
style='left:0px;position:absolute;left:58px;top:-249194px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:253096960'><span style='left:0px;position:
absolute;left:590px;top:-249194px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:253097984'><span style='left:0px;position:
absolute;left:1px;top:-249194px;width:39px;height:1px'><img width=39 height=1
src="How%20To%20Code%20in%20Node.js_files/image320.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>Accept</span>
header specifies the type of data the user can handle. While the API being used
in these examples only return JSON, you can add the <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>Ac cept</span> header to
your request to explicitly state that you want JSON.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'><span
style='position:relative;z-index:253099008'><span style='left:0px;position:
absolute;left:392px;top:-249294px;width:60px;height:1px'><img width=60
height=1 src="How%20To%20Code%20in%20Node.js_files/image282.gif"></span></span>Add
the following lines of code to append the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>Accept</span> header:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=405
src="How%20To%20Code%20in%20Node.js_files/image1176.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253100032'><span
style='left:0px;position:absolute;left:258px;top:-249763px;width:166px;
height:1px'><img width=166 height=1
src="How%20To%20Code%20in%20Node.js_files/image1177.gif"></span></span><span
style='position:relative;z-index:253101056'><span style='left:0px;position:
absolute;left:469px;top:-249763px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image1178.gif"></span></span>By
adding headers, you’ve covered the four most popular options that are sent in
Node.js HTTP requests: <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>host</span>, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>path</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>method</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>headers</span>.
Node.js supports many more options; you can read more at the <a
href="https://nodejs.org/api/http.html#http_http_request_url_options_callback"><span
style='color:#3445FF'>official Node</span></a><a
href="https://nodejs.org/api/http.html#http_http_request_url_options_callback"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://nodejs.org/api/http.html#http_http_request_url_options_callback"><span
style='color:#3445FF'>s docs </span></a>for more information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253102080'><span style='left:0px;position:absolute;left:69px;
top:-249863px;width:61px;height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span><span
style='position:relative;z-index:253103104'><span style='left:0px;position:
absolute;left:337px;top:-249863px;width:44px;height:1px'><img width=44
height=1 src="How%20To%20Code%20in%20Node.js_files/image269.gif"></span></span>Enter
<span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>
to save your file and exit <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>nano</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Next, run your code once more to make the request by only
using options:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1179.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
results will be the same as your previous runs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1180.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=587
src="How%20To%20Code%20in%20Node.js_files/image1181.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253104128'><span
style='left:0px;position:absolute;left:1px;top:-251519px;width:70px;height:
1px'><img width=70 height=1
src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span>As APIs
can vary from provider to provider, being comfortable with the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>options</span>
object is key to adapting to their differing requirements, with the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.35pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>data types and headers
being some of the most common variations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:18.3pt;
margin-left:.25pt'><span style='position:relative;z-index:253105152'><span
style='left:0px;position:absolute;left:248px;top:-251618px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253106176'><span style='left:0px;position:
absolute;left:63px;top:-251618px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span>So far,
you have only done <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>GET</span> requests to retrieve data. Next, you will make a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>POST</span>
request with Node.js so you can upload data to a server.</p>

<h2 style='margin-left:.5pt'>Step 3 — Making a <sub><span style='font-family:
"Courier New"'>POST</span></sub> Request</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253107200'><span
style='left:0px;position:absolute;left:181px;top:-251754px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:-1894375424'><span style='left:0px;position:
absolute;left:569px;top:-251754px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image1182.gif"></span></span><span
style='position:relative;z-index:253109248'><span style='left:0px;position:
absolute;left:1px;top:-251754px;width:12px;height:1px'><img width=12 height=1
src="How%20To%20Code%20in%20Node.js_files/image274.gif"></span></span>When you
upload data to a server or want the server to create data for you, you
typically send a <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>POST</span> request. In this section, you’ll create a <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>POST </span>request
in Node.js. You will make a request to create a new user in the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>user s</span>
API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:14.75pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894373376'><span
style='left:0px;position:absolute;left:351px;top:-251854px;width:109px;
height:1px'><img width=109 height=1
src="How%20To%20Code%20in%20Node.js_files/image1183.gif"></span></span>Despite
being a different method from <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>GET</span>, you will be able to reuse code from the
previous requests when writing your <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>POST</span> request. However, you will have to
make the following adjustments:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253111296'><span style='left:0px;position:absolute;left:251px;
top:-251973px;width:69px;height:1px'><img width=69 height=1
src="How%20To%20Code%20in%20Node.js_files/image689.gif"></span></span><span
style='position:relative;z-index:253112320'><span style='left:0px;position:
absolute;left:400px;top:-251973px;width:43px;height:1px'><img width=43
height=1 src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><img
width=6 height=1 src="How%20To%20Code%20in%20Node.js_files/image232.gif"
align=left hspace=12>Change the method in the <span style='font-size:11.0pt;
line-height:107%;font-family:"Courier New"'>options</span> object to <span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>POST</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Add a header to state you
are uploading JSON</p>

<p class=MsoNormal style='margin-top:0in;margin-right:74.3pt;margin-bottom:
14.9pt;margin-left:16.75pt;text-indent:0in'>Check the status code to confirm a
user was created Upload the new user’s data</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:110%'><span style='position:relative;z-index:253114368'><span
style='left:0px;position:absolute;left:474px;top:-252125px;width:133px;
height:1px'><img width=133 height=1
src="How%20To%20Code%20in%20Node.js_files/image217.gif"></span></span>To make
these changes, first create a new file called <span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New"'>postRequest.js</span>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=603 height=133
src="How%20To%20Code%20in%20Node.js_files/image1184.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.6pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=437
src="How%20To%20Code%20in%20Node.js_files/image1185.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894368256'><span
style='left:0px;position:absolute;left:67px;top:-252761px;width:204px;
height:1px'><img width=204 height=1
src="How%20To%20Code%20in%20Node.js_files/image1186.gif"></span></span><span
style='position:relative;z-index:253116416'><span style='left:0px;position:
absolute;left:451px;top:-252761px;width:42px;height:1px'><img width=42
height=1 src="How%20To%20Code%20in%20Node.js_files/image469.gif"></span></span>You
change the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>path</span>
to match what’s required for <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>POST</span> requests. You also updated the <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>method</span>
to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>POST</span>.
Lastly, you added a new header in your options <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>Content-Type</span>. This header
tells the server what type of data you <a
href="https://en.wikipedia.org/wiki/UTF-8"><span style='color:black;text-decoration:
none'>are uploading. In this case, you’ll be uploading JSON data with </span></a><a
href="https://en.wikipedia.org/wiki/UTF-8"><span style='color:#3445FF'>UTF-8
encodin</span></a><a href="https://en.wikipedia.org/wiki/UTF-8"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://en.wikipedia.org/wiki/UTF-8"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253117440'><span
style='left:0px;position:absolute;left:295px;top:-252894px;width:88px;
height:1px'><img width=88 height=1
src="How%20To%20Code%20in%20Node.js_files/image280.gif"></span></span><span
style='position:relative;z-index:253118464'><span style='left:0px;position:
absolute;left:128px;top:-252894px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>Next,
make the request with the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>request()</span> function. This is similar to how
you made <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>GET</span>
requests, but now you look for a different status code than 200. Add the
following lines to the end of your code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=703
src="How%20To%20Code%20in%20Node.js_files/image1187.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The highlighted line of code checks if the status code is
201. The 201 status code is used to indicate that the server created a
resource.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253119488'><span
style='left:0px;position:absolute;left:62px;top:-253803px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image456.gif"></span></span><span
style='position:relative;z-index:253120512'><span style='left:0px;position:
absolute;left:589px;top:-253803px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:253121536'><span style='left:0px;position:
absolute;left:1px;top:-253803px;width:21px;height:1px'><img width=21 height=1
src="How%20To%20Code%20in%20Node.js_files/image200.gif"></span></span>This <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>POST</span>
request is meant to create a new user. For this API, you need to upload the
user details. Create some user data and send that with your <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PO ST</span>
request:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=757
src="How%20To%20Code%20in%20Node.js_files/image1188.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.6pt;
margin-left:.25pt'><span style='position:relative;z-index:253122560'><span
style='left:0px;position:absolute;left:193px;top:-254724px;width:107px;
height:1px'><img width=107 height=1
src="How%20To%20Code%20in%20Node.js_files/image335.gif"></span></span><span
style='position:relative;z-index:253123584'><span style='left:0px;position:
absolute;left:452px;top:-254724px;width:25px;height:1px'><img width=25
height=1 src="How%20To%20Code%20in%20Node.js_files/image226.gif"></span></span>You
first created the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>requestData</span> variable, which is a JavaScript object
containing user data. Your request does not include an <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>id</span> field, as servers
typically generate these while saving the new data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253124608'><span
style='left:0px;position:absolute;left:171px;top:-254832px;width:142px;
height:1px'><img width=142 height=1
src="How%20To%20Code%20in%20Node.js_files/image613.gif"></span></span><span
style='position:relative;z-index:253125632'><span style='left:0px;position:
absolute;left:435px;top:-254832px;width:107px;height:1px'><img width=107
height=1 src="How%20To%20Code%20in%20Node.js_files/image1123.gif"></span></span><span
style='position:relative;z-index:253126656'><span style='left:0px;position:
absolute;left:208px;top:-254832px;width:133px;height:1px'><img width=133
height=1 src="How%20To%20Code%20in%20Node.js_files/image217.gif"></span></span>You
next use the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>request.write()</span>
function, which accepts a string or <a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF'>buffer ob</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://www.digitalocean.com/community/tutorials/using-buffers-in-node-js"><span
style='color:#3445FF'>ect</span></a> to send along with the request. As your <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>requestData</span>
variable is an object, you used the <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>JSON.stringify</span> function to convert it to
a string.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>To complete this module,
end the request and check for errors:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.5pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=319
src="How%20To%20Code%20in%20Node.js_files/image1189.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253127680'><span
style='left:0px;position:absolute;left:447px;top:-255328px;width:52px;
height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:253128704'><span style='left:0px;position:
absolute;left:1px;top:-255328px;width:52px;height:1px'><img width=52 height=1
src="How%20To%20Code%20in%20Node.js_files/image270.gif"></span></span>It’s
important that you write data before you use the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>end()</span> function. The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>end()</span>
function tells Node.js that there’s no more data to be added to the</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.1pt;
margin-left:.25pt;text-indent:0in;line-height:107%'>request and sends it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.9pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253129728'><span style='left:0px;position:absolute;left:133px;
top:-255428px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span><span
style='position:relative;z-index:253130752'><span style='left:0px;position:
absolute;left:277px;top:-255428px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
and exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
by pressing <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Run
this program to confirm that a new user was created:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1190.gif"></span></p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>The
following output will be displayed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.25pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=556
src="How%20To%20Code%20in%20Node.js_files/image1191.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The output confirms that the request was successful. The API
returned the user data that was uploaded, along with the ID that was assigned
to it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.7pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894351872'><span
style='left:0px;position:absolute;left:360px;top:-256247px;width:89px;
height:1px'><img width=89 height=1
src="How%20To%20Code%20in%20Node.js_files/image1192.gif"></span></span>Now that
you have learned how to make <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>POST</span> requests, you can upload data to servers
in Node.js. Next you will try out <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>PUT</span> requests, a method used to update
data in a server.</p>

<h2 style='margin-left:.5pt'>Step 4 — Making a <sub><span style='font-family:
"Courier New"'>PUT</span></sub> Request</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:-1894350848'><span
style='left:0px;position:absolute;left:115px;top:-256381px;width:82px;
height:1px'><img width=82 height=1
src="How%20To%20Code%20in%20Node.js_files/image1193.gif"></span></span><span
style='position:relative;z-index:253133824'><span style='left:0px;position:
absolute;left:243px;top:-256381px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253134848'><span style='left:0px;position:
absolute;left:578px;top:-256381px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span><span
style='position:relative;z-index:253135872'><span style='left:0px;position:
absolute;left:335px;top:-256381px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image591.gif"></span></span>Developers
make a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PUT</span>
request to upload data to a server. While this may be similar to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>POST</span>
requests, <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PUT</span>
requests have a different function. <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>PUT </span>requests are idempotent—you can run
a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PUT</span>
request multiple times and it will have the same result.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253136896'><span
style='left:0px;position:absolute;left:461px;top:-256480px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span>In
practice, the code you write is similar to that of a <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>POST</span> request. You set
up your options, make your request, write the data you want to upload, and
verify the response.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253137920'><span
style='left:0px;position:absolute;left:344px;top:-256547px;width:34px;
height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image1194.gif"></span></span>To try
this out, you’re going to create a <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>PUT</span> request that updates the first
user’s username.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894344704'><span
style='left:0px;position:absolute;left:265px;top:-256613px;width:168px;
height:1px'><img width=168 height=1
src="How%20To%20Code%20in%20Node.js_files/image1195.gif"></span></span>As the
code is similar to the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>POST</span> request, you’ll use that module as a
base for this one. Copy the <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>postRequest.js</span> into a new file, </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:2.6pt;
margin-left:.25pt;text-indent:.25pt'><span style='position:relative;z-index:
253139968'><span style='left:0px;position:absolute;left:1px;top:-256680px;
width:364px;height:1px'><img width=364 height=1
src="How%20To%20Code%20in%20Node.js_files/image1196.gif"></span></span><span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=239
src="How%20To%20Code%20in%20Node.js_files/image1197.gif"></span>Make these
highlighted changes so that you send a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>PUT</span> request to <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>http
s://jsonplaceholder.typicode.com/users/1</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1198.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.05pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=586
src="How%20To%20Code%20in%20Node.js_files/image1199.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253140992'><span
style='left:0px;position:absolute;left:191px;top:-258496px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image450.gif"></span></span><span
style='position:relative;z-index:253142016'><span style='left:0px;position:
absolute;left:274px;top:-258496px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image1083.gif"></span></span><span
style='position:relative;z-index:253143040'><span style='left:0px;position:
absolute;left:482px;top:-258496px;width:70px;height:1px'><img width=70
height=1 src="How%20To%20Code%20in%20Node.js_files/image182.gif"></span></span><span
style='position:relative;z-index:253144064'><span style='left:0px;position:
absolute;left:1px;top:-258496px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image316.gif"></span></span>You first
change the <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>path</span>
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>method</span>
properties of the <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>options</span> object. <span style='font-size:11.0pt;line-height:
142%;font-family:"Courier New"'>path</span> in this case identifies the user
that you are going to update. When you make the request, you check if the
response code was 200, meaning that the request was OK. The data you are
uploading now only contains the property you are updating.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.95pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253145088'><span style='left:0px;position:absolute;left:133px;
top:-258629px;width:43px;height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image596.gif"></span></span><span
style='position:relative;z-index:253146112'><span style='left:0px;position:
absolute;left:221px;top:-258629px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>Save
and exit <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>nano</span>
with <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-right:.7pt;text-indent:0in;line-height:107%'>Now
execute this Node.js program in your terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1200.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>You will receive this
output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image1201.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.75pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253147136'><span style='left:0px;position:absolute;left:109px;
top:-258945px;width:34px;height:1px'><img width=34 height=1
src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span>You sent
a <span style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'>PUT</span>
request to update a pre-existing user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:17.1pt;
margin-left:.25pt'><span style='position:relative;z-index:253148160'><span
style='left:0px;position:absolute;left:551px;top:-258979px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image196.gif"></span></span>So far
you have learned how to retrieve, add, and update data. To give us a full
command of managing data via APIs, you’ll next make a <span style='font-size:
11.0pt;line-height:142%;font-family:"Courier New"'>DELETE </span>request to
remove data from a server.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:13.2pt;margin-left:
.5pt'>Step 5 — Making a <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>DELETE</span> Request</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253149184'><span
style='left:0px;position:absolute;left:40px;top:-259147px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>The <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DELETE</span>
request is used to remove data from a server. It can have a request body, but
most APIs tend not to require them. This method is used to delete an entire
object from the server. In this section, you are going to delete a user using
the API.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:1.45pt;
margin-left:.25pt'><span style='position:relative;z-index:-1894333440'><span
style='left:0px;position:absolute;left:321px;top:-259247px;width:223px;
height:1px'><img width=223 height=1
src="How%20To%20Code%20in%20Node.js_files/image1202.gif"></span></span>The code
you will write is similar to that of a <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>GET</span> request, so use that
module as a base for this one. Copy the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>getRequestWithRequest.js</span>
file into</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.75pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=600 height=193
src="How%20To%20Code%20in%20Node.js_files/image1203.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=8 id="Group 264929"
src="How%20To%20Code%20in%20Node.js_files/image1204.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Now modify the code at the highlighted parts, so you can
delete the first user in the API:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=864
src="How%20To%20Code%20in%20Node.js_files/image1205.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.45pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=591 height=362
src="How%20To%20Code%20in%20Node.js_files/image1206.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'><span style='position:relative;z-index:253151232'><span
style='left:0px;position:absolute;left:379px;top:-260902px;width:43px;
height:1px'><img width=43 height=1
src="How%20To%20Code%20in%20Node.js_files/image521.gif"></span></span><span
style='position:relative;z-index:253152256'><span style='left:0px;position:
absolute;left:116px;top:-260902px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>For
this module, you begin by changing the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>path</span> property of the options
object to the resource you want to delete—the first user. You then change the
method to <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DELETE</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:6.85pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'><span style='position:
relative;z-index:253153280'><span style='left:0px;position:absolute;left:296px;
top:-260968px;width:60px;height:1px'><img width=60 height=1
src="How%20To%20Code%20in%20Node.js_files/image241.gif"></span></span>Save and
exit this file by pressing <span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'>CTRL+X</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>Run this module to confirm it works. Enter the following
command in your terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.75pt;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=54
src="How%20To%20Code%20in%20Node.js_files/image1207.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:9.1pt;
margin-left:15.75pt;text-indent:0in;line-height:107%'>The program will output
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:8.85pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=590 height=108
src="How%20To%20Code%20in%20Node.js_files/image1208.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>While the API does not return a response body, you still got
a 200 response so the request was OK.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:16.3pt;
margin-left:.25pt'><span style='position:relative;z-index:253154304'><span
style='left:0px;position:absolute;left:318px;top:-261321px;width:61px;
height:1px'><img width=61 height=1
src="How%20To%20Code%20in%20Node.js_files/image243.gif"></span></span>You’ve
now learned how to make <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>DELETE</span> requests with Node.js core modules.</p>

<h2 style='margin-left:.5pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt;text-indent:0in'><span style='position:relative;z-index:253155328'><span
style='left:0px;position:absolute;left:210px;top:-261419px;width:131px;
height:1px'><img width=131 height=1
src="How%20To%20Code%20in%20Node.js_files/image1209.gif"></span></span><span
style='position:relative;z-index:253156352'><span style='left:0px;position:
absolute;left:385px;top:-261419px;width:61px;height:1px'><img width=61
height=1 src="How%20To%20Code%20in%20Node.js_files/image1083.gif"></span></span><span
style='position:relative;z-index:253157376'><span style='left:0px;position:
absolute;left:590px;top:-261419px;width:21px;height:1px'><img width=21
height=1 src="How%20To%20Code%20in%20Node.js_files/image244.gif"></span></span><span
style='position:relative;z-index:253158400'><span style='left:0px;position:
absolute;left:1px;top:-261419px;width:30px;height:1px'><img width=30 height=1
src="How%20To%20Code%20in%20Node.js_files/image284.gif"></span></span><span
style='position:relative;z-index:253159424'><span style='left:0px;position:
absolute;left:167px;top:-261419px;width:34px;height:1px'><img width=34
height=1 src="How%20To%20Code%20in%20Node.js_files/image592.gif"></span></span><span
style='position:relative;z-index:253160448'><span style='left:0px;position:
absolute;left:453px;top:-261419px;width:52px;height:1px'><img width=52
height=1 src="How%20To%20Code%20in%20Node.js_files/image191.gif"></span></span><span
style='position:relative;z-index:253161472'><span style='left:0px;position:
absolute;left:306px;top:-261419px;width:88px;height:1px'><img width=88
height=1 src="How%20To%20Code%20in%20Node.js_files/image988.gif"></span></span>In
this tutorial, you made <span style='font-size:11.0pt;line-height:142%;
font-family:"Courier New"'>GET</span>, <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>POST</span>, <span
style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>PUT</span>,
and <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>DELETE</span>
requests in Node.js. No libraries were installed; these requests were made
using the standard <span style='font-size:11.0pt;line-height:142%;font-family:
"Courier New"'>ht tps</span> module. While <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>GET</span> requests can be made
with a <span style='font-size:11.0pt;line-height:142%;font-family:"Courier New"'>get()</span>
function, all other HTTP methods are done via the <span style='font-size:11.0pt;
line-height:142%;font-family:"Courier New"'>request()</span> method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.7pt;margin-bottom:.25pt;
margin-left:.25pt'>The code you wrote was written for a publicly available,
test API. However, the way you write requests will work for all types of APIs.
If you would like to learn more about APIs, check out our <a
href="https://www.digitalocean.com/community/tags/api"><span style='color:#3445FF'>API
to</span></a><a href="https://www.digitalocean.com/community/tags/api"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/api"><span style='color:#3445FF'>ic
</span></a><a href="https://www.digitalocean.com/community/tags/api"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tags/api"><span style='color:#3445FF'>a</span></a><a
href="https://www.digitalocean.com/community/tags/api"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tags/api"><span style='color:#3445FF'>e</span></a>.
For <a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>more on developing in Node.js, return
to the </span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>How To Code in Node</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF;text-decoration:none'>.j</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:#3445FF'>s series</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-node-js"><span
style='color:black;text-decoration:none'>.</span></a></p>

</div>

</body>

</html>
