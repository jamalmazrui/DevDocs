<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Beautiful Soup Documentation</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:7.15pt;
	margin-left:.5pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:1.35pt;
	margin-left:.5pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.45pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:1.35pt;
	margin-left:.5pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:1.35pt;
	margin-left:.5pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:normal;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.45pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.55pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:14.2pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:bold;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:8.0pt;
	margin-left:.75pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:8.0pt;
	margin-left:.75pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 54.25pt 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:8.5in 11.0in;
	margin:73.35pt 1.0in 39.95pt 1.0in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:8.5in 11.0in;
	margin:73.35pt 1.0in 39.95pt 1.0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 40.6pt 1.0in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:8.5in 11.0in;
	margin:81.4pt 1.0in 39.95pt 1.0in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:8.5in 11.0in;
	margin:75.2pt 1.0in 39.95pt 1.0in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:8.5in 11.0in;
	margin:36.3pt 1.0in 39.95pt 1.0in;}
div.WordSection14
	{page:WordSection14;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:30.4pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 76426"
src="Beautiful%20Soup%20Documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:105.8pt;text-align:left;text-indent:0in;
line-height:107%'><b><span style='font-size:25.0pt;line-height:107%'>Beautiful
Soup Documentation</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:133.3pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><i><span style='font-size:17.0pt;line-height:107%'>Release
4.4.0</span></i></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:255.5pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><span style='font-size:17.0pt;line-height:107%'>Leonard
Richardson</span></b></p>

<p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
0in;line-height:107%'><b><span style='font-size:12.0pt;line-height:107%'>Dec
24, 2019</span></b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=624
 style='width:6.5in;border-collapse:collapse'>
 <tr style='height:40.85pt'>
  <td width=20 valign=top style='width:14.95pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:1.5pt 0in 1.5pt 0in;height:40.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=604 colspan=2 style='width:453.05pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:1.5pt 0in 1.5pt 0in;height:40.85pt'>
  <p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
  0in;line-height:107%'><span style='font-size:14.5pt;line-height:107%'>Contents</span></p>
  </td>
 </tr>
 <tr style='height:110.45pt'>
  <td width=20 valign=bottom style='width:14.95pt;border:none;padding:1.5pt 0in 1.5pt 0in;
  height:110.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>1</span></p>
  </td>
  <td width=604 colspan=2 valign=bottom style='width:453.05pt;border:none;
  padding:1.5pt 0in 1.5pt 0in;height:110.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Getting help                                                                                                                                                                                 </span>3</p>
  </td>
 </tr>
 <tr style='height:21.9pt'>
  <td width=20 style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>2</span></p>
  </td>
  <td width=591 style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Quick Start</span></p>
  </td>
  <td width=13 style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.0pt;text-align:left;text-indent:0in;
  line-height:107%'>5</p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>3</span></p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Installing Beautiful Soup</span></p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.0pt;text-align:left;text-indent:0in;
  line-height:107%'>9</p>
  </td>
 </tr>
 <tr style='height:12.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>3.1                              Problems
  after installation </span>. . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.0pt;text-align:left;text-indent:0in;
  line-height:107%'>9</p>
  </td>
 </tr>
 <tr style='height:16.9pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>3.2      Installing a
  parser                               </span>. . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>10</p>
  </td>
 </tr>
 <tr style='height:21.9pt'>
  <td width=20 style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>4</span></p>
  </td>
  <td width=591 style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Making the soup</span></p>
  </td>
  <td width=13 style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;height:21.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>13</p>
  </td>
 </tr>
 <tr style='height:17.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>5</span></p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Kinds of objects</span></p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:17.0pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>15</p>
  </td>
 </tr>
 <tr style='height:12.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>5.1 Tag </span>. . . . . .
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>15</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>5.2 NavigableString </span>.
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>17</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>5.3 BeautifulSoup </span>.
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>18</p>
  </td>
 </tr>
 <tr style='height:16.9pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>5.4                           Comments
  and other special strings </span>. . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>18</p>
  </td>
 </tr>
 <tr style='height:16.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>6</span></p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Navigating the tree</span></p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>21</p>
  </td>
 </tr>
 <tr style='height:12.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>6.1      Going down                                </span>.
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>21</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>6.2                                    Going
  up </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>24</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>6.3                                  Going
  sideways </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>25</p>
  </td>
 </tr>
 <tr style='height:16.9pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>6.4                                Going
  back and forth </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>27</p>
  </td>
 </tr>
 <tr style='height:16.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7</span></p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Searching the tree</span></p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>29</p>
  </td>
 </tr>
 <tr style='height:12.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.1                                   Kinds
  of filters </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>29</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.2 find_all() </span>. . .
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>32</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.3                                Calling
  a tag is like calling find_all() </span>. . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>36</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.4 find() </span>. . . . .
  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>36</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.5 find_parents() and find_parent()
  </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>37</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.6 find_next_siblings() and
  find_next_sibling() </span>. . . . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>37</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.7 find_previous_siblings()
  and find_previous_sibling() </span>. . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>38</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.8 find_all_next() and find_next()
  </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>38</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.9 find_all_previous() and
  find_previous() </span>. . . . . . . . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:11.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>39</p>
  </td>
 </tr>
 <tr style='height:16.9pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>7.10                                CSS
  selectors </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.9pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>39</p>
  </td>
 </tr>
 <tr style='height:16.95pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>8</span></p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>Modifying the tree</span></p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:16.95pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>43</p>
  </td>
 </tr>
 <tr style='height:12.0pt'>
  <td width=20 valign=top style='width:14.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=591 valign=top style='width:443.1pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='color:#355F7C'>8.1                           Changing
  tag names and attributes </span>. . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . . . . . . . .</p>
  </td>
  <td width=13 valign=top style='width:9.95pt;padding:1.5pt 0in 1.5pt 0in;
  height:12.0pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>43</p>
  </td>
 </tr>
 <tr style='height:37.4pt'>
  <td width=624 colspan=3 valign=top style='width:6.5in;border:none;border-bottom:
  solid black 1.0pt;padding:1.5pt 0in 1.5pt 0in;height:37.4pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>       </span><span
  style='color:#355F7C'>8.2                                    Modifying .string
  </span>. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  . . . . . . .                                    43</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:465.75pt;text-align:left;line-height:107%'><b>i</b></p>

<p class=MsoToc2><a href="#_Toc110080"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.3 append()</span><span
style='color:black;text-decoration:none'>...................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc110081"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.4 extend()</span><span
style='color:black;text-decoration:none'>....................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc110082"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.5 NavigableString() and
.new_tag()</span><span style='color:black;text-decoration:none'>...................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc110083"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.6 insert()</span><span
style='color:black;text-decoration:none'>......................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc2><a href="#_Toc110084"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.7 insert_before() and
insert_after()</span><span style='color:black;text-decoration:none'>...................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc2><a href="#_Toc110085"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.8 clear()</span><span
style='color:black;text-decoration:none'>.......................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc2><a href="#_Toc110086"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.9 extract()</span><span
style='color:black;text-decoration:none'>....................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc2><a href="#_Toc110087"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.10 decompose()</span><span
style='color:black;text-decoration:none'>............................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc2><a href="#_Toc110088"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.11 replace_with()</span><span
style='color:black;text-decoration:none'>............................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc2><a href="#_Toc110089"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.12 wrap()</span><span
style='color:black;text-decoration:none'>........................................................................................................................................ </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc2><a href="#_Toc110090"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.13 unwrap()</span><span
style='color:black;text-decoration:none'>..................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc2><a href="#_Toc110091"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>8.14 smooth()</span><span
style='color:black;text-decoration:none'>..................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc1><a href="#_Toc110092"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>9 Output</span><span
style='color:black;text-decoration:none'>............................................................................................................................................ </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>49</span></a></p>

<p class=MsoToc2><a href="#_Toc110093"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>9.1 Pretty-printing</span><span
style='color:black;text-decoration:none'>............................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>49</span></a></p>

<p class=MsoToc2><a href="#_Toc110094"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>9.2 Non-pretty printing</span><span
style='color:black;text-decoration:none'>......................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc2><a href="#_Toc110095"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>9.3 Output formatters</span><span
style='color:black;text-decoration:none'>.......................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc2><a href="#_Toc110096"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>9.4 get_text()</span><span
style='color:black;text-decoration:none'>..................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>52</span></a></p>

<p class=MsoToc1><a href="#_Toc110097"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>10 Specifying the parser
to use</span><span style='color:black;text-decoration:none'>.............................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>55</span></a></p>

<p class=MsoToc2><a href="#_Toc110098"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>10.1 Differences between
parsers</span><span style='color:black;text-decoration:none'>.......................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>55</span></a></p>

<p class=MsoToc1><a href="#_Toc110099"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>11 Encodings</span><span
style='color:black;text-decoration:none'>...................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>57</span></a></p>

<p class=MsoToc2><a href="#_Toc110100"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>11.1 Output encoding</span><span
style='color:black;text-decoration:none'>.......................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>58</span></a></p>

<p class=MsoToc2><a href="#_Toc110101"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>11.2 Unicode, Dammit</span><span
style='color:black;text-decoration:none'>......................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>59</span></a></p>

<p class=MsoToc1><a href="#_Toc110102"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>12 Line numbers</span><span
style='color:black;text-decoration:none'>................................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>63</span></a></p>

<p class=MsoToc1><a href="#_Toc110103"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>13 Comparing objects for
equality</span><span style='color:black;text-decoration:none'>.......................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>65</span></a></p>

<p class=MsoToc1><a href="#_Toc110104"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>14 Copying Beautiful Soup
objects</span><span style='color:black;text-decoration:none'>.......................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>67</span></a></p>

<p class=MsoToc1><a href="#_Toc110105"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>15 Parsing only part of a
document</span><span style='color:black;text-decoration:none'>........................................................................................................ </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>69</span></a></p>

<p class=MsoToc2><a href="#_Toc110106"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>15.1 SoupStrainer</span><span
style='color:black;text-decoration:none'>................................................................................................................................ </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>69</span></a></p>

<p class=MsoToc1><a href="#_Toc110107"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16 Troubleshooting</span><span
style='color:black;text-decoration:none'>.............................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>71</span></a></p>

<p class=MsoToc2><a href="#_Toc110108"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.1 diagnose()</span><span
style='color:black;text-decoration:none'>................................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>71</span></a></p>

<p class=MsoToc2><a href="#_Toc110109"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.2 Errors when parsing a
document</span><span style='color:black;text-decoration:none'>..................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>71</span></a></p>

<p class=MsoToc2><a href="#_Toc110110"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.3 Version mismatch
problems</span><span style='color:black;text-decoration:none'>........................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>72</span></a></p>

<p class=MsoToc2><a href="#_Toc110111"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.4 Parsing XML</span><span
style='color:black;text-decoration:none'>................................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>72</span></a></p>

<p class=MsoToc2><a href="#_Toc110112"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.5 Other parser problems</span><span
style='color:black;text-decoration:none'>.................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>72</span></a></p>

<p class=MsoToc2><a href="#_Toc110113"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.6 Miscellaneous</span><span
style='color:black;text-decoration:none'>.............................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>73</span></a></p>

<p class=MsoToc2><a href="#_Toc110114"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>16.7 Improving Performance</span><span
style='color:black;text-decoration:none'>................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>73</span></a></p>

<p class=MsoToc1><a href="#_Toc110115"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>17 Translating this
documentation</span><span style='color:black;text-decoration:none'>.......................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>75</span></a></p>

<p class=MsoToc1><a href="#_Toc110116"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>18 Beautiful Soup 3</span><span
style='color:black;text-decoration:none'>............................................................................................................................. </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>77</span></a></p>

<p class=MsoToc2><a href="#_Toc110117"><span style='font-size:10.0pt;
line-height:107%;color:#355F7C;text-decoration:none'>18.1 Porting code to BS4</span><span
style='color:black;text-decoration:none'>....................................................................................................................... </span><span style='font-size:10.0pt;line-height:107%;color:black;text-decoration:none'>77</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>ii</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 69688"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:259.0pt;text-align:left;text-indent:0in;
line-height:107%'><img width=279 height=333 id="Picture 412"
src="Beautiful%20Soup%20Documentation_files/image003.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'><a href="http://www.crummy.com/software/BeautifulSoup/"><span
style='color:#377063;text-decoration:none'>Beautiful Soup</span></a><span
style='color:#377063'> </span>is a Python library for pulling data out of HTML
and XML files. It works with your favorite parser to provide idiomatic ways of
navigating, searching, and modifying the parse tree. It commonly saves
programmers hours or days of work.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>These instructions illustrate all major features of
Beautiful Soup 4, with examples. I show you what the library is good for, how
it works, how to use it, how to make it do what you want, and what to do when
it violates your expectations.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This document covers Beautiful
Soup version 4.8.1. The examples in this documentation should work the same way
in Python 2.7 and Python 3.2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.65pt;
margin-left:-.25pt'>You might be looking for the documentation for <a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>Beautiful Soup</span></a><span
style='color:#377063'> </span><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>3</span></a><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:black;text-decoration:none'>.</span></a> If so, you should know
that Beautiful Soup 3 is no longer being developed and that support for it will
be dropped on or after December 31, 2020. If you want to learn about the
differences between Beautiful Soup 3 and Beautiful Soup 4, see <i><span
style='color:#355F7C'>Porting code to BS4</span></i>.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This documentation has been
translated into other languages by Beautiful Soup users:</p>

<p class=MsoNormal style='margin-left:34.9pt;text-indent:-18.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><a
href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/"><span
style='color:#377063;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-left:34.9pt;text-indent:-18.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><a href="http://kondou.com/BS4/"><span style='color:black;
text-decoration:none'>()</span></a></p>

<p class=MsoNormal style='margin-left:34.9pt;text-indent:-18.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><a
href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ko/"><span
style='color:#377063;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:181.65pt;
margin-left:34.9pt;text-indent:-18.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><a
href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.ptbr/"><span
style='color:#377063;text-decoration:none'>Este documento também está
disponível em Português do Brasil.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>Contents</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:425.35pt;text-align:left;line-height:107%'><b>Contents</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>1</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 75435"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Getting help</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 75438"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
0in;line-height:112%'>If you have questions about Beautiful Soup, or run into
problems, <a
href="https://groups.google.com/forum/?fromgroups#!forum/beautifulsoup"><span
style='color:#377063;text-decoration:none'>send mail to the discussion group</span></a><a
href="https://groups.google.com/forum/?fromgroups#!forum/beautifulsoup"><span
style='color:black;text-decoration:none'>.</span></a> If your problem involves
parsing an HTML document, be sure to mention <i><span style='color:#355F7C'>what
the diagnose() function says </span></i>about that document.<br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:355.45pt;text-align:left;line-height:107%'><b>Chapter
1. Getting help</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>2</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 82186"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Quick Start</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 82187"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres an HTML document Ill be using as an example
throughout this document. Its part of a story from <i>Alice in Wonderland</i>:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:159.8pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:159.8pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>html_doc
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's
  story&lt;/title&gt;&lt;/head&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;p
  class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;Once upon a time there were
  three little sisters; and their names</span><span style='font-size:11.0pt;
  line-height:107%'><img border=0 width=6 height=3 id="Group 78750"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>were</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and &lt;a
  href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;; and they lived at the bottom of a
  well.&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;&quot;&quot;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Running the three sisters document through Beautiful Soup
gives us a BeautifulSoup object, which represents the document as a nested data
structure:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.95pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>import </span></b><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup soup </span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup(html_doc, </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>'html.parser'</span><span style='font-size:
9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>prettify())
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;head&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;title&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                 The Dormouse's story</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#           &lt;/title&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/head&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#               &lt;p
class=&quot;title&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;b&gt;</span></i></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.8pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                   The Dormouse's story</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;/b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#         &lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#              &lt;p
class=&quot;story&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                                     Once upon
a time there were three little sisters; and their names were</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                                  &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#               Elsie</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;/a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           ,</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                                  &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#               Lacie</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;/a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           and</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                                   &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot;
id=&quot;link2&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                Tillie</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;/a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                           ; and they lived at
the bottom of a well.</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#         &lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#              &lt;p
class=&quot;story&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#             ...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#         &lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/body&gt; # &lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Here are some simple ways to navigate that data structure:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:313.25pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:313.25pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>title</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;title&gt;The Dormouse's story&lt;/title&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:379.35pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><span style='font-size:9.0pt'>soup</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>title</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>name
  </span><i><span style='font-size:9.0pt;color:#407F8F'># u'title'</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:330.95pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><span style='font-size:9.0pt'>soup</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>title</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>string
  </span><i><span style='font-size:9.0pt;color:#407F8F'># u'The Dormouse's
  story'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>title</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>parent</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>name</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'head'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's
  story&lt;/b&gt;&lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:379.35pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><span style='font-size:9.0pt'>soup</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>p[</span><span
  style='font-size:9.0pt;color:#4070A1'>'class'</span><span style='font-size:
  9.0pt'>] </span><i><span style='font-size:9.0pt;color:#407F8F'># u'title'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'a'</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;a
  class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find(</span><span style='font-size:
  9.0pt;line-height:107%;color:#007021'>id</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>=</span><span style='font-size:9.0pt;
  line-height:107%;color:#4070A1'>&quot;link3&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:35.85pt;
margin-left:-.25pt'>One common task is extracting all the URLs found within a
pages &lt;a&gt; tags:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
2. Quick Start</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:34.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 74730"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:21.5pt;text-align:left;text-indent:-21.5pt;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>for </span></b><span style='font-size:9.0pt;
line-height:104%'>link </span><b><span style='font-size:9.0pt;line-height:104%;
color:#007021'>in </span></b><span style='font-size:9.0pt;line-height:104%'>soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a'</span><span
style='font-size:9.0pt;line-height:104%'>): </span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(link</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>get(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'href'</span><span
style='font-size:9.0pt;line-height:104%'>))</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># http://example.com/elsie</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># http://example.com/lacie</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># http://example.com/tillie</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Another common task is extracting all the text from a page:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:137.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:137.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:341.7pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><span style='font-size:9.0pt;color:#007021'>print</span><span
  style='font-size:9.0pt'>(soup</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>get_text()) </span><i><span style='font-size:9.0pt;
  color:#407F8F'># The Dormouse's story</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># The Dormouse's story</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Once upon a time there were three little sisters; and their
  names were</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Elsie,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Lacie and</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Tillie;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># and they lived at the bottom of a well.</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># ...</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Does this look like what you
need? If so, read on.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:360.45pt;text-align:left;line-height:107%'><b>Chapter
2. Quick Start</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>3</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 79315"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Installing Beautiful Soup</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 79316"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-left:-.25pt'>If youre using a recent version
of Debian or Ubuntu Linux, you can install Beautiful Soup with the system
package manager:</p>

<p class=MsoNormal align=left style='margin-bottom:7.25pt;text-align:left;
line-height:110%'>$ apt-get install python-bs4 (for Python 2)</p>

<p class=MsoNormal align=left style='margin-bottom:5.35pt;text-align:left;
line-height:110%'>$ apt-get install python3-bs4 (for Python 3)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.65pt;
margin-left:-.25pt'>Beautiful Soup 4 is published through PyPi, so if you cant
install it with the system packager, you can install it with easy_install or pip.
The package name is beautifulsoup4, and the same package works on Python 2 and
Python 3. Make sure you use the right version of pip or easy_install for your
Python version (these may be named pip3 and easy_install3 respectively if
youre using Python 3).</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ easy_install beautifulsoup4</p>

<p class=MsoNormal align=left style='margin-bottom:6.0pt;text-align:left;
line-height:110%'>$ pip install beautifulsoup4</p>

<p class=MsoNormal style='margin-left:-.25pt'>(The BeautifulSoup package is
probably <i>not </i>what you want. Thats the previous major release, <a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>Beautiful </span></a><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>Soup</span></a><span
style='color:#377063'> </span><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>3</span></a><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:black;text-decoration:none'>.</span></a> Lots of software uses
BS3, so its still available, but if youre writing new code you should install
beautifulsoup4.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.8pt;
margin-left:-.25pt'>If you dont have easy_install or pip installed, you can <a
href="http://www.crummy.com/software/BeautifulSoup/download/4.x/"><span
style='color:#377063;text-decoration:none'>download the Beautiful Soup 4 source
tarball</span></a><span style='color:#377063'> </span>and install it with setup.py.</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ python setup.py install</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.35pt;
margin-left:-.25pt'>If all else fails, the license for Beautiful Soup allows
you to package the entire library with your application. You can download the
tarball, copy its bs4 directory into your applications codebase, and use
Beautiful Soup without installing it at all.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:26.9pt;
margin-left:-.25pt'>I use Python 2.7 and Python 3.2 to develop Beautiful Soup,
but it should work with other recent versions.</p>

<h5 style='margin-left:-.25pt'>3.1 Problems after installation</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Beautiful Soup is packaged as
Python 2 code. When you install it for use with Python 3, its automatically
converted to Python 3 code. If you dont install the package, the code wont be
converted. There have also been reports on Windows machines of the wrong
version being installed.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If you get the ImportError No
module named HTMLParser, your problem is that youre running the Python 2
version of the code under Python 3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>If you get the ImportError No module named html.parser,
your problem is that youre running the Python 3 version of the code under
Python 2.</p>

<p class=MsoNormal style='margin-left:-.25pt'>In both cases, your best bet is
to completely remove the Beautiful Soup installation from your system
(including any directory created when you unzipped the tarball) and try the
installation again.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.4pt;
margin-left:-.25pt'>If you get the SyntaxError Invalid syntax on the line ROOT_TAG_NAME
= u'[document]', you need to convert the Python 2 code to Python 3. You can do
this either by installing the package:</p>

<p class=MsoNormal align=left style='margin-bottom:6.0pt;text-align:left;
line-height:110%'>$ python3 setup.py install</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.65pt;
margin-left:-.25pt'>or by manually running Pythons 2to3 conversion script on
the bs4 directory:</p>

<p class=MsoNormal align=left style='margin-bottom:26.9pt;text-align:left;
line-height:110%'>$ 2to3-3.2 -w bs4</p>

<h5 style='margin-left:-.25pt'>3.2 Installing a parser</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.35pt;
margin-left:-.25pt'>Beautiful Soup supports the HTML parser included in
Pythons standard library, but it also supports a number of third-party Python
parsers. One is the <a href="http://lxml.de/"><span style='color:#377063;
text-decoration:none'>lxml parser</span></a><a href="http://lxml.de/"><span
style='color:black;text-decoration:none'>.</span></a> Depending on your setup,
you might install lxml with one of these commands:</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ apt-get install python-lxml</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ easy_install lxml</p>

<p class=MsoNormal align=left style='margin-bottom:5.9pt;text-align:left;
line-height:110%'>$ pip install lxml</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>Another alternative is the pure-Python <a
href="http://code.google.com/p/html5lib/"><span style='color:#377063;
text-decoration:none'>html5lib parser</span></a><a
href="http://code.google.com/p/html5lib/"><span style='color:black;text-decoration:
none'>,</span></a> which parses HTML the way a web browser does. Depending on
your setup, you might install html5lib with one of these commands:</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ apt-get install python-html5lib</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ easy_install html5lib</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ pip install html5lib</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:252.65pt;
margin-left:-.25pt'>This table summarizes the advantages and disadvantages of
each parser library:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
3. Installing Beautiful Soup</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:34.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 83384"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=623
 style='width:467.6pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:12.35pt'>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:12.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Parser</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 3.15pt 0in 0in;height:12.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Typical usage</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 3.15pt 0in 0in;height:12.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Advantages</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 3.15pt 0in 0in;height:12.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Disadvantages</p>
  </td>
 </tr>
 <tr style='height:9.65pt'>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>Pythons html.parser</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>BeautifulSoup(mark</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-3.15pt;text-align:left;text-indent:0in;
  line-height:107%'>up,</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:69.25pt'>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-top:none;padding:0in 3.15pt 0in 0in;height:69.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:69.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;html.parser&quot;)</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:69.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Batteries included</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Decent speed</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Lenient      (As  of</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'>              </span>Python    2.7.3     and</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.1pt;text-align:left;text-indent:0in;
  line-height:107%'>3.2.)</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:69.25pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:3.05pt;margin-bottom:
  0in;margin-left:31.05pt;text-indent:-8.45pt;line-height:107%'> Not as fast
  as lxml, less lenient than html5lib.</p>
  </td>
 </tr>
 <tr style='height:9.65pt'>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>lxmls HTML parser</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>BeautifulSoup(mark</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-3.15pt;text-align:left;text-indent:0in;
  line-height:107%'>up,</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:33.35pt'>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-top:none;padding:0in 3.15pt 0in 0in;height:33.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:33.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;lxml&quot;)</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:33.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Very fast</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Lenient</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:33.35pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'> External C dependency</p>
  </td>
 </tr>
 <tr style='height:9.65pt'>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>lxmls XML parser</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>BeautifulSoup(mark</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-3.15pt;text-align:left;text-indent:0in;
  line-height:107%'>up,</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:57.3pt'>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-top:none;padding:0in 3.15pt 0in 0in;height:57.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:57.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;lxml-xml&quot;)</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>BeautifulSoup(mark</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;xml&quot;)</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:57.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:1.5pt;
  margin-bottom:.45pt;margin-left:9.75pt;text-align:left;text-indent:25.75pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span>Very fast</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:1.5pt;
  margin-bottom:1.3pt;margin-left:9.75pt;text-align:left;text-indent:25.75pt;
  line-height:90%'><span style='line-height:90%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span>The only currently up, supported            XML</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.1pt;text-align:left;text-indent:0in;
  line-height:107%'>parser</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:57.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'> External C dependency</p>
  </td>
 </tr>
 <tr style='height:9.65pt'>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>html5lib</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>BeautifulSoup(mark</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:-3.15pt;text-align:left;text-indent:0in;
  line-height:107%'>up,</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border:none;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:9.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:81.2pt'>
  <td width=156 valign=top style='width:116.9pt;border:solid black 1.0pt;
  border-top:none;padding:0in 3.15pt 0in 0in;height:81.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:8.0pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>&nbsp;</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:81.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:6.2pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;html5lib&quot;)</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:81.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Extremely lenient</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:100%'><span style='line-height:100%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Parses pages the same way a web</p>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:1.0pt;text-align:center;text-indent:0in;
  line-height:107%'>browser does</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Creates      valid HTML5</p>
  </td>
  <td width=156 valign=top style='width:116.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 3.15pt 0in 0in;height:81.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.45pt;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>Very slow</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:31.05pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span>External Python dependency</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:6.7pt;margin-left:-.25pt;text-align:left'>If you can, I recommend
you install and use lxml for speed. If youre using a version of Python 2
earlier than 2.7.3, or a version of Python 3 earlier than 3.2.2, its <i>essential
</i>that you install lxml or html5libPythons built-in HTML parser is just not
very good in older versions.</p>

<p class=MsoNormal style='margin-left:-.25pt;line-height:1283%'>Note that if a
document is invalid, different parsers will generate different Beautiful Soup
trees for it. See <i><span style='color:#355F7C'>Differences between parsers </span></i>for
details. <b>3.2. Installing a parser</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:296.8pt;text-align:left;line-height:107%'><b>Chapter
3. Installing Beautiful Soup</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>4</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 76192"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Making the soup</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 76194"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>To parse a document, pass it into the BeautifulSoup constructor.
You can pass in a string or an open filehandle:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>from </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>import </span></b><span style='font-size:
  9.0pt;line-height:107%'>BeautifulSoup</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>with </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>open</span><span style='font-size:9.0pt;line-height:107%'>(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;index.html&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><b><span style='font-size:
  9.0pt;line-height:107%;color:#007021'>as </span></b><span style='font-size:
  9.0pt;line-height:107%'>fp:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(fp)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&lt;html&gt;data&lt;/html&gt;&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>First, the document is converted
to Unicode, and HTML entities are converted to Unicode characters:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup(&quot;Sacr&amp;eacute; bleu!&quot;)</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Sacré
bleu!&lt;/body&gt;&lt;/html&gt;</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Beautiful Soup then parses the
document using the best available parser. It will use an HTML parser unless you
specifically tell it to use an XML parser. (See <i><span style='color:#355F7C'>Parsing
XML</span></i>.)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:335.0pt;text-align:left;line-height:107%'><b>Chapter
4. Making the soup</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>5</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 72163"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Kinds of objects</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 72166"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:29.0pt;
margin-left:-.25pt'>Beautiful Soup transforms a complex HTML document into a
complex tree of Python objects. But youll only ever have to deal with about
four <i>kinds </i>of objects: Tag, NavigableString, BeautifulSoup, and Comment.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.55pt;margin-left:
-.25pt'>5.1 Tag</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:-.25pt'>A Tag object corresponds to an XML or HTML tag in the
original document:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:139.85pt'>

<p class=MsoNormal align=left style='margin-bottom:14.15pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>soup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'&lt;b
class=&quot;boldest&quot;&gt;Extremely bold&lt;/b&gt;'</span><span
style='font-size:9.0pt;line-height:108%'>) tag </span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:108%'>soup</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:108%'>b </span><span
style='font-size:9.0pt;line-height:108%;color:#007021'>type</span><span
style='font-size:9.0pt;line-height:108%'>(tag) </span><i><span
style='font-size:9.0pt;line-height:108%;color:#407F8F'># &lt;class
'bs4.element.Tag'&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.5pt;
margin-left:-.25pt'>Tags have a lot of attributes and methods, and Ill cover
most of them in <i><span style='color:#355F7C'>Navigating the tree </span></i>and
<i><span style='color:#355F7C'>Searching the tree</span></i>. For now, the most
important features of a tag are its name and attributes.</p>

<h6 style='margin-left:-.25pt'>5.1.1 Name</h6>

<p class=MsoNormal style='margin-left:-.25pt'>Every tag has a name, accessible
as .name:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:419.6pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>name </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'b'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you change a tags name, the change will be reflected in
any HTML markup generated by Beautiful Soup:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:39.25pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:39.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:325.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>name </span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:107%;color:#4070A1'>&quot;blockquote&quot; </span><span
  style='font-size:9.0pt;line-height:107%'>tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;blockquote class=&quot;boldest&quot;&gt;Extremely
  bold&lt;/blockquote&gt;</span></i></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<h6 style='margin-left:-.25pt'>5.1.2 Attributes</h6>

<p class=MsoNormal style='margin-left:-.25pt'>A tag may have any number of
attributes. The tag &lt;b id=&quot;boldest&quot;&gt; has an attribute id
whose value is boldest. You can access a tags attributes by treating the tag
like a dictionary:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:403.45pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>tag[</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>'id'</span><span style='font-size:9.0pt;line-height:104%'>] </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'boldest'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>You can access that dictionary
directly as .attrs:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:360.4pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>attrs </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># {u'id': 'boldest'}</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can add, remove, and modify a tags attributes. Again,
this is done by treating the tag as a dictionary:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:159.8pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:159.8pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:298.65pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  115%'><span style='font-size:9.0pt;line-height:115%'>tag[</span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>'id'</span><span
  style='font-size:9.0pt;line-height:115%'>] </span><span style='font-size:
  9.0pt;line-height:115%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:115%;color:#4070A1'>'verybold' </span><span style='font-size:
  9.0pt;line-height:115%'>tag[</span><span style='font-size:9.0pt;line-height:
  115%;color:#4070A1'>'another-attribute'</span><span style='font-size:9.0pt;
  line-height:115%'>] </span><span style='font-size:9.0pt;line-height:115%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:115%;
  color:#217F4F'>1 </span><span style='font-size:9.0pt;line-height:115%'>tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;b another-attribute=&quot;1&quot;
  id=&quot;verybold&quot;&gt;&lt;/b&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:314.8pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  116%'><b><span style='font-size:9.0pt;line-height:116%;color:#007021'>del </span></b><span
  style='font-size:9.0pt;line-height:116%'>tag[</span><span style='font-size:
  9.0pt;line-height:116%;color:#4070A1'>'id'</span><span style='font-size:9.0pt;
  line-height:116%'>] </span><b><span style='font-size:9.0pt;line-height:116%;
  color:#007021'>del </span></b><span style='font-size:9.0pt;line-height:116%'>tag[</span><span
  style='font-size:9.0pt;line-height:116%;color:#4070A1'>'another-attribute'</span><span
  style='font-size:9.0pt;line-height:116%'>] tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;b&gt;&lt;/b&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:357.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><span style='font-size:9.0pt'>tag[</span><span style='font-size:9.0pt;
  color:#4070A1'>'id'</span><span style='font-size:9.0pt'>] </span><i><span
  style='font-size:9.0pt;color:#407F8F'># KeyError: 'id' </span></i><span
  style='font-size:9.0pt;color:#007021'>print</span><span style='font-size:
  9.0pt'>(tag</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>get(</span><span style='font-size:9.0pt;color:#4070A1'>'id'</span><span
  style='font-size:9.0pt'>))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># None</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoHeading7 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;
margin-left:0in;text-indent:0in'><span style='color:#20435C'>Multi-valued
attributes</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.35pt;
margin-left:-.25pt'>HTML 4 defines a few attributes that can have multiple
values. HTML 5 removes a couple of them, but defines a few more. The most
common multi-valued attribute is class (that is, a tag can have more than one
CSS class). Others include rel, rev, accept-charset, headers, and accesskey.
Beautiful Soup presents the value(s) of a multi-valued attribute as a list:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:182.85pt'>

<p class=MsoNormal align=left style='margin-bottom:12.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>css_soup </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'&lt;p
class=&quot;body&quot;&gt;&lt;/p&gt;'</span><span style='font-size:9.0pt;
line-height:104%'>) css_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p[</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'class'</span><span
style='font-size:9.0pt;line-height:104%'>] </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&quot;body&quot;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>css_soup </span><span style='font-size:9.0pt;line-height:
108%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'&lt;p class=&quot;body
strikeout&quot;&gt;&lt;/p&gt;'</span><span style='font-size:9.0pt;line-height:
108%'>) css_soup</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:108%'>p[</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'class'</span><span
style='font-size:9.0pt;line-height:108%'>] </span><i><span style='font-size:
9.0pt;line-height:108%;color:#407F8F'># [&quot;body&quot;,
&quot;strikeout&quot;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.55pt;
margin-left:-.25pt'>If an attribute <i>looks </i>like it has more than one
value, but its not a multi-valued attribute as defined by any version of the
HTML standard, Beautiful Soup will leave the attribute alone:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:225.9pt'>

<p class=MsoNormal align=left style='margin-bottom:13.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>id_soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'&lt;p id=&quot;my
id&quot;&gt;&lt;/p&gt;'</span><span style='font-size:9.0pt;line-height:104%'>)
id_soup</span><span style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>p[</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>'id'</span><span style='font-size:9.0pt;
line-height:104%'>] </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'># 'my id'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.4pt;
margin-left:-.25pt'>When you turn a tag back into a string, multiple attribute
values are consolidated:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:63.75pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>rel_soup </span><span style='font-size:9.0pt;line-height:
108%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'&lt;p&gt;Back to the
&lt;a rel=&quot;index&quot;&gt;homepage&lt;/a&gt;&lt;/p&gt;'</span><span
style='font-size:9.0pt;line-height:108%'>) rel_soup</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:108%'>a[</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>'rel'</span><span style='font-size:9.0pt;
line-height:108%'>]</span></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:24.5pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  112%'><i><span style='font-size:9.0pt;line-height:112%;color:#407F8F'>#
  ['index'] </span></i><span style='font-size:9.0pt;line-height:112%'>rel_soup</span><span
  style='font-size:9.0pt;line-height:112%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:112%'>a[</span><span style='font-size:
  9.0pt;line-height:112%;color:#4070A1'>'rel'</span><span style='font-size:
  9.0pt;line-height:112%'>] </span><span style='font-size:9.0pt;line-height:
  112%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:112%'>[</span><span
  style='font-size:9.0pt;line-height:112%;color:#4070A1'>'index'</span><span
  style='font-size:9.0pt;line-height:112%'>, </span><span style='font-size:
  9.0pt;line-height:112%;color:#4070A1'>'contents'</span><span
  style='font-size:9.0pt;line-height:112%'>] </span><span style='font-size:
  9.0pt;line-height:112%;color:#007021'>print</span><span style='font-size:
  9.0pt;line-height:112%'>(rel_soup</span><span style='font-size:9.0pt;
  line-height:112%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:112%'>p)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p&gt;Back to the &lt;a rel=&quot;index
  contents&quot;&gt;homepage&lt;/a&gt;&lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can disable this by passing multi_valued_attributes=None
as a keyword argument into the BeautifulSoup constructor:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>no_list_soup
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'&lt;p
  class=&quot;body strikeout&quot;&gt;&lt;/p&gt;'</span><span style='font-size:
  9.0pt;line-height:107%'>, </span><span style='font-size:9.0pt;line-height:
  107%;color:#4070A1'>'html'</span><span style='font-size:9.0pt;line-height:
  107%'>, multi_valued_</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:336.3pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:2.9pt;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><sub><span
  style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;
  color:red'>&#8594;</span></sub><span style='font-size:9.0pt;line-height:107%'>attributes</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><b><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>None</span></b><span
  style='font-size:9.0pt;line-height:107%'>) no_list_soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p[</span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>'class'</span><span style='font-size:
  9.0pt;line-height:107%'>] </span><i><span style='font-size:9.0pt;line-height:
  107%;color:#407F8F'># u'body strikeout'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can use `get_attribute_list to
get a value thats always a list, whether or not its a multi-valued atribute:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:279.7pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>id_soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>get_attribute_list(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'id'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&quot;my id&quot;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:-.25pt'>If you parse a document as XML, there are no multi-valued
attributes:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:118.3pt'>

<p class=MsoNormal align=left style='margin-bottom:.2in;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>xml_soup </span><span style='font-size:9.0pt;line-height:
108%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'&lt;p class=&quot;body
strikeout&quot;&gt;&lt;/p&gt;'</span><span style='font-size:9.0pt;line-height:
108%'>, </span><span style='font-size:9.0pt;line-height:108%;color:#4070A1'>'xml'</span><span
style='font-size:9.0pt;line-height:108%'>) xml_soup</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:108%'>p[</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>'class'</span><span style='font-size:9.0pt;
line-height:108%'>] </span><i><span style='font-size:9.0pt;line-height:108%;
color:#407F8F'># u'body strikeout'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Again, you can configure this using the multi_valued_attributes
argument:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:40.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  128%'><span style='font-size:9.0pt;line-height:128%'>class_is_multi</span><span
  style='font-size:9.0pt;line-height:128%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:128%'>{ </span><span style='font-size:
  9.0pt;line-height:128%;color:#4070A1'>'*' </span><span style='font-size:9.0pt;
  line-height:128%'>: </span><span style='font-size:9.0pt;line-height:128%;
  color:#4070A1'>'class'</span><span style='font-size:9.0pt;line-height:128%'>}
  xml_soup </span><span style='font-size:9.0pt;line-height:128%;color:#666666'>=
  </span><span style='font-size:9.0pt;line-height:128%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:128%;color:#4070A1'>'&lt;p
  class=&quot;body strikeout&quot;&gt;&lt;/p&gt;'</span><span style='font-size:
  9.0pt;line-height:128%'>, </span><span style='font-size:9.0pt;line-height:
  128%;color:#4070A1'>'xml'</span><span style='font-size:9.0pt;line-height:
  128%'>, multi_valued_</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:314.8pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:2.9pt;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><sub><span
  style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;
  color:red'>&#8594;</span></sub><span style='font-size:9.0pt;line-height:107%'>attributes</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>class_is_multi) xml_soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p[</span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>'class'</span><span style='font-size:
  9.0pt;line-height:107%'>] </span><i><span style='font-size:9.0pt;line-height:
  107%;color:#407F8F'># [u'body', u'strikeout']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>You probably wont need to do this, but if you do, use the
defaults as a guide. They implement the rules described in the HTML
specification:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4.builder </span></b><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>import </span></b><span
style='font-size:9.0pt;line-height:104%'>builder_registry</span></p>

<p class=MsoNormal align=left style='margin-bottom:36.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>builder_registry</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>lookup(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>'html'</span><span style='font-size:9.0pt;line-height:104%'>)</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>DEFAULT_CDATA_LIST_ATTRIBUTES</span></p>

</div>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>5.2 NavigableString</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>A string corresponds to a bit of text within a tag.
Beautiful Soup uses the NavigableString class to contain these bits of text:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>string</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:277.15pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># u'Extremely bold' </span></i><span
  style='font-size:9.0pt;color:#007021'>type</span><span style='font-size:9.0pt'>(tag</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>string)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;class 'bs4.element.NavigableString'&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:56.0pt;
margin-left:-.25pt'>A NavigableString is just like a Python Unicode string,
except that it also supports some of the features described in <i><span
style='color:#355F7C'>Navigating the tree </span></i>and <i><span
style='color:#355F7C'>Searching the tree</span></i>. You can convert a NavigableString
to a Unicode string with unicode():</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.2pt;margin-left:
-.25pt'><span style='font-size:10.0pt;line-height:107%;color:black'>5.2. NavigableString</span></h6>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:274.35pt'>

<p class=MsoNormal align=left style='margin-bottom:14.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>unicode_string </span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:104%'>unicode(tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string)
unicode_string </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'># u'Extremely bold' </span></i><span style='font-size:9.0pt;
line-height:104%;color:#007021'>type</span><span style='font-size:9.0pt;
line-height:104%'>(unicode_string) </span><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;type 'unicode'&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>You cant edit a string in place,
but you can replace one string with another, using <i><span style='color:#355F7C'>replace_with()</span></i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:247.45pt'>

<p class=MsoNormal align=left style='margin-bottom:14.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>replace_with(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;No longer
bold&quot;</span><span style='font-size:9.0pt;line-height:104%'>) tag </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;blockquote&gt;No
longer bold&lt;/blockquote&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>NavigableString supports most of
the features described in <i><span style='color:#355F7C'>Navigating the tree </span></i>and
<i><span style='color:#355F7C'>Searching the tree</span></i>, but not all of
them. In particular, since a string cant contain anything (the way a tag may
contain a string or another tag), strings dont support the .contents or .string
attributes, or the find() method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:29.0pt;
margin-left:-.25pt'>If you want to use a NavigableString outside of Beautiful
Soup, you should call unicode() on it to turn it into a normal Python Unicode
string. If you dont, your string will carry around a reference to the entire
Beautiful Soup parse tree, even when youre done using Beautiful Soup. This is
a big waste of memory.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>5.3 BeautifulSoup</h5>

<p class=MsoNormal style='margin-left:-.25pt'>The BeautifulSoup object
represents the parsed document as a whole. For most purposes, you can treat it
as a <i><span style='color:#355F7C'>Tag </span></i>object. This means it
supports most of the methods described in <i><span style='color:#355F7C'>Navigating
the tree </span></i>and <i><span style='color:#355F7C'>Searching the tree</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can also pass a BeautifulSoup object into one of the
methods defined in <i><span style='color:#355F7C'>Modifying the tree</span></i>,
just as you would a <i><span style='color:#355F7C'>Tag</span></i>. This lets
you do things like combine two parsed documents:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  115%'><span style='font-size:9.0pt;line-height:115%'>doc </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;&lt;document&gt;&lt;content/&gt;INSERT
  FOOTER HERE&lt;/document&quot;</span><span style='font-size:9.0pt;line-height:
  115%'>, </span><span style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;xml&quot;</span><span
  style='font-size:9.0pt;line-height:115%'>) footer </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;&lt;footer&gt;Here's
  the footer&lt;/footer&gt;&quot;</span><span style='font-size:9.0pt;
  line-height:115%'>, </span><span style='font-size:9.0pt;line-height:115%;
  color:#4070A1'>&quot;xml&quot;</span><span style='font-size:9.0pt;line-height:
  115%'>) doc</span><span style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>find(text</span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;INSERT FOOTER
  HERE&quot;</span><span style='font-size:9.0pt;line-height:115%'>)</span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>replace_with(footer)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:287.9pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># u'INSERT FOOTER
  HERE' </span></i><span style='font-size:9.0pt;color:#007021'>print</span><span
  style='font-size:9.0pt'>(doc)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;?xml version=&quot;1.0&quot;
  encoding=&quot;utf-8&quot;?&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;document&gt;&lt;content/&gt;&lt;footer&gt;Here's the
  footer&lt;/footer&gt;&lt;/document&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Since the BeautifulSoup object
doesnt correspond to an actual HTML or XML tag, it has no name and no
attributes. But sometimes its useful to look at its .name, so its been given
the special .name [document]:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:387.3pt'>

<p class=MsoNormal align=left style='margin-bottom:35.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>name </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'[document]'</span></i></p>

</div>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;margin-left:
-.25pt'>5.4 Comments and other special strings</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>Tag, NavigableString, and BeautifulSoup cover almost
everything youll see in an HTML or XML file, but there are a few leftover
bits. The only one youll probably ever need to worry about is the comment:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:99.1pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>markup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;&lt;b&gt;&lt;!--Hey, buddy. Want to buy a used
parser?--&gt;&lt;/b&gt;&quot; </span><span style='font-size:9.0pt;line-height:
104%'>soup </span><span style='font-size:9.0pt;line-height:104%;color:#666666'>=
</span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup)
comment </span><span style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>b</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string </span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>type</span><span
style='font-size:9.0pt;line-height:104%'>(comment)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;class 'bs4.element.Comment'&gt;</span></i></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:26.7pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal style='margin-left:-.25pt'>The Comment object is just a
special type of NavigableString:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:242.05pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>comment </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># u'Hey, buddy. Want to buy a used parser'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>But when it appears as part of an
HTML document, a Comment is displayed with special formatting:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>prettify()) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;!--Hey, buddy. Want to buy a used
parser?--&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/b&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.3pt;
margin-left:-.25pt'>Beautiful Soup defines classes for anything else that might
show up in an XML document: CData,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.85pt;
margin-left:-.25pt'>ProcessingInstruction, Declaration, and Doctype. Just like Comment,
these classes are subclasses of NavigableString that add something extra to the
string. Heres an example that replaces the comment with a CDATA block:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:187.9pt'>

<p class=MsoNormal align=left style='margin-bottom:10.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>import </span></b><span style='font-size:9.0pt;
line-height:104%'>CData cdata </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>CData(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;A CDATA
block&quot;</span><span style='font-size:9.0pt;line-height:104%'>) comment</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>replace_with(cdata)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>prettify()) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;![CDATA[A CDATA block]]&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:390.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/b&gt;</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>5.4.
Comments and other special strings</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>6</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 71517"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Navigating the tree</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 71521"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres the Three sisters HTML document again:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:192.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:192.7pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>html_doc
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's
  story&lt;/title&gt;&lt;/head&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;p
  class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;Once upon a time there were
  three little sisters; and their names</span><span style='font-size:11.0pt;
  line-height:107%'><img border=0 width=6 height=3 id="Group 69815"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>were</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and &lt;a
  href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;; and they lived at the bottom of a
  well.&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>from </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>import </span></b><span style='font-size:
  9.0pt;line-height:107%'>BeautifulSoup</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(html_doc, </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'html.parser'</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.6pt;
margin-left:-.25pt'>Ill use this as an example to show you how to move from
one part of a document to another.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'>6.1 Going down</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>Tags may contain strings and other tags. These elements are
the tags <i>children</i>. Beautiful Soup provides a lot of different
attributes for navigating and iterating over a tags children.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Note that Beautiful Soup strings
dont support any of these attributes, because a string cant have children.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>6.1.1 Navigating using tag names</h6>

<p class=MsoNormal style='margin-left:-.25pt'>The simplest way to navigate the
parse tree is to say the name of the tag you want. If you want the &lt;head&gt;
tag, just say soup.head:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:3.25in'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>head </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>title </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;title&gt;The
Dormouse's story&lt;/title&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>You can do use this trick again
and again to zoom in on a certain part of the parse tree. This code gets the
first &lt;b&gt; tag beneath the &lt;body&gt; tag:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:312.0pt'>

<p class=MsoNormal align=left style='margin-bottom:14.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>body</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>b </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;The Dormouse's story&lt;/b&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Using a tag name as an attribute
will give you only the <i>first </i>tag by that name:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:80.65pt'>

<p class=MsoNormal align=left style='margin-bottom:14.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>a </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If you need to get <i>all </i>the
&lt;a&gt; tags, or anything more complicated than the first tag with a certain
name, youll need to use one of the methods described in <i><span
style='color:#355F7C'>Searching the tree</span></i>, such as <i>find_all()</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:31.05pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.1.2 .contents and .children</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>A tags children are available in a list called .contents:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:137.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:137.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:314.8pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>head_tag </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>head head_tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;head&gt;&lt;title&gt;The Dormouse's
  story&lt;/title&gt;&lt;/head&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>head_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>contents</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>[</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;</span><span
  style='font-size:9.0pt;line-height:107%'>title</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
  line-height:107%'>The Dormouse</span><span style='font-size:9.0pt;line-height:
  107%;color:#4070A1'>'s story&lt;/title&gt;]</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>title_tag </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>head_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>contents[</span><span
  style='font-size:9.0pt;line-height:107%;color:#217F4F'>0</span><span
  style='font-size:9.0pt;line-height:107%'>] title_tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:169.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;title&gt;The
  Dormouse's story&lt;/title&gt; </span></i><span style='font-size:9.0pt'>title_tag</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'The Dormouse's story']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>The BeautifulSoup object itself
has children. In this case, the &lt;html&gt; tag is the child of the BeautifulSoup
object.:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:355.05pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>len</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>contents)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># 1 </span></i><span
style='font-size:9.0pt;line-height:104%'>soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>contents[</span><span style='font-size:9.0pt;line-height:
104%;color:#217F4F'>0</span><span style='font-size:9.0pt;line-height:104%'>]</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>name </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># u'html'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>A string does not have .contents,
because it cant contain anything:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:39.25pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:39.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>text </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>title_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>contents[</span><span
  style='font-size:9.0pt;line-height:107%;color:#217F4F'>0</span><span
  style='font-size:9.0pt;line-height:107%'>] text</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># AttributeError: 'NavigableString' object has no attribute
  'contents'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Instead of getting them as a list, you can iterate over a
tags children using the .children generator:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:39.25pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:39.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>child
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>title_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>children:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(child)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># The Dormouse's story</span></i></p>
  </td>
 </tr>
</table>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.1.3 .descendants</h6>

<p class=MsoNormal style='margin-left:-.25pt'>The .contents and .children attributes
only consider a tags <i>direct </i>children. For instance, the &lt;head&gt;
tag has a single direct childthe &lt;title&gt; tag:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:258.2pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>head_tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>contents </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The
Dormouse's story&lt;/title&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:-.25pt'>But the &lt;title&gt; tag itself has a child: the string
The Dormouses story. Theres a sense in which that string is also a child of
the &lt;head&gt; tag. The .descendants attribute lets you iterate over <i>all </i>of
a tags children, recursively: its direct children, the children of its direct
children, and so on:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:21.5pt;text-align:left;text-indent:-21.5pt;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>for </span></b><span style='font-size:9.0pt;
line-height:104%'>child </span><b><span style='font-size:9.0pt;line-height:
104%;color:#007021'>in </span></b><span style='font-size:9.0pt;line-height:
104%'>head_tag</span><span style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>descendants: </span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>print</span><span
style='font-size:9.0pt;line-height:104%'>(child)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;title&gt;The Dormouse's
story&lt;/title&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># The Dormouse's story</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The &lt;head&gt; tag has only one
child, but it has two descendants: the &lt;title&gt; tag and the &lt;title&gt;
tags child. The BeautifulSoup object only has one direct child (the
&lt;html&gt; tag), but it has a whole lot of descendants:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:322.75pt'>

<p class=MsoNormal align=left style='margin-bottom:31.1pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>len</span><span style='font-size:9.0pt;
line-height:104%'>(</span><span style='font-size:9.0pt;line-height:104%;
color:#007021'>list</span><span style='font-size:9.0pt;line-height:104%'>(soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>children)) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># 1 </span></i><span
style='font-size:9.0pt;line-height:104%;color:#007021'>len</span><span
style='font-size:9.0pt;line-height:104%'>(</span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>list</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>descendants))
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># 25</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.1.4 .string</h6>

<p class=MsoNormal style='margin-left:-.25pt'>If a tag has only one child, and
that child is a NavigableString, the child is made available as .string:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:333.5pt'>

<p class=MsoNormal align=left style='margin-bottom:14.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>title_tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'The
Dormouse's story'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If a tags only child is another
tag, and <i>that </i>tag has a .string, then the parent tag is considered to
have the same .string as its child:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:295.85pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>head_tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>contents </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The
Dormouse's story&lt;/title&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>head_tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'The Dormouse's
story'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:30.8pt;
margin-left:-.25pt'>If a tag contains more than one thing, then its not clear
what .string should refer to, so .string is defined to be None:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.1.
Going down</b></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:338.9pt'>

<p class=MsoNormal align=left style='margin-bottom:31.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>html</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>string) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.1.5 .strings and stripped_strings</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If theres more than one thing inside a tag, you can still
look at just the strings. Use the .strings generator:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:181.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:181.7pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:217.95pt;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:-21.5pt;
  line-height:108%'><b><span style='font-size:9.0pt;line-height:108%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:108%'>string
  </span><b><span style='font-size:9.0pt;line-height:108%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:108%'>soup</span><span style='font-size:
  9.0pt;line-height:108%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:108%'>strings: </span><span style='font-size:9.0pt;line-height:
  108%;color:#007021'>print</span><span style='font-size:9.0pt;line-height:
  108%'>(</span><span style='font-size:9.0pt;line-height:108%;color:#007021'>repr</span><span
  style='font-size:9.0pt;line-height:108%'>(string))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u&quot;The Dormouse's story&quot;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u&quot;The Dormouse's story&quot;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Once upon a time there were three little sisters; and
  their names were\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Elsie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u',\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Lacie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u' and\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Tillie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u';\nand they lived at the bottom of a well.'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'...'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>These strings tend to have a lot of extra whitespace, which
you can remove by using the .stripped_strings generator instead:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:137.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:137.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>string
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>stripped_strings:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>repr</span><span style='font-size:9.0pt;
  line-height:107%'>(string))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u&quot;The Dormouse's story&quot;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u&quot;The Dormouse's story&quot;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Once upon a time there were three little sisters; and
  their names were'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Elsie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u','</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Lacie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'and'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Tillie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u';\nand they lived at the bottom of a well.'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'...'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.85pt;
margin-left:-.25pt'>Here, strings consisting entirely of whitespace are
ignored, and whitespace at the beginning and end of strings is removed.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'>6.2 Going up</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:23.4pt;
margin-left:-.25pt'>Continuing the family tree analogy, every tag and every
string has a <i>parent</i>: the tag that contains it.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.2.1 .parent</h6>

<p class=MsoNormal style='margin-left:-.25pt'>You can access an elements
parent with the .parent attribute. In the example three sisters document, the
&lt;head&gt; tag is the parent of the &lt;title&gt; tag:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:298.65pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>title_tag </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>title title_tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:180.3pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;title&gt;The
  Dormouse's story&lt;/title&gt; </span></i><span style='font-size:9.0pt'>title_tag</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>parent</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;head&gt;&lt;title&gt;The Dormouse's
  story&lt;/title&gt;&lt;/head&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>The title string itself has a
parent: the &lt;title&gt; tag that contains it:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:268.95pt'>

<p class=MsoNormal align=left style='margin-bottom:14.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>title_tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>parent </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;title&gt;The
Dormouse's story&lt;/title&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>The parent of a top-level tag like &lt;html&gt; is the BeautifulSoup
object itself:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:312.0pt'>

<p class=MsoNormal align=left style='margin-bottom:14.85pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>html_tag </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>html </span><span style='font-size:
9.0pt;line-height:104%;color:#007021'>type</span><span style='font-size:9.0pt;
line-height:104%'>(html_tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>parent)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;class 'bs4.BeautifulSoup'&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>And the .parent of a BeautifulSoup
object is defined as None:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:365.8pt'>

<p class=MsoNormal align=left style='margin-bottom:30.9pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>parent) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.2.2 .parents</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can iterate over all of an elements parents with .parents.
This example uses .parents to travel from an &lt;a&gt; tag buried deep within
the document, to the very top of the document:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:148.85pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:148.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:373.95pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:.9pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><i><span style='font-size:9.0pt;line-height:115%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt; </span></i><b><span style='font-size:
  9.0pt;line-height:115%;color:#007021'>for </span></b><span style='font-size:
  9.0pt;line-height:115%'>parent </span><b><span style='font-size:9.0pt;
  line-height:115%;color:#007021'>in </span></b><span style='font-size:9.0pt;
  line-height:115%'>link</span><span style='font-size:9.0pt;line-height:115%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:115%'>parents:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>if </span></b><span style='font-size:9.0pt;line-height:107%'>parent
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>is
  None</span></b><span style='font-size:9.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.05pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(parent)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>else</span></b><span style='font-size:9.0pt;line-height:107%'>:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:43.05pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(parent</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>name)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># p</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># body</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># html</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [document]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># None</span></i></p>
  </td>
 </tr>
</table>

<h5 style='margin-left:-.25pt'>6.3 Going sideways</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.7pt;
margin-left:-.25pt'>Consider a simple document like this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>sibling_soup </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;a&gt;&lt;b&gt;text1&lt;/b&gt;&lt;c&gt;text2&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>prettify())
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#        &lt;a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#               text1</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;/b&gt;</span></i></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:20.9pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.3.
Going sideways</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.8pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#           &lt;c&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#               text2</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#            &lt;/c&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#         &lt;/a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/body&gt; # &lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:23.5pt;margin-left:-.25pt;text-align:left'>The &lt;b&gt; tag and
the &lt;c&gt; tag are at the same level: theyre both direct children of the
same tag. We call them <i>siblings</i>. When a document is pretty-printed,
siblings show up at the same indentation level. You can also use this
relationship in the code you write.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.3.1 .next_sibling and .previous_sibling</h6>

<p class=MsoNormal style='margin-left:-.25pt'>You can use .next_sibling and .previous_sibling
to navigate between page elements that are on the same level of the parse tree:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:306.6pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>next_sibling </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;c&gt;text2&lt;/c&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.9pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>c</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>previous_sibling </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
&lt;b&gt;text1&lt;/b&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The &lt;b&gt; tag has a .next_sibling,
but no .previous_sibling, because theres nothing before the &lt;b&gt; tag <i>on
the same level of the tree</i>. For the same reason, the &lt;c&gt; tag has a .previous_sibling
but no .next_sibling:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:263.55pt'>

<p class=MsoNormal align=left style='margin-bottom:14.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>previous_sibling) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># None </span></i><span
style='font-size:9.0pt;line-height:104%;color:#007021'>print</span><span
style='font-size:9.0pt;line-height:104%'>(sibling_soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>c</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>next_sibling) </span><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The strings text1 and text2
are <i>not </i>siblings, because they dont have the same parent:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:295.85pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>string </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'text1'</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.9pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(sibling_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>string</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>next_sibling) </span><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>In real documents, the .next_sibling or .previous_sibling of
a tag will usually be a string containing whitespace. Going back to the three
sisters document:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:63.75pt'>

<p class=MsoNormal align=left style='margin-bottom:1.6pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:108%'>a href</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>=</span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;http://example.com/elsie&quot; </span><span
style='font-size:9.0pt;line-height:108%'>class</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;sister&quot; </span><span
style='font-size:9.0pt;line-height:108%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>&quot;link1&quot;</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:108%'>Elsie</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>&lt;/</span><span style='font-size:9.0pt;
line-height:108%'>a</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:1.6pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:108%'>a href</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>=</span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;http://example.com/lacie&quot; </span><span
style='font-size:9.0pt;line-height:108%'>class</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;sister&quot; </span><span
style='font-size:9.0pt;line-height:108%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>&quot;link2&quot;</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:108%'>Lacie</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>&lt;/</span><span style='font-size:9.0pt;
line-height:108%'>a</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:15.05pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:108%'>a href</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>=</span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;http://example.com/tillie&quot; </span><span
style='font-size:9.0pt;line-height:108%'>class</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;sister&quot; </span><span
style='font-size:9.0pt;line-height:108%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>&quot;link3&quot;</span><span
style='font-size:9.0pt;line-height:108%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:108%'>Tillie</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>&lt;/</span><span style='font-size:9.0pt;
line-height:108%'>a</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You might think that the .next_sibling of the first
&lt;a&gt; tag would be the second &lt;a&gt; tag. But actually, its a string:
the comma and newline that separate the first &lt;a&gt; tag from the second:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:373.95pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>next_sibling</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u',\n'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>The second &lt;a&gt; tag is
actually the .next_sibling of the comma:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:80.65pt'>

<p class=MsoNormal align=left style='margin-bottom:31.35pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>link</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>next_sibling</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>next_sibling </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.3.2 .next_siblings and .previous_siblings</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can iterate over a tags siblings with .next_siblings or
.previous_siblings:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:192.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:192.7pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>sibling
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>next_siblings:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>repr</span><span style='font-size:9.0pt;
  line-height:107%'>(sibling))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u',\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u' and\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'; and they lived at the bottom of a well.'</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># None</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>sibling
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find(</span><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>id</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>=</span><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;link3&quot;</span><span style='font-size:9.0pt;
  line-height:107%'>)</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>previous_siblings:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>repr</span><span style='font-size:9.0pt;
  line-height:107%'>(sibling))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># ' and\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u',\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:45.8pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><i><span style='font-size:9.0pt;line-height:107%;color:#407F8F'>#
  u'Once upon a time there were three little sisters; and their names were\n' #
  None</span></i></p>
  </td>
 </tr>
</table>

<h5 style='margin-left:-.25pt'>6.4 Going back and forth</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Take a look at the beginning of
the three sisters document:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:31.9pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:104%'>html</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>&gt;&lt;</span><span style='font-size:9.0pt;line-height:104%'>head</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>&gt;&lt;</span><span
style='font-size:9.0pt;line-height:104%'>title</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:104%'>The Dormouse</span><span style='font-size:9.0pt;line-height:
104%;color:#4070A1'>'s story&lt;/title&gt;&lt;/head&gt;</span></p>

<p class=MsoNormal align=left style='margin-bottom:12.75pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:108%'>p class</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>=</span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;title&quot;</span><span style='font-size:9.0pt;line-height:
108%;color:#666666'>&gt;&lt;</span><span style='font-size:9.0pt;line-height:
108%'>b</span><span style='font-size:9.0pt;line-height:108%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:108%'>The Dormouse</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'s
story&lt;/b&gt;&lt;/p&gt;</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:23.5pt;
margin-left:-.25pt'>An HTML parser takes this string of characters and turns it
into a series of events: open an &lt;html&gt; tag, open a &lt;head&gt; tag,
open a &lt;title&gt; tag, add a string, close the &lt;title&gt; tag,
open a &lt;p&gt; tag, and so on. Beautiful Soup offers tools for
reconstructing the initial parse of the document.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'>6.4.1 .next_element and .previous_element</h6>

<p class=MsoNormal style='margin-left:-.25pt'>The .next_element attribute of a
string or tag points to whatever was parsed immediately afterwards. It might be
the same as .next_sibling, but its usually drastically different.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres the final &lt;a&gt; tag in the three sisters
document. Its .next_sibling is a string: the conclusion of the sentence that
was interrupted by the start of the &lt;a&gt; tag.:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:201.8pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>last_a_tag </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find(</span><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;a&quot;</span><span style='font-size:9.0pt;line-height:
  107%'>, </span><span style='font-size:9.0pt;line-height:107%;color:#007021'>id</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;link3&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) last_a_tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>last_a_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>next_sibling</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># '; and they lived at the bottom of a well.'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>6.4.
Going back and forth</b></p>

<p class=MsoNormal style='margin-left:-.25pt'>But the .next_element of that
&lt;a&gt; tag, the thing that was parsed immediately after the &lt;a&gt; tag,
is <i>not </i>the rest of that sentence: its the word Tillie:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:338.9pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>last_a_tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>next_element
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
u'Tillie'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Thats because in the original
markup, the word Tillie appeared before that semicolon. The parser
encountered an &lt;a&gt; tag, then the word Tillie, then the closing
&lt;/a&gt; tag, then the semicolon and rest of the sentence. The semicolon is
on the same level as the &lt;a&gt; tag, but the word Tillie was encountered
first.</p>

<p class=MsoNormal style='margin-left:-.25pt'>The .previous_element attribute
is the exact opposite of .next_element. It points to whatever element was
parsed immediately before this one:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:31.35pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>last_a_tag</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>previous_element
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'
and\n' </span></i><span style='font-size:9.0pt;line-height:104%'>last_a_tag</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>previous_element</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>next_element </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;a
class=&quot;sister&quot; href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:9.8pt;margin-left:
-.25pt'>6.4.2 .next_elements and .previous_elements</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You should get the idea by now. You can use these iterators
to move forward or backward in the document as it was parsed:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:105.0pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:105.0pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>element
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>last_a_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>next_elements:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>repr</span><span style='font-size:9.0pt;
  line-height:107%'>(element))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Tillie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u';\nand they lived at the bottom of a well.'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'...'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># None</span></i></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>7</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 77050"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Searching the tree</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 77052"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:-.25pt'>Beautiful Soup defines a lot of methods for searching the
parse tree, but theyre all very similar. Im going to spend a lot of time
explaining the two most popular methods: find() and find_all(). The other
methods take almost exactly the same arguments, so Ill just cover them
briefly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Once again, Ill be using the three sisters document as
an example:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:192.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:192.7pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>html_doc
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's
  story&lt;/title&gt;&lt;/head&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;p
  class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;Once upon a time there were
  three little sisters; and their names</span><span style='font-size:11.0pt;
  line-height:107%'><img border=0 width=6 height=3 id="Group 75546"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>were</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and &lt;a
  href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;; and they lived at the bottom of a
  well.&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>from </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>import </span></b><span style='font-size:
  9.0pt;line-height:107%'>BeautifulSoup</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(html_doc, </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'html.parser'</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.75pt;
margin-left:-.25pt'>By passing in a filter to an argument like find_all(), you
can zoom in on the parts of the document youre interested in.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.85pt;margin-left:
-.25pt'>7.1 Kinds of filters</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Before talking in detail about find_all()
and similar methods, I want to show examples of different filters you can pass
into these methods. These filters show up again and again, throughout the
search API. You can use them to filter based on a tags name, on its
attributes, on the text of a string, or on some combination of these.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>7.1.1 A string</h6>

<p class=MsoNormal style='margin-left:-.25pt'>The simplest filter is a string.
Pass a string to a search method and Beautiful Soup will perform a match
against that exact string. This code finds all the &lt;b&gt; tags in the
document:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:301.25pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'b'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;b&gt;The Dormouse's
story&lt;/b&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.55pt;
margin-left:-.25pt'>If you pass in a byte string, Beautiful Soup will assume
the string is encoded as UTF-8. You can avoid this by passing in a Unicode
string instead.</p>

<h6 style='margin-left:-.25pt'>7.1.2 A regular expression</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you pass in a regular expression object, Beautiful Soup
will filter against that regular expression using its search() method. This
code finds all the tags whose names start with the letter b; in this case,
the &lt;body&gt; tag and the &lt;b&gt; tag:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:234.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  125%'><b><span style='font-size:9.0pt;line-height:125%;color:#007021'>import </span></b><b><span
  style='font-size:9.0pt;line-height:125%;color:#0D85B5'>re </span></b><b><span
  style='font-size:9.0pt;line-height:125%;color:#007021'>for </span></b><span
  style='font-size:9.0pt;line-height:125%'>tag </span><b><span
  style='font-size:9.0pt;line-height:125%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:125%'>soup</span><span style='font-size:
  9.0pt;line-height:125%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:125%'>find_all(re</span><span style='font-size:9.0pt;line-height:
  125%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:125%'>compile(</span><span
  style='font-size:9.0pt;line-height:125%;color:#4070A1'>&quot;^b&quot;</span><span
  style='font-size:9.0pt;line-height:125%'>)):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>name)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># body</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># b</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>This code finds all the tags whose names contain the letter
t:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>tag
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find_all(re</span><span style='font-size:9.0pt;line-height:
  107%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>compile(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;t&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>name)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># html</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># title</span></i></p>
  </td>
 </tr>
</table>

<h6 style='margin-left:-.25pt'>7.1.3 A list</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you pass in a list, Beautiful Soup will allow a string
match against <i>any </i>item in that list. This code finds all the &lt;a&gt;
tags <i>and </i>all the &lt;b&gt; tags:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:298.65pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all([</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, </span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>&quot;b&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>]) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># [&lt;b&gt;The Dormouse's
  story&lt;/b&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>
  </td>
 </tr>
</table>

<h6 style='margin-left:-.25pt'>7.1.4 True</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The value True matches everything it can. This code finds <i>all
</i>the tags in the document, but none of the text strings:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>tag
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find_all(</span><b><span style='font-size:9.0pt;line-height:
  107%;color:#007021'>True</span></b><span style='font-size:9.0pt;line-height:
  107%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>name)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># html</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># head</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># title</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># body</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># p</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.05pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># b</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># p</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># a</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># a</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># a</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:30.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># p</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>7.1.5 A function</h6>

<p class=MsoNormal style='margin-left:-.25pt'>If none of the other matches work
for you, define a function that takes an element as its only argument. The
function should return True if the argument matches, and False otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres a function that returns True if a tag defines the
class attribute but doesnt define the id attribute:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:28.3pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:28.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>def </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#05297D'>has_class_but_no_id</span><span style='font-size:9.0pt;
  line-height:107%'>(tag):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  107%'>tag</span><span style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>has_attr(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'class'</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><b><span style='font-size:
  9.0pt;line-height:107%;color:#007021'>and not </span></b><span
  style='font-size:9.0pt;line-height:107%'>tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>has_attr(</span><span style='font-size:9.0pt;line-height:
  107%;color:#4070A1'>'id'</span><span style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Pass this function into find_all()
and youll pick up all the &lt;p&gt; tags:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(has_class_but_no_id)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;p
class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;p class=&quot;story&quot;&gt;Once upon a
time there were...&lt;/p&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;p
class=&quot;story&quot;&gt;...&lt;/p&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This function only picks up the
&lt;p&gt; tags. It doesnt pick up the &lt;a&gt; tags, because those tags
define both class and id. It doesnt pick up tags like &lt;html&gt; and
&lt;title&gt;, because those tags dont define class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you pass in a function to filter on a specific attribute
like href, the argument passed into the function will be the attribute value,
not the whole tag. Heres a function that finds all a tags whose href attribute
<i>does not </i>match a regular expression:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>def </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#05297D'>not_lacie</span><span style='font-size:9.0pt;line-height:107%'>(href):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  107%'>href </span><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>and not </span></b><span style='font-size:9.0pt;line-height:
  107%'>re</span><span style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>compile(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;lacie&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>search(href)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(href</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>not_lacie)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The function can be as complicated as you need it to be.
Heres a function that returns True if a tag is surrounded by string objects:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:137.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:137.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:282.5pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  124%'><b><span style='font-size:9.0pt;line-height:124%;color:#007021'>from </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#0D85B5'>bs4 </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#007021'>import </span></b><span
  style='font-size:9.0pt;line-height:124%'>NavigableString </span><b><span
  style='font-size:9.0pt;line-height:124%;color:#007021'>def </span></b><span
  style='font-size:9.0pt;line-height:124%;color:#05297D'>surrounded_by_strings</span><span
  style='font-size:9.0pt;line-height:124%'>(tag):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:110.35pt;
  margin-bottom:10.95pt;margin-left:64.55pt;text-align:left;text-indent:-43.05pt;
  line-height:123%'><b><span style='font-size:9.0pt;line-height:123%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  123%'>(</span><span style='font-size:9.0pt;line-height:123%;color:#007021'>isinstance</span><span
  style='font-size:9.0pt;line-height:123%'>(tag</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>next_element, NavigableString) </span><b><span
  style='font-size:9.0pt;line-height:123%;color:#007021'>and </span></b><span
  style='font-size:9.0pt;line-height:123%;color:#007021'>isinstance</span><span
  style='font-size:9.0pt;line-height:123%'>(tag</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>previous_element, NavigableString))</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>tag
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find_all(surrounded_by_strings):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print
  </span><span style='font-size:9.0pt;line-height:107%'>tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>name</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># p</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># a</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># a</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># a</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># p</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:40.0pt;
margin-left:-.25pt'>Now were ready to look at the search methods in detail.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.1.
Kinds of filters</b></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.2 find_all()</h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.9pt;margin-left:-.25pt;text-align:left;line-height:105%'>Signature:
find_all(<i><span style='color:#355F7C'>name</span></i>, <i><span
style='color:#355F7C'>attrs</span></i>, <i><span style='color:#355F7C'>recursive</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>limit</span></i>,
<i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The find_all() method looks through a tags descendants and
retrieves <i>all </i>descendants that match your filters. I gave several
examples in <i><span style='color:#355F7C'>Kinds of filters</span></i>, but
here are a few more:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:192.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:192.7pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;title&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, </span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>&quot;title&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's
  story&lt;/b&gt;&lt;/p&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;a
  class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>id</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;link2&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:207.2pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  109%'><b><span style='font-size:9.0pt;line-height:109%;color:#007021'>import </span></b><b><span
  style='font-size:9.0pt;line-height:109%;color:#0D85B5'>re </span></b><span
  style='font-size:9.0pt;line-height:109%'>soup</span><span style='font-size:
  9.0pt;line-height:109%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:109%'>find(string</span><span style='font-size:9.0pt;line-height:
  109%;color:#666666'>=</span><span style='font-size:9.0pt;line-height:109%'>re</span><span
  style='font-size:9.0pt;line-height:109%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:109%'>compile(</span><span
  style='font-size:9.0pt;line-height:109%;color:#4070A1'>&quot;sisters&quot;</span><span
  style='font-size:9.0pt;line-height:109%'>))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'Once upon a time there were three little sisters; and
  their names were\n'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:23.2pt;
margin-left:-.25pt'>Some of these should look familiar, but others are new.
What does it mean to pass in a value for string, or id? Why does find_all(&quot;p&quot;,
&quot;title&quot;) find a &lt;p&gt; tag with the CSS class title? Lets look
at the arguments to find_all().</p>

<h6 style='margin-left:-.25pt'>7.2.1 The name argument</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>Pass in a value for name and youll tell Beautiful Soup to
only consider tags with certain names. Text strings will be ignored, as will
tags whose names that dont match.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This is the simplest usage:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:258.2pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;title&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The Dormouse's
story&lt;/title&gt;]</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:22.45pt;margin-left:-.25pt;text-align:left;line-height:105%'>Recall
from <i><span style='color:#355F7C'>Kinds of filters </span></i>that the value
to name can be <i><span style='color:#355F7C'>a string</span></i>, <i><span
style='color:#355F7C'>a regular expression</span></i>, <i><span
style='color:#355F7C'>a list</span></i>, <i><span style='color:#355F7C'>a
function</span></i>, or <i><span style='color:#355F7C'>the value True</span></i>.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>7.2.2 The keyword arguments</h6>

<p class=MsoNormal style='margin-left:-.25pt'>Any argument thats not
recognized will be turned into a filter on one of a tags attributes. If you
pass in a value for an argument called id, Beautiful Soup will filter against
each tags id attribute:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:14.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'link2'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If you pass in a value for href,
Beautiful Soup will filter against each tags href attribute:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(href</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%'>re</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>compile(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;elsie&quot;</span><span style='font-size:9.0pt;line-height:
104%'>))</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.9pt;margin-left:-.25pt;text-align:left;line-height:105%'>You
can filter an attribute based on <i><span style='color:#355F7C'>a string</span></i>,
<i><span style='color:#355F7C'>a regular expression</span></i>, <i><span
style='color:#355F7C'>a list</span></i>, <i><span style='color:#355F7C'>a
function</span></i>, or <i><span style='color:#355F7C'>the value True</span></i>.</p>

<p class=MsoNormal style='margin-left:-.25pt'>This code finds all tags whose id
attribute has a value, regardless of what the value is:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:59.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>True</span></b><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.95pt;
margin-left:-.25pt'>You can filter multiple attributes at once by passing in
more than one keyword argument:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(href</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%'>re</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>compile(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;elsie&quot;</span><span style='font-size:9.0pt;line-height:
104%'>), </span><span style='font-size:9.0pt;line-height:104%;color:#007021'>id</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'link1'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;three&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>Some attributes, like the data-* attributes in HTML 5, have
names that cant be used as the names of keyword arguments:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:139.85pt'>

<p class=MsoNormal align=left style='margin-bottom:14.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>data_soup </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'&lt;div
data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;'</span><span style='font-size:
9.0pt;line-height:104%'>) data_soup</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>find_all(data</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>-</span><span style='font-size:9.0pt;line-height:104%'>foo</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;value&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># SyntaxError: keyword can't be an
expression</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:-.25pt'>You can use these attributes in searches by putting them
into a dictionary and passing the dictionary into find_all() as the attrs argument:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:209.75pt'>

<p class=MsoNormal align=left style='margin-bottom:14.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>data_soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(attrs</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%'>{</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;data-foo&quot;</span><span
style='font-size:9.0pt;line-height:104%'>: </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;value&quot;</span><span style='font-size:
9.0pt;line-height:104%'>}) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># [&lt;div data-foo=&quot;value&quot;&gt;foo!&lt;/div&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>You cant use a keyword argument to search for HTMLs
name element, because Beautiful Soup uses the name argument to contain the
name of the tag itself. Instead, you can give a value to name in the attrs argument:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:199.0pt'>

<p class=MsoNormal align=left style='margin-bottom:30.1pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>name_soup </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'&lt;input
name=&quot;email&quot;/&gt;'</span><span style='font-size:9.0pt;line-height:
104%'>) name_soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(name</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;email&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [] </span></i><span style='font-size:
9.0pt;line-height:104%'>name_soup</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>find_all(attrs</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%'>{</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;name&quot;</span><span
style='font-size:9.0pt;line-height:104%'>: </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;email&quot;</span><span style='font-size:
9.0pt;line-height:104%'>}) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># [&lt;input name=&quot;email&quot;/&gt;]</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>7.2.3 Searching by CSS class</h6>

<p class=MsoNormal style='margin-left:-.25pt'>Its very useful to search for a
tag that has a certain CSS class, but the name of the CSS attribute, class,
is a reserved word in Python. Using class as a keyword argument will give you a
syntax error. As of Beautiful Soup 4.1.2, you can search by CSS class using the
keyword argument class_:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, class_</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;sister&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>As with any keyword argument, you
can pass class_ a string, a regular expression, a function, or True:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:166.75pt'>

<p class=MsoNormal align=left style='margin-bottom:12.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(class_</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%'>re</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>compile(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;itl&quot;</span><span style='font-size:9.0pt;line-height:
104%'>)) </span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
[&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's
story&lt;/b&gt;&lt;/p&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.0pt;margin-left:21.5pt;text-align:left;text-indent:-21.5pt;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>def </span></b><span style='font-size:9.0pt;
line-height:104%;color:#05297D'>has_six_characters</span><span
style='font-size:9.0pt;line-height:104%'>(css_class): </span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>return </span></b><span
style='font-size:9.0pt;line-height:104%'>css_class </span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>is not None and </span></b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>len</span><span
style='font-size:9.0pt;line-height:104%'>(css_class) </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>== </span><span
style='font-size:9.0pt;line-height:104%;color:#217F4F'>6</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(class_</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%'>has_six_characters)</span></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:22.6pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoHeading7 style='margin-left:-.25pt'>7.2. find_all()</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.05pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.5pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'><i><span style='color:#355F7C'>Remember </span></i>that a
single tag can have multiple values for its class attribute. When you search
for a tag that matches a certain CSS class, youre matching against <i>any </i>of
its CSS classes:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:153.4pt;
  margin-bottom:10.55pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:9.0pt;line-height:104%'>css_soup </span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:104%;color:#4070A1'>'&lt;p
  class=&quot;body strikeout&quot;&gt;&lt;/p&gt;'</span><span style='font-size:
  9.0pt;line-height:104%'>) css_soup</span><span style='font-size:9.0pt;
  line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:104%'>find_all(</span><span style='font-size:9.0pt;line-height:
  104%;color:#4070A1'>&quot;p&quot;</span><span style='font-size:9.0pt;
  line-height:104%'>, class_</span><span style='font-size:9.0pt;line-height:
  104%;color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%;
  color:#4070A1'>&quot;strikeout&quot;</span><span style='font-size:9.0pt;
  line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:104%;
  color:#407F8F'># [&lt;p class=&quot;body strikeout&quot;&gt;&lt;/p&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:261.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>css_soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, class_</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;body&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># [&lt;p class=&quot;body
  strikeout&quot;&gt;&lt;/p&gt;]</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can also search for the exact
string value of the class attribute:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:209.75pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>css_soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, class_</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;body strikeout&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;p class=&quot;body
strikeout&quot;&gt;&lt;/p&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>But searching for variants of the
string value wont work:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:209.75pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>css_soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, class_</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;strikeout body&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># []</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If you want to search for tags
that match two or more CSS classes, you should use a CSS selector:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:274.35pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>css_soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p.strikeout.body&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;p class=&quot;body
strikeout&quot;&gt;&lt;/p&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>In older versions of Beautiful Soup, which dont have the class_
shortcut, you can use the attrs trick mentioned above. Create a dictionary
whose value for class is the string (or regular expression, or whatever) you
want to search for:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, attrs</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%'>{</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;class&quot;</span><span style='font-size:9.0pt;line-height:
104%'>: </span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;sister&quot;</span><span
style='font-size:9.0pt;line-height:104%'>}) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:30.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<h6 style='margin-left:-.25pt'>7.2.4 The string argument</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>With string you can search for strings instead of tags. As
with name and the keyword arguments, you can pass in <i><span style='color:
#355F7C'>a string</span></i>, <i><span style='color:#355F7C'>a regular
expression</span></i>, <i><span style='color:#355F7C'>a list</span></i>, <i><span
style='color:#355F7C'>a function</span></i>, or <i><span style='color:#355F7C'>the
value True</span></i>. Here are some examples:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:126.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:126.9pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;Elsie&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Elsie']</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>[</span><span style='font-size:9.0pt;
  line-height:107%;color:#4070A1'>&quot;Tillie&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, </span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>&quot;Elsie&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, </span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>&quot;Lacie&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>])</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Elsie', u'Lacie', u'Tillie']</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:196.45pt;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%'>soup</span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>find_all(string</span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:115%'>re</span><span style='font-size:
  9.0pt;line-height:115%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:115%'>compile(</span><span style='font-size:9.0pt;line-height:
  115%;color:#4070A1'>&quot;Dormouse&quot;</span><span style='font-size:9.0pt;
  line-height:115%'>)) [</span><span style='font-size:9.0pt;line-height:115%;
  color:#4070A1'>u&quot;The Dormouse's story&quot;</span><span
  style='font-size:9.0pt;line-height:115%'>, </span><span style='font-size:
  9.0pt;line-height:115%;color:#4070A1'>u&quot;The Dormouse's story&quot;</span><span
  style='font-size:9.0pt;line-height:115%'>]</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>def </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#05297D'>is_the_only_string_within_a_tag</span><span style='font-size:
  9.0pt;line-height:107%'>(s):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;&quot;&quot;Return True if this string is the only child
  of its parent tag.&quot;&quot;&quot;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.0pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  107%'>(s </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>==
  </span><span style='font-size:9.0pt;line-height:107%'>s</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>parent</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>string)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>is_the_only_string_within_a_tag)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u&quot;The Dormouse's story&quot;, u&quot;The Dormouse's
  story&quot;, u'Elsie', u'Lacie', u'Tillie', u</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><i><span
  style='font-size:9.0pt;line-height:107%;color:#407F8F'>'...']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Although string is for finding
strings, you can combine it with arguments that find tags: Beautiful Soup will
find all tags whose .string matches your value for string. This code finds the
&lt;a&gt; tags whose .string is Elsie:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, string</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;Elsie&quot;</span><span style='font-size:
9.0pt;line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># [&lt;a href=&quot;http://example.com/elsie&quot;
class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The string argument is new in
Beautiful Soup 4.4.0. In earlier versions it was called text:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:30.35pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, text</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;Elsie&quot;</span><span style='font-size:
9.0pt;line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># [&lt;a href=&quot;http://example.com/elsie&quot;
class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

</div>

<h6 style='margin-left:-.25pt'>7.2.5 The limit argument</h6>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left'>find_all() returns all
the tags and strings that match your filters. This can take a while if the
document is large. If you dont need <i>all </i>the results, you can pass in a
number for limit. This works just like the LIMIT keyword in SQL. It tells
Beautiful Soup to stop gathering results after its found a certain number.</p>

<p class=MsoNormal style='margin-left:-.25pt'>There are three links in the
three sisters document, but this code only finds the first two:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, limit</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#217F4F'>2</span><span style='font-size:9.0pt;
line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:30.35pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

</div>

<h6 style='margin-left:-.25pt'>7.2.6 The recursive argument</h6>

<p class=MsoNormal style='margin-left:-.25pt'>If you call mytag.find_all(),
Beautiful Soup will examine all the descendants of mytag: its children, its
childrens children, and so on. If you only want Beautiful Soup to consider
direct children, you can pass in recursive=False. See the difference here:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:242.05pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>html</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;title&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The Dormouse's
story&lt;/title&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>html</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;title&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, recursive</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>False</span></b><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># []</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres that part of the document:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>&lt;</span><span style='font-size:9.0pt;line-height:107%'>html</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;</span><span
  style='font-size:9.0pt;line-height:107%'>head</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;</span><span
  style='font-size:9.0pt;line-height:107%'>title</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:16.15pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>The Dormouse</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'s story</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;/</span><span
  style='font-size:9.0pt;line-height:107%'>title</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:406.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:5.4pt;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;/</span><span
  style='font-size:9.0pt;line-height:107%'>head</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt; ...</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:19.45pt;
margin-left:-.25pt'>The &lt;title&gt; tag is beneath the &lt;html&gt; tag, but
its not <i>directly </i>beneath the &lt;html&gt; tag: the &lt;head&gt; tag is
in the way. Beautiful Soup finds the &lt;title&gt; tag when its allowed to
look at all descendants of the &lt;html&gt; tag, but when recursive=False restricts
it to the &lt;html&gt; tags immediate children, it finds nothing.</p>

<p class=MsoHeading7 style='margin-left:-.25pt'>7.2. find_all()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.4pt;
margin-left:-.25pt'>Beautiful Soup offers a lot of tree-searching methods
(covered below), and they mostly take the same arguments as find_all(): name, attrs,
string, limit, and the keyword arguments. But the recursive argument is
different: find_all() and find() are the only methods that support it. Passing recursive=False
into a method like find_parents() wouldnt be very useful.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.25pt;margin-left:
-.25pt'>7.3 Calling a tag is like calling find_all()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Because find_all() is the most
popular method in the Beautiful Soup search API, you can use a shortcut for it.
If you treat the BeautifulSoup object or a Tag object as though it were a
function, then its the same as calling find_all() on that object. These two
lines of code are equivalent:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:322.75pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) soup(</span><span style='font-size:
9.0pt;line-height:104%;color:#4070A1'>&quot;a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>These two lines are also
equivalent:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:172.1pt'>

<p class=MsoNormal align=left style='margin-bottom:36.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>title</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>find_all(string</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>True</span></b><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>title(string</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>=</span><b><span style='font-size:9.0pt;line-height:104%;
color:#007021'>True</span></b><span style='font-size:9.0pt;line-height:104%'>)</span></p>

</div>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.4 find()</h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.9pt;margin-left:-.25pt;text-align:left;line-height:105%'>Signature:
find(<i><span style='color:#355F7C'>name</span></i>, <i><span style='color:
#355F7C'>attrs</span></i>, <i><span style='color:#355F7C'>recursive</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>The find_all() method scans the
entire document looking for results, but sometimes you only want to find one
result. If you know a document only has one &lt;body&gt; tag, its a waste of
time to scan the entire document looking for more. Rather than passing in limit=1
every time you call find_all, you can use the find() method. These two lines of
code are <i>nearly </i>equivalent:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:263.55pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find_all(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'title'</span><span
style='font-size:9.0pt;line-height:104%'>, limit</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#217F4F'>1</span><span style='font-size:9.0pt;
line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'title'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;title&gt;The Dormouse's
story&lt;/title&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The only difference is that find_all()
returns a list containing the single result, and find() just returns the
result.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If find_all() cant find
anything, it returns an empty list. If find() cant find anything, it returns None:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:306.6pt'>

<p class=MsoNormal align=left style='margin-bottom:14.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;nosuchtag&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Remember the soup.head.title trick
from <i><span style='color:#355F7C'>Navigating using tag names</span></i>? That
trick works by repeatedly calling find():</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>head</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>title </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;title&gt;The
Dormouse's story&lt;/title&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;head&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>find(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;title&quot;</span><span style='font-size:9.0pt;line-height:
104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;title&gt;The Dormouse's
story&lt;/title&gt;</span></i></p>

</div>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.5 find_parents() and find_parent()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_parents(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>limit</span></i>,
<i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_parent(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>I spent a lot of time above
covering find_all() and find(). The Beautiful Soup API defines ten other
methods for searching the tree, but dont be afraid. Five of these methods are
basically the same as find_all(), and the other five are basically the same as find().
The only differences are in what parts of the tree they search.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>First lets consider find_parents() and find_parent().
Remember that find_all() and find() work their way down the tree, looking at
tags descendants. These methods do the opposite: they work their way <i>up </i>the
tree, looking at a tags (or a strings) parents. Lets try them out, starting
from a string buried deep in the three daughters document:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:192.7pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:192.7pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:271.75pt;
  margin-bottom:10.55pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:9.0pt;line-height:104%'>a_string </span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:104%'>soup</span><span style='font-size:
  9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:104%'>find(string</span><span style='font-size:9.0pt;line-height:
  104%;color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%;
  color:#4070A1'>&quot;Lacie&quot;</span><span style='font-size:9.0pt;
  line-height:104%'>) a_string </span><i><span style='font-size:9.0pt;
  line-height:104%;color:#407F8F'># u'Lacie'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>a_string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_parents(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>a_string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_parent(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p class=&quot;story&quot;&gt;Once upon a time there were
  three little sisters; and their names</span></i><span style='font-size:11.0pt;
  line-height:107%'><img border=0 width=6 height=3 id="Group 88618"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><i><span
  style='font-size:9.0pt;line-height:107%;color:#407F8F'>were</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># and they lived at the bottom of a well.&lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>a_string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_parents(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, class</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;title&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># []</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>One of the three &lt;a&gt; tags
is the direct parent of the string in question, so our search finds it. One of
the three &lt;p&gt; tags is an indirect parent of the string, and our search
finds that as well. Theres a &lt;p&gt; tag with the CSS class title <i>somewhere
</i>in the document, but its not one of this strings parents, so we cant
find it with find_parents().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.85pt;
margin-left:-.25pt'>You may have made the connection between find_parent() and find_parents(),
and the <i><span style='color:#355F7C'>.parent </span></i>and <i><span
style='color:#355F7C'>.parents </span></i>attributes mentioned earlier. The
connection is very strong. These search methods actually use .parents to
iterate over all the parents, and check each one against the provided filter to
see if it matches.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.6 find_next_siblings() and find_next_sibling()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_next_siblings(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>limit</span></i>,
<i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_next_sibling(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>These methods use <i><span style='color:#355F7C'>.next_siblings
</span></i>to iterate over the rest of an elements siblings in the tree. The find_next_siblings()
method returns all the siblings that match, and find_next_sibling() only
returns the first one:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:309.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a first_link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>first_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_next_siblings(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:24.5pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.2pt;margin-left:
-.25pt'><span style='font-size:10.0pt;line-height:107%;color:black'>7.5. find_parents()
and find_parent()</span></h6>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.05pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:137.15pt'>

<p class=MsoNormal align=left style='margin-bottom:12.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:36.85pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>first_story_paragraph </span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>find(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;story&quot;</span><span style='font-size:
9.0pt;line-height:104%'>) first_story_paragraph</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>find_next_sibling(</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;p&quot;</span><span style='font-size:
9.0pt;line-height:104%'>) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># &lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></i></p>

</div>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.7 find_previous_siblings() and find_previous_sibling()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Signature:
find_previous_siblings(<i><span style='color:#355F7C'>name</span></i>, <i><span
style='color:#355F7C'>attrs</span></i>, <i><span style='color:#355F7C'>string</span></i>,
<i><span style='color:#355F7C'>limit</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_previous_sibling(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>These methods use <i><span style='color:#355F7C'>.previous_siblings
</span></i>to iterate over an elements siblings that precede it in the tree.
The find_previous_siblings() method returns all the siblings that match, and find_previous_sibling()
only returns the first one:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:126.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:126.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:212.6pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>last_link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find(</span><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;a&quot;</span><span style='font-size:9.0pt;line-height:
  107%'>, </span><span style='font-size:9.0pt;line-height:107%;color:#007021'>id</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;link3&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) last_link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>last_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_previous_siblings(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:12.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><i><span style='font-size:9.0pt;color:#407F8F'># [&lt;a
  class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:196.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_story_paragraph </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>find(</span><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&quot;p&quot;</span><span style='font-size:9.0pt;line-height:
  107%'>, </span><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;story&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) first_story_paragraph</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_previous_sibling(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># &lt;p
  class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.8 find_all_next() and find_next()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_all_next(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>limit</span></i>,
<i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_next(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>These methods use <i><span style='color:#355F7C'>.next_elements
</span></i>to iterate over whatever tags and strings that come after it in the
document. The find_all_next() method returns all matches, and find_next() only
returns the first match:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:115.95pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:115.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:309.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a first_link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>first_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all_next(string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><b><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>True</span></b><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Elsie', u',\n', u'Lacie', u' and\n', u'Tillie',</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u';\nand they lived at the bottom of a well.', u'\n\n',
  u'...', u'\n']</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:325.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_next(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># &lt;p
  class=&quot;story&quot;&gt;...&lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>In the first example, the string
Elsie showed up, even though it was contained within the &lt;a&gt; tag we
started from. In the second example, the last &lt;p&gt; tag in the document
showed up, even though its not in the same part of the tree as the &lt;a&gt;
tag we started from. For these methods, all that matters is that an element
match the filter, and show up later in the document than the starting element.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'>7.9 find_all_previous() and find_previous()</h5>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_all_previous(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>limit</span></i>,
<i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Signature: find_previous(<i><span
style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, <i><span style='color:#355F7C'>**kwargs</span></i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>These methods use <i><span style='color:#355F7C'>.previous_elements
</span></i>to iterate over the tags and strings that came before it in the
document. The find_all_previous() method returns all matches, and find_previous()
only returns the first match:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:115.95pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:115.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:309.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_link </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>a first_link</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>first_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all_previous(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;p class=&quot;story&quot;&gt;Once upon a time there
  were three little sisters; ...&lt;/p&gt;,</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's
  story&lt;/b&gt;&lt;/p&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:266.35pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>first_link</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_previous(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;title&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># &lt;title&gt;The Dormouse's
  story&lt;/title&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.8pt;
margin-left:-.25pt'>The call to find_all_previous(&quot;p&quot;) found the
first paragraph in the document (the one with class=title), but it also finds
the second paragraph, the &lt;p&gt; tag that contains the &lt;a&gt; tag we
started with. This shouldnt be too surprising: were looking at all the tags
that show up earlier in the document than the one we started with. A &lt;p&gt;
tag that contains an &lt;a&gt; tag must have shown up before the &lt;a&gt; tag
it contains.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'>7.10 CSS selectors</h5>

<p class=MsoNormal style='margin-left:-.25pt'>As of version 4.7.0, Beautiful
Soup supports most CSS4 selectors via the <a
href="https://facelessuser.github.io/soupsieve/"><span style='color:#377063;
text-decoration:none'>SoupSieve</span></a><span style='color:#377063'> </span>project.
If you installed Beautiful Soup through pip, SoupSieve was installed at the
same time, so you dont have to do anything extra.</p>

<p class=MsoNormal style='margin-left:-.25pt'>BeautifulSoup has a .select() method
which uses SoupSieve to run a CSS selector against a parsed document and return
all the matching elements. Tag has a similar method which runs a CSS selector
against the contents of a single tag.</p>

<p class=MsoNormal style='margin-left:-.25pt'>(Earlier versions of Beautiful
Soup also have the .select() method, but only the most commonly-used CSS
selectors are supported.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.55pt;
margin-left:-.25pt'>The SoupSieve <a
href="https://facelessuser.github.io/soupsieve/"><span style='color:#377063;
text-decoration:none'>documentation</span></a><span style='color:#377063'> </span>lists
all the currently supported CSS selectors, but here are some of the basics:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can find tags:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>select(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;title&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;title&gt;The Dormouse's story&lt;/title&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:293.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>select(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;p:nth-of-type(3)&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><i><span style='font-size:
  9.0pt;line-height:107%;color:#407F8F'># [&lt;p
  class=&quot;story&quot;&gt;...&lt;/p&gt;]</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags beneath other tags:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;body a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:38.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;html head
title&quot;</span><span style='font-size:9.0pt;line-height:104%'>) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The
Dormouse's story&lt;/title&gt;]</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.2pt;margin-left:
-.25pt'><span style='font-size:10.0pt;line-height:107%;color:black'>7.9. find_all_previous()
and find_previous()</span></h6>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags <i>directly </i>beneath
other tags:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;head &gt;
title&quot;</span><span style='font-size:9.0pt;line-height:104%'>) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;title&gt;The
Dormouse's story&lt;/title&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p &gt; a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p &gt;
a:nth-of-type(2)&quot;</span><span style='font-size:9.0pt;line-height:104%'>) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;a
class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;p &gt;
#link1&quot;</span><span style='font-size:9.0pt;line-height:104%'>) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;a
class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;body &gt; a&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># []</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Find the siblings of tags:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.35pt;
margin-right:61.45pt'>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:10.95pt;
margin-left:0in;text-indent:0in;line-height:normal;border:none;padding:0in'><span
style='font-size:9.0pt'>soup</span><span style='font-size:9.0pt;color:#666666'>.</span><span
style='font-size:9.0pt'>select(</span><span style='font-size:9.0pt;color:#4070A1'>&quot;#link1
~ .sister&quot;</span><span style='font-size:9.0pt'>) </span><i><span
style='font-size:9.0pt;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;#link1 +
.sister&quot;</span><span style='font-size:9.0pt;line-height:104%'>) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [&lt;a
class=&quot;sister&quot; href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags by CSS class:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:64.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;.sister&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;[class~=sister]&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags by ID:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;#link1&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;a#link2&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags that match any selector
from a list of selectors:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;#link1,#link2&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Test for the existence of an
attribute:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a[href]'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:3.05pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:59.15pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Find tags by attribute value:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:66.45pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a[href=&quot;http://example.com/elsie&quot;]'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a[href^=&quot;http://example.com/&quot;]'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/lacie&quot;
id=&quot;link2&quot;&gt;Lacie&lt;/a&gt;, # &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.85pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'a[href$=&quot;tillie&quot;]'</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/tillie&quot;
id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;]</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>soup</span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:108%'>select(</span><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>'a[href*=&quot;.com/el&quot;]'</span><span
style='font-size:9.0pt;line-height:108%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:14.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [&lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Theres also a method called select_one(),
which finds only the first tag that matches a selector:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:80.65pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>select_one(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;.sister&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;a class=&quot;sister&quot;
href=&quot;http://example.com/elsie&quot;
id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If youve parsed XML that defines namespaces, you can use
them in CSS selectors.:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:148.85pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:148.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:56.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  124%'><b><span style='font-size:9.0pt;line-height:124%;color:#007021'>from </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#0D85B5'>bs4 </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#007021'>import </span></b><span
  style='font-size:9.0pt;line-height:124%'>BeautifulSoup xml </span><span
  style='font-size:9.0pt;line-height:124%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:124%;color:#4070A1'>&quot;&quot;&quot;&lt;tag
  xmlns:ns1=&quot;http://namespace1/&quot;
  xmlns:ns2=&quot;http://namespace2/&quot;&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;ns1:child&gt;I'm
  in namespace 1&lt;/ns1:child&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:5.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;ns2:child&gt;I'm
  in namespace 2&lt;/ns2:child&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:293.25pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%;color:#4070A1'>&lt;/tag&gt;
  &quot;&quot;&quot; </span><span style='font-size:9.0pt;line-height:123%'>soup
  </span><span style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>BeautifulSoup(xml, </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>&quot;xml&quot;</span><span
  style='font-size:9.0pt;line-height:123%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>select(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;child&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;ns1:child&gt;I'm in namespace 1&lt;/ns1:child&gt;,
  &lt;ns2:child&gt;I'm in namespace 2&lt;/</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.15pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><sub><span
  style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;
  color:red'>&#8594;</span></sub><i><span style='font-size:9.0pt;line-height:
  107%;color:#407F8F'>ns2:child&gt;]</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:207.2pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>select(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;ns1|child&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, namespaces</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>namespaces) </span><i><span
  style='font-size:9.0pt;line-height:107%;color:#407F8F'>#
  [&lt;ns1:child&gt;I'm in namespace 1&lt;/ns1:child&gt;]</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>When handling a CSS selector that uses namespaces,
Beautiful Soup uses the namespace abbreviations it found when parsing the
document. You can override this by passing in your own dictionary of
abbreviations:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.9pt'>

<p class=MsoNormal align=left style='margin-bottom:13.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>namespaces </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#007021'>dict</span><span style='font-size:9.0pt;line-height:104%'>(first</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;http://namespace1/&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, second</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;http://namespace2/&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>select(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;second|child&quot;</span><span style='font-size:9.0pt;
line-height:104%'>, namespaces</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%'>namespaces)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
[&lt;ns1:child&gt;I'm in namespace 2&lt;/ns1:child&gt;]</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:96.6pt;
margin-left:-.25pt'>All this CSS selector stuff is a convenience for people who
already know the CSS selector syntax. You can do all of this with the Beautiful
Soup API. And if CSS selectors are all you need, you should parse the document
with lxml: its a lot faster. But this lets you <i>combine </i>CSS selectors
with the Beautiful Soup API.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>7.10.
CSS selectors</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>8</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 91025"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h4 style='margin-right:-.75pt'>Modifying the tree</h4>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 91026"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.85pt;
margin-left:-.25pt'>Beautiful Soups main strength is in searching the parse
tree, but you can also modify the tree and write your changes as a new HTML or
XML document.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'>8.1 Changing tag names and attributes</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>I covered this earlier, in <i><span style='color:#355F7C'>Attributes</span></i>,
but it bears repeating. You can rename a tag, change the values of its
attributes, add new attributes, and delete attributes:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:148.85pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:148.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:121.1pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>soup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;b
  class=&quot;boldest&quot;&gt;Extremely bold&lt;/b&gt;'</span><span
  style='font-size:9.0pt;line-height:123%'>) tag </span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:123%'>soup</span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:123%'>b</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:330.95pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  118%'><span style='font-size:9.0pt;line-height:118%'>tag</span><span
  style='font-size:9.0pt;line-height:118%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:118%'>name </span><span style='font-size:
  9.0pt;line-height:118%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:118%;color:#4070A1'>&quot;blockquote&quot; </span><span
  style='font-size:9.0pt;line-height:118%'>tag[</span><span style='font-size:
  9.0pt;line-height:118%;color:#4070A1'>'class'</span><span style='font-size:
  9.0pt;line-height:118%'>] </span><span style='font-size:9.0pt;line-height:
  118%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:118%;
  color:#4070A1'>'verybold' </span><span style='font-size:9.0pt;line-height:
  118%'>tag[</span><span style='font-size:9.0pt;line-height:118%;color:#4070A1'>'id'</span><span
  style='font-size:9.0pt;line-height:118%'>] </span><span style='font-size:
  9.0pt;line-height:118%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:118%;color:#217F4F'>1 </span><span style='font-size:9.0pt;
  line-height:118%'>tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;blockquote class=&quot;verybold&quot;
  id=&quot;1&quot;&gt;Extremely bold&lt;/blockquote&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:379.35pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  116%'><b><span style='font-size:9.0pt;line-height:116%;color:#007021'>del </span></b><span
  style='font-size:9.0pt;line-height:116%'>tag[</span><span style='font-size:
  9.0pt;line-height:116%;color:#4070A1'>'class'</span><span style='font-size:
  9.0pt;line-height:116%'>] </span><b><span style='font-size:9.0pt;line-height:
  116%;color:#007021'>del </span></b><span style='font-size:9.0pt;line-height:
  116%'>tag[</span><span style='font-size:9.0pt;line-height:116%;color:#4070A1'>'id'</span><span
  style='font-size:9.0pt;line-height:116%'>] tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;blockquote&gt;Extremely bold&lt;/blockquote&gt;</span></i></p>
  </td>
 </tr>
</table>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:12.4pt;margin-left:
-.25pt'>8.2 Modifying .string</h5>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:-.25pt'>If you set a tags .string attribute to a new string, the
tags contents are replaced with that string:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:63.75pt'>

<p class=MsoNormal align=left style='margin-bottom:11.7pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>markup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>'&lt;a href=&quot;http://example.com/&quot;&gt;I linked to
&lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
line-height:108%'>soup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(markup)</span></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:309.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  115%'><span style='font-size:9.0pt;line-height:115%'>tag </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%'>soup</span><span style='font-size:
  9.0pt;line-height:115%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:115%'>a tag</span><span style='font-size:9.0pt;line-height:115%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:115%'>string </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;New link
  text.&quot; </span><span style='font-size:9.0pt;line-height:115%'>tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;New link
  text.&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.7pt;
margin-left:-.25pt'>Be careful: if the tag contained other tags, they and all
their contents will be destroyed.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110080">8.3 append()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:-.25pt'>You can add to a tags contents with Tag.append(). It works
just like calling .append() on a Python list:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:177.5pt'>

<p class=MsoNormal align=left style='margin-bottom:10.45pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;a&gt;Foo&lt;/a&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>a</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>append(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;Bar&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:36.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;FooBar&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;
</span></i><span style='font-size:9.0pt;line-height:104%'>soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>a</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>contents </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># [u'Foo', u'Bar']</span></i></p>

</div>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110081">8.4 extend()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Starting in Beautiful Soup 4.7.0, Tag also supports a
method called .extend(), which works just like calling .extend() on a Python
list:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:169.55pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>soup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>&quot;&lt;a&gt;Soup&lt;/a&gt;&quot;</span><span
  style='font-size:9.0pt;line-height:123%'>) soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>a</span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:123%'>extend([</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>&quot;'s&quot;</span><span
  style='font-size:9.0pt;line-height:123%'>, </span><span style='font-size:
  9.0pt;line-height:123%;color:#4070A1'>&quot; &quot;</span><span
  style='font-size:9.0pt;line-height:123%'>, </span><span style='font-size:
  9.0pt;line-height:123%;color:#4070A1'>&quot;on&quot;</span><span
  style='font-size:9.0pt;line-height:123%'>])</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:78.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'>#
  &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;Soup's
  on&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; </span></i><span style='font-size:
  9.0pt'>soup</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>a</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Soup', u''s', u' ', u'on']</span></i></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110082">8.5 NavigableString() and .new_tag()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you need to add a string to a document, no problemyou
can pass a Python string in to append(), or you can call the NavigableString constructor:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:105.0pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:105.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:261.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  111%'><span style='font-size:9.0pt;line-height:111%'>soup </span><span
  style='font-size:9.0pt;line-height:111%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:111%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:111%;color:#4070A1'>&quot;&lt;b&gt;&lt;/b&gt;&quot;</span><span
  style='font-size:9.0pt;line-height:111%'>) tag </span><span style='font-size:
  9.0pt;line-height:111%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:111%'>soup</span><span style='font-size:9.0pt;line-height:111%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:111%'>b tag</span><span
  style='font-size:9.0pt;line-height:111%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:111%'>append(</span><span
  style='font-size:9.0pt;line-height:111%;color:#4070A1'>&quot;Hello&quot;</span><span
  style='font-size:9.0pt;line-height:111%'>) new_string </span><span
  style='font-size:9.0pt;line-height:111%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:111%'>NavigableString(</span><span
  style='font-size:9.0pt;line-height:111%;color:#4070A1'>&quot; there&quot;</span><span
  style='font-size:9.0pt;line-height:111%'>) tag</span><span style='font-size:
  9.0pt;line-height:111%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:111%'>append(new_string) tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:287.9pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;b&gt;Hello
  there.&lt;/b&gt; </span></i><span style='font-size:9.0pt'>tag</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Hello', u' there']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>If you want to create a comment
or some other subclass of NavigableString, just call the constructor:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:17.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>from </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>import </span></b><span style='font-size:
  9.0pt;line-height:107%'>Comment</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  104%'><span style='font-size:9.0pt;line-height:104%'>new_comment </span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:104%'>Comment(</span><span
  style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;Nice to see
  you.&quot;</span><span style='font-size:9.0pt;line-height:104%'>) tag</span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:104%'>append(new_comment) tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:169.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># &lt;b&gt;Hello
  there&lt;!--Nice to see you.--&gt;&lt;/b&gt; </span></i><span
  style='font-size:9.0pt'>tag</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'Hello', u' there', u'Nice to see you.']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>(This is a new feature in
Beautiful Soup 4.4.0.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>What if you need to create a whole new tag? The best
solution is to call the factory method BeautifulSoup. new_tag():</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:126.9pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:126.9pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:234.1pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>soup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>&quot;&lt;b&gt;&lt;/b&gt;&quot;</span><span
  style='font-size:9.0pt;line-height:123%'>) original_tag </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>b</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:153.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  104%'><span style='font-size:9.0pt;line-height:104%'>new_tag </span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:104%'>soup</span><span style='font-size:
  9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:104%'>new_tag(</span><span style='font-size:9.0pt;line-height:
  104%;color:#4070A1'>&quot;a&quot;</span><span style='font-size:9.0pt;
  line-height:104%'>, href</span><span style='font-size:9.0pt;line-height:104%;
  color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%;
  color:#4070A1'>&quot;http://www.example.com&quot;</span><span
  style='font-size:9.0pt;line-height:104%'>) original_tag</span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:104%'>append(new_tag) original_tag</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;b&gt;&lt;a
  href=&quot;http://www.example.com&quot;&gt;&lt;/a&gt;&lt;/b&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>new_tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>string </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;Link text.&quot;
  </span><span style='font-size:9.0pt;line-height:107%'>original_tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;b&gt;&lt;a
  href=&quot;http://www.example.com&quot;&gt;Link text.&lt;/a&gt;&lt;/b&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.7pt;
margin-left:-.25pt'>Only the first argument, the tag name, is required.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110083">8.6 insert()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Tag.insert() is just like Tag.append(), except the new
element doesnt necessarily go at the end of its parents .contents. Itll be
inserted at whatever numeric position you say. It works just like .insert() on
a Python list:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:105.0pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:105.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
  line-height:123%'>soup </span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:123%'>BeautifulSoup(markup)
  tag </span><span style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:250.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>tag</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>insert(</span><span
  style='font-size:9.0pt;line-height:107%;color:#217F4F'>1</span><span
  style='font-size:9.0pt;line-height:107%'>, </span><span style='font-size:
  9.0pt;line-height:107%;color:#4070A1'>&quot;but did not endorse &quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:normal'><i><span style='font-size:9.0pt;color:#407F8F'>#
  &lt;a href=&quot;http://example.com/&quot;&gt;I linked to but did not endorse
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt; </span></i><span style='font-size:
  9.0pt'>tag</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'I linked to ', u'but did not endorse',
  &lt;i&gt;example.com&lt;/i&gt;]</span></i></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110084">8.7 insert_before() and insert_after()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:-.25pt'>The insert_before() method inserts tags or strings
immediately before something else in the parse tree:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:279.7pt'>

<p class=MsoNormal align=left style='margin-bottom:41.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;b&gt;stop&lt;/b&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) tag </span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>new_tag(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;i&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) tag</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>string </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;Don't&quot; </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>b</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>string</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>insert_before(tag) soup</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>b </span><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'># &lt;b&gt;&lt;i&gt;Don't&lt;/i&gt;stop&lt;/b&gt;</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.2pt;margin-left:
-.25pt'><span style='font-size:10.0pt;line-height:107%;color:black'>8.6. insert()</span></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The insert_after() method inserts tags or strings
immediately following something else in the parse tree:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:277.15pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  118%'><span style='font-size:9.0pt;line-height:118%'>div </span><span
  style='font-size:9.0pt;line-height:118%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:118%'>soup</span><span style='font-size:
  9.0pt;line-height:118%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:118%'>new_tag(</span><span style='font-size:9.0pt;line-height:
  118%;color:#4070A1'>'div'</span><span style='font-size:9.0pt;line-height:
  118%'>) div</span><span style='font-size:9.0pt;line-height:118%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:118%'>string </span><span
  style='font-size:9.0pt;line-height:118%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:118%;color:#4070A1'>'ever' </span><span
  style='font-size:9.0pt;line-height:118%'>soup</span><span style='font-size:
  9.0pt;line-height:118%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:118%'>b</span><span style='font-size:9.0pt;line-height:118%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:118%'>i</span><span
  style='font-size:9.0pt;line-height:118%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:118%'>insert_after(</span><span
  style='font-size:9.0pt;line-height:118%;color:#4070A1'>&quot; you &quot;</span><span
  style='font-size:9.0pt;line-height:118%'>, div) soup</span><span
  style='font-size:9.0pt;line-height:118%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:118%'>b</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:137.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'>#
  &lt;b&gt;&lt;i&gt;Don't&lt;/i&gt; you &lt;div&gt;ever&lt;/div&gt;
  stop&lt;/b&gt; </span></i><span style='font-size:9.0pt'>soup</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>b</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>contents</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [&lt;i&gt;Don't&lt;/i&gt;, u' you',
  &lt;div&gt;ever&lt;/div&gt;, u'stop']</span></i></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110085">8.8 clear()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Tag.clear() removes the contents of a tag:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
  line-height:123%'>soup </span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:123%'>BeautifulSoup(markup)
  tag </span><span style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:390.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><span style='font-size:9.0pt'>tag</span><span style='font-size:9.0pt;
  color:#666666'>.</span><span style='font-size:9.0pt'>clear() tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110086">8.9 extract()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:-.25pt'>PageElement.extract() removes a tag or string from the
tree. It returns the tag or string that was extracted:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:215.15pt'>

<p class=MsoNormal align=left style='margin-bottom:12.1pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>markup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>'&lt;a href=&quot;http://example.com/&quot;&gt;I linked to
&lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
line-height:108%'>soup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(markup)
a_tag </span><span style='font-size:9.0pt;line-height:108%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:108%'>soup</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:108%'>a</span></p>

<p class=MsoNormal align=left style='margin-bottom:11.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>i_tag </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>i</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>extract()</span></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>a_tag </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;I linked
to&lt;/a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>i_tag </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># &lt;i&gt;example.com&lt;/i&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(i_tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>parent) </span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>None</span></b></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>At this point you effectively have two parse trees: one
rooted at the BeautifulSoup object you used to parse the document, and one
rooted at the tag that was extracted. You can go on to call extract on a child
of the element you extracted:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:94.05pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:94.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:282.5pt;
  margin-bottom:10.55pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:104%'><span style='font-size:9.0pt;line-height:104%'>my_string </span><span
  style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:104%'>i_tag</span><span style='font-size:
  9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:104%'>string</span><span style='font-size:9.0pt;line-height:104%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>extract()
  my_string </span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
  u'example.com'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(my_string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>parent)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:406.25pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># None </span></i><span
  style='font-size:9.0pt'>i_tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;i&gt;&lt;/i&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:30.1pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110087">8.10 decompose()</a></h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.1pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'>Tag.decompose() removes a tag from the tree, then <i>completely destroys
it and its contents</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:63.75pt'>

<p class=MsoNormal align=left style='margin-bottom:10.55pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>markup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>'&lt;a href=&quot;http://example.com/&quot;&gt;I linked to
&lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
line-height:108%'>soup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(markup)
a_tag </span><span style='font-size:9.0pt;line-height:108%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:108%'>soup</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:108%'>a</span></p>

<p class=MsoNormal align=left style='margin-bottom:10.45pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>i</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>decompose()</span></p>

<p class=MsoNormal align=left style='margin-bottom:36.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>a_tag </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;I linked
to&lt;/a&gt;</span></i></p>

</div>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110088">8.11 replace_with()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>PageElement.replace_with() removes a tag or string from the
tree, and replaces it with the tag or string of your choice:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:115.95pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:115.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
  line-height:123%'>soup </span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:123%'>BeautifulSoup(markup)
  a_tag </span><span style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:244.85pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%'>new_tag </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%'>soup</span><span style='font-size:
  9.0pt;line-height:115%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:115%'>new_tag(</span><span style='font-size:9.0pt;line-height:
  115%;color:#4070A1'>&quot;b&quot;</span><span style='font-size:9.0pt;
  line-height:115%'>) new_tag</span><span style='font-size:9.0pt;line-height:
  115%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:115%'>string
  </span><span style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;example.net&quot;
  </span><span style='font-size:9.0pt;line-height:115%'>a_tag</span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>i</span><span style='font-size:9.0pt;
  line-height:115%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:115%'>replace_with(new_tag)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>a_tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;b&gt;example.net&lt;/b&gt;&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.7pt;
margin-left:-.25pt'>replace_with() returns the tag or string that was replaced,
so that you can examine it or add it back to another part of the tree.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110089">8.12 wrap()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:-.25pt'>PageElement.wrap() wraps an element in the tag you specify.
It returns the new wrapper:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:215.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;p&gt;I wish I
was bold.&lt;/p&gt;&quot;</span><span style='font-size:9.0pt;line-height:104%'>)
soup</span><span style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>p</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>string</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>wrap(soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>new_tag(</span><span style='font-size:
9.0pt;line-height:104%;color:#4070A1'>&quot;b&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;I wish I was bold.&lt;/b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>wrap(soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>new_tag(</span><span style='font-size:
9.0pt;line-height:104%;color:#4070A1'>&quot;div&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;div&gt;&lt;p&gt;&lt;b&gt;I wish I
was bold.&lt;/b&gt;&lt;/p&gt;&lt;/div&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.65pt;
margin-left:-.25pt'>This method is new in Beautiful Soup 4.0.5.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110090">8.13 unwrap()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:39.9pt;
margin-left:-.25pt'>Tag.unwrap() is the opposite of wrap(). It replaces a tag
with whatevers inside that tag. Its good for stripping out markup:</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.2pt;margin-left:
-.25pt'><span style='font-size:10.0pt;line-height:107%;color:black'>8.10. decompose()</span></h6>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
  line-height:123%'>soup </span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:123%'>BeautifulSoup(markup)
  a_tag </span><span style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>soup</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>a</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:352.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><span style='font-size:9.0pt'>a_tag</span><span style='font-size:
  9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>i</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>unwrap()
  a_tag</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a href=&quot;http://example.com/&quot;&gt;I linked to
  example.com&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:29.2pt;
margin-left:-.25pt'>Like replace_with(), unwrap() returns the tag that was
replaced.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110091">8.14 smooth()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>After calling a bunch of methods that modify the parse
tree, you may end up with two or more NavigableString objects next to each
other. Beautiful Soup doesnt have any problems with this, but since it cant
happen in a freshly parsed document, you might not expect behavior like the
following:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:159.8pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:159.8pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:185.7pt;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&lt;p&gt;A
  one&lt;/p&gt;&quot;</span><span style='font-size:9.0pt;line-height:107%'>)
  soup</span><span style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>append(</span><span style='font-size:9.0pt;line-height:
  107%;color:#4070A1'>&quot;, a two&quot;</span><span style='font-size:9.0pt;
  line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>contents</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'A one', u', a two']</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:341.7pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><span style='font-size:9.0pt;color:#007021'>print</span><span
  style='font-size:9.0pt'>(soup</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>p</span><span style='font-size:9.0pt;color:#666666'>.</span><span
  style='font-size:9.0pt'>encode()) </span><i><span style='font-size:9.0pt;
  color:#407F8F'># &lt;p&gt;A one, a two&lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>prettify())</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># A one</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># , a two</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can call Tag.smooth() to
clean up the parse tree by consolidating adjacent strings:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:10.45pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>smooth()</span></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>contents </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># [u'A one, a two']</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>prettify()) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># A one, a two</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/p&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The smooth() method is new in
Beautiful Soup 4.8.0.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection9>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:27.05pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>9</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 97149"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-right:-.75pt'><a name="_Toc110092">Output</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:53.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 97150"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:11.85pt;margin-left:
-.25pt'><a name="_Toc110093">9.1 Pretty-printing</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The prettify() method will turn a Beautiful Soup parse tree
into a nicely formatted Unicode string, with a separate line for each tag and
each string:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:203.65pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:203.65pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  115%'><span style='font-size:9.0pt;line-height:115%'>markup </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;I linked to
  &lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;' </span><span style='font-size:9.0pt;
  line-height:115%'>soup </span><span style='font-size:9.0pt;line-height:115%;
  color:#666666'>= </span><span style='font-size:9.0pt;line-height:115%'>BeautifulSoup(markup)
  soup</span><span style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>prettify()</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># '&lt;html&gt;\n &lt;head&gt;\n &lt;/head&gt;\n
  &lt;body&gt;\n &lt;a href=&quot;http://example.com/&quot;&gt;\n...'</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>prettify())</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;head&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/head&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#                 &lt;a
  href=&quot;http://example.com/&quot;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#               I linked to</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#           &lt;i&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#               example.com</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#           &lt;/i&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#         &lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/html&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can call prettify() on the
top-level BeautifulSoup object, or on any of its Tag objects:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>a</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>prettify()) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># &lt;a
href=&quot;http://example.com/&quot;&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># I linked to</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;i&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#           example.com</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/i&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/a&gt;</span></i></p>

</div>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.0pt;margin-left:
-.25pt'><a name="_Toc110094">9.2 Non-pretty printing</a></h2>

<p class=MsoNormal style='margin-left:-.25pt'>If you just want a string, with
no fancy formatting, you can call unicode() or str() on a BeautifulSoup object,
or a Tag within it:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>str</span><span style='font-size:9.0pt;
line-height:104%'>(soup) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># '&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a
href=&quot;http://example.com/&quot;&gt;I linked to &lt;i&gt;example.com&lt;/</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:10.5pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:5.0pt;
line-height:104%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:104%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'>i&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;'</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>unicode(soup</span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>a) </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># u'&lt;a
href=&quot;http://example.com/&quot;&gt;I linked to
&lt;i&gt;example.com&lt;/i&gt;&lt;/a&gt;'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The str() function returns a
string encoded in UTF-8. See <i><span style='color:#355F7C'>Encodings </span></i>for
other options.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.0pt;
margin-left:-.25pt'>You can also call encode() to get a bytestring, and decode()
to get Unicode.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110095">9.3 Output formatters</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you give Beautiful Soup a document that contains HTML
entities like &amp;lquot;, theyll be converted to Unicode characters:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:39.25pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:39.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:105.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&amp;ldquo;Dammit!&amp;rdquo;
  he said.&quot;</span><span style='font-size:9.0pt;line-height:107%'>)
  unicode(soup)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#
  u'&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\u201cDammit!\u201d he
  said.&lt;/body&gt;&lt;/html&gt;'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>If you then convert the document
to a string, the Unicode characters will be encoded as UTF-8. You wont get the
HTML entities back:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:21.5pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>str</span><span style='font-size:9.0pt;
line-height:104%'>(soup) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'>#
'&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\xe2\x80\x9cDammit!\xe2\x80\x9d
he said.&lt;/body&gt;&lt;/html&gt;'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>By default, the only characters that are escaped upon
output are bare ampersands and angle brackets. These get turned into
&amp;amp;, &amp;lt;, and &amp;gt;, so that Beautiful Soup doesnt
inadvertently generate invalid HTML or XML:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:61.95pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&lt;p&gt;The law
  firm of Dewey, Cheatem, &amp; Howe&lt;/p&gt;&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>p</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p&gt;The law firm of Dewey, Cheatem, &amp;amp;
  Howe&lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/?foo=val1&amp;bar=val2&quot;&gt;A
  link&lt;/a&gt;'</span><span style='font-size:9.0pt;line-height:107%'>) soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>a</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a
  href=&quot;http://example.com/?foo=val1&amp;amp;bar=val2&quot;&gt;A
  link&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>You can change this behavior by
providing a value for the formatter argument to prettify(), encode(), or decode().
Beautiful Soup recognizes five possible values for formatter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>The default is formatter=&quot;minimal&quot;. Strings will
only be processed enough to ensure that Beautiful Soup generates valid
HTML/XML:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>french </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;&lt;p&gt;Il a dit &amp;lt;&amp;lt;Sacr&amp;eacute;
bleu!&amp;gt;&amp;gt;&lt;/p&gt;&quot; </span><span style='font-size:9.0pt;
line-height:108%'>soup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%'>BeautifulSoup(french)
</span><span style='font-size:9.0pt;line-height:108%;color:#007021'>print</span><span
style='font-size:9.0pt;line-height:108%'>(soup</span><span style='font-size:
9.0pt;line-height:108%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:108%'>prettify(formatter</span><span style='font-size:9.0pt;
line-height:108%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;minimal&quot;</span><span
style='font-size:9.0pt;line-height:108%'>)) </span><i><span style='font-size:
9.0pt;line-height:108%;color:#407F8F'># &lt;html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#        &lt;p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                          Il a dit
&amp;lt;&amp;lt;Sacré bleu!&amp;gt;&amp;gt;</span></i></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:24.5pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.8pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#         &lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>If you pass in formatter=&quot;html&quot;,
Beautiful Soup will convert Unicode characters to HTML entities whenever
possible:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>prettify(formatter</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;html&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#        &lt;p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.05pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#                            Il a dit
&amp;lt;&amp;lt;Sacr&amp;eacute; bleu!&amp;gt;&amp;gt;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
104%;border:none;padding:0in'><i><span style='font-size:9.0pt;line-height:104%;
color:#407F8F'>#         &lt;/p&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/body&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>If you pass in formatter=&quot;html5&quot;, its the same
as formatter=&quot;html5&quot;, but Beautiful Soup will omit the closing slash
in HTML void tags like br:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:263.55pt'>

<p class=MsoNormal align=left style='margin-bottom:11.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;br&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>encode(formatter</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;html&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'>#
&lt;html&gt;&lt;body&gt;&lt;br/&gt;&lt;/body&gt;&lt;/html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>encode(formatter</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;html5&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'>#
&lt;html&gt;&lt;body&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you pass in formatter=None, Beautiful Soup will not
modify strings at all on output. This is the fastest option, but it may lead to
Beautiful Soup generating invalid HTML/XML, as in these examples:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:148.85pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 13.9pt 0in 3.2pt;
  height:148.85pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>prettify(formatter</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><b><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>None</span></b><span
  style='font-size:9.0pt;line-height:107%'>))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#        &lt;p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#                    Il a dit &lt;&lt;Sacré bleu!&gt;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#         &lt;/p&gt;</span></i></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:398.1pt;margin-bottom:
  12.65pt;margin-left:0in;text-indent:0in;line-height:normal'><i><span
  style='font-size:9.0pt;color:#407F8F'># &lt;/body&gt; # &lt;/html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.9pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>link_soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/?foo=val1&amp;bar=val2&quot;&gt;A
  link&lt;/a&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:215.2pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:2.9pt;
  line-height:101%'><i><span style='font-size:5.0pt;line-height:101%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:101%;font-family:"Cambria",serif;color:red'>&#8594;</span><span
  style='font-size:9.0pt;line-height:101%;color:#4070A1'>'</span><span
  style='font-size:9.0pt;line-height:101%'>) </span><span style='font-size:
  9.0pt;line-height:101%;color:#007021'>print</span><span style='font-size:
  9.0pt;line-height:101%'>(link_soup</span><span style='font-size:9.0pt;
  line-height:101%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:101%'>a</span><span style='font-size:9.0pt;line-height:101%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:101%'>encode(formatter</span><span
  style='font-size:9.0pt;line-height:101%;color:#666666'>=</span><b><span
  style='font-size:9.0pt;line-height:101%;color:#007021'>None</span></b><span
  style='font-size:9.0pt;line-height:101%'>))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a
  href=&quot;http://example.com/?foo=val1&amp;bar=val2&quot;&gt;A
  link&lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you need more sophisticated control over your output,
you can use Beautiful Soups Formatter class. Heres a formatter that converts
strings to uppercase, whether they occur in a text node or in an attribute
value:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:105.0pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:105.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:239.5pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  124%'><b><span style='font-size:9.0pt;line-height:124%;color:#007021'>from </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#0D85B5'>bs4.formatter </span></b><b><span
  style='font-size:9.0pt;line-height:124%;color:#007021'>import </span></b><span
  style='font-size:9.0pt;line-height:124%'>HTMLFormatter </span><b><span
  style='font-size:9.0pt;line-height:124%;color:#007021'>def </span></b><span
  style='font-size:9.0pt;line-height:124%;color:#05297D'>uppercase</span><span
  style='font-size:9.0pt;line-height:124%'>(</span><span style='font-size:9.0pt;
  line-height:124%;color:#007021'>str</span><span style='font-size:9.0pt;
  line-height:124%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  107%;color:#007021'>str</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>upper()</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>formatter </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>HTMLFormatter(uppercase)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>prettify(formatter</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>formatter))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#        &lt;p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:22.0pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>9.3.
Output formatters</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:105.0pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 202.2pt 0in 3.2pt;
  height:105.0pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#                  IL A DIT &lt;&lt;SACRÉ BLEU!&gt;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#         &lt;/p&gt;</span></i></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:209.8pt;margin-bottom:
  10.95pt;margin-left:0in;text-indent:0in;line-height:normal'><i><span
  style='font-size:9.0pt;color:#407F8F'># &lt;/body&gt; # &lt;/html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:normal'><span style='font-size:9.0pt;color:#007021'>print</span><span
  style='font-size:9.0pt'>(link_soup</span><span style='font-size:9.0pt;
  color:#666666'>.</span><span style='font-size:9.0pt'>a</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>prettify(formatter</span><span
  style='font-size:9.0pt;color:#666666'>=</span><span style='font-size:9.0pt'>formatter))
  </span><i><span style='font-size:9.0pt;color:#407F8F'># &lt;a
  href=&quot;HTTP://EXAMPLE.COM/?FOO=VAL1&amp;BAR=VAL2&quot;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># A LINK</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/a&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:-.25pt'>Subclassing HTMLFormatter or XMLFormatter will give you
even more control over the output. For example, Beautiful Soup sorts the
attributes in every tag by default:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:172.1pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>attr_soup </span><span style='font-size:9.0pt;line-height:
104%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>b'&lt;p z=&quot;1&quot;
m=&quot;2&quot; a=&quot;3&quot;&gt;&lt;/p&gt;'</span><span style='font-size:
9.0pt;line-height:104%'>) </span><span style='font-size:9.0pt;line-height:104%;
color:#007021'>print</span><span style='font-size:9.0pt;line-height:104%'>(attr_soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>p</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>encode()) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># &lt;p a=&quot;3&quot; m=&quot;2&quot;
z=&quot;1&quot;&gt;&lt;/p&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>To turn this off, you can subclass the Formatter.attributes()
method, which controls which attributes are output and in what order. This
implementation also filters out the attribute called m whenever it appears:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:94.05pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:94.05pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>class </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>UnsortedAttributes</span></b><span style='font-size:9.0pt;
  line-height:107%'>(HTMLFormatter):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>def </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#05297D'>attributes</span><span style='font-size:9.0pt;line-height:
  107%'>(</span><span style='font-size:9.0pt;line-height:107%;color:#007021'>self</span><span
  style='font-size:9.0pt;line-height:107%'>, tag):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:43.05pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>k,
  v </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>attrs</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>items():</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:293.25pt;
  margin-bottom:.8pt;margin-left:86.05pt;text-align:left;text-indent:-21.5pt;
  line-height:108%'><b><span style='font-size:9.0pt;line-height:108%;
  color:#007021'>if </span></b><span style='font-size:9.0pt;line-height:108%'>k
  </span><span style='font-size:9.0pt;line-height:108%;color:#666666'>== </span><span
  style='font-size:9.0pt;line-height:108%;color:#4070A1'>'m'</span><span
  style='font-size:9.0pt;line-height:108%'>: </span><b><span style='font-size:
  9.0pt;line-height:108%;color:#007021'>continue</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.1pt;margin-left:64.55pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>yield </span></b><span style='font-size:9.0pt;line-height:
  107%'>k, v</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>print</span><span style='font-size:9.0pt;line-height:107%'>(attr_soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>encode(formatter</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>=</span><span style='font-size:9.0pt;
  line-height:107%'>UnsortedAttributes()))</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p z=&quot;1&quot; a=&quot;3&quot;&gt;&lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:-.25pt'>One last caveat: if you create a CData object, the text
inside that object is always presented <i>exactly as it appears, with no
formatting</i>. Beautiful Soup will call your entity substitution function,
just in case youve written a custom function that counts all the strings in
the document or something, but it will ignore the return value:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4.element </span></b><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>import </span></b><span
style='font-size:9.0pt;line-height:104%'>CData soup </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>BeautifulSoup(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;&lt;a&gt;&lt;/a&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>a</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>string </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>CData(</span><span style='font-size:
9.0pt;line-height:104%;color:#4070A1'>&quot;one &lt; three&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>a</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>prettify(formatter</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;xml&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;a&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;![CDATA[one &lt; three]]&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:36.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;/a&gt;</span></i></p>

</div>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110096">9.4 get_text()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If you only want the text part of a document or tag, you
can use the get_text() method. It returns all the text in a document or beneath
a tag, as a single Unicode string:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:83.1pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:83.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:18.9pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'&lt;a
  href=&quot;http://example.com/&quot;&gt;<b>\n</b>I linked to
  &lt;i&gt;example.com&lt;/i&gt;<b>\n</b>&lt;/a&gt;' </span><span
  style='font-size:9.0pt;line-height:123%'>soup </span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:123%'>BeautifulSoup(markup)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>get_text()</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:298.65pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>u'<b>\n</b>I
  linked to example.com<b>\n</b>' </span><span style='font-size:9.0pt;
  line-height:107%'>soup</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>i</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>get_text() </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>u'example.com'</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:25.05pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal style='margin-left:-.25pt'>You can specify a string to be
used to join the bits of text together:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:295.85pt'>

<p class=MsoNormal align=left style='margin-bottom:12.95pt;text-align:left;
line-height:108%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:108%;color:#407F8F'># soup.get_text(&quot;|&quot;) </span></i><span
style='font-size:9.0pt;line-height:108%;color:#4070A1'>u'<b>\n</b>I linked to
|example.com|<b>\n</b>'</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>You can tell Beautiful Soup to
strip whitespace from the beginning and end of each bit of text:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:279.7pt'>

<p class=MsoNormal align=left style='margin-bottom:14.7pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># soup.get_text(&quot;|&quot;, strip=True) </span></i><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>u'I linked
to|example.com'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>But at that point you might want to use the <i><span
style='color:#355F7C'>.stripped_strings </span></i>generator instead, and
process the text yourself:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>[text </span><b><span style='font-size:9.0pt;line-height:
104%;color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:
104%'>text </span><b><span style='font-size:9.0pt;line-height:104%;color:#007021'>in
</span></b><span style='font-size:9.0pt;line-height:104%'>soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>stripped_strings]</span></p>

<p class=MsoNormal align=left style='margin-bottom:516.0pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># [u'I linked to', u'example.com']</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.2pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>9.4.
get_text()</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:26.8pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>10</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 96412"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-right:-.75pt'><a name="_Toc110097">Specifying the parser to
use</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.35pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 96415"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-left:-.25pt'>If you just need to parse some
HTML, you can dump the markup into the BeautifulSoup constructor, and itll
probably be fine. Beautiful Soup will pick a parser for you and parse the data.
But there are a few additional arguments you can pass in to the constructor to
change which parser is used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>The first argument to the BeautifulSoup constructor is a
string or an open filehandlethe markup you want parsed. The second argument is
<i>how </i>youd like the markup parsed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.95pt;
margin-left:-.25pt;line-height:128%'>If you dont specify anything, youll get
the best HTML parser thats installed. Beautiful Soup ranks lxmls parser as
being the best, then html5libs, then Pythons built-in parser. You can
override this by specifying one of the following:  What type of markup you
want to parse. Currently supported are html, xml, and html5.</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'> The name of
the parser library you want to use. Currently supported options are lxml,
html5lib, and html.parser (Pythons built-in HTML parser).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:-.25pt'>The section <i><span style='color:#355F7C'>Installing a
parser </span></i>contrasts the supported parsers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.85pt;
margin-left:-.25pt'>If you dont have an appropriate parser installed,
Beautiful Soup will ignore your request and pick a different parser. Right now,
the only supported XML parser is lxml. If you dont have lxml installed, asking
for an XML parser wont give you one, and asking for lxml wont work either.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110098">10.1 Differences between
parsers</a></h2>

<p class=MsoNormal style='margin-left:-.25pt'>Beautiful Soup presents the same
interface to a number of different parsers, but each parser is different.
Different parsers will create different parse trees from the same document. The
biggest differences are between the HTML parsers and the XML parsers. Heres a
short document, parsed as HTML:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup(</span><span style='font-size:9.0pt;line-height:
104%;color:#4070A1'>&quot;&lt;a&gt;&lt;b /&gt;&lt;/a&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:-.25pt'>Since an empty &lt;b /&gt; tag is not valid HTML, the
parser turns it into a &lt;b&gt;&lt;/b&gt; tag pair.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Heres the same document parsed
as XML (running this requires that you have lxml installed). Note that the
empty &lt;b /&gt; tag is left alone, and that the document is given an XML
declaration instead of being put into an &lt;html&gt; tag.:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>BeautifulSoup(</span><span style='font-size:9.0pt;line-height:
108%;color:#4070A1'>&quot;&lt;a&gt;&lt;b /&gt;&lt;/a&gt;&quot;</span><span
style='font-size:9.0pt;line-height:108%'>, </span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;xml&quot;</span><span style='font-size:
9.0pt;line-height:108%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;?xml version=&quot;1.0&quot;
encoding=&quot;utf-8&quot;?&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a&gt;&lt;b/&gt;&lt;/a&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>There are also differences between HTML parsers. If you
give Beautiful Soup a perfectly-formed HTML document, these differences wont
matter. One parser will be faster than another, but theyll all give you a data
structure that looks exactly like the original HTML document.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:-.25pt'>But if the document is not perfectly-formed, different
parsers will give different results. Heres a short, invalid document parsed
using lxmls HTML parser. Note that the dangling &lt;/p&gt; tag is simply
ignored:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup(</span><span style='font-size:9.0pt;line-height:
104%;color:#4070A1'>&quot;&lt;a&gt;&lt;/p&gt;&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;lxml&quot;</span><span style='font-size:
9.0pt;line-height:104%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#
&lt;html&gt;&lt;body&gt;&lt;a&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Heres the same document parsed using html5lib:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:66.45pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>BeautifulSoup(</span><span style='font-size:9.0pt;line-height:
108%;color:#4070A1'>&quot;&lt;a&gt;&lt;/p&gt;&quot;</span><span
style='font-size:9.0pt;line-height:108%'>, </span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;html5lib&quot;</span><span
style='font-size:9.0pt;line-height:108%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;&lt;p&gt;&lt;/p&gt;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>Instead of ignoring the dangling &lt;/p&gt; tag, html5lib
pairs it with an opening &lt;p&gt; tag. This parser also adds an empty
&lt;head&gt; tag to the document.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>Heres the same document parsed with Pythons built-in HTML
parser:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:66.45pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>BeautifulSoup(</span><span style='font-size:9.0pt;line-height:
108%;color:#4070A1'>&quot;&lt;a&gt;&lt;/p&gt;&quot;</span><span
style='font-size:9.0pt;line-height:108%'>, </span><span style='font-size:9.0pt;
line-height:108%;color:#4070A1'>&quot;html.parser&quot;</span><span
style='font-size:9.0pt;line-height:108%'>)</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;a&gt;&lt;/a&gt;</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>Like html5lib, this parser ignores the closing &lt;/p&gt;
tag. Unlike html5lib, this parser makes no attempt to create a well-formed HTML
document by adding a &lt;body&gt; tag. Unlike lxml, it doesnt even bother to
add an &lt;html&gt; tag.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>Since the document &lt;a&gt;&lt;/p&gt; is invalid, none
of these techniques is the correct way to handle it. The html5lib parser uses
techniques that are part of the HTML5 standard, so it has the best claim on
being the correct way, but all three techniques are legitimate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:257.6pt;
margin-left:-.25pt'>Differences between parsers can affect your script. If
youre planning on distributing your script to other people, or running it on
multiple machines, you should specify a parser in the BeautifulSoup constructor.
That will reduce the chances that your users parse a document differently from
the way you parse it.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
10. Specifying the parser to use</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:26.8pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>11</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 99630"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-right:-.75pt'><a name="_Toc110099">Encodings</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 99631"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Any HTML or XML document is written in a specific encoding
like ASCII or UTF-8. But when you load that document into Beautiful Soup,
youll discover its been converted to Unicode:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:261.0pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  115%'><span style='font-size:9.0pt;line-height:115%'>markup </span><span
  style='font-size:9.0pt;line-height:115%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:115%;color:#4070A1'>&quot;&lt;h1&gt;Sacr<b>\xc3\xa9
  </b>bleu!&lt;/h1&gt;&quot; </span><span style='font-size:9.0pt;line-height:
  115%'>soup </span><span style='font-size:9.0pt;line-height:115%;color:#666666'>=
  </span><span style='font-size:9.0pt;line-height:115%'>BeautifulSoup(markup)
  soup</span><span style='font-size:9.0pt;line-height:115%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:115%'>h1</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:347.05pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><i><span style='font-size:9.0pt;line-height:107%;color:#407F8F'>#
  &lt;h1&gt;Sacré bleu!&lt;/h1&gt; </span></i><span style='font-size:9.0pt;
  line-height:107%'>soup</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>h1</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>string </span><i><span
  style='font-size:9.0pt;line-height:107%;color:#407F8F'># u'Sacr\xe9 bleu!'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>Its not magic. (That sure would
be nice.) Beautiful Soup uses a sub-library called <i><span style='color:#355F7C'>Unicode,
Dammit </span></i>to detect a documents encoding and convert it to Unicode.
The autodetected encoding is available as the .original_encoding attribute of
the BeautifulSoup object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:312.0pt'>

<p class=MsoNormal align=left style='margin-bottom:13.3pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>original_encoding
</span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>'utf-8'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.0pt;
margin-left:-.25pt'>Unicode, Dammit guesses correctly most of the time, but
sometimes it makes mistakes. Sometimes it guesses correctly, but only after a
byte-by-byte search of the document that takes a very long time. If you happen
to know a documents encoding ahead of time, you can avoid mistakes and delays
by passing it to the BeautifulSoup constructor as from_encoding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Heres a document written in ISO-8859-8. The document is so
short that Unicode, Dammit cant get a lock on it, and misidentifies it as
ISO-8859-7:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:266.35pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  116%'><span style='font-size:9.0pt;line-height:116%'>markup </span><span
  style='font-size:9.0pt;line-height:116%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:116%;color:#4070A1'>b&quot;&lt;h1&gt;<b>\xed\xe5\xec\xf9</b>&lt;/h1&gt;&quot;
  </span><span style='font-size:9.0pt;line-height:116%'>soup </span><span
  style='font-size:9.0pt;line-height:116%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:116%'>BeautifulSoup(markup) soup</span><span
  style='font-size:9.0pt;line-height:116%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:116%'>h1</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><img border=0 width=55 height=11 id="Picture 107105"
  src="Beautiful%20Soup%20Documentation_files/image005.gif"><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>&lt;/</span><span
  style='font-size:9.0pt;line-height:107%'>h1</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>original_encoding</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>'ISO-8859-7'</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>We can fix this by passing in the
correct from_encoding:</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection11>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:166.75pt'>

<p class=MsoNormal align=left style='margin-bottom:13.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup,
from_encoding</span><span style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;iso-8859-8&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>h1 </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>&lt;</span><span style='font-size:9.0pt;line-height:104%'>h1</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>&gt;&lt;/</span><span
style='font-size:9.0pt;line-height:104%'>h1</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>&gt; </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>original_encoding
</span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>'iso8859-8'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:-.25pt'>If you dont know what the correct encoding is, but you
know that Unicode, Dammit is guessing wrong, you can pass the wrong guesses in
as exclude_encodings:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:134.45pt'>

<p class=MsoNormal align=left style='margin-bottom:13.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup,
exclude_encodings</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>=</span><span style='font-size:9.0pt;line-height:104%'>[</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;ISO-8859-7&quot;</span><span
style='font-size:9.0pt;line-height:104%'>]) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>h1 </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>&lt;</span><span style='font-size:9.0pt;line-height:104%'>h1</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>&gt;&lt;/</span><span
style='font-size:9.0pt;line-height:104%'>h1</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>&gt; </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>original_encoding
</span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>'WINDOWS-1255'</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.75pt;
margin-left:-.25pt'>Windows-1255 isnt 100% correct, but that encoding is a
compatible superset of ISO-8859-8, so its close enough. (exclude_encodings is
a new feature in Beautiful Soup 4.4.0.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.6pt;
margin-left:-.25pt'>In rare cases (usually when a UTF-8 document contains text
written in a completely different encoding), the only way to get Unicode may be
to replace some characters with the special Unicode character REPLACEMENT
CHARACTER (U+FFFD, ). If Unicode, Dammit needs to do this, it will set the .contains_replacement_characters
attribute to True on the UnicodeDammit or BeautifulSoup object. This lets you
know that the Unicode representation is not an exact representation of the
originalsome data was lost. If a document contains , but .
contains_replacement_characters is False, youll know that the was there
originally (as it is in this paragraph) and doesnt stand in for missing data.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110100">11.1 Output encoding</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>When you write out a document from Beautiful Soup, you get
a UTF-8 document, even if the document wasnt in UTF-8 to begin with. Heres a
document written in the Latin-1 encoding:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:258.45pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:258.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>markup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>b'''</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:5.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;html&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;head&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:16.15pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;meta
  content=&quot;text/html; charset=ISO-Latin-1&quot;
  http-equiv=&quot;Content-type&quot; /&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;/head&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:16.15pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;p&gt;Sacr<b>\xe9
  </b>bleu!&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:10.75pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;/body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:406.25pt;
  margin-bottom:12.65pt;margin-left:0in;text-align:left;text-indent:5.4pt;
  line-height:normal'><span style='font-size:9.0pt;color:#4070A1'>&lt;/html&gt;
  '''</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:196.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(markup) </span><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(soup</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>prettify())</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;html&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;head&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#                                &lt;meta
  content=&quot;text/html; charset=utf-8&quot;
  http-equiv=&quot;Content-type&quot; /&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/head&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.85pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#        &lt;p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#              Sacré bleu!</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#         &lt;/p&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/body&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/html&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:25.05pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal style='margin-left:-.25pt'>Note that the &lt;meta&gt; tag
has been rewritten to reflect the fact that the document is now in UTF-8.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If you dont want UTF-8, you can
pass an encoding into prettify():</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:69.15pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>prettify(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;latin-1&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;html&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># &lt;head&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'>#              &lt;meta
content=&quot;text/html; charset=latin-1&quot;
http-equiv=&quot;Content-type&quot; /&gt; # ...</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can also call encode() on the BeautifulSoup object, or
any element in the soup, just as if it were a Python string:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:330.95pt;
  margin-bottom:10.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:normal'><span style='font-size:9.0pt'>soup</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>p</span><span
  style='font-size:9.0pt;color:#666666'>.</span><span style='font-size:9.0pt'>encode(</span><span
  style='font-size:9.0pt;color:#4070A1'>&quot;latin-1&quot;</span><span
  style='font-size:9.0pt'>) </span><i><span style='font-size:9.0pt;color:#407F8F'>#
  '&lt;p&gt;Sacr\xe9 bleu!&lt;/p&gt;'</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:309.4pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>p</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>encode(</span><span style='font-size:9.0pt;line-height:
  107%;color:#4070A1'>&quot;utf-8&quot;</span><span style='font-size:9.0pt;
  line-height:107%'>) </span><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># '&lt;p&gt;Sacr\xc3\xa9 bleu!&lt;/p&gt;'</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>Any characters that cant be represented in your chosen
encoding will be converted into numeric XML entity references. Heres a
document that includes the Unicode character SNOWMAN:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:258.2pt'>

<p class=MsoNormal align=left style='margin-bottom:13.65pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>markup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>u&quot;&lt;b&gt;<b>\N{SNOWMAN}</b>&lt;/b&gt;&quot; </span><span
style='font-size:9.0pt;line-height:104%'>snowman_soup </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup) tag </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>snowman_soup</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>b</span></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>The SNOWMAN character can be part
of a UTF-8 document (it looks like ), but theres no representation for that
character in ISO-Latin-1 or ASCII, so its converted into &amp;#9731 for
those encodings:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:322.75pt'>

<p class=MsoNormal align=left style='margin-bottom:12.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>encode(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;utf-8&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;&lt;/b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:12.1pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>encode(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;latin-1&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;&amp;#9731;&lt;/b&gt;</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:35.5pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>tag</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>encode(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;ascii&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># &lt;b&gt;&amp;#9731;&lt;/b&gt;</span></i></p>

</div>

<h2 style='margin-left:-.25pt'><a name="_Toc110101">11.2 Unicode, Dammit</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>You can use Unicode, Dammit without using Beautiful Soup.
Its useful whenever you have data in an unknown encoding and you just want it
to become Unicode:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:282.4pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>import </span></b><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit dammit </span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>= </span><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit(</span><span style='font-size:9.0pt;line-height:
104%;color:#4070A1'>&quot;Sacr<b>\xc3\xa9 </b>bleu!&quot;</span><span
style='font-size:9.0pt;line-height:104%'>) </span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(dammit</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>unicode_markup)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># Sacré
bleu!</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>dammit</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>original_encoding
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
'utf-8'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.55pt;
margin-left:-.25pt'>Unicode, Dammits guesses will get a lot more accurate if
you install the chardet or cchardet Python libraries. The more data you give
Unicode, Dammit, the more accurately it will guess. If you have your own
suspicions as to what the encoding might be, you can pass them in as a list:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>11.2.
Unicode, Dammit</b></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:107.55pt'>

<p class=MsoNormal align=left style='margin-bottom:13.25pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>dammit </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>UnicodeDammit(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;Sacr<b>\xe9 </b>bleu!&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, [</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;latin-1&quot;</span><span
style='font-size:9.0pt;line-height:104%'>, </span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;iso-8859-1&quot;</span><span
style='font-size:9.0pt;line-height:104%'>]) </span><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(dammit</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>unicode_markup)
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># Sacré
bleu! </span></i><span style='font-size:9.0pt;line-height:104%'>dammit</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>original_encoding </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># 'latin-1'</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.35pt;
margin-left:-.25pt'>Unicode, Dammit has two special features that Beautiful
Soup doesnt use.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>11.2.1 Smart quotes</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:-.25pt'>You can use Unicode, Dammit to convert Microsoft smart
quotes to HTML or XML entities:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:10.9pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>markup </span><span style='font-size:9.0pt;line-height:108%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>b&quot;&lt;p&gt;I just <b>\x93</b>love<b>\x94 </b>Microsoft Word<b>\x92</b>s
smart quotes&lt;/p&gt;&quot;</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit(markup, [</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;windows-1252&quot;</span><span
style='font-size:9.0pt;line-height:104%'>], smart_quotes_to</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;html&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>unicode_markup</span></p>

<p class=MsoNormal align=left style='margin-bottom:10.45pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># u'&lt;p&gt;I just &amp;ldquo;love&amp;rdquo;
Microsoft Word&amp;rsquo;s smart quotes&lt;/p&gt;'</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit(markup, [</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;windows-1252&quot;</span><span
style='font-size:9.0pt;line-height:104%'>], smart_quotes_to</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;xml&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>unicode_markup</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># u'&lt;p&gt;I just
&amp;#x201C;love&amp;#x201D; Microsoft Word&amp;#x2019;s smart
quotes&lt;/p&gt;'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>You can also convert Microsoft
smart quotes to ASCII quotes:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit(markup, [</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;windows-1252&quot;</span><span
style='font-size:9.0pt;line-height:104%'>], smart_quotes_to</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;ascii&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>unicode_markup</span></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># u'&lt;p&gt;I just &quot;love&quot; Microsoft
Word\'s smart quotes&lt;/p&gt;'</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Hopefully youll find this
feature useful, but Beautiful Soup doesnt use it. Beautiful Soup prefers the
default behavior, which is to convert Microsoft smart quotes to Unicode
characters along with everything else:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>UnicodeDammit(markup, [</span><span style='font-size:9.0pt;
line-height:104%;color:#4070A1'>&quot;windows-1252&quot;</span><span
style='font-size:9.0pt;line-height:104%'>])</span><span style='font-size:9.0pt;
line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>unicode_markup</span></p>

<p class=MsoNormal align=left style='margin-bottom:30.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># u'&lt;p&gt;I just \u201clove\u201d Microsoft
Word\u2019s smart quotes&lt;/p&gt;'</span></i></p>

</div>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>11.2.2 Inconsistent encodings</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Sometimes a document is mostly in UTF-8, but contains
Windows-1252 characters such as (again) Microsoft smart quotes. This can happen
when a website includes data from multiple sources. You can use UnicodeDammit.
detwingle() to turn such a document into pure UTF-8. Heres a simple example:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:3.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>snowmen </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#4070A1'>u&quot;<b>\N{SNOWMAN}</b>&quot; </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>* </span><span
  style='font-size:9.0pt;line-height:107%;color:#217F4F'>3</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>quote </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>(</span><span style='font-size:9.0pt;
  line-height:107%;color:#4070A1'>u&quot;<b>\N{LEFT DOUBLE QUOTATION MARK}</b>I
  like snowmen!<b>\N{RIGHT DOUBLE QUOTATION</b></span><span style='font-size:
  11.0pt;line-height:107%'><img border=0 width=6 height=3 id="Group 104889"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.05pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><b><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>MARK}</span></b><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>doc </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>snowmen</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>encode(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;utf8&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>) </span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>+ </span><span style='font-size:9.0pt;
  line-height:107%'>quote</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:107%'>encode(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;windows_1252&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>This document is a mess. The
snowmen are in UTF-8 and the quotes are in Windows-1252. You can display the
snowmen or the quotes, but not both:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:330.8pt'>

<p class=MsoNormal align=left style='margin-bottom:10.6pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(doc) </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># I like snowmen!</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.8pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print</span><span style='font-size:9.0pt;
line-height:104%'>(doc</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>decode(</span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;windows-1252&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)) </span><i><span style='font-size:
9.0pt;line-height:104%;color:#407F8F'># â~â~â~I like snowmen!</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>Decoding the document as UTF-8
raises a UnicodeDecodeError, and decoding it as Windows-1252 gives you
gibberish. Fortunately, UnicodeDammit.detwingle() will convert the string to
pure UTF-8, allowing you to decode it to Unicode and display the snowmen and
quote marks simultaneously:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:31.8pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:263.55pt'>

<p class=MsoNormal align=left style='margin-bottom:14.75pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>new_doc </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>UnicodeDammit</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>.</span><span
style='font-size:9.0pt;line-height:104%'>detwingle(doc) </span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>print</span><span
style='font-size:9.0pt;line-height:104%'>(new_doc</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>decode(</span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;utf8&quot;</span><span style='font-size:9.0pt;line-height:
104%'>)) </span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'>#
I like snowmen!</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>UnicodeDammit.detwingle() only
knows how to handle Windows-1252 embedded in UTF-8 (or vice versa, I suppose),
but this is the most common case.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Note that you must know to call UnicodeDammit.detwingle()
on your data before passing it into BeautifulSoup or the UnicodeDammit constructor.
Beautiful Soup assumes that a document has a single encoding, whatever it might
be. If you pass it a document that contains both UTF-8 and Windows-1252, its
likely to think the whole document is Windows-1252, and the document will come
out looking like â~â~â~I like snowmen!.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:508.65pt;
margin-left:-.25pt'>UnicodeDammit.detwingle() is new in Beautiful Soup 4.1.0.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>11.2.
Unicode, Dammit</b></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection12>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:46.45pt;margin-left:
.5pt;line-height:162%'><a name="_Toc110102"><span style='font-size:25.0pt;
line-height:162%'>12 </span>Line numbers</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.45pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 102772"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The html.parser` and ``html5lib parsers can keep track of
where in the original document each Tag was found. You can access this
information as Tag.sourceline (line number) and Tag.sourcepos (position of the
start tag within a line):</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:72.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:72.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:169.55pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  123%'><span style='font-size:9.0pt;line-height:123%'>markup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>&quot;&lt;p<b>\n</b>&gt;Paragraph
  1&lt;/p&gt;<b>\n     </b>&lt;p&gt;Paragraph 2&lt;/p&gt;&quot; </span><span
  style='font-size:9.0pt;line-height:123%'>soup </span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>= </span><span style='font-size:9.0pt;
  line-height:123%'>BeautifulSoup(markup, </span><span style='font-size:9.0pt;
  line-height:123%;color:#4070A1'>'html.parser'</span><span style='font-size:
  9.0pt;line-height:123%'>) </span><b><span style='font-size:9.0pt;line-height:
  123%;color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:
  123%'>tag </span><b><span style='font-size:9.0pt;line-height:123%;color:#007021'>in
  </span></b><span style='font-size:9.0pt;line-height:123%'>soup</span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:123%'>find_all(</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'p'</span><span
  style='font-size:9.0pt;line-height:123%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>sourceline, tag</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>sourcepos, tag</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>string)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># (1, 0, u'Paragraph 1')</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># (2, 3, u'Paragraph 2')</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>Note that the two parsers mean slightly different things by
sourceline and sourcepos. For html.parser, these numbers represent the position
of the initial less-than sign. For html5lib, these numbers represent the
position of the final greater-than sign:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:61.15pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:61.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:234.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  123%'><span style='font-size:9.0pt;line-height:123%'>soup </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>BeautifulSoup(markup, </span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'html5lib'</span><span
  style='font-size:9.0pt;line-height:123%'>) </span><b><span style='font-size:
  9.0pt;line-height:123%;color:#007021'>for </span></b><span style='font-size:
  9.0pt;line-height:123%'>tag </span><b><span style='font-size:9.0pt;
  line-height:123%;color:#007021'>in </span></b><span style='font-size:9.0pt;
  line-height:123%'>soup</span><span style='font-size:9.0pt;line-height:123%;
  color:#666666'>.</span><span style='font-size:9.0pt;line-height:123%'>find_all(</span><span
  style='font-size:9.0pt;line-height:123%;color:#4070A1'>'p'</span><span
  style='font-size:9.0pt;line-height:123%'>):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>sourceline, tag</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>sourcepos, tag</span><span style='font-size:9.0pt;
  line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>string)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># (2, 1, u'Paragraph 1')</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># (3, 7, u'Paragraph 2')</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:-.25pt'>You can shut off this feature by passing store_line_numbers=False`
into the ``BeautifulSoup constructor:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:96.8pt'>

<p class=MsoNormal align=left style='margin-bottom:13.1pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>markup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;&lt;p<b>\n</b>&gt;Paragraph 1&lt;/p&gt;<b>\n      </b>&lt;p&gt;Paragraph
2&lt;/p&gt;&quot; </span><span style='font-size:9.0pt;line-height:104%'>soup </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup, </span><span
style='font-size:9.0pt;line-height:104%;color:#4070A1'>'html.parser'</span><span
style='font-size:9.0pt;line-height:104%'>, store_line_numbers</span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>=</span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>False</span></b><span
style='font-size:9.0pt;line-height:104%'>) soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>p</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>sourceline
</span><i><span style='font-size:9.0pt;line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This feature is new in 4.8.1, and
the parsers based on lxml dont support it.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:342.95pt;text-align:left;line-height:107%'><b>Chapter
12. Line numbers</b></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:46.45pt;margin-left:
.5pt;line-height:162%'><a name="_Toc110103"><span style='font-size:25.0pt;
line-height:162%'>13 </span>Comparing objects for equality</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.4pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 100563"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:-.25pt'>Beautiful Soup says that two NavigableString or Tag objects
are equal when they represent the same HTML or XML markup. In this example, the
two &lt;b&gt; tags are treated as equal, even though they live in different
parts of the object tree, because they both look like
&lt;b&gt;pizza&lt;/b&gt;:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:145.2pt'>

<p class=MsoNormal align=left style='margin-bottom:11.85pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>markup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%;
color:#4070A1'>&quot;&lt;p&gt;I want &lt;b&gt;pizza&lt;/b&gt; and more
&lt;b&gt;pizza&lt;/b&gt;!&lt;/p&gt;&quot; </span><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup,
</span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>'html.parser'</span><span
style='font-size:9.0pt;line-height:104%'>) first_b, second_b </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>= </span><span
style='font-size:9.0pt;line-height:104%'>soup</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>find_all(</span><span style='font-size:9.0pt;line-height:
104%;color:#4070A1'>'b'</span><span style='font-size:9.0pt;line-height:104%'>) </span><span
style='font-size:9.0pt;line-height:104%;color:#007021'>print </span><span
style='font-size:9.0pt;line-height:104%'>first_b </span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>== </span><span style='font-size:9.0pt;
line-height:104%'>second_b </span><i><span style='font-size:9.0pt;line-height:
104%;color:#407F8F'># True</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:14.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>first_b</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>previous_element
</span><span style='font-size:9.0pt;line-height:104%;color:#666666'>== </span><span
style='font-size:9.0pt;line-height:104%'>second_b</span><span style='font-size:
9.0pt;line-height:104%;color:#666666'>.</span><span style='font-size:9.0pt;
line-height:104%'>previous_element </span><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># False</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:-.25pt'>If you want to see whether two variables refer to exactly
the same object, use <i>is</i>:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:34.55pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>first_b </span><b><span style='font-size:9.0pt;line-height:
104%;color:#007021'>is </span></b><span style='font-size:9.0pt;line-height:
104%'>second_b</span></p>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:104%;border:none;padding:0in'><i><span style='font-size:9.0pt;
line-height:104%;color:#407F8F'># False</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:261.55pt;text-align:left;line-height:107%'><b>Chapter
13. Comparing objects for equality</b></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:46.45pt;margin-left:
.5pt;line-height:162%'><a name="_Toc110104"><span style='font-size:25.0pt;
line-height:162%'>14 </span>Copying Beautiful Soup objects</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.55pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 102172"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can use copy.copy() to create a copy of any Tag or NavigableString:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.9pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>import </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>copy</span></b></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:298.65pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  123%'><span style='font-size:9.0pt;line-height:123%'>p_copy </span><span
  style='font-size:9.0pt;line-height:123%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:123%'>copy</span><span style='font-size:
  9.0pt;line-height:123%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:123%'>copy(soup</span><span style='font-size:9.0pt;line-height:
  123%;color:#666666'>.</span><span style='font-size:9.0pt;line-height:123%'>p)
  </span><span style='font-size:9.0pt;line-height:123%;color:#007021'>print </span><span
  style='font-size:9.0pt;line-height:123%'>p_copy</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;p&gt;I want &lt;b&gt;pizza&lt;/b&gt; and more
  &lt;b&gt;pizza&lt;/b&gt;!&lt;/p&gt;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:-.25pt'>The copy is considered equal to the original, since it
represents the same markup as the original, but its not the same object:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:344.25pt'>

<p class=MsoNormal align=left style='margin-bottom:11.95pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p </span><span
style='font-size:9.0pt;line-height:104%;color:#666666'>== </span><span
style='font-size:9.0pt;line-height:104%'>p_copy </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># True</span></i></p>

<p class=MsoNormal align=left style='margin-bottom:13.15pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>soup</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>p </span><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>is </span></b><span
style='font-size:9.0pt;line-height:104%'>p_copy </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># False</span></i></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:-.25pt'>The only real difference is that the copy is completely
detached from the original Beautiful Soup object tree, just as if extract() had
been called on it:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:360.4pt'>

<p class=MsoNormal align=left style='margin-bottom:14.55pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%;color:#007021'>print </span><span style='font-size:9.0pt;
line-height:104%'>p_copy</span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>.</span><span style='font-size:9.0pt;line-height:104%'>parent </span><i><span
style='font-size:9.0pt;line-height:104%;color:#407F8F'># None</span></i></p>

</div>

<p class=MsoNormal style='margin-left:-.25pt'>This is because two different Tag
objects cant occupy the same space at the same time.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:257.65pt;text-align:left;line-height:107%'><b>Chapter
14. Copying Beautiful Soup objects</b></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:46.45pt;margin-left:
.5pt;line-height:162%'><a name="_Toc110105"><span style='font-size:25.0pt;
line-height:162%'>15 </span>Parsing only part of a document</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 101960"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-left:-.25pt'>Lets say you want to use
Beautiful Soup look at a documents &lt;a&gt; tags. Its a waste of time and
memory to parse the entire document and then go over it again looking for
&lt;a&gt; tags. It would be much faster to ignore everything that wasnt an &lt;a&gt;
tag in the first place. The SoupStrainer class allows you to choose which parts
of an incoming document are parsed. You just create a SoupStrainer and pass it
in to the BeautifulSoup constructor as the parse_only argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.25pt;
margin-left:-.25pt'>(Note that <i>this feature wont work if youre using the
html5lib parser</i>. If you use html5lib, the whole document will be parsed, no
matter what. This is because html5lib constantly rearranges the parse tree as
it works, and if some part of the document didnt actually make it into the
parse tree, itll crash. To avoid confusion, in the examples below Ill be
forcing Beautiful Soup to use Pythons built-in parser.)</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.9pt;margin-left:
-.25pt'><a name="_Toc110106">15.1 SoupStrainer</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>The SoupStrainer class takes the same arguments as a
typical method from <i><span style='color:#355F7C'>Searching the tree</span></i>:
<i><span style='color:#355F7C'>name</span></i>, <i><span style='color:#355F7C'>attrs</span></i>,
<i><span style='color:#355F7C'>string</span></i>, and <i><span
style='color:#355F7C'>**kwargs</span></i>. Here are three SoupStrainer objects:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:115.95pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:115.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>from </span></b><b><span style='font-size:9.0pt;line-height:
  107%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
  line-height:107%;color:#007021'>import </span></b><span style='font-size:
  9.0pt;line-height:107%'>SoupStrainer</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>only_a_tags </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>SoupStrainer(</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;a&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.65pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>only_tags_with_id_link2
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>SoupStrainer(</span><span
  style='font-size:9.0pt;line-height:107%;color:#007021'>id</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;link2&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>)</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.75pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>def </span></b><span style='font-size:9.0pt;line-height:107%;
  color:#05297D'>is_short_string</span><span style='font-size:9.0pt;line-height:
  107%'>(string):</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:12.75pt;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>return </span></b><span style='font-size:9.0pt;line-height:
  107%;color:#007021'>len</span><span style='font-size:9.0pt;line-height:107%'>(string)
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>&lt; </span><span
  style='font-size:9.0pt;line-height:107%;color:#217F4F'>10</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%'>only_short_strings
  </span><span style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>SoupStrainer(string</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>is_short_string)</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.5pt;
margin-left:-.25pt'>Im going to bring back the three sisters document one
more time, and well see what the document looks like when its parsed with
these three SoupStrainer objects:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:177.5pt'>

<p class=MsoNormal align=left style='margin-bottom:.2pt;text-align:left;
line-height:108%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:108%'>html_doc </span><span style='font-size:9.0pt;line-height:
108%;color:#666666'>= </span><span style='font-size:9.0pt;line-height:108%;
color:#4070A1'>&quot;&quot;&quot; &lt;html&gt;&lt;head&gt;&lt;title&gt;The
Dormouse's story&lt;/title&gt;&lt;/head&gt;</span></p>

</div>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><span
style='font-size:8.0pt;line-height:110%'>(continued from previous page)</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:433.75pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 25.35pt 0in 3.2pt;
  height:433.75pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;body&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;p
  class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;Once upon a time there were
  three little sisters; and their names</span><span style='font-size:11.0pt;
  line-height:107%'><img border=0 width=6 height=3 id="Group 105329"
  src="Beautiful%20Soup%20Documentation_files/image004.gif"></span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><span style='font-size:
  5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>were</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:1.7pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot;
  id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:37.0pt;
  margin-bottom:9.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:115%'><span style='font-size:9.0pt;line-height:115%;color:#4070A1'>&lt;a
  href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot;
  id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and &lt;a
  href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot;
  id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;; and they lived at the bottom of a
  well.&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:9.0pt;line-height:107%;
  color:#4070A1'>&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.8pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;&quot;&quot;</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:10.1pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:107%'>(BeautifulSoup(html_doc, </span><span
  style='font-size:9.0pt;line-height:107%;color:#4070A1'>&quot;html.parser&quot;</span><span
  style='font-size:9.0pt;line-height:107%'>, parse_only</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>only_a_tags)</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>prettify()) </span><i><span
  style='font-size:9.0pt;line-height:107%;color:#407F8F'># &lt;a
  class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot;
  id=&quot;link1&quot;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Elsie</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Lacie</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;/a&gt;</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/tillie&quot; id=&quot;link3&quot;&gt;</span></i></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:10.1pt;margin-bottom:
  0in;margin-left:0in;text-indent:0in;line-height:157%'><i><span
  style='font-size:9.0pt;line-height:157%;color:#407F8F'># Tillie # &lt;/a&gt; </span></i><span
  style='font-size:9.0pt;line-height:157%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:157%'>(BeautifulSoup(html_doc, </span><span
  style='font-size:9.0pt;line-height:157%;color:#4070A1'>&quot;html.parser&quot;</span><span
  style='font-size:9.0pt;line-height:157%'>, parse_only</span><span
  style='font-size:9.0pt;line-height:157%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:157%'>only_tags_with_id_link2)</span><span
  style='font-size:9.0pt;line-height:157%;color:#666666'>.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><sub><span
  style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;
  color:red'>&#8594;</span></sub><span style='font-size:9.0pt;line-height:107%'>prettify())</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># &lt;a class=&quot;sister&quot;
  href=&quot;http://example.com/lacie&quot; id=&quot;link2&quot;&gt;</span></i></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:37.0pt;margin-bottom:
  0in;margin-left:0in;text-indent:0in;line-height:157%'><i><span
  style='font-size:9.0pt;line-height:157%;color:#407F8F'># Lacie # &lt;/a&gt; </span></i><span
  style='font-size:9.0pt;line-height:157%;color:#007021'>print</span><span
  style='font-size:9.0pt;line-height:157%'>(BeautifulSoup(html_doc, </span><span
  style='font-size:9.0pt;line-height:157%;color:#4070A1'>&quot;html.parser&quot;</span><span
  style='font-size:9.0pt;line-height:157%'>, parse_only</span><span
  style='font-size:9.0pt;line-height:157%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:157%'>only_short_strings)</span><span
  style='font-size:9.0pt;line-height:157%;color:#666666'>.</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:2.9pt;text-align:left;text-indent:0in;
  line-height:107%'><i><span style='font-size:5.0pt;line-height:107%;
  font-family:"Cambria",serif;color:red'>,</span></i><sub><span
  style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;
  color:red'>&#8594;</span></sub><span style='font-size:9.0pt;line-height:107%'>prettify())</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Elsie</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># ,</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Lacie</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># and</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:397.45pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># Tillie # ...</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can also pass a SoupStrainer into any of the methods
covered in <i><span style='color:#355F7C'>Searching the tree</span></i>. This
probably isnt terribly useful, but I thought Id mention it:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:50.2pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:50.2pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:126.5pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  107%'><span style='font-size:9.0pt;line-height:107%'>soup </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>BeautifulSoup(html_doc) soup</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>.</span><span
  style='font-size:9.0pt;line-height:107%'>find_all(only_short_strings)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># [u'\n\n', u'\n\n', u'Elsie', u',\n', u'Lacie', u' and\n',
  u'Tillie',</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># u'\n\n', u'...', u'\n']</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
15. Parsing only part of a document</b></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:46.45pt;margin-left:
.5pt;line-height:162%'><a name="_Toc110107"><span style='font-size:25.0pt;
line-height:162%'>16 </span>Troubleshooting</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:54.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 101448"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:11.4pt;margin-left:
-.25pt'><a name="_Toc110108">16.1 diagnose()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>If youre having trouble understanding what Beautiful Soup
does to a document, pass the document into the diagnose() function. (New in
Beautiful Soup 4.2.0.) Beautiful Soup will print out a report showing you how
different parsers handle the document, and tell you if youre missing a parser
that Beautiful Soup could be using:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:148.85pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:148.85pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:266.35pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  125%'><b><span style='font-size:9.0pt;line-height:125%;color:#007021'>from </span></b><b><span
  style='font-size:9.0pt;line-height:125%;color:#0D85B5'>bs4.diagnose </span></b><b><span
  style='font-size:9.0pt;line-height:125%;color:#007021'>import </span></b><span
  style='font-size:9.0pt;line-height:125%'>diagnose </span><b><span
  style='font-size:9.0pt;line-height:125%;color:#007021'>with </span></b><span
  style='font-size:9.0pt;line-height:125%;color:#007021'>open</span><span
  style='font-size:9.0pt;line-height:125%'>(</span><span style='font-size:9.0pt;
  line-height:125%;color:#4070A1'>&quot;bad.html&quot;</span><span
  style='font-size:9.0pt;line-height:125%'>) </span><b><span style='font-size:
  9.0pt;line-height:125%;color:#007021'>as </span></b><span style='font-size:
  9.0pt;line-height:125%'>fp:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>data </span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>= </span><span
  style='font-size:9.0pt;line-height:107%'>fp</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>read()</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:10.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%'>diagnose(data)</span></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Diagnostic running on Beautiful Soup 4.2.0</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Python version 2.7.3 (default, Aug 1 2012, 05:16:07)</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># I noticed that html5lib is not installed. Installing it may
  help.</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># Found lxml version 2.3.2.0</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'>#</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:207.2pt;
  margin-bottom:0in;margin-left:0in;text-align:left;text-indent:0in;line-height:
  normal'><i><span style='font-size:9.0pt;color:#407F8F'># Trying to parse your
  data with html.parser # Here's what html.parser did with the document:</span></i></p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:107%;
  color:#407F8F'># ...</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.1pt;
margin-left:-.25pt'>Just looking at the output of diagnose() may show you how
to solve the problem. Even if not, you can paste the output of diagnose() when
asking for help.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110109">16.2 Errors when parsing a
document</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.3pt;
margin-left:-.25pt'>There are two different kinds of parse errors. There are
crashes, where you feed a document to Beautiful Soup and it raises an
exception, usually an HTMLParser.HTMLParseError. And there is unexpected
behavior, where a Beautiful Soup parse tree looks a lot different than the
document used to create it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.15pt;
margin-left:-.25pt'>Almost none of these problems turn out to be problems with
Beautiful Soup. This is not because Beautiful Soup is an amazingly well-written
piece of software. Its because Beautiful Soup doesnt include any parsing
code. Instead, it relies on external parsers. If one parser isnt working on a
certain document, the best solution is to try a different parser. See <i><span
style='color:#355F7C'>Installing a parser </span></i>for details and a parser
comparison.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:-.25pt'>The most common parse errors are HTMLParser.HTMLParseError:
malformed start tag and HTMLParser.HTMLParseError: bad end tag. These are both
generated by Pythons built-in HTML parser library, and the solution is to <i><span
style='color:#355F7C'>install lxml or html5lib.</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.6pt;
margin-left:-.25pt'>The most common type of unexpected behavior is that you
cant find a tag that you know is in the document. You saw it going in, but find_all()
returns [] or find() returns None. This is another common problem with Pythons
built-in HTML parser, which sometimes skips tags it doesnt understand. Again,
the solution is to <i><span style='color:#355F7C'>install lxml or html5lib.</span></i></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:12.2pt;margin-left:
-.25pt'><a name="_Toc110110">16.3 Version mismatch problems</a></h2>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SyntaxError:
Invalid syntax (on the line ROOT_TAG_NAME = u'[document]'): Caused by running
the Python 2 version of Beautiful Soup under Python 3, without converting the
code.</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImportError:
No module named HTMLParser - Caused by running the Python 2 version of
Beautiful Soup under Python 3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImportError: No
module named html.parser - Caused by running the Python 3 version of</p>

<p class=MsoNormal style='margin-left:25.4pt'>Beautiful Soup under Python 2.</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImportError:
No module named BeautifulSoup - Caused by running Beautiful Soup 3 code on a
system that doesnt have BS3 installed. Or, by writing Beautiful Soup 4 code
without knowing that the package name has changed to bs4.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ImportError: No
module named bs4 - Caused by running Beautiful Soup 4 code on a system that
doesnt have BS4 installed.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110111">16.4 Parsing XML</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:-.25pt'>By default, Beautiful Soup parses documents as HTML. To
parse a document as XML, pass in xml as the second argument to the BeautifulSoup
constructor:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:15.35pt;text-align:left;
line-height:104%;border:none;padding:0in'><span style='font-size:9.0pt;
line-height:104%'>soup </span><span style='font-size:9.0pt;line-height:104%;
color:#666666'>= </span><span style='font-size:9.0pt;line-height:104%'>BeautifulSoup(markup,
</span><span style='font-size:9.0pt;line-height:104%;color:#4070A1'>&quot;xml&quot;</span><span
style='font-size:9.0pt;line-height:104%'>)</span></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:27.8pt;margin-left:-.25pt;text-align:left;line-height:105%'>Youll
need to <i><span style='color:#355F7C'>have lxml installed</span></i>.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:11.8pt;margin-left:
-.25pt'><a name="_Toc110112">16.5 Other parser problems</a></h2>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If
your script works on one computer but not another, or in one virtual
environment but not another, or outside the virtual environment but not inside,
its probably because the two environments have different parser libraries
available. For example, you may have developed the script on a computer that
has lxml installed, and then tried to run it on a computer that only has
html5lib installed. See <i><span style='color:#355F7C'>Differences between
parsers </span></i>for why this matters, and fix the problem by mentioning a
specific parser library in the BeautifulSoup constructor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:54.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Because <a
href="http://www.w3.org/TR/html5/syntax.html#syntax"><span style='color:#377063;
text-decoration:none'>HTML tags and attributes are case-insensitive</span></a><a
href="http://www.w3.org/TR/html5/syntax.html#syntax"><span style='color:black;
text-decoration:none'>,</span></a> all three HTML parsers convert tag and
attribute names to lowercase. That is, the markup &lt;TAG&gt;&lt;/TAG&gt; is
converted to &lt;tag&gt;&lt;/tag&gt;. If you want to preserve mixedcase or
uppercase tags and attributes, youll need to <i><span style='color:#355F7C'>parse
the document as XML.</span></i></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
16. Troubleshooting</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection13>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 99824"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc110113">16.6 Miscellaneous</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.35pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>UnicodeEncodeError:
'charmap' codec can't encode character u'\xfoo' in</p>

<p class=MsoNormal style='margin-left:25.4pt'>position bar (or just about any
other UnicodeEncodeError) - This is not a problem with Beautiful Soup. This
problem shows up in two main situations. First, when you try to print a Unicode
character that your console doesnt know how to display. (See <a
href="http://wiki.python.org/moin/PrintFails"><span style='color:#377063;
text-decoration:none'>this page on the Python wiki</span></a><span
style='color:#377063'> </span>for help.) Second, when youre writing to a file
and you pass in a Unicode character thats not supported by your default
encoding. In this case, the simplest solution is to explicitly encode the
Unicode string into UTF-8 with u.encode(&quot;utf8&quot;).</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>KeyError:
[attr] - Caused by accessing tag['attr'] when the tag in question doesnt
define the attr attribute. The most common errors are KeyError: 'href' and KeyError:
'class'. Use tag.get('attr') if youre not sure attr is defined, just as you
would with a Python dictionary.</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>AttributeError:
'ResultSet' object has no attribute 'foo' - This usually happens because you
expected find_all() to return a single tag or string. But find_all() returns a
_list_ of tags and stringsa ResultSet object. You need to iterate over the
list and look at the .foo of each one. Or, if you really only want one result,
you need to use find() instead of find_all().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:27.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>AttributeError:
'NoneType' object has no attribute 'foo' - This usually happens because you
called find() and then tried to access the <i>.foo </i>attribute of the
result. But in your case, find() didnt find anything, so it returned None,
instead of returning a tag or a string. You need to figure out why your find() call
isnt returning anything.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc110114">16.7 Improving Performance</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.65pt;
margin-left:-.25pt'>Beautiful Soup will never be as fast as the parsers it sits
on top of. If response time is critical, if youre paying for computer time by
the hour, or if theres any other reason why computer time is more valuable
than programmer time, you should forget about Beautiful Soup and work directly
atop <a href="http://lxml.de/"><span style='color:#377063;text-decoration:none'>lxml</span></a><a
href="http://lxml.de/"><span style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.15pt;
margin-left:-.25pt;line-height:135%'>That said, there are things you can do to
speed up Beautiful Soup. If youre not using lxml as the underlying parser, my
advice is to <i><span style='color:#355F7C'>start</span></i>. Beautiful Soup
parses documents significantly faster using lxml than using html.parser or
html5lib. You can speed up encoding detection significantly by installing the <a
href="http://pypi.python.org/pypi/cchardet/"><span style='color:#377063;
text-decoration:none'>cchardet</span></a><span style='color:#377063'> </span>library.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:246.4pt;
margin-left:-.25pt'><i><span style='color:#355F7C'>Parsing only part of a
document </span></i>wont save you much time parsing the document, but it can
save a lot of memory, and itll make <i>searching </i>the document much faster.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>16.6.
Miscellaneous</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:330.55pt;text-align:left;line-height:107%'><b>Chapter
16. Troubleshooting</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:26.8pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>17</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 100776"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-right:-.75pt'><a name="_Toc110115">Translating this
documentation</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 100779"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>New translations of the Beautiful Soup documentation are
greatly appreciated. Translations should be licensed under the MIT license,
just like Beautiful Soup and its English documentation are.</p>

<p class=MsoNormal style='margin-left:-.25pt'>There are two ways of getting
your translation into the main code base and onto the Beautiful Soup website:</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-12.45pt'><span
style='line-height:103%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Create a branch of the Beautiful Soup repository, add your
translation, and propose a merge with the main branch, the same as you would do
with a proposed change to the source code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.45pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Send a message
to the Beautiful Soup discussion group with a link to your translation, or
attach your translation to the message.</p>

<p class=MsoNormal style='margin-left:-.25pt'>Use the Chinese or Brazilian
Portuguese translations as your model. In particular, please translate the
source file doc/source/index.rst, rather than the HTML version of the
documentation. This makes it possible to publish the documentation in a variety
of formats, not just HTML.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:260.5pt;text-align:left;line-height:107%'><b>Chapter
17. Translating this documentation</b></p>

<h3 style='margin-top:0in;margin-right:-.75pt;margin-bottom:26.8pt;margin-left:
.5pt'>CHAPTER <span style='font-size:25.0pt;line-height:110%'>18</span></h3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 102903"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<h1 style='margin-right:-.75pt'><a name="_Toc110116">Beautiful Soup 3</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:51.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 102904"
src="Beautiful%20Soup%20Documentation_files/image002.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:-.25pt'>Beautiful Soup 3 is the previous release series, and is no
longer being actively developed. Its currently packaged with all major Linux
distributions:</p>

<p class=MsoNormal align=left style='margin-bottom:6.1pt;text-align:left;
line-height:110%'>$ apt-get install python-beautifulsoup</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.8pt;
margin-left:-.25pt'>Its also published through PyPi as BeautifulSoup.:</p>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>$ easy_install BeautifulSoup</p>

<p class=MsoNormal align=left style='margin-bottom:5.9pt;text-align:left;
line-height:110%'>$ pip install BeautifulSoup</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.55pt;margin-left:-.25pt;text-align:left;line-height:110%'>You
can also <a
href="http://www.crummy.com/software/BeautifulSoup/bs3/download/3.x/BeautifulSoup-3.2.0.tar.gz"><span
style='color:#377063;text-decoration:none'>download a tarball of Beautiful Soup
3.2.0</span></a><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/download/3.x/BeautifulSoup-3.2.0.tar.gz"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:-.25pt'>If you ran easy_install beautifulsoup or easy_install
BeautifulSoup, but your code doesnt work, you installed Beautiful Soup 3 by
mistake. You need to run easy_install beautifulsoup4.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.9pt;margin-left:-.25pt;text-align:left;line-height:110%'><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:#377063;text-decoration:none'>The documentation for Beautiful Soup
3 is archived online</span></a><a
href="http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'><a name="_Toc110117">18.1 Porting code to BS4</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:-.25pt'>Most code written against Beautiful Soup 3 will work
against Beautiful Soup 4 with one simple change. All you should have to do is
change the package name from BeautifulSoup to bs4. So this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:14.05pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>BeautifulSoup </span></b><b><span
style='font-size:9.0pt;line-height:104%;color:#007021'>import </span></b><span
style='font-size:9.0pt;line-height:104%'>BeautifulSoup</span></p>

</div>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;
margin-left:-.25pt'>becomes this:</p>

<div style='border:solid black 1.0pt;padding:0in 0in 0in 0in;margin-left:-.75pt;
margin-right:0in'>

<p class=MsoNormal align=left style='margin-bottom:15.45pt;text-align:left;
line-height:104%;border:none;padding:0in'><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>from </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#0D85B5'>bs4 </span></b><b><span style='font-size:9.0pt;
line-height:104%;color:#007021'>import </span></b><span style='font-size:9.0pt;
line-height:104%'>BeautifulSoup</span></p>

</div>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If
you get the ImportError No module named BeautifulSoup, your problem is that
youre trying to run Beautiful Soup 3 code, but you only have Beautiful Soup 4
installed.</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If
you get the ImportError No module named bs4, your problem is that youre
trying to run Beautiful Soup 4 code, but you only have Beautiful Soup 3
installed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.3pt;margin-left:-.25pt;text-align:left'>Although BS4 is mostly
backwards-compatible with BS3, most of its methods have been deprecated and
given new names for <a href="http://www.python.org/dev/peps/pep-0008/"><span
style='color:#377063;text-decoration:none'>PEP 8 compliance</span></a><a
href="http://www.python.org/dev/peps/pep-0008/"><span style='color:black;
text-decoration:none'>.</span></a> There are numerous other renames and
changes, and a few of them break backwards compatibility.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.35pt;
margin-left:-.25pt'>Heres what youll need to know to convert your BS3 code
and habits to BS4:</p>

<h6 style='margin-left:-.25pt'>18.1.1 You need a parser</h6>

<p class=MsoNormal style='margin-left:-.25pt'>Beautiful Soup 3 used Pythons SGMLParser,
a module that was deprecated and removed in Python 3.0. Beautiful Soup 4 uses html.parser
by default, but you can plug in lxml or html5lib and use that instead. See <i><span
style='color:#355F7C'>Installing a parser </span></i>for a comparison.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.4pt;
margin-left:-.25pt'>Since html.parser is not the same parser as SGMLParser, you
may find that Beautiful Soup 4 gives you a different parse tree than Beautiful
Soup 3 for the same markup. If you swap out html.parser for lxml or html5lib,
you may find that the parse tree changes yet again. If this happens, youll
need to update your scraping code to deal with the new tree.</p>

<h6 style='margin-left:-.25pt'>18.1.2 Method names</h6>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>renderContents -&gt; encode_contents</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>replaceWith -&gt; replace_with</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>replaceWithChildren -&gt; unwrap</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findAll -&gt; find_all</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findAllNext -&gt; find_all_next</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findAllPrevious -&gt; find_all_previous</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findNext -&gt; find_next</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findNextSibling -&gt; find_next_sibling</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findNextSiblings -&gt; find_next_siblings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findParent -&gt; find_parent</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findParents -&gt; find_parents</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findPrevious -&gt; find_previous</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findPreviousSibling -&gt; find_previous_sibling</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>findPreviousSiblings -&gt; find_previous_siblings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>getText -&gt; get_text</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>nextSibling -&gt; next_sibling</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>previousSibling -&gt; previous_sibling</p>

<p class=MsoNormal style='margin-left:-.25pt'>Some arguments to the Beautiful
Soup constructor were renamed for the same reasons:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>BeautifulSoup(parseOnlyThese=...) -&gt; BeautifulSoup(parse_only=...)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.5pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>BeautifulSoup(fromEncoding=...) -&gt; BeautifulSoup(from_encoding=...)</p>

<p class=MsoNormal style='margin-left:-.25pt'>I renamed one method for
compatibility with Python 3:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:16.2pt;text-align:left;line-height:110%'> Tag.has_key()
-&gt; Tag.has_attr()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:24.75pt;
margin-left:-.25pt'>I renamed one attribute to use more accurate terminology:</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
18. Beautiful Soup 3</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection14>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:26.95pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Beautiful
Soup Documentation, Release 4.4.0</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:16.2pt;text-align:left;line-height:110%'> Tag.isSelfClosing
-&gt; Tag.is_empty_element</p>

<p class=MsoNormal style='margin-left:-.25pt'>I renamed three attributes to
avoid using words that have special meaning to Python. Unlike the others, these
changes are <i>not backwards compatible. </i>If you used these attributes in
BS3, your code will break on BS4 until you change them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>UnicodeDammit.unicode -&gt; UnicodeDammit.unicode_markup</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Tag.next -&gt; Tag.next_element</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:22.5pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Tag.previous -&gt; Tag.previous_element</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>18.1.3 Generators</h6>

<p class=MsoNormal style='margin-left:-.25pt'>I gave the generators PEP
8-compliant names, and transformed them into properties:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>childGenerator() -&gt; children</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>nextGenerator() -&gt; next_elements</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>nextSiblingGenerator() -&gt; next_siblings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>previousGenerator() -&gt; previous_elements</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>previousSiblingGenerator() -&gt; previous_siblings</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.25pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>recursiveChildGenerator() -&gt; descendants</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.45pt;margin-left:24.15pt;text-align:left;text-indent:-8.45pt;
line-height:110%'><span style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>parentGenerator() -&gt; parents</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>So instead of this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:28.3pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:28.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>parent
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>parentGenerator():</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>...</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:-.25pt'>You can write this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.4pt;margin-left:-3.2pt;border-collapse:collapse'>
 <tr style='height:28.3pt'>
  <td width=633 style='width:474.4pt;border:solid black 1.0pt;padding:0in 5.75pt 0in 3.2pt;
  height:28.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><b><span style='font-size:9.0pt;line-height:107%;
  color:#007021'>for </span></b><span style='font-size:9.0pt;line-height:107%'>parent
  </span><b><span style='font-size:9.0pt;line-height:107%;color:#007021'>in </span></b><span
  style='font-size:9.0pt;line-height:107%'>tag</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>.</span><span style='font-size:9.0pt;
  line-height:107%'>parents:</span></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:9.0pt;line-height:107%;color:#666666'>...</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:-.25pt'>(But the old code will still
work.)</p>

<p class=MsoNormal style='margin-left:-.25pt'>Some of the generators used to
yield None after they were done, and then stop. That was a bug. Now the
generators just stop.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.25pt;
margin-left:-.25pt'>There are two new generators, <i><span style='color:#355F7C'>.strings
and .stripped_strings</span></i>. .strings yields NavigableString objects, and .</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.8pt;
margin-left:-.25pt'>stripped_strings yields Python strings that have had
whitespace stripped.</p>

<h6 style='margin-left:-.25pt'>18.1.4 XML</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:-.25pt'>There is no longer a BeautifulStoneSoup class for parsing
XML. To parse XML you pass in xml as the second argument to the BeautifulSoup
constructor. For the same reason, the BeautifulSoup constructor no longer
recognizes the isHTML argument.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:51.15pt;
margin-left:-.25pt'>Beautiful Soups handling of empty-element XML tags has
been improved. Previously when you parsed XML you had to explicitly say which
tags were considered empty-element tags. The selfClosingTags argument to the
constructor is no longer recognized. Instead, Beautiful Soup considers any
empty tag to be an empty-element tag. If you add a child to an empty-element
tag, it stops being an empty-element tag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>18.1.
Porting code to BS4</b></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;margin-left:
-.25pt'>18.1.5 Entities</h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.2pt;
margin-left:-.25pt'>An incoming HTML or XML entity is always converted into the
corresponding Unicode character. Beautiful Soup 3 had a number of overlapping
ways of dealing with entities, which have been removed. The BeautifulSoup constructor
no longer recognizes the smartQuotesTo or convertEntities arguments. (<i><span
style='color:#355F7C'>Unicode, Dammit </span></i>still has smart_quotes_to, but
its default is now to turn smart quotes into Unicode.) The constants HTML_ENTITIES,
XML_ENTITIES, and XHTML_ENTITIES have been removed, since they configure a
feature (transforming some but not all entities into Unicode characters) that
no longer exists.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.65pt;
margin-left:-.25pt'>If you want to turn Unicode characters back into HTML
entities on output, rather than turning them into UTF-8 characters, you need to
use an <i><span style='color:#355F7C'>output formatter</span></i>.</p>

<h6 style='margin-left:-.25pt'>18.1.6 Miscellaneous</h6>

<p class=MsoNormal style='margin-left:-.25pt'><i><span style='color:#355F7C'>Tag.string
</span></i>now operates recursively. If tag A contains a single tag B and
nothing else, then A.string is the same as B.string. (Previously, it was None.)</p>

<p class=MsoNormal style='margin-left:-.25pt'><i><span style='color:#355F7C'>Multi-valued
attributes </span></i>like class have lists of strings as their values, not
strings. This may affect the way you search by CSS class.</p>

<p class=MsoNormal style='margin-left:-.25pt'>If you pass one of the find* methods
both <i><span style='color:#355F7C'>string </span>and </i>a tag-specific
argument like <i><span style='color:#355F7C'>name</span></i>, Beautiful Soup
will search for tags that match your tag-specific criteria and whose <i><span
style='color:#355F7C'>Tag.string </span></i>matches your value for <i><span
style='color:#355F7C'>string</span></i>. It will <i>not </i>find the strings
themselves. Previously, Beautiful Soup ignored the tag-specific arguments and
looked for strings.</p>

<p class=MsoNormal style='margin-left:-.25pt'>The BeautifulSoup constructor no
longer recognizes the <i>markupMassage </i>argument. Its now the parsers
responsibility to handle markup correctly.</p>

<p class=MsoNormal style='margin-left:-.25pt'>The rarely-used alternate parser
classes like ICantBelieveItsBeautifulSoup and BeautifulSOAP have been removed.
Its now the parsers decision how to handle ambiguous markup.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:322.05pt;
margin-left:-.25pt'>The prettify() method now returns a Unicode string, not a
bytestring.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:110%'><b>Chapter
18. Beautiful Soup 3</b></p>

</div>

</body>

</html>
