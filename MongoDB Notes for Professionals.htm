<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>MongoDB Notes for Professionals</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"DejaVu Sans Mono";
	panose-1:2 11 6 9 3 8 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:.2pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:110%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:.15pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:26.0pt;
	font-family:"Calibri",sans-serif;
	color:#459C45;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:2.65pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:18.0pt;
	font-family:"Calibri",sans-serif;
	color:#459C45;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:1.35pt;
	margin-left:1.25pt;
	text-indent:-.5pt;
	line-height:110%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:3.3pt;
	margin-left:20.5pt;
	text-indent:-.5pt;
	line-height:110%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:#459C45;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:#459C45;
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:23.8pt 41.95pt 51.25pt 28.35pt;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:23.8pt 28.55pt 42.5pt 28.35pt;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.3pt 841.9pt;
	margin:63.75pt 1.0in 34.15pt 1.0in;}
div.WordSection3
	{page:WordSection3;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal style='margin-top:0in;margin-right:553.35pt;margin-bottom:
0in;margin-left:-28.35pt;text-indent:0in;line-height:107%'><img width=792
height=1120 src="MongoDB%20Notes%20for%20Professionals_files/image001.jpg"><br
clear=ALL>
<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.15pt;margin-bottom:
2.0pt;margin-left:-.25pt'><b><span style='font-size:26.0pt;line-height:110%;
color:#459C45'>Contents</span></b></p>

<p class=MsoToc1><a href="#_Toc108885"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>About</span></b><span style='color:black;
text-decoration:none'>........................................................................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc108886"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 1: Getting started with MongoDB</span></b><span
style='color:black;text-decoration:none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc108887"><span style='color:#459C45'>Section 1.1:
Execution of a JavaScript file in MongoDB</span><span style='color:black;
text-decoration:none'>............................................................................................................................. </span><span style='color:black;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc108888"><span style='color:#459C45'>Section 1.2:
Making the output of find readable in shell</span><span style='color:black;
text-decoration:none'>.......................................................................................................................... </span><span style='color:black;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc108889"><span style='color:#459C45'>Section 1.3:
Complementary Terms</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc108890"><span style='color:#459C45'>Section 1.4:
Installation</span><span style='color:black;text-decoration:none'>................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc108891"><span style='color:#459C45'>Section 1.5:
Basic commands on mongo shell</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>6</span></a></p>

<p class=MsoToc2><a href="#_Toc108892"><span style='color:#459C45'>Section 1.6:
Hello World</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>6</span></a></p>

<p class=MsoToc1><a href="#_Toc108893"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 2: CRUD Operation</span></b><span
style='color:black;text-decoration:none'>......................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc108894"><span style='color:#459C45'>Section 2.1:
Create</span><span style='color:black;text-decoration:none'>........................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc108895"><span style='color:#459C45'>Section 2.2:
Update</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc108896"><span style='color:#459C45'>Section 2.3:
Delete</span><span style='color:black;text-decoration:none'>........................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc108897"><span style='color:#459C45'>Section 2.4:
Read</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc108898"><span style='color:#459C45'>Section 2.5:
Update of embedded documents</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>9</span></a></p>

<p class=MsoToc2><a href="#_Toc108899"><span style='color:#459C45'>Section 2.6:
More update operators</span><span style='color:black;text-decoration:none'>........................................................................................................................................................... </span><span style='color:black;text-decoration:none'>10</span></a></p>

<p class=MsoToc2><a href="#_Toc108900"><span style='color:#459C45'>Section 2.7:
&quot;multi&quot; Parameter while updating multiple documents</span><span
style='color:black;text-decoration:none'>................................................................................................... </span><span style='color:black;text-decoration:none'>10</span></a></p>

<p class=MsoToc1><a href="#_Toc108901"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 3: Getting database information</span></b><span
style='color:black;text-decoration:none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>11</span></a></p>

<p class=MsoToc2><a href="#_Toc108902"><span style='color:#459C45'>Section 3.1:
List all collections in database</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>11</span></a></p>

<p class=MsoToc2><a href="#_Toc108903"><span style='color:#459C45'>Section 3.2:
List all databases</span><span style='color:black;text-decoration:none'>...................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>11</span></a></p>

<p class=MsoToc1><a href="#_Toc108904"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 4: Querying for Data (Getting Started)</span></b><span
style='color:black;text-decoration:none'>.............................................................................................................................. </span><span style='color:black;text-decoration:none'>12</span></a></p>

<p class=MsoToc2><a href="#_Toc108905"><span style='color:#459C45'>Section 4.1:
Find()</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>12</span></a></p>

<p class=MsoToc2><a href="#_Toc108906"><span style='color:#459C45'>Section 4.2:
FindOne()</span><span style='color:black;text-decoration:none'>................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>12</span></a></p>

<p class=MsoToc2><a href="#_Toc108907"><span style='color:#459C45'>Section 4.3:
limit, skip, sort and count the results of the find() method</span><span
style='color:black;text-decoration:none'>............................................................................................. </span><span style='color:black;text-decoration:none'>12</span></a></p>

<p class=MsoToc2><a href="#_Toc108908"><span style='color:#459C45'>Section 4.4:
Query Document - Using AND, OR and IN Conditions</span><span style='color:black;
text-decoration:none'>....................................................................................................... </span><span style='color:black;text-decoration:none'>14</span></a></p>

<p class=MsoToc2><a href="#_Toc108909"><span style='color:#459C45'>Section 4.5:
find() method with Projection</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>16</span></a></p>

<p class=MsoToc2><a href="#_Toc108910"><span style='color:#459C45'>Section 4.6:
Find() method with Projection</span><span style='color:black;text-decoration:
none'>.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>16</span></a></p>

<p class=MsoToc1><a href="#_Toc108911"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 5: Update Operators</span></b><span
style='color:black;text-decoration:none'>.................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>18</span></a></p>

<p class=MsoToc2><a href="#_Toc108912"><span style='color:#459C45'>Section 5.1:
$set operator to update specified field(s) in document(s)</span><span
style='color:black;text-decoration:none'>............................................................................................... </span><span style='color:black;text-decoration:none'>18</span></a></p>

<p class=MsoToc1><a href="#_Toc108913"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 6: Upserts and Inserts</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>20</span></a></p>

<p class=MsoToc2><a href="#_Toc108914"><span style='color:#459C45'>Section 6.1:
Insert a document</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>20</span></a></p>

<p class=MsoToc1><a href="#_Toc108915"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 7: Collections</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>21</span></a></p>

<p class=MsoToc2><a href="#_Toc108916"><span style='color:#459C45'>Section 7.1:
Create a Collection</span><span style='color:black;text-decoration:none'>................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>21</span></a></p>

<p class=MsoToc2><a href="#_Toc108917"><span style='color:#459C45'>Section 7.2:
Drop Collection</span><span style='color:black;text-decoration:none'>......................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>22</span></a></p>

<p class=MsoToc1><a href="#_Toc108918"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 8: Aggregation</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>23</span></a></p>

<p class=MsoToc2><a href="#_Toc108919"><span style='color:#459C45'>Section 8.1:
Count</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>23</span></a></p>

<p class=MsoToc2><a href="#_Toc108920"><span style='color:#459C45'>Section 8.2:
Sum</span><span style='color:black;text-decoration:none'>............................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>23</span></a></p>

<p class=MsoToc2><a href="#_Toc108921"><span style='color:#459C45'>Section 8.3:
Average</span><span style='color:black;text-decoration:none'>...................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>24</span></a></p>

<p class=MsoToc2><a href="#_Toc108922"><span style='color:#459C45'>Section 8.4:
Operations with arrays</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc108923"><span style='color:#459C45'>Section 8.5:
Aggregate query examples useful for work and learning</span><span
style='color:black;text-decoration:none'>................................................................................................. </span><span style='color:black;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc108924"><span style='color:#459C45'>Section 8.6:
Match</span><span style='color:black;text-decoration:none'>......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>29</span></a></p>

<p class=MsoToc2><a href="#_Toc108925"><span style='color:#459C45'>Section 8.7:
Get sample data</span><span style='color:black;text-decoration:none'>....................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>30</span></a></p>

<p class=MsoToc2><a href="#_Toc108926"><span style='color:#459C45'>Section 8.8:
Remove docs that have a duplicate field in a collection (dedupe)</span><span
style='color:black;text-decoration:none'>.................................................................................. </span><span style='color:black;text-decoration:none'>30</span></a></p>

<p class=MsoToc2><a href="#_Toc108927"><span style='color:#459C45'>Section 8.9:
Left Outer Join with aggregation ( $Lookup)</span><span style='color:black;
text-decoration:none'>....................................................................................................................... </span><span style='color:black;text-decoration:none'>30</span></a></p>

<p class=MsoToc2><a href="#_Toc108928"><span style='color:#459C45'>Section
8.10: Server Aggregation</span><span style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>31</span></a></p>

<p class=MsoToc2><a href="#_Toc108929"><span style='color:#459C45'>Section
8.11: Aggregation in a Server Method</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>31</span></a></p>

<p class=MsoToc2><a href="#_Toc108930"><span style='color:#459C45'>Section
8.12: Java and Spring example</span><span style='color:black;text-decoration:
none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>32</span></a></p>

<p class=MsoToc1><a href="#_Toc108931"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 9: Indexes</span></b><span
style='color:black;text-decoration:none'>.......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>34</span></a></p>

<p class=MsoToc2><a href="#_Toc108932"><span style='color:#459C45'>Section 9.1:
Index Creation Basics</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>34</span></a></p>

<p class=MsoToc2><a href="#_Toc108933"><span style='color:#459C45'>Section 9.2:
Dropping/Deleting an Index</span><span style='color:black;text-decoration:none'>................................................................................................................................................... </span><span style='color:black;text-decoration:none'>36</span></a></p>

<p class=MsoToc2><a href="#_Toc108934"><span style='color:#459C45'>Section 9.3:
Sparse indexes and Partial indexes</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>36</span></a></p>

<p class=MsoToc2><a href="#_Toc108935"><span style='color:#459C45'>Section 9.4:
Get Indices of a Collection</span><span style='color:black;text-decoration:
none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>37</span></a></p>

<p class=MsoToc2><a href="#_Toc108936"><span style='color:#459C45'>Section 9.5:
Compound</span><span style='color:black;text-decoration:none'>................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc2><a href="#_Toc108937"><span style='color:#459C45'>Section 9.6:
Unique Index</span><span style='color:black;text-decoration:none'>............................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc2><a href="#_Toc108938"><span style='color:#459C45'>Section 9.7:
Single field</span><span style='color:black;text-decoration:none'>................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc2><a href="#_Toc108939"><span style='color:#459C45'>Section 9.8:
Delete</span><span style='color:black;text-decoration:none'>......................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc2><a href="#_Toc108940"><span style='color:#459C45'>Section 9.9:
List</span><span style='color:black;text-decoration:none'>............................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>39</span></a></p>

<p class=MsoToc1><a href="#_Toc108941"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 10: Bulk Operations</span></b><span
style='color:black;text-decoration:none'>..................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>40</span></a></p>

<p class=MsoToc2><a href="#_Toc108942"><span style='color:#459C45'>Section
10.1: Converting a field to another type and updating the entire collection in
Bulk</span><span style='color:black;text-decoration:none'>.......................................................... </span><span style='color:black;text-decoration:none'>40</span></a></p>

<p class=MsoToc1><a href="#_Toc108943"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 11: 2dsphere Index</span></b><span
style='color:black;text-decoration:none'>...................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>43</span></a></p>

<p class=MsoToc2><a href="#_Toc108944"><span style='color:#459C45'>Section
11.1: Create a 2dsphere Index</span><span style='color:black;text-decoration:
none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>43</span></a></p>

<p class=MsoToc1><a href="#_Toc108945"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 12: Pluggable Storage Engines</span></b><span
style='color:black;text-decoration:none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108946"><span style='color:#459C45'>Section
12.1: WiredTiger</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108947"><span style='color:#459C45'>Section
12.2: MMAP</span><span style='color:black;text-decoration:none'>...................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108948"><span style='color:#459C45'>Section
12.3: In-memory</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108949"><span style='color:#459C45'>Section
12.4: mongo-rocks</span><span style='color:black;text-decoration:none'>........................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108950"><span style='color:#459C45'>Section
12.5: Fusion-io</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc2><a href="#_Toc108951"><span style='color:#459C45'>Section
12.6: TokuMX</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc1><a href="#_Toc108952"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 13: Java Driver</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc2><a href="#_Toc108953"><span style='color:#459C45'>Section
13.1: Fetch Collection data with condition</span><span style='color:black;
text-decoration:none'>................................................................................................................................. </span><span style='color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc2><a href="#_Toc108954"><span style='color:#459C45'>Section
13.2: Create a database user</span><span style='color:black;text-decoration:
none'>......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc2><a href="#_Toc108955"><span style='color:#459C45'>Section
13.3: Create a tailable cursor</span><span style='color:black;text-decoration:
none'>......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc1><a href="#_Toc108956"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 14: Python Driver</span></b><span
style='color:black;text-decoration:none'>.......................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc2><a href="#_Toc108957"><span style='color:#459C45'>Section
14.1: Connect to MongoDB using pymongo</span><span style='color:black;
text-decoration:none'>............................................................................................................................... </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc2><a href="#_Toc108958"><span style='color:#459C45'>Section
14.2: PyMongo queries</span><span style='color:black;text-decoration:none'>................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc2><a href="#_Toc108959"><span style='color:#459C45'>Section
14.3: Update all documents in a collection using PyMongo</span><span
style='color:black;text-decoration:none'>.................................................................................................... </span><span style='color:black;text-decoration:none'>49</span></a></p>

<p class=MsoToc1><a href="#_Toc108960"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 15: Mongo as Shards</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc2><a href="#_Toc108961"><span style='color:#459C45'>Section
15.1: Sharding Environment Setup</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc1><a href="#_Toc108962"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 16: Replication</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>51</span></a></p>

<p class=MsoToc2><a href="#_Toc108963"><span style='color:#459C45'>Section
16.1: Basic configuration with three nodes</span><span style='color:black;
text-decoration:none'>................................................................................................................................ </span><span style='color:black;text-decoration:none'>51</span></a></p>

<p class=MsoToc1><a href="#_Toc108964"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 17: Mongo as a Replica Set</span></b><span
style='color:black;text-decoration:none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>53</span></a></p>

<p class=MsoToc2><a href="#_Toc108965"><span style='color:#459C45'>Section
17.1: Mongodb as a Replica Set</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>53</span></a></p>

<p class=MsoToc2><a href="#_Toc108966"><span style='color:#459C45'>Section
17.2: Check MongoDB Replica Set states</span><span style='color:black;
text-decoration:none'>.................................................................................................................................... </span><span style='color:black;text-decoration:none'>54</span></a></p>

<p class=MsoToc1><a href="#_Toc108967"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 18: MongoDB - Configure a ReplicaSet to
support TLS/SSL</span></b><span style='color:black;text-decoration:none'>.................................................................................. </span><span style='color:black;text-decoration:none'>56</span></a></p>

<p class=MsoToc2><a href="#_Toc108968"><span style='color:#459C45'>Section
18.1: How to configure a ReplicaSet to support TLS/SSL?</span><span
style='color:black;text-decoration:none'>........................................................................................................ </span><span style='color:black;text-decoration:none'>56</span></a></p>

<p class=MsoToc2><a href="#_Toc108969"><span style='color:#459C45'>Section
18.2: How to connect your Client (Mongo Shell) to a ReplicaSet?</span><span
style='color:black;text-decoration:none'>......................................................................................... </span><span style='color:black;text-decoration:none'>58</span></a></p>

<p class=MsoToc1><a href="#_Toc108970"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 19: Authentication Mechanisms in
MongoDB</span></b><span style='color:black;text-decoration:none'>.............................................................................................................. </span><span style='color:black;text-decoration:none'>60</span></a></p>

<p class=MsoToc2><a href="#_Toc108971"><span style='color:#459C45'>Section
19.1: Authentication Mechanisms</span><span style='color:black;text-decoration:
none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>60</span></a></p>

<p class=MsoToc1><a href="#_Toc108972"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 20: MongoDB Authorization Model</span></b><span
style='color:black;text-decoration:none'>................................................................................................................................... </span><span style='color:black;text-decoration:none'>61</span></a></p>

<p class=MsoToc2><a href="#_Toc108973"><span style='color:#459C45'>Section
20.1: Build-in Roles</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>61</span></a></p>

<p class=MsoToc1><a href="#_Toc108974"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 21: Configuration</span></b><span
style='color:black;text-decoration:none'>.......................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>62</span></a></p>

<p class=MsoToc2><a href="#_Toc108975"><span style='color:#459C45'>Section
21.1: Starting mongo with a specific config file</span><span style='color:black;
text-decoration:none'>.......................................................................................................................... </span><span style='color:black;text-decoration:none'>63</span></a></p>

<p class=MsoToc1><a href="#_Toc108976"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 22: Backing up and Restoring Data</span></b><span
style='color:black;text-decoration:none'>..................................................................................................................................... </span><span style='color:black;text-decoration:none'>64</span></a></p>

<p class=MsoToc2><a href="#_Toc108977"><span style='color:#459C45'>Section
22.1: Basic mongodump of local default mongod instance</span><span
style='color:black;text-decoration:none'>..................................................................................................... </span><span style='color:black;text-decoration:none'>64</span></a></p>

<p class=MsoToc2><a href="#_Toc108978"><span style='color:#459C45'>Section
22.2: Basic mongorestore of local default mongod dump</span><span
style='color:black;text-decoration:none'>....................................................................................................... </span><span style='color:black;text-decoration:none'>64</span></a></p>

<p class=MsoToc2><a href="#_Toc108979"><span style='color:#459C45'>Section
22.3: mongoimport with JSON</span><span style='color:black;text-decoration:
none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>64</span></a></p>

<p class=MsoToc2><a href="#_Toc108980"><span style='color:#459C45'>Section
22.4: mongoimport with CSV</span><span style='color:black;text-decoration:none'>........................................................................................................................................................ </span><span style='color:black;text-decoration:none'>65</span></a></p>

<p class=MsoToc1><a href="#_Toc108981"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Chapter 23: Upgrading MongoDB version</span></b><span
style='color:black;text-decoration:none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>66</span></a></p>

<p class=MsoToc2><a href="#_Toc108982"><span style='color:#459C45'>Section
23.1: Upgrading to 3.4 on Ubuntu 16.04 using apt</span><span style='color:black;
text-decoration:none'>................................................................................................................... </span><span style='color:black;text-decoration:none'>66</span></a></p>

<p class=MsoToc1><a href="#_Toc108983"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>Credits</span></b><span style='color:black;
text-decoration:none'>.................................................................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>67</span></a></p>

<p class=MsoToc1><a href="#_Toc108984"><b><span style='font-size:12.0pt;
line-height:110%;color:#459C45'>You may also like</span></b><span
style='color:black;text-decoration:none'>.............................................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>69</span></a></p>

<p class=MsoNormal>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:110%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:105.15pt;
margin-left:-.25pt'><a name="_Toc108885">About</a></h1>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:116.3pt;
margin-bottom:0in;margin-left:116.5pt;text-align:center;text-indent:0in;
line-height:123%'><span style='font-size:11.0pt;line-height:123%'>Please feel
free to share this PDF with anyone for free, latest version of this book can be
downloaded from:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:31.9pt;
margin-left:171.45pt;text-indent:0in;line-height:107%'><a
href="https://goalkicker.com/MongoDBBook"><span style='font-size:11.0pt;
line-height:107%;color:#459C45'>https://goalkicker.com/MongoDBBook</span></a></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:91.2pt;
margin-bottom:1.85pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'>This <i>MongoDB® Notes for Professionals</i> book is compiled
from <a href="https://archive.org/details/documentation-dump.7z"><span
style='color:#459C45'>Stack Overflow</span></a></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:82.15pt;
margin-bottom:1.85pt;margin-left:.5pt;text-align:right;line-height:107%'><a
href="https://archive.org/details/documentation-dump.7z"><span
style='color:#459C45'>Documentation</span></a>, the content is written by the
beautiful people at Stack Overflow.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:80.1pt;
margin-bottom:11.2pt;margin-left:80.8pt;text-align:center;line-height:123%'>Text
content is released under Creative Commons BY-SA, see credits at the end of
this book whom contributed to the various chapters. Images may be copyright of
their respective owners unless otherwise specified</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:80.1pt;
margin-bottom:11.2pt;margin-left:80.8pt;text-align:center;line-height:123%'><span
style='position:relative;z-index:-1895824384'><span style='left:0px;position:
absolute;left:87px;top:-275px;width:545px;height:476px'><img width=545
height=476 src="MongoDB%20Notes%20for%20Professionals_files/image002.gif"></span></span>This
is an unofficial free book created for educational purposes and is not
affiliated with official MongoDB® group(s) or company(s) nor Stack Overflow.
All trademarks and registered trademarks are the property of their respective
company owners</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:80.1pt;
margin-bottom:11.2pt;margin-left:80.8pt;text-align:center;line-height:123%'>The
information presented in this book is not guaranteed to be correct nor
accurate, use at your own risk</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:131.55pt'>Please send feedback and corrections to <u><span
style='color:#459C45'>web@petercv.com</span></u></p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108886">Chapter 1: Getting started with MongoDB</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.1pt;
margin-left:.75pt'><b>Version Release Date</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/3.6/"><span
style='color:#459C45'>3.6.1</span></a><u><span style='color:#459C45'>          </span></u>2017-12-26</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/3.4/"><span
style='color:#459C45'>3.4</span></a><u><span style='color:#459C45'>             </span></u>2016-11-29</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/3.2/"><span
style='color:#459C45'>3.2</span></a><u><span style='color:#459C45'>             </span></u>2015-12-08</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/3.0/"><span
style='color:#459C45'>3.0</span></a><u><span style='color:#459C45'>             </span></u>2015-03-03</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/2.6/"><span
style='color:#459C45'>2.6</span></a><u><span style='color:#459C45'>             </span></u>2014-04-08</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/2.4/"><span
style='color:#459C45'>2.4</span></a><u><span style='color:#459C45'>             </span></u>2013-03-19</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/2.2/"><span
style='color:#459C45'>2.2</span></a><u><span style='color:#459C45'>             </span></u>2012-08-29</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/2.0/"><span
style='color:#459C45'>2.0</span></a><u><span style='color:#459C45'>             </span></u>2011-09-12</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/1.8/"><span
style='color:#459C45'>1.8</span></a><u><span style='color:#459C45'>             </span></u>2011-03-16</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/1.6/"><span
style='color:#459C45'>1.6</span></a><u><span style='color:#459C45'>             </span></u>2010-08-31</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/1.4/"><span
style='color:#459C45'>1.4</span></a><u><span style='color:#459C45'>             </span></u>2010-03-25</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.8pt;
margin-left:0in;text-indent:0in'><a
href="https://docs.mongodb.com/manual/release-notes/1.2/"><span
style='color:#459C45'>1.2</span></a><u><span style='color:#459C45'>             </span></u>2009-12-10</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108887">Section 1.1: Execution of a JavaScript file in MongoDB</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.3pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image003.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=79 style='width:59.4pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=79 valign=top style='width:59.4pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>myjsfile.</span><span style='font-size:9.0pt;line-height:107%;
  color:#660066'>js</span></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=108 style='width:81.0pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=108 valign=top style='width:81.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>localhost</span><span style='font-size:9.0pt;line-height:107%;
  color:#666666'>:</span><span style='font-size:9.0pt;line-height:107%;
  color:#CC0000'>27017</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.65pt;
margin-left:.75pt'><b>Explanation:</b> This operation executes the  script in a
<span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mongo</span>
shell that connects to the <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>mydb</span> database on the <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>mongod</span> instance accessible via the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>localhost</span>
interface on port <span style='font-size:9.0pt;line-height:110%;color:#CC0000;
background:#FAFAFA'>27017</span>.  is not mandatory as this is the default port
<span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mongodb</span>
uses.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=22 style='width:16.2pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=22 valign=top style='width:16.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>js</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Also, you can run a  file from within <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mongo</span>
console.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image004.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108888">Section 1.2: Making the
output of find readable in shell</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>We add three records to our collection test as:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> db.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>test</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;key&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;value1&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Val2&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;val3&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>WriteResult</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;nInserted&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895823360'><span
style='left:0px;position:absolute;left:0px;top:-41px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image005.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> db.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>test</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;key&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;value2&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Val21&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;val31&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>WriteResult</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;nInserted&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> db.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>test</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;key&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;value3&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Val22&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;val33&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>WriteResult</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;nInserted&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>If we see them via find, they will look very ugly.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>test</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>find</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>()</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;5790c5cecae25b3d38c3c7ae&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;value1&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Val2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;val3&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.2in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895822336'><span
style='left:0px;position:absolute;left:0px;top:-57px;width:718px;height:125px'><img
width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;5790c5d9cae25b3d38c3c7af&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;value2&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Val2 1&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;val31&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;5790c5e9cae25b3d38c3c7b0&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;value3&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key2&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Val2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>2&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;key3&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;val33&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To work around this and make them readable, use the <b>pretty</b>()
function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=24
src="MongoDB%20Notes%20for%20Professionals_files/image007.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=317
src="MongoDB%20Notes%20for%20Professionals_files/image008.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108889">Section 1.3: Complementary
Terms</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.1pt;
margin-left:0in;text-indent:0in'><b>SQL Terms                                                    MongoDB
Terms</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'>Database            Database</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'>Table                   Collection</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.85pt;
margin-left:.75pt'>Entity / Row Document</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'>Column              Key / Field</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.1pt;
margin-left:0in;text-indent:0in;line-height:107%'>Table Join             <a
href="https://docs.mongodb.com/manual/tutorial/model-embedded-one-to-many-relationships-between-documents/"><span
style='color:#459C45'>Embedded Documents</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:21.0pt;
margin-left:.75pt'>Primary Key <a
href="https://docs.mongodb.com/manual/indexes/#default-id-index"><span
style='color:#459C45'>Primary Key</span></a> (Default key <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>_id</span> provided
by mongodb itself)</p>

<h2 style='margin-left:-.25pt'><a name="_Toc108890">Section 1.4: Installation</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>To install MongoDB, follow the steps below:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.4pt;
margin-left:80.9pt;text-indent:-60.0pt'><img width=5 height=5
src="MongoDB%20Notes%20for%20Professionals_files/image009.gif" align=left
hspace=12><span style='font-size:11.0pt;line-height:110%'><img border=0
width=678 height=158
src="MongoDB%20Notes%20for%20Professionals_files/image010.gif"></span>Download
the latest release <a href="https://www.mongodb.com/download-center#community"><span
style='color:#459C45'>here</span></a>. Make sure that you are downloading the
appropriate file, specially check whether your operating system type is 32-bit
or 64-bit. The downloaded file is in format <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>tgz</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:81.15pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=613 height=51
src="MongoDB%20Notes%20for%20Professionals_files/image011.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.1pt;
margin-left:90.5pt'>Instead of <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>xyz</span>, there would be some version and system type
information. The extracted folder would be same name as the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>tgz</span> file.
Inside the folder, their would be a subfolder named <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>bin </span>which would contain
several binary file along with <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>mongod</span> and <span style='font-size:9.0pt;line-height:
110%;background:#FAFAFA'>mongo</span>.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=50 style='width:37.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>data</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>/</span></p>
  </td>
  <td width=14 valign=top style='width:.15in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.15pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'>                                           <img border=0
width=4 height=4 id="Group 90943"
src="MongoDB%20Notes%20for%20Professionals_files/image012.gif"></span> By
default server keeps data in folder <span style='font-size:9.0pt;line-height:
107%;color:#666666;background:#FAFAFA'>/                              </span>.
So, we have to create that directory and then</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:81.15pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=613 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image013.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:90.5pt'>It would start the server on port 27017 by default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:10.4pt;
margin-left:90.5pt'><span style='position:absolute;z-index:-1895820288;
left:0px;margin-left:108px;margin-top:3px;width:610px;height:68px'><img
width=610 height=68
src="MongoDB%20Notes%20for%20Professionals_files/image014.gif"></span>To start
the client, a new terminal should be opened having the same directory as
before. Then the following command would start the client and connect to the
server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.35pt;
margin-left:94.25pt'><span style='font-size:9.0pt;line-height:110%'>$ .</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>mongo</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=137 style='width:102.6pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=94 valign=top style='width:70.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>connecting to</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>:</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> test</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:21.5pt;
margin-left:90.5pt'>By default it connects to the <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>test</span> database. If you see the line
like . Then you have successfully installed MongoDB. Congrats! Now, you can
test Hello World to be more confident.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.15pt;
margin-left:21.4pt'><span style='font-size:11.0pt;line-height:110%'><img
border=0 width=5 height=5 id="Group 98443"
src="MongoDB%20Notes%20for%20Professionals_files/image009.gif"></span><b> For
Windows:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.8pt;
margin-left:60.0pt;text-indent:-8.95pt'><span style='font-size:11.0pt;
line-height:110%'><img border=0 width=5 height=5 id="Group 98444"
src="MongoDB%20Notes%20for%20Professionals_files/image015.gif"></span> Download
the latest release <a href="https://www.mongodb.com/download-center#community"><span
style='color:#459C45'>here</span></a>. Make sure that you are downloading the
appropriate file, specially check whether your operating system type is 32-bit
or 64-bit.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=274 style='width:2.85in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=108 valign=top style='width:81.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666'>:/</span><span style='font-size:9.0pt;line-height:107%'>Program
  Files</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>/</span></p>
  </td>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>MongoDB</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>/</span></p>
  </td>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>Server</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>/</span></p>
  </td>
  <td width=22 valign=top style='width:16.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#CC0000'>3.2</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>/</span></p>
  </td>
  <td width=22 valign=top style='width:16.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>bin</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.35pt;
margin-left:51.55pt'><img width=5 height=189
src="MongoDB%20Notes%20for%20Professionals_files/image016.gif" align=left
hspace=12>The downloaded binary file has extension <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>exe</span>. Run it. It will prompt an
installation wizard.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:51.55pt'>Click <b>Next</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:51.55pt'><b>Accept</b> the licence agreement and click <b>Next</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:51.55pt'>Select <b>Complete</b> Installation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:51.55pt'>Click on <b>Install</b>. It might prompt a window for
asking administrator's permission. Click <b>Yes</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.35pt;
margin-left:51.55pt'>After installation click on <b>Finish</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:51.55pt'>Now, the mongodb is installed on the path <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>C</span>. Instead
of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.9pt;
margin-left:60.5pt'>version 3.2, there could be some other version for your
case. The path name would be changed accordingly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.0pt;
margin-left:60.0pt;text-indent:-8.95pt'><span style='font-size:11.0pt;
line-height:110%'><img border=0 width=5 height=5 id="Group 98447"
src="MongoDB%20Notes%20for%20Professionals_files/image015.gif"></span><span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'> bin</span>
directory contain several binary file along with <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>mongod</span> and <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>mongo</span>. To run it from other
folder, you could add the path in system path. To do it:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:51.55pt'>Right click on <b>My Computer</b> and select <b>Properties</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:51.55pt'>Click on <b>Advanced system setting</b> on the left pane.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.1pt;
margin-left:51.55pt'>Click on <b>Environment Variables...</b> under the <b>Advanced</b>
tab.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.85pt;
margin-left:51.55pt'>Select <b>Path</b> from <b>System variables</b> section
and click on <b>Edit...</b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:15.05pt;margin-bottom:
1.55pt;margin-left:51.55pt'>Before Windows 10, append a semi-colon and paste
the path given above. From Windows 10, there is a <b>New</b> button to add new
path. Click <b>OK</b>s to save changes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.4pt;
margin-left:60.5pt'><img width=44 height=180
src="MongoDB%20Notes%20for%20Professionals_files/image017.gif" align=left
hspace=12>Now, create a folder named <span style='font-size:9.0pt;line-height:
110%;background:#FAFAFA'>data</span> having a sub-folder named <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>db</span> where you
want to run the server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.65pt;
margin-left:60.5pt'>Start command prompt from their. Either changing the path
in cmd or clicking on <b>Open command window here</b> which would be visible
after right clicking on the empty space of the folder GUI pressing the Shift
and Ctrl key together.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:51.05pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=650 height=51
src="MongoDB%20Notes%20for%20Professionals_files/image018.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:17.8pt;
margin-left:60.0pt;text-indent:-8.95pt'><span style='font-size:11.0pt;
line-height:110%'><img border=0 width=650 height=106
src="MongoDB%20Notes%20for%20Professionals_files/image019.gif"></span>By
default it connects to the <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>test</span> database. If you see the line like have
successfully installed MongoDB. Congrats! Now, you can test Hello World to be
more confident.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:21.4pt'><span style='font-size:11.0pt;line-height:110%'><img
border=0 width=5 height=5 id="Group 96614"
src="MongoDB%20Notes%20for%20Professionals_files/image009.gif"></span><b> For
Linux:</b> Almost same as Mac OS except some equivalent command is needed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:23.15pt;
margin-left:51.05pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=653 height=405
src="MongoDB%20Notes%20for%20Professionals_files/image020.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.2pt;
margin-left:90.5pt'>$ vi /etc/yum.repos.d/mongodb-org-3.4.repo</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:81.15pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=613 height=247
src="MongoDB%20Notes%20for%20Professionals_files/image021.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108891">Section 1.5: Basic commands
on mongo shell</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Show all available databases:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image022.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Select a particular database to access, e.g. <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mydb</span>. This
will create <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mydb</span>
if it does not already exist:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image023.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Show all collections in the database (be sure to select one
first, see above):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image024.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Show all functions that can be used with the database:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image025.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To check your currently selected database, use the command <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>db</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image026.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=108 style='width:81.0pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=108 valign=top style='width:81.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>dropDatabase</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:81.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666;
background:#FAFAFA'>()</span> command is used to drop a existing database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image027.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108892">Section 1.6: Hello World</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>After installation process, the following lines should be
entered in mongo shell (client terminal).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=109
src="MongoDB%20Notes%20for%20Professionals_files/image028.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Explanation:</b></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=94 style='width:70.2pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=36 valign=top style='width:27.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> key </span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>:</span></p>
  </td>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> value </span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:21.4pt'><img width=5 height=45
src="MongoDB%20Notes%20for%20Professionals_files/image029.gif" align=left
hspace=12>In the first line, we have inserted a <span style='font-size:9.0pt;
line-height:110%;color:#666666;background:#FAFAFA'>{}</span> paired document in
the default database <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>test</span> and in the collection named <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>world</span>.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>next</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:21.4pt'>In the second line we retrieve the data we have just
inserted. The retrieved data is kept in a javascript variable named <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>cur</span>. Then by
the <span style='font-size:9.0pt;line-height:110%;color:#666666;background:
#FAFAFA'>()</span> function, we retrieved the first and only document and kept
it in another js variable named <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>x</span>. Then printed the value of the document providing
the key.</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108893">Chapter 2: CRUD Operation</a></h1>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108894">Section 2.1: Create</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image030.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image031.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>The difference with <a
href="https://docs.mongodb.com/manual/reference/method/db.collection.save/#db.collection.save"><span
style='font-size:9.0pt;line-height:110%;color:#459C45;background:#FAFAFA'>save</span></a>
is that if the passed document contains an <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>_id</span> field, if a document already
exists with that <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>_id</span>
it will be updated instead of being added as new.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>Two new methods to insert documents into a collection, in
MongoDB 3.2.x:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Use <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>insertOne</span> to insert only one record:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image032.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:16.2pt;margin-bottom:
1.35pt;margin-left:4.0pt;text-indent:-3.75pt;line-height:255%'><span
style='position:absolute;z-index:-1895816192;left:0px;margin-left:0px;
margin-top:30px;width:718px;height:26px'><img width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image033.gif"></span>Use <span
style='font-size:9.0pt;line-height:255%;background:#FAFAFA'>insertMany</span>
to insert multiple records: <span style='font-size:9.0pt;line-height:255%'>db.</span><span
style='font-size:9.0pt;line-height:255%;color:#660066'>people</span><span
style='font-size:9.0pt;line-height:255%'>.</span><span style='font-size:9.0pt;
line-height:255%;color:#660066'>insertMany</span><span style='font-size:9.0pt;
line-height:255%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:255%'>name</span><span style='font-size:9.0pt;line-height:255%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:255%'> </span><span
style='font-size:9.0pt;line-height:255%;color:#3366CC'>'Tom'</span><span
style='font-size:9.0pt;line-height:255%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:255%'> age</span><span style='font-size:
9.0pt;line-height:255%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:255%'> </span><span style='font-size:9.0pt;line-height:255%;
color:#CC0000'>28</span><span style='font-size:9.0pt;line-height:255%;
color:#666666'>},{</span><span style='font-size:9.0pt;line-height:255%'>name</span><span
style='font-size:9.0pt;line-height:255%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:255%'> </span><span style='font-size:9.0pt;
line-height:255%;color:#3366CC'>'John'</span><span style='font-size:9.0pt;
line-height:255%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:255%'> age</span><span style='font-size:9.0pt;line-height:255%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:255%'> </span><span
style='font-size:9.0pt;line-height:255%;color:#CC0000'>25</span><span
style='font-size:9.0pt;line-height:255%;color:#666666'>},</span><span
style='font-size:9.0pt;line-height:255%'> </span><span style='font-size:9.0pt;
line-height:255%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:255%'>name</span><span style='font-size:9.0pt;line-height:255%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:255%'> </span><span
style='font-size:9.0pt;line-height:255%;color:#3366CC'>'Kathy'</span><span
style='font-size:9.0pt;line-height:255%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:255%'> age</span><span style='font-size:
9.0pt;line-height:255%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:255%'> </span><span style='font-size:9.0pt;line-height:255%;
color:#CC0000'>23</span><span style='font-size:9.0pt;line-height:255%;
color:#666666'>}])</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.6pt;margin-bottom:.25pt;
margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:
134%'>Note that <span style='font-size:9.0pt;line-height:134%;background:#FAFAFA'>insert</span>
is highlighted as deprecated in every official language driver since version
3.0. The full distinction being that the shell methods actually lagged behind
the other drivers in implementing the method. The same thing applies for all
other CRUD methods</p>

<h2 style='margin-top:0in;margin-right:4.6pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108895">Section 2.2: Update</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Update the <b>entire</b> object:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image034.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Or just update a single field of a document. In this case <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>age</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image035.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.35pt;
margin-left:.75pt'>You can also update multiple documents simultaneously by
adding a third parameter. This query will update all documents where the name
equals <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>Tom</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=109
src="MongoDB%20Notes%20for%20Professionals_files/image036.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If a new field is coming for update, that field will be
added to the document.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.3pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895815168'><span
style='left:0px;position:absolute;left:0px;top:-8px;width:718px;height:43px'><img
width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image037.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>people</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>updateMany</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%'>name</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>'Tom'</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>},{</span><span style='font-size:9.0pt;
line-height:110%'>$set</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%'>age</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>30</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> salary</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>50000</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}})</span><i><span style='font-size:9.0pt;line-height:110%;
color:#006600'>// Document will have `salary` field as well.</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>If a document is needed to be replaced,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:75.35pt;margin-bottom:
.1pt;margin-left:0in;text-indent:3.75pt;line-height:240%'><span
style='position:relative;z-index:-1895814144'><span style='left:0px;position:
absolute;left:0px;top:-8px;width:718px;height:26px'><img width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image038.gif"></span></span><span
style='font-size:9.0pt;line-height:240%'>db.</span><span style='font-size:9.0pt;
line-height:240%;color:#660066'>collection</span><span style='font-size:9.0pt;
line-height:240%'>.</span><span style='font-size:9.0pt;line-height:240%;
color:#660066'>replaceOne</span><span style='font-size:9.0pt;line-height:240%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:240%'>name</span><span
style='font-size:9.0pt;line-height:240%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:240%;color:#3366CC'>'Tom'</span><span
style='font-size:9.0pt;line-height:240%;color:#666666'>},</span><span
style='font-size:9.0pt;line-height:240%'> </span><span style='font-size:9.0pt;
line-height:240%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:240%'>name</span><span style='font-size:9.0pt;line-height:240%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:240%;
color:#3366CC'>'Lakmal'</span><span style='font-size:9.0pt;line-height:240%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:240%'>age</span><span
style='font-size:9.0pt;line-height:240%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:240%;color:#CC0000'>25</span><span
style='font-size:9.0pt;line-height:240%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:240%'>address</span><span style='font-size:
9.0pt;line-height:240%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:240%;color:#3366CC'>'Sri Lanka'</span><span style='font-size:9.0pt;
line-height:240%;color:#666666'>}) </span>can be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:8.85pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'><b>Note</b>: Fields you use to identify the object will be
saved in the updated document. Field that are not defined in the update section
will be removed from the document.</p>

<h2 style='margin-top:0in;margin-right:8.85pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108896">Section 2.3: Delete</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Deletes all documents matching the query parameter:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image039.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Or just one</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image040.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=43 style='width:.45in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>remove</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>MongoDB's <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span> method. If you execute this command
without any argument or without empty argument it will remove all documents
from the collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image041.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image042.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108897">Section 2.4: Read</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Query for all the docs in the <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>people</span> collection that have a <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>name</span> field
with a value of <span style='font-size:9.0pt;line-height:110%;color:#3366CC;
background:#FAFAFA'>'Tom'</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image043.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Or just the first one:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image044.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.35pt;
margin-left:.75pt'>You can also specify which fields to return by passing a
field selection parameter. The following will exclude the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>_id </span>field
and only include the <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>age</span> field:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image045.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=22 style='width:16.2pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=22 valign=top style='width:16.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>_id</span></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=72 style='width:.75in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=22 valign=top style='width:16.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>_id</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>:</span></p>
  </td>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#003366'>false</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
11.0pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:167%'><span style='position:absolute;z-index:-1895813120;
left:0px;margin-left:0px;margin-top:19px;width:718px;height:78px'><img
width=718 height=78
src="MongoDB%20Notes%20for%20Professionals_files/image046.gif"></span>Note: by
default, the <span style='font-size:9.0pt;line-height:167%;background:#FAFAFA'>_id</span>
field will be returned, even if you don't ask for it. If you would like not to
get the <span style='font-size:9.0pt;line-height:167%;background:#FAFAFA'>_id</span>
back, you can just follow the previous example and ask for the <span
style='font-size:9.0pt;line-height:167%;background:#FAFAFA'>_id</span> to be
excluded by specifying <span style='font-size:9.0pt;line-height:167%;
color:#666666;background:#FAFAFA'>:</span><span style='font-size:9.0pt;
line-height:167%'> </span><span style='font-size:9.0pt;line-height:167%;
color:#CC0000;background:#FAFAFA'>0</span> (or ).If you want to find sub record
like address object contains country, city, etc. <span style='font-size:9.0pt;
line-height:167%'>db.</span><span style='font-size:9.0pt;line-height:167%;
color:#660066'>people</span><span style='font-size:9.0pt;line-height:167%'>.</span><span
style='font-size:9.0pt;line-height:167%;color:#660066'>find</span><span
style='font-size:9.0pt;line-height:167%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:167%;color:#3366CC'>'address.country'</span><span
style='font-size:9.0pt;line-height:167%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:167%'> </span><span style='font-size:9.0pt;
line-height:167%;color:#3366CC'>'US'</span><span style='font-size:9.0pt;
line-height:167%;color:#666666'>})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>&amp; specify field too if required</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image047.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108898">Section 2.5: Update of
embedded documents</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>For the following schema:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image048.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:2.25in;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:247%'><span style='position:absolute;z-index:-1895812096;
left:0px;margin-left:0px;margin-top:31px;width:718px;height:26px'><img
width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image049.gif"></span>Update
Tom's marks to 55 where marks are 50 (Use the positional operator $): <span
style='font-size:9.0pt;line-height:247%'>db.</span><span style='font-size:9.0pt;
line-height:247%;color:#660066'>people</span><span style='font-size:9.0pt;
line-height:247%'>.</span><span style='font-size:9.0pt;line-height:247%;
color:#660066'>update</span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:247%'>name</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:247%'> </span><span style='font-size:9.0pt;
line-height:247%;color:#3366CC'>&quot;Tom&quot;</span><span style='font-size:
9.0pt;line-height:247%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:247%'> marks</span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:247%'> </span><span
style='font-size:9.0pt;line-height:247%;color:#CC0000'>50</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>},</span><span
style='font-size:9.0pt;line-height:247%'> </span><span style='font-size:9.0pt;
line-height:247%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:247%;color:#3366CC'>&quot;$set&quot;</span><span style='font-size:
9.0pt;line-height:247%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:247%'> </span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:247%;
color:#3366CC'>&quot;marks.$&quot;</span><span style='font-size:9.0pt;
line-height:247%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:247%'> </span><span style='font-size:9.0pt;line-height:247%;
color:#CC0000'>55</span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>}}) </span>For the following schema:</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'>name</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>'Tom'</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> age</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>28</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> marks</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>[{</span><span style='font-size:9.0pt;
line-height:110%'>subject</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;English&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> marks</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>90</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},{</span><span style='font-size:9.0pt;line-height:110%'>subject</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Maths&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> marks</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>100</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:48.6pt;margin-bottom:
2.2pt;margin-left:0in;text-align:justify;text-justify:inter-ideograph;
text-indent:3.75pt;line-height:247%'><span style='position:relative;z-index:
-1895811072'><span style='left:0px;position:absolute;left:0px;top:-25px;
width:718px;height:43px'><img width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image037.gif"></span></span><span
style='position:absolute;z-index:-1895810048;left:0px;margin-left:0px;
margin-top:68px;width:718px;height:26px'><img width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image049.gif"></span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:247%'>subject</span><span style='font-size:
9.0pt;line-height:247%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:247%'> </span><span style='font-size:9.0pt;line-height:247%;
color:#3366CC'>&quot;Computes&quot;</span><span style='font-size:9.0pt;
line-height:247%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:247%'> marks</span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:247%'> </span><span
style='font-size:9.0pt;line-height:247%;color:#CC0000'>20</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>}]} </span>Update Tom's
English marks to 85 : <span style='font-size:9.0pt;line-height:247%'>db.</span><span
style='font-size:9.0pt;line-height:247%;color:#660066'>people</span><span
style='font-size:9.0pt;line-height:247%'>.</span><span style='font-size:9.0pt;
line-height:247%;color:#660066'>update</span><span style='font-size:9.0pt;
line-height:247%;color:#666666'>({</span><span style='font-size:9.0pt;
line-height:247%'>name</span><span style='font-size:9.0pt;line-height:247%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:247%'> </span><span
style='font-size:9.0pt;line-height:247%;color:#3366CC'>&quot;Tom&quot;</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:247%'> </span><span style='font-size:9.0pt;
line-height:247%;color:#3366CC'>&quot;marks.subject&quot;</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:247%'> </span><span style='font-size:9.0pt;
line-height:247%;color:#3366CC'>&quot;English&quot;</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>},{</span><span
style='font-size:9.0pt;line-height:247%;color:#3366CC'>&quot;$set&quot;</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:247%;color:#3366CC'>&quot;marks.$.marks&quot;</span><span
style='font-size:9.0pt;line-height:247%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:247%'> </span><span style='font-size:9.0pt;
line-height:247%;color:#CC0000'>85</span><span style='font-size:9.0pt;
line-height:247%;color:#666666'>}})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>Explaining above example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>By using {name: &quot;Tom&quot;, &quot;marks.subject&quot;:
&quot;English&quot;} you will get the position of the object in the marks
array, where subject is English. In &quot;marks.$.marks&quot;, $ is used to
update in that position of the marks array</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Update Values in an Array</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>The positional $ operator identifies an element in an array
to update without explicitly specifying the position of the element in the
array.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Consider a collection students with the following documents:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=60
src="MongoDB%20Notes%20for%20Professionals_files/image050.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>To update 80 to 82 in the grades array in the first
document, use the positional $ operator if you do not know the position of the
element in the array:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=77
src="MongoDB%20Notes%20for%20Professionals_files/image051.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=21
src="MongoDB%20Notes%20for%20Professionals_files/image052.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108899">Section 2.6: More update
operators</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.15pt;
margin-left:.75pt'>You can use other operators besides <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>$set</span> when updating a
document. The <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>$push</span>
operator allows you to push a value into an array, in this case we will add a
new nickname to the <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>nicknames</span> array.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>people</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>update</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'>name</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>'Tom'</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$push</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>nicknames</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>'Tommy'</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.3pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895809024'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:43px'><img
width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image037.gif"></span></span><i><span
style='font-size:9.0pt;line-height:110%;color:#006600'>// This adds the string
'Tommy' into the nicknames array in Tom's document.</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.55pt;
margin-left:.75pt'>The <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>$pull</span> operator is the opposite of <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>$push</span>, you
can pull specific items from arrays.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>people</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>update</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'>name</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>'Tom'</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$pull</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>nicknames</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>'Tommy'</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.3pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895808000'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:43px'><img
width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image037.gif"></span></span><i><span
style='font-size:9.0pt;line-height:110%;color:#006600'>// This removes the
string 'Tommy' from the nicknames array in Tom's document.</span></i></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=223 style='width:167.4pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#3366CC'>'Marie'</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>,</span></p>
  </td>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> </span><span style='font-size:9.0pt;line-height:107%;color:#3366CC'>'Bob'</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>,</span></p>
  </td>
  <td width=58 valign=top style='width:.6in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> </span><span style='font-size:9.0pt;line-height:107%;color:#3366CC'>'Kevin'</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>,</span></p>
  </td>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> </span><span style='font-size:9.0pt;line-height:107%;color:#3366CC'>'Alex'</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.15pt;
margin-left:.75pt'>The <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>$pop</span> operator allows you to remove the first or the
last value from an array. Let's say Tom's document has a property called
siblings that has the value <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>[]</span>.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>people</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>update</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'>name</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>'Tom'</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$pop</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>siblings</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:24.85pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895806976'><span
style='left:0px;position:absolute;left:0px;top:-24px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image053.gif"></span></span><i><span
style='font-size:9.0pt;line-height:110%;color:#006600'>// This will remove the
first value from the siblings array, which is 'Marie' in this case.</span></i></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>people</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>update</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'>name</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>'Tom'</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$pop</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>siblings</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}})</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:23.0pt;
margin-left:3.5pt'><i><span style='font-size:9.0pt;line-height:110%;color:#006600'>//
This will remove the last value from the siblings array, which is 'Alex' in
this case.</span></i></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108900">Section 2.7:
&quot;multi&quot; Parameter while updating multiple documents</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To update multiple documents in a collection, set the multi
option to true.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=158
src="MongoDB%20Notes%20for%20Professionals_files/image054.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:23.65pt;
margin-left:.75pt'>multi is optional. If set to true, updates multiple
documents that meet the query criteria. If set to false, updates one document.
The default value is false.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:24.5pt'><img width=3 height=156
src="MongoDB%20Notes%20for%20Professionals_files/image055.gif" align=left
hspace=12>db.mycol.find() { &quot;_id&quot; : ObjectId(598354878df45ec5),
&quot;title&quot;:&quot;MongoDB Overview&quot;} { &quot;_id&quot; :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:24.5pt'>ObjectId(59835487adf45ec6), &quot;title&quot;:&quot;NoSQL
Overview&quot;} { &quot;_id&quot; : ObjectId(59835487adf45ec7),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:35.2pt;
margin-left:24.5pt'>&quot;title&quot;:&quot;Tutorials Point Overview&quot;}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:24.5pt'>db.mycol.update({'title':'MongoDB Overview'},
{$set:{'title':'New MongoDB Tutorial'}},{multi:true})</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108901">Chapter 3: Getting database information</a></h1>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108902">Section 3.1: List all collections in database</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image056.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image057.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image058.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108903">Section 3.2: List all databases</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image059.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image060.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image061.gif"></span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108904">Chapter 4: Querying for Data (Getting Started)</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:359.3pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:145%'>Basic querying examples</p>

<h2 style='margin-top:0in;margin-right:359.3pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108905">Section 4.1: Find()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75pt'><b>retrieve all documents in a collection</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image062.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75pt'><b>retrieve documents in a collection using a condition (
similar to WHERE in MYSQL )</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=60
src="MongoDB%20Notes%20for%20Professionals_files/image063.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75pt'><b>retrieve documents in a collection using Boolean
conditions (Query Operators)</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=240
src="MongoDB%20Notes%20for%20Professionals_files/image064.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>more boolean operations and examples can be found <a
href="https://docs.mongodb.com/manual/reference/operator/query/#query-and-projection-operators"><span
style='color:#459C45'>here</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:9.35pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'><b>NOTE:</b> <i>find()</i> will keep on searching the
collection even if a document match has been found , therefore it is
inefficient when used in a large collection , however by carefully modeling
your data and/or using indexes you can increase the efficiency of <i>find()</i></p>

<h2 style='margin-top:0in;margin-right:9.35pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108906">Section 4.2: FindOne()</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image065.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:18.2pt;
margin-left:.75pt'>the querying functionality is similar to find() but this
will end execution the moment it finds one document matching its condition , if
used with and empty object , it will fetch the first document and return it . <a
href="http://mongodb.github.io/node-mongodb-native/2.0/api/Collection.html#findOne"><span
style='color:#459C45'>findOne() mongodb api </span></a><a
href="http://mongodb.github.io/node-mongodb-native/2.0/api/Collection.html#findOne"><span
style='color:#459C45'>documentation</span></a></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108907">Section 4.3: limit, skip,
sort and count the results of the find() method</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Similar to aggregation methods also by the find() method you
have the possibility to limit, skip, sort and count the results. Let say we
have following collection:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image066.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To list the collection:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image067.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Will return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b0&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Any&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;21&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;busy&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b1&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Tony&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;25&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;busy&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>} {</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b2&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Bobby&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot;</span></p>

<p class=MsoNormal style='margin-left:3.5pt;line-height:110%'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.2pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895804928'><span
style='left:0px;position:absolute;left:0px;top:-74px;width:718px;height:125px'><img
width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b3&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Sonny&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;away&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>} {</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b4&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Cher&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;20&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot; </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To skip first 3 documents:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image068.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Will return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.2pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895803904'><span
style='left:0px;position:absolute;left:0px;top:-9px;width:718px;height:59px'><img
width=718 height=59
src="MongoDB%20Notes%20for%20Professionals_files/image069.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b3&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Sonny&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;away&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>} {</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b4&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Cher&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;20&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot; </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To sort descending by the field name:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image070.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Will return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b1&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Tony&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;25&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;busy&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895802880'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:125px'><img
width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b3&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Sonny&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;away&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>} {</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b4&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Cher&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;20&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot;</span></p>

<p class=MsoNormal style='margin-left:3.5pt;line-height:110%'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b2&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Bobby&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot; </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b0&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Any&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;21&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;busy&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:293.4pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:215%'>If you want to sort ascending just
replace -1 with 1 To count the results:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image071.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Will return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image072.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Also combinations of this methods are allowed. For example
get 2 documents from descending sorted collection skipping the first 1:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image073.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Will return:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.95pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895801856'><span
style='left:0px;position:absolute;left:0px;top:-8px;width:718px;height:59px'><img
width=718 height=59
src="MongoDB%20Notes%20for%20Professionals_files/image069.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b3&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Sonny&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;28&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;away&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>} {</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;592516d7fbd5b591f53237b4&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Cher&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;20&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;status&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;online&quot; </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108908">Section 4.4: Query Document - Using AND, OR and IN Conditions</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.25pt;margin-bottom:
0in;margin-left:-.45pt;text-indent:0in;line-height:107%'><img border=0
width=719 height=740 id="Picture 106034"
src="MongoDB%20Notes%20for%20Professionals_files/image074.gif"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:12.15pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=201
src="MongoDB%20Notes%20for%20Professionals_files/image075.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:11.9pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=283
src="MongoDB%20Notes%20for%20Professionals_files/image076.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.25pt;margin-bottom:
13.3pt;margin-left:-.45pt;text-indent:0in;line-height:107%'><img border=0
width=719 height=463 id="Picture 106036"
src="MongoDB%20Notes%20for%20Professionals_files/image077.gif"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=31
src="MongoDB%20Notes%20for%20Professionals_files/image078.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=721 height=245
src="MongoDB%20Notes%20for%20Professionals_files/image079.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'><b>IN Queries</b> This queries can improve multiple use of
OR Queries</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=721 height=234
src="MongoDB%20Notes%20for%20Professionals_files/image080.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108909">Section 4.5: find() method
with Projection</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>find</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The basic syntax of <span style='font-size:9.0pt;line-height:
110%;color:#666666;background:#FAFAFA'>()</span> method with projection is as
follows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image081.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If you want to show all documents without the age field then
the command is as follows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image082.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:105.0pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:145%'>If you want to show all documents the
age field then the command is as follows</p>

<h2 style='margin-top:0in;margin-right:105.0pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108910">Section 4.6: Find() method with
Projection</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>In MongoDB, projection means selecting only the necessary
data rather than selecting whole of the data of a document.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>find</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The basic syntax of <span style='font-size:9.0pt;line-height:
110%;color:#666666;background:#FAFAFA'>()</span> method with projection is as
follows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image081.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If you want to to show all document without the age field
then the command is as follows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image083.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If you want to show only the age field then the command is
as follows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.25pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image084.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>find</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.35pt;
margin-left:.75pt'><b>Note:</b> <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>_id</span> field is always displayed while executing <span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span>
method, if you don't want this field, then you need to set it as <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>0</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image085.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'><b>Note:</b> <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>1</span> is used to show the field while <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>0</span> is used to
hide the fields.<br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108911">Chapter 5: Update Operators</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.05pt;
margin-left:0in;text-indent:0in'><b>parameters                                                 Meaning</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'><i>fieldName              </i>Field will be
updated :{<b><i>name</i></b>: 'Tom'}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:20.8pt;
margin-left:0in;text-indent:0in'><i>targetVaule             </i>Value will be
assigned to the field :{name: <b><i>'Tom'</i></b>}</p>

<h2 style='margin-left:-.25pt'><a name="_Toc108912">Section 5.1: $set operator
to update specified field(s) in document(s)</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>I.Overview</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>A significant difference between MongoDB &amp; RDBMS is
MongoDB has many kinds of operators. One of them is update operator, which is
used in update statements.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>II.What happen if we don't use update operators?</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Suppose we have a <b>student</b> collection to store student
information(Table view):</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><img border=0 width=543
height=186 id="Picture 5723"
src="MongoDB%20Notes%20for%20Professionals_files/image086.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>One day you get a job that need to change Tom's gender from
&quot;M&quot; to &quot;F&quot;. That's easy, right? So you write below
statement very quickly based on your RDBMS experience:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image087.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Let's see what is the result:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><img border=0 width=718
height=239 id="Picture 5754"
src="MongoDB%20Notes%20for%20Professionals_files/image088.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:.75pt'>We lost Tom's age &amp; name! From this example, we can know
that <b>the whole document will be overrided</b> if without any update operator
in update statement. This is the default behavior of MongoDB.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>III.$set operator</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>If we want to change only the 'sex' field in Tom's document,
we can use <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>$set</span>
to specify which field(s) we want to update:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image089.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>The value of <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>$set</span> is an object, its fields stands for those
fields you want to update in the documents, and the values of these fields are
the target values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>So, the result is correct now:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><img border=0 width=718
height=237 id="Picture 5827"
src="MongoDB%20Notes%20for%20Professionals_files/image090.jpg"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Also, if you want to change both 'sex' and 'age' at the same
time, you can append them to <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>$set</span> :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image091.gif"></span></p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108913">Chapter 6: Upserts and Inserts</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108914">Section 6.1: Insert a
document</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.4pt;
margin-left:.75pt'><i>_id</i> is a 12 bytes hexadecimal number which assures
the uniqueness of every document. You can provide _id while inserting the
document. <b>If you didn't provide then MongoDB provide a unique id for every
document.</b> These 12 bytes first 4 bytes for the current timestamp, next 3
bytes for machine id, next 2 bytes for process id of mongodb server and
remaining 3 bytes are simple incremental value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=158
src="MongoDB%20Notes%20for%20Professionals_files/image092.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Here <i>mycol</i> is a collection name, if the collection
doesn't exist in the database, then MongoDB will create this collection and
then insert document into it. In the inserted document if we don't specify the <i>_id</i>
parameter, then MongoDB assigns an unique ObjectId for this document.<br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108915">Chapter 7: Collections</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108916">Section 7.1: Create a
Collection</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>First Select Or Create a database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image093.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=288 style='width:3.0in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=137 valign=top style='width:102.6pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>createCollection</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>(</span></p>
  </td>
  <td width=144 valign=top style='width:1.5in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#3366CC'>&quot;yourCollectionName&quot;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Using <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>)</span> method you can explicitly create
Collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image094.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Using <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>show collections</span> command see all collections in the
database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image095.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=137 style='width:102.6pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=137 valign=top style='width:102.6pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>createCollection</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>The <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span> method has the following
parameters:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:160.55pt;margin-bottom:
3.1pt;margin-left:.75pt'><b>Parameter             Type       Description </b>name                string      The
name of the collection to create.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.25pt;text-indent:106.3pt'><i>Optional.</i> Configuration options
for creating a <a
href="https://docs.mongodb.com/v3.2/reference/glossary/#term-capped-collection"><span
style='color:#459C45'>capped collection</span></a> or for preallocating space
in options                document</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.05pt;
margin-left:107.8pt'>a new collection.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=115 style='width:1.2in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=115 valign=top style='width:1.2in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>createCollection</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The fllowing example shows the syntax of <span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span>
method with few important options</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=60
src="MongoDB%20Notes%20for%20Professionals_files/image096.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=393 style='width:294.7pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=94 valign=top style='width:70.2pt;background:#FAFAFA;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>collection</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;background:#FAFAFA'>.</span></p>
  </td>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#660066'>insert</span></p>
  </td>
  <td width=69 valign=top style='width:51.7pt;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>()</span> and the </p>
  </td>
  <td width=94 valign=top style='width:70.2pt;background:#FAFAFA;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>collection</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;background:#FAFAFA'>.</span></p>
  </td>
  <td width=79 valign=top style='width:59.4pt;background:#FAFAFA;padding:1.1pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#660066'>createIndex</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>Both the <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span> operations create their respective
collection if they do not already exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image097.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Now, Show All the collections using <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>show collections</span> command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=109
src="MongoDB%20Notes%20for%20Professionals_files/image098.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>find</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If you want to see the inserted document, use the <span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span>
command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image099.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108917">Section 7.2: Drop
Collection</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=130 style='width:1.35in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=94 valign=top style='width:70.2pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>collection</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;background:#FAFAFA'>.</span></p>
  </td>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#660066'>drop</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.9pt;
margin-left:.75pt'>MongoDB's <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span> is used to drop a collection from
the database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>First, check the available collections into your database <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mydb</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=142
src="MongoDB%20Notes%20for%20Professionals_files/image100.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Now drop the collection with the name <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>newCollection1</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.3pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image101.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.1pt;
margin-left:.75pt'><b>Note:</b> If the collection droped successfully then the
method will return <b><span style='font-size:9.0pt;line-height:110%;color:#003366;
background:#FAFAFA'>true</span></b> otherwise it will return <b><span
style='font-size:9.0pt;line-height:110%;color:#003366;background:#FAFAFA'>false</span></b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Again check the list of collections into database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image102.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'><b>Reference:</b> MongoDB <a
href="https://docs.mongodb.com/manual/reference/method/db.collection.drop/"><span
style='color:#459C45'>drop()</span></a> Method.</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108918">Chapter 8: Aggregation</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:1.1pt;
margin-left:0in;text-indent:0in'><b>Parameter                                                                   Details</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:168.8pt;margin-bottom:
11.3pt;margin-left:.75pt;line-height:141%'><b>pipeline </b>array(A sequence of
data aggregation operations or stages) <b>options                </b>document(optional,
available only if pipeline present as an array)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'><span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>Aggregations</span> operations process data records and return
computed results. Aggregation operations group values from multiple documents
together, and can perform a variety of operations on the grouped data to return
a single result. MongoDB provides three ways to perform aggregation: the
aggregation pipeline, the map-reduce function, and single purpose aggregation
methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:164.1pt;margin-bottom:
0in;margin-left:0in;text-indent:0in;line-height:145%'><i>From Mongo manual </i><a
href="https://docs.mongodb.com/manual/aggregation/"><i><span style='color:#459C45'>https://docs.mongodb.com/manual/aggregation/</span></i></a></p>

<h2 style='margin-top:0in;margin-right:164.1pt;margin-bottom:0in;margin-left:
0in;text-indent:0in;line-height:145%'><a name="_Toc108919">Section 8.1: Count</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=36 style='width:27.0pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=36 valign=top style='width:27.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>count</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>How do you get the number of Debit and Credit transactions?
One way to do it is by using <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span> function as below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image103.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>or</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image104.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>But what if you do not know the possible values of <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>cr_dr</span>
upfront. Here Aggregation framework comes to play. See the below Aggregate
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=191
src="MongoDB%20Notes%20for%20Professionals_files/image105.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>And the result is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=142
src="MongoDB%20Notes%20for%20Professionals_files/image106.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108920">Section 8.2: Sum</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>How to get the summation of <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>amount</span>? See the below aggregate
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=191
src="MongoDB%20Notes%20for%20Professionals_files/image107.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>And the result is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:11.9pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=208
src="MongoDB%20Notes%20for%20Professionals_files/image108.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=191
src="MongoDB%20Notes%20for%20Professionals_files/image109.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>And the result is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image110.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108921">Section 8.3: Average</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>How to get the average amount of debit and credit
transactions?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=57
src="MongoDB%20Notes%20for%20Professionals_files/image111.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=153
src="MongoDB%20Notes%20for%20Professionals_files/image112.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The result is</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=207
src="MongoDB%20Notes%20for%20Professionals_files/image113.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108922">Section 8.4: Operations
with arrays</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>When you want to work with the data entries in arrays you
first need to <a
href="https://docs.mongodb.com/manual/reference/operator/aggregation/unwind/"><span
style='color:#459C45'>unwind</span></a> the array. The unwind operation creates
a document for each entry in the array. When you have lot's of documents with
large arrays you will see an explosion in number of documents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image114.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.1pt;
margin-left:.75pt'>An important notice is that when a document doesn't contain
the array it will be lost. From mongo 3.2 and up there are is an unwind option
&quot;preserveNullAndEmptyArrays&quot; added. This option makes sure the
document is preserved when the array is missing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;item&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;myItem1&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> sizes</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;S&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;M&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;L&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>]</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;item&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;myItem2&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> sizes</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;XS&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;M&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;XL&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>]</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.95in;margin-bottom:
.1pt;margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;item&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;myItem3&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>} </span><span style='font-size:9.0pt;line-height:110%'>   </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:23.0pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895800832'><span
style='left:0px;position:absolute;left:0px;top:-74px;width:718px;height:92px'><img
width=718 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image115.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>inventory</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>(</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'> $unwind </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> path</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$sizes&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> includeArrayIndex</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;arrayIndex&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}]</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>)</span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108923">Section 8.5: Aggregate
query examples useful for work and learning</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>Aggregation is used to perform complex data search
operations in the mongo query which can't be done in normal &quot;find&quot;
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.7pt;
margin-left:.75pt'><b>Create some dummy data:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>insert</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>({</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:[</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;german&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;french&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.45pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895799808'><span
style='left:0px;position:absolute;left:0px;top:-24px;width:718px;height:58px'><img
width=718 height=58
src="MongoDB%20Notes%20for%20Professionals_files/image116.gif"></span></span><span
style='position:absolute;z-index:-1895798784;left:0px;margin-left:0px;
margin-top:29px;width:718px;height:153px'><img width=718 height=153
src="MongoDB%20Notes%20for%20Professionals_files/image117.gif"></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>10</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Anna&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;languages&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:[</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>35</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>, </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>11</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Bob&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Facilities&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:[</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>36</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>, </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>14</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Cathy&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Facilities&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:[</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>31</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>, </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>4</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Mike&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;HR&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;languages&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:[</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>, </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;spanish&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>26</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>3</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>insert</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Jenny&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;HR&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;languages&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:[</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>, </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;spanish&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>25</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>3</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Examples by topic:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Match:</b>
Used to match documents (like SQL where clause)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:3.15in;margin-bottom:
.2pt;margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$match</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%'>dept</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}}]); </span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fac2e9b4b54ec384a0d&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[ </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;german&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;french&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;english&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;hindi&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.45pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895797760'><span
style='left:0px;position:absolute;left:0px;top:-74px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image118.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fc92e9b4b54ec384a0e&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[ </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;english&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;hindi&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>35</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>11</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:17.1pt;text-indent:-16.85pt;line-height:217%'><b><span
style='line-height:217%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b>Project:</b> Used to populate specific field's value(s)
project stage will include _id field automatically unless you specify to
disable.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=223
src="MongoDB%20Notes%20for%20Professionals_files/image119.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.85pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Group:</b>
$group is used to group documents by specific field, here documents are grouped
by &quot;dept&quot; field's value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Another useful feature is that you can group by null, it
means all documents will be aggregated into one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=207
src="MongoDB%20Notes%20for%20Professionals_files/image120.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Sum:</b>
$sum is used to count or sum the values inside a group.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=44
src="MongoDB%20Notes%20for%20Professionals_files/image121.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=54
src="MongoDB%20Notes%20for%20Professionals_files/image122.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Average:</b>
Calculates average of specific field's value per group.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$group</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$sum</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.5in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895796736'><span
style='left:0px;position:absolute;left:0px;top:-24px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image123.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;avgExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$avg</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}}}]); </span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Facilities&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>9</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10.5</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Minimum:</b>
Finds minimum value of a field in each group.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$group</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$sum</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.5in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895795712'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image123.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;minExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$min</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}}}]); </span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Facilities&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Maximum:</b>
Finds maximum value of a field in each group.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$group</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$sum</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.5in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895794688'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image123.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;maxExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$max</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}}}]); </span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Facilities&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>14</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>11</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.15pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Getting
specific field's value from first and last document of each group:</b> Works
well when doucument result is sorted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895793664'><span
style='left:0px;position:absolute;left:0px;top:-8px;width:718px;height:125px'><img
width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$group</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;$age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;lasts&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:{</span><span style='font-size:9.0pt;
line-height:110%'>$last</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;firsts&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$first</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$name&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>}}}]);</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>Output</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>25</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;lasts&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Jenny&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;firsts&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Jenny&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>26</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;lasts&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Mike&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;firsts&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Mike&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>35</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;lasts&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Cathy&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;firsts&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Anna&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;lasts&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;firsts&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Adma&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b>Minumum
with maximum:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$group</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$sum</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:2.25in;margin-bottom:
.1pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895792640'><span
style='left:0px;position:absolute;left:0px;top:-25px;width:718px;height:108px'><img
width=718 height=108
src="MongoDB%20Notes%20for%20Professionals_files/image124.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;maxExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$max</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>},</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;minExp&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>$min</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$totalExp&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}}}]); </span><span style='font-size:9.0pt;
line-height:110%'>Output</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;maxExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;minExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>3</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Facilities&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;maxExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>14</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;minExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;noOfEmployee&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;maxExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>11</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;minExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Push and
addToSet:</b> Push adds a field's value form each document in group to an array
used to project data in array format, addToSet is simlar to push but it omits
duplicate values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=71
src="MongoDB%20Notes%20for%20Professionals_files/image125.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895791616'><span
style='left:0px;position:absolute;left:0px;top:-4px;width:718px;height:21px'><img
width=718 height=21
src="MongoDB%20Notes%20for%20Professionals_files/image126.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;arrPush&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>35</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>35</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>35</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>26</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>25</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;arrSet&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>25</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>26</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>35</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>]</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.1pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Unwind:</b>
Used to create multiple in-memory documents for each value in the specified
array type field, then we can do further aggregation based on those values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:91.8pt;margin-bottom:
.1pt;margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>employees</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>aggregate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>([{</span><span style='font-size:9.0pt;
line-height:110%'>$match</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Adma&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$unwind</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$languages&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}]); </span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895790592'><span
style='left:0px;position:absolute;left:0px;top:-42px;width:718px;height:174px'><img
width=718 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image127.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fac2e9b4b54ec384a0d&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>: </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;german&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fac2e9b4b54ec384a0d&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>: </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;french&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fac2e9b4b54ec384a0d&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>: </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;english&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;totalExp&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>10</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.45pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;54982fac2e9b4b54ec384a0d&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;HR&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;languages&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>: </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;hindi&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;age&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>30</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;totalExp&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>10</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Sorting:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:16.2pt;margin-bottom:
.2pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895789568'><span
style='left:0px;position:absolute;left:0px;top:-8px;width:718px;height:191px'><img
width=718 height=191
src="MongoDB%20Notes%20for%20Professionals_files/image128.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$match</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>dept</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$project</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;name&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$sort</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'>name</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>: </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}}]); </span><span style='font-size:9.0pt;line-height:110%'>Output</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:81.0pt;margin-bottom:
12.45pt;margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> ObjectId</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>(</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;57ff3e553dedf0228d4862ac&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>} {</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>employees</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>aggregate</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>([{</span><span
style='font-size:9.0pt;line-height:110%'>$match</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:{</span><span style='font-size:9.0pt;
line-height:110%'>dept</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$project</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:{</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$sort</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>name</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:459.0pt;margin-bottom:
.2pt;margin-left:3.5pt;line-height:110%'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}}]); </span><span style='font-size:9.0pt;
line-height:110%'>Output</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e553dedf0228d4862ac&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Skip:</b></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895788544'><span style='left:0px;position:absolute;left:0px;
top:-9px;width:718px;height:76px'><img width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image129.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$match</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>dept</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$project</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;name&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$sort</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'>name</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-left:3.5pt;line-height:110%'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}},</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'>$skip</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}]);</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>Output</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e553dedf0228d4862ac&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Limit:</b></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>employees</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>aggregate</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>([{</span><span
style='font-size:9.0pt;line-height:110%'>$match</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:{</span><span style='font-size:9.0pt;
line-height:110%'>dept</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$project</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:{</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;dept&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$sort</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>name</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-left:3.5pt;line-height:110%'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}},</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'>$limit</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}]);</span><span style='font-size:9.0pt;line-height:110%'>  </span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895787520'><span style='left:0px;position:absolute;left:0px;
top:-42px;width:718px;height:92px'><img width=718 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image130.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>Output</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'>                                                                                           
</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.45pt;
margin-left:3.75pt;text-indent:0in;line-height:107%'><span style='font-size:
9.0pt;line-height:107%'>           </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span><span style='font-size:9.0pt;
line-height:110%'>  </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Comparison
operator in projection:</b></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895786496'><span style='left:0px;position:absolute;left:0px;
top:-8px;width:718px;height:92px'><img width=718 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image131.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$match</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>dept</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$project</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;name&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> age</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>$gt</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$age&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>, </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>30</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>]}}}]); </span><span style='font-size:9.0pt;line-height:110%'>Output</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e553dedf0228d4862ac&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><b><span
style='font-size:9.0pt;line-height:110%;color:#003366'>false</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><b><span
style='font-size:9.0pt;line-height:110%;color:#003366'>true</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:0in;
margin-left:17.1pt;text-indent:-16.85pt'><b><span style='line-height:110%'>16.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></b><b>Comparison
operator in match:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=59
src="MongoDB%20Notes%20for%20Professionals_files/image132.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:18.45pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=121
src="MongoDB%20Notes%20for%20Professionals_files/image133.gif"></span></p>

<p class=MsoNormal style='margin-left:3.5pt;line-height:110%'><span
style='position:relative;z-index:-1895785472'><span style='left:0px;position:
absolute;left:0px;top:-8px;width:718px;height:125px'><img width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$match</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>dept</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>}},</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$project</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;name&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> age</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> $and</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{ </span><span
style='font-size:9.0pt;line-height:110%'>$gt</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;$age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>30</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>]</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>},</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'> $lt</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;$age&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>]</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>]</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}}}]);</span><span
style='font-size:9.0pt;line-height:110%'>                                           
</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:307.8pt;margin-bottom:
.2pt;margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>                                  
Output</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:5.4pt;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e553dedf0228d4862ac&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Adma&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><b><span
style='font-size:9.0pt;line-height:110%;color:#003366'>false</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>} </span><span style='font-size:9.0pt;
line-height:110%'>                 </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.5pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><b><span
style='font-size:9.0pt;line-height:110%;color:#003366'>true</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span><span style='font-size:9.0pt;
line-height:110%'>  </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.7pt;
margin-left:.75pt'><b>18. Boolean aggregation opertor in match:</b></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895784448'><span style='left:0px;position:absolute;left:0px;
top:-8px;width:718px;height:158px'><img width=718 height=158
src="MongoDB%20Notes%20for%20Professionals_files/image134.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>employees</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>aggregate</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>([{</span><span style='font-size:9.0pt;line-height:110%'>$match</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:{</span><span
style='font-size:9.0pt;line-height:110%'>dept</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> $and</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[{</span><span
style='font-size:9.0pt;line-height:110%'>age</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> $gt</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>  </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>30</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'>age</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'>$lt</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>36</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}}</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>]</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}}, {</span><span style='font-size:9.0pt;
line-height:110%'>$project</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:{</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;name&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> age</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> $and</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>[</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> $gt</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>[</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;$age&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>30</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>]</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>},</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> $lt</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;$age&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>36</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>]</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.2in;margin-bottom:.2pt;
margin-left:3.5pt;line-height:110%'><span style='font-size:9.0pt;line-height:
110%;color:#666666'>}}}]);</span><span style='font-size:9.0pt;line-height:110%'>                             
Output</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.45pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> ObjectId</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;57ff3e5e3dedf0228d4862ad&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>),</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;name&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Anna&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dept&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;Admin&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;age&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><b><span
style='font-size:9.0pt;line-height:110%;color:#003366'>true</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span><span style='font-size:9.0pt;
line-height:110%'>  </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:24.0pt;
margin-left:24.5pt'>List of boolean aggregation opertors: $and, $or, and $not.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:76.95pt;margin-bottom:
0in;margin-left:.75pt;line-height:145%'>Complete refrence: <a
href="https://docs.mongodb.com/v3.2/reference/operator/aggregation/"><span
style='color:#459C45'>https://docs.mongodb.com/v3.2/reference/operator/aggregation/</span></a></p>

<h2 style='margin-top:0in;margin-right:76.95pt;margin-bottom:0in;margin-left:
.75pt;line-height:145%'><a name="_Toc108924">Section 8.6: Match</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>How to write a query to get all departments where average
age of employees making less than or $70000 is greather than or equal to 35?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>In order to that we need to write a query to match employees
that have a salary that is less than or equal to $70000. Then add the aggregate
stage to group the employees by the department. Then add an accumulator with a
field named e.g. average_age to find the average age per department using the
$avg accumulator and below the existing $match and $group aggregates add
another $match aggregate so that we're only retrieving results with an
average_age that is greather than or equal to 35.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=142
src="MongoDB%20Notes%20for%20Professionals_files/image135.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The result is:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=106
src="MongoDB%20Notes%20for%20Professionals_files/image136.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=104
src="MongoDB%20Notes%20for%20Professionals_files/image137.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108925">Section 8.7: Get sample
data</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To get random data from certain collection refer to <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>$sample</span>
aggregation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image138.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:18.6pt;
margin-left:.75pt'>where <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>size</span> stands for number of items to select.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc108926">Section 8.8: Remove docs
that have a duplicate field in a collection (dedupe)</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Note that the allowDiskUse: true option is optional but will
help mitigate out of memory issues as this aggregation can be a memory
intensive operation if your collection size is large - so i recommend to always
use it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=437
src="MongoDB%20Notes%20for%20Professionals_files/image139.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108927">Section 8.9: Left Outer Join with aggregation ( $Lookup)</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=142
src="MongoDB%20Notes%20for%20Professionals_files/image140.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=120
src="MongoDB%20Notes%20for%20Professionals_files/image141.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.4pt;
margin-left:.75pt'>This feature was newly released in the mongodb <b>version
3.2</b> , which gives the user a stage to join one collection with the matching
attributes from another collection</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.9pt;margin-bottom:
0in;margin-left:-.25pt;line-height:145%'><a
href="https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/"><span
style='color:#459C45'>Mongodb $LookUp documentation</span></a></p>

<h2 style='margin-top:0in;margin-right:255.9pt;margin-bottom:0in;margin-left:
-.25pt;line-height:145%'><a name="_Toc108928">Section 8.10: Server Aggregation</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:76.95pt;margin-bottom:
0in;margin-left:.75pt;line-height:107%'>Andrew Mao's solution. <a
href="http://stackoverflow.com/questions/18520567/average-aggregation-queries-in-meteor"><span
style='color:#459C45'>Average Aggregation Queries in Meteor</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=585
src="MongoDB%20Notes%20for%20Professionals_files/image142.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108929">Section 8.11: Aggregation
in a Server Method</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=230 style='width:2.4in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=230 valign=top style='width:2.4in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>Mongo.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>Collection</span><span
  style='font-size:9.0pt;line-height:107%'>#rawCollection</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>()</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:131.1pt;margin-bottom:
12.8pt;margin-left:.75pt'>Another way of doing aggregations is by using the </p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>This can only be run on the Server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Here is an example you can use in Meteor 1.3 and higher:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=273
src="MongoDB%20Notes%20for%20Professionals_files/image143.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108930">Section 8.12: Java and
Spring example</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>This is an example code to create and execute the aggregate
query in MongoDB using Spring Data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.25pt;margin-bottom:
0in;margin-left:-.45pt;text-indent:0in;line-height:107%'><img border=0
width=719 height=628 id="Picture 106041"
src="MongoDB%20Notes%20for%20Professionals_files/image144.gif"></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=186
src="MongoDB%20Notes%20for%20Professionals_files/image145.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>See the &quot;resultSet&quot; value in JSON format to
understand the output format:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=289
src="MongoDB%20Notes%20for%20Professionals_files/image146.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>The &quot;resultSet&quot; contains one entry for each group,
&quot;ageSet&quot; contains the list of age of each employee of that group,
&quot;_id&quot; contains the value of the field that is being used for grouping
and &quot;docs&quot; contains data of each employee of that group that can be
used in our own code and UI.</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108931">Chapter 9: Indexes</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108932">Section 9.1: Index Creation
Basics</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>See the below transactions collection.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895783424'><span style='left:0px;position:absolute;left:0px;
top:-8px;width:718px;height:125px'><img width=718 height=125
src="MongoDB%20Notes%20for%20Professionals_files/image006.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> db.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>transactions</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>insert</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>({</span><span style='font-size:9.0pt;
line-height:110%'> cr_dr </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;D&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> amount </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>100</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> fee </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>2</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>transactions</span><span style='font-size:9.0pt;line-height:
110%'>.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>insert</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> cr_dr </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;C&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>
amount </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>100</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> fee </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>transactions</span><span style='font-size:9.0pt;line-height:
110%'>.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>insert</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> cr_dr </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;C&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>
amount </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>10</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'>  fee </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>transactions</span><span style='font-size:9.0pt;line-height:
110%'>.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>insert</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> cr_dr </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;D&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>
amount </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>100</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> fee </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>4</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>transactions</span><span style='font-size:9.0pt;line-height:
110%'>.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>insert</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> cr_dr </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;D&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>
amount </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>10</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'>  fee </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:110%'> db.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>transactions</span><span style='font-size:9.0pt;line-height:
110%'>.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>insert</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%'> cr_dr </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;C&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>
amount </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>10</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'>  fee </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>4</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.3pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> db.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>transactions</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>insert</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>({</span><span style='font-size:9.0pt;
line-height:110%'> cr_dr </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;D&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> amount </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>100</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> fee </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>2</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>});</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=72 style='width:.75in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=72 valign=top style='width:.75in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>getIndexes</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:54.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666;
background:#FAFAFA'>()</span> functions will show all the indices available for
a collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image147.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Let see the output of above statement.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image148.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>There is already one index for transaction collection. This
is because MongoDB creates a <i>unique index</i> on the <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>_id </span>field during the creation
of a collection. The <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>_id</span> index prevents clients from inserting two documents with
the same value for the <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>_id</span> field. You cannot drop this index on the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>_id</span> field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Now let's add an index for cr_dr field;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image149.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:11.9pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=258
src="MongoDB%20Notes%20for%20Professionals_files/image150.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=29
src="MongoDB%20Notes%20for%20Professionals_files/image151.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=284
src="MongoDB%20Notes%20for%20Professionals_files/image152.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:8.8pt;margin-bottom:8.7pt;
margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:
188%'><span style='position:relative;z-index:-1895782400'><span
style='left:0px;position:absolute;left:0px;top:-946px;width:718px;height:1px'><img
width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span>Now
you see transactions collection have two indices. Default <span
style='font-size:9.0pt;line-height:188%;background:#FAFAFA'>_id</span> index
and <span style='font-size:9.0pt;line-height:188%;background:#FAFAFA'>cr_dr_1</span>
which we created. The name is assigned by MongoDB. You can set your own name
like below. <span style='font-size:9.0pt;line-height:188%'>db.</span><span
style='font-size:9.0pt;line-height:188%;color:#660066'>transactions</span><span
style='font-size:9.0pt;line-height:188%'>.</span><span style='font-size:9.0pt;
line-height:188%;color:#660066'>createIndex</span><span style='font-size:9.0pt;
line-height:188%;color:#666666'>({</span><span style='font-size:9.0pt;
line-height:188%'> cr_dr </span><span style='font-size:9.0pt;line-height:188%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:188%'> </span><span
style='font-size:9.0pt;line-height:188%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:188%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:188%'> </span><span style='font-size:9.0pt;
line-height:188%;color:#666666'>},{</span><span style='font-size:9.0pt;
line-height:188%'>name </span><span style='font-size:9.0pt;line-height:188%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:188%'> </span><span
style='font-size:9.0pt;line-height:188%;color:#3366CC'>&quot;index on cr_dr
desc&quot;</span><span style='font-size:9.0pt;line-height:188%;color:#666666'>})</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=187 style='width:1.95in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=108 valign=top style='width:81.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>transactions</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;background:#FAFAFA'>.</span></p>
  </td>
  <td width=72 valign=top style='width:.75in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#660066'>getIndexes</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Now <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>();</span> will give you three indices.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:13.9pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=471
src="MongoDB%20Notes%20for%20Professionals_files/image154.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.15pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:8.0pt;
line-height:107%;font-family:"DejaVu Sans Mono";color:#666666'>Version &#8805;
2.4</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Hashed indexes</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Indexes can be defined also as <i>hashed</i>. This is more
performant on <i>equality queries</i>, but is not efficient for <i>range
queries</i>; however you can define both hashed and ascending/descending
indexes on the same field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=355
src="MongoDB%20Notes%20for%20Professionals_files/image155.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108933">Section 9.2:
Dropping/Deleting an Index</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If index name is known,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image156.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>If index name is not known,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image157.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108934">Section 9.3: Sparse indexes
and Partial indexes</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Sparse indexes:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>These can be particularly useful for fields that are
optional but which should also be unique.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image158.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.45pt;margin-bottom:
8.65pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:188%'><span style='position:relative;z-index:-1895781376'><span
style='left:0px;position:absolute;left:0px;top:-2355px;width:718px;height:1px'><img
width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span>Since
two entries have no &quot;nickname&quot; specified and indexing will treat
unspecified fields as null, the index creation would fail with 2 documents
having 'null', so: <span style='font-size:9.0pt;line-height:188%'>db.</span><span
style='font-size:9.0pt;line-height:188%;color:#660066'>scores</span><span
style='font-size:9.0pt;line-height:188%'>.</span><span style='font-size:9.0pt;
line-height:188%;color:#660066'>createIndex</span><span style='font-size:9.0pt;
line-height:188%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:188%'> </span><span style='font-size:9.0pt;line-height:188%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:188%'> nickname</span><span
style='font-size:9.0pt;line-height:188%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:188%'> </span><span style='font-size:9.0pt;
line-height:188%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:188%'> </span><span style='font-size:9.0pt;line-height:188%;
color:#666666'>}</span><span style='font-size:9.0pt;line-height:188%'> </span><span
style='font-size:9.0pt;line-height:188%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:188%'> </span><span style='font-size:9.0pt;
line-height:188%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:188%'> unique</span><span style='font-size:9.0pt;line-height:188%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:188%'> </span><b><span
style='font-size:9.0pt;line-height:188%;color:#003366'>true</span></b><span
style='font-size:9.0pt;line-height:188%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:188%'> sparse</span><span style='font-size:
9.0pt;line-height:188%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:188%'> </span><b><span style='font-size:9.0pt;line-height:188%;
color:#003366'>true</span></b><span style='font-size:9.0pt;line-height:188%'> </span><span
style='font-size:9.0pt;line-height:188%;color:#666666'>}</span><span
style='font-size:9.0pt;line-height:188%'> </span><span style='font-size:9.0pt;
line-height:188%;color:#666666'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>will let you still have 'null' nicknames.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Sparse indexes are more compact since they skip/ignore
documents that don't specify that field. So if you have a collection where only
less than 10% of documents specify this field, you can create much smaller
indexes - making better use of limited memory if you want to do queries like:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image159.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:24.25pt;
margin-left:.75pt'><b>Partial indexes:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.4pt;margin-bottom:
23.65pt;margin-left:24.5pt'><img width=3 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image160.gif" align=left
hspace=12>Partial indexes represent a superset of the functionality offered by
sparse indexes and should be preferred over sparse indexes. (<i>New in version
3.2</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Partial indexes determine the index entries based on the
specified filter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image161.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>If <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>rating</span> is greater than 5, then <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>cuisine</span> will be indexed. Yes, we
can specify a property to be indexed based on the value of other properties
also.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Difference between Sparse and Partial indexes:</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>Sparse indexes select documents to index solely based on the
existence of the indexed field, or for compound indexes, the existence of the
indexed fields.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:6.3pt;margin-bottom:.2pt;
margin-left:.75pt;line-height:184%'>Partial indexes determine the index entries
based on the specified filter. The filter can include fields other than the
index keys and can specify conditions other than just an existence check.
Still, a partial index can implement the same behavior as a sparse index Eg:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=143
src="MongoDB%20Notes%20for%20Professionals_files/image162.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108935">Section 9.4: Get Indices of a Collection</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image163.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75pt'><b>Output</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=237
src="MongoDB%20Notes%20for%20Professionals_files/image164.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=202
src="MongoDB%20Notes%20for%20Professionals_files/image165.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108936">Section 9.5: Compound</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image166.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.55pt;
margin-left:.75pt'>This creates an index on multiple fields, in this case on
the <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>name</span>
and <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>age</span>
fields. It will be ascending in <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>name</span> and descending in <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>age</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>In this type of index, the sort order is relevant, because
it will determine whether the index can support a sort operation or not.
Reverse sorting is supported on any prefix of a compound index, as long as the
sort is in the reverse sort direction for <b>all</b> of the keys in the sort.
Otherwise, sorting for compound indexes need to match the order of the index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:6.55pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'>Field order is also important, in this case the index will be
sorted first by <span style='font-size:9.0pt;line-height:134%;background:#FAFAFA'>name</span>,
and within each name value, sorted by the values of the <span style='font-size:
9.0pt;line-height:134%;background:#FAFAFA'>age</span> field. This allows the
index to be used by queries on the <span style='font-size:9.0pt;line-height:
134%;background:#FAFAFA'>name</span> field, or on <span style='font-size:9.0pt;
line-height:134%;background:#FAFAFA'>name</span> and <span style='font-size:
9.0pt;line-height:134%;background:#FAFAFA'>age</span>, but not on <span
style='font-size:9.0pt;line-height:134%;background:#FAFAFA'>age</span> alone.</p>

<h2 style='margin-top:0in;margin-right:6.55pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108937">Section 9.6: Unique Index</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image167.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=86 style='width:.9in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>sparse</span></p>
  </td>
  <td width=7 valign=top style='width:5.4pt;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666;background:#FAFAFA'>:</span></p>
  </td>
  <td width=36 valign=top style='width:27.0pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#003366'>true</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:4.4pt;margin-bottom:.25pt;
margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:
134%'>enforce uniqueness on the defined index (either single or compound).
Building the index will fail if the collection already contains duplicate
values; the indexing will fail also with multiple entries missing the field
(since they will all be indexed with the value <b><span style='font-size:9.0pt;
line-height:134%;color:#003366;background:#FAFAFA'>null</span></b>) unless  is
specified.</p>

<h2 style='margin-top:0in;margin-right:4.4pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108938">Section 9.7: Single field</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image168.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>This creates an ascending single field index on the field <i>name</i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt;line-height:145%'>In this type of indexes the sort order is
irrelevant, because mongo can traverse the index in both directions.</p>

<h2 style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108939">Section 9.8: Delete</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>To drop an index you could use the index name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image169.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Or the index specification document</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image170.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108940">Section 9.9: List</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image171.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>This will return an array of documents each describing an
index on the <i>people</i> collection<br clear=all style='page-break-before:
always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108941">Chapter 10: Bulk Operations</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108942">Section 10.1: Converting a
field to another type and updating the entire collection in Bulk</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Usually the case when one wants to change a field type to
another, for instance the original collection may have &quot;numerical&quot; or
&quot;date&quot; fields saved as strings:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image172.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The objective would be to update a humongous collection like
the above to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=174
src="MongoDB%20Notes%20for%20Professionals_files/image173.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=50 style='width:37.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><u><span style='font-size:9.0pt;
  line-height:107%;color:#459C45'>forEach</span></u></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:6.6pt;margin-bottom:1.35pt;
margin-left:38.05pt;text-indent:-37.8pt'>For relatively small data, one can
achieve the above by iterating the collection using a <a
href="https://docs.mongodb.com/manual/reference/method/cursor.snapshot/"><b><span
style='font-size:9.0pt;line-height:110%;color:#459C45;background:#FAFAFA'>snapshot</span></b></a>
with the cursor's <b><u><span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>()</span></u></b> method and updating each
document as follows:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=191
src="MongoDB%20Notes%20for%20Professionals_files/image174.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>Whilst this is optimal for small collections, performance
with large collections is greatly reduced since looping through a large dataset
and sending each update operation per request to the server incurs a
computational penalty.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>Bul</span></b></a><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>k</span></b></a></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=50 style='width:37.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>forEach</span></b></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.3pt;
margin-left:.75pt'>The <a
href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>)</span></b></a>
API comes to the rescue and greatly improves performance since write operations
are sent to the server only once in bulk. Efficiency is achieved since the
method does not send every write request to the server (as with the current
update statement within the <a
href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>)</span></b></a>
loop) but just once in every 1000 requests, thus making updates more efficient
and quicker than currently is.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=50 style='width:37.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>forEach</span></b></a></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=308 style='width:230.7pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:.95pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>Bulk</span></b></a></p>
  </td>
  <td width=236 valign=top style='width:176.7pt;padding:.95pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#666666;background:#FAFAFA'>(</span></b></a><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#666666;background:#FAFAFA'>)</span></b></a>
  API available in MongoDB versions </p>
  </td>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:.95pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666'>&gt;=</span><span style='font-size:9.0pt;line-height:
  107%'> </span><span style='font-size:9.0pt;line-height:107%;color:#CC0000'>2.6</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.35pt;
margin-left:.75pt'>Using the same concept above with the <a
href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>)</span></b></a>
loop to create the batches, we can update the collection in bulk as follows. In
this demonstration the  and <span style='font-size:9.0pt;line-height:110%;
color:#666666;background:#FAFAFA'>&lt; 3.2</span> uses the</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=180 style='width:135.0pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=180 valign=top style='width:135.0pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/db.collection.initializeUnorderedBulkOp/#db.collection.initializeUnorderedBulkOp"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>initializeUnorderedBulkO</span></b></a><a
  href="https://docs.mongodb.com/manual/reference/method/db.collection.initializeUnorderedBulkOp/#db.collection.initializeUnorderedBulkOp"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>p</span></b></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:27.8pt;
margin-bottom:1.85pt;margin-left:.5pt;text-align:right;line-height:107%'><a
href="https://docs.mongodb.com/manual/reference/method/db.collection.initializeUnorderedBulkOp/#db.collection.initializeUnorderedBulkOp"><b><span
style='font-size:9.0pt;line-height:107%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.com/manual/reference/method/db.collection.initializeUnorderedBulkOp/#db.collection.initializeUnorderedBulkOp"><b><span
style='font-size:9.0pt;line-height:107%;color:#666666;background:#FAFAFA'>)</span></b></a>
method to execute in parallel, as well as in a nondeterministic order, the
write</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.0pt;
margin-left:.75pt'>operations in the batches.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:.75pt'>It updates all the documents in the clients collection by
changing the <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>salary</span>
and <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>dob</span>
fields to <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>numerical</span>
and <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>datetime</span>
values respectively:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=720 height=339
src="MongoDB%20Notes%20for%20Professionals_files/image175.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>Bulk</span></b></a></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=65 style='width:48.6pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=65 valign=top style='width:48.6pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.org/v3.2/reference/method/db.collection.bulkWrite/#db.collection.bulkWrite"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>bulkWrit</span></b></a><a
  href="https://docs.mongodb.org/v3.2/reference/method/db.collection.bulkWrite/#db.collection.bulkWrite"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>e</span></b></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>The next example applies to the new MongoDB version <span
style='font-size:9.0pt;line-height:110%;color:#CC0000;background:#FAFAFA'>3.2</span>
which has since deprecated the <a
href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.com/manual/reference/method/Bulk/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>)</span></b></a>
API and provided a newer set of apis using <a
href="https://docs.mongodb.org/v3.2/reference/method/db.collection.bulkWrite/#db.collection.bulkWrite"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>(</span></b></a><a
href="https://docs.mongodb.org/v3.2/reference/method/db.collection.bulkWrite/#db.collection.bulkWrite"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>)</span></b></a>.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=50 style='width:37.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=50 valign=top style='width:37.8pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><a
  href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
  style='font-size:9.0pt;line-height:107%;color:#459C45'>forEach</span></b></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>It uses the same cursors as above but creates the arrays
with the bulk operations using the same <a
href="https://docs.mongodb.com/manual/reference/method/cursor.forEach/"><b><span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span></b></a>
cursor method to push each bulk write document to the array. Because write
commands can accept no more than 1000 operations, there's need to group
operations to have at most 1000 operations and re-intialise the array when the
loop hits the 1000 iteration:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=374
src="MongoDB%20Notes%20for%20Professionals_files/image176.gif"></span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895779328'><span style='left:0px;position:absolute;left:0px;
top:-6537px;width:718px;height:1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image177.gif"></span></span><b><span
style='font-size:9.0pt;line-height:110%;color:#000066'>if</span></b><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%'>bulkUpdateOps.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>length</span><span style='font-size:9.0pt;line-height:110%'>
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>0</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>)</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>{</span><span style='font-size:9.0pt;line-height:110%'> db.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>test</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>bulkWrite</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%'>bulkUpdateOps</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>);</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}</span><br clear=all
style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108943">Chapter 11: 2dsphere Index</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108944">Section 11.1: Create a
2dsphere Index</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=194 style='width:145.8pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=194 valign=top style='width:145.8pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>db.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>collection</span><span
  style='font-size:9.0pt;line-height:107%'>.</span><span style='font-size:9.0pt;
  line-height:107%;color:#660066'>createIndex</span><span style='font-size:
  9.0pt;line-height:107%;color:#666666'>()</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:24.5pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'> method
is used to create a <span style='font-size:9.0pt;line-height:107%;background:
#FAFAFA'>2dsphere</span> index. The blueprint of a <span style='font-size:9.0pt;
line-height:107%;background:#FAFAFA'>2dsphere</span> index :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.15pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image178.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.65pt;
margin-left:.75pt'>Here, the <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>location field</span> is the key and <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>2dsphere</span> is
the type of the index. In the following example we are going to create a <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>2dsphre</span>
index in the <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>places</span>
collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.15pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=109
src="MongoDB%20Notes%20for%20Professionals_files/image179.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>The following operation will create <span style='font-size:
9.0pt;line-height:110%;background:#FAFAFA'>2dsphere</span> index on the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>loc</span> field of
<span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>places</span>
collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image180.gif"></span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108945">Chapter 12: Pluggable Storage Engines</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108946">Section 12.1: WiredTiger</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.65pt;
margin-left:.75pt'>WiredTiger supports <b>LSM trees to store indexes</b>. LSM
trees are faster for write operations when you need to write huge workloads of
random inserts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.65pt;
margin-left:.75pt'>In WiredTiger, there is <b>no in-place updates</b>. If you
need to update an element of a document, a new document will be inserted while
the old document will be deleted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>WiredTiger also offers <b>document-level concurrency</b>. It
assumes that two write operations will not affect the same document, but if it
does, one operation will be rewind and executed later. That's a great
performance boost if rewinds are rare.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.25pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:171%'>WiredTiger supports <b>Snappy and zLib
algorithms for compression</b> of data and indexes in the file system. Snappy
is the default. It is less CPU-intensive but have a lower compression rate than
zLib. <b>How to use WiredTiger Engine</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image181.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;
margin-left:-.25pt;line-height:107%'><i>Note:</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.3pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>After
mongodb 3.2, the default engine is WiredTiger.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.2pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>newWiredTigerDBPath</span>
should not contain data of another storage engine. To migrate your data, you
have to dump them, and re-import them in the new storage engine.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:167.4pt;margin-bottom:
22.95pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895778304'><span
style='left:0px;position:absolute;left:0px;top:-7432px;width:718px;height:1px'><img
width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>    mongodump </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>out </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:110%'>exportDataDestination</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt; </span><span style='font-size:9.0pt;
line-height:110%'>    mongod </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>storageEngine
wiredTiger </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>dbpath </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:110%'>newWiredTigerDBPath</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt; </span><span style='font-size:9.0pt;
line-height:110%'>    mongorestore </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:110%'>exportDataDestination</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;</span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108947">Section 12.2: MMAP</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>mmap</span></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>mmap</span></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=29 style='width:.3in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=29 valign=top style='width:.3in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>read</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.5pt;
margin-left:.75pt'>MMAP is a pluggable storage engine that was named after the <span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span>
Linux command. It maps files to the virtual memory and optimizes read calls. If
you have a large file but needs to read just a small part of it, <span
style='font-size:9.0pt;line-height:110%;color:#666666;background:#FAFAFA'>()</span>
is much faster then a <span style='font-size:9.0pt;line-height:110%;color:#666666;
background:#FAFAFA'>()</span> call that would bring the entire file to the
memory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:13.85pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'>One disadvantage is that you can't have two write calls being
processed in parallel for the same collection. So, MMAP has collection-level
locking (and not document-level locking as WiredTiger offers). This
collection-locking is necessary because one MMAP index can reference multiples
documents and if those docs could be updated simultaneously, the index would be
inconsistent.</p>

<h2 style='margin-top:0in;margin-right:13.85pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108948">Section 12.3: In-memory</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:207.0pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:145%'>All data is stored in-memory (RAM) for
faster read/access.</p>

<h2 style='margin-top:0in;margin-right:207.0pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108949">Section 12.4: mongo-rocks</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:170.05pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:145%'>A key-value engine created to
integrate with Facebook's RocksDB.</p>

<h2 style='margin-top:0in;margin-right:170.05pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108950">Section 12.5: Fusion-io</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>A storage engine created by SanDisk that makes it possible
to bypass the OS file system layer and write directly to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:359.3pt;margin-bottom:
0in;margin-left:-.25pt;line-height:145%'>the storage device.</p>

<h2 style='margin-top:0in;margin-right:359.3pt;margin-bottom:0in;margin-left:
-.25pt;line-height:145%'><a name="_Toc108951">Section 12.6: TokuMX</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>A storage engine created by Percona that uses fractal tree
indexes.<br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108952">Chapter 13: Java Driver</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108953">Section 13.1: Fetch
Collection data with condition</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=58 style='width:.6in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=58 valign=top style='width:.6in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>name</span><span style='font-size:9.0pt;line-height:107%;color:#666666'>=</span><span
  style='font-size:9.0pt;line-height:107%'>dev</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:166.2pt;margin-bottom:
.2pt;margin-left:.75pt'>To get data from <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>testcollection</span> collection in <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>testdb</span>
database where </p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=388
src="MongoDB%20Notes%20for%20Professionals_files/image183.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108954">Section 13.2: Create a
database user</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.7pt;
margin-left:.75pt'>To create a user <b>dev</b> with password <b>password123</b></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>MongoClient mongo </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:110%'> </span><b><span style='font-size:9.0pt;line-height:110%;
color:#000066'>new</span></b><span style='font-size:9.0pt;line-height:110%'>
MongoClient</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;localhost&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>27017</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:210.6pt;margin-bottom:
22.95pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895777280'><span
style='left:0px;position:absolute;left:0px;top:-8609px;width:718px;height:1px'><img
width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image184.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>MongoDatabase db </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:110%'>  mongo.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>getDatabase</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;testDB&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>); </span><span
style='font-size:9.0pt;line-height:110%'>Map</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&lt;</span><span style='font-size:9.0pt;
line-height:110%'>String</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'> Object</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'> commandArguments </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:110%'> </span><b><span style='font-size:
9.0pt;line-height:110%;color:#000066'>new</span></b><span style='font-size:
9.0pt;line-height:110%'> BasicDBObject</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(); </span><span style='font-size:9.0pt;
line-height:110%'>commandArguments.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>put</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;createUser&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;dev&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>); </span><span style='font-size:9.0pt;
line-height:110%'>commandArguments.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>put</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pwd&quot;</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;password123&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>); </span><span style='font-size:9.0pt;
line-height:110%'>String</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>[]</span><span style='font-size:9.0pt;line-height:110%'> roles </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>=</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>{</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;readWrite&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>}; </span><span style='font-size:9.0pt;line-height:110%'>commandArguments.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>put</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;roles&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> roles</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>); </span><span style='font-size:9.0pt;
line-height:110%'>BasicDBObject command </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>=</span><span style='font-size:9.0pt;
line-height:110%'> </span><b><span style='font-size:9.0pt;line-height:110%;
color:#000066'>new</span></b><span style='font-size:9.0pt;line-height:110%'>
BasicDBObject</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%'>commandArguments</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>); </span><span
style='font-size:9.0pt;line-height:110%'>db.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>runCommand</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%'>command</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>);</span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:4.2pt;margin-left:
-.25pt'><a name="_Toc108955">Section 13.3: Create a tailable cursor</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.6pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895776256'><span
style='left:0px;position:absolute;left:0px;top:-8764px;width:718px;height:1px'><img
width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>find</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%'>query</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>)</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>projection</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%'>fields</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>)</span><span style='font-size:9.0pt;
line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>cursorType</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>(</span><span style='font-size:9.0pt;line-height:110%'>CursorType.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>TailableAwait</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span><span
style='font-size:9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>iterator</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>();</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>That code applies to the <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>MongoCollection</span> class.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>CursorType is an enum and it has the following values:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image185.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Corresponding to the old (&lt;3.0) DBCursor addOption Bytes
types:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image186.gif"></span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108956">Chapter 14: Python Driver</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.55pt;
margin-left:0in;text-indent:0in'><b>Parameter                                                                                                            Detail</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:12.05pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'>Optional.
You can specify as many hosts as necessary. You would specify multiple hosts,
for example,</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=692
 style='width:519.35pt;margin-left:1.0pt;border-collapse:collapse'>
 <tr style='height:19.65pt'>
  <td width=74 valign=top style='width:55.4pt;padding:0in 0in 0in 0in;
  height:19.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>hostX</p>
  </td>
  <td width=619 valign=top style='width:463.95pt;padding:0in 0in 0in 0in;
  height:19.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>for
  connections to replica sets.</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=74 valign=top style='width:55.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>:portX</p>
  </td>
  <td width=619 valign=top style='width:463.95pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Optional.
  The default value is :27017 if not specified.</p>
  </td>
 </tr>
 <tr style='height:40.75pt'>
  <td width=74 style='width:55.4pt;padding:0in 0in 0in 0in;height:40.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>database</p>
  </td>
  <td width=619 valign=top style='width:463.95pt;padding:0in 0in 0in 0in;
  height:40.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Optional.
  The name of the database to authenticate if the connection string includes
  authentication credentialsIf /database is not specified and the connection
  string includes credentials, the driver will authenticate to the admin
  database.</p>
  </td>
 </tr>
 <tr style='height:13.65pt'>
  <td width=74 valign=top style='width:55.4pt;padding:0in 0in 0in 0in;
  height:13.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>?options</p>
  </td>
  <td width=619 valign=top style='width:463.95pt;padding:0in 0in 0in 0in;
  height:13.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Connection
  specific options</p>
  </td>
 </tr>
</table>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108957">Section 14.1: Connect to MongoDB using pymongo</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=306
src="MongoDB%20Notes%20for%20Professionals_files/image187.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108958">Section 14.2: PyMongo
queries</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.3pt;
margin-left:.75pt'>Once you got a <span style='font-size:9.0pt;line-height:
110%;background:#FAFAFA'>collection</span> object, queries use the same syntax
as in the mongo shell. Some slight differences are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:20.9pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=690 height=63
src="MongoDB%20Notes%20for%20Professionals_files/image188.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.3pt;margin-bottom:.2pt;
margin-left:30.5pt;line-height:232%'><span style='position:relative;z-index:
-1895775232'><span style='left:0px;position:absolute;left:28px;top:-9715px;
width:690px;height:1px'><img width=690 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image189.gif"></span></span>becomes
in <span style='font-size:9.0pt;line-height:232%;background:#FAFAFA'>pymongo</span>
(note the <span style='font-size:9.0pt;line-height:232%;background:#FAFAFA'>True</span>
in uppercase): objects such as object ids or <span style='font-size:9.0pt;
line-height:232%;background:#FAFAFA'>ISODate</span> are manipulated using
python classes. PyMongo uses its own <a
href="http://api.mongodb.com/python/current/api/bson/objectid.html"><span
style='font-size:9.0pt;line-height:232%;color:#459C45;background:#FAFAFA'>ObjectId
</span></a>class to deal with object ids, while dates use the standard <span
style='font-size:9.0pt;line-height:232%;background:#FAFAFA'>datetime</span>
package. For example, if you want to query all events between 2010 and 2011,
you can do:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:30.0pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%'><img border=0 width=678 height=92
src="MongoDB%20Notes%20for%20Professionals_files/image190.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108959">Section 14.3: Update all
documents in a collection using PyMongo</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Let's say you need to add a field to every document in a
collection.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=158
src="MongoDB%20Notes%20for%20Professionals_files/image191.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=43 style='width:.45in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=43 valign=top style='width:.45in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#000066'>for</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#000066'>in</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:.75pt'>The <span style='font-size:9.0pt;line-height:110%;
background:#FAFAFA'>find</span> method returns a <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>Cursor</span>, on which you can easily
iterate over using the  syntax. Then, we call the <span style='font-size:9.0pt;
line-height:110%;background:#FAFAFA'>update</span> method, specifying the <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>_id</span> and that
we add a field (<span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>$set</span>).
The parameters <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>upsert</span>
and <span style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>multi</span>
come from mongodb (<a
href="https://docs.mongodb.com/manual/reference/method/db.collection.update/"><span
style='color:#459C45'>see here for more info</span></a>).<br clear=all
style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108960">Chapter 15: Mongo as Shards</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108961">Section 15.1: Sharding
Environment Setup</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>Sharding Group Members :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.3pt;
margin-left:.75pt'>For sharding there are three players.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Config
Server</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Replica
Sets</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:20.3pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Mongos</p>

<p class=MsoNormal style='margin-top:0in;margin-right:191.55pt;margin-bottom:
.2pt;margin-left:.25pt;text-indent:30.0pt;line-height:374%'>For a mongo shard
we need to setup the above three servers. Config Server Setup : add the
following to mongod conf file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.2pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=76
src="MongoDB%20Notes%20for%20Professionals_files/image192.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'><b>run :</b> mongod --config</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;
margin-left:-.25pt;line-height:107%'><i>we can choose config server as replica
set or may be a standalone server. Based on our requirement we can choose the
best. If config need to run in replica set we need to follow the replica set
setup</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.3pt;
margin-left:.75pt'><b>Replica Setup :</b> Create replica set // Please refer
the replica setup</p>

<p class=MsoNormal style='margin-top:0in;margin-right:96.85pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:217%'><b>MongoS Setup :</b> Mongos is main
setup in shard. Its is query router to access all replica sets Add the
following in mongos conf file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image193.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>Configure Shared :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.3pt;
margin-left:.75pt'>Connect the mongos via shell (mongo --host --port )</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>sh.addShard(
&quot;/s1-mongo1.example.net:27017&quot;)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>sh.enableSharding(&quot;&quot;)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>sh.shardCollection(&quot;&lt;
database &gt;.&lt; collection &gt;&quot;, { &lt; key &gt; : &lt; direction &gt;
} )</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>sh.status()
// To ensure the sharding</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108962">Chapter 16: Replication</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108963">Section 16.1: Basic
configuration with three nodes</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>The replica set is a group of mongod instances that maintain
the same data set.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>This example shows how to configure a replica set with three
instances on the same server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:-.25pt;line-height:107%'><i>Creating data folders</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=60
src="MongoDB%20Notes%20for%20Professionals_files/image194.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:107%'><i>Starting mongod instances</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:145.75pt;margin-bottom:
17.2pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895774208'><span
style='left:0px;position:absolute;left:0px;top:-11459px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>port </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>27017</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>dbpath </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>/</span><span style='font-size:9.0pt;
line-height:110%'>srv</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>mongodb</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>data</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>/</span><span style='font-size:9.0pt;
line-height:110%'>rs0</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>0</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 mongod </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27018</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>dbpath </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>srv</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>/</span><span style='font-size:9.0pt;
line-height:110%'>mongodb</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>rs0</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>1</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>replSet
rs0 mongod </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27019</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>dbpath </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>srv</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>/</span><span style='font-size:9.0pt;
line-height:110%'>mongodb</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>rs0</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>2</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>replSet
rs0</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.65pt;
margin-left:-.25pt;line-height:107%'><i>Configuring replica set</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.55pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%'>mongo </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27017</span><span style='font-size:9.0pt;
line-height:110%'>    </span><i><span style='font-size:9.0pt;line-height:110%;
color:#006600'>// connection to the instance 27017</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:124.3pt;margin-bottom:
17.3pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895773184'><span
style='left:0px;position:absolute;left:0px;top:-11606px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image195.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>rs.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>initiate</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>();</span><span style='font-size:9.0pt;
line-height:110%'>                </span><i><span style='font-size:9.0pt;
line-height:110%;color:#006600'>// initilization of replica set on the 1st node
</span></i><span style='font-size:9.0pt;line-height:110%'>rs.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>add</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;&lt;hostname&gt;:27018&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span><span
style='font-size:9.0pt;line-height:110%'>    </span><i><span style='font-size:
9.0pt;line-height:110%;color:#006600'>// adding a 2nd node </span></i><span
style='font-size:9.0pt;line-height:110%'>rs.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>add</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;&lt;hostname&gt;:27019&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span><span
style='font-size:9.0pt;line-height:110%'>    </span><i><span style='font-size:
9.0pt;line-height:110%;color:#006600'>// adding a 3rd node</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;
margin-left:-.25pt;line-height:107%'><i>Testing your setup</i></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=79 style='width:59.4pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=79 valign=top style='width:59.4pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%'>rs.</span><span style='font-size:9.0pt;line-height:107%;color:#660066'>status</span><span
  style='font-size:9.0pt;line-height:107%;color:#666666'>()</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>For checking the configuration type , the result should be
like:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=435
src="MongoDB%20Notes%20for%20Professionals_files/image196.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=136
src="MongoDB%20Notes%20for%20Professionals_files/image197.gif"></span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108964">Chapter 17: Mongo as a Replica Set</a></h1>

<h2 style='margin-left:-.25pt'><a name="_Toc108965">Section 17.1: Mongodb as a
Replica Set</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>We would be creating mongodb as a replica set having 3
instances. One instance would be primary and the other 2 instances would be
secondary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>For simplicity, I am going to have a replica set with 3
instances of mongodb running on the same server and thus to achieve this, all
three mongodb instances would be running on different port numbers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.0pt;
margin-left:.75pt'>In production environment where in you have a dedicated
mongodb instance running on a single server you can reuse the same port
numbers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.55pt;
margin-left:16.6pt'>1. Create data directories ( path where mongodb data would
be stored in a file)</p>

<p class=MsoNormal style='margin-left:13.8pt;text-indent:-.15in'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='position:relative;z-index:-1895772160'><span
style='left:0px;position:absolute;left:0px;top:-12596px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mkdir c</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'>\data\server1 </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>(</span><span style='font-size:9.0pt;line-height:110%'>datafile
path </span><b><span style='font-size:9.0pt;line-height:110%;color:#000066'>for</span></b><span
style='font-size:9.0pt;line-height:110%'> instance </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span></p>

<p class=MsoNormal style='margin-left:13.8pt;text-indent:-.15in'><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:9.0pt;line-height:110%'>mkdir c</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>\data\server2 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%'>datafile path </span><b><span
style='font-size:9.0pt;line-height:110%;color:#000066'>for</span></b><span
style='font-size:9.0pt;line-height:110%'> instance </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.9pt;
margin-left:13.8pt;text-indent:-.15in'><span style='font-size:9.0pt;line-height:
110%;color:#666666'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:9.0pt;line-height:110%'>mkdir c</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>\data\server3 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>(</span><span
style='font-size:9.0pt;line-height:110%'>datafile path </span><b><span
style='font-size:9.0pt;line-height:110%;color:#000066'>for</span></b><span
style='font-size:9.0pt;line-height:110%'> instance </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>3</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.9pt;
margin-left:16.6pt'>2. a. Start the first mongod instance</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.55pt;
margin-left:30.5pt'>Open command prompt and type the following press enter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895771136'><span
style='left:0px;position:absolute;left:0px;top:-12735px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image198.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>replSet s0 </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>dbpath
c</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>\data\server1 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>37017</span><span style='font-size:9.0pt;
line-height:110%'>  </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>smallfiles
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>oplogSize </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>100</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.0pt;
margin-left:.75pt'>The above command associates the instance of mongodb to a
replicaSet name &quot;s0&quot; and the starts the first instance of mongodb on
port 37017 with oplogSize 100MB</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.55pt;
margin-left:16.6pt'>2. b. Similarly start the second instance of Mongodb</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895770112'><span
style='left:0px;position:absolute;left:0px;top:-12866px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>replSet s0 </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>dbpath
c</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>\data\server2 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>37018</span><span style='font-size:9.0pt;
line-height:110%'>  </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>smallfiles
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>oplogSize </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>100</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.0pt;
margin-left:.75pt'>The above command associates the instance of mongodb to a
replicaSet name &quot;s0&quot; and the starts the first instance of mongodb on
port 37018 with oplogSize 100MB</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.55pt;
margin-left:16.6pt'>2. c. Now start the third instance of Mongodb</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895769088'><span
style='left:0px;position:absolute;left:0px;top:-12996px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image199.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>replSet s0 </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>dbpath
c</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'>\data\server3 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>37019</span><span style='font-size:9.0pt;
line-height:110%'>  </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>smallfiles
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>oplogSize </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>100</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>The above command associates the instance of mongodb to a
replicaSet name &quot;s0&quot; and the starts the first instance of mongodb on
port 37019 with oplogSize 100MB</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>With all the 3 instances started, these 3 instances are
independent of each other currently. We would now need to group these instances
as a replica set. We do this with the help of a config object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>3.a Connect to any of the mongod servers via the mongo
shell. To do that open the command prompt and type.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image200.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Once connected to the mongo shell, create a config object</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image201.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>this config object has 2 attributes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.1pt;
margin-left:60.0pt;text-indent:-13.9pt'><span style='line-height:110%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>_id:
the name of the replica Set ( &quot;s0&quot; )</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:60.0pt;text-indent:-13.9pt'><span style='line-height:110%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>members:
[] (members is an array of mongod instances. lets keep this blank for now, we
will add members via the push command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>3.b To Push(add) mongod instances to the members array in
the config object. On the mongo shell type</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.2pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895768064'><span
style='left:0px;position:absolute;left:0px;top:-13415px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'> config.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>members</span><span style='font-size:
9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>push</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>0</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;host&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;localhost:37017&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}); </span><span style='font-size:9.0pt;
line-height:110%'> config.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>members</span><span style='font-size:9.0pt;line-height:110%'>.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>push</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>({</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;host&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;localhost:37018&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>}); </span><span
style='font-size:9.0pt;line-height:110%'> config.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>members</span><span style='font-size:
9.0pt;line-height:110%'>.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>push</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>({</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;_id&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>2</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;host&quot;</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;localhost:37019&quot;</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>});</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.0pt;
margin-left:.75pt'>We assign each mongod instance an _id and an host. _id can
be any unique number and the host should be the hostname of the server on which
its running followed by the port number.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Initiate
the config object by the following command in the mongo shell.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:12.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image202.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:30.0pt;text-indent:-13.9pt'><span style='line-height:110%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Give
it a few seconds and we have a replica set of 3 mongod instances running on the
server. type the following command to check the status of the replica set and
to identify which one is primary and which one is secondary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:10.35pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image203.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108966">Section 17.2: Check MongoDB
Replica Set states</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>Use the below command to check the replica set status.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'><b>Command</b> : rs.status()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:34.95pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:215%'>Connect any one of replica member and
fire this command it will give the full state of the replica set Example :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=424
src="MongoDB%20Notes%20for%20Professionals_files/image204.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>state</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 2,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>stateStr</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>SECONDARY</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>uptime</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 5953720,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>optime</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; :
Timestamp(1474875364, 13),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>optimeDate</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>04Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.45in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeat</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>04.244Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),                    
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeatRecv</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>03.871Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>pingMs</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : NumberLong(0),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>syncingTo</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>10.9.52.55</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>10050</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>configVersion</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 6</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>           
},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>           
{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>_id</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 2,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>name</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&lt;</span><span
style='font-size:9.0pt;line-height:110%'>IP</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;:&lt;</span><span style='font-size:9.0pt;
line-height:110%'>PORT</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>&gt;</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>health</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 1,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>state</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 7,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>stateStr</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>ARBITER</span><span style='font-size:
9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>uptime</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 5953696,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.45in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeat</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>03.183Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),                    
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeatRecv</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>03.715Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>pingMs</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : NumberLong(0),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>configVersion</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 6</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>           
},</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>           
{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>_id</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 3,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>name</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&lt;</span><span
style='font-size:9.0pt;line-height:110%'>IP</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>&gt;:&lt;</span><span style='font-size:9.0pt;
line-height:110%'>PORT</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>&gt;</span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>health</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 1,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>state</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 2,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>stateStr</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>SECONDARY</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>uptime</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 1984305,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>optime</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; :
Timestamp(1474875361, 16),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>optimeDate</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>01Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.2pt;margin-bottom:
.1pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895767040'><span
style='left:0px;position:absolute;left:0px;top:-14803px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image205.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeat</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>02.921Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),                    
&quot;</span><span style='font-size:9.0pt;line-height:110%'>lastHeartbeatRecv</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : ISODate(&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>2016</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>09</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>26T07</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>36</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>03.793Z</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;),                    
&quot;</span><span style='font-size:9.0pt;line-height:110%'>pingMs</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : NumberLong(22),</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>                    &quot;</span><span
style='font-size:9.0pt;line-height:110%'>lastHeartbeatMessage</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>syncing from</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%'> 10.9.52.56</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>10050</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>syncingTo</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : &quot;</span><span
style='font-size:9.0pt;line-height:110%'>10.9.52.56</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>10050</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>                   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>configVersion</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 6</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>           
}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>   
],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>   
&quot;</span><span style='font-size:9.0pt;line-height:110%'>ok</span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot; : 1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>   
}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>From the above we can know the entire replica set status</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108967">Chapter 18: MongoDB - Configure a ReplicaSet to
support TLS/SSL</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>How to configure a ReplicaSet to support TLS/SSL?</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>We will deploy a 3 Nodes ReplicaSet in your local
environment and we will use a self-signed certificate. Do not use a self-signed
certificate in PRODUCTION.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>How to connect your Client to this ReplicaSet?</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.8pt;
margin-left:.75pt'>We will connect a Mongo Shell.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.45pt;
margin-left:-.25pt;line-height:107%'><i>A description of TLS/SSL, PKI (Public
Key Infrastructure) certificates, and Certificate Authority is beyond the scope
of this documentation.</i></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108968">Section 18.1: How to
configure a ReplicaSet to support TLS/SSL?</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Create the Root Certificate</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>The Root Certificate (aka CA File) will be used to sign and
identify your certificate. To generate it, run the command below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image206.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:27.75pt;
margin-left:.75pt'>Keep the root certificate and its key carefully, both will
be used to sign your certificates. The root certificate might be used by your
client as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Generate the Certificate Requests and the Private Keys</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'>When generating the Certificate Signing Request (aka CSR), <b>input
the exact hostname (or IP) of your node in the Common Name (aka CN) field. The
others fields must have exactly the same value.</b> You might need to modify
your <i>/etc/hosts</i> file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>The commands below will generate the CSR files and the RSA
Private Keys (4096 bits).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.45pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895766016'><span
style='left:0px;position:absolute;left:0px;top:-15672px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>openssl req </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>nodes </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>newkey rsa</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4096</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>sha256 </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>keyout mongodb_node_1.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>out
mongodb_node_1.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr
</span><span style='font-size:9.0pt;line-height:110%'>openssl req </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>nodes </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>newkey rsa</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4096</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>sha256 </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>keyout mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>out
mongodb_node_2.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr
</span><span style='font-size:9.0pt;line-height:110%'>openssl req </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>nodes </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>newkey rsa</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4096</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>sha256 </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>keyout mongodb_node_3.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>out
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>You must generate one CSR for each node of your
ReplicaSet. Remember that the Common Name is not the same from one node to
another. Don't base multiple CSRs on the same Private Key.</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>You must now have 3 CSRs and 3 Private Keys.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:113.4pt;margin-bottom:
21.25pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895764992'><span
style='left:0px;position:absolute;left:0px;top:-15841px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image207.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>key</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>key
</span><span style='font-size:9.0pt;line-height:110%'>mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>csr</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>csr</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Sign your Certificate Requests</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>Use the CA File (ca.pem) and its Private Key (ca.key)
generated previously to sign each Certificate Request by running the commands
below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:75.55pt;margin-bottom:
17.45pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895763968'><span
style='left:0px;position:absolute;left:0px;top:-15981px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image208.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>openssl x509 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>req </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><b><span style='font-size:9.0pt;
line-height:110%;color:#000066'>in</span></b><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_1.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>csr</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>CA ca.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>CAkey ca.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>key</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>set_serial 00 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>out mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>crt </span><span
style='font-size:9.0pt;line-height:110%'>openssl x509 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>req </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><b><span style='font-size:9.0pt;
line-height:110%;color:#000066'>in</span></b><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>csr</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>CA ca.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>CAkey ca.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>key</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>set_serial 00 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>out mongodb_node_2.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>crt </span><span
style='font-size:9.0pt;line-height:110%'>openssl x509 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>req </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><b><span style='font-size:9.0pt;
line-height:110%;color:#000066'>in</span></b><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_3.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>csr</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>CA ca.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>CAkey ca.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>key</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>set_serial 00 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>out mongodb_node_3.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>crt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>You must sign each CSR.</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.1pt;
margin-left:.75pt'>Your must now have 3 CSRs, 3 Private Keys and 3 self-signed
Certificates. Only the Private Keys and the Certificates will be used by
MongoDB.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:113.4pt;margin-bottom:
17.45pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895762944'><span
style='left:0px;position:absolute;left:0px;top:-16150px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>key</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>key
</span><span style='font-size:9.0pt;line-height:110%'>mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>csr</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>csr</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr
</span><span style='font-size:9.0pt;line-height:110%'>mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>crt</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>crt</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>
mongodb_node_3.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>crt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:28.35pt;
margin-left:.75pt'><b>Each certificate corresponds to one node. Remember
carefully which CN / hostname your gave to each CSR.</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Concat each Node Certificate with its key</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Run the commands below to concat each Node Certificate with
its key in one file (MongoDB requirement).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:199.8pt;margin-bottom:
0in;margin-left:0in;text-align:justify;text-justify:inter-ideograph;text-indent:
3.75pt;line-height:155%'><span style='position:relative;z-index:-1895761920'><span
style='left:0px;position:absolute;left:0px;top:-16357px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:155%'>cat mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:155%;color:#660066'>key</span><span
style='font-size:9.0pt;line-height:155%'> mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:155%;color:#660066'>crt</span><span
style='font-size:9.0pt;line-height:155%'> </span><span style='font-size:9.0pt;
line-height:155%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:155%'> mongodb_node_1.</span><span style='font-size:9.0pt;
line-height:155%;color:#660066'>pem </span><span style='font-size:9.0pt;
line-height:155%'>cat mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:155%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:155%'> mongodb_node_2.</span><span style='font-size:9.0pt;
line-height:155%;color:#660066'>crt</span><span style='font-size:9.0pt;
line-height:155%'> </span><span style='font-size:9.0pt;line-height:155%;
color:#666666'>&gt;</span><span style='font-size:9.0pt;line-height:155%'>
mongodb_node_2.</span><span style='font-size:9.0pt;line-height:155%;color:#660066'>pem
</span><span style='font-size:9.0pt;line-height:155%'>cat mongodb_node_3.</span><span
style='font-size:9.0pt;line-height:155%;color:#660066'>key</span><span
style='font-size:9.0pt;line-height:155%'> mongodb_node_3.</span><span
style='font-size:9.0pt;line-height:155%;color:#660066'>crt</span><span
style='font-size:9.0pt;line-height:155%'> </span><span style='font-size:9.0pt;
line-height:155%;color:#666666'>&gt;</span><span style='font-size:9.0pt;
line-height:155%'> mongodb_node_3.</span><span style='font-size:9.0pt;
line-height:155%;color:#660066'>pem </span>Your must now have 3 PEM files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:19.05pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image209.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Deploy your ReplicaSet</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>We will assume that your pem files are located in your
current folder as well as data/data1, data/data2 and data/data3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Run the commands below to deploy your 3 Nodes ReplicaSet
listening on port 27017, 27018 and 27019.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.15pt;margin-bottom:
17.2pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895760896'><span
style='left:0px;position:absolute;left:0px;top:-16623px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image208.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>dbpath data</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data_1
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27017</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslMode
requireSSL </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem </span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>dbpath data</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data_2
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27018</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslMode
requireSSL </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_node_2.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem </span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>dbpath data</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data_3
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27019</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslMode
requireSSL </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_node_3.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>You now have a 3 Nodes ReplicaSet deployed on your local
environment and all their transactions are encrypted. You cannot connect to
this ReplicaSet without using TLS.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Deploy your ReplicaSet for Mutual SSL / Mutual Trust</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.1pt;
margin-left:.75pt'>To force your client to provide a Client Certificate (Mutual
SSL), you must add the CA File when running your instances.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.15pt;margin-bottom:
17.2pt;margin-left:3.5pt'><span style='position:relative;z-index:-1895759872'><span
style='left:0px;position:absolute;left:0px;top:-16828px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image210.gif"></span></span><span
style='position:relative;z-index:-1895758848'><span style='left:0px;position:
absolute;left:0px;top:-16828px;width:718px;height:1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image211.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>dbpath data</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data_1
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27017</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslMode
requireSSL </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_node_1.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>sslCAFile ca.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>pem </span><span style='font-size:9.0pt;line-height:110%'>mongod
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>dbpath data</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>data_2 </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>replSet rs0 </span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>port
</span><span style='font-size:9.0pt;line-height:110%;color:#CC0000'>27018</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>sslMode requireSSL </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>sslPEMKeyFile mongodb_node_2.</span><span style='font-size:
9.0pt;line-height:110%;color:#660066'>pem</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslCAFile
ca.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>pem </span><span
style='font-size:9.0pt;line-height:110%'>mongod </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>dbpath data</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>data_3
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>replSet rs0 </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>port </span><span style='font-size:
9.0pt;line-height:110%;color:#CC0000'>27019</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslMode
requireSSL </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_node_3.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>sslCAFile ca.</span><span style='font-size:9.0pt;line-height:
110%;color:#660066'>pem</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:.75pt'>You now have a 3 Nodes ReplicaSet deployed on your local
environment and all their transactions are encrypted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:18.55pt;
margin-left:.75pt'>You cannot connect to this ReplicaSet without using TLS or
without providing a Client Certificate trusted by your CA.</p>

<h2 style='margin-left:-.25pt'><a name="_Toc108969">Section 18.2: How to
connect your Client (Mongo Shell) to a ReplicaSet?</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>No Mutual SSL</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>In this example, we might use the CA File (ca.pem) that you
generated during the &quot;<i>How to configure a ReplicaSet to support TLS/SSL?</i>&quot;
section. We will assume that the CA file is located in your current folder.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>We will assume that your 3 nodes are running on
mongo1:27017, mongo2:27018 and mongo3:27019. (You might need to modify your <i>/etc/hosts</i>
file.)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>From MongoDB 3.2.6, if your CA File is registered in your
Operating System Trust Store, you can connect to your ReplicaSet without
providing the CA File.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image212.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:102.55pt;margin-bottom:
1.45pt;margin-left:3.75pt;text-indent:-3.75pt;line-height:253%'><span
style='position:relative;z-index:-1895757824'><span style='left:0px;position:
absolute;left:0px;top:-17288px;width:718px;height:1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span>Otherwise
you must provide the CA File. <span style='font-size:9.0pt;line-height:253%'>mongo
</span><span style='font-size:9.0pt;line-height:253%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:253%'>ssl </span><span style='font-size:
9.0pt;line-height:253%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:253%'>sslCAFile ca.</span><span style='font-size:9.0pt;line-height:
253%;color:#660066'>pem</span><span style='font-size:9.0pt;line-height:253%'> </span><span
style='font-size:9.0pt;line-height:253%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:253%'>host rs0</span><span style='font-size:
9.0pt;line-height:253%;color:#666666'>/</span><span style='font-size:9.0pt;
line-height:253%'>mongo1</span><span style='font-size:9.0pt;line-height:253%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:253%;
color:#CC0000'>27017</span><span style='font-size:9.0pt;line-height:253%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:253%'>mongo2</span><span
style='font-size:9.0pt;line-height:253%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:253%;color:#CC0000'>27018</span><span
style='font-size:9.0pt;line-height:253%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:253%'>mongo3</span><span style='font-size:
9.0pt;line-height:253%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:253%;color:#CC0000'>27019</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.7pt;
margin-left:.75pt'>You are now connected to your ReplicaSet and all the
transactions between your Mongo Shell and your ReplicaSet are encrypted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>With Mutual SSL</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>If your ReplicaSet asks for a Client Certificate, you must
provide one signed by the CA used by the ReplicaSet Deployment. The steps to
generate the Client Certificate are almost the same as the ones to generate the
Server Certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.3pt;
margin-left:.75pt'>Indeed, you just need to modify the Common Name Field during
the CSR creation. Instead of providing 1 Node Hostname in the Common Name
Field, <b>you need to provide all the ReplicaSet Hostnames separated by a comma</b>.</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895756800'><span style='left:0px;position:absolute;left:0px;
top:-17559px;width:718px;height:1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image182.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>openssl req </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>nodes </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>newkey rsa</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>4096</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>-</span><span
style='font-size:9.0pt;line-height:110%'>sha256 </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>keyout mongodb_client.</span><span style='font-size:9.0pt;
line-height:110%;color:#660066'>key</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%'>out
mongodb_client.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>csr</span></p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#660066'>Common</span><span
style='font-size:9.0pt;line-height:110%'> Name </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>(</span><span style='font-size:9.0pt;
line-height:110%'>e.</span><span style='font-size:9.0pt;line-height:110%;
color:#660066'>g</span><span style='font-size:9.0pt;line-height:110%'>. </span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>server</span><span
style='font-size:9.0pt;line-height:110%'> FQDN or YOUR name</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>)</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>[]:</span><span style='font-size:9.0pt;
line-height:110%'> mongo1</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>mongo2</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'>mongo3</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>You might face the Common Name size limitation if the Common
Name field is too long (more than 64 bytes long). To bypass this limitation,
you must use the SubjectAltName when generating the CSR.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=150
src="MongoDB%20Notes%20for%20Professionals_files/image213.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=235
src="MongoDB%20Notes%20for%20Professionals_files/image214.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Then you sign the CSR using the CA certificate and key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image215.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Finally, you concat the key and the signed certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image216.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>To connect to your ReplicaSet, you can now provide the newly
generated Client Certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.2pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895755776'><span
style='left:0px;position:absolute;left:0px;top:-18271px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image207.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongo </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>ssl </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>sslCAFile
ca.</span><span style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>host rs0</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>/</span><span style='font-size:9.0pt;line-height:110%'>mongo1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>27017</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'>mongo2</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>27018</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'>mongo3</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>27019</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>sslPEMKeyFile mongodb_client.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>pem</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:.75pt'>You are now connected to your ReplicaSet and all the
transactions between your Mongo Shell and your ReplicaSet are encrypted.</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108970">Chapter 19: Authentication Mechanisms in MongoDB</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.45pt;
margin-left:.75pt'>Authentication is the process of verifying the identity of a
client. When access control, i.e. authorization, is enabled, MongoDB requires
all clients to authenticate themselves in order to determine their access.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:28.2pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'>MongoDB supports a number of authentication mechanisms that
clients can use to verify their identity. These mechanisms allow MongoDB to
integrate into your existing authentication system.</p>

<h2 style='margin-top:0in;margin-right:28.2pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108971">Section 19.1: Authentication Mechanisms</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>MongoDB supports multiple authentication mechanisms.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Client and User Authentication Mechanisms</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:21.4pt'><img width=5 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image217.gif" align=left
hspace=12>SCRAM-SHA-1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:21.4pt'>X.509 Certificate Authentication</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:21.4pt'>MongoDB Challenge and Response (MONGODB-CR)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:21.4pt'>LDAP proxy authentication, and</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:20.55pt;
margin-left:21.4pt'>Kerberos authentication</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Internal Authentication Mechanisms</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:21.4pt'><span style='font-size:11.0pt;line-height:110%'><img
border=0 width=5 height=25 id="Group 99770"
src="MongoDB%20Notes%20for%20Professionals_files/image218.gif"></span> Keyfile</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:21.4pt'>X.509</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108972">Chapter 20: MongoDB Authorization Model</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:14.5pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'>Authorization is the basically verifies user privileges.
MongoDB support different kind of authorization models. 1. <b>Role base access
control</b> &lt;br&gt; Role are group of privileges, actions over resources.
That are gain to users over a given namespace (Database). Actions are performs
on resources. Resources are any object that hold state in database.</p>

<h2 style='margin-top:0in;margin-right:14.5pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108973">Section 20.1: Build-in Roles</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.05pt;
margin-left:.75pt'>Built-in database user roles and database administration
roles roles exist in each database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.15pt;
margin-left:.75pt'><b>Database User Roles</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.55pt;
margin-left:29.25pt;text-indent:-13.9pt;line-height:107%'><span
style='line-height:107%'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:9.0pt;line-height:107%;background:#FAFAFA'>read</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.55pt;
margin-left:29.25pt;text-indent:-13.9pt;line-height:107%'><span
style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:9.0pt;line-height:107%;background:#FAFAFA'>readwrite</span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108974">Chapter 21: Configuration</a></h1>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=385
 style='width:289.0pt;margin-left:1.0pt;border-collapse:collapse'>
 <tr style='height:12.1pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:12.1pt'>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:2.0pt;
  margin-bottom:0in;margin-left:0in;text-align:center;text-indent:0in;
  line-height:107%'><b>Parameter</b></p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:12.1pt'>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:1.25pt;text-align:center;text-indent:0in;
  line-height:107%'><b>Default</b></p>
  </td>
 </tr>
 <tr style='height:15.55pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:15.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:15.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.quiet</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.traceAllExceptions</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.syslogFacility</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>user</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.path</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>-</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.logAppend</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.logRotate</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>rename</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.destination</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>stdout</p>
  </td>
 </tr>
 <tr style='height:16.55pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.timeStampFormat</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.55pt'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'>iso8601-local</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.accessControl.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.command.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.control.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.ftdc.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.geo.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.index.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.network.verbo</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.query.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.replication.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.sharding.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:13.85pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:13.85pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.storage.verbosity</p>
  </td>
  <td width=81 valign=top style='width:60.85pt;padding:0in 0in 0in 0in;
  height:13.85pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>systemLog.component.storage.journal.verbosity 0</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=357
 style='width:267.55pt;margin-left:1.0pt;border-collapse:collapse'>
 <tr style='height:14.05pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:14.05pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>systemLog.component.write.verbosity</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:14.05pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>processManagement.fork</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>processManagement.pidFilePath</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.port</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>27017</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.bindIp</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0.0.0.0</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.maxIncomingConnections</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>65536</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.wireObjectCheck</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>true</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ipv6</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.unixDomainSocket.enabled</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>true</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.unixDomainSocket.pathPrefix</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>/tmp</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.unixDomainSocket.filePermissions</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>0700</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.http.enabled</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.http.JSONPEnabled</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.http.RESTInterfaceEnabled</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.sslOnNormalPorts</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>false</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.mode</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'>disabled</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.PEMKeyFile</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.PEMKeyPassword</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.clusterFile</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
 <tr style='height:16.75pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.clusterPassword</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:16.75pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
 <tr style='height:13.65pt'>
  <td width=304 valign=top style='width:228.15pt;padding:0in 0in 0in 0in;
  height:13.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>net.ssl.CAFile</p>
  </td>
  <td width=53 valign=top style='width:39.4pt;padding:0in 0in 0in 0in;
  height:13.65pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>none</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:3.85pt;
margin-left:0in;text-indent:0in'>net.ssl.CRLFile                                                                             none</p>

<p class=MsoNormal style='margin-top:0in;margin-right:206.35pt;margin-bottom:
16.95pt;margin-left:.75pt;line-height:141%'>net.ssl.allowConnectionsWithoutCertificates                  false
net.ssl.allowInvalidCertificates           false net.ssl.allowInvalidHostnames  false
net.ssl.disabledProtocols     none net.ssl.FIPSMode        false</p>

<h2 style='margin-top:0in;margin-right:50.85pt;margin-bottom:0in;margin-left:
-.25pt;line-height:215%'><a name="_Toc108975">Section 21.1: Starting mongo with
a specific config file</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=58 style='width:43.25pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=58 valign=top style='width:43.25pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><span style='font-size:9.0pt;line-height:
  107%;color:#666666'>--</span><span style='font-size:9.0pt;line-height:107%'>config</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:50.85pt;margin-bottom:
0in;margin-left:-.25pt;line-height:215%'>Using the  flag.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:15.0pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=43
src="MongoDB%20Notes%20for%20Professionals_files/image219.gif"></span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=56 style='width:42.25pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=56 valign=top style='width:42.25pt;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><i><span style='font-size:9.0pt;line-height:
  107%;color:#666666'>--</span></i><i><span style='font-size:9.0pt;line-height:
  107%'>config</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.0pt;
margin-left:-.25pt;line-height:107%'><i>Note that </i><i><span
style='font-size:9.0pt;line-height:107%;background:#FAFAFA'>-f</span> is the
shorter synonym for .</i><br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108976">Chapter 22: Backing up and Restoring Data</a></h1>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc108977">Section 22.1: Basic mongodump of local default mongod
instance</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=26
src="MongoDB%20Notes%20for%20Professionals_files/image220.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:18.2pt;
margin-left:.75pt'>This command will dump a bson gzipped archive of your local
mongod 'mydb' database to the 'mydb.dump.{timestamp}' directory</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:4.2pt;margin-left:
-.25pt'><a name="_Toc108978">Section 22.2: Basic mongorestore of local default
mongod dump</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:17.25pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895753728'><span
style='left:0px;position:absolute;left:0px;top:-20741px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image153.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>mongorestore </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>db mydb mydb.</span><span
style='font-size:9.0pt;line-height:110%;color:#660066'>dump</span><span
style='font-size:9.0pt;line-height:110%'>.2016</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%'>08</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>-</span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>27</span><span style='font-size:9.0pt;line-height:110%'>_12</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>:</span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>44</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>/</span><span
style='font-size:9.0pt;line-height:110%'>mydb </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>drop </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>gzip</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:22.6pt;margin-bottom:
.25pt;margin-left:-.25pt;text-align:justify;text-justify:inter-ideograph;
line-height:134%'>This command will first drop your current 'mydb' database and
then restore your gzipped bson dump from the 'mydb
mydb.dump.2016-08-27_12:44/mydb' archive dump file.</p>

<h2 style='margin-top:0in;margin-right:22.6pt;margin-bottom:.25pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:134%'><a
name="_Toc108979">Section 22.3: mongoimport with JSON</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>Sample zipcode dataset in zipcodes.json stored in
c:\Users\yc03ak1\Desktop\zips.json</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01001&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;AGAWAM&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.622739</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.070206</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>15338</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;state&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;MA&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01002&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;CUSHMAN&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.51564999999999</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.377017</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>36963</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>, </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;state&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;MA&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01005&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;BARRE&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.10835400000001</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.409698</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>4546</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>, </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;state&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;MA&quot;</span><span style='font-size:9.0pt;line-height:
110%'> </span><span style='font-size:9.0pt;line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01007&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;BELCHERTOWN&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.41095300000001</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.275103</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#CC0000'>10579</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;state&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;MA&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01008&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;BLANDFORD&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.936114</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.182949</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>1240</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;state&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;MA&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;01010&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;BRIMFIELD&quot;</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:110%;color:#CC0000'>72.188455</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#CC0000'>42.116543</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'> </span><span
style='font-size:9.0pt;line-height:110%;color:#CC0000'>3706</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#3366CC'>&quot;state&quot;</span><span style='font-size:
9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.1pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;MA&quot;</span><span
style='font-size:9.0pt;line-height:110%'> </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.15in;margin-bottom:6.35pt;
margin-left:-.75pt;text-align:justify;text-justify:inter-ideograph;text-indent:
3.75pt;line-height:176%'><span style='position:relative;z-index:-1895752704'><span
style='left:0px;position:absolute;left:0px;top:-21082px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image221.gif"></span></span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>{</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#3366CC'>&quot;_id&quot;</span><span style='font-size:
9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:176%'> </span><span
style='font-size:9.0pt;line-height:176%;color:#3366CC'>&quot;01011&quot;</span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#3366CC'>&quot;city&quot;</span><span style='font-size:
9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:176%'> </span><span
style='font-size:9.0pt;line-height:176%;color:#3366CC'>&quot;CHESTER&quot;</span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#3366CC'>&quot;loc&quot;</span><span style='font-size:
9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:176%'> </span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>[</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#666666'>-</span><span style='font-size:9.0pt;
line-height:176%;color:#CC0000'>72.988761</span><span style='font-size:9.0pt;
line-height:176%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#CC0000'>42.279421</span><span style='font-size:9.0pt;line-height:176%'> </span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>],</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#3366CC'>&quot;pop&quot;</span><span style='font-size:
9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:176%'> </span><span
style='font-size:9.0pt;line-height:176%;color:#CC0000'>1688</span><span
style='font-size:9.0pt;line-height:176%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;
line-height:176%;color:#3366CC'>&quot;state&quot;</span><span style='font-size:
9.0pt;line-height:176%'> </span><span style='font-size:9.0pt;line-height:176%;
color:#666666'>: </span><span style='font-size:9.0pt;line-height:176%;
color:#3366CC'>&quot;MA&quot;</span><span style='font-size:9.0pt;line-height:
176%'> </span><span style='font-size:9.0pt;line-height:176%;color:#666666'>} </span>to
import this data-set to the database named &quot;test&quot; and collection
named &quot;zips&quot;</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='font-size:9.0pt;
line-height:110%'>C</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>:</span><span style='font-size:9.0pt;line-height:110%'>\Users\yc03ak1</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>&gt;</span><span
style='font-size:9.0pt;line-height:110%'>mongoimport </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>db test </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>collection </span><span style='font-size:9.0pt;line-height:
110%;color:#3366CC'>&quot;zips&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>drop </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>type json </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>host</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.35pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;localhost:47019&quot;</span><span
style='font-size:9.0pt;line-height:110%'>  </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>file </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;c:</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\U</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>sers</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\y</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>c03ak1</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\D</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>esktop</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\z</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>ips.json&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:30.5pt'>--db : name of the database where data is to be imported to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:30.5pt'>--collection: name of the collection in the database where
data is to be improted</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:30.5pt'>--drop : drops the collection first before importing</p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.75pt;margin-bottom:
1.25pt;margin-left:30.5pt'><span style='position:relative;z-index:-1895751680'><span
style='left:0px;position:absolute;left:0px;top:-21269px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image222.gif"></span></span>--type
: document type which needs to be imported. default JSON --host : mongodb host
and port on which data is to be imported.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:328.8pt;margin-bottom:
.2pt;margin-left:.25pt;text-indent:30.0pt;line-height:215%'>--file : path where
the json file is output :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:0in;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=34
src="MongoDB%20Notes%20for%20Professionals_files/image223.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:10:50.163-0700    dropping: test.zips</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:10:53.155-0700    [################........]
test.zips    2.1 MB/3.0 MB (68.5%)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895750656'><span
style='left:0px;position:absolute;left:0px;top:-21416px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image224.gif"></span></span><span
style='font-size:9.0pt;line-height:110%;font-family:"DejaVu Sans Mono"'>2016-08-10T20:10:56.150-0700   
[########################] test.zips    3.0 MB/3.0 MB (100.0%)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:10:57.819-0700    [########################]
test.zips    3.0 MB/3.0 MB (100.0%)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:30.9pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:10:57.821-0700    imported 29353 documents</span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc108980">Section 22.4: mongoimport
with CSV</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>Sample test dataset CSV file stored at the location
c:\Users\yc03ak1\Desktop\testing.csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=126
src="MongoDB%20Notes%20for%20Professionals_files/image225.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>to import this data-set to the database named
&quot;test&quot; and collection named &quot;sample&quot;</p>

<p class=MsoNormal style='margin-left:3.5pt'><span style='position:relative;
z-index:-1895749632'><span style='left:0px;position:absolute;left:0px;
top:-21749px;width:718px;height:1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image226.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>C</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'>\Users\yc03ak1</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;line-height:110%'>mongoimport
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>db test </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>collection </span><span style='font-size:9.0pt;line-height:
110%;color:#3366CC'>&quot;sample&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>drop </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>type csv </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>headerline </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>host</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.35pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;localhost:47019&quot;</span><span
style='font-size:9.0pt;line-height:110%'>  </span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>file </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;c:</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\U</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>sers</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\y</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>c03ak1</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\D</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>esktop</span><b><span style='font-size:9.0pt;line-height:110%;
color:#000099'>\t</span></b><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>esting.csv&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:109.5pt;margin-bottom:
.2pt;margin-left:.25pt;text-indent:30.0pt;line-height:215%'>--headerline : use
the first line of the csv file as the fields for the json document output :</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.2pt;margin-bottom:14.95pt;
margin-left:0in;text-indent:0in;line-height:107%'><span style='font-size:11.0pt;
line-height:107%'><img border=0 width=718 height=78
src="MongoDB%20Notes%20for%20Professionals_files/image227.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:14.45pt;
margin-left:.75pt'>OR</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:14.3pt;
margin-left:3.5pt'><span style='position:relative;z-index:-1895748608'><span
style='left:0px;position:absolute;left:0px;top:-21978px;width:718px;height:
1px'><img width=718 height=1
src="MongoDB%20Notes%20for%20Professionals_files/image228.gif"></span></span><span
style='font-size:9.0pt;line-height:110%'>C</span><span style='font-size:9.0pt;
line-height:110%;color:#666666'>:</span><span style='font-size:9.0pt;
line-height:110%'>\Users\yc03ak1</span><span style='font-size:9.0pt;line-height:
110%;color:#666666'>&gt;</span><span style='font-size:9.0pt;line-height:110%'>mongoimport
</span><span style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>db test </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>collection </span><span style='font-size:9.0pt;line-height:
110%;color:#3366CC'>&quot;sample&quot;</span><span style='font-size:9.0pt;
line-height:110%'> </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>drop </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>type csv </span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>--</span><span
style='font-size:9.0pt;line-height:110%'>fields _id</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'>city</span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>,</span><span style='font-size:9.0pt;
line-height:110%'>loc</span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>,</span><span style='font-size:9.0pt;line-height:110%'>pop</span><span
style='font-size:9.0pt;line-height:110%;color:#666666'>,</span><span
style='font-size:9.0pt;line-height:110%'>state </span><span style='font-size:
9.0pt;line-height:110%;color:#666666'>--</span><span style='font-size:9.0pt;
line-height:110%'>host </span><span style='font-size:9.0pt;line-height:110%;
color:#3366CC'>&quot;localhost:47019&quot;</span><span style='font-size:9.0pt;
line-height:110%'>  </span><span style='font-size:9.0pt;line-height:110%;
color:#666666'>--</span><span style='font-size:9.0pt;line-height:110%'>file </span><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>&quot;c:</span><b><span
style='font-size:9.0pt;line-height:110%;color:#000099'>\U</span></b><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>sers</span><b><span
style='font-size:9.0pt;line-height:110%;color:#000099'>\y</span></b><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>c03ak1</span><b><span
style='font-size:9.0pt;line-height:110%;color:#000099'>\D</span></b><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>esktop</span><b><span
style='font-size:9.0pt;line-height:110%;color:#000099'>\t</span></b><span
style='font-size:9.0pt;line-height:110%;color:#3366CC'>esting.csv&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:18.8pt;
margin-left:30.5pt'>--fields : comma separated list of fields which needs to be
imported in the json document. Output:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:26:48.978-0700    connected to:
localhost:47019</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:26:48.982-0700    dropping: test.sample</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.4pt;
margin-left:3.5pt'><span style='font-size:9.0pt;line-height:110%;font-family:
"DejaVu Sans Mono"'>2016-08-10T20:26:49.611-0700    imported 6 documents</span></p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108981">Chapter 23: Upgrading MongoDB version</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:38.0pt;margin-bottom:
.2pt;margin-left:.75pt;line-height:145%'>How to update the version of MongoDB
on your machine on different platforms and versions.</p>

<h2 style='margin-top:0in;margin-right:38.0pt;margin-bottom:.2pt;margin-left:
.75pt;line-height:145%'><a name="_Toc108982">Section 23.1: Upgrading to 3.4 on
Ubuntu 16.04 using apt</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.85pt;
margin-left:.75pt'>You must have 3.2 to be able to upgrade to 3.4. This example
assumes you are using <span style='font-size:9.0pt;line-height:110%;background:
#FAFAFA'>apt</span>.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=173 style='width:1.8in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=173 valign=top style='width:1.8in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#C20CB9'>sudo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#C20CB9'>service</span></b><span
  style='font-size:9.0pt;line-height:107%'> mongod stop</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:378.75pt;margin-bottom:
1.6pt;margin-left:16.6pt'>1.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=468 style='width:351.05pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=468 valign=top style='width:351.05pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#C20CB9'>sudo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#C20CB9'>apt-key
  adv</span></b><span style='font-size:9.0pt;line-height:107%'> </span><span
  style='font-size:9.0pt;line-height:107%;color:#660033'>--keyserver</span><span
  style='font-size:9.0pt;line-height:107%'> hkp:<b>//</b>keyserver.ubuntu.com:80
  </span><span style='font-size:9.0pt;line-height:107%;color:#660033'>--recv</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:157.35pt;margin-bottom:
.2pt;margin-left:16.6pt'>2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.55pt;
margin-left:30.5pt;line-height:107%'><span style='font-size:9.0pt;line-height:
107%;background:#FAFAFA'>0C49F3730359A14518585931BC711F9BA15703C6</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=634 style='width:6.6in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=634 valign=top style='width:6.6in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#7A0874'>echo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><span style='font-size:9.0pt;line-height:107%;color:red'>&quot;deb
  [ arch=amd64,arm64 ] http://repo.mongodb.org/apt/ubuntu
  xenial/mongodb-org/3.4</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:33.15pt;margin-bottom:
.2pt;margin-left:16.6pt'>3.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:2.55pt;
margin-left:30.0pt;text-indent:0in;line-height:107%;background:#FAFAFA'><span
style='font-size:9.0pt;line-height:107%;color:red'>multiverse&quot;</span><span
style='font-size:9.0pt;line-height:107%'> <b>|</b> </span><b><span
style='font-size:9.0pt;line-height:107%;color:#C20CB9'>sudo</span></b><span
style='font-size:9.0pt;line-height:107%'> </span><b><span style='font-size:
9.0pt;line-height:107%;color:#C20CB9'>tee</span></b><span style='font-size:
9.0pt;line-height:107%'> <b>/</b>etc<b>/</b>apt<b>/</b>sources.list.d<b>/</b>mongodb-org-3.4.list</span></p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=137 style='width:102.6pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=137 valign=top style='width:102.6pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#C20CB9'>sudo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#C20CB9'>apt-get
  update</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:405.75pt;margin-bottom:
1.6pt;margin-left:16.6pt'>4.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=144 style='width:1.5in;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=144 valign=top style='width:1.5in;background:#FAFAFA;padding:1.8pt 0in 0in 0in;
  height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#C20CB9'>sudo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#C20CB9'>apt-get
  upgrade</span></b></p>
  </td>
 </tr>
</table>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 align=left
 width=180 style='width:135.0pt;border-collapse:collapse;margin-left:-2.25pt;
 margin-right:-2.25pt'>
 <tr style='height:.15in'>
  <td width=180 valign=top style='width:135.0pt;background:#FAFAFA;padding:
  1.8pt 0in 0in 0in;height:.15in'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'><b><span style='font-size:9.0pt;line-height:
  107%;color:#C20CB9'>sudo</span></b><span style='font-size:9.0pt;line-height:
  107%'> </span><b><span style='font-size:9.0pt;line-height:107%;color:#C20CB9'>service</span></b><span
  style='font-size:9.0pt;line-height:107%'> mongod </span><b><span
  style='font-size:9.0pt;line-height:107%;color:#C20CB9'>start</span></b></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:373.35pt;margin-bottom:
12.5pt;margin-left:16.6pt'>5. 6.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.65pt;
margin-left:.75pt'>Ensure the new version is running with <span
style='font-size:9.0pt;line-height:110%;background:#FAFAFA'>mongo</span>. The
shell will print out the MongoDB server version that should be</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:.75pt'>3.4 now.<br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-.25pt'><a name="_Toc108983">Credits</a></h1>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:11.95pt;
margin-bottom:.45pt;margin-left:12.65pt;text-align:center;line-height:123%'>Thank
you greatly to all the people from Stack Overflow Documentation who helped
provide this content, more changes can be sent to <u><span style='color:#459C45'>web@petercv.com</span></u>
for new content to be published or updated</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=304
 style='width:228.25pt;margin-left:1.0pt;border-collapse:collapse'>
 <tr style='height:12.55pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/4054186/"><span style='color:#459C45'>Abdul
  Rehman Sayed</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  1</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/378026/"><span style='color:#459C45'>ADIMO</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  16</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3280244/"><span style='color:#459C45'>Antti_M</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  23</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5834822/"><span style='color:#459C45'>Ashari</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  1</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5878300/"><span style='color:#459C45'>Avindu
  Hewa</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  4</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5683655/"><span style='color:#459C45'>bappr</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  18</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1029516/"><span style='color:#459C45'>Batsu</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/122005/"><span style='color:#459C45'>chridam</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  10</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2667369/"><span style='color:#459C45'>Constantin
  Guay</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  9 and 12</p>
  </td>
 </tr>
 <tr style='height:14.55pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2667536/"><span style='color:#459C45'>Derlin</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  14</p>
  </td>
 </tr>
 <tr style='height:14.6pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.6pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3929393/"><span style='color:#459C45'>dev
  </span></a><a href="https://stackoverflow.com/users/3929393/"><span
  style='font-family:"Arial",sans-serif;color:#459C45'>&#12484;</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.6pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  13</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1075653/"><span style='color:#459C45'>Emil
  Burzo</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  13</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3555000/"><span style='color:#459C45'>Enamul
  Hassan</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  1 and 8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/878514/"><span style='color:#459C45'>fracz</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  2 and 3</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3476477/"><span style='color:#459C45'>grape</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2805075/"><span style='color:#459C45'>gypsyCoder</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  11</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1944993/"><span style='color:#459C45'>HoefMeistert</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1288265/"><span style='color:#459C45'>ipip</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  1</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3974526/"><span style='color:#459C45'>Ishan
  Soni</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3280718/"><span style='color:#459C45'>Jain</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2404065/"><span style='color:#459C45'>jerry</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1259510/"><span style='color:#459C45'>JohnnyHK</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1740264/"><span style='color:#459C45'>Juan
  Carlos Farah</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1699937/"><span style='color:#459C45'>Kelum
  Senanayake</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/4670703/"><span style='color:#459C45'>KrisVos130</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3214177/"><span style='color:#459C45'>Kuhan</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  6</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3001352/"><span style='color:#459C45'>Lakmal
  Vithanage</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  2 and 8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/7505228/"><span style='color:#459C45'>LoicM</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1939163/"><span style='color:#459C45'>Luzan
  Baral</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  19</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3493420/"><span style='color:#459C45'>Marco</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1790644/"><span style='color:#459C45'>Matt
  Clark</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  21</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/543315/"><span style='color:#459C45'>Nic
  Cottrell</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5051423/"><span style='color:#459C45'>Niroshan
  Ranapathi</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  19 and 20</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3292080/"><span style='color:#459C45'>oggo</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  4</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3290456/"><span style='color:#459C45'>Prosen
  Ghosh</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'>Chapters 1, 2, 4 and 7</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/6048928/"><span style='color:#459C45'>RaR</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  8 and 9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/4527079/"><span style='color:#459C45'>Renukaradhya</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  1 and 2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3306301/"><span style='color:#459C45'>Rotem</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/8313/"><span style='color:#459C45'>Sean
  Reilly</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  1</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5722345/"><span style='color:#459C45'>Selva
  Kumar</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  15</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1426906/"><span style='color:#459C45'>sergiuz</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  14</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/4273915/"><span style='color:#459C45'>Shrabanee</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2258393/"><span style='color:#459C45'>SommerEngineering</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  4</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/2872943/"><span style='color:#459C45'>steveinatorx</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  8</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3100115/"><span style='color:#459C45'>styvane</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/3398302/"><span style='color:#459C45'>Thomas
  Bormans</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  2</p>
  </td>
 </tr>
 <tr style='height:12.55pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5249708/"><span style='color:#459C45'>tim</span></a></p>
  </td>
  <td width=134 valign=top style='width:100.75pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  12</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:319.25pt;margin-bottom:
0in;margin-left:-28.35pt;text-indent:0in;line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=291
 style='width:218.15pt;margin-left:1.0pt;border-collapse:collapse'>
 <tr style='height:12.55pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/508214/"><span style='color:#459C45'>titogeo</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'>Chapters 1, 8 and 9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/5384592/"><span style='color:#459C45'>Tomás
  Cañibano</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapters
  2 and 9</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/641887/"><span style='color:#459C45'>user641887</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-align:justify;text-justify:inter-ideograph;
  text-indent:0in;line-height:107%'>Chapters 17 and 22</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/544342/"><span style='color:#459C45'>WAF</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  1</p>
  </td>
 </tr>
 <tr style='height:14.5pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1681772/"><span style='color:#459C45'>yellowB</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:14.5pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  5</p>
  </td>
 </tr>
 <tr style='height:12.55pt'>
  <td width=170 valign=top style='width:127.5pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'><a
  href="https://stackoverflow.com/users/1476885/"><span style='color:#459C45'>Zanon</span></a></p>
  </td>
  <td width=121 valign=top style='width:90.65pt;padding:0in 0in 0in 0in;
  height:12.55pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>Chapter
  12</p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:110%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<h1 style='margin-top:0in;margin-right:4.15pt;margin-bottom:.15pt;margin-left:
-43.15pt'><a name="_Toc108984">You may also like</a></h1>

<p class=MsoNormal style='margin-top:0in;margin-right:-45.95pt;margin-bottom:
0in;margin-left:-47.25pt;text-indent:0in;line-height:107%'><span
style='font-size:11.0pt;line-height:107%'><img border=0 width=726 height=992
id="Group 102151" src="MongoDB%20Notes%20for%20Professionals_files/image229.gif"></span></p>

</div>

</body>

</html>
