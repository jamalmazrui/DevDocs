<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Making Servers Work: A Practical Guide to Linux System Administration</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:.55pt;
	margin-bottom:.25pt;
	margin-left:0in;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:14.5pt;
	line-height:142%;
	font-size:15.0pt;
	font-family:"Times New Roman",serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:2.55pt;
	margin-bottom:36.25pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:117%;
	page-break-after:avoid;
	font-size:25.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:9.65pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:17.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.25pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:15.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Arial",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Arial",sans-serif;
	color:black;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:70.35pt 76.45pt 75.0pt 77.0pt;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:8.5in 11.0in;
	margin:70.35pt 77.2pt 75.9pt 77.0pt;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:8.5in 11.0in;
	margin:101.65pt 77.35pt 99.5pt 77.0pt;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:8.5in 11.0in;
	margin:70.35pt 77.4pt 84.15pt 77.0pt;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:8.5in 11.0in;
	margin:61.0pt 76.0pt 60.75pt 77.0pt;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:8.5in 11.0in;
	margin:70.35pt 77.2pt 75.0pt 77.0pt;}
div.WordSection10
	{page:WordSection10;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'><img width=816 height=1056
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image001.jpg"><br
clear=ALL>
</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.95pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img width=100 height=27 id="Picture 12"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image002.jpg"></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:184%'><span style='font-size:11.0pt;line-height:184%'>This work is
licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0
International License.</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'>ISBN
978-0-9997730-4-8</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.35pt;
margin-bottom:38.65pt;margin-left:1.2pt;text-align:center;text-indent:0in;
line-height:90%'><span style='font-size:25.0pt;line-height:90%;font-family:
"Arial",sans-serif;color:#3445FF'>Making Servers Work: A Practical Guide to
Linux System Administration</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:6.65pt;
margin-bottom:232.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>Compiled by Jamon Camisso</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:11.4pt;margin-left:9.05pt;text-align:center;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'>DigitalOcean,
New York City, New York, USA</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>2020-03</p>

<h1 style='margin-top:0in;margin-right:2.55pt;margin-bottom:37.65pt;margin-left:
-.25pt'>Making Servers Work: A Practical Guide to Linux System Administration</h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>About Di</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>italOcean</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Preface - Gettin</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u> Started with this
Book</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Introduction</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>An Introduction to the
Linux Terminal</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Basic Linux Navi</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>ation and File Mana</u>g<u>ement</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>An Introduction to Linux
Permissions</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>An Introduction to Linux
I/O Redirection</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>Initial Server Setup with
Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How to Add and Delete
Users on Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install the Apache
Web Server on Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install N</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>inx on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install Linux</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>,<u> Apache</u>,<u> M</u>y<u>SQL</u>,<u>
PHP </u>(<u>LAMP</u>)<u> stack on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install Linux</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>,<u> N</u>g<u>inx</u>,<u>
M</u>y<u>SQL</u>,<u> PHP </u>(<u>LEMP stack</u>)<u> on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Secure Apache with
Let’s Encr</span></u><span style='font-family:"Arial",sans-serif;color:#3445FF'>y<u>pt
on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Secure N</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>inx with Let’s Encr</u>y<u>pt
on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>16.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Set Up a Firewall
with UFW on Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>17.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How to Use Ansible to
Automate Initial Server Setup on Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>18.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How to Use Ansible to
Install and Set Up LAMP on Ubuntu</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><u><span style='font-family:"Arial",sans-serif;color:#3445FF'>18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>19.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How to Use Ansible to
Install and Set Up LEMP on Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:139%'><span style='line-height:139%;font-family:"Arial",sans-serif'>20.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Acquire a Let’s
Encr</span></u><span style='font-family:"Arial",sans-serif;color:#3445FF'>y<u>pt
Certificate Usin</u>g<u> Ansible on Ubuntu 18.04</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>21.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install Git on
Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>22.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Use Git Effectivel</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>y</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>23.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Install Jenkins on
Ubuntu 18.04</span></u></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.0pt;text-align:left;text-indent:-25.25pt;
line-height:107%'><span style='line-height:107%;font-family:"Arial",sans-serif'>24.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>How To Confi</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>g<u>ure Jenkins with SSL
Usin</u>g<u> an N</u>g<u>inx Reverse</u></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:30.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><u><span style='font-family:"Arial",sans-serif;color:#3445FF'>Prox</span></u><span
style='font-family:"Arial",sans-serif;color:#3445FF'>y<u> on Ubuntu 18.04</u></span><br
clear=all style='page-break-before:always'>
</p>

<h1 style='margin-left:-.25pt'>About DigitalOcean</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>DigitalOcean is a cloud services platform
delivering the simplicity developers love and businesses trust to run
production applications at scale. It provides highly available, secure and
scalable compute, storage and networking solutions that help developers build
great software faster.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Founded in 2012 with offices in New York and Cambridge, MA,
DigitalOcean offers transparent and affordable pricing, an elegant user
interface, and one of the largest libraries of open source resources available.
For more information, please visit <a href="https://www.digitalocean.com/"><span
style='color:#3445FF'>htt</span></a><a href="https://www.digitalocean.com/"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/"><span style='color:#3445FF'>s://www.di</span></a><a
href="https://www.digitalocean.com/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://www.digitalocean.com/"><span
style='color:#3445FF'>italocean.com</span></a><a
href="https://www.digitalocean.com/"><span style='color:black;text-decoration:
none'> </span></a>or follow <a href="https://twitter.com/digitalocean"><span
style='color:#3445FF;text-decoration:none'>@</span></a><a
href="https://twitter.com/digitalocean"><span style='color:#3445FF'>di</span></a><a
href="https://twitter.com/digitalocean"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://twitter.com/digitalocean"><span
style='color:#3445FF'>italocean</span></a><a
href="https://twitter.com/digitalocean"><span style='color:black;text-decoration:
none'> </span></a>on Twitter.<br clear=all style='page-break-before:always'>
</p>

<h1 style='margin-left:-.25pt'>Preface - Getting Started with this Book</h1>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>We recommend that you begin with a clean,
new server to start learning about system administration. However, the examples
in this book will work with any up-to-date system running Ubuntu or Debian,
from a laptop to a remote server running in a cloud provider’s environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>Chapter 1 of this book goes into detail about how to use a
terminal to connect to and administer a Linux server, but it will be helpful to
prepare in advance and ensure that you can connect to your new server. To
connect to your new server with a terminal, use one of these guides based on
your computer’s operating system.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><img width=6 height=38
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image003.gif"
align=left hspace=12>Linux and macOS users: <a
href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/"><span
style='color:#3445FF'>How to Connect to Dro</span></a><a
href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/"><span
style='color:#3445FF'>lets with SSH</span></a></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>Windows users: If you have Bash on Windows or Windows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:0in'>Subsystem for Linux, you can use the guide
above. Otherwise you can <a
href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/putty/"><span
style='color:#3445FF'>use PuTTY on Windows</span></a><a
href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/putty/"><span
style='color:black;text-decoration:none'> </span></a>to connect to your Ubuntu
server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you have connected to your server, everything should
be ready for you to start following along with the examples in this book.</p>

<h1 style='margin-top:0in;margin-right:2.55pt;margin-bottom:37.75pt;margin-left:
-.25pt'>Introduction</h1>

<h2 style='margin-left:-.25pt'>Why Learn About System Administration</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Many system administrators do not set out
to become system administrators. Instead, they learn system administration
through experience in other areas like support or development and grow into the
role over time. Often, the boundaries are blurred between system
administration, network administration, engineering, DevOps, security, and
support. In a small start up environment or research lab, a sysadmin may even
occupy all of these roles at once, in addition to their actual role of founder
or researcher. At home, sysadmin tasks can mean supporting family and friends
with various devices: phones, tablets, smart devices, ereaders, networking
equipment, and computers to name a few.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This experiential approach to learning about system
administration is practical, but can also be limiting due to a lack of broad
and diverse exposure to different tools, approaches to technical tasks and
techniques. A sysadmin may become an expert at managing web servers and
databases through experience, but may be unfamiliar with how to automate
backups, or how to deploy automated configuration management tools to deploy
applications at scale. Every computing environment and organization is
different, and without experience across various tools, architectures,
configurations, and automation methods, there can be gaps in a sysadmin’s
knowledge that more focused and deliberate learning can address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This book is written with the belief that familiarity with
some core areas of system administration will benefit anyone who uses
computers, from individuals at home who would like to learn how to automate
their systems and day to day tasks, to teams running thousands of servers in
datacenters. Computers are complex systems, and complex systems need
administering to ensure they are reliable, perform well over time, and behave
as expected for users. Learning about sysadmin and understanding how computers and
operating systems work behind the scenes is a great way to accomplish those
goals.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Everyone from a curious beginner just starting out with
some system administration tasks to the most seasoned sysadmin can always add
to and refine their knowledge of system administration. Tools, methods,
requirements, and networks are always changing, which is what makes system
administration so interesting, challenging, and rewarding — there’s always
something new to learn about.</p>

<h2 style='margin-left:-.25pt'>Motivation for this Book</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt;text-indent:0in'>This book is written to fill a gap in the
existing literature about system administration. Many existing resources focus
solely on theory, and others focus too specifically on the nuances of system
utilities and services. Anyone who is interested in technology can benefit from
learning about system administration. This book intends to highlight practical
sysadmin skills, common architectures that you’ll encounter, and best practices
that apply to automating and running systems at any scale, from one laptop or
server to 1,000 or more.</p>

<h2 style='margin-left:-.25pt'>Learning Goals and Outcomes</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The goal of this book is not to make you an
expert sysadmin. That level of expertise can only come with time, practice, and
familiarity with many varied systems. Instead, our goals are more modest: to
familiarize you with the fundamentals of system administration; to highlight
best practices that apply to one or many servers; and to provide a reference
for future areas of focus as you develop your system administration skills.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In terms of concrete learning outcomes, this book is
structured to help you progress from learning how to connect to a Linux server,
to automating your servers with Ansible, all the way to using Git and
Continuous Integration to manage deployed software on your servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In the first section of the book, you will start by
learning how to access and modify users, data, and configuration on existing
servers. Once you are familiar with how to access servers and manage users, you
will learn how to install and configure the popular web servers Apache and
Nginx that you are likely to encounter as a system administrator.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you are confident with installing Apache or Nginx, the
next section of the book will guide you through adding MySQL database and
language support for PHP to each web server. These combinations of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Linux, Apache, MySQL, and PHP (LAMP), or
Linux, Nginx, MySQL, and PHP (LEMP) are very common, so familiarity with both
will be very useful.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you have a working LAMP or LEMP server setup, it is
important to learn how to secure it. In the third section of this book, you
will learn about firewalls and how to configure the UFW firewall tool to
restrict access to your Linux servers, ensuring that only traffic directed to
Apache or Nginx is allowed. After creating firewall rules, you will learn how
to add Transport Layer Security (TLS) certificates to your web server of
choice. TLS certificates are important for every system administrator to understand
and configure, since they are used to encrypt traffic to and from web, mail,
database, VPN, and other types of servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The fourth section of this book will guide you through
automating all the server set up steps from Sections 1 and 2. Instead of
manually installing packages, editing configuration files, and adding firewall
rules, the chapters in this section will demonstrate how to automate all these
steps using Ansible. There are chapters that explain how to automate LAMP and
LEMP stacks respectively. After you have automated either stack, there is a
chapter on using Letsencrypt with Ansible to secure both kinds of servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The last section of the curriculum will familiarize you
with how to use Git to version control server files and manage application
code. Finally, when you are comfortable using Git, the last chapters explain
how to set up Jenkins with Nginx and TLS for Continuous Integration (CI) so
that you can automate building and deploying code to your servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Feel free to pick topics in this book that interest you and
explore them using these chapters as guides. Working through this book will
expose you to a wide variety of technologies, technical terms, and conceptual
approaches to managing Linux servers. You can work through each chapter or
section at your own pace, and in any order that you choose.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For example, if you are familiar with building a LAMP based
server, but haven’t used Nginx before, then maybe try creating a new LEMP
server to learn about it. If you have used Jenkins for continuous integration
before, try automating the process of installing and configuring it with
Ansible, using the chapters here as a guide. When you feel confident that you
understand a concept or process to configure a server a certain way, you can
move on to a new set of chapters, or continue learning and experimenting with
automation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After focusing on the fundamentals through this book, we
hope that you will continue to explore more resources to support you in
achieving your sysadmin goals. Once you finish this book, be sure to visit the <a
href="https://www.digitalocean.com/community"><span style='color:#3445FF'>Di</span></a><a
href="https://www.digitalocean.com/community"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community"><span style='color:#3445FF'>italOcean
Communit</span></a><a href="https://www.digitalocean.com/community"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community"><span style='color:#3445FF'> site</span></a><a
href="https://www.digitalocean.com/community"><span style='color:black;
text-decoration:none'> </span></a>site for more free tutorials written by
sysadmins and developers, and an active community who can help answer questions
as you continue to learn.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>An Introduction to the Linux Terminal</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Mitchell Anicas</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn about how to interact with a
Linux system using commands and a terminal emulation program. This chapter
explains terminal options for Windows, macOS, and Linux so you will be able to
use any operating system to interact with a Linux server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After explaining what terminals are, this chapter discusses
the shell environment with a focus on the Bourne-Again shell (usually referred
to as <span style='font-family:"Courier New"'>bash</span>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>From there, you will learn about the command prompt on a
remote server. Specifically, how it is structured to provide you information
about the remote server, and how it lets you enter commands. You’ll also learn
about tools like <span style='font-family:"Courier New"'>ls</span> and how
arguments to command line programs work.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Finally, this chapter explores environment variables, and
how you can set them, and use them in your command prompt to do things like add
references to installed applications so that you can invoke them using the
command line.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 133674"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This tutorial, which is the first in a series that teaches
Linux basics to get new users on their feet, covers getting started with the
terminal, the Linux command line, and executing commands. If you are new to
Linux, you will want to familiarize yourself with the terminal, as it is the
standard way to interact with a Linux server. Using the command line may seem
like a daunting task but it is actually very easy if you start with the basics,
and build your skills from there.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you would like to get the most out of this tutorial, you
will need a Linux server to connect to and use. If you do not already have one,
you can <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:black;text-decoration:none'>quickly spin one up by following this
link: </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF'>How To Create A Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF'>italOcean Dro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF'>let</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:black;text-decoration:none'>. This tutorial is based on an Ubuntu
14.04 server but the general </span></a>principles apply to any other
distribution of Linux.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s get started by going
over what a terminal emulator is.</p>

<h2 style='margin-left:-.25pt'>Terminal Emulator</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>A terminal emulator is a program that
allows the use of the terminal in a graphical environment. As most people use
an OS with a graphical user interface (GUI) for their day-to-day computer
needs, the use of a terminal emulator is a necessity for most Linux server
users.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>Here are some free, commonly-used terminal emulators by
operating system:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=70
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image005.gif"
align=left hspace=12>Mac OS X: Terminal (default), iTerm 2</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Windows: PuTTY</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Linux: Terminal, KDE
Konsole, XTerm</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>Each terminal emulator has its own set of features, but all
of the listed ones work great and are easy to use.</p>

<h2 style='margin-left:-.25pt'>The Shell</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In a Linux system, the shell is a
command-line interface that interprets a user’s commands and script files, and
tells the server’s operating system what to do with them. There are several
shells that are widely used, such as Bourne shell (<span style='font-family:
"Courier New"'>sh</span>) and C shell (<span style='font-family:"Courier New"'>csh</span>).
Each shell has its own feature set and intricacies, regarding how commands are
interpreted, but they all feature input and output redirection, variables, and
condition-testing, among other things.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'>This tutorial was written using the Bourne-Again shell,
usually referred to as <span style='font-family:"Courier New"'>bash</span>,
which is the default shell for most Linux distributions, including Ubuntu,
CentOS, and RedHat.</p>

<h2 style='margin-left:-.25pt'>The Command Prompt</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When you first login to a server, you will
typically be greeted by the Message of the Day (MOTD), which is typically an
informational message that includes miscellaneous information such as the
version of the Linux distribution that the server is running. After the MOTD,
you will be dropped into the command prompt, or shell prompt, which is where
you can issue commands to the server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The information that is presented at the command prompt can
be customized by the user, but here is an example of the default Ubuntu 14.04
command prompt: <span style='font-family:"Courier New"'>sammy@webapp:~$</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.4pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Here is a breakdown of the
composition of the command prompt:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:116.4pt;margin-bottom:
.25pt;margin-left:16.75pt;text-indent:0in'><img width=6 height=70
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image005.gif"
align=left hspace=12><span style='font-family:"Courier New"'>sammy</span>: The
username of the current user <span style='font-family:"Courier New"'>webapp</span>:
The hostname of the server</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:8.75pt'><span style='font-family:"Courier New"'>~</span>:
The current directory. In <span style='font-family:"Courier New"'>bash</span>,
which is the default shell, the <span style='font-family:"Courier New"'>~</span>,
or tilde, is a special character that expands to the path of the current user’s
home directory; in this case, it represents <span style='font-family:"Courier New"'>/home/sammy
</span><span style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 133458"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> $</span>: The prompt symbol. This denotes
the end of the command prompt, after which the user’s keyboard input will
appear</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Here is an example of what the command prompt might look
like, if logged in as <span style='font-family:"Courier New"'>root</span> and
in the <span style='font-family:"Courier New"'>/var/log</span> directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>root@webapp:/var/log#</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'>Note that the symbol that ends the command prompt is a <span
style='font-family:"Courier New"'>#</span>, which is the standard prompt symbol
for <span style='font-family:"Courier New"'>root</span>. In Linux, the <span
style='font-family:"Courier New"'>root</span> user is the superuser account,
which is a special user account that can perform system-wide administrative
functions–it is an unrestricted user that has permission to perform any task on
a server.</p>

<h2 style='margin-left:-.25pt'>Executing Commands</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Commands can be issued at the command
prompt by specifying the name of an executable file, which can be a binary
program or a script. There are many standard Linux commands and utilities that
are installed with the OS, that allow you navigate the file system, install and
software packages, and configure the system and applications.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An instance of a running command is known as a process.
When a command is executed in the foreground, which is the default way that
commands are executed, the user must wait for the process to finish before
being returned to the command prompt, at which point they can continue issuing
more commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It is important to note that almost everything in Linux is
case-sensitive, including file and directory names, commands, arguments, and
options. If something is not working as expected, double-check the spelling and
case of your commands!</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We will run through a few examples that will cover the
basics of executing commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Note: If you’re not already connected to a Linux server,
now is a good time to log in. If you have a Linux server but are having trouble
connecting, follow this link: <a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>How to Connect to Your Dro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>let with SSH</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h3 style='margin-left:-.25pt'>Without Arguments or Options</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>To execute a command without any arguments
or options, simply type in the name of the command and hit <span
style='font-family:"Courier New"'>RETURN</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you run a command like this, it will exhibit its default
behavior, which varies from command to command. For example, if you run the <span
style='font-family:"Courier New"'>cd </span>command without any arguments, you
will be returned to your current user’s home directory. The <span
style='font-family:"Courier New"'>ls</span> command will print a listing of the
current directory’s files and directories. The <span style='font-family:"Courier New"'>ip</span>
command without any arguments will print a message that shows you how to use
the <span style='font-family:"Courier New"'>ip</span> command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.4pt;
margin-left:-.75pt'>Try running the <span style='font-family:"Courier New"'>ls</span>
command with no arguments to list the files and directories in your current
directory (there may be none): <span style='font-family:"Courier New"'>ls</span></p>

<h3 style='margin-left:-.25pt'>With Arguments</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Many commands accept arguments, or
parameters, which can affect the behavior of a command. For example, the most
common way to use the <span style='font-family:"Courier New"'>cd </span>command
is to pass it a single argument that specifies which directory to change to.
For example, to change to the <span style='font-family:"Courier New"'>/usr/bin</span>
directory, where many standard commands are installed, you would issue this
command: <span style='font-family:"Courier New"'>cd </span><b><span
style='font-family:"Courier New";color:#EF2929'>/usr/bin</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The <span style='font-family:"Courier New"'>cd</span>
component is the command, and the first argument <span style='font-family:"Courier New"'>/usr/bin
</span>follows the command. Note how your command prompt’s current path has
updated.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.4pt;
margin-left:-.75pt'>If you would like, try running the <span style='font-family:
"Courier New"'>ls</span> command to see the files that are in your new current
directory. <span style='font-family:"Courier New"'>ls</span></p>

<h3 style='margin-left:-.25pt'>With Options</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Most commands accept options, also known as
flags or switches, that modify the behavior of the command. As they are special
arguments, options follow a command, and are indicated by a single <span
style='font-family:"Courier New"'>-</span> character followed by one or more
options, which are represented by individual upper- or lower-case letters.
Additionally, some options start with <span style='font-family:"Courier New"'>--</span>,
followed by a single, multi-character (usually a descriptive word) option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.35pt;
margin-left:-.75pt'>For a basic example of how options work, let’s look at the <span
style='font-family:"Courier New"'>ls</span> command. Here are a couple of
common options that come in handy when using <span style='font-family:"Courier New"'>ls</span>:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 133673"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> -l</span>: print a “long listing”, which
includes extra details such as permissions, ownership, file sizes, and
timestamps</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.2pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 133675"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> -a</span>: list all of a directory’s files,
including hidden ones (that start with <span style='font-family:"Courier New"'>.</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To use the <span
style='font-family:"Courier New"'>-l</span> flag with <span style='font-family:
"Courier New"'>ls</span>, use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls -l</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that the listing includes the same files as before,
but with additional information about each file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As mentioned earlier, options can often be grouped
together. If you want to use the <span style='font-family:"Courier New"'>-l</span>
and <span style='font-family:"Courier New"'>-a</span> option together, you
could run <span style='font-family:"Courier New"'>ls -l -a</span>, or just
combine them like in this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls -la</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:16.0pt;
margin-left:-.75pt'>Note that the listing includes the hidden <span
style='font-family:"Courier New"'>.</span> and <span style='font-family:"Courier New"'>..</span>
directories in the listing, because of the <span style='font-family:"Courier New"'>-a</span>
option.</p>

<h3 style='margin-left:-.25pt'>With Options and Arguments</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Options and arguments can almost always be
combined, when running commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For example, you could check the contents of <span
style='font-family:"Courier New"'>/home</span>, regardless of your current
directory, by running this <span style='font-family:"Courier New"'>ls</span>
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls -la /home</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'><span style='font-family:"Courier New"'>ls</span> is the
command, <span style='font-family:"Courier New"'>-la</span> are the options,
and <span style='font-family:"Courier New"'>/home</span> is the argument that
indicates which file or directory to list. This should print a detailed listing
of the <span style='font-family:"Courier New"'>/home</span> directory, which
should contain the home directories of all of the normal users on the server.</p>

<h2 style='margin-left:-.25pt'>Environment Variables</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>Environment variables are named values that
are used to change how commands and processes are executed. When you first log
in to a server, several environment variables will be set according to a few
configuration files by default.</p>

<h3 style='margin-left:-.25pt'>View All Environment Variables</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>To view all of the environment variables
that are set for a particular terminal session, run the <span style='font-family:
"Courier New"'>env</span> command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>env</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>There will likely be a lot
of output, but try and look for <span style='font-family:"Courier New"'>PATH</span>
entry:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/bin:/sbin:/bin:/usr/games:/usr/local/games</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:16.05pt;
margin-left:-.75pt'>The <span style='font-family:"Courier New"'>PATH</span>
environment variable is a colon-delimited list of directories where the shell
will look for executable programs or scripts when a command is issued. For
example, the <span style='font-family:"Courier New"'>env</span> command is
located in <span style='font-family:"Courier New"'>/usr/bin</span>, and we are
able to execute it without specifying its fullyqualified location because its
path is in the <span style='font-family:"Courier New"'>PATH</span> environment
variable.</p>

<h3 style='margin-left:-.25pt'>View the Value of a Variable</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The value of an environment variable can be
retrieved by prefixing the variable name with a <span style='font-family:"Courier New"'>$</span>.
Doing so will expand the referenced variable to its value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For example, to print out the value of the <span
style='font-family:"Courier New"'>PATH</span> variable, you may use the <span
style='font-family:"Courier New"'>echo</span> command: <span style='font-family:
"Courier New"'>echo </span><b><span style='font-family:"Courier New";
color:#EF2929'>$PATH</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Or you could use the <span style='font-family:"Courier New"'>HOME</span>
variable, which is set to your user’s home directory by default, to change to
your home directory like this: <span style='font-family:"Courier New"'>cd </span><b><span
style='font-family:"Courier New";color:#EF2929'>$HOME</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>If you try to access an environment variable that hasn’t
been set, it will be expanded to nothing; an empty string.</p>

<h3 style='margin-left:-.25pt'>Setting Environment Variables</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you know how to view your
environment variables, you should learn how to set them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To set an environment variable, all you need to do is start
with a variable name, followed immediately by an <span style='font-family:"Courier New"'>=</span>
sign, followed immediately by its desired value:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>VAR=value</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that if you set an existing variable, the original
value will be overwritten. If the variable did not exist in the first place, it
will be created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Bash includes a command called <span style='font-family:
"Courier New"'>export</span> which exports a variable so it will be inherited
by child processes. In simple terms, this allows you to use scripts that
reference an exported environment variable from your current session. If you’re
still unclear on what this means, don’t worry about it for now.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can also reference existing variables when setting a
variable. For example, if you installed an application to <span
style='font-family:"Courier New"'>/opt/app/bin</span>, you could add that
directory to the end of your <span style='font-family:"Courier New"'>PATH</span>
environment variable with this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>export PATH=$PATH</span><b><span
style='font-family:"Courier New";color:#EF2929'>:/opt/app/bin</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now verify that <span style='font-family:"Courier New"'>/opt/app/bin</span>
has been added to the end of your <span style='font-family:"Courier New"'>PATH</span>
variable with <span style='font-family:"Courier New"'>echo</span>: <span
style='font-family:"Courier New"'>echo $PATH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Keep in mind that setting environment variables in this way
only sets them for your current session. This means if you log out or otherwise
change to another session, the changes you made to the environment will not be
preserved. There is a way to permanently change environment variables, but this
will be covered in a later tutorial.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have learned about the basics
of the Linux terminal (and a few commands), you should have a good foundation
for expanding your knowledge of Linux commands. Read the <a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF'>next tutorial in this series</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:black;text-decoration:none'> </span></a>to learn how to navigate,
view, and edit files and their permissions.<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Basic Linux Navi</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>ation and File Mana</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>ement</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Justin
Ellingwood</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter will introduce you to the primary tools that
you can use to navigate filesystems and manipulate files on a Linux server. You
will learn about the shell prompt and how to interact with it by invoking
commands and programs. The programs that are demonstrated in this chapter are
some of the most important and commonly used command line tools on a Linux
server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To start off you will learn how to display where you are
located in a filesystem using the <span style='font-family:"Courier New"'>pwd</span>
command. You will learn how to list the contents of a directory with the <span
style='font-family:"Courier New"'>ls</span> command, and then how to navigate
between directories using the <span style='font-family:"Courier New"'>cd</span>
command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After getting acquainted with how to navigate around a
Linux system, you will learn how to create and view files using the <span
style='font-family:"Courier New"'>touch</span> and <span style='font-family:
"Courier New"'>less </span>commands respectively. You will also learn how to
create and remove directories, and view and edit files.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 132985"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you do not have much experience working with Linux
systems, you may be overwhelmed by the prospect of controlling an operating
system from the command line. In this guide, we will attempt to get you up to
speed with the basics.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This guide will not cover everything you need to know to
effectively use a Linux system. However, it should give you a good jumping-off
point for future exploration. This guide will give you the bare minimum you
need to know before moving on to other guides.</p>

<h2 style='margin-left:-.25pt'>Prerequisites and Goals</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In order to follow along with this guide,
you will need to have access to a Linux server. If you need information about
connecting to your server for <a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:black;text-decoration:none'>the first time, you can follow </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>our </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>uide on connectin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'> to a Linux server usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'> SSH</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will also want to have a basic understanding of how the
terminal <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:black;text-decoration:none'>works and what Linux commands look
like. </span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:#3445FF'>This </span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:#3445FF'>uide covers terminal basics</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:black;text-decoration:none'>, so you should check it out if you
are new to using terminals.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>All of the material in this guide can be accomplished with
a regular, non-root (non-administrative) user account. You can learn how to
configure this type of user account by following your distribution’s initial
server setup guide (<a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-14-04"><span
style='color:#3445FF'>Ubuntu 14.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-14-04"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-7"><span
style='color:#3445FF'>CentOS 7</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-7"><span
style='color:black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>When you are ready to begin, connect to your Linux server
using SSH and continue below.</p>

<h2 style='margin-left:-.25pt'>Navigation and Exploration</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>The most fundamental skills you need to
master are moving around the filesystem and getting an idea of what is around
you. We will discuss the tools that allow you to do this in this section.</p>

<h3 style='margin-left:-.25pt'>Finding Where You Are with the “pwd” Command</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When you log into your server, you are
typically dropped into your user account’s home directory. A home directory is
a directory set aside for your user to store files and create directories. It
is the location in the filesystem where you have full dominion.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To find out where your home directory is in relationship to
the rest of the filesystem, you can use the <span style='font-family:"Courier New"'>pwd</span>
command. This command displays the directory that we are currently in:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>pwd</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should get back some
information that looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/home/</span><b><span
style='font-family:"Courier New";color:#EF2929'>demo</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.9pt;
margin-left:-.75pt'>The home directory is named after the user account, so the
above example is what the value would be if you were logged into the server
with an account called <b><span style='font-family:"Courier New";color:#EF2929'>demo</span></b>.
This directory is within a directory called <span style='font-family:"Courier New"'>/home</span>,
which is itself within the top-level directory, which is called “root” but
represented by a single slash “/”.</p>

<h3 style='margin-left:-.25pt'>Looking at the Contents of Directories with “ls”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you know how to display the
directory that you are in, we can show you how to look at the contents of a
directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Currently, your home directory that we saw above does not
have much to see, so we will go to another, more populated directory to
explore. Type the following in your terminal to move to this directory (we will
explain the details of moving directories in the next section). Afterward,
we’ll use <span style='font-family:"Courier New"'>pwd</span> to confirm that we
successfully moved:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:305.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd /usr/share pwd</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/usr/share</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now that we are in a new directory, let’s look at what’s
inside. To do this, we can use the <span style='font-family:"Courier New"'>ls</span>
command:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:98.6pt;margin-bottom:
0in;margin-left:-.25pt;text-indent:-.5pt;line-height:140%'><span
style='font-family:"Courier New"'>ls adduser           
groff                          pam-configs applications      
grub                           perl apport            
grub-gfxpayload-lists          perl5 apps              
hal                            pixmaps apt                i18n                          
pkgconfig aptitude           icons                          polkit-1
apt-xapian-index   info                           popularity-contest . . .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you can see, there are many items in this directory. We
can add some optional flags to the command to modify the default behavior. For
instance, to list all of the contents in an extended form, we can use the <span
style='font-family:"Courier New"'>-l </span>flag (for “long” output):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>ls -l total 440
drwxr-xr-x   2 root root  4096 Apr 17  2014 adduser drwxr-xr-x   2 root root 
4096 Sep 24 19:11 applications drwxr-xr-x   6 root root  4096 Oct  9 18:16
apport drwxr-xr-x   3 root root  4096 Apr 17  2014 apps drwxr-xr-x   2 root
root  4096 Oct  9 18:15 apt drwxr-xr-x   2 root root  4096 Apr 17  2014
aptitude drwxr-xr-x   4 root root  4096 Apr 17  2014 aptxapian-index
drwxr-xr-x   2 root root  4096 Apr 17  2014 awk . . .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This view gives us plenty of information, most of which
looks rather unusual. The first block describes the file type (if the first
column is a “d” the item is a directory, if it is a “-”, it is a normal file)
and permissions. Each subsequent column, separated by white space, describes
the number of hard links, the owner, group owner, item size, last modification
time, and the name of the item. We will describe some of these at another time,
but for now, just know that you can view this information with the <span
style='font-family:"Courier New"'>-l</span> flag of <span style='font-family:
"Courier New"'>ls</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To get a listing of all files, including hidden files and
directories, you can add the <span style='font-family:"Courier New"'>-a</span>
flag. Since there are no real hidden files in the <span style='font-family:
"Courier New"'>/usr/share</span> directory, let’s go back to our home directory
and try that command. You can get back to the home directory by typing <span
style='font-family:"Courier New"'>cd</span> with no arguments: <span
style='font-family:"Courier New"'>cd ls -a</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>.  ..  .bash_logout 
.bashrc  .profile</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you can see, there are three hidden files in this
demonstration, along with <span style='font-family:"Courier New"'>.</span> and <span
style='font-family:"Courier New"'>..</span>, which are special indicators. You
will find that often, configuration files are stored as hidden files, as is the
case here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>For the dot and double dot entries, these aren’t exactly
directories as much as built-in methods of referring to related directories.
The single dot indicates the current directory, and the double dot indicates
this directory’s parent directory. This will come in handy in the next section.</p>

<h3 style='margin-left:-.25pt'>Moving Around the Filesystem with “cd”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>We have already made two directory moves in
order to demonstrate some properties of <span style='font-family:"Courier New"'>ls</span>
in the last section. Let’s take a better look at the command here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.2pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Begin by going back to the
<span style='font-family:"Courier New"'>/usr/share</span> directory by typing
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cd /usr/share</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This is an example of changing a directory by giving an
absolute path. In Linux, every file and directory is under the top-most
directory, which is called the “root” directory, but referred to by a single
leading slash “/”. An absolute path indicates the location of a directory in
relation to this toplevel directory. This lets us refer to directories in an
unambiguous way from any place in the filesystem. Every absolute path must
begin with a slash.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The alternative is to use relative paths. Relative paths
refer to directories in relation to the current directory. For directories
close to the current directory in the hierarchy, this is usually easier and
shorter. Any directory within the current directory can be referenced by name
without a leading slash. We can change to the <span style='font-family:"Courier New"'>locale</span>
directory within <span style='font-family:"Courier New"'>/usr/share</span> from
our current location by typing: <span style='font-family:"Courier New"'>cd
locale</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We can likewise move multiple directory levels with
relative paths by providing the portion of the path that comes after the
current directory’s path. From here, we can get to the <span style='font-family:
"Courier New"'>LC_MESSAGES</span> directory within the <span style='font-family:
"Courier New"'>en </span>directory by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cd en/LC_MESSAGES</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To go back up, travelling to the parent of the current
directory, we use the special double dot indicator we talked about earlier. For
instance, we are now in the <span style='font-family:"Courier New"'>/usr/share/locale/en/LC_MESSAGES</span>
directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:225.65pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:0in'>To move up one level, we can type: <span
style='font-family:"Courier New"'>cd ..</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.85pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>This takes us to the <span
style='font-family:"Courier New"'>/usr/share/locale/en</span> directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>A shortcut that you saw earlier that will always take you
back to your home directory is to use <span style='font-family:"Courier New"'>cd</span>
without providing a directory: <span style='font-family:"Courier New"'>cd pwd</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/home/</span><b><span
style='font-family:"Courier New";color:#EF2929'>demo</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>To learn more about how to use these three commands, you
can check out <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF'>our </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF'>uide on ex</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF'>lorin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF'> the Linux files</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:#3445FF'>stem</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-cd-pwd-and-ls-to-explore-the-file-system-on-a-linux-server"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Viewing Files</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In the last section, we learned a bit about
how to navigate the filesystem. You probably saw some files when using the <span
style='font-family:"Courier New"'>ls</span> command in various directories. In
this section, we’ll discuss different ways that you can use to view files. In
contrast to some operating systems, Linux and other Unixlike operating systems
rely on plain text files for vast portions of the system.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The main way that we will view files is with the <span
style='font-family:"Courier New"'>less</span> command. This is what we call a
“pager”, because it allows us to scroll through pages of a file. While the
previous commands immediately executed and returned you to the command line, <span
style='font-family:"Courier New"'>less</span> is an application that will
continue to run and occupy the screen until you exit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We will open the <span style='font-family:"Courier New"'>/etc/services</span>
file, which is a configuration file that contains service information that the
system knows about:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>less /etc/services</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The file will be opened in <span style='font-family:"Courier New"'>less</span>,
allowing you to see the portion of the document that fits in the area of the
terminal window:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'># Network services,
Internet style </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'># </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:17.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'># Note that it is
presently the policy of IANA to assign a single well-known # port number for
both TCP and UDP; hence, officially ports have two entries # even if the
protocol doesn't support UDP operations. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'># </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'># Updated from
http://www.iana.org/assignments/port-numbers and other # sources like
http://www.freebsd.org/cgi/cvsweb.cgi/src/etc/serv ices . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'># New ports will be
added on request if they have been officially assigned # by IANA and used in
the real-world or are needed by a debian package. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'># If you need a huge
list of used numbers please install the nmap package. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:17.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>tcpmux         
1/tcp                           # TCP port service multiplexer echo           
7/tcp . . .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To scroll, you can use the up and down arrow keys on your
keyboard. To page down one whole screens-worth of information, you can use
either the space bar, the “Page Down” button on your keyboard, or the <span
style='font-family:"Courier New"'>CTRL-f </span>shortcut.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To scroll back up, you can use either the “Page Up” button,
or the <span style='font-family:"Courier New"'>CTRL-b</span> keyboard shortcut.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To search for some text in the document, you can type a
forward slash “/” followed by the search term. For instance, to search for
“mail”, we would type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/mail</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will search forward through the document and stop at
the first result. To get to another result, you can type the lower-case <span
style='font-family:"Courier New"'>n</span> key: <span style='font-family:"Courier New"'>n</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To move backwards to the
previous result, use a capital <span style='font-family:"Courier New"'>N</span>
instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>N</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:34.4pt;margin-bottom:
.25pt;margin-left:-.75pt'>When you wish to exit the <span style='font-family:
"Courier New"'>less</span> program, you can type <span style='font-family:"Courier New"'>q</span>
to quit: <span style='font-family:"Courier New"'>q</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>While we focused on the <span style='font-family:"Courier New"'>less</span>
tool in this section, there are many other ways of viewing a file that come in
handy in certain circumstances. The <span style='font-family:"Courier New"'>cat</span>
command displays a file’s contents and returns you to the prompt immediately.
The <span style='font-family:"Courier New"'>head</span> command, by default,
shows the first 10 lines of a file. Likewise, the <span style='font-family:
"Courier New"'>tail</span> command shows the last 10 lines by default. These
commands display file contents in a way that is useful for “piping” to other
programs. We will discuss this concept in a future guide.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'>Feel free to see how these commands display the <span
style='font-family:"Courier New"'>/etc/services </span>file differently.</p>

<h2 style='margin-left:-.25pt'>File and Directory Manipulation</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>We learned in the last section how to view
a file. In this section, we’ll demonstrate how to create and manipulate files
and directories.</p>

<h3 style='margin-left:-.25pt'>Create a File with “touch”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Many commands and programs can create
files. The most basic method of creating a file is with the <span
style='font-family:"Courier New"'>touch</span> command. This will create an
empty file using the name and location specified.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>First, we should make sure we are in our home directory,
since this is a location where we have permission to save files. Then, we can
create a file called <span style='font-family:"Courier New"'>file1</span> by
typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:359.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd touch file1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now, if we view the files in our directory, we can see our
newly created file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:395.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>ls file1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If we use this command on an existing file, the command
simply updates the data our filesystem stores on the time when the file was
last accessed and modified. This won’t have much use for us at the moment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We can also create multiple files at the same time. We can
use absolute paths as well. For instance, if our user account is called <span
style='font-family:"Courier New"'>demo</span>, we could type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:80.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>touch /home/</span><b><span
style='font-family:"Courier New";color:#EF2929'>demo</span></b><span
style='font-family:"Courier New"'>/file2 /home/</span><b><span
style='font-family:"Courier New";color:#EF2929'>demo</span></b><span
style='font-family:"Courier New"'>/file3 ls</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:21.0pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>file1  file2  file3</span></p>

<h3 style='margin-left:-.25pt'>Create a Directory with “mkdir”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Similar to the <span style='font-family:
"Courier New"'>touch</span> command, the <span style='font-family:"Courier New"'>mkdir</span>
command allows us to create empty directories.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For instance, to create a directory within our home
directory called <span style='font-family:"Courier New"'>test</span>, we could
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:368.6pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd mkdir test</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We can make a directory within the <span style='font-family:
"Courier New"'>test</span> directory called <span style='font-family:"Courier New"'>example</span>
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>mkdir test/example</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For the above command to work, the <span style='font-family:
"Courier New"'>test</span> directory must already exist. To tell <span
style='font-family:"Courier New"'>mkdir</span> that it should create any
directories necessary to construct a given directory path, you can use the <span
style='font-family:"Courier New"'>-p</span> option. This allows you to create
nested directories in one step. We can create a directory structure that looks
like <span style='font-family:"Courier New"'>some/other/directories</span> by
typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>mkdir -p
some/other/directories</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The command will make the <span style='font-family:"Courier New"'>some</span>
directory first, then it will create the <span style='font-family:"Courier New"'>other</span>
directory inside of that. Finally it will create the <span style='font-family:
"Courier New"'>directories </span>directory within those two directories.</p>

<h3 style='margin-left:-.25pt'>Moving and Renaming Files and Directories with
“mv”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>We can move a file to a new location using
the <span style='font-family:"Courier New"'>mv</span> command. For instance, we
can move <span style='font-family:"Courier New"'>file1</span> into the <span
style='font-family:"Courier New"'>test</span> directory by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>mv file1 test</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For this command, we give all of the items that we wish to
move, with the location to move them at the end. We can move that file back to
our home directory by using the special dot reference to refer to our current
directory. We should make sure we’re in our home directory, and then execute
the command: <span style='font-family:"Courier New"'>cd mv test/file1 .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This may seem unintuitive at first, but the <span
style='font-family:"Courier New"'>mv</span> command is also used to rename
files and directories. In essence, moving and renaming are both just adjusting
the location and name for an existing item.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.15pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>So to rename the <span
style='font-family:"Courier New"'>test</span> directory to <span
style='font-family:"Courier New"'>testing</span>, we could type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>mv test testing</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Note: It is important to realize that your Linux system
will not prevent you from certain destructive actions. If you are renaming a
file and choose a name that already exists, the previous file will be
overwritten by the file you are moving. There is no way to recover the previous
file if you accidentally overwrite it.</p>

<h3 style='margin-left:-.25pt'>Copying Files and Directories with “cp”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>With the <span style='font-family:"Courier New"'>mv</span>
command, we could move or rename a file or directory, but we could not
duplicate it. The <span style='font-family:"Courier New"'>cp</span> command can
make a new copy of an existing item.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.2pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>For instance, we can copy <span
style='font-family:"Courier New"'>file3</span> to a new file called <span
style='font-family:"Courier New"'>file4</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cp file3 file4</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Unlike a <span style='font-family:"Courier New"'>mv</span>
operation, after which <span style='font-family:"Courier New"'>file3</span>
would no longer exist, we now have both <span style='font-family:"Courier New"'>file3</span>
and <span style='font-family:"Courier New"'>file4</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: As with the <span style='font-family:"Courier New"'>mv</span>
command, it is possible to overwrite a file if you are not careful about the
filename you are using as the target of the operation. For instance, if <span
style='font-family:"Courier New"'>file4</span> already existed in the above
example, its content would be completely replaced by the content of <span
style='font-family:"Courier New"'>file3</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In order to copy directories, you must include the <span
style='font-family:"Courier New"'>-r</span> option to the command. This stands
for “recursive”, as it copies the directory, plus all of the directory’s
contents. This option is necessary with directories, regardless of whether the
directory is empty.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For instance, to copy the <span style='font-family:"Courier New"'>some</span>
directory structure to a new structure called <span style='font-family:"Courier New"'>again</span>,
we could type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cp -r some again</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Unlike with files, with which an existing destination would
lead to an overwrite, if the target is an existing directory, the file or
directory is copied into the target:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cp file1 again</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.85pt;
margin-left:-.75pt'>This will create a new copy of <span style='font-family:
"Courier New"'>file1</span> and place it inside of the <span style='font-family:
"Courier New"'>again </span>directory.</p>

<h3 style='margin-left:-.25pt'>Removing Files and Directories with “rm” and
“rmdir”</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To delete a file, you can
use the <span style='font-family:"Courier New"'>rm</span> command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: Be extremely careful when using any destructive
command like <span style='font-family:"Courier New"'>rm</span>. There is no
“undo” command for these actions so it is possible to accidentally destroy
important files permanently.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:95.15pt;margin-bottom:
.25pt;margin-left:-.75pt'>To remove a regular file, just pass it to the <span
style='font-family:"Courier New"'>rm</span> command: <span style='font-family:
"Courier New"'>cd rm file4</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Likewise, to remove empty directories, we can use the <span
style='font-family:"Courier New"'>rmdir </span>command. This will only succeed
if there is nothing in the directory in question. For instance, to remove the <span
style='font-family:"Courier New"'>example</span> directory within the <span
style='font-family:"Courier New"'>testing</span> directory, we can type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>rmdir testing/example</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you wish to remove a non-empty directory, you will have
to use the <span style='font-family:"Courier New"'>rm</span> command again.
This time, you will have to pass the <span style='font-family:"Courier New"'>-r</span>
option, which removes all of the directory’s contents recursively, plus the
directory itself.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For instance, to remove the <span style='font-family:"Courier New"'>again</span>
directory and everything within it, we can type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>rm -r again</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once again, it is worth reiterating that these are
permanent actions. Be entirely sure that the command you typed is the one that
you wish to execute.</p>

<h2 style='margin-left:-.25pt'>Editing Files</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Currently, we know how to manipulate files
as objects, but we have not learned how to actually edit them and add content
to them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The <span style='font-family:"Courier New"'>nano</span>
command is one of the simplest command-line Linux text editors, and is a great
starting point for beginners. It operates somewhat similarly to the <span
style='font-family:"Courier New"'>less</span> program discussed above, in that
it occupies the entire terminal for the duration of its use.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The <span style='font-family:"Courier New"'>nano</span>
editor can open existing files, or create a file. If you decide to create a new
file, you can give it a name when you call the <span style='font-family:"Courier New"'>nano</span>
editor, or later on, when you wish to save your content.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.3pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>We can open the <span
style='font-family:"Courier New"'>file1</span> file for editing by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:368.6pt;
margin-bottom:.05pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd nano file1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The <span style='font-family:"Courier New"'>nano</span>
application will open the file (which is currently blank). The interface looks
something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>  GNU nano
2.2.6                 File: file1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>                                 
[ Read 0 lines ] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>^G Get Help   ^O
WriteOut   ^R Read File  ^Y Prev </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:17.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>Page  ^K Cut Text  
^C Cur Pos ^X Exit       ^J Justify    ^W Where Is   ^V Next </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Page  ^U UnCut Text
^T To Spell</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Along the top, we have the name of the application and the
name of the file we are editing. In the middle, the content of the file,
currently blank, is displayed. Along the bottom, we have a number of key
combinations that indicate some basic controls for the editor. For each of
these, the <span style='font-family:"Courier New"'>^ </span>character means the
<span style='font-family:"Courier New"'>CTRL</span> key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To get help from within
the editor, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>CTRL-G</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you are finished browsing the help, type <span
style='font-family:"Courier New"'>CTRL-X</span> to get back to your document.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Type in or modify any text you would like. For this
example, we’ll just type these two sentences:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Hello there. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Here is some text.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To save our work, we can
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>CTRL-O</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This is the letter “o”, not a zero. It will ask you to
confirm the name of the file you wish to save to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:53.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>File Name to Write:
file1 ^G Get Help          M-D DOS Format       M-A </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Append           M-B
Backup File </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>^C Cancel           
M-M Mac Format       M-P </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Prepend</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you can see, the options at the bottom have also
changed. These are contextual, meaning they will change depending on what you
are trying to do. If <span style='font-family:"Courier New"'>file1</span> is
still the file you wish to write to, hit “ENTER”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If we make some additional changes and wish to save the
file and exit the program, we will see a similar prompt. Add a new line, and
then try to exit the program by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>CTRL-X</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you have not saved after making your modification, you
will be asked whether you wish to save the modifications you made:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Save modified buffer
(ANSWERING &quot;No&quot; WILL DESTROY </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>CHANGES) ? </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'> Y Yes </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'> N No           ^C
Cancel</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can type “Y” to save your changes, “N” to discard your
changes and exit, or “CTRL-C” to cancel the exit operation. If you choose to
save, you will be given the same file prompt that you received before,
confirming that you want to save the changes to the same file. Press ENTER to
save the file and exit the editor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can see the contents of the file you created using
either the <span style='font-family:"Courier New"'>cat </span>program to
display the contents, or the <span style='font-family:"Courier New"'>less</span>
program to open the file for viewing. After viewing with <span
style='font-family:"Courier New"'>less</span>, remember that you should hit <span
style='font-family:"Courier New"'>q</span> to get back to the terminal.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>less file1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Hello there. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Here is some text. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Another line.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.85pt;
margin-left:-.75pt'>Another editor that you may see referenced in certain
guides is <span style='font-family:"Courier New"'>vim</span> or <span
style='font-family:"Courier New"'>vi</span>. This is a more advanced editor
that is very powerful, but comes with a very steep learning curve. If you are
ever told to use <span style='font-family:"Courier New"'>vim</span> or <span
style='font-family:"Courier New"'>vi</span>, feel free <a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:black;text-decoration:none'>to use </span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='font-family:"Courier New";color:black;text-decoration:none'>nano</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:black;text-decoration:none'> instead. If you wish to learn how to
use </span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='font-family:"Courier New";color:black;text-decoration:none'>vim</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:black;text-decoration:none'>, read our </span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF'>uide to </span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF'>ettin</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:#3445FF'> started with vim</span></a><a
href="https://www.digitalocean.com/community/tutorials/installing-and-using-the-vim-text-editor-on-a-cloud-server"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>By now, you should have a basic
understanding of how to get around your Linux server and how to see the files
and directories available. You should also know some basic file manipulation
commands that will allow you to view, copy, move, or delete files. Finally, you
should be comfortable with some basic editing using the <span style='font-family:
"Courier New"'>nano</span> text editor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>With these few skills, you should be able to continue on
with other guides and learn how to get the most out of your server. In our next
guide, we will discuss <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions"><span
style='color:#3445FF'>how to view and understand Linux </span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions"><span
style='color:#3445FF'>ermissions</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions"><span
style='color:black;text-decoration:none'>.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>An Introduction to Linux Permissions</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Mitchell Anicas</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn about users and groups, file
ownership, and permissions. These three concepts act in tandem to ensure
security on a Linux system. To begin you will learn about users and groups on a
system, since ownership and permission apply to files based on a user or group
role.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you are familiar with users and groups, the chapter
explains how to view who owns a file, and determine what permissions it has
(its mode). The way that permissions are displayed and configured in Linux may
be unfamiliar to some, so the chapter explains how to understand file modes in
some detail with examples of common modes that you are likely to encounter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 135550"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Linux is a multi-user OS that is based on the Unix concepts
of file ownership and permissions to provide security at the file system level.
If you are planning to improve your Linux skills, it is essential that you have
a decent understanding of how ownership and permissions work. There are many
intricacies when dealing with file ownership and permissions, but we will try
our best to distill the concepts down to the details that are necessary for a
foundational understanding of how they work.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this tutorial, we will cover how to view and understand
Linux ownership and permissions. If you are looking for a tutorial on how to <a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:black;text-decoration:none'>modify permissions, check out this
guide: </span></a><a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:#3445FF'>Linux Permissions Basics and</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:#3445FF'>How to Use Umask on a VPS</span></a></p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt;text-indent:0in'>Make sure you understand the concepts
covered in the prior tutorials in this series:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><img width=6 height=38
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image007.gif"
align=left hspace=12><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-the-linux-terminal"><span
style='color:#3445FF'>An Introduction to the Linux Terminal</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:20.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF'>Basic Linux Navi</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF'>ation and File Mana</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management"><span
style='color:#3445FF'>ement</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Access to a Linux server is not strictly necessary to
follow this tutorial, but having one to use will let you get some first-hand
experience. If you want to set one up, <a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:#3445FF'>check out this link</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-droplet-virtual-server"><span
style='color:black;text-decoration:none'> </span></a>for help.</p>

<h2 style='margin-left:-.25pt'>About Users</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>As mentioned in the introduction, Linux is
a multi-user system. We must understand the basics of Linux users and groups
before we can talk about ownership and permissions, because they are the
entities that the ownership and permissions apply to. Let’s get started with
the basics of what users are.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In Linux, there are two types of users: system users and
regular users. Traditionally, system users are used to run non-interactive or
background processes on a system, while regular users used for logging in and
running processes interactively. When you first log in to a Linux system, you
may notice that it starts out with many system users that run the services that
the OS depends on–this is completely normal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An easy way to view all of the users on a system is to look
at the contents of the <span style='font-family:"Courier New"'>/etc/passwd</span>
file. Each line in this file contains information about a single user, starting
with its user name (the name before the first <span style='font-family:"Courier New"'>:</span>).
Print the <span style='font-family:"Courier New"'>passwd</span> file with this
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:21.0pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cat /etc/passwd</span></p>

<h3 style='margin-left:-.25pt'>Superuser</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In addition to the two user types, there is
the superuser, or root user, that has the ability to override any file
ownership and permission restrictions. In practice, this means that the
superuser has the rights to access anything on its own server. This user is
used to make system-wide changes, and must be kept secure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.95pt;
margin-left:-.75pt'>It is also possible to configure other user accounts with
the ability to assume “superuser rights”. In fact, creating a normal user that
has <span style='font-family:"Courier New"'>sudo </span>privileges for system
administration tasks is considered to be best practice.</p>

<h2 style='margin-left:-.25pt'>About Groups</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Groups are collections of zero or more
users. A user belongs to a default group, and can also be a member of any of
the other groups on a server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An easy way to view all the groups and their members is to
look in the <span style='font-family:"Courier New"'>/etc/group</span> file on a
server. We won’t cover group management in this article, but you can run this
command if you are curious about your groups:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cat /etc/group</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>Now that you know what users and groups are, let’s talk
about file ownership and permissions!</p>

<h2 style='margin-left:-.25pt'>Viewing Ownership and Permissions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In Linux, each and every file is owned by a
single user and a single group, and has its own access permissions. Let’s look
at how to view the ownership and permissions of a file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The most common way to view the permissions of a file is to
use <span style='font-family:"Courier New"'>ls </span>with the long listing
option, e.g. <span style='font-family:"Courier New"'>ls -l myfile</span>. If
you want to view the permissions of all of the files in your current directory,
run the command without an argument, like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls -l</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Hint: If you are in an empty home directory, and you
haven’t created any files to view yet, you can follow along by listing the
contents of the <span style='font-family:"Courier New"'>/etc</span> directory
by running this command: <span style='font-family:"Courier New"'>ls -l /etc</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.5pt;
margin-left:-.75pt'>Here is an example screenshot of what the output might look
like, with labels of each column of output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=261 id="Picture 3091"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image008.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.1pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>ls -l</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Note that each file’s mode (which contains permissions),
owner, group, and name are listed. Aside from the Mode column, this listing is
fairly easy to understand. To help explain what all of those letters and
hyphens mean, let’s break down the Mode column into its components.</p>

<h2 style='margin-left:-.25pt'>Understanding Mode</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.5pt;
margin-left:-.75pt;text-indent:0in'>To help explain what all the groupings and
letters mean, take a look at this closeup of the mode of the first file in the
example above:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=319 id="Picture 3110"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image009.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.0pt;
margin-bottom:35.15pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Mode and
permissions breakdown</span></b></p>

<h3 style='margin-left:-.25pt'>File Type</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In Linux, there are two basic types of
files: normal and special. The file type is indicated by the first character of
the mode of a file–in this guide, we refer to this as the file type field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Normal files can be identified by files with a hyphen (<span
style='font-family:"Courier New"'>-</span>) in their file type fields. Normal
files are just plain files that can contain data. They are called normal, or
regular, files to distinguish them from special files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Special files can be identified by files that have a
non-hyphen character, such as a letter, in their file type fields, and are
handled by the OS differently than normal files. The character that appears in
the file type field indicates the kind of special file a particular file is.
For example, a directory, which is the most common kind of special file, is
identified by the <span style='font-family:"Courier New"'>d</span> character
that appears in its file type field (like in the previous screenshot). There
are several other kinds of special files but they are not essential what we are
learning here.</p>

<h3 style='margin-left:-.25pt'>Permissions Classes</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>From the diagram, we know that Mode column
indicates the file type, followed by three triads, or classes, of permissions:
user (owner), group, and other. The order of the classes is consistent across
all Linux distributions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s look at which users
belong to each permissions class:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=70
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image005.gif"
align=left hspace=12>User: The owner of a file belongs to this class</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Group: The members of the
file’s group belong to this class</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:16.75pt;text-indent:0in'>Other: Any users that are not part of the
user or group classes belong to this class.</p>

<h3 style='margin-left:-.25pt'>Reading Symbolic Permissions</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The next thing to pay attention to are the
sets of three characters, or triads, as they denote the permissions, in
symbolic form, that each class has for a given file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In each triad, read, write, and execute permissions are
represented in the following way:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.5pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=70
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image005.gif"
align=left hspace=12>Read: Indicated by an <span style='font-family:"Courier New"'>r</span>
in the first position</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>Write: Indicated by a <span
style='font-family:"Courier New"'>w</span> in the second position</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.1pt;
margin-left:16.75pt;text-indent:0in'>Execute: Indicated by an <span
style='font-family:"Courier New"'>x</span> in the third position. In some
special cases, there may be a different character here</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'>A hyphen (<span style='font-family:"Courier New"'>-</span>)
in the place of one of these characters indicates that the respective
permission is not available for the respective class. For example, if the group
triad for a file is <span style='font-family:"Courier New"'>r--</span>, the
file is “read-only” to the group that is associated with the file.</p>

<h2 style='margin-left:-.25pt'>Understanding Read, Write, Execute</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you know how to read which
permissions of a file, you probably want to know what each of the permissions
actually allow users to do. We will explain each permission individually, but
keep in mind that they are often used in combination with each other to allow
for meaningful access to files and directories.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Here is a quick breakdown of the access that the three
basic permission types grant a user.</p>

<h3 style='margin-left:-.25pt'>Read</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>For a normal file, read permission allows a
user to view the contents of the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>For a directory, read permission allows a user to view the
names of the file in the directory.</p>

<h3 style='margin-left:-.25pt'>Write</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>For a normal file, write permission allows
a user to modify and delete the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>For a directory, write permission allows a user to delete
the directory, modify its contents (create, delete, and rename files in it),
and modify the contents of files that the user can read.</p>

<h3 style='margin-left:-.25pt'>Execute</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>For a normal file, execute permission
allows a user to execute a file (the user must also have read permission). As
such, execute permissions must be set for executable programs and shell scripts
before a user can run them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:18.95pt;
margin-left:-.75pt'>For a directory, execute permission allows a user to
access, or traverse, into (i.e. <span style='font-family:"Courier New"'>cd</span>)
and access metadata about files in the directory (the information that is
listed in an <span style='font-family:"Courier New"'>ls -l</span>).</p>

<h2 style='margin-left:-.25pt'>Examples of Modes (and Permissions)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.5pt;
margin-left:-.75pt;text-indent:0in'>Now that know how to read the mode of a
file, and understand the meaning of each permission, we will present a few
examples of common modes, with brief explanations, to bring the concepts
together.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12><span style='font-family:"Courier New"'>-rw-------</span>:
A file that is only accessible by its owner</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='font-family:"Courier New"'>-rwxr-xr-x</span>:
A file that is executable by every user on the system. A “world-executable”
file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=6 height=6
id="Group 135831"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> -rw-rw-rw-</span>: A file that is open to
modification by every user on the system. A “world-writable” file <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 135832"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> drwxr-xr-x</span>: A directory that every
user on the system can read and access</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 136688"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> drwxrwx---</span>: A directory that is
modifiable (including its contents) by its owner and group</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:21.15pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=6 height=6 id="Group 136689"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> drwxr-x---</span>: A directory that is
accessible by its group</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you may have noticed, the owner of a file usually enjoys
the most permissions, when compared to the other two classes. Typically, you
will see that the group and other classes only have a subset of the owner’s
permissions (equivalent or less). This makes sense because files should only be
accessible to users who need access to them for a particular reason.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Another thing to note is that even though many permissions
combinations are possible, only certain ones make sense in most situations. For
example, write or execute access is almost always accompanied by read access,
since it’s hard to modify, and impossible to execute, something you can’t read.</p>

<h2 style='margin-left:-.25pt'>Modifying Ownership and Permissions</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.15pt;
margin-left:-.75pt;text-indent:0in'>To keep this tutorial simple, we will not
cover how to modify file ownership and permissions here. To learn how to use <span
style='font-family:"Courier New"'>chown</span>, <span style='font-family:"Courier New"'>chgrp</span>,
and <a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='font-family:"Courier New";color:black;text-decoration:none'>chmod</span></a><a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:black;text-decoration:none'> to accomplish these tasks, refer to
this guide: </span></a><a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:#3445FF'>Linux Permissions Basics and How to Use Umask on a VPS</span></a><a
href="https://www.digitalocean.com/community/tutorials/linux-permissions-basics-and-how-to-use-umask-on-a-vps#types-of-permissions"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You should now have a good understanding of
how ownership and permissions work in Linux. If you would like to learn more
about Linux basics, it is highly recommended that you read the next tutorial in
this series:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 136426"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><u><span
style='color:#3445FF'> </span></u><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection"><span
style='color:#3445FF'>An Introduction to Linux I/O Redirection</span></a><br
clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>An Introduction to Linux I/O Redirection</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by David Collazo</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter will introduce you to input and output streams
on a Linux system. You will learn about the three standard stream systems:
Standard Input, Standard Output, and Standard Error. You will also learn how to
interact and redirect the contents of a stream to or from another stream or
file. Once you are familiar with how streams work, you will learn how to use
pipes and filters with stream data in order to process input or output using
various command line tools.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 137284"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>The redirection capabilities built into Linux provide you
with a robust set of tools used to make all sorts of tasks easier to
accomplish. Whether you’re writing complex software or performing file
management through the command line, knowing how to manipulate the different
I/O streams in your environment will greatly increase your productivity.</p>

<h2 style='margin-left:-.25pt'>Streams</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:13.75pt;
margin-left:-.75pt;text-indent:0in'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12>Input and output in the Linux environment is distributed
across three streams. These streams are: standard input (stdin) standard output
(stdout) standard error (stderr)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>The streams are also
numbered:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:369.6pt;margin-bottom:
14.25pt;margin-left:16.75pt;text-indent:0in'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12>stdin (0) stdout (1) stderr (2)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>During standard interactions between the user and the
terminal, standard input is transmitted through the user’s keyboard. Standard
output and standard error are displayed on the user’s terminal as text.
Collectively, the three streams are referred to as the standard streams.</p>

<h2 style='margin-left:-.25pt'>Standard Input</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The standard input stream typically carries
data from a user to a program. Programs that expect standard input usually
receive input from a device, such as a keyboard. Standard input is terminated
by reaching EOF (end-offile). As described by its name, EOF indicates that
there is no more data to be read.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To see standard input in action, run the cat program. Cat
stands for concatenate, which means to link or combine something. It is
commonly used to combine the contents of two files. When run on its own, cat
opens a looping prompt.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cat</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>After opening cat, type a
series of numbers as it is running.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:404.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>2 3 ctrl-d</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you type a number and press enter, you are sending
standard input to the running cat program, which is expecting said input. In
turn, the cat program is sending your input back to the terminal display as
standard output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>EOF can be input by the user by pressing ctrl-d. After the
cat program receives EOF, it stops.</p>

<h2 style='margin-left:-.25pt'>Standard Output</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Standard output writes the data that is
generated by a program. When the standard output stream is not redirected, it
will output text to the terminal.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Try the following example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>echo Sent to the
terminal through standard output</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When used without any additional options, the echo command
displays any argument that is passed to it on the command line. An argument is
something that is received by a program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Run echo without any
arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>echo</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>It will return an empty
line, since there are no arguments.</p>

<h2 style='margin-left:-.25pt'>Standard Error</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Standard error writes the errors generated
by a program that has failed at some point in its execution. Like standard
output, the default destination for this stream is the terminal display.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When a program’s standard error stream is piped to a second
program, the piped data (consisting of program errors) is simultaneously sent
to the terminal as well.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s see a basic example of standard error using the ls
command. ls lists a directory’s contents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When run without an argument, ls lists the contents within
the current directory. If ls is run with a directory as an argument, it will
list the contents of the provided directory.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls %</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since % is not an existing directory, this will send the
following text to standard error:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:24.0pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls: cannot access %:
No such file or directory</span></p>

<h2 style='margin-left:-.25pt'>Stream Redirection</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Linux includes redirection commands for
each stream. These commands write standard output to a file. If a non-existent
file is targetted (either by a single-bracket or double-bracket command), a new
file with that name will be created prior to writing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Commands with a single bracket overwrite the destination’s
existing contents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Overwrite</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12>&gt; - standard output</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>&lt; - standard input</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>2&gt; - standard error</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Commands with a double bracket do not overwrite the
destination’s existing contents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Append</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12>&gt;&gt; - standard output</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>&lt;&lt; - standard input</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'>2&gt;&gt; - standard
error</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s see an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:269.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cat &gt;
write_to_me.txt a b c ctrl-d</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Here, cat is being used to write to a file, which is
created as a result of the loop.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:127.4pt;margin-bottom:
.25pt;margin-left:-.75pt'>View the contents of write_to_me.txt using cat: <span
style='font-family:"Courier New"'>cat write_to_me.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>It should have the
following contents:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:431.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>a b c</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Redirect cat to
write_to_me.txt again, and enter three numbers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cat &gt;
write_to_me.txt </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:404.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>2 3 ctrl-d</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>When you use cat to view
write_to_me.txt, you will see the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>3</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The prior contents are no longer there, as the file was
overwritten by the single-bracket command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Do one more cat
redirection, this time using double brackets:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:260.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cat &gt;&gt;
write_to_me.txt a b c ctrl-d</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Open write_to_me.txt
again, and you will see this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>1 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:431.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>2 3 a b c</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>The file now contains text from both uses of cat, as the
second one did not override the first one.</p>

<h2 style='margin-left:-.25pt'>Pipes</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Pipes are used to redirect a stream from
one program to another. When a program’s standard output is sent to another
through a pipe, the first program’s data, which is received by the second
program, will not be displayed on the terminal. Only the filtered data returned
by the second program will be displayed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>The Linux pipe is
represented by a vertical bar.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>*|*</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>An example of a command
using a pipe:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls | less</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This takes the output of ls, which displays the contents of
your current directory, and pipes it to the less program. less displays the
data sent to it one line at a time.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>ls normally displays directory contents across multiple rows.
When you</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>run it through less, each
entry is placed on a new line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Though the functionality of the pipe may appear to be
similar to that of &gt; and &gt;&gt; (standard output redirect), the
distinction is that pipes redirect data from one command to another, while &gt;
and &gt;&gt; are used to redirect exclusively to files.</p>

<h2 style='margin-left:-.25pt'>Filters</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.75pt;
margin-left:-.75pt;text-indent:0in'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12>Filters are commands that alter piped redirection and
output. Note that filter commands are also standard Linux commands that can be
used without pipes. <span style='font-size:11.0pt;line-height:142%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 137746"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> find
- Find returns files with filenames that match the argument passed to find.
grep - Grep returns text that matches the string pattern passed to grep. tee -
Tee redirects standard input to both standard output and one or more files. tr
- tr finds-and-replaces one string with another. wc - wc counts characters,
lines, and words.</p>

<h3 style='margin-left:-.25pt'>Examples</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have been introduced to
redirection, piping, and basic filters, let’s look at some basic redirection
patterns and examples.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command &gt; file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>This pattern redirects the
standard output of a command to a file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls ~ &gt;
root_dir_contents.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The command above passes the contents of your system’s root
directory as standard output, and writes the output to a file named
root_dir_contents.txt. It will delete any prior contents in the file, as it is
a single-bracket command. command &gt; /dev/null</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>/dev/null is a special file that is used to trash any data
that is redirected to it. It is used to discard standard output that is not
needed, and that might otherwise interfere with the functionality of a command
or a script. Any output that is sent to /dev/null is discarded. In the future,
you may find the practice of redirecting standard output and standard error to
/dev/null when writing shell scripts.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls &gt; /dev/null</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This command discards the standard output stream returned
from the command ls by passing it to /dev/null.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command 2&gt; file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pattern redirects the standard error stream of a
command to a file, overwriting existing contents.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>mkdir '' 2&gt;
mkdir_log.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This redirects the error raised by the invalid directory
name ’’, and writes it to log.txt. Note that the error is still sent to the
terminal and displayed as text. command &gt;&gt; file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pattern redirects the standard output of a command to
a file without overwriting the file’s existing contents.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:35.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>echo Written to a new
file &gt; data.txt echo Appended to an existing file's contents &gt;&gt;
data.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pair of commands first redirects the text inputted by
the user through echo to a new file. It then appends the text received by the
second echo command to the existing file, without overwriting its contents.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command 2&gt;&gt; file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The pattern above redirects the standard error stream of a
command to a file without overwriting the file’s existing contents. This
pattern is useful for creating error logs for a program or service, as the log
file will not have its previous content wiped each time the file is written to.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:206.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>find '' 2&gt;
stderr_log.txt wc '' 2&gt;&gt; stderr_log.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The above command redirects the error message caused by an
invalid find argument to a file named stderr_log.txt. It then appends the error
message caused by an invalid wc argument to the same file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command | command</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Redirects the standard output from the first command to the
standard input of the second command.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>find /var lib | grep
deb</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This command searches through /var and its subfolders for
filenames and extensions that match the string deb, and returns the file paths
for the files, with the matching portion in each path highlighted in red.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command | tee file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pattern (which includes the tee command) redirects the
standard output of the command to a file and overwrites its contents. Then, it
displays the redirected output in the terminal. It creates a new file if the
file does not already exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In the context of this pattern, tee is typically used to
view a program’s output while simultaneously saving it to a file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>wc /etc/magic | tee
magic_count.txt</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pipes the counts for characters, lines, and words in
the magic file (used by the Linux shell to determine file types) to the tee
command, which then splits wc’s output in two directions, and sends it to the
terminal display and the magic_count.txt file. For the tee command, imagine the
letter T. The bottom part of the letter is the initial data, and the top part
is the data being split in two different directions (standard output and the
terminal).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Multiple pipes can be used to redirect output across
multiple commands and/or filters.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>command | command |
command &gt;&gt; file</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This pattern predirects the standard output of the first
command and filters it through the next two commands. It then appends the final
result to a file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ls ~ | grep *tar | tr
e E &gt;&gt; ls_log.txt</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>This
begins by running ls in your root directory (~) and piping the result to the
grep command. In this case, grep returns a list of files containing tar in
their filename or extension.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>The results from grep are then piped to tr, which replaces
occurrences of the letter e with E, since e is being passed as the first
argument (the string to search for), and E is passed as the second argument
(the string that replaces any matches for the first argument). This final
result is then appended to the file ls_log.txt, which is created if it does not
already exist).</p>

<h3 style='margin-left:-.25pt'>Conclusion</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Learning how to use the redirection
capabilities built into the Linux command line can be a bit daunting, but you
are well on your way to mastering this skillset after completing this tutorial.
Now that you have seen the basics of how redirections and pipes work, you’ll be
able to begin your foray into the world of shell scripting, which makes
frequent use of the programs and patterns highlighted in this guide.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you would like to dig deeper into the commands that were
introduced in this tutorial, you can do so with man command | less. For
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>man tee | less</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will show you the full list of commands available for
the tee program. You can use this pattern to display information and usage
options for any Linux command or program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Googling for specific commands, or for something that you
would like to do in the command line (e.g. “delete all files in a directory
that begin with an uppercase letter”) can also prove helpful when you need to
accomplish a specific task using the command line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>By David Collazo</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Initial Server Setup with Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Justin
Ellingwood</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn about some of the common set
up tasks that you should complete when you create a new Linux server.
Specifically, you will learn how to login as the <span style='font-family:"Courier New"'>root</span>
user using SSH, and then create an unprivileged user that you can use for most
tasks. After you create a new user, you will learn how to grant administrative
privileges so that the user can run commands with elevated system permissions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you have a new user with administrative access in
place, you will learn how to set up a firewall to restrict traffic to specific
services from the public Internet. Finally, you will learn how to ensure that
any new unprivileged users that you create can use SSH to connect to a a
server.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 138524"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you first create a new Ubuntu 18.04 server, there are
a few configuration steps that you should take early on as part of the basic
setup. This will increase the security and usability of your server and will
give you a solid foundation for subsequent actions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: The guide below demonstrates how to manually complete
the steps we recommend for new Ubuntu 18.04 servers. Following this procedure
manually can be useful to learn some basic system administration skills and as
an exercise to fully understand the actions being taken on your server. As an
alternative, if you wish to get up and running more quickly, you can <a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>run our initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> scri</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>which automates these
steps.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Logging in as Root</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>To log into your server, you will need to
know your server’s public IP address. You will also need the password or, if
you installed an SSH key for authentication, the private key for the root
user’s account. If you have not already logged into your server, you may want
to follow our guide on <a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>how to connect to </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>our Dro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:#3445FF'>let with SSH</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh"><span
style='color:black;text-decoration:none'>,</span></a> which covers this process
in detail.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are not already connected to your server, go ahead
and log in as the root user using the following command (substitute the
highlighted portion of the command with your server’s public IP address):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>ssh root@</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Accept the warning about host authenticity if it appears.
If you are using password authentication, provide your root password to log in.
If you are using an SSH key that is passphrase protected, you may be prompted
to enter the passphrase the first time you use the key each session. If this is
your first time logging into the server with a password, you may also be
prompted to change the root password.</p>

<h3 style='margin-left:-.25pt'>About Root</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The root user is the administrative user in
a Linux environment that has very broad privileges. Because of the heightened
privileges of the root account, you are discouraged from using it on a regular
basis. This is because part of the power inherent with the root account is the
ability to make very destructive changes, even by accident.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.25pt;
margin-left:-.75pt'>The next step is to set up an alternative user account with
a reduced scope of influence for day-to-day work. We’ll teach you how to gain
increased privileges during the times when you need them.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Creating a New User</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Once you are logged in as root, we’re
prepared to add the new user account that we will use to log in from now on.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This example creates a new user called sammy, but you
should replace it with a username that you like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>adduser </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:5.65pt;
margin-bottom:4.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>You will be asked a few questions, starting with the account
password.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:18.25pt;
margin-left:-.75pt'>Enter a strong password and, optionally, fill in any of the
additional information if you would like. This is not required and you can just
hit <span style='font-family:"Courier New"'>ENTER</span> in any field you wish
to skip.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Granting Administrative Privileges</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now, we have a new user account with
regular account privileges. However, we may sometimes need to do administrative
tasks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To avoid having to log out of our normal user and log back
in as the root account, we can set up what is known as “superuser” or root
privileges for our normal account. This will allow our normal user to run
commands with administrative privileges by putting the word <span
style='font-family:"Courier New"'>sudo</span> before each command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To add these privileges to our new user, we need to add the
new user to the sudo group. By default, on Ubuntu 18.04, users who belong to
the sudo group are allowed to use the <span style='font-family:"Courier New"'>sudo</span>
command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As root, run this command to add your new user to the sudo
group (substitute the highlighted word with your new user):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>usermod -aG sudo </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.85pt;
margin-left:-.75pt'>Now, when logged in as your regular user, you can type <span
style='font-family:"Courier New"'>sudo</span> before commands to perform
actions with superuser privileges.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Setting Up a Basic Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Ubuntu 18.04 servers can use the UFW
firewall to make sure only connections to certain services are allowed. We can
set up a basic firewall very easily using this application.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: If your servers are running on DigitalOcean, you can
optionally use <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-cloud-firewalls"><span
style='color:#3445FF'>Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-cloud-firewalls"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-cloud-firewalls"><span
style='color:#3445FF'>italOcean Cloud Firewalls</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-cloud-firewalls"><span
style='color:black;text-decoration:none'> </span></a>instead of the UFW
firewall. We recommend using only one firewall at a time to avoid conflicting
rules that may be difficult to debug.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Different applications can register their profiles with UFW
upon installation. These profiles allow UFW to manage these applications by
name. OpenSSH, the service allowing us to connect to our server now, has a
profile registered with UFW.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:252.65pt;margin-bottom:
22.95pt;margin-left:-.75pt'>You can see this by typing: <span style='font-family:
"Courier New"'>ufw app list</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:151.6pt;
margin-bottom:.75pt;margin-left:-.75pt;text-align:left;text-indent:211.75pt;
line-height:182%'><b><span style='font-size:11.0pt;line-height:182%'>Output </span></b><span
style='font-size:11.0pt;line-height:182%;font-family:"Courier New"'>Available
applications: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  OpenSSH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We need to make sure that the firewall allows SSH
connections so that we can log back in next time. We can allow these
connections by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ufw allow OpenSSH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Afterwards, we can enable
the firewall by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ufw enable</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.9pt;
margin-left:-.75pt'>Type “<span style='font-family:"Courier New"'>y</span>” and
press <span style='font-family:"Courier New"'>ENTER</span> to proceed. You can
see that SSH connections are still allowed by typing: <span style='font-family:
"Courier New"'>ufw status</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>As the firewall is currently blocking all connections
except for SSH, if you install and configure additional services, you will need
to adjust the firewall settings to allow acceptable traffic in. You can learn
some common UFW operations in <a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:#3445FF'>this </span></a><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:#3445FF'>uide</span></a><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Step 5 — Enabling External Access for Your
Regular User</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that we have a regular user for daily
use, we need to make sure we can SSH into the account directly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: Until verifying that you can log in and use <span
style='font-family:"Courier New"'>sudo</span> with your new user, we recommend
staying logged in as root. This way, if you have problems, you can troubleshoot
and make any necessary changes as root. If you are using a DigitalOcean Droplet
and experience problems with <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:black;text-decoration:none'>your root</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:black;text-decoration:none'>SSH connection, you can </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF'>lo</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF'> into the Dro</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF'>let usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF'> the Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:#3445FF'>italOcean Console</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-console-to-access-your-droplet"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>The process for configuring SSH access for your new user
depends on whether your server’s root account uses a password or SSH keys for
authentication.</p>

<h3 style='margin-left:-.25pt'>If the Root Account Uses Password Authentication</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you logged in to your root account using
a password, then password authentication is enabled for SSH. You can SSH to
your new user account by opening up a new terminal session and using SSH with
your new username:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>ssh </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-family:"Courier New"'>@</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After entering your regular user’s password, you will be
logged in. Remember, if you need to run a command with administrative
privileges, type <span style='font-family:"Courier New"'>sudo</span> before it
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>sudo </span><b><span
style='font-family:"Courier New";color:#EF2929'>command_to_run</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will be prompted for your regular user password when
using <span style='font-family:"Courier New"'>sudo </span>for the first time
each session (and periodically afterwards).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>To enhance your server’s security, we strongly recommend
setting up SSH keys instead of using password authentication. Follow our guide
on <a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'>settin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'> u</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'> SSH ke</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:black;text-decoration:none'> </span></a>to learn how to configure
key-based authentication.</p>

<h3 style='margin-left:-.25pt'>If the Root Account Uses SSH Key Authentication</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you logged in to your root account using
SSH keys, then password authentication is disabled for SSH. You will need to
add a copy of your local public key to the new user’s <span style='font-family:
"Courier New"'>~/.ssh/authorized_keys</span> file to log in successfully.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since your public key is already in the root account’s <span
style='font-family:"Courier New"'>~/.ssh/authorized_keys</span> file on the
server, we can copy that file and directory structure to our new user account
in our existing session.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The simplest way to copy the files with the correct
ownership and permissions is with the <span style='font-family:"Courier New"'>rsync</span>
command. This will copy the root user’s <span style='font-family:"Courier New"'>.ssh</span>
directory, preserve the permissions, and modify the file owners, all in a
single command. Make sure to change the highlighted portions of the command
below to match your regular user’s name:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: The <span style='font-family:"Courier New"'>rsync</span>
command treats sources and destinations that end with a trailing slash
differently than those without a trailing slash. When using <span
style='font-family:"Courier New"'>rsync</span> below, be sure that the source
directory (<span style='font-family:"Courier New"'>~/.ssh</span>) does not
include a trailing slash (check to make sure you are not using <span
style='font-family:"Courier New"'>~/.ssh/</span>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you accidentally add a trailing slash to the command, <span
style='font-family:"Courier New"'>rsync</span> will copy the contents of the
root account’s <span style='font-family:"Courier New"'>~/.ssh</span> directory
to the <span style='font-family:"Courier New"'>sudo </span>user’s home
directory instead of copying the entire <span style='font-family:"Courier New"'>~/.ssh</span>
directory structure. The files will be in the wrong location and SSH will not
be able to find and use them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>rsync --archive
--chown=</span><b><span style='font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-family:"Courier New"'>:</span><b><span style='font-family:"Courier New";
color:#EF2929'>sammy</span></b><span style='font-family:"Courier New"'> ~/.ssh </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/home/</span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now, open up a new terminal session and using SSH with your
new username:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>ssh </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-family:"Courier New"'>@</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.55pt;
margin-left:-.75pt'>You should be logged in to the new user account without
using a password. Remember, if you need to run a command with administrative
privileges, type <span style='font-family:"Courier New"'>sudo</span> before it
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>sudo </span><b><span
style='font-family:"Courier New";color:#EF2929'>command_to_run</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.85pt;
margin-left:-.75pt'>You will be prompted for your regular user password when
using <span style='font-family:"Courier New"'>sudo </span>for the first time
each session (and periodically afterwards).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:17.0pt;line-height:107%;font-family:
"Arial",sans-serif'>Where To Go From Here?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>At this point, you have a solid foundation
for your server. You can install any of the software you need on your server
now.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-add-and-delete-users-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How to Add and Delete Users on Ubuntu</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-add-and-delete-users-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Jamon Camisso</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to manage users on a
Linux system. You will add a user to a server, grant it access to run
privileged commands using <span style='font-family:"Courier New"'>sudo</span>,
and then delete the users. This chapter will also explain how to verify the
privileges that are granted to a user with the <span style='font-family:"Courier New"'>sudo</span>
command.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 140156"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Adding and removing users on a Linux system is one of the
most important system administration tasks to familiarize yourself with. When
you create a new system, you are often only given access to the root account by
default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>While running as the root user gives you complete control
over a system and its users, it is also dangerous and can be destructive. For
common system administration tasks, it is a better idea to add an unprivileged
user and carry out those tasks without root privileges. You can also create
additional unprivileged accounts for any other users you may have on your
system. Each user on a system should have their own separate account.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.15pt;
margin-left:-.75pt'>For tasks that require administrator privileges, there is a
tool installed on Ubuntu systems called <span style='font-family:"Courier New"'>sudo</span>.
Briefly, <span style='font-family:"Courier New"'>sudo</span> allows you to run
a command as another user, including users with administrative privileges. In
this guide we will cover how to create user accounts, assign <span
style='font-family:"Courier New"'>sudo </span>privileges, and delete users.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To follow along with this
guide, you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 139290"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Access
to a server running Ubuntu 18.04. Ensure that you have root <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>access to the server. To set this up,
follow our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server Setup Guide for Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Adding a User</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you are signed in as the root user, you
can create a new user at any time by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>adduser </span><b><span
style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are signed in as a non-root user who has been given <span
style='font-family:"Courier New"'>sudo </span>privileges, you can add a new
user by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo adduser </span><b><span
style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>Either way, you will be asked a series of questions. The
procedure will be:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12>Assign and confirm a password for the new user</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'>Enter any additional information about the
new user. This is entirely optional and can be skipped by hitting <span
style='font-family:"Courier New"'>ENTER</span> if you don’t wish to utilize
these fields.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.4pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 139293"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Finally,
you’ll be asked to confirm that the information you provided was correct. Enter
<span style='font-family:"Courier New"'>Y</span> to continue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Your new user is now ready for use. You can now log in
using the password that you entered.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you need your new user to have access to administrative
functionality, continue on to the next section.</p>

<h2 style='margin-left:-.25pt'>Granting a User Sudo Privileges</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.9pt;
margin-left:-.75pt;text-indent:0in'>If your new user should have the ability to
execute commands with root (administrative) privileges, you will need to give
the new user access to <span style='font-family:"Courier New"'>sudo</span>.
Let’s examine two approaches to this problem: adding the user to a pre-defined
sudo <a href="https://en.wikipedia.org/wiki/Group_identifier"><span
style='color:#3445FF'>user </span></a><a
href="https://en.wikipedia.org/wiki/Group_identifier"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://en.wikipedia.org/wiki/Group_identifier"><span style='color:#3445FF'>roup</span></a><a
href="https://en.wikipedia.org/wiki/Group_identifier"><span style='color:black;
text-decoration:none'>,</span></a> and specifying privileges on a per-user
basis in <span style='font-family:"Courier New"'>sudo</span>’s configuration.</p>

<h3 style='margin-left:-.25pt'>Adding the New User to the Sudo Group</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>By default, <span style='font-family:"Courier New"'>sudo</span>
on Ubuntu 18.04 systems is configured to extend full privileges to any user in
the sudo group.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.65pt;
margin-left:-.75pt'>You can see what groups your new user is in with the <span
style='font-family:"Courier New"'>groups </span>command: <span
style='font-family:"Courier New"'>groups </span><b><span style='font-family:
"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:27.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New";color:#EF2929'>newuser</span></b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New"'> : </span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>By default, a new user is only in their own group which <span
style='font-family:"Courier New"'>adduser </span>creates along with the user
profile. A user and its own group share the same name. In order to add the user
to a new group, we can use the <span style='font-family:"Courier New"'>usermod</span>
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>usermod -aG sudo </span><b><span
style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:22.0pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>The <span style='font-family:"Courier New"'>-aG</span> option
here tells <span style='font-family:"Courier New"'>usermod</span> to add the
user to the listed groups.</p>

<h3 style='margin-left:-.25pt'>Specifying Explicit User Privileges in
/etc/sudoers</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>As an alternative to putting your user in
the sudo group, you can use the <span style='font-family:"Courier New"'>visudo</span>
command, which opens a configuration file called <span style='font-family:"Courier New"'>/etc/sudoers</span>
in the system’s default editor, and explicitly specify privileges on a per-user
basis.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Using <span style='font-family:"Courier New"'>visudo</span>
is the only recommended way to make changes to <span style='font-family:"Courier New"'>/etc/sudoers</span>,
because it locks the file against multiple simultaneous edits and performs a
sanity check on its contents before overwriting the file. This helps to prevent
a situation where you misconfigure <span style='font-family:"Courier New"'>sudo</span>
and are prevented from fixing the problem because you have lost <span
style='font-family:"Courier New"'>sudo </span>privileges.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If you are currently
signed in as root, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>visudo</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are signed in as a non-root user with <span
style='font-family:"Courier New"'>sudo</span> privileges, type: <span
style='font-family:"Courier New"'>sudo visudo</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.45pt;
margin-left:-.75pt'>Traditionally, <span style='font-family:"Courier New"'>visudo</span>
opened <span style='font-family:"Courier New"'>/etc/sudoers</span> in the <span
style='font-family:"Courier New"'>vi</span> editor, which can be confusing for
inexperienced users. By default on new Ubuntu installations, <span
style='font-family:"Courier New"'>visudo</span> will instead use <span
style='font-family:"Courier New"'>nano</span>, which provides a more convenient
and accessible text editing experience. Use the arrow keys to move the cursor,
and search for the line that looks like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.35pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/sudoers</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>root    ALL=(ALL:ALL) ALL</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Below this line, add the following highlighted line. Be
sure to change <b><span style='font-family:"Courier New";color:#EF2929'>newuser</span></b>
to the name of the user profile that you would like to grant <span
style='font-family:"Courier New"'>sudo</span> privileges:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.35pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/sudoers</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:235.85pt;
margin-bottom:26.3pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>root    ALL=(ALL:ALL) ALL </span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#EF2929'>newuser ALL=(ALL:ALL)
ALL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Add a new line like this for each user that should be given
full <span style='font-family:"Courier New"'>sudo </span>privileges. When you
are finished, you can save and close the file by hitting <span
style='font-family:"Courier New"'>CTRL+X</span>, followed by <span
style='font-family:"Courier New"'>Y</span>, and then <span style='font-family:
"Courier New"'>ENTER</span> to confirm. ## Testing Your User’s Sudo Privileges</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now, your new user is able to execute commands with
administrative privileges.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When signed in as the new user, you can execute commands as
your regular user by typing commands as normal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>some_command</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can execute the same command with administrative
privileges by typing <span style='font-family:"Courier New"'>sudo</span> ahead
of the command: <span style='font-family:"Courier New"'>sudo some_command</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You will be prompted to enter the password of the regular
user account you are signed in as.</p>

<h2 style='margin-left:-.25pt'>Deleting a User</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In the event that you no longer need a
user, it is best to delete the old account.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can delete the user itself, without deleting any of
their files, by typing the following command as root:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>deluser </span><b><span
style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are signed in as another non-root user with <span
style='font-family:"Courier New"'>sudo</span> privileges, you could instead
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo deluser </span><b><span
style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If, instead, you want to delete the user’s home directory
when the user is deleted, you can issue the following command as root:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>deluser --remove-home
</span><b><span style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you’re running this as a non-root user with <span
style='font-family:"Courier New"'>sudo</span> privileges, you would instead
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo deluser
--remove-home </span><b><span style='font-family:"Courier New";color:#EF2929'>newuser</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you had previously configured <span style='font-family:
"Courier New"'>sudo</span> privileges for the user you deleted, you may want to
remove the relevant line again by typing: <span style='font-family:"Courier New"'>visudo</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Or use this if you are a
non-root user with <span style='font-family:"Courier New"'>sudo</span>
privileges:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:233.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo visudo root   
ALL=(ALL:ALL) ALL </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#EF2929'>newuser</span></b><span
style='font-family:"Courier New"'> ALL=(ALL:ALL) ALL   # DELETE THIS LINE</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:19.05pt;
margin-left:-.75pt'>This will prevent a new user created with the same name
from being accidentally given <span style='font-family:"Courier New"'>sudo</span>
privileges.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You should now have a fairly good handle on
how to add and remove users from your Ubuntu 18.04 system. Effective user
management will allow you to separate users and give them only the access that
they are required to do their job.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For more information about how to configure <span
style='font-family:"Courier New"'>sudo</span>, check out our guide on <a
href="https://www.digitalocean.com/community/articles/how-to-edit-the-sudoers-file-on-ubuntu-and-centos"><span
style='color:#3445FF'>how to edit the sudoers file</span></a><a
href="https://www.digitalocean.com/community/articles/how-to-edit-the-sudoers-file-on-ubuntu-and-centos"><span
style='color:black;text-decoration:none'> </span></a>here.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install the Apache Web Server on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Justin
Ellingwood and Kathleen Juell</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter explains how to install and manage the Apache
webserver. Apache is the most widely used web server on the Internet, so it is
worth learning to install and configure it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to install Apache,
configure firewall rules to allow it to send and receive HTTP data, and verify
the server is configured correctly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will also learn hwo to manage the Apache process, build
more advanced <span style='font-family:"Courier New"'>VirtualHost</span>
configurations, and where to look and how to modify other important Apache
configuration files and directories.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 139305"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The Apache HTTP server is the most widely-used web server
in the world. It provides many powerful features including dynamically loadable
modules, robust media support, and extensive integration with other popular
software.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>In this guide, we’ll explain how to install an Apache web
server on your Ubuntu 18.04 server.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Before you begin this guide, you should
have a regular, non-root user with sudo privileges configured on your server.
Additionally, you will need to enable a basic firewall to block non-essential
ports. You can learn how to configure a regular user account and set up a
firewall for your server by following our <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide for Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>When you have an account available, log in as your non-root
user to begin.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Installing Apache</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Apache is available within Ubuntu’s default
software repositories, making it possible to install it using conventional
package management tools.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s begin by updating the local package index to reflect
the latest upstream changes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt update</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.15pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Then, install the <span
style='font-family:"Courier New"'>apache2</span> package:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.1pt;
margin-left:-.75pt'>After confirming the installation, <span style='font-family:
"Courier New"'>apt</span> will install Apache and all required dependencies.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Adjusting the Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Before testing Apache, it’s necessary to
modify the firewall settings to allow outside access to the default web ports.
Assuming that you followed the instructions in the prerequisites, you should
have a UFW firewall configured to restrict access to your server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>During installation, Apache registers itself with UFW to
provide a few application profiles that can be used to enable or disable access
to Apache through the firewall.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>List the <span
style='font-family:"Courier New"'>ufw</span> application profiles by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw app list</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>You will see a list of the application
profiles:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:151.6pt;
margin-bottom:.75pt;margin-left:-.75pt;text-align:left;text-indent:211.75pt;
line-height:182%'><b><span style='font-size:11.0pt;line-height:182%'>Output </span></b><span
style='font-size:11.0pt;line-height:182%;font-family:"Courier New"'>Available
applications: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Apache </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Apache Full </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Apache Secure </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  OpenSSH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>As you can see, there are
three profiles available for Apache:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 139415"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Apache:
This profile opens only port 80 (normal, unencrypted web traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 139416"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Apache
Full: This profile opens both port 80 (normal, unencrypted web traffic) and
port 443 (TLS/SSL encrypted traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.2pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 139417"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Apache
Secure: This profile opens only port 443 (TLS/SSL encrypted traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It is recommended that you enable the most restrictive
profile that will still allow the traffic you’ve configured. Since we haven’t
configured SSL for our server yet in this guide, we will only need to allow
traffic on port 80:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow
'Apache'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can verify the change
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should see HTTP
traffic allowed in the displayed output:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache                     ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache (v6)                ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>As you can see, the profile has been activated to allow
access to the web server.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Checking your Web Server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>At the end of the installation process,
Ubuntu 18.04 starts Apache. The web server should already be up and running.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Check with the <span style='font-family:"Courier New"'>systemd</span>
init system to make sure the service is running by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl status
apache2</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:26.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&#9679; apache2.service - The Apache HTTP Server    Loaded:
loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)  
Drop-In: /lib/systemd/system/apache2.service.d </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>           &#9492;&#9472;apache2-systemd.conf    Active: </span><b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New";color:#EF2929'>active
(running)</span></b><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'> since Tue 2018-04-24 20:14:39 UTC; 9min ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> Main PID: 2583 (apache2) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    Tasks: 55 (limit: 1153) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   CGroup: /system.slice/apache2.service </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;2583 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;2585 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9492;&#9472;2586 /usr/sbin/apache2 -k start</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you can see from this output, the service appears to
have started successfully. However, the best way to test this is to request a
page from Apache.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can access the default Apache landing page to confirm
that the software is running properly through your IP address. If you do not
know your server’s IP address, you can get it a few different ways from the
command line.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Try typing this at your
server’s command prompt:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>hostname -I</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will get back a few addresses separated by spaces. You
can try each in your web browser to see if they work.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An alternative is typing this, which should give you your
public IP address as seen from another location on the internet:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>curl -4 icanhazip.com</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you have your server’s IP address, enter it into your
browser’s address bar:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should see the default
Ubuntu 18.04 Apache web page:</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:5.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=848 id="Picture 5485"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image013.jpg"></p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.75pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Apache
default page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This page indicates that Apache is working correctly. It
also includes some basic information about important Apache files and directory
locations.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Managing the Apache Process</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have your web server up and
running, let’s go over some basic management commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To stop your web server,
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl stop
apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:116.15pt;margin-bottom:
.25pt;margin-left:-.75pt'>To start the web server when it is stopped, type: <span
style='font-family:"Courier New"'>sudo systemctl start apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To stop and then start the
service again, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are simply making configuration changes, Apache can
often reload without dropping connections. To do this, use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl reload
apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>By default, Apache is configured to start automatically
when the server boots. If this is not what you want, disable this behavior by
typing: <span style='font-family:"Courier New"'>sudo systemctl disable apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:111.65pt;margin-bottom:
.25pt;margin-left:-.75pt'>To re-enable the service to start up at boot, type: <span
style='font-family:"Courier New"'>sudo systemctl enable apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Apache should now start
automatically when the server boots again.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Setting Up Virtual Hosts (Recommended)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When using the Apache web server, you can
use virtual hosts (similar to server blocks in Nginx) to encapsulate
configuration details and host more than one domain from a single server. We
will set up a domain called your_domain, but you should replace this with your
own domain name. To learn more about setting up a domain name with
DigitalOcean, see our <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>Introduction to Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>italOcean DNS</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Apache on Ubuntu 18.04 has one server block enabled by
default that is configured to serve documents from the <span style='font-family:
"Courier New"'>/var/www/html</span> directory. While this works well for a
single site, it can become unwieldy if you are hosting multiple sites. Instead
of modifying <span style='font-family:"Courier New"'>/var/www/html</span>,
let’s create a directory structure within <span style='font-family:"Courier New"'>/var/www</span>
for a your_domain site, leaving <span style='font-family:"Courier New"'>/var/www/html</span>
in place as the default directory to be served if a client request doesn’t
match any other sites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Create the directory for
your_domain as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mkdir /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, assign ownership of the directory with the <span
style='font-family:"Courier New"'>$USER</span> environment variable:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo chown -R
$USER:$USER /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The permissions of your web roots should be correct if you
haven’t modified your <span style='font-family:"Courier New"'>unmask</span>
value, but you can make sure by typing: <span style='font-family:"Courier New"'>sudo
chmod -R 755 /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, create a sample <span style='font-family:"Courier New"'>index.html</span>
page using <span style='font-family:"Courier New"'>nano</span> or your favorite
editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>nano /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>/index.html</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Inside, add the following
sample HTML:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.35pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/var/www/your_domain/index.html</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;html&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;title&gt;Welcome to </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>Your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>!&lt;/title&gt;
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;h1&gt;Success!  The </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> virtual
host is working!&lt;/h1&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/html&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In order for Apache to serve this content, it’s necessary
to create a virtual host file with the correct directives. Instead of modifying
the default configuration file located at <span style='font-family:"Courier New"'>/etc/apache2/sitesavailable/000-default.conf</span>
directly, let’s make a new one at <span style='font-family:"Courier New"'>/etc/apache2/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>.conf</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.75pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo nano
/etc/apache2/sitesavailable/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b><span style='font-family:"Courier New"'>.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Paste in the following configuration block, which is
similar to the default, but updated for our new directory and domain name:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/apache2/sites-available/your_domain.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;VirtualHost *:80&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerAdmin webmaster@localhost </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerName </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerAlias </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>www.your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    DocumentRoot /var/www/</span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:113.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    ErrorLog ${APACHE_LOG_DIR}/error.log     CustomLog
${APACHE_LOG_DIR}/access.log combined </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/VirtualHost&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Notice that we’ve updated the <span style='font-family:
"Courier New"'>DocumentRoot</span> to our new directory and <span
style='font-family:"Courier New"'>ServerAdmin</span> to an email that the
your_domain site administrator can access. We’ve also added two directives: <span
style='font-family:"Courier New"'>ServerName</span>, which establishes the base
domain that should match for this virtual host definition, and <span
style='font-family:"Courier New"'>ServerAlias</span>, which defines further
names that should match as if they were the base name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.15pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s enable the file with
the <span style='font-family:"Courier New"'>a2ensite</span> tool:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo a2ensite </span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>.conf</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:48.65pt;
margin-bottom:0in;margin-left:-.75pt;text-align:left;text-indent:15.0pt;
line-height:145%'>Disable the default site defined in <span style='font-family:
"Courier New"'>000-default.conf</span>: <span style='font-family:"Courier New"'>sudo
a2dissite 000-default.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:166.4pt;margin-bottom:
.25pt;margin-left:-.75pt'>Next, let’s test for configuration errors: <span
style='font-family:"Courier New"'>sudo apache2ctl configtest</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should see the
following output:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Syntax OK</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Restart Apache to
implement your changes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.4pt;
margin-left:-.75pt'>Apache should now be serving your domain name. You can test
this by navigating to <span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b>, where
you should see something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=43 id="Picture 5771"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image014.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.75pt;
margin-bottom:35.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Apache
virtual host example</span></b></p>

<h2 style='margin-left:-.25pt'>Step 6 – Getting Familiar with Important Apache
Files and Directories</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>Now that you know how to manage the Apache
service itself, you should take a few minutes to familiarize yourself with a
few important directories and files.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:19.85pt;margin-left:
-.25pt'>Content</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.9pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141052"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /var/www/html</span>: The actual web
content, which by default only consists of the default Apache page you saw
earlier, is served out of the <span style='font-family:"Courier New"'>/var/www/html</span>
directory. This can be changed by altering Apache configuration files.</p>

<h3 style='margin-left:-.25pt'>Server Configuration</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141505"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2</span>: The Apache
configuration directory. All of the Apache configuration files reside here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141506"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/apache2.conf</span>: The main
Apache configuration file. This can be modified to make changes to the Apache
global configuration. This file is responsible for loading many of the other
files in the configuration directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141507"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/ports.conf</span>: This file
specifies the ports that Apache will listen on. By default, Apache listens on
port 80 and additionally listens on port 443 when a module providing SSL
capabilities is enabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141508"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/sites-available/</span>: The
directory where persite virtual hosts can be stored. Apache will not use the
configuration files found in this directory unless they are linked to the <span
style='font-family:"Courier New"'>sitesenabled</span> directory. Typically, all
server block configuration is done in this directory, and then enabled by
linking to the other directory with the <span style='font-family:"Courier New"'>a2ensite</span>
command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141509"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/sites-enabled/</span>: The
directory where enabled per-site virtual hosts are stored. Typically, these are
created by linking to configuration files found in the <span style='font-family:
"Courier New"'>sites-available </span>directory with the <span
style='font-family:"Courier New"'>a2ensite</span>. Apache reads the
configuration files and links found in this directory when it starts or reloads
to compile a complete configuration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141510"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/conf-available/</span>, <span
style='font-family:"Courier New"'>/etc/apache2/confenabled/</span>: These
directories have the same relationship as the <span style='font-family:"Courier New"'>sites-available</span>
and <span style='font-family:"Courier New"'>sites-enabled</span> directories,
but are used to store configuration fragments that do not belong in a virtual
host. Files in the <span style='font-family:"Courier New"'>conf-available</span>
directory can be enabled with the <span style='font-family:"Courier New"'>a2enconf</span>
command and disabled with the <span style='font-family:"Courier New"'>a2disconf
</span>command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.65pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141677"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /etc/apache2/mods-available/</span>, <span
style='font-family:"Courier New"'>/etc/apache2/modsenabled/</span>: These
directories contain the available and enabled modules, respectively. Files in
ending in <span style='font-family:"Courier New"'>.load</span> contain
fragments to load specific modules, while files ending in <span
style='font-family:"Courier New"'>.conf</span> contain the configuration for
those modules. Modules can be enabled and disabled using the <span
style='font-family:"Courier New"'>a2enmod</span> and <span style='font-family:
"Courier New"'>a2dismod</span> command.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:20.1pt;margin-left:
-.25pt'>Server Logs</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141678"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /var/log/apache2/access.log</span>: By
default, every request to your web server is recorded in this log file unless
Apache is configured to do otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141679"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span><span
style='font-family:"Courier New"'> /var/log/apache2/error.log</span>: By
default, all errors are recorded in this file. The <span style='font-family:
"Courier New"'>LogLevel</span> directive in the Apache configuration specifies
how much detail the error logs will contain.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have your web server
installed, you have many options for the type of content you can serve and the
technologies you can use to create a richer experience.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you’d like to build out a more complete application
stack, you can look at this article on <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>how to confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>ure a LAMP stack on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>inx on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Justin
Ellingwood and Kathleen Juell</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In the previous chapter you learned how to install the
Apache webserver. This chapter explains how to install and manage the Nginx
webserver, a fully featured alternative to Apache that powers some of the
busiest websites in the world.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will learn how to install Nginx, configure firewall
rules to allow it to send and receive HTTP data, and verify the server is
configured correctly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will also learn hwo to manage the Nginx process, build
more advanced server configurations, and where to look and how to modify other
important Nginx configuration files and directories.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 141242"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Nginx is one of the most popular web servers in the world
and is responsible for hosting some of the largest and highest-traffic sites on
the internet. It is more resource-friendly than Apache in most cases and can be
used as a web server or reverse proxy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>In this guide, we’ll discuss how to install Nginx on your
Ubuntu 18.04 server.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Before you begin this guide, you should
have a regular, non-root user with sudo privileges configured on your server.
You can learn how to configure <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>a regular user account by following
our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide for Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>When you have an account available, log in as your non-root
user to begin.</p>

<h2 style='margin-left:-.25pt'>Step 1 – Installing Nginx</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Because Nginx is available in Ubuntu’s
default repositories, it is possible to install it from these repositories
using the <span style='font-family:"Courier New"'>apt</span> packaging system.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since this is our first interaction with the <span
style='font-family:"Courier New"'>apt</span> packaging system in this session,
we will update our local package index so that we have access to the most
recent package listings. Afterwards, we can install <span style='font-family:
"Courier New"'>nginx</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:259.85pt;
margin-bottom:.05pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt update sudo
apt install nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.1pt;
margin-left:-.75pt'>After accepting the procedure, <span style='font-family:
"Courier New"'>apt</span> will install Nginx and any required dependencies to
your server.</p>

<h2 style='margin-left:-.25pt'>Step 2 – Adjusting the Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Before testing Nginx, the firewall software
needs to be adjusted to allow access to the service. Nginx registers itself as
a service with <span style='font-family:"Courier New"'>ufw</span> upon
installation, making it straightforward to allow Nginx access.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>List the application configurations that <span
style='font-family:"Courier New"'>ufw</span> knows how to work with by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw app list</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should get a listing
of the application profiles:</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Available applications: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Nginx Full </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Nginx HTTP </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Nginx HTTPS </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  OpenSSH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>As you can see, there are
three profiles available for Nginx:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141001"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Nginx
Full: This profile opens both port 80 (normal, unencrypted web traffic) and
port 443 (TLS/SSL encrypted traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141002"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Nginx
HTTP: This profile opens only port 80 (normal, unencrypted web traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.2pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 141003"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image006.gif"></span> Nginx
HTTPS: This profile opens only port 443 (TLS/SSL encrypted traffic)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It is recommended that you enable the most restrictive
profile that will still allow the traffic you’ve configured. Since we haven’t
configured SSL for our server yet in this guide, we will only need to allow
traffic on port 80.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can enable this by
typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow 'Nginx
HTTP'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can verify the change
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should see HTTP
traffic allowed in the displayed output:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP                 ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:36.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span></p>

<h2 style='margin-left:-.25pt'>Step 3 – Checking your Web Server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>At the end of the installation process,
Ubuntu 18.04 starts Nginx. The web server should already be up and running.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We can check with the <span style='font-family:"Courier New"'>systemd</span>
init system to make sure the service is running by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>systemctl status
nginx</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&#9679; nginx.service - A high performance web server and a
reverse proxy server </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   Loaded: loaded (/lib/systemd/system/nginx.service; enabled;
vendor preset: enabled) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>   Active: </span><b><span style='font-size:11.0pt;line-height:
193%;font-family:"Courier New";color:#EF2929'>active (running)</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'> since Fri
2018-04-20 16:08:19 UTC; 3 days ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>     Docs: man:nginx(8) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> Main PID: 2369 (nginx) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    Tasks: 2 (limit: 1153) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.9pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   CGroup: /system.slice/nginx.service           
&#9500;&#9472;2369 nginx: master process /usr/sbin/nginx -g daemon on;
master_process on;            &#9492;&#9472;2380 nginx: worker process</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As you can see above, the service appears to have started
successfully. However, the best way to test this is to actually request a page
from Nginx.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can access the default Nginx landing page to confirm
that the software is running properly by navigating to your server’s IP
address. If you do not know your server’s IP address, you can get it a few
different ways.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Try typing this at your
server’s command prompt:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ip addr show eth0 |
grep inet | awk '{ print $2; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>}' | sed 's/\/.*$//'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will get back a few lines. You can try each in your web
browser to see if they work.</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An alternative is typing this, which should give you your
public IP address as seen from another location on the internet:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>curl -4 icanhazip.com</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you have your server’s IP address, enter it into your
browser’s address bar:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:9.5pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You should see the default
Nginx landing page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=224 id="Picture 6350"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image015.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Nginx
default page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This page is included with Nginx to show you that the
server is running correctly.</p>

<h2 style='margin-left:-.25pt'>Step 4 – Managing the Nginx Process</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have your web server up and
running, let’s review some basic management commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To stop your web server,
type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl stop
nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To start the web server
when it is stopped, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl start
nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To stop and then start the
service again, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you are simply making configuration changes, Nginx can
often reload without dropping connections. To do this, type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl reload
nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>By default, Nginx is configured to start automatically when
the server boots. If this is not what you want, you can disable this behavior
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
disable nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.4pt;margin-bottom:
18.45pt;margin-left:-.75pt'>To re-enable the service to start up at boot, you
can type: <span style='font-family:"Courier New"'>sudo systemctl enable nginx</span></p>

<h2 style='margin-left:-.25pt'>Step 5 – Setting Up Server Blocks (Recommended)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When using the Nginx web server, server
blocks (similar to virtual hosts in Apache) can be used to encapsulate
configuration details and host more than one domain from a single server. We
will set up a domain called example.com, but you should replace this with your
own domain name. To learn more about setting up a domain name with
DigitalOcean, see our <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>Introduction to Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>italOcean DNS</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Nginx on Ubuntu 18.04 has one server block enabled by
default that is configured to serve documents out of a directory at <span
style='font-family:"Courier New"'>/var/www/html</span>. While this works well
for a single site, it can become unwieldy if you are hosting multiple sites.
Instead of modifying <span style='font-family:"Courier New"'>/var/www/html</span>,
let’s create a directory structure within <span style='font-family:"Courier New"'>/var/www</span>
for our example.com site, leaving <span style='font-family:"Courier New"'>/var/www/html</span>
in place as the default directory to be served if a client request doesn’t
match any other sites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Create the directory for example.com as follows, using the <span
style='font-family:"Courier New"'>-p</span> flag to create any necessary parent
directories:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mkdir -p
/var/www/</span><b><span style='font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-family:"Courier New"'>/html</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, assign ownership of the directory with the <span
style='font-family:"Courier New"'>$USER</span> environment variable:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.75pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo chown -R
$USER:$USER /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b><span style='font-family:"Courier New"'>/html</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The permissions of your web roots should be correct if you
haven’t modified your <span style='font-family:"Courier New"'>umask</span>
value, but you can make sure by typing: <span style='font-family:"Courier New"'>sudo
chmod -R 755 /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, create a sample <span style='font-family:"Courier New"'>index.html</span>
page using <span style='font-family:"Courier New"'>nano</span> or your favorite
editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>nano /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-family:"Courier New"'>/html/index.html</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>Inside, add the following sample HTML:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.15pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/var/www/example.com/html/index.html</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;html&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;title&gt;Welcome to </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>Example.com</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>!&lt;/title&gt;
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;h1&gt;Success!  The </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> server
block is working!&lt;/h1&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/html&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>In
order for Nginx to serve this content, it’s necessary to create a server block
with the correct directives. Instead of modifying the default configuration      file
   directly,  let’s   make           a        new   one    at <span
style='font-family:"Courier New"'>/etc/nginx/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.5pt;
margin-left:-.75pt'>Paste in the following configuration block, which is
similar to the default, but updated for our new directory and domain name:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:302.35pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>server {         listen 80;         listen [::]:80; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:59.35pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>        root /var/www/</span><b><span style='font-size:11.0pt;
line-height:193%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>/html;         index
index.html index.htm index.nginx-debian.html; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        server_name </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> www.</span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        location / { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>                try_files $uri $uri/ =404; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        } </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Notice that we’ve updated the <span style='font-family:
"Courier New"'>root</span> configuration to our new directory, and the <span
style='font-family:"Courier New"'>server_name</span> to our domain name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, let’s enable the file by creating a link from it to
the <span style='font-family:"Courier New"'>sitesenabled</span> directory,
which Nginx reads from during startup:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>sudo ln -s
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b><span style='font-family:"Courier New"'>
/etc/nginx/sites-enabled/</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.6pt;
margin-left:-.75pt'>Two server blocks are now enabled and configured to respond
to requests based on their <span style='font-family:"Courier New"'>listen</span>
and <span style='font-family:"Courier New"'>server_name</span> directives (you
can read more about how Nginx processes these directives <a
href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms"><span
style='color:#3445FF'>here</span></a><a
href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms"><span
style='color:black;text-decoration:none'>)</span></a>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:30.0pt;text-align:left;text-indent:-13.25pt;
line-height:147%'><span style='font-size:11.0pt;line-height:147%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 142310"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> example.com</span>: Will respond to requests
for <span style='font-family:"Courier New"'>example.com</span> and <span
style='font-family:"Courier New"'>www.example.com</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.1pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142311"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> default</span>: Will respond to any requests
on port 80 that do not match the other two blocks.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To avoid a possible hash bucket memory problem that can
arise from adding additional server names, it is necessary to adjust a single
value in the <span style='font-family:"Courier New"'>/etc/nginx/nginx.conf</span>
file. Open the file: <span style='font-family:"Courier New"'>sudo nano
/etc/nginx/nginx.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Find the <span style='font-family:"Courier New"'>server_names_hash_bucket_size</span>
directive and remove the <span style='font-family:"Courier New"'>#</span>
symbol to uncomment the line:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/nginx.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:403.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>... http {     ... </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:180.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    server_names_hash_bucket_size 64;     ... </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>} </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, test to make sure that there are no syntax errors in
any of your Nginx files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nginx -t</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If there aren’t any
problems, restart Nginx to enable your changes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.4pt;
margin-left:-.75pt'>Nginx should now be serving your domain name. You can test
this by navigating to <span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b>, where
you should see something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=47 id="Picture 6671"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image016.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:35.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Nginx
first server block</span></b></p>

<h2 style='margin-left:-.25pt'>Step 6 – Getting Familiar with Important Nginx
Files and Directories</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>Now that you know how to manage the Nginx
service itself, you should take a few minutes to familiarize yourself with a
few important directories and files.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:19.85pt;margin-left:
-.25pt'>Content</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.9pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142727"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /var/www/html</span>: The actual web
content, which by default only consists of the default Nginx page you saw
earlier, is served out of the <span style='font-family:"Courier New"'>/var/www/html</span>
directory. This can be changed by altering Nginx configuration files.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:19.8pt;margin-left:
-.25pt'>Server Configuration</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142728"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /etc/nginx</span>: The Nginx configuration
directory. All of the Nginx configuration files reside here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142729"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /etc/nginx/nginx.conf</span>: The main Nginx
configuration file. This can be modified to make changes to the Nginx global
configuration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142730"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /etc/nginx/sites-available/</span>: The
directory where per-site server blocks can be stored. Nginx will not use the
configuration files found in this directory unless they are linked to the <span
style='font-family:"Courier New"'>sitesenabled</span> directory. Typically, all
server block configuration is done in this directory, and then enabled by
linking to the other directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 142731"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /etc/nginx/sites-enabled/</span>: The
directory where enabled per-site server blocks are stored. Typically, these are
created by linking to configuration files found in the <span style='font-family:
"Courier New"'>sites-available </span>directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.95pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 143228"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /etc/nginx/snippets</span>: This directory
contains configuration fragments that can be included elsewhere in the Nginx
configuration. Potentially repeatable configuration segments are good
candidates for refactoring into snippets.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:20.15pt;margin-left:
-.25pt'>Server Logs</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 143229"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /var/log/nginx/access.log</span>: Every
request to your web server is recorded in this log file unless Nginx is
configured to do otherwise.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.95pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 143231"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> /var/log/nginx/error.log</span>: Any Nginx
errors will be recorded in this log.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have your web server
installed, you have many options for the type of content to serve and the
technologies you want to use to create a richer experience.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you’d like to build out a more complete application
stack, check out this article on <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>how to confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>ure a LEMP stack on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> Apache</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>SQL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>PHP </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>LAMP</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>)</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> stack on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Mark Drake</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter explains how to set up a Linux, Apache, MySQL,
and PHP server, commonly referred to as the LAMP stack. In this chapter you
will learn how to install all the required LAMP packages, create an Apache
configuration, secure MySQL, set up the UFW firewall to allow traffic to the
server, and finally add a test PHP script to demonstrate that all the
components of the LAMP stack are working correctly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.15pt;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 142861"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>A previous version of this
tutorial was written by <a
href="https://www.digitalocean.com/community/users/bpb"><span style='color:
#3445FF'>Brennan Bearnes</span></a><a
href="https://www.digitalocean.com/community/users/bpb"><span style='color:
black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>A “LAMP” stack is a group of open-source software that is
typically installed together to enable a server to host dynamic websites and
web apps. This term is actually an acronym which represents the Linux operating
system, with the Apache web server. The site data is stored in a MySQL
database, and dynamic content is processed by PHP.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:5.45pt;
margin-bottom:22.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>In this guide, we will install a LAMP stack on an Ubuntu
18.04 server.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In order to complete this tutorial, you
will need to have an Ubuntu 18.04 server with a non-root <span
style='font-family:"Courier New"'>sudo</span>-enabled user account and a basic
firewall. <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>This can be configured using our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide for Ubuntu</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.0pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Step 1 — Installing Apache and Updating the
Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The Apache web server is among the most
popular web servers in the world. It’s well-documented and has been in wide use
for much of the history of the web, which makes it a great default choice for
hosting a website.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Install Apache using
Ubuntu’s package manager, <span style='font-family:"Courier New"'>apt</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:241.6pt;
margin-bottom:.05pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt update sudo
apt install apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since this is a <span style='font-family:"Courier New"'>sudo</span>
command, these operations are executed with root privileges. It will ask you
for your regular user’s password to verify your intentions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.95pt;
margin-left:-.75pt'>Once you’ve entered your password, <span style='font-family:
"Courier New"'>apt</span> will tell you which packages it plans to install and
how much extra disk space they’ll take up. Press <span style='font-family:"Courier New"'>Y
</span>and hit <span style='font-family:"Courier New"'>ENTER</span> to
continue, and the installation will proceed.</p>

<h3 style='margin-left:-.25pt'>Adjust the Firewall to Allow Web Traffic</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Next, assuming that you have followed the
initial server setup instructions and enabled the UFW firewall, make sure that
your firewall allows HTTP and HTTPS traffic. You can check that UFW has an
application profile for Apache like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw app list</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:150.6pt;
margin-bottom:.75pt;margin-left:-.75pt;text-align:left;text-indent:211.75pt;
line-height:182%'><b><span style='font-size:11.0pt;line-height:182%'>Output </span></b><span
style='font-size:11.0pt;line-height:182%;font-family:"Courier New"'>Available
applications: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:10.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>  </span><b><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New";color:#EF2929'>Apache</span></b><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:10.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>  </span><b><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New";color:#EF2929'>Apache Full</span></b><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:10.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'>  </span><b><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New";color:#EF2929'>Apache Secure</span></b><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  OpenSSH</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you look at the <span style='font-family:"Courier New"'>Apache
Full</span> profile, it should show that it enables traffic to ports <span
style='font-family:"Courier New"'>80</span> and <span style='font-family:"Courier New"'>443</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:28.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw app info
&quot;Apache Full&quot;</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Profile: Apache Full </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Title: Web Server (HTTP,HTTPS) Description: Apache v2 is the
next generation of the omnipresent Apache web server. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Ports: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:26.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>  </span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>80,443/tcp</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Allow incoming HTTP and
HTTPS traffic for this profile:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow in
&quot;Apache Full&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can do a spot check right away to verify that
everything went as planned by visiting your server’s public IP address in your
web browser (see the note under the next heading to find out what your public
IP address is if you do not have this information already):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_server_ip</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will see the default Ubuntu 18.04 Apache web page,
which is there for informational and testing purposes. It should look something
like this:</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:5.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=611 height=859 id="Picture 7037"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image017.jpg"></p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.4pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Ubuntu
18.04 Apache default</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>If you see this page, then your web server is now correctly
installed and accessible through your firewall.</p>

<h3 style='margin-left:-.25pt'>How To Find your Server’s Public IP Address</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you do not know what your server’s
public IP address is, there are a number of ways you can find it. Usually, this
is the address you use to connect to your server through SSH.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>There are a few different ways to do this from the command
line. First, you could use the <span style='font-family:"Courier New"'>iproute2</span>
tools to get your IP address by typing this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ip addr show eth0 |
grep inet | awk '{ print $2; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>}' | sed 's/\/.*$//'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will give you two or three lines back. They are all
correct addresses, but your computer may only be able to use one of them, so
feel free to try each one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>An alternative method is to use the <span style='font-family:
"Courier New"'>curl</span> utility to contact an outside party to tell you how
it sees your server. This is done by asking a specific server what your IP
address is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:225.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt install curl
curl http://icanhazip.com</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Regardless of the method you use to get your IP address,
type it into your web browser’s address bar to view the default Apache page.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Installing MySQL</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have your web server up and
running, it is time to install MySQL. MySQL is a database management system.
Basically, it will organize and provide access to databases where your site can
store information.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Again, use <span
style='font-family:"Courier New"'>apt</span> to acquire and install this
software:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
mysql-server</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: In this case, you do not have to run <span
style='font-family:"Courier New"'>sudo apt update</span> prior to the command.
This is because you recently ran it in the commands above to install Apache.
The package index on your computer should already be up-to-date.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This command, too, will show you a list of the packages
that will be installed, along with the amount of disk space they’ll take up.
Enter <span style='font-family:"Courier New"'>Y</span> to continue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When the installation is complete, run a simple security
script that comes pre-installed with MySQL which will remove some dangerous
defaults and lock down access to your database system. Start the interactive
script by running:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo
mysql_secure_installation</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will ask if you want to configure the <span
style='font-family:"Courier New"'>VALIDATE PASSWORD PLUGIN</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: Enabling this feature is something of a judgment
call. If enabled, passwords which don’t match the specified criteria will be
rejected by MySQL with an error. This will cause issues if you use a weak
password in conjunction with software which automatically configures MySQL user
credentials, such as the Ubuntu packages for phpMyAdmin. It is safe to leave
validation disabled, but you should always use strong, unique passwords for
database credentials.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Answer <span
style='font-family:"Courier New"'>Y</span> for yes, or anything else to
continue without enabling.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>VALIDATE PASSWORD
PLUGIN can be used to test passwords and improve security. It checks the
strength of password and allows the users to set only those passwords which are
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>secure enough. Would
you like to setup VALIDATE </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>PASSWORD plugin? </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Press y|Y for Yes,
any other key for No:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you answer “yes”, you’ll be asked to select a level of
password validation. Keep in mind that if you enter <span style='font-family:
"Courier New"'>2</span> for the strongest level, you will receive errors when
attempting to set any password which does not contain numbers, upper and
lowercase letters, and special characters, or which is based on common
dictionary words.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>There are three
levels of password validation policy: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>LOW    Length &gt;= 8
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>MEDIUM Length &gt;=
8, numeric, mixed case, and special characters </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>STRONG Length &gt;=
8, numeric, mixed case, special characters and dictionary                  file
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'><span style='font-family:"Courier New"'>Please
enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: </span><b><span style='font-family:
"Courier New";color:#EF2929'>1 </span></b>Regardless of whether you chose to
set up the <span style='font-family:"Courier New"'>VALIDATE PASSWORD PLUGIN</span>,
your server will next ask you to select and confirm a password for the MySQL
root user. This is an administrative account in MySQL that has increased
privileges. Think of it as being similar to the root account for the server
itself (although the one you are configuring now is a MySQL-specific account).
Make sure this is a strong, unique password, and do not leave it blank.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you enabled password validation, you’ll be shown the
password strength for the root password you just entered and your server will
ask if you want to change that password. If you are happy with your current
password, enter <span style='font-family:"Courier New"'>N</span> for “no” at
the prompt:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Using existing
password for root. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Estimated strength of
the password: </span><b><span style='font-family:"Courier New";color:#EF2929'>100</span></b><span
style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Change the password
for root ? ((Press y|Y for </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Yes, any other key
for No) : </span><b><span style='font-family:"Courier New";color:#EF2929'>n</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For the rest of the questions, press <span
style='font-family:"Courier New"'>Y</span> and hit the <span style='font-family:
"Courier New"'>ENTER</span> key at each prompt. This will remove some anonymous
users and the test database, disable remote root logins, and load these new
rules so that MySQL immediately respects the changes you have made.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that in Ubuntu systems running MySQL 5.7 (and later
versions), the root MySQL user is set to authenticate using the <span
style='font-family:"Courier New"'>auth_socket </span>plugin by default rather
than with a password. This allows for some greater security and usability in
many cases, but it can also complicate things when you need to allow an
external program (e.g., phpMyAdmin) to access the user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you prefer to use a password when connecting to MySQL as
root, you will need to switch its authentication method from <span
style='font-family:"Courier New"'>auth_socket</span> to <span style='font-family:
"Courier New"'>mysql_native_password</span>. To do this, open up the MySQL
prompt from your terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mysql</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, check which authentication method each of your MySQL
user accounts use with the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>SELECT
user,authentication_string,plugin,host FROM mysql.user;</span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--------------------+-----------+ | user             |
authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--------------------+-----------+ | root            
|                                           | auth_socket           | localhost
| | mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |
mysql_native_password | localhost | | mysql.sys        |
*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | *CC744277A401A7D25BE1CA89AFF17BF607F876FF |
mysql_native_password | localhost |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--------------------+-----------+ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>4 rows in set (0.00 sec)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this example, you can see that the root user does in
fact authenticate using the <span style='font-family:"Courier New"'>auth_socket</span>
plugin. To configure the root account to authenticate with a password, run the
following <span style='font-family:"Courier New"'>ALTER USER</span> command. Be
sure to change <b><span style='font-family:"Courier New";color:#EF2929'>password</span></b>
to a strong password of your choosing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>ALTER USER
'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '</span><b><span
style='font-family:"Courier New";color:#EF2929'>password</span></b><span
style='font-family:"Courier New"'>';</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Then, run <span style='font-family:"Courier New"'>FLUSH
PRIVILEGES</span> which tells the server to reload the grant tables and put
your new changes into effect:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>FLUSH PRIVILEGES;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Check the authentication methods employed by each of your
users again to confirm that root no longer authenticates using the <span
style='font-family:"Courier New"'>auth_socket </span>plugin:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>SELECT
user,authentication_string,plugin,host FROM mysql.user;</span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--------------------+-----------+ | user             |
authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:188%'><span style='font-size:11.0pt;line-height:188%;font-family:
"Courier New"'>--------------------+-----------+ | root             |
*3636DACC8616D997782ADD0839F92C1571D6D78F | </span><b><span style='font-size:
11.0pt;line-height:188%;font-family:"Courier New";color:#EF2929'>mysql_native_password</span></b><span
style='font-size:11.0pt;line-height:188%;font-family:"Courier New"'> |
localhost | | mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |
mysql_native_password | localhost | | mysql.sys        |
*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | *CC744277A401A7D25BE1CA89AFF17BF607F876FF |
mysql_native_password | localhost |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--------------------+-----------+ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>4 rows in set (0.00 sec)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can see in this example output that the root MySQL user
now authenticates using a password. Once you confirm this on your own server,
you can exit the MySQL shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>exit</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>At this point, your database system is now set up and you
can move on to installing PHP, the final component of the LAMP stack.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Installing PHP</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>PHP is the component of your setup that
will process code to display dynamic content. It can run scripts, connect to
your MySQL databases to get information, and hand the processed content over to
your web server to display.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once again, leverage the <span style='font-family:"Courier New"'>apt</span>
system to install PHP. In addition, include some helper packages this time so
that PHP code can run under the Apache server and talk to your MySQL database:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install php
libapache2-mod-php php-mysql</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This should install PHP without any problems. We’ll test
this in a moment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In most cases, you will want to modify the way that Apache
serves files when a directory is requested. Currently, if a user requests a
directory from the server, Apache will first look for a file called <span
style='font-family:"Courier New"'>index.html</span>. We want to tell the web
server to prefer PHP files over others, so make Apache look for an <span
style='font-family:"Courier New"'>index.php</span> file first.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To do this, type this command to open the <span
style='font-family:"Courier New"'>dir.conf</span> file in a text editor with
root privileges:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/apache2/mods-enabled/dir.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>It will look like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/apache2/mods-enabled/dir.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;IfModule mod_dir.c&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>    DirectoryIndex index.html index.cgi index.pl </span><b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>index.php</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>
index.xhtml index.htm </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/IfModule&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.15pt;
margin-left:-.75pt'>Move the PHP index file (highlighted above) to the first
position after the <span style='font-family:"Courier New"'>DirectoryIndex</span>
specification, like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/apache2/mods-enabled/dir.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;IfModule mod_dir.c&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>    DirectoryIndex </span><b><span style='font-size:11.0pt;
line-height:193%;font-family:"Courier New";color:#EF2929'>index.php</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'> index.html
index.cgi index.pl index.xhtml index.htm </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.55pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/IfModule&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you are finished, save and close the file by pressing <span
style='font-family:"Courier New"'>CTRL+X</span>. Confirm the save by typing <span
style='font-family:"Courier New"'>Y</span> and then hit <span style='font-family:
"Courier New"'>ENTER</span> to verify the file save location.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After this, restart the Apache web server in order for your
changes to be recognized. Do this by typing this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can also check on the status of the <span
style='font-family:"Courier New"'>apache2</span> service using <span
style='font-family:"Courier New"'>systemctl</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl status
apache2</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Sample
Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:60.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&#9679; apache2.service - LSB: Apache2 web server    Loaded:
loaded (/etc/init.d/apache2; bad; vendor preset: enabled) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  Drop-In: /lib/systemd/system/apache2.service.d </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>           &#9492;&#9472;apache2-systemd.conf    Active: active
(running) since Tue 2018-04-23 14:28:43 EDT; 45s ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>     Docs: man:systemd-sysv-generator(8)   Process: 13581
ExecStop=/etc/init.d/apache2 stop (code=exited, status=0/SUCCESS) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  Process: 13605 ExecStart=/etc/init.d/apache2 start
(code=exited, status=0/SUCCESS)     Tasks: 6 (limit: 512) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   CGroup: /system.slice/apache2.service </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;13623 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;13626 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;13627 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           &#9500;&#9472;13628 /usr/sbin/apache2 -k start </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.25pt;
margin-bottom:25.55pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>           &#9500;&#9472;13629 /usr/sbin/apache2 -k start            &#9492;&#9472;13630
/usr/sbin/apache2 -k start</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Press <span
style='font-family:"Courier New"'>Q</span> to exit this status output.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To enhance the functionality of PHP, you have the option to
install some additional modules. To see the available options for PHP modules
and libraries, pipe the results of <span style='font-family:"Courier New"'>apt
search</span> into <span style='font-family:"Courier New"'>less</span>, a pager
which lets you scroll through the output of other commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>apt search php- |
less</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Use the arrow keys to
scroll up and down, and press <span style='font-family:"Courier New"'>Q</span>
to quit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The results are all optional components that you can
install. It will give you a short description for each:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>bandwidthd-pgsql/bionic
2.0.1+cvs20090917-</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>10ubuntu1 amd64 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>  Tracks usage of
TCP/IP and builds html files with graphs </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'> bluefish/bionic
2.2.10-1 amd64   advanced Gtk+ text editor for web and software development </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'> cacti/bionic
1.1.38+ds1-1 all   web interface for graphing of monitoring systems </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:63.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'> ganglia-webfrontend/bionic
3.6.1-3 all   cluster monitoring toolkit - web front-end </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'> golang-github-unknwon-cae-dev/bionic
0.0~git20160715.0.c6aac99-4 all   PHP-like Compression and Archive Extensions
in </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>Go  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.25in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>haserl/bionic
0.9.35-2 amd64   CGI scripting program for embedded environments
kdevelop-php-docs/bionic 5.2.1-1ubuntu2 all   transitional package for
kdevelop-php </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:26.25pt;margin-bottom:
0in;margin-left:-.25pt;text-indent:-.5pt;line-height:140%'><span
style='font-family:"Courier New"'> kdevelop-php-docs-l10n/bionic 5.2.1-1ubuntu2
all   transitional package for kdevelop-php-l10n … :</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To learn more about what each module does, you could search
the internet for more information about them. Alternatively, look at the long
description of the package by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>apt show </span><b><span
style='font-family:"Courier New";color:#EF2929'>package_name</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>There will be a lot of output, with one field called <span
style='font-family:"Courier New"'>Description </span>which will have a longer
explanation of the functionality that the module provides.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For example, to find out what the <span style='font-family:
"Courier New"'>php-cli</span> module does, you could type this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>apt show php-cli</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Along with a large amount of other information, you’ll find
something that looks like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>… </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Description: command-line interpreter for the PHP scripting
language (default) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'> This package provides the /usr/bin/php command interpreter,
useful for </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'> testing PHP scripts from a shell or performing general shell
scripting tasks. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'> PHP (recursive acronym for PHP: Hypertext Preprocessor) is a
widely-used </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'> open source general-purpose scripting language that is
especially suited  for web development and can be embedded into HTML. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'> This package is a dependency package, which depends on Ubuntu's
default </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'> PHP version (currently 7.2). </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>…</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If, after researching, you decide you would like to install
a package, you can do so by using the <span style='font-family:"Courier New"'>apt
install</span> command like you have been doing for the other software.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you decided that <span style='font-family:"Courier New"'>php-cli</span>
is something that you need, you could type:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
php-cli</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you want to install more than one module, you can do
that by listing each one, separated by a space, following the <span
style='font-family:"Courier New"'>apt install</span> command, like this: <span
style='font-family:"Courier New"'>sudo apt install </span><b><span
style='font-family:"Courier New";color:#EF2929'>package1</span></b><span
style='font-family:"Courier New"'> </span><b><span style='font-family:"Courier New";
color:#EF2929'>package2</span></b><span style='font-family:"Courier New"'> </span><b><span
style='font-family:"Courier New";color:#EF2929'>...</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>At this point, your LAMP stack is installed and configured.
Before you do anything else, we recommend that you set up an Apache virtual
host where you can store your server’s configuration details.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Setting Up Virtual Hosts (Recommended)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When using the Apache web server, you can
use virtual hosts (similar to server blocks in Nginx) to encapsulate
configuration details and host more than one domain from a single server. We
will set up a domain called your_domain, but you should replace this with your
own domain name. To learn more about setting up a domain name with
DigitalOcean, see our <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>Introduction to Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>italOcean DNS</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Apache on Ubuntu 18.04 has one server block enabled by
default that is configured to serve documents from the <span style='font-family:
"Courier New"'>/var/www/html</span> directory. While this works well for a
single site, it can become unwieldy if you are hosting multiple sites. Instead
of modifying <span style='font-family:"Courier New"'>/var/www/html</span>,
let’s create a directory structure within <span style='font-family:"Courier New"'>/var/www</span>
for our your_domain site, leaving <span style='font-family:"Courier New"'>/var/www/html</span>
in place as the default directory to be served if a client request doesn’t
match any other sites.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Create the directory for
your_domain as follows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mkdir /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, assign ownership of the directory with the <span
style='font-family:"Courier New"'>$USER</span> environment variable:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo chown -R
$USER:$USER /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The permissions of your web roots should be correct if you
haven’t modified your <span style='font-family:"Courier New"'>unmask</span>
value, but you can make sure by typing: <span style='font-family:"Courier New"'>sudo
chmod -R 755 /var/www/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, create a sample <span style='font-family:"Courier New"'>index.html</span>
page using <span style='font-family:"Courier New"'>nano</span> or your favorite
editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>nano /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>/index.html</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>Inside, add the following sample HTML:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/var/www/your_domain/index.html</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;html&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;title&gt;Welcome to </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>Your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>!&lt;/title&gt;
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/head&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        &lt;h1&gt;Success!  The </span><b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> server
block is working!&lt;/h1&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    &lt;/body&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/html&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In order for Apache to serve this content, it’s necessary
to create a virtual host file with the correct directives. Instead of modifying
the default configuration file located at <span style='font-family:"Courier New"'>/etc/apache2/sitesavailable/000-default.conf</span>
directly, let’s make a new one at <span style='font-family:"Courier New"'>/etc/apache2/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>.conf</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.75pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo nano
/etc/apache2/sitesavailable/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b><span style='font-family:"Courier New"'>.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.5pt;
margin-left:-.75pt'>Paste in the following configuration block, which is
similar to the default, but updated for our new directory and domain name:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/apache2/sites-available/your_domain.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;VirtualHost *:80&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerAdmin webmaster@localhost </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerName </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    ServerAlias </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>www.your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    DocumentRoot /var/www/</span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:114.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>    ErrorLog ${APACHE_LOG_DIR}/error.log     CustomLog
${APACHE_LOG_DIR}/access.log combined </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/VirtualHost&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Notice that we’ve updated the <span style='font-family:
"Courier New"'>DocumentRoot</span> to our new directory and <span
style='font-family:"Courier New"'>ServerAdmin</span> to an email that the
your_domain site administrator can access. We’ve also added two directives: <span
style='font-family:"Courier New"'>ServerName</span>, which establishes the base
domain that should match for this virtual host definition, and <span
style='font-family:"Courier New"'>ServerAlias</span>, which defines further
names that should match as if they were the base name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you are finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.15pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s enable the file with
the <span style='font-family:"Courier New"'>a2ensite</span> tool:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo a2ensite </span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>.conf</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:49.85pt;
margin-bottom:5.45pt;margin-left:-.75pt;text-align:left;text-indent:15.0pt;
line-height:145%'>Disable the default site defined in <span style='font-family:
"Courier New"'>000-default.conf</span>: <span style='font-family:"Courier New"'>sudo
a2dissite 000-default.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:167.6pt;margin-bottom:
.25pt;margin-left:-.75pt'>Next, let’s test for configuration errors: <span
style='font-family:"Courier New"'>sudo apache2ctl configtest</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>You should see the following output:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Syntax OK</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Restart Apache to
implement your changes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.4pt;
margin-left:-.75pt'>Apache should now be serving your domain name. You can test
this by navigating to <span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b>, where
you should see something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=43 id="Picture 8084"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image018.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.9pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Apache
virtual host example</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>With that, you virtual host is fully set up. Before making
any more changes or deploying an application, though, it would be helpful to
proactively test out your PHP configuration in case there are any issues that
should be addressed.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Testing PHP Processing on your Web
Server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In order to test that your system is
configured properly for PHP, create a very basic PHP script called <span
style='font-family:"Courier New"'>info.php</span>. In order for Apache to find
this file and serve it correctly, it must be saved to your web root directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Create the file at the web root you created in the previous
step by running:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.5pt;
margin-left:-.75pt'>This will open a blank file. Add the following text, which
is valid PHP code, inside the file:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.4pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>info.php</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:351.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&lt;?php phpinfo(); </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>?&gt;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>When you are finished,
save and close the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now you can test whether your web server is able to
correctly display content generated by this PHP script. To try this out, visit
this page in your web browser. You’ll need your server’s public IP address
again.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The address you will want to visit is: <span
style='font-family:"Courier New"'>http://</span><b><span style='font-family:
"Courier New";color:#EF2929'>your_domain</span></b><span style='font-family:
"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>The page that you come to
should look something like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=786 id="Picture 8150"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image019.jpg"></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:154.4pt;
text-indent:0in'><span style='font-size:11.0pt;line-height:107%;font-family:
"Times New Roman",serif'>Ubuntu 18.04 default PHP info</span></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This page provides some basic information about your server
from the perspective of PHP. It is useful for debugging and to ensure that your
settings are being applied correctly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you can see this page in your browser, then your PHP is
working as expected.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You probably want to remove this file after this test
because it could actually give information about your server to unauthorized
users. To do this, run the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo rm /var/www/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You can always recreate this page if you need to access the
information again later.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have a LAMP stack installed,
you have many choices for what to do next. Basically, you’ve installed a
platform that will allow you to install most kinds of websites and web software
on your server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As an immediate next step, you should ensure that
connections to your web server are secured, by serving them via HTTPS. The
easiest option here is to <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>use Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>pt</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>to secure your site with a
free TLS/SSL certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Some other popular options
are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 144499"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><u><span
style='color:#3445FF'> </span></u><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lamp-on-ubuntu-16-04"><span
style='color:#3445FF'>Install Word</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lamp-on-ubuntu-16-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lamp-on-ubuntu-16-04"><span
style='color:#3445FF'>ress</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-with-lamp-on-ubuntu-16-04"><span
style='color:black;text-decoration:none'> </span></a>the most popular content
management system on the internet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 144500"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><u><span
style='color:#3445FF'> </span></u><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:#3445FF'>Set U</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:#3445FF'> PHPM</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:#3445FF'>Admin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>to help manage your MySQL
databases from web browser.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:28.35pt;
margin-bottom:4.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 144501"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><u><span
style='color:#3445FF'> </span></u><a
href="https://www.digitalocean.com/community/articles/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server"><span
style='color:#3445FF'>Learn how to use SFTP</span></a><a
href="https://www.digitalocean.com/community/articles/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server"><span
style='color:black;text-decoration:none'> </span></a>to transfer files to and
from your server.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>inx</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>SQL</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> PHP</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>LEMP stack</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>)</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Justin
Ellingwood and Mark Drake</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter explains how to set up a Linux, Nginx, MySQL,
and PHP server, commonly referred to as the LEMP stack. In this guide you will
learn how to install all the required LEMP packages, create an Nginx
configuration, secure MySQL, set up the UFW firewall to allow traffic to the
server, and finally add a test PHP script to demonstrate that all the
components of the LEMP stack are working correctly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 145483"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The LEMP software stack is a group of software that can be
used to serve dynamic web pages and web applications. This is an acronym that
describes a Linux operating system, with an Nginx (pronounced like “Engine-X”)
web server. The backend data is stored in the MySQL database and the dynamic
processing is handled by PHP.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>This guide demonstrates how to install a LEMP stack on an
Ubuntu 18.04 server. The Ubuntu operating system takes care of the first
requirement. We will describe how to get the rest of the components up and
running.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Before you complete this tutorial, you
should have a regular, non-root user account on your server with <span
style='font-family:"Courier New"'>sudo</span> privileges. Set up this account
by completing our <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide for Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once you have your user available, you are ready to begin
the steps outlined in this guide.</p>

<h2 style='margin-left:-.25pt'>Step 1 – Installing the Nginx Web Server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In order to display web pages to our site
visitors, we are going to employ Nginx, a modern, efficient web server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>All of the software used in this procedure will come from
Ubuntu’s default package repositories. This means we can use the <span
style='font-family:"Courier New"'>apt</span> package management suite to
complete the necessary installations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since this is our first time using <span style='font-family:
"Courier New"'>apt</span> for this session, start off by updating your server’s
package index. Following that, install the server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:261.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt update sudo
apt install nginx</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>On Ubuntu 18.04, Nginx is configured to start running upon
installation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you have the <span style='font-family:"Courier New"'>ufw</span>
firewall running, as outlined in the initial setup guide, you will need to
allow connections to Nginx. Nginx registers itself with <span style='font-family:
"Courier New"'>ufw</span> upon installation, so the procedure is rather
straightforward.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It is recommended that you enable the most restrictive
profile that will still allow the traffic you want. Since you haven’t
configured SSL for your server in this guide, you will only need to allow
traffic on port <span style='font-family:"Courier New"'>80</span>. Enable this
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow 'Nginx
HTTP'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can verify the change
by running:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>This command’s output will
show that HTTP traffic is allowed:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP                 ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>With the new firewall rule added, you can test if the
server is up and running by accessing your server’s domain name or public IP
address in your web browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you do not have a domain name pointed at your server and
you do not know your server’s public IP address, you can find it by running the
following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ip addr show eth0 |
grep inet | awk '{ print $2; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>}' | sed 's/\/.*$//'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will print out a few IP addresses. You can try each of
them in turn in your web browser.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As an alternative, you can check which IP address is
accessible, as viewed from other locations on the internet:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>curl -4 icanhazip.com</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Type the address that you receive in your web browser and
it will take you to Nginx’s default landing page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>server_domain_or_IP</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=224 id="Picture 8511"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image020.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.9pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Nginx
default page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If you see the above page,
you have successfully installed Nginx.</p>

<h2 style='margin-left:-.25pt'>Step 2 – Installing MySQL to Manage Site Data</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have a web server, you need to
install MySQL (a database management system) to store and manage the data for
your site. Install MySQL by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
mysql-server</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The MySQL database software is now installed, but its
configuration is not yet complete.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To secure the installation, MySQL comes with a script that
will ask whether we want to modify some insecure defaults. Initiate the script
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo
mysql_secure_installation</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This script will ask if you want to configure the <span
style='font-family:"Courier New"'>VALIDATE PASSWORD PLUGIN</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Warning: Enabling this feature is something of a judgment
call. If enabled, passwords which don’t match the specified criteria will be
rejected by MySQL with an error. This will cause issues if you use a weak
password in conjunction with software which automatically configures</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>MySQL user credentials, such as the Ubuntu
packages for phpMyAdmin. It is safe to leave validation disabled, but you
should always use strong, unique passwords for database credentials.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Answer <span
style='font-family:"Courier New"'>Y</span> for yes, or anything else to
continue without enabling.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>VALIDATE PASSWORD
PLUGIN can be used to test passwords and improve security. It checks the
strength of password and allows the users to set only those passwords which are
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>secure enough. Would
you like to setup VALIDATE </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>PASSWORD plugin? </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Press y|Y for Yes,
any other key for No:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you’ve enabled validation, the script will also ask you
to select a level of password validation. Keep in mind that if you enter 2 –
for the strongest level – you will receive errors when attempting to set any
password which does not contain numbers, upper and lowercase letters, and
special characters, or which is based on common dictionary words.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>There are three
levels of password validation policy: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>LOW    Length &gt;= 8
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>MEDIUM Length &gt;=
8, numeric, mixed case, and special characters </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>STRONG Length &gt;=
8, numeric, mixed case, special characters and dictionary                  file
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Please enter 0 = LOW,
1 = MEDIUM and 2 = STRONG: </span><b><span style='font-family:"Courier New";
color:#EF2929'>1</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Next, you’ll be asked to
submit and confirm a root password:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Please set the
password for root here. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>New password: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Re-enter new
password:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For the rest of the questions, you should press <span
style='font-family:"Courier New"'>Y</span> and hit the <span style='font-family:
"Courier New"'>ENTER</span> key at each prompt. This will remove some anonymous
users and the test database, disable remote root logins, and load these new
rules so that MySQL immediately respects the changes we have made.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that in Ubuntu systems running MySQL 5.7 (and later
versions), the root MySQL user is set to authenticate using the <span
style='font-family:"Courier New"'>auth_socket </span>plugin by default rather
than with a password. This allows for some greater security and usability in
many cases, but it can also complicate things when you need to allow an
external program (e.g., phpMyAdmin) to access the user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If using the <span style='font-family:"Courier New"'>auth_socket</span>
plugin to access MySQL fits with your workflow, you can proceed to Step 3. If,
however, you prefer to use a password when connecting to MySQL as root, you
will need to switch its authentication method from <span style='font-family:
"Courier New"'>auth_socket</span> to <span style='font-family:"Courier New"'>mysql_native_password</span>.
To do this, open up the MySQL prompt from your terminal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mysql</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, check which authentication method each of your MySQL
user accounts use with the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:23.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>SELECT
user,authentication_string,plugin,host FROM mysql.user;</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--------------------+-----------+ | user             |
authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:6.75pt;margin-bottom:
.1pt;margin-left:-.25pt;text-indent:-.5pt;line-height:189%'><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>--------------------+-----------+
| root             |                                           |
auth_socket           | localhost | | mysql.session    |
*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |
mysql_native_password | localhost | | debian-sys-maint |
*CC744277A401A7D25BE1CA89AFF17BF607F876FF | mysql_native_password | localhost |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--------------------+-----------+ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>4 rows in set (0.00 sec)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this example, you can see that the root user does in
fact authenticate using the <span style='font-family:"Courier New"'>auth_socket</span>
plugin. To configure the root account to authenticate with a password, run the
following <span style='font-family:"Courier New"'>ALTER USER</span> command. Be
sure to change <b><span style='font-family:"Courier New";color:#EF2929'>password</span></b>
to a strong password of your choosing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:1.05pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>ALTER USER
'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '</span><b><span
style='font-family:"Courier New";color:#EF2929'>password</span></b><span
style='font-family:"Courier New"'>';</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Then, run <span style='font-family:"Courier New"'>FLUSH
PRIVILEGES</span> which tells the server to reload the grant tables and put
your new changes into effect:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>FLUSH PRIVILEGES;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Check the authentication methods employed by each of your
users again to confirm that root no longer authenticates using the <span
style='font-family:"Courier New"'>auth_socket </span>plugin:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>SELECT
user,authentication_string,plugin,host FROM mysql.user;</span><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--------------------+-----------+ | user             |
authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:188%'><span style='font-size:11.0pt;line-height:188%;font-family:
"Courier New"'>--------------------+-----------+ | root             |
*3636DACC8616D997782ADD0839F92C1571D6D78F | </span><b><span style='font-size:
11.0pt;line-height:188%;font-family:"Courier New";color:#EF2929'>mysql_native_password</span></b><span
style='font-size:11.0pt;line-height:188%;font-family:"Courier New"'> |
localhost | | mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |
mysql_native_password | localhost | | mysql.sys        |
*THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | *CC744277A401A7D25BE1CA89AFF17BF607F876FF |
mysql_native_password | localhost |
+------------------+-------------------------------------------+---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--------------------+-----------+ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>4 rows in set (0.00 sec)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can see in this example output that the root MySQL user
now authenticates using a password. Once you confirm this on your own server,
you can exit the MySQL shell:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>exit</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.45pt;
margin-left:-.75pt'>Note: After configuring your root MySQL user to
authenticate with a password, you’ll no longer be able to access MySQL with the
<span style='font-family:"Courier New"'>sudo mysql</span> command used
previously. Instead, you must run the following: <span style='font-family:"Courier New"'>mysql
-u root -p</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After entering the password you just set, you will see the
MySQL prompt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>At this point, your database system is now set up and you
can move on to installing PHP.</p>

<h2 style='margin-left:-.25pt'>Step 3 – Installing PHP and Configuring Nginx to
Use the PHP Processor</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You now have Nginx installed to serve your
pages and MySQL installed to store and manage your data. However, you still
don’t have anything that can generate dynamic content. This is where PHP comes
into play.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since Nginx does not contain native PHP processing like
some other web servers, you will need to install <span style='font-family:"Courier New"'>php-fpm</span>,
which stands for “fastCGI process manager”. We will tell Nginx to pass PHP
requests to this software for processing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: Depending on your cloud provider, you may need to add
Ubuntu’s <span style='font-family:"Courier New"'>universe</span> repository,
which includes free and open-source software maintained by the Ubuntu
community, before installing the <span style='font-family:"Courier New"'>php-fpm
</span>package. You can do this by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo
add-apt-repository universe</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Install the <span style='font-family:"Courier New"'>php-fpm</span>
module along with an additional helper package, <span style='font-family:"Courier New"'>php-mysql</span>,
which will allow PHP to communicate with your database backend. The
installation will pull in the necessary PHP core files. Do this by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
php-fpm php-mysql</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You now have all of the required LEMP stack components
installed, but you still need to make a few configuration changes in order to
tell Nginx to use the PHP processor for dynamic content.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This is done on the server block level (server blocks are
similar to Apache’s virtual hosts). To do this, open a new server block
configuration file within the <span style='font-family:"Courier New"'>/etc/nginx/sites-available/</span>
directory. In this example, the new server block configuration file is named <span
style='font-family:"Courier New"'>example.com</span>, although you can name
yours whatever you’d like:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>By editing a new server block configuration file, rather
than editing the default one, you’ll be able to easily restore the default
configuration if you ever need to.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Add the following content, which was taken and slightly
modified from the default server block configuration file, to your new server
block configuration file:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:276.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>server {         listen 80;         root /var/www/html; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        index index.php index.html index.htm
index.nginxdebian.html; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        server_name </span><b><span style='font-size:11.0pt;
line-height:110%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        location / { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>                try_files $uri $uri/ =404; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:391.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        }  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        location ~ \.php$ { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>                include snippets/fastcgi-php.conf;                 fastcgi_pass
unix:/var/run/php/php7.2-fpm.sock; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:391.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        }  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:249.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        location ~ /\.ht {                 deny all; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        } </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>}</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Here’s what each of these
directives and location blocks do:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 145955"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> listen</span> — Defines what port Nginx will
listen on. In this case, it will listen on port <span style='font-family:"Courier New"'>80</span>,
the default port for HTTP.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 146551"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> root</span> — Defines the document root
where the files served by the website are stored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=6 height=6
id="Group 146552"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> index</span> — Configures Nginx to
prioritize serving files named <span style='font-family:"Courier New"'>index.php</span>
when an index file is requested, if they’re available. <span style='font-size:
11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img border=0
width=6 height=6 id="Group 146553"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> server_name</span> — Defines which server
block should be used for a given request to your server. Point this directive
to your server’s domain name or public IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 146554"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> location /</span> — The first location block
includes a <span style='font-family:"Courier New"'>try_files </span>directive,
which checks for the existence of files matching a URI request. If Nginx cannot
find the appropriate file, it will return a 404 error.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 146555"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> location ~ \.php$</span> — This location
block handles the actual PHP processing by pointing Nginx to the <span
style='font-family:"Courier New"'>fastcgi-php.conf </span>configuration file
and the <span style='font-family:"Courier New"'>php7.2-fpm.sock</span> file,
which declares what socket is associated with <span style='font-family:"Courier New"'>php-fpm</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.1pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 146556"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> location ~ /\.ht</span> — The last location
block deals with <span style='font-family:"Courier New"'>.htaccess</span>
files, which Nginx does not process. By adding the <span style='font-family:
"Courier New"'>deny all</span> directive, if any <span style='font-family:"Courier New"'>.htaccess</span>
files happen to find their way into the document root they will not be served
to visitors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After adding this content, save and close the file. Enable
your new server block by creating a symbolic link from your new server block
configuration file (in the <span style='font-family:"Courier New"'>/etc/nginx/sites-available/
</span>directory) to the <span style='font-family:"Courier New"'>/etc/nginx/sites-enabled/</span>
directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ln -s
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/etc/nginx/sites-enabled/</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Then, unlink the default configuration file from the <span
style='font-family:"Courier New"'>/sitesenabled/</span> directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo unlink
/etc/nginx/sites-enabled/default</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: If you ever need to restore the default
configuration, you can do so by recreating the symbolic link, like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo ln -s
/etc/nginx/sites-available/default /etc/nginx/sites-enabled/</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Test your new
configuration file for syntax errors by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nginx -t</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If any errors are reported, go back and recheck your file
before continuing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>When you are ready, reload
Nginx to make the necessary changes:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl reload
nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This concludes the installation and configuration of your
LEMP stack. However, it’s prudent to confirm that all of the components can
communicate with one another.</p>

<h2 style='margin-left:-.25pt'>Step 4 – Creating a PHP File to Test
Configuration</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Your LEMP stack should now be completely
set up. You can test it to validate that Nginx can correctly hand <span
style='font-family:"Courier New"'>.php</span> files off to the PHP processor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To do this, use your text editor to create a test PHP file
called <span style='font-family:"Courier New"'>info.php</span> in your document
root:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/var/www/html/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Enter the following lines into the new file. This is valid
PHP code that will return information about your server:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.4pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/var/www/html/info.php</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:351.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&lt;?php phpinfo();</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>When you are finished,
save and close the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now, you can visit this page in your web browser by
visiting your server’s domain name or public IP address followed by <span
style='font-family:"Courier New"'>/info.php</span>: <span style='font-family:
"Courier New"'>http://</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_server_domain_or_IP</span></b><span style='font-family:
"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You should see a web page that has been generated by PHP
with information about your server:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=499 id="Picture 9291"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image021.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>PHP page
info</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you see a page that looks like this, you’ve set up PHP
processing with Nginx successfully.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After verifying that Nginx renders the page correctly, it’s
best to remove the file you created as it can actually give unauthorized users
some hints about your configuration that may help them try to break in. You can
always regenerate this file if you need it later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>For now, remove the file
by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo rm
/var/www/html/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>With that, you now have a fully-configured and functioning
LEMP stack on your Ubuntu 18.04 server.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>A LEMP stack is a powerful platform that
will allow you to set up and serve nearly any website or application from your
server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>There are a number of next steps you could take from here.
For example, you should ensure that connections to your server are secured. To
this end, you could <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>secure </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>our N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>inx installation with Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>pt</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a> By following this guide,
you will acquire a free TLS/SSL certificate for your server, allowing it to
serve content over HTTPS.<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Secure Apache with Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>pt on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Kathleen Juell
and Erika Heidi</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to secure Apache using
TLS/SSL certificates that are issued by <a href="https://letsencrypt.org/"><span
style='color:#3445FF'>Let’s Encr</span></a><a href="https://letsencrypt.org/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://letsencrypt.org/"><span style='color:#3445FF'>pt</span></a><a
href="https://letsencrypt.org/"><span style='color:black;text-decoration:none'>
</span></a>and managed with <a href="https://certbot.eff.org/"><span
style='color:#3445FF'>Certbot</span></a><a href="https://certbot.eff.org/"><span
style='color:black;text-decoration:none'>.</span></a> By the end of this
chapter you will have an Apache web server set up with a <span
style='font-family:"Courier New"'>VirtualHost</span> for a custom domain that
is secured using TLS/SSL encryption. You will also configure the certificate to
renew automatically every ninety days using Certbot.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 146829"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s Encrypt is a Certificate Authority (CA) that provides
an easy way to obtain and install free <a
href="https://www.digitalocean.com/community/tutorials/openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs"><span
style='color:#3445FF'>TLS/SSL certificates</span></a><a
href="https://www.digitalocean.com/community/tutorials/openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs"><span
style='color:black;text-decoration:none'>,</span></a> thereby enabling
encrypted HTTPS on web servers. It simplifies the process by providing a
software client, Certbot, that attempts to automate most (if not all) of the
required steps. Currently, the entire process of obtaining and installing a
certificate is fully automated on both Apache and Nginx.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this tutorial, you will use Certbot to obtain a free SSL
certificate for Apache on Ubuntu 18.04 and set up your certificate to renew
automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>This tutorial will use a separate Apache virtual host file
instead of the default configuration file. <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF'>We recommend</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:black;text-decoration:none'> </span></a>creating new Apache
virtual host files for each domain because it helps to avoid common mistakes
and maintains the default files as a fallback configuration.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To follow this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147067"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>One Ubuntu 18.04 server set up by
following this </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setup for Ubuntu </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>tutorial, including a sudo non-root
user and a </span></a>firewall.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147068"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> A
fully registered domain name. This tutorial will use your_domain as an example
throughout. You can purchase a domain name on <a href="https://namecheap.com/"><span
style='color:#3445FF'>Namecheap</span></a><a href="https://namecheap.com/"><span
style='color:black;text-decoration:none'>,</span></a> get one for free on <a
href="http://www.freenom.com/en/index.html"><span style='color:#3445FF'>Freenom</span></a><a
href="http://www.freenom.com/en/index.html"><span style='color:black;
text-decoration:none'>,</span></a> or use the domain registrar of your choice.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.45pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147069"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> Both
of the following DNS records set up for your server. You can follow <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>this introduction to Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>italOcean DNS</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:black;text-decoration:none'> </span></a>for details on how to add
them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:60.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=7
height=7 id="Group 147070"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image022.gif"></span> An
A record with <b><span style='font-family:"Courier New";color:#EF2929'>your_domain</span></b>
pointing to your server’s public IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.05pt;
margin-left:60.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=7
height=7 id="Group 147071"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image022.gif"></span> An
A record with <span style='font-family:"Courier New"'>www.</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b> pointing
to your server’s public IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:19.0pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147072"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>Apache installed by following </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>ache on Ubuntu </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. Be sure that you have a </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-recommended"><span
style='color:#3445FF'>virtual host file</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-recommended"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>for your domain. This </span></a>tutorial
will use <span style='font-family:"Courier New"'>/etc/apache2/sitesavailable/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'>.conf</span> as an example.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Installing Certbot</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The first step to using Let’s Encrypt to
obtain an SSL certificate is to install the Certbot software on your server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Certbot is in very active development, so the Certbot
packages provided by Ubuntu tend to be outdated. However, the Certbot
developers maintain a Ubuntu software repository with up-to-date versions, so
we’ll use that repository instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>First, add the repository:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo
add-apt-repository ppa:certbot/certbot</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You’ll need to press <span
style='font-family:"Courier New"'>ENTER</span> to accept.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Install Certbot’s Apache
package with <span style='font-family:"Courier New"'>apt</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
python-certbot-apache</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Certbot is now ready to use, but in order for it to
configure SSL for Apache, we need to verify some of Apache’s configuration.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Set Up the SSL Certificate</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Certbot needs to be able to find the
correct virtual host in your Apache configuration for it to automatically
configure SSL. Specifically, it does this by looking for a <span
style='font-family:"Courier New"'>ServerName</span> directive that matches the
domain you request a certificate for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:black;text-decoration:none'>If you followed the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF'>virtual host set u</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF'> ste</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF'> in the A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:#3445FF'>ache installation tutorial</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:black;text-decoration:none'>, </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04#step-5-%E2%80%94-setting-up-virtual-hosts-(recommended)"><span
style='color:black;text-decoration:none'>you should have a VirtualHost block
for your domain at</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'><span style='font-family:"Courier New"'>/etc/apache2/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain.com</span></b><span
style='font-family:"Courier New"'>.conf </span>with the <span style='font-family:
"Courier New"'>ServerName</span> directive already set appropriately.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To check, open the virtual host file for your domain using <span
style='font-family:"Courier New"'>nano</span> or your favorite text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo nano
/etc/apache2/sitesavailable/</span><b><span style='font-family:"Courier New";
color:#EF2929'>your_domain</span></b><span style='font-family:"Courier New"'>.conf</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Find the existing <span
style='font-family:"Courier New"'>ServerName</span> line. It should look like
this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:20.15pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/apache2/sites-available/your_domain.conf</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>...</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:283.5pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>ServerName</span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#4070A0'> </span><b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#4070A0'>;
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If it does, exit your
editor and move on to the next step.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If it doesn’t, update it to match. Then save the file, quit
your editor, and verify the syntax of your configuration edits:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apache2ctl
configtest</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you get an error, reopen the virtual host file and check
for any typos or missing characters. Once your configuration file’s syntax is
correct, reload Apache to load the new configuration: <span style='font-family:
"Courier New"'>sudo systemctl reload apache2</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:15.0pt;margin-bottom:
.25in;margin-left:15.0pt;text-indent:0in'>Certbot can now find the correct
VirtualHost block and update it. Next, let’s update the firewall to allow HTTPS
traffic.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Allowing HTTPS Through the Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you have the <span style='font-family:
"Courier New"'>ufw</span> firewall enabled, as recommended by the prerequisite
guides, you’ll need to adjust the settings to allow for HTTPS traffic.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Luckily, Apache registers
a few profiles with <span style='font-family:"Courier New"'>ufw</span> upon
installation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can see the current
setting by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It will probably look like this, meaning that only HTTP
traffic is allowed to the web server:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache                     ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache (v6)                ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To additionally let in HTTPS traffic, allow the Apache Full
profile and delete the redundant Apache profile allowance:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo ufw allow
'Apache Full' sudo ufw delete allow 'Apache'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.1pt;margin-bottom:
22.95pt;margin-left:-.75pt'>Your status should now look like this: <span
style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache Full                ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Apache Full (v6)           ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Next, let’s run Certbot
and fetch our certificates.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Obtaining an SSL Certificate</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Certbot provides a variety of ways to
obtain SSL certificates through plugins. The Apache plugin will take care of
reconfiguring Apache and reloading the config whenever necessary. To use this
plugin, type the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>sudo certbot --apache
-d </span><b><span style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New"'> -d www</span><b><span style='font-family:
"Courier New";color:#EF2929'>.your_domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This runs <span style='font-family:"Courier New"'>certbot</span>
with the <span style='font-family:"Courier New"'>--apache</span> plugin, using <span
style='font-family:"Courier New"'>-d</span> to specify the names you’d like the
certificate to be valid for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If this is your first time running <span style='font-family:
"Courier New"'>certbot</span>, you will be prompted to enter an email address
and agree to the terms of service. After doing so, <span style='font-family:
"Courier New"'>certbot</span> will communicate with the Let’s Encrypt server,
then run a challenge to verify that you control the domain you’re requesting a
certificate for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If that’s successful, <span style='font-family:"Courier New"'>certbot</span>
will ask how you’d like to configure your HTTPS settings:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Please choose whether or not to redirect HTTP traffic to HTTPS,
removing HTTP access. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-------------------------------------------------------------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>------------ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>1: No redirect - Make no further changes to the webserver
configuration. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>2: Redirect - Make all requests redirect to secure HTTPS access.
Choose this for </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>new sites, or if you're confident your site works on HTTPS. You
can undo this change by editing your web server's configuration.
-------------------------------------------------------------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>------------ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.6pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Select the appropriate number [1-2] then [enter] (press 'c' to
cancel):</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Select your choice then hit <span style='font-family:"Courier New"'>ENTER</span>.
The configuration will be updated, and Apache will reload to pick up the new
settings. <span style='font-family:"Courier New"'>certbot</span> will wrap up
with a message telling you the process was successful and where your
certificates are stored:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:152.0pt;
margin-bottom:.75pt;margin-left:-.75pt;text-align:left;text-indent:211.75pt;
line-height:182%'><b><span style='font-size:11.0pt;line-height:182%'>Output </span></b><span
style='font-size:11.0pt;line-height:182%;font-family:"Courier New"'>IMPORTANT
NOTES: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'> - Congratulations! Your certificate and chain have been saved
at:    /etc/letsencrypt/live/</span><b><span style='font-size:11.0pt;
line-height:190%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New"'>/fullchain.pem   
Your key file has been saved at: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>   /etc/letsencrypt/live/</span><b><span style='font-size:11.0pt;
line-height:190%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New"'>/privkey.pem
   Your cert will expire on 2018-07-23. To obtain a new or tweaked    version
of this certificate in the future, simply run certbot again </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   with the &quot;certonly&quot; option. To non-interactively
renew *all* of    your certificates, run &quot;certbot renew&quot;  - Your
account credentials have been saved in your Certbot    configuration directory
at /etc/letsencrypt. You should make a    secure backup of this folder now.
This configuration directory will </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.5pt;margin-bottom:
.1pt;margin-left:-.25pt;text-indent:-.5pt;line-height:189%'><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>   also
contain certificates and private keys obtained by Certbot so    making regular
backups of this folder is ideal.  - If you like Certbot, please consider
supporting our work by: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   Donating to ISRG / Let's Encrypt:   </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>https://letsencrypt.org/donate    Donating to
EFF:                    https://eff.org/donate-le </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Your certificates are downloaded, installed, and loaded.
Try reloading your website using <span style='font-family:"Courier New"'>https://</span>
and notice your browser’s security indicator. It should indicate that the site
is properly secured, usually with a green lock icon. If you test your server
using the <a href="https://www.ssllabs.com/ssltest/"><span style='color:#3445FF'>SSL
Labs Server Test</span></a><a href="https://www.ssllabs.com/ssltest/"><span
style='color:black;text-decoration:none'>,</span></a> it will get an A grade.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s finish by testing
the renewal process.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Verifying Certbot Auto-Renewal</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Let’s Encrypt’s certificates are only valid
for ninety days. This is to encourage users to automate their certificate
renewal process. The <span style='font-family:"Courier New"'>certbot</span>
package we installed takes care of this for us by adding a renew script to <span
style='font-family:"Courier New"'>/etc/cron.d</span>. This script runs twice a
day and will automatically renew any certificate that’s within thirty days of
expiration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.3pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To test the renewal
process, you can do a dry run with <span style='font-family:"Courier New"'>certbot</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo certbot renew
--dry-run</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>If you see no errors, you’re all set. When necessary,
Certbot will renew your certificates and reload Apache to pick up the changes.
If the automated renewal process ever fails, Let’s Encrypt will send a message
to the email you specified, warning you when your certificate is about to
expire.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;margin-left:
-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this tutorial, you installed the Let’s
Encrypt client <span style='font-family:"Courier New"'>certbot</span>,
downloaded SSL certificates for your domain, configured Apache to use these
certificates, and set up automatic certificate renewal. If you have further
questions about using Certbot, <a href="https://certbot.eff.org/docs/"><span
style='color:#3445FF'>their documentation</span></a><a
href="https://certbot.eff.org/docs/"><span style='color:black;text-decoration:
none'> </span></a>is a good place to start.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Secure N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>inx with Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>pt on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Hazel Virdó and
Kathleen Juell</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to secure Nginx using
TLS/SSL certificates that are issued by <a href="https://letsencrypt.org/"><span
style='color:#3445FF'>Let’s Encr</span></a><a href="https://letsencrypt.org/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://letsencrypt.org/"><span style='color:#3445FF'>pt</span></a><a
href="https://letsencrypt.org/"><span style='color:black;text-decoration:none'>
</span></a>and managed with <a href="https://certbot.eff.org/"><span
style='color:#3445FF'>Certbot</span></a><a href="https://certbot.eff.org/"><span
style='color:black;text-decoration:none'>.</span></a> By the end of this
chapter you will have an Nginx web server set up with a server block for a
custom domain that is secured using TLS/SSL encryption. You will also configure
the certificate to renew automatically every ninety days using Certbot.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 147994"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>A previous version of this
tutorial was written by <a
href="https://www.digitalocean.com/community/users/hazelnut"><span
style='color:#3445FF'>Hazel Virdó</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s Encrypt is a Certificate Authority (CA) that provides
an easy way to obtain and install free <a
href="https://www.digitalocean.com/community/tutorials/openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs"><span
style='color:#3445FF'>TLS/SSL certificates</span></a><a
href="https://www.digitalocean.com/community/tutorials/openssl-essentials-working-with-ssl-certificates-private-keys-and-csrs"><span
style='color:black;text-decoration:none'>,</span></a> thereby enabling
encrypted HTTPS on web servers. It simplifies the process by providing a
software client, Certbot, that attempts to automate most (if not all) of the
required steps. Currently, the entire process of obtaining and installing a
certificate is fully automated on both Apache and Nginx.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this tutorial, you will use Certbot to obtain a free SSL
certificate for Nginx on Ubuntu 18.04 and set up your certificate to renew
automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>This tutorial will use a separate Nginx server block file
instead of the default file. <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'>We recommend</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:black;text-decoration:none'> </span></a>creating new Nginx server
block files for each domain because it helps to avoid common mistakes and
maintains the default files as a fallback configuration.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To follow this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147959"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>One Ubuntu 18.04 server set up by
following this </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>initial server setup for Ubuntu </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>tutorial, including a sudo non-root
user and a </span></a>firewall.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147960"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> A
fully registered domain name. This tutorial will use example.com throughout.
You can purchase a domain name on <a href="https://namecheap.com/"><span
style='color:#3445FF'>Namecheap</span></a><a href="https://namecheap.com/"><span
style='color:black;text-decoration:none'>,</span></a> get one for free on <a
href="http://www.freenom.com/en/index.html"><span style='color:#3445FF'>Freenom</span></a><a
href="http://www.freenom.com/en/index.html"><span style='color:black;
text-decoration:none'>,</span></a> or use the domain registrar of your choice.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.45pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147961"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> Both
of the following DNS records set up for your server. You can follow <a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>this introduction to Di</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:#3445FF'>italOcean DNS</span></a><a
href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-dns"><span
style='color:black;text-decoration:none'> </span></a>for details on how to add
them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:60.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=7
height=7 id="Group 147962"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image022.gif"></span> An
A record with <b><span style='font-family:"Courier New";color:#EF2929'>example.com</span></b>
pointing to your server’s public IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.05pt;
margin-left:60.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=7
height=7 id="Group 147963"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image022.gif"></span> An
A record with <span style='font-family:"Courier New"'>www.</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b> pointing
to your server’s public IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 147964"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> Nginx
installed by following <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF'>inx on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. </span></a>Be sure that you have a <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'>server block</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:black;text-decoration:none'> </span></a>for your domain. This
tutorial will use <span style='font-family:"Courier New"'>/etc/nginx/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b> as an
example.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Installing Certbot</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The first step to using Let’s Encrypt to
obtain an SSL certificate is to install the Certbot software on your server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Certbot is in very active development, so the Certbot
packages provided by Ubuntu tend to be outdated. However, the Certbot
developers maintain a Ubuntu software repository with up-to-date versions, so
we’ll use that repository instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>First, add the repository:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo
add-apt-repository ppa:certbot/certbot</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You’ll need to press <span
style='font-family:"Courier New"'>ENTER</span> to accept.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Install Certbot’s Nginx
package with <span style='font-family:"Courier New"'>apt</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
python-certbot-nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Certbot is now ready to use, but in order for it to
configure SSL for Nginx, we need to verify some of Nginx’s configuration.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Confirming Nginx’s Configuration</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Certbot needs to be able to find the
correct <span style='font-family:"Courier New"'>server</span> block in your
Nginx configuration for it to be able to automatically configure SSL.
Specifically, it does this by looking for a <span style='font-family:"Courier New"'>server_name</span>
directive that matches the domain you request a certificate for.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:black;text-decoration:none'>If you followed the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'>server block set u</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'> ste</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'> in the N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:#3445FF'>inx installation tutorial</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:black;text-decoration:none'>, </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04#step-5-setting-up-server-blocks-(recommended)"><span
style='color:black;text-decoration:none'>you should have a server block for
your domain at </span></a><span style='font-family:"Courier New"'>/etc/nginx/sites-available/</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b>       with
 the <span style='font-family:"Courier New"'>server_name</span> directive
already set appropriately.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To check, open the server block file for your domain using <span
style='font-family:"Courier New"'>nano</span> or your favorite text editor:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Find the existing <span
style='font-family:"Courier New"'>server_name</span> line. It should look like
this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>... </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:24.9pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>server_name </span><b><span style='font-size:11.0pt;line-height:
192%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'> www.</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>; ...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If it does, exit your
editor and move on to the next step.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If it doesn’t, update it to match. Then save the file, quit
your editor, and verify the syntax of your configuration edits:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nginx -t</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you get an error, reopen the server block file and check
for any typos or missing characters. Once your configuration file’s syntax is
correct, reload Nginx to load the new configuration: <span style='font-family:
"Courier New"'>sudo systemctl reload nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:32.25pt;margin-bottom:
17.85pt;margin-left:15.0pt;text-indent:0in'>Certbot can now find the correct <span
style='font-family:"Courier New"'>server</span> block and update it. Next,
let’s update the firewall to allow HTTPS traffic.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Allowing HTTPS Through the Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you have the <span style='font-family:
"Courier New"'>ufw</span> firewall enabled, as recommended by the prerequisite
guides, you’ll need to adjust the settings to allow for HTTPS traffic.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Luckily, Nginx registers a
few profiles with <span style='font-family:"Courier New"'>ufw</span> upon
installation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can see the current
setting by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>It will probably look like this, meaning that only HTTP
traffic is allowed to the web server:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP                 ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To additionally let in HTTPS traffic, allow the Nginx Full
profile and delete the redundant Nginx HTTP profile allowance:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:153.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo ufw allow 'Nginx
Full' sudo ufw delete allow 'Nginx HTTP'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:178.1pt;margin-bottom:
22.95pt;margin-left:-.75pt'>Your status should now look like this: <span
style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx Full                 ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Nginx Full (v6)            ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Next, let’s run Certbot
and fetch our certificates.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Obtaining an SSL Certificate</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Certbot provides a variety of ways to
obtain SSL certificates through plugins. The Nginx plugin will take care of
reconfiguring Nginx and reloading the config whenever necessary. To use this
plugin, type the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.3pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>sudo certbot --nginx
-d </span><b><span style='font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-family:"Courier New"'> -d </span><b><span style='font-family:"Courier New";
color:#EF2929'>www.example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This runs <span style='font-family:"Courier New"'>certbot</span>
with the <span style='font-family:"Courier New"'>--nginx</span> plugin, using <span
style='font-family:"Courier New"'>-d</span> to specify the names we’d like the
certificate to be valid for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If this is your first time running <span style='font-family:
"Courier New"'>certbot</span>, you will be prompted to enter an email address
and agree to the terms of service. After doing so, <span style='font-family:
"Courier New"'>certbot</span> will communicate with the Let’s Encrypt server,
then run a challenge to verify that you control the domain you’re requesting a
certificate for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If that’s successful, <span style='font-family:"Courier New"'>certbot</span>
will ask how you’d like to configure your HTTPS settings.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Please choose whether or not to redirect HTTP traffic to HTTPS,
removing HTTP access. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-------------------------------------------------------------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>------------ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>1: No redirect - Make no further changes to the webserver
configuration. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>2: Redirect - Make all requests redirect to secure HTTPS access.
Choose this for </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>new sites, or if you're confident your site works on HTTPS. You
can undo this change by editing your web server's configuration.
-------------------------------------------------------------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>------------ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.6pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Select the appropriate number [1-2] then [enter] (press 'c' to
cancel):</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Select your choice then hit <span style='font-family:"Courier New"'>ENTER</span>.
The configuration will be updated, and Nginx will reload to pick up the new
settings. <span style='font-family:"Courier New"'>certbot</span> will wrap up
with a message telling you the process was successful and where your
certificates are stored:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:152.0pt;
margin-bottom:.75pt;margin-left:-.75pt;text-align:left;text-indent:211.75pt;
line-height:182%'><b><span style='font-size:11.0pt;line-height:182%'>Output </span></b><span
style='font-size:11.0pt;line-height:182%;font-family:"Courier New"'>IMPORTANT
NOTES: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'> - Congratulations! Your certificate and chain have been saved
at:    /etc/letsencrypt/live/</span><b><span style='font-size:11.0pt;
line-height:190%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New"'>/fullchain.pem   
Your key file has been saved at: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>   /etc/letsencrypt/live/</span><b><span style='font-size:11.0pt;
line-height:190%;font-family:"Courier New";color:#EF2929'>example.com</span></b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New"'>/privkey.pem   
Your cert will expire on 2018-07-23. To obtain a new or tweaked    version of
this certificate in the future, simply run certbot again </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   with the &quot;certonly&quot; option. To non-interactively
renew *all* of    your certificates, run &quot;certbot renew&quot;  - Your
account credentials have been saved in your Certbot    configuration directory
at /etc/letsencrypt. You should make a    secure backup of this folder now.
This configuration directory will </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.5pt;margin-bottom:
.1pt;margin-left:-.25pt;text-indent:-.5pt;line-height:189%'><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>   also
contain certificates and private keys obtained by Certbot so    making regular
backups of this folder is ideal.  - If you like Certbot, please consider
supporting our work by: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   Donating to ISRG / Let's Encrypt:   </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>https://letsencrypt.org/donate    Donating to
EFF:                    https://eff.org/donate-le </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Your certificates are downloaded, installed, and loaded.
Try reloading your website using <span style='font-family:"Courier New"'>https://</span>
and notice your browser’s security indicator. It should indicate that the site
is properly secured, usually with a green lock icon. If you test your server
using the <a href="https://www.ssllabs.com/ssltest/"><span style='color:#3445FF'>SSL
Labs Server Test</span></a><a href="https://www.ssllabs.com/ssltest/"><span
style='color:black;text-decoration:none'>,</span></a> it will get an A grade.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Let’s finish by testing
the renewal process.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Verifying Certbot Auto-Renewal</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Let’s Encrypt’s certificates are only valid
for ninety days. This is to encourage users to automate their certificate
renewal process. The <span style='font-family:"Courier New"'>certbot</span>
package we installed takes care of this for us by adding a renew script to <span
style='font-family:"Courier New"'>/etc/cron.d</span>. This script runs twice a
day and will automatically renew any certificate that’s within thirty days of
expiration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.3pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>To test the renewal
process, you can do a dry run with <span style='font-family:"Courier New"'>certbot</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo certbot renew
--dry-run</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>If you see no errors, you’re all set. When necessary,
Certbot will renew your certificates and reload Nginx to pick up the changes.
If the automated renewal process ever fails, Let’s Encrypt will send a message
to the email you specified, warning you when your certificate is about to
expire.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;margin-left:
-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this tutorial, you installed the Let’s
Encrypt client <span style='font-family:"Courier New"'>certbot</span>,
downloaded SSL certificates for your domain, configured Nginx to use these
certificates, and set up automatic certificate renewal. If you have further
questions about using Certbot, <a href="https://certbot.eff.org/docs/"><span
style='color:#3445FF'>their documentation</span></a><a
href="https://certbot.eff.org/docs/"><span style='color:black;text-decoration:
none'> </span></a>is a good place to start.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Set Up a Firewall with UFW on</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Brian Boucheron</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to set up a firewall
with UFW on Ubuntu 18.04. UFW, or Uncomplicated Firewall, is an interface to <span
style='font-family:"Courier New"'>iptables</span> that removes much of the
complexity of configuring firewall rules by hand.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter explains how to enable UFW and how you can
create, modify and delete firewall rules. It also demonstrates how to use UFW
with IPv6 enabled network interfaces. By the end of this chapter you will have
a set of firewall rules that allows SSH traffic. You will also be able to add
or remove rules for other kinds of traffic to and from servers.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 149277"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>A previous version of this
tutorial was written by <a
href="https://www.digitalocean.com/community/users/hazelnut"><span
style='color:#3445FF'>Hazel Virdó</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>UFW, or Uncomplicated Firewall, is an interface to <span
style='font-family:"Courier New"'>iptables</span> that is geared towards
simplifying the process of configuring a firewall. While <span
style='font-family:"Courier New"'>iptables</span> is a solid and flexible tool,
it can be difficult for beginners to learn how to use it to properly configure
a firewall. If you’re looking to get started securing your network, and you’re
not sure which tool to use, UFW may be the right choice for you.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>This tutorial will show you how to set up a firewall with
UFW on Ubuntu 18.04.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To follow this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 148412"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
Ubuntu 18.04 server with a sudo non-root user, which you can set <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>up by following Steps 1–3 in the </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server Setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> with Ubuntu 18.04 tutorial</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:18.65pt;
margin-left:-.75pt'>UFW is installed by default on Ubuntu. If it has been
uninstalled for some reason, you can install it with <span style='font-family:
"Courier New"'>sudo apt install ufw</span>.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Using IPv6 with UFW (Optional)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>This tutorial is written with IPv4 in mind,
but will work for IPv6 as well as long as you enable it. If your Ubuntu server
has IPv6 enabled, ensure that UFW is configured to support IPv6 so that it will
manage firewall rules for IPv6 in addition to IPv4. To do this, open the UFW
configuration with <span style='font-family:"Courier New"'>nano</span> or your
favorite editor.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/default/ufw</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.3pt;
margin-left:15.0pt;text-indent:0in'>Then make sure the value of <span
style='font-family:"Courier New"'>IPV6</span> is <span style='font-family:"Courier New"'>yes</span>.
It should look like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/default/ufw
excerpt</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:36.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>IPV6=</span><b><span style='font-size:11.0pt;line-height:110%;
font-family:"Courier New";color:#EF2929'>yes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>Save and close the file. Now, when UFW is enabled, it will
be configured to write both IPv4 and IPv6 firewall rules. However, before
enabling UFW, we will want to ensure that your firewall is configured to allow
you to connect via SSH. Let’s start with setting the default policies.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Setting Up Default Policies</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you’re just getting started with your
firewall, the first rules to define are your default policies. These rules
control how to handle traffic that does not explicitly match any other rules.
By default, UFW is set to deny all incoming connections and allow all outgoing
connections. This means anyone trying to reach your server would not be able to
connect, while any application within the server would be able to reach the
outside world.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s set your UFW rules back to the defaults so we can be
sure that you’ll be able to follow along with this tutorial. To set the
defaults used by UFW, use these commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo ufw default deny
incoming sudo ufw default allow outgoing</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>These commands set the defaults to deny incoming and allow
outgoing connections. These firewall defaults alone might suffice for a
personal computer, but servers typically need to respond to incoming requests
from outside users. We’ll look into that next.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Allowing SSH Connections</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If we enabled our UFW firewall now, it
would deny all incoming connections. This means that we will need to create
rules that explicitly allow legitimate incoming connections — SSH or HTTP
connections, for example — if we want our server to respond to those types of
requests. If you’re using a cloud server, you will probably want to allow
incoming SSH connections so you can connect to and manage your server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To configure your server to allow incoming SSH connections,
you can use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow ssh</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will create firewall rules that will allow all
connections on port <span style='font-family:"Courier New"'>22</span>, which is
the port that the SSH daemon listens on by default. UFW knows what port <span
style='font-family:"Courier New"'>allow ssh</span> means because it’s listed as
a service in the <span style='font-family:"Courier New"'>/etc/services</span>
file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>However, we can actually write the equivalent rule by
specifying the port instead of the service name. For example, this command
works the same as the one above:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow 22</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you configured your SSH daemon to use a different port,
you will have to specify the appropriate port. For example, if your SSH server
is listening on port <span style='font-family:"Courier New"'>2222</span>, you
can use this command to allow connections on that port:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow </span><b><span
style='font-family:"Courier New";color:#EF2929'>2222</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Now that your firewall is configured to allow incoming SSH
connections, we can enable it.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Enabling UFW</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:206.6pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:0in'>To enable UFW, use this command: <span
style='font-family:"Courier New"'>sudo ufw enable</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will receive a warning that says the command may
disrupt existing SSH connections. We already set up a firewall rule that allows
SSH connections, so it should be fine to continue. Respond to the prompt with <span
style='font-family:"Courier New"'>y</span> and hit <span style='font-family:
"Courier New"'>ENTER</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>The firewall is now active. Run the <span style='font-family:
"Courier New"'>sudo ufw status verbose </span>command to see the rules that are
set. The rest of this tutorial covers how to use UFW in more detail, like
allowing or denying different kinds of connections.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Allowing Other Connections</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.4pt;
margin-left:-.75pt;text-indent:0in'>At this point, you should allow all of the
other connections that your server needs to respond to. The connections that
you should allow depends on your specific needs. Luckily, you already know how
to write rules that allow connections based on a service name or port; we
already did this for SSH on port <span style='font-family:"Courier New"'>22</span>.
You can also do this for:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 148760"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> HTTP
on port 80, which is what unencrypted web servers use, using <span
style='font-family:"Courier New"'>sudo ufw allow http</span> or <span
style='font-family:"Courier New"'>sudo ufw allow 80</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.15pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 148761"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> HTTPS
on port 443, which is what encrypted web servers use, using <span
style='font-family:"Courier New"'>sudo ufw allow https</span> or <span
style='font-family:"Courier New"'>sudo ufw allow 443</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>There are several others ways to allow other connections,
aside from specifying a port or known service.</p>

<h3 style='margin-left:-.25pt'>Specific Port Ranges</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You can specify port ranges with UFW. Some
applications use multiple ports, instead of a single port.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>For example, to allow X11 connections, which use ports <span
style='font-family:"Courier New"'>6000</span>-<span style='font-family:"Courier New"'>6007</span>,
use these commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>sudo ufw allow </span><b><span
style='font-family:"Courier New";color:#EF2929'>6000</span></b><span
style='font-family:"Courier New"'>:</span><b><span style='font-family:"Courier New";
color:#EF2929'>6007</span></b><span style='font-family:"Courier New"'>/tcp sudo
ufw allow </span><b><span style='font-family:"Courier New";color:#EF2929'>6000</span></b><span
style='font-family:"Courier New"'>:</span><b><span style='font-family:"Courier New";
color:#EF2929'>6007</span></b><span style='font-family:"Courier New"'>/udp</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.95pt;
margin-left:-.75pt'>When specifying port ranges with UFW, you must specify the
protocol (<span style='font-family:"Courier New"'>tcp</span> or <span
style='font-family:"Courier New"'>udp</span>) that the rules should apply to.
We haven’t mentioned this before because not specifying the protocol
automatically allows both protocols, which is OK in most cases.</p>

<h3 style='margin-left:-.25pt'>Specific IP Addresses</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>When working with UFW, you can also specify
IP addresses. For example, if you want to allow connections from a specific IP
address, such as a work or home IP address of <span style='font-family:"Courier New"'>203.0.113.4</span>,
you need to specify <span style='font-family:"Courier New"'>from</span>, then
the IP address:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow from </span><b><span
style='font-family:"Courier New";color:#EF2929'>203.0.113.4</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can also specify a specific port that the IP address is
allowed to connect to by adding <span style='font-family:"Courier New"'>to any
port</span> followed by the port number. For example, If you want to allow <span
style='font-family:"Courier New"'>203.0.113.4</span> to connect to port <span
style='font-family:"Courier New"'>22 </span>(SSH), use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:21.75pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow from </span><b><span
style='font-family:"Courier New";color:#EF2929'>203.0.113.4</span></b><span
style='font-family:"Courier New"'> to any port </span><b><span
style='font-family:"Courier New";color:#EF2929'>22</span></b></p>

<h3 style='margin-left:-.25pt'>Subnets</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you want to allow a subnet of IP
addresses, you can do so using CIDR notation to specify a netmask. For example,
if you want to allow all of the IP addresses ranging from <span
style='font-family:"Courier New"'>203.0.113.1</span> to <span style='font-family:
"Courier New"'>203.0.113.254</span> you could use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow from </span><b><span
style='font-family:"Courier New";color:#EF2929'>203.0.113.0</span></b><span
style='font-family:"Courier New"'>/</span><b><span style='font-family:"Courier New";
color:#EF2929'>24</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Likewise, you may also specify the destination port that
the subnet <span style='font-family:"Courier New"'>203.0.113.0/24</span> is
allowed to connect to. Again, we’ll use port <span style='font-family:"Courier New"'>22
</span>(SSH) as an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:21.75pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow from </span><b><span
style='font-family:"Courier New";color:#EF2929'>203.0.113.0</span></b><span
style='font-family:"Courier New"'>/</span><b><span style='font-family:"Courier New";
color:#EF2929'>24</span></b><span style='font-family:"Courier New"'> to any
port 22</span></p>

<h3 style='margin-left:-.25pt'>Connections to a Specific Network Interface</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you want to create a firewall rule that
only applies to a specific network interface, you can do so by specifying
“allow in on” followed by the name of the network interface.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You may want to look up your network interfaces before
continuing. To do so, use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:28.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ip addr</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output
Excerpt</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>2: </span><b><span style='font-size:11.0pt;line-height:190%;
font-family:"Courier New";color:#EF2929'>eth0</span></b><span style='font-size:
11.0pt;line-height:190%;font-family:"Courier New"'>:
&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state . . . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.15pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>3: </span><b><span style='font-size:11.0pt;line-height:190%;
font-family:"Courier New";color:#EF2929'>eth1</span></b><span style='font-size:
11.0pt;line-height:190%;font-family:"Courier New"'>:
&lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default . . .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The highlighted output indicates the network interface
names. They are typically named something like <span style='font-family:"Courier New"'>eth0</span>
or <span style='font-family:"Courier New"'>enp3s2</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>So, if your server has a public network interface called <span
style='font-family:"Courier New"'>eth0</span>, you could allow HTTP traffic
(port <span style='font-family:"Courier New"'>80</span>) to it with this
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow in on </span><b><span
style='font-family:"Courier New";color:#EF2929'>eth0</span></b><span
style='font-family:"Courier New"'> to any port </span><b><span
style='font-family:"Courier New";color:#EF2929'>80</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Doing so would allow your server to receive HTTP requests
from the public internet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Or, if you want your MySQL database server (port <span
style='font-family:"Courier New"'>3306</span>) to listen for connections on the
private network interface <span style='font-family:"Courier New"'>eth1</span>,
for example, you could use this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw allow in on </span><b><span
style='font-family:"Courier New";color:#EF2929'>eth1</span></b><span
style='font-family:"Courier New"'> to any port </span><b><span
style='font-family:"Courier New";color:#EF2929'>3306</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This would allow other servers on your private network to
connect to your MySQL database.</p>

<h2 style='margin-left:-.25pt'>Step 6 — Denying Connections</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you haven’t changed the default policy
for incoming connections, UFW is configured to deny all incoming connections.
Generally, this simplifies the process of creating a secure firewall policy by
requiring you to create rules that explicitly allow specific ports and IP
addresses through.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>However, sometimes you will want to deny specific
connections based on the source IP address or subnet, perhaps because you know
that your server is being attacked from there. Also, if you want to change your
default incoming policy to allow (which is not recommended), you would need to
create deny rules for any services or IP addresses that you don’t want to allow
connections for.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To write deny rules, you can use the commands described
above, replacing allow with deny.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:4.15pt;
margin-bottom:4.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>For example, to deny HTTP connections, you could use this
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw deny http</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Or if you want to deny all connections from <span
style='font-family:"Courier New"'>203.0.113.4</span> you could use this
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw deny from </span><b><span
style='font-family:"Courier New";color:#EF2929'>203.0.113.4</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Now let’s take a look at
how to delete rules.</p>

<h2 style='margin-left:-.25pt'>Step 7 — Deleting Rules</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt;text-indent:0in'>Knowing how to delete firewall rules is
just as important as knowing how to create them. There are two different ways
to specify which rules to delete: by rule number or by the actual rule (similar
to how the rules were specified when they were created). We’ll start with the
delete by rule number method because it is easier.</p>

<h3 style='margin-left:-.25pt'>By Rule Number</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you’re using the rule number to delete
firewall rules, the first thing you’ll want to do is get a list of your
firewall rules. The UFW status command has an option to display numbers next to
each rule, as demonstrated here:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:28.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status
numbered</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Numbered
Output:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>     To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>     --                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>[ 1] 22                         ALLOW IN    15.15.15.0/24 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>[ 2] 80                         ALLOW IN    Anywhere</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If we decide that we want to delete rule 2, the one that
allows port 80 (HTTP) connections, we can specify it in a UFW delete command
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw delete </span><b><span
style='font-family:"Courier New";color:#EF2929'>2</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>This would show a confirmation prompt then delete rule 2,
which allows HTTP connections. Note that if you have IPv6 enabled, you would
want to delete the corresponding IPv6 rule as well.</p>

<h3 style='margin-left:-.25pt'>By Actual Rule</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The alternative to rule numbers is to
specify the actual rule to delete. For example, if you want to remove the <span
style='font-family:"Courier New"'>allow http</span> rule, you could write it
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw delete </span><b><span
style='font-family:"Courier New";color:#EF2929'>allow http</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You could also specify the rule by <span style='font-family:
"Courier New"'>allow 80</span>, instead of by service name:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw delete </span><b><span
style='font-family:"Courier New";color:#EF2929'>allow 80</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>This method will delete
both IPv4 and IPv6 rules, if they exist.</p>

<h2 style='margin-left:-.25pt'>Step 8 — Checking UFW Status and Rules</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>At any time, you can check
the status of UFW with this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status
verbose</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.5pt;
margin-left:-.75pt'>If UFW is disabled, which it is by default, you’ll see
something like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: inactive</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If UFW is active, which it should be if you followed Step
3, the output will say that it’s active and it will list any rules that are
set. For example, if the firewall is set to allow SSH (port <span
style='font-family:"Courier New"'>22</span>) connections from anywhere, the
output might look something like this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Logging: on (low) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Default: deny (incoming), allow (outgoing), disabled (routed) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>New profiles: skip </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.55pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>22/tcp                     ALLOW IN    Anywhere</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.85pt;
margin-left:-.75pt'>Use the <span style='font-family:"Courier New"'>status</span>
command if you want to check how UFW has configured the firewall.</p>

<h2 style='margin-left:-.25pt'>Step 9 — Disabling or Resetting UFW (optional)</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>If you decide you don’t want to use UFW,
you can disable it with this command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw disable</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Any rules that you created with UFW will no longer be
active. You can always run <span style='font-family:"Courier New"'>sudo ufw
enable</span> if you need to activate it later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you already have UFW rules configured but you decide
that you want to start over, you can use the reset command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw reset</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will disable UFW and delete any rules that were
previously defined. Keep in mind that the default policies won’t change to
their original settings, if you modified them at any point. This should give
you a fresh start with UFW.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Your firewall is now configured to allow
(at least) SSH connections. Be sure to allow any other incoming connections
that your server, while limiting any unnecessary connections, so your server
will be functional and secure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:black;text-decoration:none'>To learn about more common UFW
configurations, check out the </span></a><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:#3445FF'>UFW Essentials: Common Firewall Rules and Commands</span></a><a
href="https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands"><span
style='color:black;text-decoration:none'> tutorial.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How to Use Ansible to Automate Initial</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Server Setup on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Erika Heidi</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This guide explains how to use Ansible to automate the
intial server setup steps are described in Chapter 5 of this book.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Instead of manually adding a user and creating firewall
rules, this tutorial demonstrates how to use Ansible to build an intial server
configuration. Ansible will create a new user and grant it administrative
privileges, and will also set up the UFW firewall to allow SSH traffic to the
server.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 150083"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Server automation now plays an essential role in systems
administration, due to the disposable nature of modern application
environments. <a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>uration mana</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>ement</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:black;text-decoration:none'> </span></a>tools such as <a
href="https://ansible.com/"><span style='color:#3445FF'>Ansible</span></a><a
href="https://ansible.com/"><span style='color:black;text-decoration:none'> </span></a>are
typically used to streamline the process of automating server setup by
establishing standard procedures for new servers while also reducing human
error associated with manual setups.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Ansible offers a simple architecture that doesn’t require
special software to be installed on nodes. It also provides a robust set of
features and built-in modules which facilitate writing automation scripts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>This guide explains how to use Ansible to automate the
steps contained in our <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server Setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> Guide for Ubuntu 18.04 servers</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt;text-indent:0in'>In order to execute the automated setup
provided by the playbook we’re discussing in this guide, you’ll need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 150122"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
Ansible control node: an Ubuntu 18.04 machine with Ansible installed and
configured to connect to your Ansible hosts using SSH keys. Make sure the
control node has a regular user with sudo <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>permissions and a firewall enabled, as
explained in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>Setup</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> guide. To set up Ansible, please
follow our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.2pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 150124"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
or more Ansible Hosts: one or more remote Ubuntu 18.04 servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Before proceeding, you first need to make sure your Ansible
control node is able to connect and execute commands on your Ansible host(s). <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>For a connection test, please check
step 3 of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:17.0pt;line-height:107%;font-family:
"Arial",sans-serif'>What Does this Playbook Do?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>This Ansible playbook provides an
alternative to manually running <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>through the procedure outlined in the </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Ubuntu 18.04 initial server setup </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'> and the guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'>settin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'> u</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'> SSH ke</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:#3445FF'>s on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1804"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.2in;
margin-left:-.75pt'>Running this playbook will perform the following actions on
your Ansible hosts:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install <span
style='font-family:"Courier New"'>aptitude</span>, which is preferred by
Ansible as an alternative to the <span style='font-family:"Courier New"'>apt</span>
package manager.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Create the
administrative group wheels and configure it for passwordless sudo.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Create a new sudo user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:141%'><span
style='line-height:141%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Copy   a        local  SSH  public         key    and    include       it
      in      the <span style='font-family:"Courier New"'>authorized_keys</span>
file for the new administrative user on the remote host.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Disable password-based authentication for the root user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Install system packages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Configure the
UFW firewall to only allow SSH connections and deny any other requests.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once the playbook has finished running, you’ll have a new
user which you can use to log in to the server.</p>

<h2 style='margin-left:-.25pt'>How to Use this Playbook</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The first thing you’ll need to do is obtain
the initial server setup playbook and its dependencies from the <a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>do-communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>/ansible-</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>la</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books </span></a>repository. We’ll clone this repository
to a local folder inside the Ansible control node.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If this is your first time using the <span
style='font-family:"Courier New"'>do-community/ansibleplaybooks</span>
repository, you should start by cloning the repository to your controller node
with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd ~ git clone
https://github.com/do-community/ansibleplaybooks.git cd ansible-playbooks</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In case you have cloned this repository before while
following a different guide, access your existing <span style='font-family:
"Courier New"'>ansible-playbooks</span> copy and run a <span style='font-family:
"Courier New"'>git pull</span> command to make sure you have updated contents: <span
style='font-family:"Courier New"'>cd ~/ansible-playbooks git pull</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>The         files
  we’re          interested    in      are     located        inside          the
<span style='font-family:"Courier New"'>setup_ubuntu1804</span> folder, which
has the following structure: <span style='font-family:"Courier New"'>setup_ubuntu1804
&#9500;&#9472;&#9472; playbook.yml </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9492;&#9472;&#9472;
vars </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>   
&#9492;&#9472;&#9472; default.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.55pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Here is what each of these
files are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 149877"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> vars/default.yml</span>: Variable file for
customizing playbook settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 149879"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> playbook.yml</span>: The playbook file,
containing the tasks to be executed on the remote server(s).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We’ll edit the playbook’s variable file to customize its
values. Access the <span style='font-family:"Courier New"'>setup_ubuntu1804</span>
directory and open the <span style='font-family:"Courier New"'>vars/default.yml
</span>file using your command line editor of choice:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:243.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd setup_ubuntu1804
nano vars/default.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>This file contains a few variables that
require your attention:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.25pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>create_user: </span><b><span style='font-size:11.0pt;line-height:
192%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>
copy_local_key: &quot;</span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>{{ lookup('file', lookup('env','HOME')
+ </span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:25.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New";color:#EF2929'>'/.ssh/id_rsa.pub') }}</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>&quot; sys_packages:
[ '</span><b><span style='font-size:11.0pt;line-height:192%;font-family:"Courier New";
color:#EF2929'>curl</span></b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New"'>', '</span><b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New";color:#EF2929'>vim</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>', '</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>git</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>', '</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>ufw</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>']</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.45pt;
margin-left:-.75pt'>The following list contains a brief explanation of each of
these variables and how you might want to change them:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 150203"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> create_user</span>: The name of the sudo
user that will be created. In this example, we will be using sammy.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 150204"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> copy_local_key</span>: The path to a local
SSH public key file that should be copied to the remote server and added as <span
style='font-family:"Courier New"'>authorized_key</span> for the new sudo user.
The default value uses the <a
href="https://docs.ansible.com/ansible/latest/plugins/lookup.html"><span
style='font-family:"Courier New";color:#3445FF'>looku</span></a><a
href="https://docs.ansible.com/ansible/latest/plugins/lookup.html"><span
style='font-family:"Courier New";color:#3445FF;text-decoration:none'>p</span></a><a
href="https://docs.ansible.com/ansible/latest/plugins/lookup.html"><span
style='color:black;text-decoration:none'> </span></a>plugin to obtain the full
path to the default public key for the current system user at the Ansible
control node.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.15pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 150206"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> sys_packages</span>: An array containing the
list of packages you wish to install on your hosts as part of your initial
server setup. In this example, we are going to make sure the packages <span
style='font-family:"Courier New"'>curl</span>, <span style='font-family:"Courier New"'>vim</span>,
<span style='font-family:"Courier New"'>git </span>and <span style='font-family:
"Courier New"'>ufw</span> are present.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you’re done updating the variables inside <span
style='font-family:"Courier New"'>vars/default.yml</span>, save and close this
file. If you used <span style='font-family:"Courier New"'>nano</span>, do so by
pressing <span style='font-family:"Courier New"'>CTRL + X</span>, <span
style='font-family:"Courier New"'>Y</span>, then <span style='font-family:"Courier New"'>ENTER</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’re now ready to run this playbook on one or more
servers. Most playbooks are configured to be executed on every server in your
inventory, by default. We can use the <span style='font-family:"Courier New"'>-l</span>
flag to make sure that only a subset of servers, or a single server, is
affected by the playbook. We can also use the <span style='font-family:"Courier New"'>-u</span>
flag to specify which user on the remote server we’re using to connect and
execute the playbook commands on the remote hosts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To execute the playbook only on <b><span style='font-family:
"Courier New";color:#EF2929'>server1</span></b>, connecting as <b><span
style='font-family:"Courier New";color:#EF2929'>root</span></b>, you can use
the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ansible-playbook
playbook.yml -l </span><b><span style='font-family:"Courier New";color:#EF2929'>server1</span></b><span
style='font-family:"Courier New"'> -u </span><b><span style='font-family:"Courier New";
color:#EF2929'>root</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You will get output
similar to this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY [all] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
********************************************************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Gathering Facts] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
********************************************** ok: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Install Prerequisites]
*******************************************************************
**************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Make sure we have a 'wheel' group]
*******************************************************************
**************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Allow 'wheel' group to have passwordless sudo]
*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>**************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Create a new regular user with sudo privileges]
*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Set authorized key for remote user]
*******************************************************************
*************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Disable password authentication for root]
*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:256.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>********************* changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Update apt] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
*************************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Install required system packages]
*******************************************************************
***************************** ok: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [UFW - Allow SSH connections]
*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>********************************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [UFW - Deny all other incoming traffic by default]
*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:310.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>************* changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY RECAP </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
**********************************************************
server1                 : ok=11   changed=9    unreachable=0    failed=0   
skipped=0    rescued=0    ignored=0 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:35.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: For more information on how to run Ansible playbooks,
check our <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>Ansible Cheat Sheet Guide</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once the playbook execution is finished, you’ll be able to
log in to the server with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>ssh </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-family:"Courier New"'>@</span><b><span style='font-family:"Courier New";
color:#EF2929'>server_host_or_IP</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Remember to replace <b><span style='color:#EF2929'>sammy</span></b>
with the user defined by the <span style='font-family:"Courier New"'>create_user</span>
variable, and <b><span style='color:#EF2929'>server_host_or_IP</span></b> with
your server’s hostname or IP address.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In case you have changed the <span style='font-family:"Courier New"'>copy_local_key</span>
variable to point to a custom SSH key (not your current system user’s one),
you’ll need to provide an extra parameter specifying the location of its
private key counterpart when connecting via SSH as the new user:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:145%'><span style='font-family:"Courier New"'>ssh </span><b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-family:"Courier New"'>@</span><b><span style='font-family:"Courier New";
color:#EF2929'>server_host_or_IP</span></b><span style='font-family:"Courier New"'>
-i </span><b><span style='font-family:"Courier New";color:#EF2929'>~/.ssh/ansible_controller_key</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After logging in to the server, you can check the UFW
firewall’s active rules to confirm that it’s properly configured:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.25in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>[environment second]
sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>You should get output similar to this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.75in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>[environment second] Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This means that the UFW firewall has successfully been
enabled. Since this was the last task in the playbook, it confirms that the
playbook was fully executed on this server.</p>

<h2 style='margin-left:-.25pt'>The Playbook Contents</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You can find the initial server setup
playbook featured in this tutorial in <a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>the </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>ansible-</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>la</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books re</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>ositor</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>, </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>within the </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Di</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>italOcean Communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Pla</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>. To copy or download the script
contents directly, click the Raw </span></a>button towards the top of each
script.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>The full contents of the playbook as well as its associated
files are also included here for your convenience.</p>

<h3 style='margin-left:-.25pt'>vars/default.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.45pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>default.yml</span>
variable file contains values that will be used within the playbook tasks, such
as the name of the user that will be created and the packages that should be
installed as part of the initial server setup.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:74.25pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>create_user: </span><b><span style='font-size:11.0pt;line-height:
192%;font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>
copy_local_key: &quot;</span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>{{ lookup('file', lookup('env','HOME')
+ </span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:26.4pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New";color:#EF2929'>'/.ssh/id_rsa.pub') }}</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>&quot;
sys_packages: [ '</span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>curl</span></b><span style='font-size:
11.0pt;line-height:192%;font-family:"Courier New"'>', '</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>vim</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>', '</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>git</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>', '</span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>ufw</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>']</span></p>

<h3 style='margin-left:-.25pt'>playbook.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>playbook.yml</span>
file is where all tasks from this setup are defined. It starts by defining the
group of servers that should be the target of this setup (<span
style='font-family:"Courier New"'>all</span>), after which it uses <span
style='font-family:"Courier New"'>become: true</span> to define that tasks
should be executed with privilege escalation (<span style='font-family:"Courier New"'>sudo</span>)
by default. Then, it includes the <span style='font-family:"Courier New"'>vars/default.yml</span>
variable file to load configuration options.<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:20.15pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>playbook.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#BC7A00'>---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:24.0pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>hosts</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> all  </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>become</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>true </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#7D9029'> </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>vars_files</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:
</span></b><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#7D9029'>   </span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>-</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
vars/default.yml</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:235.5pt;
margin-bottom:10.2pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#7D9029'> </span><span style='font-size:11.0pt;line-height:
107%;font-family:"Courier New";color:#06287E'>tasks</span><b><span
style='font-size:11.0pt;line-height:107%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:10.2pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:107%;font-family:"Courier New";color:#7D9029'> Install
Prerequisites</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35in;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>     </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>apt</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
name=aptitude update_cache=yes state=latest force_apt_get</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#60A0B0'> # Sudo Group Setup</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Make sure we
have a 'wheel' group      </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#06287E'>group</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.25pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
wheel        </span><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#06287E'>state</span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
present</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Allow 'wheel'
group to have passwordless sudo     </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>lineinfile</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:263.25pt;
margin-bottom:.15pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>path</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
/etc/sudoers        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>state</span><b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
present        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>regexp</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>'^%wheel'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:127.5pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>line</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>'%wheel ALL=(ALL) NOPASSWD: ALL' </span><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>       </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>validate</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>'/usr/sbin/visudo -cf %s'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#60A0B0'> # User + Key Setup</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Create a new
regular user with sudo privileges      </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>user</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:235.5pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>&quot;{{ create_user }}&quot; </span><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>       </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>state</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
present        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>groups</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
wheel        </span><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#06287E'>append</span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>true </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#7D9029'>       </span><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>create_home</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>true </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#7D9029'>       </span><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>shell</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
/bin/bash</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:24.0pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Set
authorized key for remote user      </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>authorized_key</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:
</span></b><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#7D9029'>       </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>user</span><b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>&quot;{{ create_user }}&quot; </span><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>       </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>state</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
present        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>key</span><b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>&quot;{{ copy_local_key }}&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Disable
password authentication for root      </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>lineinfile</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:127.5pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>path</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
/etc/ssh/sshd_config        </span><span style='font-size:11.0pt;line-height:
187%;font-family:"Courier New";color:#06287E'>state</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
present        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>regexp</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>'^#?PermitRootLogin' </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#7D9029'>       </span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#06287E'>line</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#4070A0'>'PermitRootLogin prohibit-password'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:276.75pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><i><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#60A0B0'> # Install Packages </span></i><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>   </span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>-</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
</span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> Update
apt      </span><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#06287E'>apt</span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
update_cache=yes</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:107%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:107%;font-family:"Courier New";color:#7D9029'> Install
required system packages</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.35in;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>     </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>apt</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
name={{ sys_packages }} state=latest</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New";color:#60A0B0'># UFW Setup</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> UFW - Allow
SSH connections      </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>ufw</span><b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:297.0pt;
margin-bottom:24.0pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>rule</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
allow        </span><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#06287E'>name</span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
OpenSSH</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:.15pt;margin-left:19.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:11.0pt;line-height:187%;font-family:"Courier New";
color:#06287E'>name</span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#007020'>:</span></b><span style='font-size:
11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'> UFW - Deny
all other incoming traffic by default      </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>ufw</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:263.25pt;
margin-bottom:5.6pt;margin-left:6.5pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#7D9029'>       </span><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#06287E'>state</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
enabled        </span><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#06287E'>policy</span><b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
deny        </span><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New";color:#06287E'>direction</span><b><span style='font-size:11.0pt;
line-height:187%;font-family:"Courier New";color:#007020'>:</span></b><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New";color:#7D9029'>
incoming</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:27.15pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 151601"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image023.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Feel free to modify this playbook or include new tasks to
best suit your individual needs within your own workflow.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Automating the initial server setup can
save you time, while also making sure your servers will follow a standard
configuration that can be improved and customized to your needs. With the
distributed nature of modern applications and the need for more consistency
between different staging environments, automation like this becomes a
necessity.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this guide, we demonstrated how to use Ansible for
automating the initial tasks that should be executed on a fresh server, such as
creating a non-root user with sudo access, enabling UFW and disabling remote
password-based root login.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If you’d like to include new tasks in this playbook to
further customize your initial server setup, please refer to our introductory
Ansible guide <a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>uration Mana</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>ement 101: Writin</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'> Ansible Pla</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:black;text-decoration:none'>.</span></a> You can also <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-roles-to-abstract-your-infrastructure-environment"><span
style='color:black;text-decoration:none'>check our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-roles-to-abstract-your-infrastructure-environment"><span
style='color:#3445FF'>How to Use Ansible Roles to Abstract </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-roles-to-abstract-your-infrastructure-environment"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-roles-to-abstract-your-infrastructure-environment"><span
style='color:#3445FF'>our Infrastructure Environment</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-roles-to-abstract-your-infrastructure-environment"><span
style='color:black;text-decoration:none'>.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-install-and-set-up-lamp-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How to Use Ansible to Install and Set Up LAMP on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Erika Heidi</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This guide explains how to use Ansible to automate setting
up a Linux, Apache, MySQL, and PHP server, commonly referred to as the LAMP
stack. It is a companion to Chapter 8, How To Install Linux, Apache, MySQL, PHP
(LAMP) stack on Ubuntu 18.04.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Instead of manually running <span style='font-family:"Courier New"'>apt</span>
commands to set up the LAMP stack, this tutorial demonstrates how to use
Ansible to configure a server. Ansible will install all the required LAMP
packages, create and enable a new VirtualHost for Apache to use, secure MySQL,
set up the UFW firewall to allow traffic to the server, and finally add a test
PHP script to demonstrate that all the components of the LAMP stack are working
correctly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 152634"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Server automation now plays an essential role in systems
administration, due to the disposable nature of modern application
environments. <a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>uration mana</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>ement</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:black;text-decoration:none'> </span></a>tools such as <a
href="https://ansible.com/"><span style='color:#3445FF'>Ansible</span></a><a
href="https://ansible.com/"><span style='color:black;text-decoration:none'> </span></a>are
typically used to streamline the process of automating server setup by
establishing standard procedures for new servers while also reducing human
error associated with manual setups.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Ansible offers a simple architecture that doesn’t require
special software to be installed on nodes. It also provides a robust set of
features and built-in modules which facilitate writing automation scripts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This guide explains how to use Ansible to automate the
steps contained <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>in our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'> A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>ache</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>S</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>Q</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>L and PHP </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>LAMP) on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. A “LAMP” stack is a group of
open-source software that </span></a>is typically installed together to enable
a server to host dynamic websites and web apps. This term is actually an
acronym which represents the Linux operating system, with the Apache web
server. The site data is stored in a MySQL database, and dynamic content is
processed by PHP.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt;text-indent:0in'>In order to execute the automated setup
provided by the playbook we’re discussing in this guide, you’ll need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 152022"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
Ansible control node: an Ubuntu 18.04 machine with Ansible installed and
configured to connect to your Ansible hosts using SSH keys. Make sure the
control node has a regular user with sudo <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>permissions and a firewall enabled, as
explained in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>Setup</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> guide. To set up Ansible, please
follow our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 152023"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
or more Ansible Hosts: one or more remote Ubuntu 18.04 servers <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>previously set up following the guide
on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Use Ansible to Automate Initial Server Setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Before proceeding, you first need to make sure your Ansible
control node is able to connect and execute commands on your Ansible host(s). <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>For a connection test, please check
step 3 of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:17.0pt;line-height:107%;font-family:
"Arial",sans-serif'>What Does this Playbook Do?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>This Ansible playbook provides an
alternative to manually running <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>through the procedure outlined in our
guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>, </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>ache</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>S</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>Q</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>L and PHP </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'>LAMP</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>)</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.2in;
margin-left:-.75pt'>Running this playbook will perform the following actions on
your Ansible hosts:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install <span
style='font-family:"Courier New"'>aptitude</span>, which is preferred by
Ansible as an alternative to the <span style='font-family:"Courier New"'>apt</span>
package manager.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.45pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Install the required LAMP packages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Create a new
Apache <span style='font-family:"Courier New"'>VirtualHost</span> and set up a
dedicated document root for that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.9pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Enable the new <span style='font-family:"Courier New"'>VirtualHost</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Disable the
default Apache website, when the disable_default variable is set to <span
style='font-family:"Courier New"'>true</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Set the password for the MySQL root user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Remove anonymous MySQL accounts and the test database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Set up UFW to
allow HTTP traffic on the configured port (<span style='font-family:"Courier New"'>80</span>
by default).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Set up a PHP test script using the provided template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once the playbook has finished running, you will have a web
PHP environment running on top of Apache, based on the options you defined
within your configuration variables.</p>

<h2 style='margin-left:-.25pt'>How to Use this Playbook</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The first thing we need to do is obtain the
LAMP playbook and its dependencies from the <a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>do-communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>/ansible-</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>la</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> </span></a>repository. We need to
clone this repository to a local folder inside the Ansible Control Node.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In case you have cloned this repository before while
following a different guide, access your existing <span style='font-family:
"Courier New"'>ansible-playbooks</span> copy and run a <span style='font-family:
"Courier New"'>git pull</span> command to make sure you have updated contents: <span
style='font-family:"Courier New"'>cd ~/ansible-playbooks git pull</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If this is your first time using the <span
style='font-family:"Courier New"'>do-community/ansibleplaybooks</span>
repository, you should start by cloning the repository to your home folder
with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd ~ git clone
https://github.com/do-community/ansibleplaybooks.git cd ansible-playbooks</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>The         files
  we’re          interested    in      are     located        inside          the
<span style='font-family:"Courier New"'>lamp_ubuntu1804</span> folder, which
has the following structure: <span style='font-family:"Courier New"'>lamp_ubuntu1804
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9500;&#9472;&#9472;
files </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9474;  
&#9500;&#9472;&#9472; apache.conf.j2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.5in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>&#9474;  
&#9492;&#9472;&#9472; info.php.j2 &#9500;&#9472;&#9472; vars </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9474;  
&#9492;&#9472;&#9472; default.yml </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9500;&#9472;&#9472;
playbook.yml </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9492;&#9472;&#9472;
readme.md</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Here is what each of these
files are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 151930"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> files/info.php.j2</span>: Template file for
setting up a PHP test page on the web server’s root</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:16.75pt;text-align:left;text-indent:0in;
line-height:141%'><span style='font-size:11.0pt;line-height:141%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 151931"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> files/apache.conf.j2</span>: Template file
for setting up the Apache VirtualHost. <span style='font-size:11.0pt;
line-height:141%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 151932"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> vars/default.yml</span>: Variable file for
customizing playbook settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.2pt;
margin-left:16.75pt;text-indent:0in'><span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=6 height=6
id="Group 151933"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> playbook.yml</span>: The playbook file,
containing the tasks to be executed on the remote server(s). <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 151934"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> readme.md</span>: A text file containing
information about this playbook.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We’ll edit the playbook’s variable file to customize the
configurations of both MySQL and Apache. Access the <span style='font-family:
"Courier New"'>lamp_ubuntu1804</span> directory and open the <span
style='font-family:"Courier New"'>vars/default.yml</span> file using your
command line editor of choice:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.5in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd lamp_ubuntu1804
nano vars/default.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>This file contains a few variables that
require your attention:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>mysql_root_password: &quot;</span><b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>mysql_root_password</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
app_user: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_host: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_conf: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>.conf&quot;
http_port: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>80</span></b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New"'>&quot; disable_default: </span><b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>true</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.65pt;
margin-left:-.75pt'>The following list contains a brief explanation of each of
these variables and how you might want to change them:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 152485"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> mysql_root_password</span>: The desired
password for the root MySQL account.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12><span style='font-size:11.0pt;line-height:142%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 152486"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> app_user</span>: A remote non-root user on
the Ansible host that will be set as the owner of the application files. <span
style='font-family:"Courier New"'>http_host</span>: Your domain name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='font-family:"Courier New"'>http_conf</span>:
The name of the configuration file that will be created within Apache.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 152488"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> http_port</span>: HTTP port for this virtual
host, where <span style='font-family:"Courier New"'>80</span> is the default.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.2in;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 152489"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> disable_default</span>: Whether or not to
disable the default website that comes with Apache.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you’re done updating the variables inside <span
style='font-family:"Courier New"'>vars/default.yml</span>, save and close this
file. If you used <span style='font-family:"Courier New"'>nano</span>, do so by
pressing <span style='font-family:"Courier New"'>CTRL + X</span>, <span
style='font-family:"Courier New"'>Y</span>, then <span style='font-family:"Courier New"'>ENTER</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’re now ready to run this playbook on one or more
servers. Most playbooks are configured to be executed on every server in your
inventory, by default. We can use the <span style='font-family:"Courier New"'>-l</span>
flag to make sure that only a subset of servers, or a single server, is
affected by the playbook. We can also use the <span style='font-family:"Courier New"'>-u</span>
flag to specify which user on the remote server we’re using to connect and
execute the playbook commands on the remote hosts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To execute the playbook only on <b><span style='font-family:
"Courier New";color:#EF2929'>server1</span></b>, connecting as <b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b>, you can use
the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ansible-playbook
playbook.yml -l </span><b><span style='font-family:"Courier New";color:#EF2929'>server1</span></b><span
style='font-family:"Courier New"'> -u </span><b><span style='font-family:"Courier New";
color:#EF2929'>sammy </span></b>You will get output similar to this:<br
clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY [all] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
************************************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Gathering Facts] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
**************************************ok: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Install prerequisites] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
**************************************ok: [server1] =&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>(item=aptitude) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>... </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [UFW - Allow HTTP on port 80]
*******************************************************************
************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Sets Up PHP Info Page]
*******************************************************************
************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>RUNNING HANDLER [Reload Apache]
*******************************************************************
************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>RUNNING HANDLER [Restart Apache]
*******************************************************************
************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY RECAP </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
************************************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>server1             : ok=15   changed=11   unreachable=0   
failed=0    skipped=0    rescued=0    ignored=0 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:35.7pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: For more information on how to run Ansible playbooks,
check our <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>Ansible Cheat Sheet Guide</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When the playbook is finished running, go to your web
browser and access the host or IP address of the server, as configured in the
playbook variables, followed by <span style='font-family:"Courier New"'>/info.php</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>server_host_or_IP</span></b><span
style='font-family:"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You will see a page like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=493 id="Picture 13770"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image024.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.9pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>phpinfo
page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Because this page contains sensitive information about your
PHP environment, it is recommended that you remove it from the server by
running an <span style='font-family:"Courier New"'>rm -f /var/www/info.php</span>
command once you have finished setting it up.</p>

<h2 style='margin-left:-.25pt'>The Playbook Contents</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You can find the LAMP server setup featured
in this tutorial in the <a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF'>lam</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF'>_ubuntu1804</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>folder inside the </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Di</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>italOcean Communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Pla</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> repository. To copy or download the
script contents directly, </span></a>click the Raw button towards the top of
each script.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>The full contents of the playbook as well as its associated
files are also included here for your convenience.</p>

<h3 style='margin-left:-.25pt'>vars/default.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.45pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>default.yml</span>
variable file contains values that will be used within the playbook tasks, such
as the password for the MySQL root account and the domain name to configure
within Apache.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>mysql_root_password: &quot;</span><b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>mysql_root_password</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
app_user: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>sammy</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_host: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_conf: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>.conf&quot;
http_port: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>80</span></b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New"'>&quot; disable_default: </span><b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>true</span></b></p>

<h3 style='margin-left:-.25pt'>files/apache.conf.j2</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>apache.conf.j2</span>
file is a <a href="https://jinja.palletsprojects.com/en/2.10.x/"><span
style='color:#3445FF'>Jin</span></a><a
href="https://jinja.palletsprojects.com/en/2.10.x/"><span style='color:#3445FF;
text-decoration:none'>j</span></a><a
href="https://jinja.palletsprojects.com/en/2.10.x/"><span style='color:#3445FF'>a
2</span></a><a href="https://jinja.palletsprojects.com/en/2.10.x/"><span
style='color:black;text-decoration:none'> </span></a>template file that
configures a new Apache VirtualHost. The variables used within this template
are defined in the <span style='font-family:"Courier New"'>vars/default.yml</span>
variable file.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>files/apache.conf.j2</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;VirtualHost *:{{ http_port }}&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   ServerAdmin webmaster@localhost </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   ServerName {{ http_host }} </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   ServerAlias www.{{ http_host }} </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   DocumentRoot /var/www/{{ http_host }} </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:121.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   ErrorLog ${APACHE_LOG_DIR}/error.log    CustomLog
${APACHE_LOG_DIR}/access.log combined </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   &lt;Directory /var/www/{{ http_host }}&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>         Options -Indexes </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   &lt;/Directory&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   &lt;IfModule mod_dir.c&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       DirectoryIndex index.php index.html index.cgi index.pl 
index.xhtml index.htm </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   &lt;/IfModule&gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:36.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&lt;/VirtualHost&gt;</span></p>

<h3 style='margin-left:-.25pt'>files/info.php.j2</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>info.php.j2</span>
file is another Jinja template, used to set up a test PHP script in the
document root of the newly configured LAMP server.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>files/info.php.j2</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:351.0pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&lt;?php phpinfo(); </span></p>

<h3 style='margin-left:-.25pt'>playbook.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>playbook.yml</span>
file is where all tasks from this setup are defined. It starts by defining the
group of servers that should be the target of this setup (<span
style='font-family:"Courier New"'>all</span>), after which it uses <span
style='font-family:"Courier New"'>become: true</span> to define that tasks
should be executed with privilege escalation (<span style='font-family:"Courier New"'>sudo</span>)
by default. Then, it includes the <span style='font-family:"Courier New"'>vars/default.yml</span>
variable file to load configuration options.<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>playbook.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:364.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--- - hosts: all   become: true   vars_files: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>vars/default.yml
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:405.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   tasks: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>name:
Install prerequisites </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:81.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>      apt: name={{ item }} update_cache=yes state=latest
force_apt_get=yes       loop: [ 'aptitude' ] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:236.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  #Apache Configuration     - name: Install LAMP Packages </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>      apt: name={{ item }} update_cache=yes state=latest      
loop: [ 'apache2', 'mysql-server', 'python3-pymysql', 'php', 'php-mysql',
'libapache2-mod-php' ] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Create document root       file: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:189.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        path: &quot;/var/www/{{ http_host }}&quot;        
state: directory         owner: &quot;{{ app_user }}&quot;         mode: '0755'
</span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name: Set
up Apache virtualhost       template: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        src: &quot;files/apache.conf.j2&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.75in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        dest: &quot;/etc/apache2/sites-available/{{ http_conf
}}&quot;       notify: Reload Apache  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>name:
Enable new site </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:87.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>      shell: /usr/sbin/a2ensite {{ http_conf }}       notify:
Reload Apache </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Disable default Apache site       shell: /usr/sbin/a2dissite
000-default.conf       when: disable_default       notify: Reload Apache </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:229.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  # MySQL Configuration     - name: Sets the root password      
mysql_user:         name: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:27.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        password: &quot;{{ mysql_root_password }}&quot;        
login_unix_socket: /var/run/mysqld/mysqld.sock </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Removes all anonymous user accounts       mysql_user:         name: ''        
host_all: yes         state: absent </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        login_user: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        login_password: &quot;{{ mysql_root_password }}&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Removes the MySQL test database       mysql_db:         name: test        
state: absent         login_user: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        login_password: &quot;{{ mysql_root_password }}&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  # UFW Configuration </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
&quot;UFW - Allow HTTP on port {{ http_port }}&quot;       ufw: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:249.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        rule: allow         port: &quot;{{ http_port
}}&quot;         proto: tcp </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>  # PHP Info Page </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name: Sets
Up PHP Info Page       template: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:128.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        src: &quot;files/info.php.j2&quot;         dest:
&quot;/var/www/{{ http_host }}/info.php&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:384.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   handlers: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Reload Apache       service: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        name: apache2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        state: reloaded </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Restart Apache       service: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.75in;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        name: apache2         state: restarted</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Feel free to modify these files to best suit your
individual needs within your own workflow.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this guide, we used Ansible to automate
the process of installing and setting up a LAMP environment on a remote server.
Because each individual typically has different needs when working with MySQL <a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:black;text-decoration:none'>databases and users, we encourage you
to check out the </span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:#3445FF'>official Ansible documentation</span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:black;text-decoration:none'> for more information and use cases of
the </span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='font-family:"Courier New";color:black;text-decoration:none'>mysql_user </span></a>Ansible
module.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>If
you’d like to include other tasks in this playbook to further customize your
server setup, please refer to our introductory Ansible guide <a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>uration Mana</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>ement 101: Writin</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'> Ansible Pla</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-install-and-set-up-lemp-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How to Use Ansible to Install and Set Up LEMP on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Erika Heidi</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This guide explains how to use Ansible to automate setting
up a Linux, Nginx, MySQL, and PHP server, commonly referred to as the LEMP
stack.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>It is a companion to Chapter 10, How To
Install Linux, Nginx, MySQL, PHP (LEMP stack) on Ubuntu 18.04.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Instead of manually running <span style='font-family:"Courier New"'>apt</span>
commands to set up the LEMP stack, this tutorial demonstrates how to use
Ansible to configure a server. Ansible will install all the required LEMP
packages, create an Nginx configuration using a template, secure MySQL, set up
the UFW firewall to allow traffic to the server, and finally add a test PHP
script to demonstrate that all the components of the LEMP stack are working
correctly.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 154339"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Server automation now plays an essential role in systems
administration, due to the disposable nature of modern application
environments. <a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>uration mana</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:#3445FF'>ement</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-configuration-management"><span
style='color:black;text-decoration:none'> </span></a>tools such as <a
href="https://ansible.com/"><span style='color:#3445FF'>Ansible</span></a><a
href="https://ansible.com/"><span style='color:black;text-decoration:none'> </span></a>are
typically used to streamline the process of automating server setup by
establishing standard procedures for new servers while also reducing human
error associated with manual setups.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Ansible offers a simple architecture that doesn’t require
special software to be installed on nodes. It also provides a robust set of
features and built-in modules which facilitate writing automation scripts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>This guide explains how to use Ansible to automate the
steps contained <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>in our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>inx</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>S</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>Q</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>L and PHP </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>LEMP</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>)</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. The LEMP software stack is a group
of software that can be </span></a>used to serve dynamic web pages and web
applications. This is an acronym that describes a Linux operating system, with
an Nginx (pronounced like “Engine-X”) web server. The backend data is stored in
the MySQL database and the dynamic processing is handled by PHP.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt;text-indent:0in'>In order to execute the automated setup
provided by the playbook we’re discussing in this guide, you’ll need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 154064"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
Ansible control node: an Ubuntu 18.04 machine with Ansible installed and
configured to connect to your Ansible hosts using SSH keys. Make sure the
control node has a regular user with sudo <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>permissions and a firewall enabled, as
explained in our </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>Setup</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> guide. To set up Ansible, please
follow our guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 154067"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
or more Ansible Hosts: one or more remote Ubuntu 18.04 servers <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>previously set up following the guide
on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Use Ansible to Automate Initial Server Setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-to-automate-initial-server-setup-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Before proceeding, you first need to make sure your Ansible
control node is able to connect and execute commands on your Ansible host(s). <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>For a connection test, please check
step 3 of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>How to Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-testing-connection"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-size:17.0pt;line-height:107%;font-family:
"Arial",sans-serif'>What Does this Playbook Do?</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>This Ansible playbook provides an
alternative to manually running <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>through the procedure outlined in our
guide on </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Linux</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>, </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>inx</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> M</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>S</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>Q</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>L</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>,</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> PHP </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'>LEMP stack</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>)</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.2in;
margin-left:-.75pt'>Running this playbook will perform the following actions on
your Ansible hosts:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Install <span
style='font-family:"Courier New"'>aptitude</span>, which is preferred by
Ansible as an alternative to the <span style='font-family:"Courier New"'>apt</span>
package manager.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Install the required LEMP packages.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Set up the Nginx configuration file using the provided template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Enable the new Nginx configuration and disable the default one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Set the password for the MySQL root user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Remove anonymous MySQL accounts and the test database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-14.75pt'><span style='line-height:142%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Set up UFW to
allow HTTP traffic on the configured port (<span style='font-family:"Courier New"'>80</span>
by default).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:30.0pt;text-indent:-14.75pt;line-height:107%'><span
style='line-height:107%'>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Set up a PHP test script using the provided template.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once the playbook has finished running, you will have a web
PHP environment running on top of Nginx, based on the options you defined
within your configuration variables.</p>

<h2 style='margin-left:-.25pt'>How to Use this Playbook</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The first thing we need to do is obtain the
LEMP playbook and its dependencies from the <a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>do-communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>/ansible-</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>la</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> </span></a>repository. We need to
clone this repository to a local folder inside the Ansible Control Node.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In case you have cloned this repository before while
following a different guide, access your existing <span style='font-family:
"Courier New"'>ansible-playbooks</span> copy and run a <span style='font-family:
"Courier New"'>git pull</span> command to make sure you have updated contents: <span
style='font-family:"Courier New"'>cd ~/ansible-playbooks git pull</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If this is your first time using the <span
style='font-family:"Courier New"'>do-community/ansibleplaybooks</span>
repository, you should start by cloning the repository to your home folder
with:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd ~ git clone
https://github.com/do-community/ansibleplaybooks.git cd ansible-playbooks</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>The         files
  we’re          interested    in      are     located        inside          the
<span style='font-family:"Courier New"'>lemp_ubuntu1804</span> folder, which
has the following structure: <span style='font-family:"Courier New"'>lemp_ubuntu1804
&#9500;&#9472;&#9472; files </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9474;  
&#9500;&#9472;&#9472; info.php.j2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9474;  
&#9492;&#9472;&#9472; nginx.conf.j2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9500;&#9472;&#9472;
vars </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9474;  
&#9492;&#9472;&#9472; default.yml </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9500;&#9472;&#9472;
playbook.yml </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>&#9492;&#9472;&#9472;
readme.md</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.55pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Here is what each of these
files are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 153819"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> files/info.php.j2</span>: Template file for
setting up a PHP test page on the web server’s root</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 154021"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> files/nginx.conf.j2</span>: Template file
for setting up the Nginx server. directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 154022"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> vars/default.yml</span>: Variable file for
customizing playbook settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.2pt;
margin-left:16.75pt;text-indent:0in'><span style='font-size:11.0pt;line-height:
142%;font-family:"Calibri",sans-serif'><img border=0 width=6 height=6
id="Group 154023"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> playbook.yml</span>: The playbook file,
containing the tasks to be executed on the remote server(s). <span
style='font-size:11.0pt;line-height:142%;font-family:"Calibri",sans-serif'><img
border=0 width=6 height=6 id="Group 154024"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> readme.md</span>: A text file containing
information about this playbook.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We’ll edit the playbook’s variable file to customize the
configurations of both MySQL and Nginx. Access the <span style='font-family:
"Courier New"'>lemp_ubuntu1804</span> directory and open the <span
style='font-family:"Courier New"'>vars/default.yml</span> file using your
command line editor of choice:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:3.5in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>cd lemp_ubuntu1804
nano vars/default.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>This file contains a few variables that
require your attention:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>mysql_root_password: &quot;</span><b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>mysql_root_password</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_host: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot;
http_conf: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>.conf&quot;
http_port: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>80</span></b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New"'>&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The following list contains a brief explanation of each of
these variables and how you might want to change them:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 155463"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> mysql_root_password</span>: The desired
password for the root MySQL account.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.4pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image010.gif"
align=left hspace=12><span style='font-family:"Courier New"'>http_host</span>:
The host name or IP address for this web server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:16.75pt;text-indent:0in'><span style='font-family:"Courier New"'>http_conf</span>:
The name of the configuration file to be created inside <span style='font-family:
"Courier New"'>/etc/nginx/sites-available</span>, typically set to the host or
application name for easier identification.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.2in;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 155465"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span><span
style='font-family:"Courier New"'> http_port</span>: The port Nginx will use to
serve this site. This is port <span style='font-family:"Courier New"'>80</span>
by default, but if you want to serve your site or application on a different
port, enter it here.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you’re done updating the variables inside <span
style='font-family:"Courier New"'>vars/default.yml</span>, save and close this
file. If you used <span style='font-family:"Courier New"'>nano</span>, do so by
pressing <span style='font-family:"Courier New"'>CTRL + X</span>, <span
style='font-family:"Courier New"'>Y</span>, then <span style='font-family:"Courier New"'>ENTER</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’re now ready to run this playbook on one or more
servers. Most playbooks are configured to be executed on every<span
style='font-family:"Courier New"'>server in your inventory, by default. We can
use the</span>-l<span style='font-family:"Courier New"'>flag to make sure that
only a subset of servers, or a single server, is affected by the playbook. We
can also use the</span>-u` flag to specify which user on the remote server
we’re using to connect and execute the playbook commands on the remote hosts.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To execute the playbook only on <b><span style='font-family:
"Courier New";color:#EF2929'>server1</span></b>, connecting as <b><span
style='font-family:"Courier New";color:#EF2929'>sammy</span></b>, you can use
the following command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ansible-playbook
playbook.yml -l </span><b><span style='font-family:"Courier New";color:#EF2929'>server1</span></b><span
style='font-family:"Courier New"'> -u </span><b><span style='font-family:"Courier New";
color:#EF2929'>sammy</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You will get output
similar to this:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY [all] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
********************************************************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Gathering Facts] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
********************************************** ok: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Install Prerequisites]
*******************************************************************
**************************************** changed: [server1] =&gt;
(item=aptitude) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>... </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [UFW - Allow HTTP on port 80]
*******************************************************************
********************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Sets Up PHP Info Page]
*******************************************************************
**************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>RUNNING HANDLER [Reload Nginx]
*******************************************************************
************************************** changed: [server1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY RECAP </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>*******************************************************************
********************************************************** server1         :
ok=12   changed=9    unreachable=0    failed=0    skipped=0    rescued=0   
ignored=0 </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: For more information on how to run Ansible playbooks,
check our <a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>Ansible Cheat Sheet Guide</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When the playbook is finished running, go to your web
browser and access the host or IP address of the server, as configured in the
playbook variables, followed by <span style='font-family:"Courier New"'>/info.php</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>server_host_or_IP</span></b><span
style='font-family:"Courier New"'>/info.php</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You will see a page like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=493 id="Picture 15087"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image025.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.9pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>phpinfo
page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Because this page contains sensitive information about your
PHP environment, it is recommended that you remove it from the server by
running an <span style='font-family:"Courier New"'>rm -f /var/www/info.php</span>
command once you have finished setting it up.</p>

<h2 style='margin-left:-.25pt'>The Playbook Contents</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>You can find the LEMP server setup featured
in this tutorial in the <a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF'>lem</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF;text-decoration:none'>p</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='font-family:"Courier New";color:#3445FF'>_ubuntu1804</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'>folder inside the </span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Di</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>italOcean Communit</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>Pla</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://github.com/do-community/ansible-playbooks"><span
style='color:black;text-decoration:none'> repository. To copy or download the
script contents directly, </span></a>click the Raw button towards the top of
each script.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>The full contents of the playbook as well as its associated
files are also included here for your convenience.</p>

<h3 style='margin-left:-.25pt'>vars/default.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.45pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>default.yml</span>
variable file contains values that will be used within the playbook tasks, such
as the password for the MySQL root account and the domain name to configure
within Nginx.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>vars/default.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>mysql_root_password: &quot;</span><b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>mysql_root_password</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>&quot; http_host:
&quot;</span><b><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New";color:#EF2929'>your_domain</span></b><span style='font-size:11.0pt;
line-height:193%;font-family:"Courier New"'>&quot; http_conf: &quot;</span><b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'>.conf&quot;
http_port: &quot;</span><b><span style='font-size:11.0pt;line-height:193%;
font-family:"Courier New";color:#EF2929'>80</span></b><span style='font-size:
11.0pt;line-height:193%;font-family:"Courier New"'>&quot;</span></p>

<h3 style='margin-left:-.25pt'>files/nginx.conf.j2</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>nginx.conf.j2</span>
file is a <a href="https://jinja.palletsprojects.com/en/2.10.x/"><span
style='color:#3445FF'>Jin</span></a><a
href="https://jinja.palletsprojects.com/en/2.10.x/"><span style='color:#3445FF;
text-decoration:none'>j</span></a><a
href="https://jinja.palletsprojects.com/en/2.10.x/"><span style='color:#3445FF'>a
2</span></a><a href="https://jinja.palletsprojects.com/en/2.10.x/"><span
style='color:black;text-decoration:none'> </span></a>template file that
configures the Nginx web server. The variables used within this template are
defined in the <span style='font-family:"Courier New"'>vars/default.yml</span>
variable file.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>files/nginx.conf.j2</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>server { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:222.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       listen {{ http_port }};        root /var/www/html; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       index index.php index.html index.htm
index.nginxdebian.html; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       server_name {{ http_host }}; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       location / { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>               try_files $uri $uri/ =404; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:398.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       }  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       location ~ \.php$ { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:40.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>               include snippets/fastcgi-php.conf;               
fastcgi_pass unix:/var/run/php/php7.2-fpm.sock; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:398.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       }  </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:256.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       location ~ /\.ht {                deny all; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:391.5pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       } } </span></p>

<h3 style='margin-left:-.25pt'>files/info.php.j2</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>info.php.j2</span>
file is another Jinja template, used to set up a test PHP script in the
document root of the newly configured LEMP server.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>files/info.php.j2</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:351.0pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&lt;?php phpinfo(); </span></p>

<h3 style='margin-left:-.25pt'>playbook.yml</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The <span style='font-family:"Courier New"'>playbook.yml</span>
file is where all tasks from this setup are defined. It starts by defining the
group of servers that should be the target of this setup (<span
style='font-family:"Courier New"'>all</span>), after which it uses <span
style='font-family:"Courier New"'>become: true</span> to define that tasks
should be executed with privilege escalation (<span style='font-family:"Courier New"'>sudo</span>)
by default. Then, it includes the <span style='font-family:"Courier New"'>vars/default.yml</span>
variable file to load configuration options.<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.55pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>playbook.yml</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:364.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>--- - hosts: all   become: true   vars_files: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>vars/default.yml
</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:411.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  tasks: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>name:
Install Prerequisites </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:87.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>     apt: name={{ item }} update_cache=yes state=latest
force_apt_get=yes      loop: [ 'aptitude' ] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:110%;font-family:"Courier New"'>name:
Install LEMP Packages </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>     apt: name={{ item }} update_cache=yes state=latest      loop:
[ 'nginx', 'mysql-server', 'python3-pymysql', 'php-fpm', </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>'php-mysql' ] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'># Nginx Configuration </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name: Sets
Nginx conf file      template: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       src: &quot;files/nginx.conf.j2&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       dest: &quot;/etc/nginx/sites-available/{{ http_conf
}}&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Enables new site      file: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:81.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       src: &quot;/etc/nginx/sites-available/{{ http_conf
}}&quot;        dest: &quot;/etc/nginx/sites-enabled/{{ http_conf
}}&quot;        state: link      notify: Reload Nginx </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Removes &quot;default&quot; site      file: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:141.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       path: &quot;/etc/nginx/sites-enabled/default&quot;       
state: absent      notify: Reload Nginx </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'># MySQL Configuration </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name: Sets
the root password      mysql_user:        name: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       password: &quot;{{ mysql_root_password }}&quot;       
login_unix_socket: /var/run/mysqld/mysqld.sock </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Removes all anonymous user accounts      mysql_user:        name: ''       
host_all: yes        state: absent        login_user: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       login_password: &quot;{{ mysql_root_password }}&quot; </span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%;
font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Removes the MySQL test database      mysql_db:        name: test        state:
absent        login_user: root </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>       login_password: &quot;{{ mysql_root_password }}&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'># UFW Configuration </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
&quot;UFW - Allow HTTP on port {{ http_port }}&quot;      ufw: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:256.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       rule: allow        port: &quot;{{ http_port
}}&quot;        proto: tcp </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'># Sets Up PHP Info Page </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name: Sets
Up PHP Info Page      template: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:209.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       src: &quot;files/info.php.j2&quot;        dest:
&quot;/var/www/html/info.php&quot; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:391.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'># Handlers   handlers: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:9.95pt;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Reload Nginx      service: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       name: nginx        state: reloaded </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:175.5pt;
margin-bottom:0in;margin-left:13.5pt;text-align:left;text-indent:-13.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>-<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:11.0pt;line-height:187%;font-family:"Courier New"'>name:
Restart Nginx      service: </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:290.25pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>       name: nginx        state: restarted </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Feel free to modify these files to best suit your
individual needs within your own workflow.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this guide, we used Ansible to automate
the process of installing and setting up a LEMP environment on a remote server.
Because each individual typically has different needs when working with MySQL <a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:black;text-decoration:none'>databases and users, we encourage you
to check out the </span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:#3445FF'>official Ansible documentation</span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='color:black;text-decoration:none'> for more information and use cases of
the </span></a><a
href="https://docs.ansible.com/ansible/latest/modules/mysql_user_module.html#mysql-user-module"><span
style='font-family:"Courier New";color:black;text-decoration:none'>mysql_user </span></a>Ansible
module.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;line-height:141%'>If
you’d like to include other tasks in this playbook to further customize your
server setup, please refer to our introductory Ansible guide <a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>uration Mana</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>ement 101: Writin</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'> Ansible Pla</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:#3445FF'>books</span></a><a
href="https://www.digitalocean.com/community/tutorials/configuration-management-101-writing-ansible-playbooks"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Acquire a Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>pt Certificate</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-acquire-a-let-s-encrypt-certificate-using-ansible-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> Ansible on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Jamie Scaife</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to use Ansible to
automate setting up Letsencrypt TLS certificates. This chapter is a companion
to Chapters 11 and 12, where you learned how to set up and install a
Letsencrypt TLS certificate for your <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>ache</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>and <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>inx</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>servers respectively.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 155830"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The author selected the <a
href="https://www.brightfunds.org/organizations/electronic-frontier-foundation-inc"><span
style='color:#3445FF'>Electronic Frontier Foundation</span></a><a
href="https://www.brightfunds.org/organizations/electronic-frontier-foundation-inc"><span
style='color:black;text-decoration:none'> </span></a>to receive a donation as
part of the <a href="https://do.co/w4do-cta"><span style='color:#3445FF'>Write
for DOnations</span></a><a href="https://do.co/w4do-cta"><span
style='color:black;text-decoration:none'> </span></a>program.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Modern infrastructure management is best done using
automated processes and tools. Acquiring a <a href="https://letsencrypt.org/"><span
style='color:#3445FF'>Let’s Encr</span></a><a href="https://letsencrypt.org/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://letsencrypt.org/"><span style='color:#3445FF'>pt</span></a><a
href="https://letsencrypt.org/"><span style='color:black;text-decoration:none'>
</span></a>certificate using the standard <a
href="https://certbot.eff.org/about/"><span style='color:#3445FF'>Certbot</span></a><a
href="https://certbot.eff.org/about/"><span style='color:black;text-decoration:
none'> </span></a>client is quick and easy, but is generally a task that has to
be done manually when commissioning servers. This is manageable for an
individual server setup, but can become tedious when deploying a larger fleet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Using a configuration management tool such as <a
href="https://www.ansible.com/"><span style='color:#3445FF'>Ansible</span></a><a
href="https://www.ansible.com/"><span style='color:black;text-decoration:none'>
</span></a>to acquire a certificate makes this task completely automatic and
reproducible. If you <a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>ever have to rebuild or update your
server, you can just run your </span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>Ansible </span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>la</span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>book</span></a><a
href="https://www.digitalocean.com/community/cheatsheets/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>, rather than having to manually carry
out the steps again.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>In this tutorial, you’ll write an Ansible playbook to
acquire a Let’s Encrypt certificate automatically for an Ansible host machine.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To complete this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.2pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 156056"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>Two Ubuntu 18.04 servers set up by
following the </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Initial Server Setup with Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>, including a sudo non-root user.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The first server will be used as your Ansible server, which
we will call Ansible server throughout this tutorial. This is where Ansible
will run to send the commands to the host machine. Alternatively, you can use
your local machine or any other machine that has your Ansible inventory
configured as your Ansible server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>On your Ansible server,
you’ll need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 156057"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> A
correctly configured Ansible installation that is able to connect to <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>your Ansible hosts by following </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install and Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>The second server will be used as your Ansible host, which
we will call the host machine throughout this tutorial. This is the machine
that you wish to configure and issue certificates on. This machine will also
run a web server to serve the certificate issuance validation files. On your
host machine, you’ll need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 156058"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> A
domain name that you are eligible to acquire a TLS certificate for, with the
required DNS records configured to point to your Ansible host machine. In this
particular example, the playbook will acquire a certificate valid for <b><span
style='font-family:"Courier New";color:#EF2929'>your-domain</span></b> and <span
style='font-family:"Courier New"'>www.</span><b><span style='font-family:"Courier New";
color:#EF2929'>your-domain</span></b>, however it can be adjusted for other
domains or subdomains if required.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.45pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><span style='font-size:
11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img border=0
width=6 height=6 id="Group 156059"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> A
web server that is accessible from the internet over port <span
style='font-family:"Courier New"'>80</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:0in;line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>(HTTP), for example by following steps
1, 2, and 3 of </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:30.0pt;text-indent:0in'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>the A</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:#3445FF'>ache Web Server on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. This could also be an Nginx </span></a>server,
or any other suitable web server software.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once you have these ready, log in to your Ansible server as
your nonroot user to begin.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Configuring the Settings for the Let’s
Encrypt Ansible Module</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Ansible has a built-in module named <span
style='font-family:"Courier New"'>letsencrypt</span>, which allows you to <a
href="https://tools.ietf.org/html/rfc8555"><span style='color:black;text-decoration:
none'>acquire valid TLS certificates using the ACME (</span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>Automated
Certificate Mana</span></a><a href="https://tools.ietf.org/html/rfc8555"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>ement
Environment</span></a><a href="https://tools.ietf.org/html/rfc8555"><span
style='color:black;text-decoration:none'>) protocol.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this first step, you will add a host variables
configuration file to define the configuration variables that are required to
use the module.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: The <span style='font-family:"Courier New"'>letsencrypt</span>
module has been renamed to <a
href="https://docs.ansible.com/ansible/latest/modules/acme_certificate_module.html#acme-certificate-module"><span
style='font-family:"Courier New";color:#3445FF'>acme_certificate</span></a><a
href="https://docs.ansible.com/ansible/latest/modules/acme_certificate_module.html#acme-certificate-module"><span
style='color:black;text-decoration:none'> </span></a>as of Ansible 2.6. The <span
style='font-family:"Courier New"'>letsencrypt</span> name is now an alias of <span
style='font-family:"Courier New"'>acme_certificate</span>, so will still work,
but you way wish to use <span style='font-family:"Courier New"'>acme_certificate</span>
instead, to ensure future-proofness of your playbooks. You can check your
Ansible version using <span style='font-family:"Courier New"'>ansible -version</span>.
As of the writing of this tutorial, the Ubuntu 18.04 Apt repositories don’t
support <span style='font-family:"Courier New"'>acme_certificate</span> yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Firstly, create the <span style='font-family:"Courier New"'>host_vars</span>
Ansible directory on your Ansible server:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo mkdir
/etc/ansible/host_vars</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, create a new file in the <span style='font-family:
"Courier New"'>/etc/ansible/host_vars</span> directory with the name of your
Ansible host machine. In this example, you’ll use <span style='font-family:
"Courier New"'>host1</span> as the name of the host:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/ansible/host_vars/</span><b><span style='font-family:"Courier New";
color:#EF2929'>host1</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The following sample configuration includes everything you
need to get started, including: the validation method and server address, an
email address to receive certificate expiry reminders to, and the directories
where your Let’s Encrypt keys and certificates will be saved.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>Copy the sample configuration into the
file:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:2.05pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/ansible/host_vars/host1</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>acme_challenge_type: http-01 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>acme_directory: https://acme-v02.api.letsencrypt.org/directory
acme_version: 2 </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:87.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:189%'><span style='font-size:11.0pt;line-height:189%;font-family:
"Courier New"'>acme_email: </span><b><span style='font-size:11.0pt;line-height:
189%;font-family:"Courier New";color:#EF2929'>certificate-reminders@your-domain</span></b><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>
letsencrypt_dir: /etc/letsencrypt letsencrypt_keys_dir: /etc/letsencrypt/keys
letsencrypt_csrs_dir: /etc/letsencrypt/csrs letsencrypt_certs_dir:
/etc/letsencrypt/certs </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:26.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>letsencrypt_account_key: /etc/letsencrypt/account/account.key
domain_name: </span><b><span style='font-size:11.0pt;line-height:187%;
font-family:"Courier New";color:#EF2929'>your-domain</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close the file
when you’ve finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Adjust the domain name and email address as required. You
can use any email address—it doesn’t have to be the one on <b><span
style='font-family:"Courier New";color:#EF2929'>your-domain</span></b>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Some of the directory/file paths defined may not actually
exist on your server yet. This is OK; the first part of the playbook will be to
create these directories and assign the relevant permissions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You’ve added the required configuration variables to your
Ansible inventory file. Next, you will begin writing the playbook to acquire a
certificate.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Creating the Let’s Encrypt Directories
and Account Key</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this step, you’ll write the Ansible
tasks that you’ll use to create the required Let’s Encrypt directories, assign
the correct permissions, and generate a Let’s Encrypt account key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Firstly, create a new playbook named <span
style='font-family:"Courier New"'>letsencrypt-issue.yml</span> on your Ansible
server in a new directory of your choice, for example <span style='font-family:
"Courier New"'>/home/user/ansible-playbooks</span>: <span style='font-family:
"Courier New"'>cd ~ mkdir </span><b><span style='font-family:"Courier New";
color:#EF2929'>ansible-playbooks</span></b><span style='font-family:"Courier New"'>
cd </span><b><span style='font-family:"Courier New";color:#EF2929'>ansible-playbooks</span></b><span
style='font-family:"Courier New"'> nano letsencrypt-issue.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>Before you can start writing Ansible tasks, you’ll need to
specify the hosts and associated settings. Adjust the following according to
how you referred to your hosts in the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-setting-up-ansible-hosts"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-setting-up-ansible-hosts"><span
style='color:#3445FF'>rere</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-setting-up-ansible-hosts"><span
style='color:#3445FF;text-decoration:none'>q</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-setting-up-ansible-hosts"><span
style='color:#3445FF'>uisite tutorial</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-ansible-on-ubuntu-18-04#step-3-%E2%80%94-setting-up-ansible-hosts"><span
style='color:black;text-decoration:none'>.</span></a> Then add the following to
the top of the file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New";color:#BC7A00'>---</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.4pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>hosts</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;</span><b><span style='font-family:"Courier New";
color:#EF2929'>host1</span></b><span style='font-family:"Courier New";
color:#4070A0'>&quot; </span><span style='font-family:"Courier New";color:#7D9029'> </span><span
style='font-family:"Courier New";color:#06287E'>tasks</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now you can begin writing the required tasks, the first of
which is to create the file system directories required to store the Let’s
Encrypt files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Add the following Ansible
task to the file after the previous content:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>name: &quot;Create required
directories in /etc/lets   file:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:1.25in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
path: &quot;/etc/letsencrypt/{{ item }}&quot;      state: directory      owner:
root      group: root      mode: u=rwx,g=x,o=x    with_items:    - account</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>certs</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>csrs</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>keys</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.5pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 156267"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image026.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This Ansible task will create the <span style='font-family:
"Courier New"'>account</span>, <span style='font-family:"Courier New"'>certs</span>,
<span style='font-family:"Courier New"'>csrs</span>, and <span
style='font-family:"Courier New"'>keys </span>directories in <span
style='font-family:"Courier New"'>/etc/letsencrypt</span>, which is where the
files required for acquiring certificates will be stored.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You set the owner of the directories to <span
style='font-family:"Courier New"'>root</span> and apply the permissions <span
style='font-family:"Courier New"'>u=rwx,g=x,o=x</span> so that only <span
style='font-family:"Courier New"'>root</span> has read and write access to
them. This is recommended as the directories will contain private keys, <a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF'>certificate si</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF'>nin</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF'> re</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF;text-decoration:none'>q</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF'>uests </span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:#3445FF'>CSRs)</span></a><a
href="https://en.wikipedia.org/wiki/Certificate_signing_request"><span
style='color:black;text-decoration:none'>,</span></a> and signed certificates,
which should be kept confidential.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Next, the Let’s Encrypt account key needs to be created.
You’ll use this to identify yourself to the Let’s Encrypt service.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Add the following task to
your playbook:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'> -
name: &quot;Generate a Let's Encrypt account key&quot;    shell: &quot;if [ !
-f {{ letsencrypt_account_key }}</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.15pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 155905"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image027.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The account key doesn’t need to be re-created every time
you renew the certificates, so you also add a check for an existing key <span
style='font-family:"Courier New"'>if [ ! -f {{ letsencrypt_account_key }} ];</span>,
to make sure that it isn’t overwritten.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ll continue to work in <span style='font-family:"Courier New"'>letsencrypt-issue.yml</span>
in the next step, so don’t close this file yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You’ve created your playbook and set up the initial
configuration and tasks in order to prepare for acquiring your Let’s Encrypt
certificate. Next, you will add further tasks for the private key and CSR
generation.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Generating Your Private Key and
Certificate Signing Request</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this step, you’ll write the playbook
tasks to generate the required private key and certificate signing request.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>The first task in this section will generate the required
private key for your certificate. Add the following to the end of your playbook
that you started writing in Step 2:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:171.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>] </span></b><i><span
style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#60A0B0'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='font-family:"Courier New";color:#60A0B0'>name:
&quot;Generate Let's Encrypt private key&quot;   shell: &quot;openssl genrsa
4096 | sudo tee /etc/let</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.15pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 156442"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image028.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Subdomains on the same domain will all be added to the same
certificate through the use of <a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:#3445FF'>Sub</span></a><a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:#3445FF'>ect Alternate Names </span></a><a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:#3445FF'>SANs)</span></a><a
href="https://en.wikipedia.org/wiki/Subject_Alternative_Name"><span
style='color:black;text-decoration:none'>,</span></a> so you only need to
generate one private key for now.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ll use the next task to generate a Certificate Signing
Request (CSR) for the certificate that you want to acquire. This is submitted
to Let’s Encrypt in order for them to validate and issue each certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Add the following to the
end of the playbook:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#60A0B0'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='font-family:"Courier New";color:#60A0B0'>name:
&quot;Generate Let's Encrypt CSR&quot;   shell: &quot;openssl req -new -sha256
-key /etc/lets    args:      executable: /bin/bash</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 156443"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image029.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This task generates a CSR for your domain, with the <span
style='font-family:"Courier New"'>www</span> subdomain added to the certificate
as a SAN.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ll continue to work in <span style='font-family:"Courier New"'>letsencrypt-issue.yml</span>
in the next step, so don’t close this file yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ve written the Ansible tasks to generate the private
key and CSR for your certificate. Next, you’ll work on the tasks that will
begin the validation and issuance process.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Starting the ACME Validation Process</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this step, you’ll write a task to submit
the Certificate Signing Request to Let’s Encrypt using the outputted files from
the task documented in Step 3. This will return some <span style='font-family:
"Courier New"'>challenge</span> files, which you’ll need to serve on your web
server in order to prove ownership of the domain name and subdomain for which
you’re requesting a certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.0pt;
margin-left:-.75pt'>The following task will submit the CSR for <b><span
style='font-family:"Courier New";color:#EF2929'>your-domain</span></b>. Add it
to the end of your playbook:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'> -
name: &quot;Begin Let's Encrypt challenges&quot;    letsencrypt:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
acme_directory: &quot;{{ acme_directory }}&quot;      acme_version: &quot;{{
acme_version }}&quot;      account_key_src: &quot;{{
letsencrypt_account_key      account_email: &quot;{{ acme_email }}&quot;     
terms_agreed: 1      challenge: &quot;{{ acme_challenge_type }}&quot;      csr:
&quot;{{ letsencrypt_csrs_dir }}/{{ domain_na      dest: &quot;{{
letsencrypt_certs_dir }}/{{ domain_      fullchain_dest: &quot;{{
letsencrypt_certs_dir }}/      remaining_days: 91    register: acme_challenge_</span></i><b><i><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></i></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.25pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=15 id="Group 157140"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image030.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This task makes wide usage of the variables that you
configured in Step 1. It registers a variable containing the ACME challenge
files that you’ll use in the next step. You’ll need to manually adjust the name
of the variable to contain <b><span style='font-family:"Courier New";
color:#EF2929'>your-domain</span></b>, but with all <span style='font-family:
"Courier New"'>.</span> characters replaced with a <span style='font-family:
"Courier New"'>_</span>, as dots cannot be used in a variable name. For
example, the variable for <span style='font-family:"Courier New"'>example.com</span>
would become <span style='font-family:"Courier New"'>acme_challenge_example_com</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ll continue to work in <span style='font-family:"Courier New"'>letsencrypt-issue.yml</span>
in the next step, so don’t close this file yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You’ve written a task to submit your CSR to Let’s Encrypt.
Next, you will add a task to implement the ACME challenge files for
finalization of the certificate validation process.</p>

<h2 style='margin-left:-.25pt'>Step 5 — Implementing the ACME Challenge Files</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this step, you will write an Ansible
task to read and implement the ACME challenge files. These files prove that
you’re eligible to acquire a certificate for the requested domains and
subdomains.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The <a href="https://letsencrypt.org/docs/challenge-types/"><span
style='color:#3445FF'>ACME challen</span></a><a
href="https://letsencrypt.org/docs/challenge-types/"><span style='color:#3445FF;
text-decoration:none'>g</span></a><a
href="https://letsencrypt.org/docs/challenge-types/"><span style='color:#3445FF'>e
files</span></a><a href="https://letsencrypt.org/docs/challenge-types/"><span
style='color:black;text-decoration:none'> </span></a>must be served on a web
server listening on port <span style='font-family:"Courier New"'>80</span>, at
the <span style='font-family:"Courier New"'>/.well-known/acme-challenge/</span>
path for the domain or subdomain that you’re requesting a certificate for. For
example, in order to validate the certificate request for <span
style='font-family:"Courier New"'>www.</span><b><span style='font-family:"Courier New";
color:#EF2929'>your-domain</span></b>, the ACME challenge file will need to be
accessible over the internet at the following path: <span style='font-family:
"Courier New"'>http://www.</span><b><span style='font-family:"Courier New";
color:#EF2929'>your-domain</span></b><span style='font-family:"Courier New"'>/.well-known/acmechallenge</span>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The method for serving these files at the required
destinations will vary significantly depending on your current web server
setup. However, in this guide, we will assume that you have a web server (as
per the prerequisite tutorial) configured to serve files out of the <span
style='font-family:"Courier New"'>/var/www/html</span> directory. Therefore you
may need to adjust the task accordingly in order to be compatible with your own
web server setup.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.1pt;
margin-left:-.75pt'>Firstly, add the following task that creates the <span
style='font-family:"Courier New"'>.well-known/acmechallenge/</span> directory
structure required to serve the files to the end of your playbook:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'> -
name: &quot;Create .well-known/acme-challenge direct    file:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
path: </span></i><b><i><span style='font-family:"Courier New";color:#EF2929'>/var/www/html</span></i></b><i><span
style='font-family:"Courier New";color:#60A0B0'>/.well-known/acme-challeng     
state: directory      owner: root      group: root      mode: u=rwx,g=rx,o=rx</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.15pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 157284"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image031.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Make sure to adjust the path accordingly if you are using a
directory other than <span style='font-family:"Courier New"'>/var/www/html</span>
to serve files with your web server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.15pt;
margin-left:-.75pt'>Next, you’ll implement the ACME challenge files that were
saved into the <span style='font-family:"Courier New"'>acme_challenge_</span><b><span
style='font-family:"Courier New";color:#EF2929'>your-domain</span></b> variable
in Step 4 with the following task:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#60A0B0'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>name: &quot;Implement http-01
challenge files&quot;copy:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>  
copy:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
content: &quot;{{ acme_challenge_</span></i><b><i><span style='font-family:
"Courier New";color:#EF2929'>your_domain</span></i></b><i><span
style='font-family:"Courier New";color:#60A0B0'>['chal      dest:
&quot;/var/www/html/{{ acme_challenge_</span></i><b><i><span style='font-family:
"Courier New";color:#EF2929'>your_d </span></i></b><i><span style='font-family:
"Courier New";color:#60A0B0'>     owner: root      group: root      mode:
u=rw,g=r,o=r    with_items:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#60A0B0'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>&quot;{{ domain_name }}&quot;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#60A0B0'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='font-family:"Courier New";color:#60A0B0'>&quot;www.{{ domain_name
}}&quot;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.15pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 157326"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image032.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that you need to manually adjust the <span
style='font-family:"Courier New"'>acme_challenge_</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b> variable
name in the task to be set to the name of your ACME challenge variable, which
is <span style='font-family:"Courier New"'>acme_challenge_</span> followed by
your domain name, but with all <span style='font-family:"Courier New"'>. </span>characters
replaced with <span style='font-family:"Courier New"'>_</span>. This Ansible
task copies the ACME validation files from the variable into the <span
style='font-family:"Courier New"'>.well-known/acme-challenge</span> path on
your web server. This will allow Let’s Encrypt to retrieve them in order to
verify the ownership of the domain and your eligibility to acquire a
certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You’ll continue to work in <span style='font-family:"Courier New"'>letsencrypt-issue.yml</span>
in the next step, so don’t close this file yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You’ve written the Ansible tasks required to create the
ACME validation directory and files. Next, you will complete the ACME
verification process and acquire the signed certificate.</p>

<h2 style='margin-left:-.25pt'>Step 6 — Acquiring Your Certificate</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this step, you’ll write a task to
trigger Let’s Encrypt to verify the ACME challenge files that you submitted,
which will allow you to acquire your signed certificate(s).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:14.25pt;
margin-left:-.75pt'>The following task validates the ACME challenge files that
you implemented in Step 5 and saves your signed certificates to the specified
paths. Add it to the end of your playbook:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><i><span style='font-family:"Courier New";color:#60A0B0'>...</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'> -
name: &quot;Complete Let's Encrypt challenges&quot;    letsencrypt:</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:23.25pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
acme_directory: &quot;{{ acme_directory }}&quot;      acme_version: &quot;{{
acme_version }}&quot;      account_key_src: &quot;{{
letsencrypt_account_key      account_email: &quot;{{ acme_email }}&quot;     
challenge: &quot;{{ acme_challenge_type }}&quot;      csr: &quot;{{
letsencrypt_csrs_dir }}/{{ domain_na</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:140%'><i><span style='font-family:"Courier New";color:#60A0B0'>    
dest: &quot;{{ letsencrypt_certs_dir }}/{{ domain_      chain_dest: &quot;{{
letsencrypt_certs_dir }}/chai      fullchain_dest: &quot;{{
letsencrypt_certs_dir }}/      data: &quot;{{ acme_challenge_</span></i><b><i><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></i></b><i><span
style='font-family:"Courier New";color:#60A0B0'> }}&quot;</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.9pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=15 id="Group 157637"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image033.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Similarly to Step 4, this task makes use of the variables
that you configured in Step 1. Once the task has completed, it will save the
signed certificate to the specified paths, allowing you to begin using it for
your application or service.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note that you’ll need to manually adjust the <span
style='font-family:"Courier New"'>data</span> value in the task to be set to
the name of your ACME challenge variable, similarly to Step 5.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.15pt;
margin-bottom:19.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>Following is the full playbook showing each of the tasks
you’ve added:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:5.25pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><b><span style='font-family:"Courier New";color:#007020'>[</span></b><span
style='font-family:"Courier New";color:#7D9029'>label letsencrypt-issue.yml</span><b><span
style='font-family:"Courier New";color:#007020'>]</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.5pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:140%'><span style='line-height:140%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>hosts</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;</span><b><span style='font-family:"Courier New";
color:#EF2929'>host1</span></b><span style='font-family:"Courier New";
color:#4070A0'>&quot; </span><span style='font-family:"Courier New";color:#7D9029'> </span><span
style='font-family:"Courier New";color:#06287E'>tasks</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Create required directories in /etc/lets </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>file</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:0in;margin-left:9.5pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>path</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;/etc/letsencrypt/{{ item }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>state</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> directory      </span><span
style='font-family:"Courier New";color:#06287E'>owner</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root      </span><span
style='font-family:"Courier New";color:#06287E'>group</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root      </span><span
style='font-family:"Courier New";color:#06287E'>mode</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> u=rwx,g=x,o=x    </span><span
style='font-family:"Courier New";color:#06287E'>with_items</span><b><span
style='font-family:"Courier New";color:#007020'>: </span></b><span
style='font-family:"Courier New";color:#7D9029'>   </span><b><span
style='font-family:"Courier New";color:#007020'>-</span></b><span
style='font-family:"Courier New";color:#7D9029'> account</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:110%'><span style='line-height:110%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#7D9029'>certs</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:110%'><span style='line-height:110%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#7D9029'>csrs</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:52.5pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:110%'><span style='line-height:110%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#7D9029'>keys</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.85pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Generate a Let's Encrypt account key&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>shell</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;if [ ! -f {{ letsencrypt_account_key }}</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.85pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Generate Let's Encrypt private key&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>shell</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;openssl genrsa 4096 | sudo tee /etc/let </span><span
style='font-family:"Courier New";color:#7D9029'> </span><b><span
style='font-family:"Courier New";color:#007020'>-</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#06287E'>name</span><b><span style='font-family:"Courier New";
color:#007020'>:</span></b><span style='font-family:"Courier New";color:#7D9029'>
</span><span style='font-family:"Courier New";color:#4070A0'>&quot;Generate
Let's Encrypt CSR&quot; </span><span style='font-family:"Courier New";
color:#7D9029'>   </span><span style='font-family:"Courier New";color:#06287E'>shell</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;openssl req -new -sha256 -key /etc/lets </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>args</span><b><span
style='font-family:"Courier New";color:#007020'>: </span></b><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>executable</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> /bin/bash</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Begin Let's Encrypt challenges&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>letsencrypt</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:42.35pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:138%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>acme_directory</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_directory }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>acme_version</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_version }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>account_key_src</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_account_key </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>account_email</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_email }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>terms_agreed</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#40A070'>1 </span><span style='font-family:"Courier New";
color:#7D9029'>     </span><span style='font-family:"Courier New";color:#06287E'>challenge</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_challenge_type }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>csr</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_csrs_dir }}/{{ domain_na </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_certs_dir }}/{{ domain_ </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>fullchain_dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_certs_dir }}/ </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>remaining_days</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#40A070'>91 </span><span style='font-family:"Courier New";
color:#06287E'>   register</span><b><span style='font-family:"Courier New";
color:#007020'>: </span></b><span style='font-family:"Courier New";color:#7D9029'>acme_challenge_</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Create .well-known/acme-challenge direct </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>file</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:9.5pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>path</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New"'>/var/www/html</span><b><span style='font-family:"Courier New";
color:#EF2929'>/.well-known/acme-challeng </span></b><span style='font-family:
"Courier New";color:#7D9029'>     </span><span style='font-family:"Courier New";
color:#06287E'>state</span><b><span style='font-family:"Courier New";
color:#007020'>:</span></b><span style='font-family:"Courier New";color:#7D9029'>
directory      </span><span style='font-family:"Courier New";color:#06287E'>owner</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root      </span><span
style='font-family:"Courier New";color:#06287E'>group</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root </span><span
style='font-family:"Courier New";color:#06287E'>d</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:89.25pt;
margin-bottom:30.75pt;margin-left:9.5pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>mode</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> u=rwx,g=rx,o=rx</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Implement http-01 challenge files&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>copy</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:138%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>content</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_challenge_</span><span
style='font-family:"Courier New"'>your_domain</span><b><span style='font-family:
"Courier New";color:#EF2929'>['chal </span></b><span style='font-family:"Courier New";
color:#7D9029'>     </span><span style='font-family:"Courier New";color:#06287E'>dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;/var/www/html/{{ acme_challenge_</span><span
style='font-family:"Courier New"'>your_d </span><span style='font-family:"Courier New";
color:#7D9029'>     </span><span style='font-family:"Courier New";color:#06287E'>owner</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root      </span><span
style='font-family:"Courier New";color:#06287E'>group</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> root      </span><span
style='font-family:"Courier New";color:#06287E'>mode</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> u=rw,g=r,o=r    </span><span
style='font-family:"Courier New";color:#06287E'>with_items</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:107%'><span style='line-height:107%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#4070A0'>&quot;{{ domain_name }}&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:26.55pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#4070A0'>&quot;www.{{ domain_name
}}&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:26.25pt;text-align:left;text-indent:-.25in;
line-height:138%'><span style='line-height:138%;font-family:"Courier New";
color:#007020'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Courier New";color:#06287E'>name</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;Complete Let's Encrypt challenges&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>   </span><span
style='font-family:"Courier New";color:#06287E'>letsencrypt</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:9.0pt;
margin-bottom:21.35pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:138%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>acme_directory</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_directory }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>acme_version</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_version }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>account_key_src</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_account_key </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>account_email</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_email }}&quot; </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>challenge</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_challenge_type }}&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.35pt;margin-left:8.75pt;text-align:left;text-indent:-.5pt;
line-height:138%'><span style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>csr</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_csrs_dir }}/{{ domain_na </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_certs_dir }}/{{ domain_ </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>chain_dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_certs_dir }}/chai </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>fullchain_dest</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ letsencrypt_certs_dir }}/ </span><span
style='font-family:"Courier New";color:#7D9029'>     </span><span
style='font-family:"Courier New";color:#06287E'>data</span><b><span
style='font-family:"Courier New";color:#007020'>:</span></b><span
style='font-family:"Courier New";color:#7D9029'> </span><span style='font-family:
"Courier New";color:#4070A0'>&quot;{{ acme_challenge_</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_domain</span></b><span
style='font-family:"Courier New";color:#4070A0'> }}&quot;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:.25pt;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
border=0 width=610 height=15 id="Group 156817"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image029.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and close your file
when you’re finished.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>You’ve added the task to complete the ACME challenges and
acquire your signed certificate. Next, you’ll run the playbook against your
Ansible host machine in order to run all of the actions.</p>

<h2 style='margin-left:-.25pt'>Step 7 — Running Your Playbook</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you’ve written the playbook and
all of the required tasks, you can run it against your Ansible host machine to
issue the certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>From your Ansible server, you can run the playbook using
the <span style='font-family:"Courier New"'>ansible-playbook</span> command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>ansible-playbook
letsencrypt-issue.yml</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will run the playbook, one task at a time. You’ll see
output similar to the following:<br clear=all style='page-break-before:always'>
</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>*************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Gathering Facts] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:384.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>***** ok: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:94.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Create required directories in /etc/letsencrypt]
**************************************** changed: [host1] =&gt; (item=account)
changed: [host1] =&gt; (item=certs) changed: [host1] =&gt; (item=csrs) changed:
[host1] =&gt; (item=keys) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.75in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Generate a Let's Encrypt account key]
*************************************************** changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:40.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Generate Let's Encrypt private key]
***************************************************** changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>TASK [Generate Let's Encrypt CSR] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>*************************************************************
changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:13.5pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Begin Let's Encrypt challenges]
********************************************************* changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Create .well-known/acme-challenge directory]
******************************************** changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:94.5pt;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>TASK [Implement http-01 challenge files]
****************************************************** changed: [host1] =&gt;
(item=</span><b><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New";color:#EF2929'>your-domain</span></b><span style='font-size:11.0pt;
line-height:190%;font-family:"Courier New"'>) changed: [host1] =&gt; (item=www.</span><b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New";color:#EF2929'>your-domain</span></b><span
style='font-size:11.0pt;line-height:190%;font-family:"Courier New"'>) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:33.75pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>TASK [Complete Let's Encrypt challenges]
****************************************************** changed: [host1] </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>PLAY RECAP </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>*******************************************************************</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>***************** </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>host1                      : ok=9    changed=8   
unreachable=0    failed=0</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>If any errors are encountered while the playbook is
running, these will be outputted for your review.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once the playbook has finished, your valid Let’s Encrypt
certificate will be saved to the <span style='font-family:"Courier New"'>/etc/letsencrypt/certs</span>
directory on your host machine. You can then use this, along with the private
key in <span style='font-family:"Courier New"'>/etc/letsencrypt/keys</span>, to
secure connections to your web server, mail server, etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s Encrypt certificates are valid for 90 days by
default. You will receive renewal reminders via email to the address that you
specified in Step 1. To renew your certificate, you can run the playbook again.
Make sure to double check that any services using your certificate have picked
up the new one, as sometimes you may need to manually install it, move it to a
particular directory, or restart the service for it to properly adopt the new
certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>In this step, you ran your playbook which issued your valid
Let’s Encrypt certificate.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this article you wrote an Ansible
playbook to request and acquire a valid Let’s Encrypt certificate.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>As a next step, you can look into using your new playbook
to issue certificates for a large fleet of servers. You could even create a
central ACME validation server that can issue certificates centrally and
distribute them out to web servers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Finally, if you’d like to learn more about the ACME
specification and Let’s Encrypt project, you may wish to review the following
links:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:16.75pt;text-indent:0in;line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12><a href="https://letsencrypt.org/"><span style='color:
#3445FF'>Let’s Encr</span></a><a href="https://letsencrypt.org/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://letsencrypt.org/"><span style='color:#3445FF'>pt</span></a><a
href="https://letsencrypt.org/"><span style='color:black;text-decoration:none'>
</span></a>website and documentation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://docs.ansible.com/ansible/latest/modules/acme_certificate_module.html"><span
style='color:#3445FF'>Ansible acme_certificate Module</span></a><a
href="https://docs.ansible.com/ansible/latest/modules/acme_certificate_module.html"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.0pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:137%'><a href="https://tools.ietf.org/html/rfc8555"><span
style='color:#3445FF'>RFC8555 </span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>- </span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>Automated
Certificate Mana</span></a><a href="https://tools.ietf.org/html/rfc8555"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>ement
Environment </span></a><a href="https://tools.ietf.org/html/rfc8555"><span
style='color:#3445FF;text-decoration:none'>(</span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:#3445FF'>ACME)</span></a><a
href="https://tools.ietf.org/html/rfc8555"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:20.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You may also like to view
some other relevant Ansible tutorials:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:#3445FF'>How To Use Ansible: A Reference Guide</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-ansible-cheat-sheet-guide"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-automate-server-setup-with-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Automate Server Setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-automate-server-setup-with-ansible-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-automate-server-setup-with-ansible-on-ubuntu-18-04"><span
style='color:#3445FF'> with Ansible on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-automate-server-setup-with-ansible-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-vault-to-protect-sensitive-ansible-data-on-ubuntu-16-04"><span
style='color:#3445FF'>How To Use Vault to Protect Sensitive Ansible Data on
Ubuntu 16.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-vault-to-protect-sensitive-ansible-data-on-ubuntu-16-04"><span
style='color:black;text-decoration:none'>.</span></a><br clear=all
style='page-break-before:always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install Git on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Lisa
Tagliaferri</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chpater explains how to install Git on an Ubuntu 18.04
server. It covers how to install Git using the default package that comes with
Ubuntu, as well as how to install Git from source code. Once you have Git
installed, the guide explains how to configure Git so that it knows your name
and email address, which it uses in commit logs to track who changed a file or
files.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 159206"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>An earlier version of this
tutorial was written by <a
href="https://www.digitalocean.com/community/users/bpb"><span style='color:
#3445FF'>Brennen Bearnes</span></a><a
href="https://www.digitalocean.com/community/users/bpb"><span style='color:
black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Version control systems are increasingly indispensable in
modern software development as versioning allows you to keep track of your
software at the source level. You can track changes, revert to previous stages,
and branch to create alternate versions of files and directories.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>One of the most popular version control systems currently
available is Git. Many projects’ files are maintained in a Git repository, and
sites like GitHub, GitLab, and Bitbucket help to facilitate software
development project sharing and collaboration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>In this guide, we will demonstrate how to install and
configure Git on an Ubuntu 18.04 server. We will cover how to install the
software in two different ways, each of which have their own benefits depending
on your specific needs.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In order to complete this tutorial, you
should have a non-root user with <span style='font-family:"Courier New"'>sudo</span>
privileges on an Ubuntu 18.04 server. To learn how to achieve this <a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>setup, follow our </span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>manual initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'> or run our </span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>automated scri</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>t</span></a><a
href="https://www.digitalocean.com/community/tutorials/automating-initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.0pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>With your server and user
set up, you are ready to begin.</p>

<h2 style='margin-left:-.25pt'>Installing Git with Default Packages</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Ubuntu’s default repositories provide you
with a fast method to install Git. Note that the version you install via these
repositories may be older than the newest version currently available. If you
need the latest release, consider moving to the <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#installing-git-from-source"><span
style='color:#3445FF'>next section</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#installing-git-from-source"><span
style='color:black;text-decoration:none'> </span></a>of this tutorial to learn
how to install and compile Git from source.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>First, use the apt package management tools to update your
local package index. With the update complete, you can download and install
Git:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:279.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt update sudo
apt install git</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.95pt;
margin-left:-.75pt'>You can confirm that you have installed Git correctly by
running the following command: <span style='font-family:"Courier New"'>git
--version</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:1.65pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:36.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>git version </span><b><span style='font-size:11.0pt;line-height:
110%;font-family:"Courier New";color:#EF2929'>2.17.1</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#setting-up-git"><span
style='color:black;text-decoration:none'>With Git successfully installed, you
can now move on to the </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#setting-up-git"><span
style='color:#3445FF'>Settin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#setting-up-git"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#setting-up-git"><span
style='color:#3445FF'> Up Git</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-git-on-ubuntu-18-04#setting-up-git"><span
style='color:black;text-decoration:none'> section of this tutorial to complete
your setup.</span></a></p>

<h2 style='margin-left:-.25pt'>Installing Git from Source</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>A more flexible method of installing Git is
to compile the software from source. This takes longer and will not be
maintained through your package manager, but it will allow you to download the
latest release and will give you some control over the options you include if
you wish to customize.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Before you begin, you need to install the software that Git
depends on. This is all available in the default repositories, so we can update
our local package index and then install the packages.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt update </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo apt install make
libssl-dev libghc-zlib-dev libcurl4-gnutls-dev libexpat1-dev gettext unzip</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>After you have installed the necessary dependencies, you
can go ahead <a href="https://github.com/git/git"><span style='color:black;
text-decoration:none'>and get the version of Git you want by visiting the </span></a><a
href="https://github.com/git/git"><span style='color:#3445FF'>Git </span></a><a
href="https://github.com/git/git"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://github.com/git/git"><span style='color:#3445FF'>ro</span></a><a
href="https://github.com/git/git"><span style='color:#3445FF;text-decoration:
none'>j</span></a><a href="https://github.com/git/git"><span style='color:#3445FF'>ect’s
mirror on GitHub</span></a><a href="https://github.com/git/git"><span
style='color:black;text-decoration:none'>, available via the following URL:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>https://github.com/git/git</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>From here, be sure that you are on the <span
style='font-family:"Courier New"'>master</span> branch. Click on the Tags link
and select your desired Git version. Unless you have a reason for downloading a
release candidate (marked as rc) version, try to avoid these as they may be
unstable.</p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection9>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:5.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=864 id="Picture 161462"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image034.gif"></p>

</div>

<span style='font-size:15.0pt;line-height:142%;font-family:"Times New Roman",serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=184 id="Picture 161466"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image035.gif"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.6pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>git change
branch select tags</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:2.95pt;
margin-left:-.75pt'>Next, on the right side of the page, click on the Clone or
download button, then right-click on Download ZIP and copy the link address
that ends in <span style='font-family:"Courier New"'>.zip</span>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=353 id="Picture 17607"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image036.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.35pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>right-click
on download zip to copy url</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Back on your Ubuntu 16.04 server, move into the <span
style='font-family:"Courier New"'>tmp</span> directory to download temporary
files.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cd /tmp</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>From there, you can use the <span style='font-family:"Courier New"'>wget</span>
command to install the copied zip file link. We’ll specify a new name for the
file: <span style='font-family:"Courier New"'>git.zip</span>. <span
style='font-family:"Courier New"'>wget https://github.com/git/git/archive/</span><b><span
style='font-family:"Courier New";color:#EF2929'>v2.18.0</span></b><span
style='font-family:"Courier New"'>.zip -O git.zip</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Unzip the file that you downloaded and move into the
resulting directory by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:313.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>unzip git.zip cd
git-*</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now, you can make the package and install it by typing
these two commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:142.85pt;
margin-bottom:.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>make
prefix=/usr/local all sudo make prefix=/usr/local install</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>To ensure that the install was successful, you can type <span
style='font-family:"Courier New"'>git -version</span> and you should receive
relevant output that specifies the current installed version of Git.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Now that you have Git installed, if you want to upgrade to
a later version, you can clone the repository, and then build and install. To
find the URL to use for the clone operation, navigate to the branch or tag that
you want on the <a href="https://github.com/git/git"><span style='color:#3445FF;
text-decoration:none'>p</span></a><a href="https://github.com/git/git"><span
style='color:#3445FF'>ro</span></a><a href="https://github.com/git/git"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://github.com/git/git"><span style='color:#3445FF'>ect’s GitHub </span></a><a
href="https://github.com/git/git"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://github.com/git/git"><span style='color:#3445FF'>a</span></a><a
href="https://github.com/git/git"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://github.com/git/git"><span style='color:#3445FF'>e</span></a><a
href="https://github.com/git/git"><span style='color:black;text-decoration:
none'> </span></a>and then copy the clone URL on the right side:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=334 id="Picture 17736"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image037.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>git copy
URL</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>At the time of writing,
the relevant URL is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>https://github.com/git/git.git</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Change to your home directory, and use <span
style='font-family:"Courier New"'>git clone</span> on the URL you just copied:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>cd ~ </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><span style='font-family:"Courier New"'>git clone </span><b><span
style='font-family:"Courier New";color:#EF2929'>https://github.com/git/git.git</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will create a new directory within your current
directory where you can rebuild the package and reinstall the newer version,
just like you did above. This will overwrite your older version with the new
version: <span style='font-family:"Courier New"'>cd git make prefix=/usr/local
all sudo make prefix=/usr/local install</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>With this complete, you can be sure that your version of
Git is up to date.</p>

<h2 style='margin-left:-.25pt'>Setting Up Git</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Now that you have Git installed, you should
configure it so that the generated commit messages will contain your correct
information.</p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>This can be achieved by using the <span style='font-family:
"Courier New"'>git config</span> command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Specifically, we need to provide our name
and email address because Git embeds this information into each commit we do.
We can go ahead and add this information by typing:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:52.85pt;
margin-bottom:.4pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:143%'><span style='font-family:"Courier New"'>git config --global
user.name &quot;</span><b><span style='font-family:"Courier New";color:#EF2929'>Your
Name</span></b><span style='font-family:"Courier New"'>&quot; git config
--global user.email &quot;</span><b><span style='font-family:"Courier New";
color:#EF2929'>youremail@domain.com</span></b><span style='font-family:"Courier New"'>&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.95pt;
margin-left:-.75pt'>We can see all of the configuration items that have been
set by typing: <span style='font-family:"Courier New"'>git config --list</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:221.6pt;
margin-bottom:24.9pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>user.name=</span><b><span style='font-size:11.0pt;line-height:
192%;font-family:"Courier New";color:#EF2929'>Your Name</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>
user.email=</span><b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New";color:#EF2929'>youremail@domain.com</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'> ...</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.95pt;
margin-left:-.75pt'>The information you enter is stored in your Git
configuration file, which you can optionally edit by hand with a text editor
like this: <span style='font-family:"Courier New"'>nano ~/.gitconfig</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.6pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>~/.gitconfig
contents</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:255.35pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>[user]   name = </span><b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New";color:#EF2929'>Your Name</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>   email = </span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>youremail@domain.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>There are many other options that you can set, but these
are the two essential ones needed. If you skip this step, you’ll likely see
warnings when you commit to Git. This makes more work for you because you will
then have to revise the commits you have done with the corrected information.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>You should now have Git
installed and ready to use on your system.</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:19.85pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>To learn more about how to use Git, check out these articles
and series:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><img width=6 height=1
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image012.gif"
align=left hspace=12><a
href="https://www.digitalocean.com/community/articles/how-to-use-git-effectively"><span
style='color:#3445FF'>How To Use Git Effectivel</span></a><a
href="https://www.digitalocean.com/community/articles/how-to-use-git-effectively"><span
style='color:#3445FF;text-decoration:none'>y</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/articles/how-to-use-git-branches"><span
style='color:#3445FF'>How To Use Git Branches</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:17.25pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-open-source"><span
style='color:#3445FF'>An Introduction to O</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-open-source"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-open-source"><span
style='color:#3445FF'>en Source</span></a><br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-git-effectively"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Use Git Effectivel</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-use-git-effectively"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Jason Kurtz</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this chapter you will learn how to use Git to manage
your workspace environment. You will also learn how to add an existing project
to a Git workspace. Once you are using Git with your project, this chapter
explains how to create commit file changes to Git, along with how to add commit
messages that annotate your changes. Finally, this chapter explains how you can
push changes to a remote server so that you can collaborate with others on a
project.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 158046"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This article assumes that you have git installed and that
your global configuration settings (namely username and email) are properly
set. If this is not the case, please refer to the <a
href="https://www.digitalocean.com/community/articles/how-to-install-git-on-ubuntu-12-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/articles/how-to-install-git-on-ubuntu-12-04"><span
style='color:#3445FF'>it introduction tutorial</span></a><a
href="https://www.digitalocean.com/community/articles/how-to-install-git-on-ubuntu-12-04"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Git is a very useful piece of software to help streamline
development for programming projects. It comes with no language requirements
nor file structure requirements, leaving it open for the developers to decide
how they want to structure their workflow.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Before using git for your development, it’s a good idea to
plan out your workflow. The workflow decision is typically based on the size
and scale of your project. To gain a basic understanding of git for now, a
simple, single-branch workflow will suffice. By default, the first branch on
any git project is called “master”. In a following tutorial in this series, you
will learn how to create other branches.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s create our first project and call it “testing”. (If
you already have a project that you want to import to git you can skip down to <u><span
style='color:#3445FF'>that section</span></u>.)</p>

<h2 style='margin-left:-.25pt'>Creating your workspace</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Just like you want to have a good, clean
work environment, the same idea applies to where you do your coding, especially
if you’re going to contribute to a number of projects at the same time. A good
suggestion might be to have a folder called git in your home directory which
has subfolders for each of your individual projects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>The first thing we need to
do is create our workspace environment:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>user@host ~ $ mkdir
-p ~/git/testing ; cd </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>~/git/testing</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The above commands will accomplish two things: 1) It
creates a directory called “git” in our home directory and then creates a
subdirectory inside of that called “testing” (this is where our project will
actually be stored). 2) It brings us to our project’s base directory.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once inside that directory, we need to create a few files
that will be in our project. In this step, you can either follow along and
create a few dummy files for testing purposes or you can create
files/directories you wish that are going to be part of your project.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.9pt;margin-bottom:
.25pt;margin-left:-.75pt'>We are going to create a test file to use in our
repository: <span style='font-family:"Courier New"'>user@host ~/git/testing $
touch file</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Once all your project files are in your workspace, you need
to start tracking your files with git. The next step explains that process.</p>

<h2 style='margin-left:-.25pt'>Converting an existing project into a workspace
environment</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Once all the files are in your git
workspace, you need to tell git that you want to use your current directory as
a git environment.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>user@host
~/git/testing $ git init Initialized empty Git repository in </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/home/user/git/testing/.git/
</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once your have initialized your new empty repository, you
can add your files.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The following will add all files and directories to your
newly created repository: <span style='font-family:"Courier New"'>user@host
~/git/testing $ git add .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In this case, no output is good output. Unfortunately, git
does not always inform you if something worked.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Every time you add or make changes to files, you need to
write a commit message. The next section describes what a commit message is and
how to write one.</p>

<h2 style='margin-left:-.25pt'>Creating a commit message</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>A commit message is a short message
explaining the changes that you’ve made. It is required before sending your
coding changes off (which is called a push) and it is a good way to communicate
to your co-developers what to expect from your changes. This section will
explain how to create them.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Commit messages are generally rather short, between one and
two sentences explaining what your change did. It is good practice to commit
each individual change before you do a push. You can push as many commits as
you like. The only requirement for any commit is that it involves at least one
file and it has a message. A push must have at least one commit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Continuing with our example, we are going to create the
message for our initial commit:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>user@host
~/git/testing $ git commit -m &quot;Initial </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Commit&quot; -a </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>[master (root-commit)
1b830f8] initial commit </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:241.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'> 0 files changed 
create mode 100644 file </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>There are two important parameters of the above command.
The first is -m, which signifies that our commit message (in this case “Initial
Commit”) is going to follow. Secondly, the -a signifies that we want our commit
message to be applied to all added or modified files. This is okay for the
first commit, but generally you should specify the individual files or
directories that we want to commit.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>We could have also done:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>user@host
~/git/testing $ git commit -m &quot;Initial </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Commit&quot; file</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>To specify a particular file to commit. To add additional
files or directories, you just add a space separated list to the end of that
command.</p>

<h2 style='margin-left:-.25pt'>Pushing changes to a remote server</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Up until this point, we have done
everything on our local server. That’s certainly an option to use git locally,
if you want to have any easy way to have version control of your files. If you
want to work with a team of developers, however, you’re going to need to push
changes to a remote server. This section will explain how to do that.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The first step to being able to push code to a remote
server is providing the URL where the repository lives and giving it a name. To
configure a remote repository to use and to see a list of all remotes (you can
have more than one), type the following:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:34.85pt;margin-bottom:
0in;margin-left:-.25pt;text-indent:-.5pt;line-height:140%'><span
style='font-family:"Courier New"'> user@host ~/git/testing $ git remote add
origin ssh://git@git.domain.tld/repository.git user@host ~/git/testing $ git
remote -v origin  ssh://git@git.domain.tld/repository.git </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:34.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>(fetch) origin 
ssh://git@git.domain.tld/repository.git </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>(push) </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The first command adds a remote, called “origin”, and sets
the URL to ssh://git@git.domain.tld/repository.git.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You can name your remote whatever you’d like, but the URL
needs to point to an actual remote repository. For example, if you wanted to
push code to GitHub, you would need to use the repository URL that they
provide.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you have a remote configured, you are now able to push
your code.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>You can push code to a
remote server by typing the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.6pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-family:"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.85pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>user@host
~/git/testing $ git push origin master Counting objects: 4, done. Delta
compression using up to 2 threads. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:43.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>Compressing objects:
100% (2/2), done. Writing objects: 100% (3/3), 266 bytes, done. </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>Total 3 (delta 1),
reused 1 (delta 0) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>To
ssh://git@git.domain.tld/repository.git </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>   0e78fdf..e6a8ddc 
master -&gt; master </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>“git push” tells git that we want to push our changes,
“origin” is the name of our newly-configured remote server and “master” is the
name of the first branch.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In the future, when you have commits that you want to push
to the server, you can simply type “git push”.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>I hope this article provided you with a basic understanding
of how git can be used effectively for a team of developers. The next article
in this series will provide a more in-depth analysis of git branches and why
they are so effective. By Jason Kurtz</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Install Jenkins on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Melissa
Anderson and Kathleen Juell</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This chapter demonstrates how to install Jenkins on a Linux
server. Jenkins is a Continuous Integration tool that helps automate repetitive
tasks like testing and deploying software. You will learn how to install
Jenkins from the upstream Jenkins project’s software repository, and how to run
it on a server. Once Jenkins is running, you’ll also learn how to configure the
correct firewall rules to allow access to it, along with how to configure the
administrative user and plugins.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:19.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 158533"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<h2 style='margin-left:-.25pt'>Introduction</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'><a href="https://jenkins.io/"><span
style='color:#3445FF'>Jenkins</span></a><a href="https://jenkins.io/"><span
style='color:black;text-decoration:none'> </span></a>is an open-source
automation server that automates the repetitive technical tasks involved in the
continuous integration and delivery of software. Jenkins is Java-based and can
be installed from Ubuntu packages or by downloading and running its web application
archive (WAR) file — a collection of files that make up a complete web
application to run on a server.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:16.2pt;
margin-left:-.75pt'>In this tutorial, you will install Jenkins by adding its
Debian package repository, and using that repository to install the package
with <span style='font-family:"Courier New"'>apt</span>.</p>

<h3 style='margin-left:-.25pt'>Prerequisites</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>To follow this tutorial,
you will need:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:30.0pt;text-indent:-13.25pt'><span style='font-size:11.0pt;
line-height:142%;font-family:"Calibri",sans-serif'><img border=0 width=6
height=6 id="Group 159743"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> One
Ubuntu 18.04 server configured with a non-root sudo user and firewall by
following the <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Ubuntu 18.04 initial server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>uide</span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>.</span></a> We <a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:black;text-decoration:none'>recommend starting with at least 1 GB
of RAM. See </span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:#3445FF'>Choosin</span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:#3445FF'> the Ri</span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:#3445FF'>ht Hardware for Masters</span></a><a
href="https://jenkins.io/doc/book/hardware-recommendations/"><span
style='color:black;text-decoration:none'> for guidance in planning the capacity
of </span></a>a production Jenkins installation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.35pt;margin-left:30.0pt;text-align:left;text-indent:-13.25pt;
line-height:140%'><span style='font-size:11.0pt;line-height:140%;font-family:
"Calibri",sans-serif'><img border=0 width=6 height=6 id="Group 159745"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image011.gif"></span> <a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:black;text-decoration:none'>Java </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:black;text-decoration:none'>8 </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:black;text-decoration:none'>installed, following our guidelines on
</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF'>installin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF'> s</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF'>ecific versions of O</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:#3445FF'>enJDK on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04#installing-specific-versions-of-openjdk"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-left:-.25pt'>Step 1 — Installing Jenkins</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>The version of Jenkins included with the
default Ubuntu packages is often behind the latest available version from the
project itself. To take advantage of the latest fixes and features, you can use
the projectmaintained packages to install Jenkins.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>First, add the repository
key to the system:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:.05pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>wget -q -O -
https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When the key is added, the system will return <span
style='font-family:"Courier New"'>OK</span>. Next, append the Debian package
repository address to the server’s <span style='font-family:"Courier New"'>sources.list</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:140%'><span style='font-family:"Courier New"'>sudo sh -c 'echo deb
http://pkg.jenkins.io/debianstable binary/ &gt; </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/etc/apt/sources.list.d/jenkins.list'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When both of these are in place, run <span
style='font-family:"Courier New"'>update</span> so that <span style='font-family:
"Courier New"'>apt</span> will use the new repository:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt update</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Finally, install Jenkins
and its dependencies:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo apt install
jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>Now that Jenkins and its dependencies are in place, we’ll
start the Jenkins server.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Starting Jenkins</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.05pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Let’s start Jenkins using <span
style='font-family:"Courier New"'>systemctl</span>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl start
jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Since <span style='font-family:"Courier New"'>systemctl</span>
doesn’t display output, you can use its <span style='font-family:"Courier New"'>status
</span>command to verify that Jenkins started successfully:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl status
jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.5pt;
margin-left:-.75pt;text-indent:0in'>If everything went well, the beginning of
the output should show that the service is active and configured to start at
boot:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&#9679; jenkins.service - LSB: Start Jenkins at boot time </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.35pt;margin-bottom:
.1pt;margin-left:-.25pt;text-indent:-.5pt;line-height:189%'><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>   Loaded:
loaded (/etc/init.d/jenkins; generated)    Active: </span><b><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New";color:#EF2929'>active
(exited)</span></b><span style='font-size:11.0pt;line-height:189%;font-family:
"Courier New"'> since Mon 2018-07-09 17:22:08 UTC; 6min ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>     Docs: man:systemd-sysv-generator(8) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>    Tasks: 0 (limit: 1153) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>   CGroup: /system.slice/jenkins.service</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>Now that Jenkins is running, let’s adjust our firewall
rules so that we can reach it from a web browser to complete the initial setup.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Opening the Firewall</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>By default, Jenkins runs on port <span
style='font-family:"Courier New"'>8080</span>, so let’s open that port using <span
style='font-family:"Courier New"'>ufw</span>: <span style='font-family:"Courier New"'>sudo
ufw allow 8080</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.35pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Check <span
style='font-family:"Courier New"'>ufw</span>’s status to confirm the new rules:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo ufw status</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:24.35pt;
margin-left:15.0pt;text-indent:0in'>You will see that traffic is allowed to
port <span style='font-family:"Courier New"'>8080</span> from anywhere:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>Status: active </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>To                         Action      From </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>--                         ------      ---- </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH                    ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>8080                       ALLOW       Anywhere </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>OpenSSH (v6)               ALLOW       Anywhere (v6) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:35.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>8080 (v6)                  ALLOW       Anywhere (v6)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: If the firewall is inactive, the following commands
will allow OpenSSH and enable the firewall: <span style='font-family:"Courier New"'>sudo
ufw allow OpenSSH sudo ufw enable</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>With Jenkins installed and our firewall configured, we can
complete the initial setup.</p>

<h2 style='margin-left:-.25pt'>Step 4 — Setting Up Jenkins</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.65pt;
margin-left:-.75pt;text-indent:0in'>To set up your installation, visit Jenkins
on its default port, <span style='font-family:"Courier New"'>8080</span>, using
your server domain name or IP address: <span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>your_server_ip_or_domain</span></b><span
style='font-family:"Courier New"'>:8080</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.5pt;
margin-left:-.75pt'>You should see the Unlock Jenkins screen, which displays
the location of the initial password:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=317 id="Picture 18503"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image038.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.45pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Unlock
Jenkins screen</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In the terminal window, use the <span style='font-family:
"Courier New"'>cat</span> command to display the password: <span
style='font-family:"Courier New"'>sudo cat </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>/var/lib/jenkins/secrets/initialAdminPassword</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Copy the 32-character alphanumeric password from the
terminal and paste it into the Administrator password field, then click
Continue.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>The next screen presents the option of installing suggested
plugins or selecting specific plugins:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=400 id="Picture 18523"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image039.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Customize
Jenkins Screen</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>We’ll click the Install suggested plugins option, which
will immediately begin the installation process:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=381 id="Picture 18533"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image040.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins
Getting Started Install Plugins Screen</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When the installation is complete, you will be prompted to
set up the first administrative user. It’s possible to skip this step and
continue as <span style='font-family:"Courier New"'>admin</span> using the
initial password we used above, but we’ll take a moment to create the user.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Note: The default Jenkins server is NOT encrypted, so the
data submitted with this form is not protected. When you’re ready to use this <a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>installation, follow the guide </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Jenkins with SSL Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'> an N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>inx Reverse Prox</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. This will protect user credentials </span></a>and
information about builds that are transmitted via the web interface.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=444 id="Picture 18587"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image041.jpg"></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:130.3pt;
margin-bottom:34.65pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><span style='font-size:11.0pt;line-height:107%'>Jenkins
Create First Admin User Screen</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Enter the name and
password for your user:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=440 id="Picture 18594"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image042.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.75pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins
Create User</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>You will see an Instance Configuration page that will ask
you to confirm the preferred URL for your Jenkins instance. Confirm either the
domain name for your server or your server’s IP address:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=440 id="Picture 18605"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image043.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins
Instance Configuration</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:.5pt;
margin-bottom:5.25pt;margin-left:.5pt;text-align:right;text-indent:-.5pt;
line-height:107%'>After confirming the appropriate information, click Save and
Finish.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>You will see a
confirmation page confirming that “Jenkins is Ready!”:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=397 id="Picture 18617"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image044.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins is
ready screen</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:9.5pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Click Start using Jenkins
to visit the main Jenkins dashboard:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=261 id="Picture 18623"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image045.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Welcome to
Jenkins Screen</span></b></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:7.9pt;
margin-bottom:23.6pt;margin-left:6.6pt;text-align:center;text-indent:-.5pt;
line-height:110%'>At this point, you have completed a successful installation
of Jenkins.</p>

<h2 style='margin-left:-.25pt'>Conclusion</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this tutorial, you have installed
Jenkins using the project-provided packages, started the server, opened the
firewall, and created an administrative user. At this point, you can start
exploring Jenkins.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>When you’ve completed your exploration, if you decide to
continue <a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>using Jenkins, follow the guide </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>ure Jenkins with SSL Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>an N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'>inx Reverse Prox</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:#3445FF'> on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> to protect your passwords, as </span></a>well
as any sensitive system or product information that will be sent between your
machine and the server in plain text.<br clear=all style='page-break-before:
always'>
</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:38.1pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>How To Confi</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>ure Jenkins with SSL Usin</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>an N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'>inx Reverse Prox</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-configure-jenkins-with-ssl-using-an-nginx-reverse-proxy-on-ubuntu-18-04"><span
style='font-size:25.0pt;line-height:110%;font-family:"Arial",sans-serif;
color:#3445FF'> on Ubuntu 18.04</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:-.75pt;text-indent:0in;line-height:107%'>Written by Melissa
Anderson and Kathleen Juell</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In Chapters 11 and 12 you learned how to secure web servers
with Letsencrypt. In this chapter you will place Jenkins behind an Nginx
server, and secure it using a Letsencrypt TLS certificate. This configuration
is more secure than running Jenkins on its own because it protects sensitive
data like usernames and passwords when you are logging into Jenkins.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.65pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%;font-family:
"Calibri",sans-serif'><img border=0 width=610 height=4 id="Group 160446"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>By default, <a href="https://jenkins.io/"><span
style='color:#3445FF'>Jenkins</span></a><a href="https://jenkins.io/"><span
style='color:black;text-decoration:none'> </span></a>comes with its own
built-in Winstone web server listening on port <span style='font-family:"Courier New"'>8080</span>,
which is convenient for getting started. It’s also a good idea, however, to
secure Jenkins with SSL to protect passwords and sensitive data transmitted
through the web interface.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.25pt;
margin-left:-.75pt'>In this tutorial, you will configure Nginx as a reverse
proxy to direct client requests to Jenkins.</p>

<h2 style='margin-left:-.25pt'>Prerequisites</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>To begin, you’ll need the following: - One
Ubuntu 18.04 server configured <a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:black;text-decoration:none'>with a non-root sudo user and
firewall, following the </span></a><a
href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04"><span
style='color:#3445FF'>Ubuntu 18.04 initial </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF'>server setu</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF'> </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF'>uide</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>- </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>Jenkins installed, following the steps
in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Install Jenkins on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> - Nginx installed, following the
steps in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Install N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:#3445FF'>inx on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> </span></a>- An SSL certificate for a
domain <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>provided by </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>pt</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>. </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>Follow </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Secure N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>inx with Let’s</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt;text-indent:0in'><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>pt on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> to obtain this certificate. Note that
you will need </span></a>a <a
href="https://www.digitalocean.com/docs/networking/dns/"><span
style='color:#3445FF'>re</span></a><a
href="https://www.digitalocean.com/docs/networking/dns/"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/docs/networking/dns/"><span
style='color:#3445FF'>istered domain name</span></a><a
href="https://www.digitalocean.com/docs/networking/dns/"><span
style='color:black;text-decoration:none'> </span></a>that you own or control.
This tutorial will use the domain name example.com throughout.</p>

<h2 style='margin-left:-.25pt'>Step 1 — Configuring Nginx</h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:.5pt;text-align:left;text-indent:-.5pt;
line-height:107%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>In the prerequisite tutorial </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>How to Secure N</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>inx with Let’s Encr</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>pt on</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.85pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:141%'><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>Ubuntu </span></a><u><span style='color:#3445FF'>      </span></u><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:#3445FF'>18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>, </span></a>        <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>you </span></a>   <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>configured </span></a> <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>Nginx </span></a>        <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>to </span></a>     <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>use </span></a>   <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>SSL </span></a>  <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>in </span></a>     <a
href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>the </span></a><span style='font-family:
"Courier New"'>/etc/nginx/sites-available/</span><b><span style='font-family:
"Courier New";color:#EF2929'>example.com</span></b> file. Open this file to add
your reverse proxy settings:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/nginx/sites-available/</span><b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.35pt;
margin-left:-.75pt'>In the <span style='font-family:"Courier New"'>server</span>
block with the SSL configuration settings, add Jenkinsspecific access and error
logs:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.9pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:376.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>. . . server { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        . . . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        # SSL Configuration </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        # </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>        listen [::]:443 ssl ipv6only=on; # managed by
Certbot         listen 443 ssl; # managed by Certbot </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:19.1pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>        </span><b><span style='font-size:11.0pt;line-height:
192%;font-family:"Courier New";color:#EF2929'>access_log           
/var/log/nginx/jenkins.access.log;</span></b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New"'>         </span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>error_log            
/var/log/nginx/jenkins.error.log;</span></b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New"'>         . . . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>        }</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:22.4pt;
margin-left:-.75pt'>Next let’s configure the proxy settings. Since we’re
sending all requests to Jenkins, we’ll comment out the default <span
style='font-family:"Courier New"'>try_files</span> line, which would otherwise
return a 404 error before the request reaches Jenkins:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.9pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:302.6pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>. . .            location / { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:190%'><span style='font-size:11.0pt;line-height:190%;font-family:
"Courier New"'>                # First attempt to serve request as file,
then                 # as directory, then fall back to displaying a
404.                 </span><b><span style='font-size:11.0pt;line-height:190%;
font-family:"Courier New";color:#EF2929'>#</span></b><span style='font-size:
11.0pt;line-height:190%;font-family:"Courier New"'> try_files $uri $uri/
=404;        } . . .</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s now add the proxy settings, which include: - <span
style='font-family:"Courier New"'>proxy_params</span>: The <span
style='font-family:"Courier New"'>/etc/nginx/proxy_params</span> file is
supplied by Nginx and ensures that important information, including the
hostname, the protocol of the client request, and the client IP address, is
retained and available in the log files. - <span style='font-family:"Courier New"'>proxy_pass</span>:
This sets the protocol and address of the proxied server, which in this case
will be the Jenkins server accessed via <span style='font-family:"Courier New"'>localhost</span>
on port <span style='font-family:"Courier New"'>8080</span>. - <span
style='font-family:"Courier New"'>proxy_read_timeout</span>: This enables an
increase from Nginx’s 60 second default to the Jenkins-recommended 90 <a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:black;text-decoration:none'>second value. </span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:black;text-decoration:none'>- </span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='font-family:"Courier New";color:black;text-decoration:none'>proxy_redirect</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:black;text-decoration:none'>: </span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:black;text-decoration:none'>This ensures that </span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:#3445FF'>res</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:#3445FF'>onses are correctl</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:#3445FF'> rewritten</span></a><a
href="https://wiki.jenkins-ci.org/display/JENKINS/Jenkins+says+my+reverse+proxy+setup+is+broken"><span
style='color:black;text-decoration:none'> to include the proper host name.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>Be sure to substitute your SSL-secured
domain name for <b><span style='font-family:"Courier New";color:#EF2929'>example.com
</span></b>in the <span style='font-family:"Courier New"'>proxy_redirect</span>
line below:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.9pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/nginx/sites-available/example.com</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:376.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>Location / . . . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>           location / { </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:5.6pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>                # First attempt to serve request as file,
then                 # as directory, then fall back to displaying a
404.                 </span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>#</span></b><span style='font-size:
11.0pt;line-height:192%;font-family:"Courier New"'> try_files $uri $uri/
=404;                 </span><b><span style='font-size:11.0pt;line-height:192%;
font-family:"Courier New";color:#EF2929'>include /etc/nginx/proxy_params;</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>                
</span><b><span style='font-size:11.0pt;line-height:192%;font-family:"Courier New";
color:#EF2929'>proxy_pass          http://localhost:8080;</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>                
</span><b><span style='font-size:11.0pt;line-height:192%;font-family:"Courier New";
color:#EF2929'>proxy_read_timeout  90s;</span></b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New"'>                 </span><b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New";color:#EF2929'>#
Fix potential &quot;It appears that your reverse proxy setup is broken&quot;
error.</span></b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'> </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.65pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New"'>                </span><b><span style='font-size:11.0pt;
line-height:192%;font-family:"Courier New";color:#EF2929'>proxy_redirect     
http://localhost:8080 https://example.com;</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Once you’ve made these changes, save the file and exit the
editor. We’ll hold off on restarting Nginx until after we’ve configured
Jenkins, but we can test our configuration now: <span style='font-family:"Courier New"'>sudo
nginx -t</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.2pt;
margin-left:15.0pt;text-indent:0in'>If all is well, the command will return:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>If not, fix any reported
errors until the test passes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.45pt;
margin-left:-.75pt'>Note: If you misconfigure the <span style='font-family:
"Courier New"'>proxy_pass</span> (by adding a trailing slash, for example), you
will get something similar to the following in your Jenkins Configuration page.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=110 id="Picture 19193"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image046.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.25pt;
margin-bottom:34.6pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins
error: Reverse proxy set up is broken</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:17.9pt;
margin-left:-.75pt'>If you see this error, double-check your <span
style='font-family:"Courier New"'>proxy_pass</span> and <span style='font-family:
"Courier New"'>proxy_redirect</span> settings in the Nginx configuration.</p>

<h2 style='margin-left:-.25pt'>Step 2 — Configuring Jenkins</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>For Jenkins to work with Nginx, you will
need to update the Jenkins configuration so that the Jenkins server listens
only on the <span style='font-family:"Courier New"'>localhost </span>interface
rather than on all interfaces (<span style='font-family:"Courier New"'>0.0.0.0</span>).
If Jenkins listens on all interfaces, it’s potentially accessible on its
original, unencrypted port (<span style='font-family:"Courier New"'>8080</span>).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Let’s modify the <span style='font-family:"Courier New"'>/etc/default/jenkins</span>
configuration file to make these adjustments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo nano
/etc/default/jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>Locate the <span style='font-family:"Courier New"'>JENKINS_ARGS</span>
line and add <span style='font-family:"Courier New"'>-httpListenAddress=127.0.0.1</span>
to the existing arguments:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.6pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>/etc/default/jenkins</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>. . . </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>JENKINS_ARGS=&quot;--webroot=/var/cache/$NAME/war
--httpPort=$HTTP_PORT </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:2.25in;
margin-bottom:26.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:192%'><b><span style='font-size:11.0pt;line-height:192%;font-family:
"Courier New";color:#EF2929'>--httpListenAddress=127.0.0.1</span></b><span
style='font-size:11.0pt;line-height:192%;font-family:"Courier New"'>&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Save and exit the file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:78.65pt;margin-bottom:
.25pt;margin-left:-.75pt'>To use the new configuration settings, restart
Jenkins: <span style='font-family:"Courier New"'>sudo systemctl restart jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:6.2pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Since <span
style='font-family:"Courier New"'>systemctl</span> doesn’t display output,
check the status:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl status
jenkins</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:23.9pt;
margin-left:15.0pt;text-indent:0in'>You should see the <span style='font-family:
"Courier New"'>active (exited)</span> status in the <span style='font-family:
"Courier New"'>Active</span> line:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>&#9679; jenkins.service - LSB: Start Jenkins at boot time </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.5pt;margin-bottom:
.1pt;margin-left:-.25pt;text-indent:-.5pt;line-height:189%'><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New"'>   Loaded:
loaded (/etc/init.d/jenkins; generated)    Active: </span><b><span
style='font-size:11.0pt;line-height:189%;font-family:"Courier New";color:#EF2929'>active
(exited)</span></b><span style='font-size:11.0pt;line-height:189%;font-family:
"Courier New"'> since Mon 2018-07-09 20:26:25 UTC; 11s ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.85pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>     Docs: man:systemd-sysv-generator(8)   Process: 29766
ExecStop=/etc/init.d/jenkins stop (code=exited, status=0/SUCCESS) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  Process: 29812 ExecStart=/etc/init.d/jenkins start
(code=exited, status=0/SUCCESS)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Restart Nginx:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:5.45pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl
restart nginx</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Check the status:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:8.25pt;
margin-bottom:28.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-family:"Courier New"'>sudo systemctl status
nginx</span></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.5pt;
margin-bottom:8.9pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Output</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>&#9679; nginx.service - A high performance web server and a
reverse proxy server </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>   Loaded: loaded (/lib/systemd/system/nginx.service; enabled;
vendor preset: enabled) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:193%'><span style='font-size:11.0pt;line-height:193%;font-family:
"Courier New"'>   Active: </span><b><span style='font-size:11.0pt;line-height:
193%;font-family:"Courier New";color:#EF2929'>active (running)</span></b><span
style='font-size:11.0pt;line-height:193%;font-family:"Courier New"'> since Mon
2018-07-09 20:27:23 UTC; 31s ago </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:110%'><span style='font-size:11.0pt;line-height:110%;font-family:
"Courier New"'>     Docs: man:nginx(8) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:6.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  Process: 29951 ExecStop=/sbin/start-stop-daemon --quiet --stop
-retry QUIT/5 --pidfile /run/nginx.pid (code=exited, status=0/SUCCESS) </span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:19.1pt;
margin-bottom:25.5pt;margin-left:-.25pt;text-align:left;text-indent:-.5pt;
line-height:187%'><span style='font-size:11.0pt;line-height:187%;font-family:
"Courier New"'>  Process: 29963 ExecStart=/usr/sbin/nginx -g daemon on;
master_process on; (code=exited, status=0/SUCCESS)   Process: 29952
ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on;
(code=exited, status=0/SUCCESS)  Main PID: 29967 (nginx)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25in;
margin-left:-.75pt'>With both servers restarted, you should be able to visit
the domain using either HTTP or HTTPS. HTTP requests will be redirected
automatically to HTTPS, and the Jenkins site will be served securely.</p>

<h2 style='margin-left:-.25pt'>Step 3 — Testing the Configuration</h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:4.8pt;
margin-left:-.75pt;text-indent:0in'>Now that you have enabled encryption, you
can test the configuration by resetting the administrative password. Let’s
start by visiting the site via HTTP to verify that you can reach Jenkins and
are redirected to HTTPS.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>In your web browser, enter <span style='font-family:"Courier New"'>http://</span><b><span
style='font-family:"Courier New";color:#EF2929'>example.com</span></b>,
substituting your domain for <b><span style='font-family:"Courier New";
color:#EF2929'>example.com</span></b>. After you press <span style='font-family:
"Courier New"'>ENTER</span>, the URL should start with <span style='font-family:
"Courier New"'>https</span> and the location bar should indicate that the
connection is secure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'>You can enter the administrative
username you created in </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:#3445FF'>How To Install Jenkins on Ubuntu 18.04</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-install-jenkins-on-ubuntu-18-04"><span
style='color:black;text-decoration:none'> in the User field, and the password
that </span></a>you selected in the Password field.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:5.25pt;
margin-left:15.0pt;text-indent:0in;line-height:107%'>Once logged in, you can
change the password to be sure it’s secure.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:3.5pt;
margin-left:-.75pt'>Click on your username in the upper-right-hand corner of
the screen. On the main profile page, select Configure from the list on the
left side of the page:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=610 height=280 id="Picture 19393"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image047.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.75pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Navigate
to Jenkins password page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt'>This will take you to a new page, where you can enter and
confirm a new password:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.2pt;margin-left:.25pt;text-align:left;text-indent:0in;
line-height:107%'><img border=0 width=609 height=414 id="Picture 19432"
src="Making%20Servers%20Work%20-%20A%20Practical%20Guide%20to%20Linux%20System%20Administration_files/image048.jpg"></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:.75pt;
margin-bottom:34.4pt;margin-left:1.2pt;text-align:center;text-indent:-.5pt;
line-height:110%'><b><span style='font-size:11.0pt;line-height:110%'>Jenkins
create password page</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:15.0pt;
margin-left:-.75pt'>Confirm the new password by clicking Save. You can now use
the Jenkins web interface securely.</p>

<h3 style='margin-left:-.25pt'>Conclusion</h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.9pt;margin-bottom:.25pt;
margin-left:-.75pt;text-indent:0in'>In this tutorial, you configured Nginx as a
reverse proxy to Jenkins’ builtin web server to secure your credentials and
other information transmitted <a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:black;text-decoration:none'>via the web interface. Now that
Jenkins is secure, you can learn </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF'>how to set u</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF'> a continuous inte</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF;text-decoration:none'>g</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF'>ration </span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF'>i</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:#3445FF'>eline</span></a><a
href="https://www.digitalocean.com/community/tutorials/how-to-set-up-continuous-integration-pipelines-in-jenkins-on-ubuntu-16-04"><span
style='color:black;text-decoration:none'> to automatically test code changes. </span></a><a
href="https://jenkins.io/doc/pipeline/tour/hello-world/"><span
style='color:black;text-decoration:none'>Other resources to consider if you are
new to Jenkins are </span></a><a
href="https://jenkins.io/doc/pipeline/tour/hello-world/"><span
style='color:#3445FF'>the Jenkins </span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://plugins.jenkins.io/"><span style='color:
#3445FF'>ro</span></a><a href="https://plugins.jenkins.io/"><span
style='color:#3445FF;text-decoration:none'>j</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF'>ect’s “Creatin</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://plugins.jenkins.io/"><span style='color:
#3445FF'> </span></a><a href="https://plugins.jenkins.io/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF'>our first Pi</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF;text-decoration:
none'>p</span></a><a href="https://plugins.jenkins.io/"><span style='color:
#3445FF'>eline”</span></a><a href="https://plugins.jenkins.io/"><span
style='color:black;text-decoration:none'> </span></a><a
href="https://plugins.jenkins.io/"><span style='color:black;text-decoration:
none'>tutorial or </span></a><a href="https://plugins.jenkins.io/"><span
style='color:#3445FF'>the librar</span></a><a href="https://plugins.jenkins.io/"><span
style='color:#3445FF;text-decoration:none'>y</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF'> of communit</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF;text-decoration:
none'>y</span></a><a href="https://plugins.jenkins.io/"><span style='color:
#3445FF'>-contributed </span></a><a href="https://plugins.jenkins.io/"><span
style='color:#3445FF;text-decoration:none'>p</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF'>lu</span></a><a
href="https://plugins.jenkins.io/"><span style='color:#3445FF;text-decoration:
none'>g</span></a><a href="https://plugins.jenkins.io/"><span style='color:
#3445FF'>ins</span></a><a href="https://plugins.jenkins.io/"><span
style='color:black;text-decoration:none'>.</span></a></p>

</div>

</body>

</html>
