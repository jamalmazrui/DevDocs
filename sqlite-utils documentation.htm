<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>sqlite-utils documentation</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:.25pt;
	margin-left:.5pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:110%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:black;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:11.0pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:9.15pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:11.0pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:14.5pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:9.15pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:9.15pt;
	margin-left:.5pt;
	text-indent:-.5pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	color:#20435C;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:.15pt;
	margin-left:1.25pt;
	text-indent:-.5pt;
	line-height:107%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:#355F7C;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:1.3pt;
	margin-bottom:.25pt;
	margin-left:16.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:1.3pt;
	margin-bottom:.25pt;
	margin-left:42.1pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:.25pt;
	margin-left:41.35pt;
	text-align:right;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:1.15pt;
	margin-bottom:.25pt;
	margin-left:42.1pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:.75pt;
	margin-bottom:.25pt;
	margin-left:41.35pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-.5pt;
	line-height:103%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:black;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Calibri",sans-serif;
	color:#20435C;
	font-weight:bold;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:#65B4B4;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:#FF4B4B;}
.MsoChpDefault
	{font-size:12.0pt;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 71.6pt 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:8.5in 11.0in;
	margin:36.25pt 1.0in 39.95pt 1.0in;}
div.WordSection4
	{page:WordSection4;}
@page WordSection5
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.75pt 1.0in;}
div.WordSection5
	{page:WordSection5;}
@page WordSection6
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 69.2pt 1.0in;}
div.WordSection6
	{page:WordSection6;}
@page WordSection7
	{size:8.5in 11.0in;
	margin:71.65pt 1.0in 39.95pt 1.0in;}
div.WordSection7
	{page:WordSection7;}
@page WordSection8
	{size:8.5in 11.0in;
	margin:1.0in 251.05pt 77.65pt 1.0in;}
div.WordSection8
	{page:WordSection8;}
@page WordSection9
	{size:8.5in 11.0in;
	margin:84.1pt 1.0in 79.15pt 1.0in;}
div.WordSection9
	{page:WordSection9;}
@page WordSection10
	{size:8.5in 11.0in;
	margin:73.25pt 126.8pt 82.3pt 1.0in;}
div.WordSection10
	{page:WordSection10;}
@page WordSection11
	{size:8.5in 11.0in;
	margin:84.1pt 137.25pt 79.15pt 1.0in;}
div.WordSection11
	{page:WordSection11;}
@page WordSection12
	{size:8.5in 11.0in;
	margin:73.25pt 126.8pt 71.5pt 1.0in;}
div.WordSection12
	{page:WordSection12;}
@page WordSection13
	{size:8.5in 11.0in;
	margin:72.95pt 1.0in 87.35pt 1.0in;}
div.WordSection13
	{page:WordSection13;}
@page WordSection14
	{size:8.5in 11.0in;
	margin:84.1pt 132.05pt 71.9pt 1.0in;}
div.WordSection14
	{page:WordSection14;}
@page WordSection15
	{size:8.5in 11.0in;
	margin:72.95pt 1.0in 77.85pt 1.0in;}
div.WordSection15
	{page:WordSection15;}
@page WordSection16
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection16
	{page:WordSection16;}
@page WordSection17
	{size:8.5in 11.0in;
	margin:72.05pt 1.0in 39.95pt 1.0in;}
div.WordSection17
	{page:WordSection17;}
@page WordSection18
	{size:8.5in 11.0in;
	margin:72.65pt 1.0in 39.95pt 1.0in;}
div.WordSection18
	{page:WordSection18;}
@page WordSection19
	{size:8.5in 11.0in;
	margin:71.45pt 1.0in 39.95pt 1.0in;}
div.WordSection19
	{page:WordSection19;}
@page WordSection20
	{size:8.5in 11.0in;
	margin:72.15pt 1.0in 39.95pt 1.0in;}
div.WordSection20
	{page:WordSection20;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:30.3pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 197984"
src="sqlite-utils%20documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:159.5pt;text-align:left;text-indent:0in;
line-height:107%'><b><span style='font-size:25.0pt;line-height:107%'>sqlite-utils
documentation</span></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:133.25pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><i><span style='font-size:17.0pt;line-height:107%'>Release
3.38-4-g0aefbb6</span></i></b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:0in;
margin-bottom:255.65pt;margin-left:0in;text-align:right;text-indent:0in;
line-height:107%'><b><span style='font-size:17.0pt;line-height:107%'>Simon
Willison</span></b></p>

<p class=MsoNormal align=right style='margin:0in;text-align:right;text-indent:
0in;line-height:107%'><b><span style='font-size:12.0pt;line-height:107%'>Jan
11, 2025</span></b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:83.65pt;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>CONTENTS</span></b></p>

<p class=MsoToc1><a href="#_Toc251418"><span style='color:#355F7C;text-decoration:
none'>1 Contents........................................................................................................................................... </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc4><a href="#_Toc251419"><span style='color:#355F7C;text-decoration:
none'>1.1 Installation</span><span style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc6><a href="#_Toc251420"><span style='color:#355F7C;text-decoration:
none'>1.1.1 Using Homebrew</span><span style='color:black;text-decoration:none'>.................................................................................................................................................. </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc6><a href="#_Toc251421"><span style='color:#355F7C;text-decoration:
none'>1.1.2 Using pip</span><span style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc6><a href="#_Toc251422"><span style='color:#355F7C;text-decoration:
none'>1.1.3 Using pipx</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>3</span></a></p>

<p class=MsoToc6><a href="#_Toc251423"><span style='color:#355F7C;text-decoration:
none'>1.1.4 Alternatives to sqlite3</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>4</span></a></p>

<p class=MsoToc6><a href="#_Toc251424"><span style='color:#355F7C;text-decoration:
none'>1.1.5 Setting up shell completion</span><span style='color:black;
text-decoration:none'>................................................................................................................................ </span><span style='color:black;text-decoration:none'>4</span></a></p>

<p class=MsoToc4><a href="#_Toc251425"><span style='color:#355F7C;text-decoration:
none'>1.2 sqlite-utils command-line tool</span><span style='color:black;
text-decoration:none'>.............................................................................................................................. </span><span style='color:black;text-decoration:none'>4</span></a></p>

<p class=MsoToc6><a href="#_Toc251426"><span style='color:#355F7C;text-decoration:
none'>1.2.1 Running SQL queries</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>7</span></a></p>

<p class=MsoToc6><a href="#_Toc251427"><span style='color:#355F7C;text-decoration:
none'>1.2.2 Querying data directly using an in-memory database</span><span
style='color:black;text-decoration:none'>................................................................................ </span><span style='color:black;text-decoration:none'>13</span></a></p>

<p class=MsoToc6><a href="#_Toc251428"><span style='color:#355F7C;text-decoration:
none'>1.2.3 Returning all rows in a table</span><span style='color:black;
text-decoration:none'>............................................................................................................................ </span><span style='color:black;text-decoration:none'>16</span></a></p>

<p class=MsoToc6><a href="#_Toc251429"><span style='color:#355F7C;text-decoration:
none'>1.2.4 Listing tables</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>17</span></a></p>

<p class=MsoToc6><a href="#_Toc251430"><span style='color:#355F7C;text-decoration:
none'>1.2.5 Listing views</span><span style='color:black;text-decoration:none'>........................................................................................................................................................ </span><span style='color:black;text-decoration:none'>18</span></a></p>

<p class=MsoToc6><a href="#_Toc251431"><span style='color:#355F7C;text-decoration:
none'>1.2.6 Listing indexes</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>19</span></a></p>

<p class=MsoToc6><a href="#_Toc251432"><span style='color:#355F7C;text-decoration:
none'>1.2.7 Listing triggers</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>20</span></a></p>

<p class=MsoToc6><a href="#_Toc251433"><span style='color:#355F7C;text-decoration:
none'>1.2.8 Showing the schema</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>20</span></a></p>

<p class=MsoToc6><a href="#_Toc251434"><span style='color:#355F7C;text-decoration:
none'>1.2.9 Analyzing tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>21</span></a></p>

<p class=MsoToc6><a href="#_Toc251435"><span style='color:#355F7C;text-decoration:
none'>1.2.10 Creating an empty database</span><span style='color:black;
text-decoration:none'>.......................................................................................................................... </span><span style='color:black;text-decoration:none'>23</span></a></p>

<p class=MsoToc6><a href="#_Toc251436"><span style='color:#355F7C;text-decoration:
none'>1.2.11 Inserting JSON data</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>23</span></a></p>

<p class=MsoToc6><a href="#_Toc251437"><span style='color:#355F7C;text-decoration:
none'>1.2.12 Inserting CSV or TSV data</span><span style='color:black;
text-decoration:none'>............................................................................................................................... </span><span style='color:black;text-decoration:none'>26</span></a></p>

<p class=MsoToc6><a href="#_Toc251438"><span style='color:#355F7C;text-decoration:
none'>1.2.13 Inserting unstructured data with --lines and --text</span><span
style='color:black;text-decoration:none'>................................................................................... </span><span style='color:black;text-decoration:none'>27</span></a></p>

<p class=MsoToc6><a href="#_Toc251439"><span style='color:#355F7C;text-decoration:
none'>1.2.14 Applying conversions while inserting data</span><span
style='color:black;text-decoration:none'>.................................................................................................. </span><span style='color:black;text-decoration:none'>28</span></a></p>

<p class=MsoToc6><a href="#_Toc251440"><span style='color:#355F7C;text-decoration:
none'>1.2.15 Insert-replacing data</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>29</span></a></p>

<p class=MsoToc6><a href="#_Toc251441"><span style='color:#355F7C;text-decoration:
none'>1.2.16 Upserting data</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................. </span><span style='color:black;text-decoration:none'>30</span></a></p>

<p class=MsoToc6><a href="#_Toc251442"><span style='color:#355F7C;text-decoration:
none'>1.2.17 Executing SQL in bulk</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>30</span></a></p>

<p class=MsoToc6><a href="#_Toc251443"><span style='color:#355F7C;text-decoration:
none'>1.2.18 Inserting data from files</span><span style='color:black;
text-decoration:none'>................................................................................................................................. </span><span style='color:black;text-decoration:none'>31</span></a></p>

<p class=MsoToc6><a href="#_Toc251444"><span style='color:#355F7C;text-decoration:
none'>1.2.19 Converting data in columns</span><span style='color:black;
text-decoration:none'>........................................................................................................................... </span><span style='color:black;text-decoration:none'>33</span></a></p>

<p class=MsoToc6><a href="#_Toc251445"><span style='color:#355F7C;text-decoration:
none'>1.2.20 Creating tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>37</span></a></p>

<p class=MsoToc6><a href="#_Toc251446"><span style='color:#355F7C;text-decoration:
none'>1.2.21 Renaming a table</span><span style='color:black;text-decoration:
none'>............................................................................................................................................. </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc6><a href="#_Toc251447"><span style='color:#355F7C;text-decoration:
none'>1.2.22 Duplicating tables</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>38</span></a></p>

<p class=MsoToc6><a href="#_Toc251448"><span style='color:#355F7C;text-decoration:
none'>1.2.23 Dropping tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>39</span></a></p>

<p class=MsoToc6><a href="#_Toc251449"><span style='color:#355F7C;text-decoration:
none'>1.2.24 Transforming tables</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>39</span></a></p>

<p class=MsoToc6><a href="#_Toc251450"><span style='color:#355F7C;text-decoration:
none'>1.2.25 Extracting columns into a separate table</span><span
style='color:black;text-decoration:none'>.................................................................................................... </span><span style='color:black;text-decoration:none'>41</span></a></p>

<p class=MsoToc6><a href="#_Toc251451"><span style='color:#355F7C;text-decoration:
none'>1.2.26 Creating views</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................. </span><span style='color:black;text-decoration:none'>43</span></a></p>

<p class=MsoToc6><a href="#_Toc251452"><span style='color:#355F7C;text-decoration:
none'>1.2.27 Dropping views</span><span style='color:black;text-decoration:
none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>43</span></a></p>

<p class=MsoToc6><a href="#_Toc251453"><span style='color:#355F7C;text-decoration:
none'>1.2.28 Adding columns</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>43</span></a></p>

<p class=MsoToc6><a href="#_Toc251454"><span style='color:#355F7C;text-decoration:
none'>1.2.29 Adding columns automatically on insert/update</span><span
style='color:black;text-decoration:none'>...................................................................................... </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc6><a href="#_Toc251455"><span style='color:#355F7C;text-decoration:
none'>1.2.30 Adding foreign key constraints</span><span style='color:black;
text-decoration:none'>...................................................................................................................... </span><span style='color:black;text-decoration:none'>44</span></a></p>

<p class=MsoToc6><a href="#_Toc251456"><span style='color:#355F7C;text-decoration:
none'>1.2.31 Setting defaults and not null constraints</span><span
style='color:black;text-decoration:none'>..................................................................................................... </span><span style='color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc6><a href="#_Toc251457"><span style='color:#355F7C;text-decoration:
none'>1.2.32 Creating indexes</span><span style='color:black;text-decoration:
none'>.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc5><a href="#_Toc251458"><span style='color:#355F7C;text-decoration:
none'>1.2.33 Configuring full-text search</span><span style='color:black;
text-decoration:none'>........................................................................................................................... </span><span style='color:black;text-decoration:none'>45</span></a></p>

<p class=MsoToc5><a href="#_Toc251459"><span style='color:#355F7C;text-decoration:
none'>1.2.34 Executing searches</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>46</span></a></p>

<p class=MsoToc5><a href="#_Toc251460"><span style='color:#355F7C;text-decoration:
none'>1.2.35 Enabling cached counts</span><span style='color:black;text-decoration:
none'>.................................................................................................................................. </span><span style='color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc5><a href="#_Toc251461"><span style='color:#355F7C;text-decoration:
none'>1.2.36 Optimizing index usage with ANALYZE</span><span style='color:black;
text-decoration:none'>........................................................................................................ </span><span style='color:black;text-decoration:none'>47</span></a></p>

<p class=MsoToc5><a href="#_Toc251462"><span style='color:#355F7C;text-decoration:
none'>1.2.37 Vacuum</span><span style='color:black;text-decoration:none'>............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc5><a href="#_Toc251463"><span style='color:#355F7C;text-decoration:
none'>1.2.38 Optimize</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc5><a href="#_Toc251464"><span style='color:#355F7C;text-decoration:
none'>1.2.39 WAL mode</span><span style='color:black;text-decoration:none'>........................................................................................................................................................ </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc5><a href="#_Toc251465"><span style='color:#355F7C;text-decoration:
none'>1.2.40 Dumping the database to SQL</span><span style='color:black;
text-decoration:none'>...................................................................................................................... </span><span style='color:black;text-decoration:none'>48</span></a></p>

<p class=MsoToc5><a href="#_Toc251466"><span style='color:#355F7C;text-decoration:
none'>1.2.41 Loading SQLite extensions</span><span style='color:black;
text-decoration:none'>............................................................................................................................. </span><span style='color:black;text-decoration:none'>49</span></a></p>

<p class=MsoToc5><a href="#_Toc251467"><span style='color:#355F7C;text-decoration:
none'>1.2.42 SpatiaLite helpers</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>49</span></a></p>

<p class=MsoToc5><a href="#_Toc251468"><span style='color:#355F7C;text-decoration:
none'>1.2.43 Installing packages</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc5><a href="#_Toc251469"><span style='color:#355F7C;text-decoration:
none'>1.2.44 Uninstalling packages</span><span style='color:black;text-decoration:
none'>..................................................................................................................................... </span><span style='color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc2><a href="#_Toc251470"><span style='color:#355F7C;text-decoration:
none'>1.3 sqlite_utils Python library</span><span style='color:black;
text-decoration:none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>50</span></a></p>

<p class=MsoToc5><a href="#_Toc251471"><span style='color:#355F7C;text-decoration:
none'>1.3.1 Getting started</span><span style='color:black;text-decoration:
none'>................................................................................................................................................... </span><span style='color:black;text-decoration:none'>53</span></a></p>

<p class=MsoToc5><a href="#_Toc251472"><span style='color:#355F7C;text-decoration:
none'>1.3.2 Connecting to or creating a database</span><span style='color:black;
text-decoration:none'>............................................................................................................ </span><span style='color:black;text-decoration:none'>54</span></a></p>

<p class=MsoToc5><a href="#_Toc251473"><span style='color:#355F7C;text-decoration:
none'>1.3.3 Executing queries</span><span style='color:black;text-decoration:
none'>.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>56</span></a></p>

<p class=MsoToc5><a href="#_Toc251474"><span style='color:#355F7C;text-decoration:
none'>1.3.4 Accessing tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>57</span></a></p>

<p class=MsoToc5><a href="#_Toc251475"><span style='color:#355F7C;text-decoration:
none'>1.3.5 Listing tables</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>57</span></a></p>

<p class=MsoToc5><a href="#_Toc251476"><span style='color:#355F7C;text-decoration:
none'>1.3.6 Listing views</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>57</span></a></p>

<p class=MsoToc5><a href="#_Toc251477"><span style='color:#355F7C;text-decoration:
none'>1.3.7 Listing rows</span><span style='color:black;text-decoration:none'>......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>58</span></a></p>

<p class=MsoToc5><a href="#_Toc251478"><span style='color:#355F7C;text-decoration:
none'>1.3.8 Listing rows with their primary keys</span><span style='color:black;
text-decoration:none'>.............................................................................................................. </span><span style='color:black;text-decoration:none'>59</span></a></p>

<p class=MsoToc5><a href="#_Toc251479"><span style='color:#355F7C;text-decoration:
none'>1.3.9 Retrieving a specific record</span><span style='color:black;
text-decoration:none'>.............................................................................................................................. </span><span style='color:black;text-decoration:none'>60</span></a></p>

<p class=MsoToc5><a href="#_Toc251480"><span style='color:#355F7C;text-decoration:
none'>1.3.10 Showing the schema</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>60</span></a></p>

<p class=MsoToc5><a href="#_Toc251481"><span style='color:#355F7C;text-decoration:
none'>1.3.11 Creating tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>60</span></a></p>

<p class=MsoToc5><a href="#_Toc251482"><span style='color:#355F7C;text-decoration:
none'>1.3.12 Renaming a table</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>65</span></a></p>

<p class=MsoToc5><a href="#_Toc251483"><span style='color:#355F7C;text-decoration:
none'>1.3.13 Duplicating tables</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>65</span></a></p>

<p class=MsoToc5><a href="#_Toc251484"><span style='color:#355F7C;text-decoration:
none'>1.3.14 Bulk inserts</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>65</span></a></p>

<p class=MsoToc5><a href="#_Toc251485"><span style='color:#355F7C;text-decoration:
none'>1.3.15 Insert-replacing data</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>66</span></a></p>

<p class=MsoToc5><a href="#_Toc251486"><span style='color:#355F7C;text-decoration:
none'>1.3.16 Updating a specific record</span><span style='color:black;
text-decoration:none'>............................................................................................................................. </span><span style='color:black;text-decoration:none'>67</span></a></p>

<p class=MsoToc5><a href="#_Toc251487"><span style='color:#355F7C;text-decoration:
none'>1.3.17 Deleting a specific record</span><span style='color:black;
text-decoration:none'>.............................................................................................................................. </span><span style='color:black;text-decoration:none'>68</span></a></p>

<p class=MsoToc5><a href="#_Toc251488"><span style='color:#355F7C;text-decoration:
none'>1.3.18 Deleting multiple records</span><span style='color:black;
text-decoration:none'>.............................................................................................................................. </span><span style='color:black;text-decoration:none'>68</span></a></p>

<p class=MsoToc5><a href="#_Toc251489"><span style='color:#355F7C;text-decoration:
none'>1.3.19 Upserting data</span><span style='color:black;text-decoration:
none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>68</span></a></p>

<p class=MsoToc5><a href="#_Toc251490"><span style='color:#355F7C;text-decoration:
none'>1.3.20 Converting data in columns</span><span style='color:black;
text-decoration:none'>........................................................................................................................... </span><span style='color:black;text-decoration:none'>69</span></a></p>

<p class=MsoToc5><a href="#_Toc251491"><span style='color:#355F7C;text-decoration:
none'>1.3.21 Working with lookup tables</span><span style='color:black;
text-decoration:none'>.......................................................................................................................... </span><span style='color:black;text-decoration:none'>69</span></a></p>

<p class=MsoToc5><a href="#_Toc251492"><span style='color:#355F7C;text-decoration:
none'>1.3.22 Working with many-to-many relationships</span><span
style='color:black;text-decoration:none'>................................................................................................ </span><span style='color:black;text-decoration:none'>71</span></a></p>

<p class=MsoToc5><a href="#_Toc251493"><span style='color:#355F7C;text-decoration:
none'>1.3.23 Analyzing a column</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>73</span></a></p>

<p class=MsoToc5><a href="#_Toc251494"><span style='color:#355F7C;text-decoration:
none'>1.3.24 Adding columns</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>74</span></a></p>

<p class=MsoToc5><a href="#_Toc251495"><span style='color:#355F7C;text-decoration:
none'>1.3.25 Adding columns automatically on insert/update</span><span
style='color:black;text-decoration:none'>...................................................................................... </span><span style='color:black;text-decoration:none'>75</span></a></p>

<p class=MsoToc5><a href="#_Toc251496"><span style='color:#355F7C;text-decoration:
none'>1.3.26 Adding foreign key constraints</span><span style='color:black;
text-decoration:none'>..................................................................................................................... </span><span style='color:black;text-decoration:none'>75</span></a></p>

<p class=MsoToc5><a href="#_Toc251497"><span style='color:#355F7C;text-decoration:
none'>1.3.27 Dropping a table or view</span><span style='color:black;
text-decoration:none'>................................................................................................................................ </span><span style='color:black;text-decoration:none'>76</span></a></p>

<p class=MsoToc5><a href="#_Toc251498"><span style='color:#355F7C;text-decoration:
none'>1.3.28 Transforming a table</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>76</span></a></p>

<p class=MsoToc5><a href="#_Toc251499"><span style='color:#355F7C;text-decoration:
none'>1.3.29 Extracting columns into a separate table</span><span
style='color:black;text-decoration:none'>.................................................................................................... </span><span style='color:black;text-decoration:none'>80</span></a></p>

<p class=MsoToc5><a href="#_Toc251500"><span style='color:#355F7C;text-decoration:
none'>1.3.30 Setting an ID based on the hash of the row contents</span><span
style='color:black;text-decoration:none'>............................................................................... </span><span style='color:black;text-decoration:none'>82</span></a></p>

<p class=MsoToc5><a href="#_Toc251501"><span style='color:#355F7C;text-decoration:
none'>1.3.31 Creating views</span><span style='color:black;text-decoration:
none'>.................................................................................................................................................. </span><span style='color:black;text-decoration:none'>83</span></a></p>

<p class=MsoToc5><a href="#_Toc251502"><span style='color:#355F7C;text-decoration:
none'>1.3.32 Storing JSON</span><span style='color:black;text-decoration:none'>..................................................................................................................................................... </span><span style='color:black;text-decoration:none'>83</span></a></p>

<p class=MsoToc5><a href="#_Toc251503"><span style='color:#355F7C;text-decoration:
none'>1.3.33 Converting column values using SQL functions</span><span
style='color:black;text-decoration:none'>......................................................................................... </span><span style='color:black;text-decoration:none'>84</span></a></p>

<p class=MsoToc5><a href="#_Toc251504"><span style='color:#355F7C;text-decoration:
none'>1.3.34 Checking the SQLite version</span><span style='color:black;
text-decoration:none'>.......................................................................................................................... </span><span style='color:black;text-decoration:none'>85</span></a></p>

<p class=MsoToc5><a href="#_Toc251505"><span style='color:#355F7C;text-decoration:
none'>1.3.35 Dumping the database to SQL</span><span style='color:black;
text-decoration:none'>...................................................................................................................... </span><span style='color:black;text-decoration:none'>85</span></a></p>

<p class=MsoToc5><a href="#_Toc251506"><span style='color:#355F7C;text-decoration:
none'>1.3.36 Introspecting tables and views</span><span style='color:black;
text-decoration:none'>..................................................................................................................... </span><span style='color:black;text-decoration:none'>85</span></a></p>

<p class=MsoToc5><a href="#_Toc251507"><span style='color:#355F7C;text-decoration:
none'>1.3.37 Full-text search</span><span style='color:black;text-decoration:
none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>90</span></a></p>

<p class=MsoToc5><a href="#_Toc251508"><span style='color:#355F7C;text-decoration:
none'>1.3.38 Rebuilding a full-text search table</span><span style='color:black;
text-decoration:none'>................................................................................................................ </span><span style='color:black;text-decoration:none'>94</span></a></p>

<p class=MsoToc5><a href="#_Toc251509"><span style='color:#355F7C;text-decoration:
none'>1.3.39 Optimizing a full-text search table</span><span style='color:black;
text-decoration:none'>............................................................................................................... </span><span style='color:black;text-decoration:none'>94</span></a></p>

<p class=MsoToc5><a href="#_Toc251510"><span style='color:#355F7C;text-decoration:
none'>1.3.40 Cached table counts using triggers</span><span style='color:black;
text-decoration:none'>.............................................................................................................. </span><span style='color:black;text-decoration:none'>94</span></a></p>

<p class=MsoToc5><a href="#_Toc251511"><span style='color:#355F7C;text-decoration:
none'>1.3.41 Creating indexes</span><span style='color:black;text-decoration:
none'>.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>95</span></a></p>

<p class=MsoToc5><a href="#_Toc251512"><span style='color:#355F7C;text-decoration:
none'>1.3.42 Optimizing index usage with ANALYZE</span><span style='color:black;
text-decoration:none'>........................................................................................................ </span><span style='color:black;text-decoration:none'>96</span></a></p>

<p class=MsoToc5><a href="#_Toc251513"><span style='color:#355F7C;text-decoration:
none'>1.3.43 Vacuum</span><span style='color:black;text-decoration:none'>............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>96</span></a></p>

<p class=MsoToc5><a href="#_Toc251514"><span style='color:#355F7C;text-decoration:
none'>1.3.44 WAL mode</span><span style='color:black;text-decoration:none'>........................................................................................................................................................ </span><span style='color:black;text-decoration:none'>96</span></a></p>

<p class=MsoToc5><a href="#_Toc251515"><span style='color:#355F7C;text-decoration:
none'>1.3.45 Suggesting column types</span><span style='color:black;text-decoration:
none'>............................................................................................................................... </span><span style='color:black;text-decoration:none'>97</span></a></p>

<p class=MsoToc5><a href="#_Toc251516"><span style='color:#355F7C;text-decoration:
none'>1.3.46 Registering custom SQL functions</span><span style='color:black;
text-decoration:none'>................................................................................................................ </span><span style='color:black;text-decoration:none'>98</span></a></p>

<p class=MsoToc5><a href="#_Toc251517"><span style='color:#355F7C;text-decoration:
none'>1.3.47 Quoting strings for use in SQL</span><span style='color:black;
text-decoration:none'>....................................................................................................................... </span><span style='color:black;text-decoration:none'>99</span></a></p>

<p class=MsoToc5><a href="#_Toc251518"><span style='color:#355F7C;text-decoration:
none'>1.3.48 Reading rows from a file</span><span style='color:black;
text-decoration:none'>................................................................................................................................ </span><span style='color:black;text-decoration:none'>99</span></a></p>

<p class=MsoToc5><a href="#_Toc251519"><span style='color:#355F7C;text-decoration:
none'>1.3.49 Setting the maximum CSV field size limit</span><span
style='color:black;text-decoration:none'>................................................................................................. </span><span style='color:black;text-decoration:none'>100</span></a></p>

<p class=MsoToc5><a href="#_Toc251520"><span style='color:#355F7C;text-decoration:
none'>1.3.50 Detecting column types using TypeTracker</span><span
style='color:black;text-decoration:none'>.............................................................................................. </span><span style='color:black;text-decoration:none'>101</span></a></p>

<p class=MsoToc5><a href="#_Toc251521"><span style='color:#355F7C;text-decoration:
none'>1.3.51 SpatiaLite helpers</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>102</span></a></p>

<p class=MsoToc2><a href="#_Toc251522"><span style='color:#355F7C;text-decoration:
none'>1.4 Plugins</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>104</span></a></p>

<p class=MsoToc5><a href="#_Toc251523"><span style='color:#355F7C;text-decoration:
none'>1.4.1 Building a plugin</span><span style='color:black;text-decoration:
none'>.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>105</span></a></p>

<p class=MsoToc5><a href="#_Toc251524"><span style='color:#355F7C;text-decoration:
none'>1.4.2 Plugin hooks</span><span style='color:black;text-decoration:none'>..................................................................................................................................................... </span><span style='color:black;text-decoration:none'>106</span></a></p>

<p class=MsoToc2><a href="#_Toc251525"><span style='color:#355F7C;text-decoration:
none'>1.5 API reference</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>107</span></a></p>

<p class=MsoToc5><a href="#_Toc251526"><span style='color:#355F7C;text-decoration:
none'>1.5.1 sqlite_utils.db.Database</span><span style='color:black;text-decoration:
none'>................................................................................................................................ </span><span style='color:black;text-decoration:none'>107</span></a></p>

<p class=MsoToc5><a href="#_Toc251527"><span style='color:#355F7C;text-decoration:
none'>1.5.2 sqlite_utils.db.Queryable</span><span style='color:black;
text-decoration:none'>............................................................................................................................... </span><span style='color:black;text-decoration:none'>114</span></a></p>

<p class=MsoToc5><a href="#_Toc251528"><span style='color:#355F7C;text-decoration:
none'>1.5.3 sqlite_utils.db.Table</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>116</span></a></p>

<p class=MsoToc5><a href="#_Toc251529"><span style='color:#355F7C;text-decoration:
none'>1.5.4 sqlite_utils.db.View</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>129</span></a></p>

<p class=MsoToc5><a href="#_Toc251530"><span style='color:#355F7C;text-decoration:
none'>1.5.5 Other</span><span style='color:black;text-decoration:none'>................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>129</span></a></p>

<p class=MsoToc5><a href="#_Toc251531"><span style='color:#355F7C;text-decoration:
none'>1.5.6 sqlite_utils.utils</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>130</span></a></p>

<p class=MsoToc2><a href="#_Toc251532"><span style='color:#355F7C;text-decoration:
none'>1.6 CLI reference</span><span style='color:black;text-decoration:none'>................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>133</span></a></p>

<p class=MsoToc5><a href="#_Toc251533"><span style='color:#355F7C;text-decoration:
none'>1.6.1 query</span><span style='color:black;text-decoration:none'>................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>134</span></a></p>

<p class=MsoToc5><a href="#_Toc251534"><span style='color:#355F7C;text-decoration:
none'>1.6.2 memory</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>135</span></a></p>

<p class=MsoToc5><a href="#_Toc251535"><span style='color:#355F7C;text-decoration:
none'>1.6.3 insert</span><span style='color:black;text-decoration:none'>................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>136</span></a></p>

<p class=MsoToc5><a href="#_Toc251536"><span style='color:#355F7C;text-decoration:
none'>1.6.4 upsert</span><span style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>138</span></a></p>

<p class=MsoToc5><a href="#_Toc251537"><span style='color:#355F7C;text-decoration:
none'>1.6.5 bulk</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>139</span></a></p>

<p class=MsoToc5><a href="#_Toc251538"><span style='color:#355F7C;text-decoration:
none'>1.6.6 search</span><span style='color:black;text-decoration:none'>................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>140</span></a></p>

<p class=MsoToc5><a href="#_Toc251539"><span style='color:#355F7C;text-decoration:
none'>1.6.7 transform</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>140</span></a></p>

<p class=MsoToc5><a href="#_Toc251540"><span style='color:#355F7C;text-decoration:
none'>1.6.8 extract</span><span style='color:black;text-decoration:none'>............................................................................................................................................................... </span><span style='color:black;text-decoration:none'>141</span></a></p>

<p class=MsoToc5><a href="#_Toc251541"><span style='color:#355F7C;text-decoration:
none'>1.6.9 schema</span><span style='color:black;text-decoration:none'>.............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>141</span></a></p>

<p class=MsoToc5><a href="#_Toc251542"><span style='color:#355F7C;text-decoration:
none'>1.6.10 insert-files</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>142</span></a></p>

<p class=MsoToc5><a href="#_Toc251543"><span style='color:#355F7C;text-decoration:
none'>1.6.11 analyze-tables</span><span style='color:black;text-decoration:
none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>142</span></a></p>

<p class=MsoToc5><a href="#_Toc251544"><span style='color:#355F7C;text-decoration:
none'>1.6.12 convert</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>143</span></a></p>

<p class=MsoToc5><a href="#_Toc251545"><span style='color:#355F7C;text-decoration:
none'>1.6.13 tables</span><span style='color:black;text-decoration:none'>............................................................................................................................................................... </span><span style='color:black;text-decoration:none'>144</span></a></p>

<p class=MsoToc5><a href="#_Toc251546"><span style='color:#355F7C;text-decoration:
none'>1.6.14 views</span><span style='color:black;text-decoration:none'>............................................................................................................................................................... </span><span style='color:black;text-decoration:none'>145</span></a></p>

<p class=MsoToc5><a href="#_Toc251547"><span style='color:#355F7C;text-decoration:
none'>1.6.15 rows</span><span style='color:black;text-decoration:none'>................................................................................................................................................................. </span><span style='color:black;text-decoration:none'>146</span></a></p>

<p class=MsoToc5><a href="#_Toc251548"><span style='color:#355F7C;text-decoration:
none'>1.6.16 triggers</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>146</span></a></p>

<p class=MsoToc5><a href="#_Toc251549"><span style='color:#355F7C;text-decoration:
none'>1.6.17 indexes</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>147</span></a></p>

<p class=MsoToc5><a href="#_Toc251550"><span style='color:#355F7C;text-decoration:
none'>1.6.18 create-database</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>148</span></a></p>

<p class=MsoToc5><a href="#_Toc251551"><span style='color:#355F7C;text-decoration:
none'>1.6.19 create-table</span><span style='color:black;text-decoration:none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>148</span></a></p>

<p class=MsoToc5><a href="#_Toc251552"><span style='color:#355F7C;text-decoration:
none'>1.6.20 create-index</span><span style='color:black;text-decoration:none'>................................................................................................................................................... </span><span style='color:black;text-decoration:none'>149</span></a></p>

<p class=MsoToc5><a href="#_Toc251553"><span style='color:#355F7C;text-decoration:
none'>1.6.21 enable-fts</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>149</span></a></p>

<p class=MsoToc5><a href="#_Toc251554"><span style='color:#355F7C;text-decoration:
none'>1.6.22 populate-fts</span><span style='color:black;text-decoration:none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>150</span></a></p>

<p class=MsoToc5><a href="#_Toc251555"><span style='color:#355F7C;text-decoration:
none'>1.6.23 rebuild-fts</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>150</span></a></p>

<p class=MsoToc5><a href="#_Toc251556"><span style='color:#355F7C;text-decoration:
none'>1.6.24 disable-fts</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>150</span></a></p>

<p class=MsoToc5><a href="#_Toc251557"><span style='color:#355F7C;text-decoration:
none'>1.6.25 tui</span><span style='color:black;text-decoration:none'>..................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>151</span></a></p>

<p class=MsoToc5><a href="#_Toc251558"><span style='color:#355F7C;text-decoration:
none'>1.6.26 optimize</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>151</span></a></p>

<p class=MsoToc5><a href="#_Toc251559"><span style='color:#355F7C;text-decoration:
none'>1.6.27 analyze</span><span style='color:black;text-decoration:none'>............................................................................................................................................................ </span><span style='color:black;text-decoration:none'>151</span></a></p>

<p class=MsoToc5><a href="#_Toc251560"><span style='color:#355F7C;text-decoration:
none'>1.6.28 vacuum</span><span style='color:black;text-decoration:none'>........................................................................................................................................................... </span><span style='color:black;text-decoration:none'>152</span></a></p>

<p class=MsoToc5><a href="#_Toc251561"><span style='color:#355F7C;text-decoration:
none'>1.6.29 dump</span><span style='color:black;text-decoration:none'>............................................................................................................................................................... </span><span style='color:black;text-decoration:none'>152</span></a></p>

<p class=MsoToc5><a href="#_Toc251562"><span style='color:#355F7C;text-decoration:
none'>1.6.30 add-column</span><span style='color:black;text-decoration:none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>152</span></a></p>

<p class=MsoToc5><a href="#_Toc251563"><span style='color:#355F7C;text-decoration:
none'>1.6.31 add-foreign-key</span><span style='color:black;text-decoration:
none'>............................................................................................................................................. </span><span style='color:black;text-decoration:none'>153</span></a></p>

<p class=MsoToc5><a href="#_Toc251564"><span style='color:#355F7C;text-decoration:
none'>1.6.32 add-foreign-keys</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>153</span></a></p>

<p class=MsoToc5><a href="#_Toc251565"><span style='color:#355F7C;text-decoration:
none'>1.6.33 index-foreign-keys</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>153</span></a></p>

<p class=MsoToc5><a href="#_Toc251566"><span style='color:#355F7C;text-decoration:
none'>1.6.34 enable-wal</span><span style='color:black;text-decoration:none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>154</span></a></p>

<p class=MsoToc5><a href="#_Toc251567"><span style='color:#355F7C;text-decoration:
none'>1.6.35 disable-wal</span><span style='color:black;text-decoration:none'>..................................................................................................................................................... </span><span style='color:black;text-decoration:none'>154</span></a></p>

<p class=MsoToc5><a href="#_Toc251568"><span style='color:#355F7C;text-decoration:
none'>1.6.36 enable-counts</span><span style='color:black;text-decoration:none'>................................................................................................................................................ </span><span style='color:black;text-decoration:none'>154</span></a></p>

<p class=MsoToc5><a href="#_Toc251569"><span style='color:#355F7C;text-decoration:
none'>1.6.37 reset-counts</span><span style='color:black;text-decoration:none'>................................................................................................................................................... </span><span style='color:black;text-decoration:none'>155</span></a></p>

<p class=MsoToc5><a href="#_Toc251570"><span style='color:#355F7C;text-decoration:
none'>1.6.38 duplicate</span><span style='color:black;text-decoration:none'>......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>155</span></a></p>

<p class=MsoToc5><a href="#_Toc251571"><span style='color:#355F7C;text-decoration:
none'>1.6.39 rename-table</span><span style='color:black;text-decoration:none'>................................................................................................................................................. </span><span style='color:black;text-decoration:none'>155</span></a></p>

<p class=MsoToc5><a href="#_Toc251572"><span style='color:#355F7C;text-decoration:
none'>1.6.40 drop-table</span><span style='color:black;text-decoration:none'>...................................................................................................................................................... </span><span style='color:black;text-decoration:none'>156</span></a></p>

<p class=MsoToc5><a href="#_Toc251573"><span style='color:#355F7C;text-decoration:
none'>1.6.41 create-view</span><span style='color:black;text-decoration:none'>.................................................................................................................................................... </span><span style='color:black;text-decoration:none'>156</span></a></p>

<p class=MsoToc5><a href="#_Toc251574"><span style='color:#355F7C;text-decoration:
none'>1.6.42 drop-view</span><span style='color:black;text-decoration:none'>....................................................................................................................................................... </span><span style='color:black;text-decoration:none'>156</span></a></p>

<p class=MsoToc5><a href="#_Toc251575"><span style='color:#355F7C;text-decoration:
none'>1.6.43 install</span><span style='color:black;text-decoration:none'>............................................................................................................................................................... </span><span style='color:black;text-decoration:none'>157</span></a></p>

<p class=MsoToc5><a href="#_Toc251576"><span style='color:#355F7C;text-decoration:
none'>1.6.44 uninstall</span><span style='color:black;text-decoration:none'>.......................................................................................................................................................... </span><span style='color:black;text-decoration:none'>157</span></a></p>

<p class=MsoToc5><a href="#_Toc251577"><span style='color:#355F7C;text-decoration:
none'>1.6.45 add-geometry-column</span><span style='color:black;text-decoration:
none'>................................................................................................................................. </span><span style='color:black;text-decoration:none'>157</span></a></p>

<p class=MsoToc5><a href="#_Toc251578"><span style='color:#355F7C;text-decoration:
none'>1.6.46 create-spatial-index</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>158</span></a></p>

<p class=MsoToc5><a href="#_Toc251579"><span style='color:#355F7C;text-decoration:
none'>1.6.47 plugins</span><span style='color:black;text-decoration:none'>............................................................................................................................................................. </span><span style='color:black;text-decoration:none'>158</span></a></p>

<p class=MsoToc2><a href="#_Toc251580"><span style='color:#355F7C;text-decoration:
none'>1.7 Contributing</span><span style='color:black;text-decoration:none'>.................................................................................................................................................................... </span><span style='color:black;text-decoration:none'>158</span></a></p>

<p class=MsoToc5><a href="#_Toc251581"><span style='color:#355F7C;text-decoration:
none'>1.7.1 Obtaining the code</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>159</span></a></p>

<p class=MsoToc5><a href="#_Toc251582"><span style='color:#355F7C;text-decoration:
none'>1.7.2 Running the tests</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>159</span></a></p>

<p class=MsoToc5><a href="#_Toc251583"><span style='color:#355F7C;text-decoration:
none'>1.7.3 Building the documentation</span><span style='color:black;
text-decoration:none'>......................................................................................................................... </span><span style='color:black;text-decoration:none'>159</span></a></p>

<p class=MsoToc5><a href="#_Toc251584"><span style='color:#355F7C;text-decoration:
none'>1.7.4 Linting and formatting</span><span style='color:black;text-decoration:
none'>.................................................................................................................................... </span><span style='color:black;text-decoration:none'>159</span></a></p>

<p class=MsoToc5><a href="#_Toc251585"><span style='color:#355F7C;text-decoration:
none'>1.7.5 Using Just and pipenv</span><span style='color:black;text-decoration:
none'>..................................................................................................................................... </span><span style='color:black;text-decoration:none'>160</span></a></p>

<p class=MsoToc5><a href="#_Toc251586"><span style='color:#355F7C;text-decoration:
none'>1.7.6 Release process</span><span style='color:black;text-decoration:
none'>............................................................................................................................................... </span><span style='color:black;text-decoration:none'>161</span></a></p>

<p class=MsoToc2><a href="#_Toc251587"><span style='color:#355F7C;text-decoration:
none'>1.8 Changelog</span><span style='color:black;text-decoration:none'>........................................................................................................................................................................ </span><span style='color:black;text-decoration:none'>161</span></a></p>

<p class=MsoToc5><a href="#_Toc251588"><span style='color:#355F7C;text-decoration:
none'>1.8.1 3.38 (2024-11-23)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>161</span></a></p>

<p class=MsoToc5><a href="#_Toc251589"><span style='color:#355F7C;text-decoration:
none'>1.8.2 3.37 (2024-07-18)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>162</span></a></p>

<p class=MsoToc5><a href="#_Toc251590"><span style='color:#355F7C;text-decoration:
none'>1.8.3 3.36 (2023-12-07)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>162</span></a></p>

<p class=MsoToc5><a href="#_Toc251591"><span style='color:#355F7C;text-decoration:
none'>1.8.4 3.35.2 (2023-11-03)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>162</span></a></p>

<p class=MsoToc5><a href="#_Toc251592"><span style='color:#355F7C;text-decoration:
none'>1.8.5 3.35.1 (2023-09-08)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>162</span></a></p>

<p class=MsoToc5><a href="#_Toc251593"><span style='color:#355F7C;text-decoration:
none'>1.8.6 3.35 (2023-08-17)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>162</span></a></p>

<p class=MsoToc5><a href="#_Toc251594"><span style='color:#355F7C;text-decoration:
none'>1.8.7 3.34 (2023-07-22)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>163</span></a></p>

<p class=MsoToc5><a href="#_Toc251595"><span style='color:#355F7C;text-decoration:
none'>1.8.8 3.33 (2023-06-25)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>163</span></a></p>

<p class=MsoToc5><a href="#_Toc251596"><span style='color:#355F7C;text-decoration:
none'>1.8.9 3.32.1 (2023-05-21)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>164</span></a></p>

<p class=MsoToc5><a href="#_Toc251597"><span style='color:#355F7C;text-decoration:
none'>1.8.10 3.32 (2023-05-21)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>164</span></a></p>

<p class=MsoToc5><a href="#_Toc251598"><span style='color:#355F7C;text-decoration:
none'>1.8.11 3.31 (2023-05-08)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>164</span></a></p>

<p class=MsoToc5><a href="#_Toc251599"><span style='color:#355F7C;text-decoration:
none'>1.8.12 3.30 (2022-10-25)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>165</span></a></p>

<p class=MsoToc5><a href="#_Toc251600"><span style='color:#355F7C;text-decoration:
none'>1.8.13 3.29 (2022-08-27)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>165</span></a></p>

<p class=MsoToc5><a href="#_Toc251601"><span style='color:#355F7C;text-decoration:
none'>1.8.14 3.28 (2022-07-15)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>166</span></a></p>

<p class=MsoToc5><a href="#_Toc251602"><span style='color:#355F7C;text-decoration:
none'>1.8.15 3.27 (2022-06-14)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>166</span></a></p>

<p class=MsoToc5><a href="#_Toc251603"><span style='color:#355F7C;text-decoration:
none'>1.8.16 3.26.1 (2022-05-02)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>167</span></a></p>

<p class=MsoToc5><a href="#_Toc251604"><span style='color:#355F7C;text-decoration:
none'>1.8.17 3.26 (2022-04-13)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>167</span></a></p>

<p class=MsoToc5><a href="#_Toc251605"><span style='color:#355F7C;text-decoration:
none'>1.8.18 3.25.1 (2022-03-11)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>167</span></a></p>

<p class=MsoToc5><a href="#_Toc251606"><span style='color:#355F7C;text-decoration:
none'>1.8.19 3.25 (2022-03-01)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>167</span></a></p>

<p class=MsoToc5><a href="#_Toc251607"><span style='color:#355F7C;text-decoration:
none'>1.8.20 3.24 (2022-02-15)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>167</span></a></p>

<p class=MsoToc5><a href="#_Toc251608"><span style='color:#355F7C;text-decoration:
none'>1.8.21 3.23 (2022-02-03)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>168</span></a></p>

<p class=MsoToc5><a href="#_Toc251609"><span style='color:#355F7C;text-decoration:
none'>1.8.22 3.22.1 (2022-01-25)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>168</span></a></p>

<p class=MsoToc5><a href="#_Toc251610"><span style='color:#355F7C;text-decoration:
none'>1.8.23 3.22 (2022-01-11)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>168</span></a></p>

<p class=MsoToc5><a href="#_Toc251611"><span style='color:#355F7C;text-decoration:
none'>1.8.24 3.21 (2022-01-10)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>168</span></a></p>

<p class=MsoToc5><a href="#_Toc251612"><span style='color:#355F7C;text-decoration:
none'>1.8.25 3.20 (2022-01-05)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>169</span></a></p>

<p class=MsoToc5><a href="#_Toc251613"><span style='color:#355F7C;text-decoration:
none'>1.8.26 3.19 (2021-11-20)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>169</span></a></p>

<p class=MsoToc5><a href="#_Toc251614"><span style='color:#355F7C;text-decoration:
none'>1.8.27 3.18 (2021-11-14)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>169</span></a></p>

<p class=MsoToc5><a href="#_Toc251615"><span style='color:#355F7C;text-decoration:
none'>1.8.28 3.17.1 (2021-09-22)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>170</span></a></p>

<p class=MsoToc5><a href="#_Toc251616"><span style='color:#355F7C;text-decoration:
none'>1.8.29 3.17 (2021-08-24)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>170</span></a></p>

<p class=MsoToc5><a href="#_Toc251617"><span style='color:#355F7C;text-decoration:
none'>1.8.30 3.16 (2021-08-18)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>170</span></a></p>

<p class=MsoToc5><a href="#_Toc251618"><span style='color:#355F7C;text-decoration:
none'>1.8.31 3.15.1 (2021-08-10)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>170</span></a></p>

<p class=MsoToc5><a href="#_Toc251619"><span style='color:#355F7C;text-decoration:
none'>1.8.32 3.15 (2021-08-09)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>171</span></a></p>

<p class=MsoToc3><a href="#_Toc251620"><span style='color:#355F7C;text-decoration:
none'>1.8.33 3.14 (2021-08-02)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>171</span></a></p>

<p class=MsoToc3><a href="#_Toc251621"><span style='color:#355F7C;text-decoration:
none'>1.8.34 3.13 (2021-07-24)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>171</span></a></p>

<p class=MsoToc3><a href="#_Toc251622"><span style='color:#355F7C;text-decoration:
none'>1.8.35 3.12 (2021-06-25)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>172</span></a></p>

<p class=MsoToc3><a href="#_Toc251623"><span style='color:#355F7C;text-decoration:
none'>1.8.36 3.11 (2021-06-20)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>172</span></a></p>

<p class=MsoToc3><a href="#_Toc251624"><span style='color:#355F7C;text-decoration:
none'>1.8.37 3.10 (2021-06-19)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>172</span></a></p>

<p class=MsoToc3><a href="#_Toc251625"><span style='color:#355F7C;text-decoration:
none'>1.8.38 3.9.1 (2021-06-12)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>173</span></a></p>

<p class=MsoToc3><a href="#_Toc251626"><span style='color:#355F7C;text-decoration:
none'>1.8.39 3.9 (2021-06-11)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>174</span></a></p>

<p class=MsoToc3><a href="#_Toc251627"><span style='color:#355F7C;text-decoration:
none'>1.8.40 3.8 (2021-06-02)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>174</span></a></p>

<p class=MsoToc3><a href="#_Toc251628"><span style='color:#355F7C;text-decoration:
none'>1.8.41 3.7 (2021-05-28)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>174</span></a></p>

<p class=MsoToc3><a href="#_Toc251629"><span style='color:#355F7C;text-decoration:
none'>1.8.42 3.6 (2021-02-18)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>174</span></a></p>

<p class=MsoToc3><a href="#_Toc251630"><span style='color:#355F7C;text-decoration:
none'>1.8.43 3.5 (2021-02-14)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>174</span></a></p>

<p class=MsoToc3><a href="#_Toc251631"><span style='color:#355F7C;text-decoration:
none'>1.8.44 3.4.1 (2021-02-05)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>175</span></a></p>

<p class=MsoToc3><a href="#_Toc251632"><span style='color:#355F7C;text-decoration:
none'>1.8.45 3.4 (2021-02-05)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>175</span></a></p>

<p class=MsoToc3><a href="#_Toc251633"><span style='color:#355F7C;text-decoration:
none'>1.8.46 3.3 (2021-01-17)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>175</span></a></p>

<p class=MsoToc3><a href="#_Toc251634"><span style='color:#355F7C;text-decoration:
none'>1.8.47 3.2.1 (2021-01-12)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>175</span></a></p>

<p class=MsoToc3><a href="#_Toc251635"><span style='color:#355F7C;text-decoration:
none'>1.8.48 3.2 (2021-01-03)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>175</span></a></p>

<p class=MsoToc3><a href="#_Toc251636"><span style='color:#355F7C;text-decoration:
none'>1.8.49 3.1.1 (2021-01-01)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>176</span></a></p>

<p class=MsoToc3><a href="#_Toc251637"><span style='color:#355F7C;text-decoration:
none'>1.8.50 3.1 (2020-12-12)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>176</span></a></p>

<p class=MsoToc3><a href="#_Toc251638"><span style='color:#355F7C;text-decoration:
none'>1.8.51 3.0 (2020-11-08)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>176</span></a></p>

<p class=MsoToc3><a href="#_Toc251639"><span style='color:#355F7C;text-decoration:
none'>1.8.52 2.23 (2020-10-28)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>177</span></a></p>

<p class=MsoToc3><a href="#_Toc251640"><span style='color:#355F7C;text-decoration:
none'>1.8.53 2.22 (2020-10-16)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>177</span></a></p>

<p class=MsoToc3><a href="#_Toc251641"><span style='color:#355F7C;text-decoration:
none'>1.8.54 2.21 (2020-09-24)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>177</span></a></p>

<p class=MsoToc3><a href="#_Toc251642"><span style='color:#355F7C;text-decoration:
none'>1.8.55 2.20 (2020-09-22)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>177</span></a></p>

<p class=MsoToc3><a href="#_Toc251643"><span style='color:#355F7C;text-decoration:
none'>1.8.56 2.19 (2020-09-20)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>178</span></a></p>

<p class=MsoToc3><a href="#_Toc251644"><span style='color:#355F7C;text-decoration:
none'>1.8.57 2.18 (2020-09-08)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>178</span></a></p>

<p class=MsoToc3><a href="#_Toc251645"><span style='color:#355F7C;text-decoration:
none'>1.8.58 2.17 (2020-09-07)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251646"><span style='color:#355F7C;text-decoration:
none'>1.8.59 2.16.1 (2020-08-28)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251647"><span style='color:#355F7C;text-decoration:
none'>1.8.60 2.16 (2020-08-21)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251648"><span style='color:#355F7C;text-decoration:
none'>1.8.61 2.15.1 (2020-08-12)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251649"><span style='color:#355F7C;text-decoration:
none'>1.8.62 2.15 (2020-08-10)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251650"><span style='color:#355F7C;text-decoration:
none'>1.8.63 2.14.1 (2020-08-05)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>179</span></a></p>

<p class=MsoToc3><a href="#_Toc251651"><span style='color:#355F7C;text-decoration:
none'>1.8.64 2.14 (2020-08-01)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>180</span></a></p>

<p class=MsoToc3><a href="#_Toc251652"><span style='color:#355F7C;text-decoration:
none'>1.8.65 2.13 (2020-07-29)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>180</span></a></p>

<p class=MsoToc3><a href="#_Toc251653"><span style='color:#355F7C;text-decoration:
none'>1.8.66 2.12 (2020-07-27)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>180</span></a></p>

<p class=MsoToc3><a href="#_Toc251654"><span style='color:#355F7C;text-decoration:
none'>1.8.67 2.11 (2020-07-08)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>180</span></a></p>

<p class=MsoToc3><a href="#_Toc251655"><span style='color:#355F7C;text-decoration:
none'>1.8.68 2.10.1 (2020-06-23)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>180</span></a></p>

<p class=MsoToc3><a href="#_Toc251656"><span style='color:#355F7C;text-decoration:
none'>1.8.69 2.10 (2020-06-12)</span><span style='color:black;text-decoration:
none'>......................................................................................................................................... </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251657"><span style='color:#355F7C;text-decoration:
none'>1.8.70 2.9.1 (2020-05-11)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251658"><span style='color:#355F7C;text-decoration:
none'>1.8.71 2.9 (2020-05-10)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251659"><span style='color:#355F7C;text-decoration:
none'>1.8.72 2.8 (2020-05-03)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251660"><span style='color:#355F7C;text-decoration:
none'>1.8.73 2.7.2 (2020-05-02)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251661"><span style='color:#355F7C;text-decoration:
none'>1.8.74 2.7.1 (2020-05-01)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251662"><span style='color:#355F7C;text-decoration:
none'>1.8.75 2.7 (2020-04-17)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>181</span></a></p>

<p class=MsoToc3><a href="#_Toc251663"><span style='color:#355F7C;text-decoration:
none'>1.8.76 2.6 (2020-04-15)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251664"><span style='color:#355F7C;text-decoration:
none'>1.8.77 2.5 (2020-04-12)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251665"><span style='color:#355F7C;text-decoration:
none'>1.8.78 2.4.4 (2020-03-23)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251666"><span style='color:#355F7C;text-decoration:
none'>1.8.79 2.4.3 (2020-03-23)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251667"><span style='color:#355F7C;text-decoration:
none'>1.8.80 2.4.2 (2020-03-14)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251668"><span style='color:#355F7C;text-decoration:
none'>1.8.81 2.4.1 (2020-03-01)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251669"><span style='color:#355F7C;text-decoration:
none'>1.8.82 2.4 (2020-02-26)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>182</span></a></p>

<p class=MsoToc3><a href="#_Toc251670"><span style='color:#355F7C;text-decoration:
none'>1.8.83 2.3.1 (2020-02-10)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc3><a href="#_Toc251671"><span style='color:#355F7C;text-decoration:
none'>1.8.84 2.3 (2020-02-08)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc3><a href="#_Toc251672"><span style='color:#355F7C;text-decoration:
none'>1.8.85 2.2.1 (2020-02-06)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc3><a href="#_Toc251673"><span style='color:#355F7C;text-decoration:
none'>1.8.86 2.2 (2020-02-01)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................... </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc6><a href="#_Toc251674"><span style='color:#355F7C;text-decoration:
none'>1.8.87 2.1 (2020-01-30)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc6><a href="#_Toc251675"><span style='color:#355F7C;text-decoration:
none'>1.8.88 2.0.1 (2020-01-05)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc6><a href="#_Toc251676"><span style='color:#355F7C;text-decoration:
none'>1.8.89 2.0 (2019-12-29)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>183</span></a></p>

<p class=MsoToc6><a href="#_Toc251677"><span style='color:#355F7C;text-decoration:
none'>1.8.90 1.12.1 (2019-11-06)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251678"><span style='color:#355F7C;text-decoration:
none'>1.8.91 1.12 (2019-11-04)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251679"><span style='color:#355F7C;text-decoration:
none'>1.8.92 1.11 (2019-09-02)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251680"><span style='color:#355F7C;text-decoration:
none'>1.8.93 1.10 (2019-08-23)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251681"><span style='color:#355F7C;text-decoration:
none'>1.8.94 1.9 (2019-08-04)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251682"><span style='color:#355F7C;text-decoration:
none'>1.8.95 1.8 (2019-07-28)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>184</span></a></p>

<p class=MsoToc6><a href="#_Toc251683"><span style='color:#355F7C;text-decoration:
none'>1.8.96 1.7.1 (2019-07-28)</span><span style='color:black;text-decoration:
none'>........................................................................................................................................ </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251684"><span style='color:#355F7C;text-decoration:
none'>1.8.97 1.7 (2019-07-24)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251685"><span style='color:#355F7C;text-decoration:
none'>1.8.98 1.6 (2019-07-18)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251686"><span style='color:#355F7C;text-decoration:
none'>1.8.99 1.5 (2019-07-14)</span><span style='color:black;text-decoration:
none'>............................................................................................................................................ </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251687"><span style='color:#355F7C;text-decoration:
none'>1.8.100 1.4.1 (2019-07-14)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251688"><span style='color:#355F7C;text-decoration:
none'>1.8.101 1.4 (2019-06-30)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>185</span></a></p>

<p class=MsoToc6><a href="#_Toc251689"><span style='color:#355F7C;text-decoration:
none'>1.8.102 1.3 (2019-06-28)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251690"><span style='color:#355F7C;text-decoration:
none'>1.8.103 1.2.2 (2019-06-25)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251691"><span style='color:#355F7C;text-decoration:
none'>1.8.104 1.2.1 (2019-06-20)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251692"><span style='color:#355F7C;text-decoration:
none'>1.8.105 1.2 (2019-06-12)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251693"><span style='color:#355F7C;text-decoration:
none'>1.8.106 1.1 (2019-05-28)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251694"><span style='color:#355F7C;text-decoration:
none'>1.8.107 1.0.1 (2019-05-27)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251695"><span style='color:#355F7C;text-decoration:
none'>1.8.108 1.0 (2019-05-24)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>186</span></a></p>

<p class=MsoToc6><a href="#_Toc251696"><span style='color:#355F7C;text-decoration:
none'>1.8.109 0.14 (2019-02-24)</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>187</span></a></p>

<p class=MsoToc6><a href="#_Toc251697"><span style='color:#355F7C;text-decoration:
none'>1.8.110 0.13 (2019-02-23)</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>187</span></a></p>

<p class=MsoToc6><a href="#_Toc251698"><span style='color:#355F7C;text-decoration:
none'>1.8.111 0.12 (2019-02-22)</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>187</span></a></p>

<p class=MsoToc6><a href="#_Toc251699"><span style='color:#355F7C;text-decoration:
none'>1.8.112 0.11 (2019-02-07)</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>187</span></a></p>

<p class=MsoToc6><a href="#_Toc251700"><span style='color:#355F7C;text-decoration:
none'>1.8.113 0.10 (2019-02-06)</span><span style='color:black;text-decoration:
none'>....................................................................................................................................... </span><span style='color:black;text-decoration:none'>188</span></a></p>

<p class=MsoToc6><a href="#_Toc251701"><span style='color:#355F7C;text-decoration:
none'>1.8.114 0.9 (2019-01-27)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>188</span></a></p>

<p class=MsoToc6><a href="#_Toc251702"><span style='color:#355F7C;text-decoration:
none'>1.8.115 0.8 (2019-01-25)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>188</span></a></p>

<p class=MsoToc6><a href="#_Toc251703"><span style='color:#355F7C;text-decoration:
none'>1.8.116 0.7 (2019-01-24)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>189</span></a></p>

<p class=MsoToc6><a href="#_Toc251704"><span style='color:#355F7C;text-decoration:
none'>1.8.117 0.6 (2018-08-12)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>189</span></a></p>

<p class=MsoToc6><a href="#_Toc251705"><span style='color:#355F7C;text-decoration:
none'>1.8.118 0.5 (2018-08-05)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>190</span></a></p>

<p class=MsoToc6><a href="#_Toc251706"><span style='color:#355F7C;text-decoration:
none'>1.8.119 0.4 (2018-07-31)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>190</span></a></p>

<p class=MsoToc6><a href="#_Toc251707"><span style='color:#355F7C;text-decoration:
none'>1.8.120 0.3.1 (2018-07-31)</span><span style='color:black;text-decoration:
none'>...................................................................................................................................... </span><span style='color:black;text-decoration:none'>190</span></a></p>

<p class=MsoToc6><a href="#_Toc251708"><span style='color:#355F7C;text-decoration:
none'>1.8.121 0.3 (2018-07-31)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>190</span></a></p>

<p class=MsoToc6><a href="#_Toc251709"><span style='color:#355F7C;text-decoration:
none'>1.8.122 0.2 (2018-07-28)</span><span style='color:black;text-decoration:
none'>.......................................................................................................................................... </span><span style='color:black;text-decoration:none'>190</span></a></p>

<p class=MsoToc1><a href="#_Toc251710"><span style='color:#355F7C;text-decoration:
none'>Index.............................................................................................................................................. </span><span style='color:black;text-decoration:none'>191</span></a></p>

<p class=MsoNormal>&nbsp;</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><b>sqlite-utils
documentation, Release 3.38-4-g0aefbb6</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:41.95pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
width=625 height=1 id="Group 197860"
src="sqlite-utils%20documentation_files/image002.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.8pt;margin-left:-.25pt;text-align:left;line-height:107%'><i>CLI
tool and Python library for manipulating SQLite databases</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>This library and command-line utility helps create SQLite
databases from an existing collection of data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>Most of the functionality is available as either a Python
API or through the sqlite-utils command-line tool.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.95pt;
margin-left:-.25pt'>sqlite-utils is not intended to be a full ORM: the focus is
utility helpers to make creating the initial database and populating it with
data as productive as possible. It is designed as a useful complement to <a
href="https://datasette.io/"><span style='color:#377063;text-decoration:none'>Datasette</span></a><a
href="https://datasette.io/"><span style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:523.95pt;
margin-left:-.25pt'><a href="https://datasette.io/tutorials/clean-data"><span
style='color:#377063;text-decoration:none'>Cleaning data with sqlite-utils and
Datasette</span></a><span style='color:#377063'> </span>provides a tutorial
introduction (and accompanying ten minute video) about using this tool.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>CONTENTS</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:413.7pt;text-align:left;line-height:107%'><b>CONTENTS</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.2pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 198118"
src="sqlite-utils%20documentation_files/image001.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15in;margin-left:.5pt;text-align:right;line-height:107%'><b>CHAPTER</b></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:0in;margin-left:.5pt;text-align:right;line-height:110%'><b><span
style='font-size:14.5pt;line-height:110%'>ONE</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:33.9pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=625 height=1 id="Group 198119"
src="sqlite-utils%20documentation_files/image001.gif"></span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:45.75pt;margin-left:
.5pt'><a name="_Toc251418">CONTENTS</a></h1>

<h4 style='margin-left:-.25pt'><a name="_Toc251419">1.1 Installation</a></h4>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:-.25pt'>sqlite-utils is tested on Linux, macOS and Windows.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251420">1.1.1 Using Homebrew</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The <i><span style='color:#355F7C'>sqlite-utils
command-line tool </span></i>can be installed on macOS using Homebrew:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image003.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you have it installed and want to upgrade to the most
recent release, you can run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image004.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.75pt;
margin-left:-.25pt'>Then run sqlite-utils --version to confirm the installed
version.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251421">1.1.2 Using pip</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The <a href="https://pypi.org/project/sqlite-utils/"><span
style='color:#377063;text-decoration:none'>sqlite-utils package</span></a><span
style='color:#377063'> </span>on PyPI includes both the <i><span
style='color:#355F7C'>sqlite_utils Python library </span></i>and the sqlite-utils
command-line tool. You can install them using pip like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image005.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251422">1.1.3 Using pipx</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'><a href="https://pypi.org/project/pipx/"><span
style='color:#377063;text-decoration:none'>pipx</span></a><span
style='color:#377063'> </span>is a tool for installing Python command-line
applications in their own isolated environments. You can use pipx to install
the sqlite-utils command-line tool like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image006.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection5>

<h6 style='margin-left:-.25pt'><a name="_Toc251423">1.1.4 Alternatives to
sqlite3</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:39.55pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:150%'>By default, sqlite-utils uses the sqlite3
package bundled with the Python standard library. Depending on your operating
system, this may come with some limitations.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt;line-height:123%'>On some platforms the ability to load additional extensions (via
conn.load_extension(...) or --load-extension=/path/to/extension) may be
disabled.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:-.25pt'>You may also see the error sqlite3.OperationalError: table
sqlite_master may not be modified when trying to alter an existing table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>You can work around these limitations by installing either
the <a href="https://pypi.org/project/pysqlite3/"><span style='color:#377063;
text-decoration:none'>pysqlite3</span></a><span style='color:#377063'> </span>package
or the <a href="https://pypi.org/project/sqlean.py/"><span style='color:#377063;
text-decoration:none'>sqlean.py</span></a><span style='color:#377063'> </span>package,
both of which provide drop-in replacements for the standard library sqlite3 module
but with a recent version of SQLite and full support for loading extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To install sqlean.py (which has compiled binary wheels
available for all major platforms) run the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image007.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>pysqlite3 and sqlean.py do not provide implementations of
the .iterdump() method. To use that method (see <i><span style='color:#355F7C'>Dumping
the database to SQL</span></i>) or the sqlite-utils dump command you should
also install the sqlite-dump package:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image008.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251424">1.1.5 Setting up shell
completion</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.6pt;
margin-left:-.25pt'>You can configure shell tab completion for the sqlite-utils
command using these commands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For bash:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image009.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For zsh:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image010.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:-.25pt'>Add this code to ~/.zshrc or ~/.bashrc to automatically run
it when you start a new shell.</p>

<p class=MsoNormal align=left style='margin-bottom:26.8pt;text-align:left;
line-height:110%'>See <a
href="https://click.palletsprojects.com/en/8.1.x/shell-completion/"><span
style='color:#377063;text-decoration:none'>the Click documentation</span></a><span
style='color:#377063'> </span>for more details.</p>

<h4 style='margin-left:-.25pt'><a name="_Toc251425">1.2 sqlite-utils
command-line tool</a></h4>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:-.25pt'>The sqlite-utils command-line tool can be used to
manipulate SQLite databases in a number of different ways.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.1pt;
margin-left:-.25pt'>Once <i><span style='color:#355F7C'>installed </span></i>the
tool should be available as sqlite-utils. It can also be run using python -m
sqlite_utils.</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:86.25pt'>
  <td width=625 valign=top style='width:469.1pt;border:solid #86989B 1.0pt;
  border-bottom:solid #6C6C6C 4.5pt;background:#F7F7F7;padding:6.3pt 5.75pt 0in 23.7pt;
  height:86.25pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'> <i><span style='color:#355F7C'>Running SQL queries</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.85pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><b> </b><i><span style='color:#355F7C'>Returning JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:38.9pt;text-align:left;text-indent:0in;
  line-height:107%'>&#8727; <i><span style='color:#355F7C'>Newline-delimited
  JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:38.9pt;text-align:left;text-indent:0in;
  line-height:107%'>&#8727; <i><span style='color:#355F7C'>JSON arrays</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:647.5pt'>
  <td width=625 style='width:469.1pt;border-top:none;border-left:solid #86989B 1.0pt;
  border-bottom:solid #6C6C6C 4.5pt;border-right:solid #86989B 1.0pt;
  background:#F7F7F7;padding:0in 154.1pt 0in 23.7pt;height:647.5pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:38.9pt;text-align:left;text-indent:0in;
  line-height:107%'>&#8727; <i><span style='color:#355F7C'>Binary data in JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.35pt;margin-left:38.9pt;text-align:left;text-indent:0in;
  line-height:107%'>&#8727; <i><span style='color:#355F7C'>Nested JSON values</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Returning CSV or TSV</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Table-formatted output</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Returning raw data, such as
  binary content</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Using named parameters</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>UPDATE, INSERT and DELETE</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:151%'><span style='line-height:151%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Defining custom SQL functions </span></i><b>
  </b><i><span style='color:#355F7C'>SQLite extensions</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Attaching additional databases</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Querying data directly using an
  in-memory database</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Running queries directly against
  CSV or JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Explicitly specifying the format</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Joining in-memory data against
  existing databases using --attach</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>--schema, --analyze, --dump and
  --save</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Returning all rows in a table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing indexes</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing triggers</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Showing the schema</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Analyzing tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Saving the analyzed table
  details</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:150%'><span style='line-height:150%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating an empty database </span></i>
  <i><span style='color:#355F7C'>Inserting JSON data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Inserting binary data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Inserting newline-delimited JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Flattening nested JSON objects</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Inserting CSV or TSV data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Alternative delimiters and quote
  characters</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>CSV files without a header row</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Inserting unstructured data with
  --lines and --text</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.35pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Applying conversions while
  inserting data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.3pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>--convert with --lines</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>--convert with --text</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:647.5pt'>
  <td width=625 valign=top style='width:469.1pt;border-top:none;border-left:
  solid #86989B 1.0pt;border-bottom:solid #6C6C6C 4.5pt;border-right:solid #86989B 1.0pt;
  background:#F7F7F7;padding:5.95pt 5.75pt 0in 23.7pt;height:647.5pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Insert-replacing data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Upserting data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Executing SQL in bulk</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Inserting data from files</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Converting data in columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Importing additional modules</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Using the debugger</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Defining a convert() function</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>sqlite-utils convert recipes</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Saving the result to a different
  column</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Converting a column into
  multiple columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Renaming a table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Duplicating tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Dropping tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Transforming tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding a primary key to a rowid
  table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Extracting columns into a
  separate table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Dropping views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding columns automatically on
  insert/update</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding foreign key constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding multiple foreign keys at
  once</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding indexes for all foreign
  keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Setting defaults and not null
  constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating indexes</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Configuring full-text search</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Executing searches</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Enabling cached counts</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Optimizing index usage with
  ANALYZE</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Vacuum</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Optimize</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>WAL mode</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Dumping the database to SQL</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-4.0pt;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=629 height=142
src="sqlite-utils%20documentation_files/image011.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251426">1.2.1 Running SQL queries</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The sqlite-utils query command lets you run queries
directly against a SQLite database file. This is the default subcommand, so the
following two examples work the same way:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image012.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:24.65pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image013.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Returning JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The default format returned for queries is JSON:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=78
src="sqlite-utils%20documentation_files/image014.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.6pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Newline-delimited JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>nl
</span></sub>to get back newline-delimited JSON objects:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=78
src="sqlite-utils%20documentation_files/image015.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.55pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>JSON arrays</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=104
src="sqlite-utils%20documentation_files/image016.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=104
src="sqlite-utils%20documentation_files/image017.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to pretty-print the output further, you can
pipe it through python -mjson.tool:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=238
src="sqlite-utils%20documentation_files/image018.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.25pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Binary data in JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Binary strings are not valid JSON, so BLOB columns
containing binary data will be returned as a JSON object containing base64
encoded data, that looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=190
src="sqlite-utils%20documentation_files/image019.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.25pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Nested JSON values</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If one of your columns contains JSON, by default it will be
returned as an escaped string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=158
src="sqlite-utils%20documentation_files/image020.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the --<sub><span style='font-size:15.5pt;
line-height:103%'>json-cols </span></sub>option to automatically detect these
JSON columns and output them as nested JSON data:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=269
src="sqlite-utils%20documentation_files/image021.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.5pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Returning CSV or TSV</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=120
src="sqlite-utils%20documentation_files/image022.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will default to including the column names as a header
row. To exclude the headers, use --<sub><span style='font-size:15.5pt;
line-height:103%'>no-headers</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=78
src="sqlite-utils%20documentation_files/image023.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>tsv
</span></sub>instead of --<sub><span style='font-size:15.5pt;line-height:103%'>csv
</span></sub>to get back tab-separated values:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=94
src="sqlite-utils%20documentation_files/image024.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Table-formatted output</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the --<sub><span style='font-size:15.5pt;
line-height:103%'>table </span></sub>option (or -<sub><span style='font-size:
15.5pt;line-height:103%'>t </span></sub>shortcut) to output query results as a
table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=110
src="sqlite-utils%20documentation_files/image025.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the --<sub><span style='font-size:15.5pt;
line-height:103%'>fmt </span></sub>option to specify different table formats,
for example rst for reStructuredText:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=169
src="sqlite-utils%20documentation_files/image026.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>asciidoc</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>double_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>double_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fancy_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fancy_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>github</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>heavy_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>heavy_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>html</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>jira</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>latex</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>latex_booktabs</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>latex_longtable</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>latex_raw</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mediawiki</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mixed_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>mixed_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>moinmoin</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>orgtbl</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pipe</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>plain</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>presto</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pretty</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>psql</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rounded_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rounded_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rst</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>simple</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>simple_grid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>simple_outline</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>textile</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>tsv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>unsafehtml</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>youtrack</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.75pt;
margin-left:-.25pt'>This list can also be found by running sqlite-utils query
--help.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Returning raw data, such as binary content</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:-.25pt'>If your table contains binary data in a BLOB you can use
the --<sub><span style='font-size:15.5pt;line-height:103%'>raw </span></sub>option
to output specific columns directly to standard out.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.05pt;
margin-left:-.25pt;line-height:182%'><span style='position:absolute;z-index:
-1895825408;left:0px;margin-left:-5px;margin-top:26px;width:633px;height:25px'><img
width=633 height=25 src="sqlite-utils%20documentation_files/image027.gif"></span>For
example, to retrieve a binary image from a BLOB column and store it in a file
you can use the following: sqlite-utils photos.db <span style='color:#4070A1'>&quot;select
contents from photos where id=1&quot; </span>--raw &gt; myphoto.jpg</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.55pt;
margin-left:-.25pt'>To return the first column of each result as raw data,
separated by newlines, use --<sub><span style='font-size:15.5pt;line-height:
103%'>raw-lines</span></sub>:</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895824384'><span style='left:0px;position:absolute;left:-5px;
top:-6px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image027.gif"></span></span>sqlite-utils
photos.db <span style='color:#4070A1'>&quot;select caption from photos&quot; </span>--raw-lines
&gt; captions.txt</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Using named parameters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass named parameters to the query using -<sub><span
style='font-size:15.5pt;line-height:103%'>p</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image028.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.2pt;
margin-left:-.25pt'>These will be correctly quoted and escaped in the SQL
query, providing a safe way to combine other values with SQL.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>UPDATE, INSERT and DELETE</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you execute an UPDATE, INSERT or DELETE query the
command will return the number of affected rows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image029.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Defining custom SQL functions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>You can use the --<sub><span style='font-size:15.5pt;
line-height:103%'>functions </span></sub>option to pass a block of Python code
that defines additional functions which can then be called by your SQL query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This example defines a function which extracts the domain
from a URL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image030.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.4pt;
margin-left:-.25pt'>Every callable object defined in the block will be
registered as a SQL function with the same name, with the exception of
functions with names that begin with an underscore.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>SQLite extensions</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can load SQLite extension modules using the --<sub><span
style='font-size:15.5pt;line-height:103%'>load-extension </span></sub>option,
see <i><span style='color:#355F7C'>Loading SQLite extensions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image031.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Attaching additional databases</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:-.25pt'>SQLite supports cross-database SQL queries, which can join
data from tables in more than one database file. You can attach one or more
additional databases using the --<sub><span style='font-size:15.5pt;line-height:
103%'>attach </span></sub>option, providing an alias to use for that database
and the path to the SQLite file on disk.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:144%'><span style='position:absolute;z-index:
-1895823360;left:0px;margin-left:-5px;margin-top:41px;width:633px;height:41px'><img
width=633 height=41 src="sqlite-utils%20documentation_files/image032.gif"></span>This
example attaches the books.db database under the alias books and then runs a
query that combines data from that database with the default dogs.db database: sqlite-utils
dogs.db --attach books books.db <span style='color:#4070A1'>\</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:28.65pt;
margin-bottom:9.7pt;margin-left:15.7pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#4070A1'>'select * from sqlite_master
union all select * from books.sqlite_master'</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image033.gif"></span></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.5pt;margin-left:
-.25pt'><a name="_Toc251427">1.2.2 Querying data directly using an in-memory
database</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>The sqlite-utils memory command works similar to sqlite-utils
query, but allows you to execute queries against an in-memory database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>You can also pass this command CSV or JSON files which will
be loaded into a temporary in-memory table, allowing you to execute SQL against
that data without a separate step to first convert it to SQLite.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Without any extra arguments, this command executes SQL
against the in-memory database directly:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image034.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>It takes all of the same output formatting options as <i><span
style='color:#355F7C'>sqlite-utils query</span></i>: --<sub><span
style='font-size:15.5pt;line-height:103%'>csv </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>csv </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>table </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>nl</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216
src="sqlite-utils%20documentation_files/image035.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Running queries directly against CSV or JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you have data in CSV or JSON format you can load it into
an in-memory SQLite database and run queries against it directly in a single
command using sqlite-utils memory like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image036.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass multiple files to the command if you want to
run joins between data from different files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image037.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>If your data is JSON it should be the same format supported
by the <i><span style='color:#355F7C'>sqlite-utils insert command </span></i>-
so either a single JSON object (treated as a single row) or a list of JSON
objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:-.25pt'>CSV data can be comma- or tab- delimited.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The in-memory tables will be named after the files without
their extensions. The tool also sets up aliases for those tables (using SQL
views) as t1, t2 and so on, or you can use the alias t to refer to the first
table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image038.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:112.35pt;margin-bottom:
4.2pt;margin-left:-.25pt;line-height:181%'><span style='position:absolute;
z-index:-1895822336;left:0px;margin-left:-5px;margin-top:26px;width:633px;
height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image027.gif"></span>If two files have
the same name they will be assigned a numeric suffix: sqlite-utils memory
foo/data.csv bar/data.csv <span style='color:#4070A1'>&quot;select * from
data_2&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To read from standard input, use either - or stdin as the
filename - then use stdin or t or t1 as the table name:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image039.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:-.25pt;line-height:152%'><span style='position:absolute;z-index:
-1895821312;left:0px;margin-left:-5px;margin-top:42px;width:633px;height:25px'><img
width=633 height=25 src="sqlite-utils%20documentation_files/image040.gif"></span>Incoming
CSV data will be assumed to use utf-8. If your data uses a different character
encoding you can specify that with --encoding: cat example.csv | sqlite-utils
memory - <span style='color:#4070A1'>&quot;select * from stdin&quot; </span>--encoding<span
style='color:#666666'>=</span>latin-1</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>If you are joining across multiple CSV files they must all
use the same encoding.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.7pt;
margin-left:-.25pt'>Column types will be automatically detected in CSV or TSV
data, using the same mechanism as --<sub><span style='font-size:15.5pt;
line-height:103%'>detect-types </span></sub>described in <i><span
style='color:#355F7C'>Inserting CSV or TSV data</span></i>. You can pass the --<sub><span
style='font-size:15.5pt;line-height:103%'>no-detect-types </span></sub>option
to disable this automatic type detection and treat all CSV and TSV columns as TEXT.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Explicitly specifying the format</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>By default, sqlite-utils memory will attempt to detect the
incoming data format (JSON, TSV or CSV) automatically.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can instead specify an explicit format by adding a :<sub><span
style='font-size:15.5pt;line-height:103%'>csv</span></sub>, :<sub><span
style='font-size:15.5pt;line-height:103%'>tsv</span></sub>, :<sub><span
style='font-size:15.5pt;line-height:103%'>json </span></sub>or :<sub><span
style='font-size:15.5pt;line-height:103%'>nl </span></sub>(for
newline-delimited JSON) suffix to the filename. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image041.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>Here the contents of one.dat will be treated as CSV and the
contents of two.dat will be treated as newline-delimited JSON.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To explicitly specify the format for data piped into the
tool on standard input, use stdin:format - for example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image042.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Joining in-memory data against existing databases using
--attach</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.2pt;
margin-left:-.25pt'>The <i><span style='color:#355F7C'>attach option </span></i>can
be used to attach database files to the in-memory connection, enabling joins
between in-memory data loaded from a file and tables in existing SQLite
database files. An example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:75.75pt;
margin-bottom:13.1pt;margin-left:9.7pt;text-align:left;text-indent:-10.45pt;
line-height:112%'><span style='position:relative;z-index:-1895820288'><span
style='left:0px;position:absolute;left:-5px;top:-7px;width:633px;height:41px'><img
width=633 height=41 src="sqlite-utils%20documentation_files/image032.gif"></span></span><span
style='color:#007021'>echo </span><span style='color:#4070A1'>&quot;id\n1\n3\n5&quot;
</span>| sqlite-utils memory - --attach trees trees.db <span style='color:#4070A1'>\
&quot;select * from trees.trees where rowid in (select id from stdin)&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:169%'>Here the --attach trees trees.db option
makes the trees.db database available with an alias of trees. select * from
trees.trees where ... can then query the trees table in that database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.05pt;
margin-left:-.25pt'>The CSV data that was piped into the script is available in
the stdin table, so ... where rowid in (select id from stdin) can be used to
return rows from the trees table that match IDs that were piped in as CSV
content.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>--schema, --analyze, --dump and --save</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To see the in-memory database schema that would be used for
a file or for multiple files, use --<sub><span style='font-size:15.5pt;
line-height:103%'>schema</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=157
src="sqlite-utils%20documentation_files/image043.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can run the equivalent of the <i><span
style='color:#355F7C'>analyze-tables </span></i>command using --<sub><span
style='font-size:15.5pt;line-height:103%'>analyze</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=326
src="sqlite-utils%20documentation_files/image044.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119
src="sqlite-utils%20documentation_files/image045.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.25pt;
margin-left:-.25pt'>You can output SQL that will both create the tables and
insert the full data used to populate the in-memory database using --dump:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=222
src="sqlite-utils%20documentation_files/image046.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Passing --<sub><span style='font-size:15.5pt;line-height:
103%'>save other.db </span></sub>will instead use that SQL to populate a new
database file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image047.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:-.25pt'>These features are mainly intended as debugging tools - for
much more finely grained control over how data is inserted into a SQLite
database file see <i><span style='color:#355F7C'>Inserting JSON data </span></i>and
<i><span style='color:#355F7C'>Inserting CSV or TSV data</span></i>.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251428">1.2.3 Returning all rows in
a table</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can return every row in a specified table using the rows
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=78
src="sqlite-utils%20documentation_files/image048.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.65pt;
margin-left:-.25pt;line-height:126%'>This command accepts the same output
options as query - so you can pass --nl, --csv, --tsv, --no-headers, --table and
--fmt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the -<sub><span style='font-size:15.5pt;
line-height:103%'>c </span></sub>option to specify a subset of columns to
return:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=78
src="sqlite-utils%20documentation_files/image049.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can filter rows using a where clause with the --<sub><span
style='font-size:15.5pt;line-height:103%'>where </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image050.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Or pass named parameters using --<sub><span
style='font-size:15.5pt;line-height:103%'>where </span></sub>in combination
with -<sub><span style='font-size:15.5pt;line-height:103%'>p</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image051.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:-.25pt'>You can define a sort order using --order column or --order
'column desc'.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>limit
N </span></sub>to only return the first N rows. Use --<sub><span
style='font-size:15.5pt;line-height:103%'>offset N </span></sub>to return rows
starting from the specified offset.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image052.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251429">1.2.4 Listing tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can list the names of tables in a database using the tables
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=94
src="sqlite-utils%20documentation_files/image053.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can output this list in CSV using the --<sub><span
style='font-size:15.5pt;line-height:103%'>csv </span></sub>or --<sub><span
style='font-size:15.5pt;line-height:103%'>tsv </span></sub>options:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=94
src="sqlite-utils%20documentation_files/image054.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you just want to see the FTS4 tables, you can use --<sub><span
style='font-size:15.5pt;line-height:103%'>fts4 </span></sub>(or --<sub><span
style='font-size:15.5pt;line-height:103%'>fts5 </span></sub>for FTS5 tables):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image055.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>counts
</span></sub>to include a count of the number of rows in each table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image056.gif"></span></p>

<p class=MsoNormal style='margin-bottom:15.3pt;line-height:107%'>sqlite-utils
tables dogs.db --counts --columns</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><span
style='color:#333333'>[{&quot;table&quot;: &quot;Gosh&quot;, &quot;count&quot;:
0, &quot;columns&quot;: [&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;]},</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:5.75pt;text-align:left;line-height:109%'><span
style='color:#333333'>{&quot;table&quot;: &quot;Gosh2&quot;, &quot;count&quot;:
0, &quot;columns&quot;: [&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;]},</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:112.55pt;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:5.25pt;
line-height:137%'><span style='position:relative;z-index:-1895819264'><span
style='left:0px;position:absolute;left:-5px;top:-76px;width:633px;height:94px'><img
width=633 height=94 src="sqlite-utils%20documentation_files/image057.gif"></span></span><span
style='color:#333333'>{&quot;table&quot;: &quot;dogs&quot;, &quot;count&quot;:
2, &quot;columns&quot;: [&quot;id&quot;, &quot;age&quot;, &quot;name&quot;]}] </span>Use
--<sub><span style='font-size:15.5pt;line-height:137%'>schema </span></sub>to
include the schema of each table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=174
src="sqlite-utils%20documentation_files/image058.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.05pt;
margin-left:-.25pt'>The --nl, --csv, --tsv, --table and --fmt options are also
available.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image059.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251430">1.2.5 Listing views</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:122.8pt;margin-bottom:
7.6pt;margin-left:.5pt;line-height:182%'><span style='position:absolute;
z-index:-1895818240;left:0px;margin-left:-5px;margin-top:25px;width:633px;
height:142px'><img width=633 height=142
src="sqlite-utils%20documentation_files/image060.gif"></span>The views command
shows any views defined in the database: sqlite-utils views sf-trees.db --table
--counts --columns --schema</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>view count
columns schema</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><span
style='color:#333333'>--------- ------- --------------------
-----------------------------------------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><i><span
style='font-size:5.0pt;line-height:109%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:109%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>---------------</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>demo_view 189144
['qSpecies'] CREATE VIEW demo_view
AS select qSpecies from</span><span style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><i><span
style='font-size:5.0pt;line-height:109%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:109%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><span
style='color:#333333'>Street_Tree_List</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.05pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>hello 1
['sqlite_version()'] CREATE VIEW hello as select sqlite_version()</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.95pt;
margin-left:-.25pt'>It takes the same options as the tables command:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--schema</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--counts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--nl</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--csv</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--tsv</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>--table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image061.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251431">1.2.6 Listing indexes</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:-.25pt'>The indexes command lists any indexes configured for the
database:</p>

<p class=MsoNormal style='margin-bottom:16.7pt;line-height:107%'>sqlite-utils
indexes covid.db --table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>table index_name </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>seqno cid name desc
coll key</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><span
style='color:#333333'>--------------------------------
------------------------------------------------------</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:2.6pt;
line-height:109%'><span style='position:relative;z-index:-1895817216'><span
style='left:0px;position:absolute;left:-5px;top:-92px;width:633px;height:365px'><img
width=633 height=365 src="sqlite-utils%20documentation_files/image062.gif"></span></span><i><span
style='font-size:5.0pt;line-height:109%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:109%;font-family:"Cambria",serif;color:red'>&#8594;
</span></sub><span style='color:#333333'>------- ----- ----------------- ------
------ ----johns_hopkins_csse_daily_reports
idx_johns_hopkins_csse_daily_reports_combined_key </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 12 combined_key 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><span
style='color:#333333'>johns_hopkins_csse_daily_reports
idx_johns_hopkins_csse_daily_reports_country_or_region</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 1 country_or_region 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.25pt;text-align:left;line-height:109%'><span
style='color:#333333'>johns_hopkins_csse_daily_reports
idx_johns_hopkins_csse_daily_reports_province_or_state</span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 2 province_or_state 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>johns_hopkins_csse_daily_reports
idx_johns_hopkins_csse_daily_reports_day </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 0 day 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>ny_times_us_counties idx_ny_times_us_counties_date </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 0 date 1
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>ny_times_us_counties idx_ny_times_us_counties_fips </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 3 fips 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>ny_times_us_counties idx_ny_times_us_counties_county </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 1 county 0
BINARY 1</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><span style='color:#333333'>ny_times_us_counties idx_ny_times_us_counties_state </span><span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.5pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:109%'><i><span style='font-size:5.0pt;line-height:109%;font-family:
"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:7.5pt;
line-height:109%;font-family:"Cambria",serif;color:red'>&#8594; </span></sub><span
style='color:#333333'>0 2 state 0
BINARY 1</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:23.15pt;margin-bottom:
3.55pt;margin-left:-.25pt;line-height:181%'><span style='position:absolute;
z-index:-1895816192;left:0px;margin-left:-5px;margin-top:26px;width:633px;
height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image063.gif"></span>It shows indexes
across all tables. To see indexes for specific tables, list those after the
database: sqlite-utils indexes covid.db johns_hopkins_csse_daily_reports
--table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The command defaults to only showing the columns that are
explicitly part of the index. To also include auxiliary columns use the --<sub><span
style='font-size:15.5pt;line-height:103%'>aux </span></sub>option - these
columns will be listed with a key of 0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.7pt;
margin-left:-.25pt'>The command takes the same format options as the tables and
views commands.</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image064.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251432">1.2.7 Listing triggers</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The triggers command shows any triggers configured for the
database:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=285
src="sqlite-utils%20documentation_files/image065.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>It defaults to showing triggers for all tables. To see
triggers for one or more specific tables pass their names as arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image066.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.7pt;
margin-left:-.25pt'>The command takes the same format options as the tables and
views commands.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image067.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251433">1.2.8 Showing the schema</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The sqlite-utils schema command shows the full SQL schema
for the database:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=110
src="sqlite-utils%20documentation_files/image068.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will show the schema for every table and index in the
database. To view the schema just for a specified subset of tables pass those
as additional arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image069.gif"></span></p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=624 height=57
src="sqlite-utils%20documentation_files/image070.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251434">1.2.9 Analyzing tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>When working with a new database it can be useful to get an
idea of the shape of the data. The sqlite-utils analyze-tables command inspects
specified tables (or all tables) and calculates some useful details about each
of the columns in those tables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To inspect the tags table in the github.db database, run
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=732
src="sqlite-utils%20documentation_files/image071.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.95pt;
margin-left:-.25pt'>For each column this tool displays the number of null rows,
the number of blank rows (rows that contain an empty string), the number of
distinct values and, for columns that are not entirely distinct, the most
common and least common values. If you do not specify any tables every table in
the database will be analyzed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image072.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you wish to analyze one or more specific columns, use
the -<sub><span style='font-size:15.5pt;line-height:103%'>c </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image073.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.9pt;
margin-left:-.25pt'>To show more than 10 common values, use --<sub><span
style='font-size:15.5pt;line-height:103%'>common-limit 20</span></sub>. To skip
the most common or least common value analysis, use --no-most or --no-least:</p>

<p class=MsoNormal style='margin-bottom:26.45pt;line-height:107%'><span
style='position:relative;z-index:-1895815168'><span style='left:0px;position:
absolute;left:-5px;top:-6px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image063.gif"></span></span>sqlite-utils
analyze-tables github.db tags --common-limit <span style='color:#217F4F'>20 </span>--no-least</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Saving the analyzed table details</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>analyze-tables can take quite a while to run for large
database files. You can save the results of the analysis to a database table
called _analyze_tables_ using the --save option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image074.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The _analyze_tables_ table has the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=184
src="sqlite-utils%20documentation_files/image075.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The most_common and least_common columns will contain
nested JSON arrays of the most common and least common values that look like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200
src="sqlite-utils%20documentation_files/image076.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251435">1.2.10 Creating an empty
database</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can create a new empty database file using the create-database
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image077.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To enable <i><span style='color:#355F7C'>WAL mode </span></i>on
the newly created database add the --<sub><span style='font-size:15.5pt;
line-height:103%'>enable-wal </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image078.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To enable SpatiaLite metadata on a newly created database,
add the --<sub><span style='font-size:15.5pt;line-height:103%'>init-spatialite </span></sub>flag:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image079.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.8pt;
margin-left:-.25pt'>That will look for SpatiaLite in a set of predictable
locations. To load it from somewhere else, use the --load-extension option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image080.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251436">1.2.11 Inserting JSON data</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>If you have data as JSON, you can use sqlite-utils insert
tablename to insert it into a database. The table will be created with the
correct (automatically detected) columns if it does not already exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>You can pass in a single JSON object or a list of JSON
objects, either as a filename or piped directly to standard-in (by using - as
the filename).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.4pt;
margin-left:-.25pt'>Heres the simplest possible example:</p>

<p class=MsoNormal style='margin-bottom:13.75pt;line-height:107%'><span
style='position:relative;z-index:-1895814144'><span style='left:0px;position:
absolute;left:-5px;top:-6px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image063.gif"></span></span><span
style='color:#007021'>echo </span><span style='color:#4070A1'>'{&quot;name&quot;:
&quot;Cleo&quot;, &quot;age&quot;: 4}' </span>| sqlite-utils insert dogs.db
dogs -</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>To specify a column as the primary key, use --pk=column_name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To create a compound primary key across more than one
column, use --<sub><span style='font-size:15.5pt;line-height:103%'>pk </span></sub>multiple
times.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you feed it a JSON list it will insert multiple records.
For example, if dogs.json looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=280
src="sqlite-utils%20documentation_files/image081.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can import all three records into an automatically
created dogs table and set the id column as the primary key like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image082.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Pass --<sub><span style='font-size:15.5pt;line-height:103%'>pk
</span></sub>multiple times to define a compound primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can skip inserting any records that have a primary key
that already exists using --<sub><span style='font-size:15.5pt;line-height:
103%'>ignore</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image083.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can delete all the existing rows in the table before
inserting the new records using --<sub><span style='font-size:15.5pt;
line-height:103%'>truncate</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image084.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.4pt;
margin-left:-.25pt'>You can add the --<sub><span style='font-size:15.5pt;
line-height:103%'>analyze </span></sub>option to run ANALYZE against the table
after the rows have been inserted.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Inserting binary data</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can insert binary data into a BLOB column by first
encoding it using base64 and then structuring it like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=153
src="sqlite-utils%20documentation_files/image085.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Inserting newline-delimited JSON</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.45pt;
margin-left:-.25pt'>You can also import <a href="http://ndjson.org/"><span
style='color:#377063;text-decoration:none'>newline-delimited JSON</span></a><span
style='color:#377063'> </span>using the --<sub><span style='font-size:15.5pt;
line-height:103%'>nl </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:28.65pt;
margin-bottom:.55pt;margin-left:-.75pt;text-align:left;text-indent:0in;
line-height:112%'><span style='color:#007021'>echo </span><span
style='color:#4070A1'>'{&quot;id&quot;: 1, &quot;name&quot;: &quot;Cleo&quot;}</span></p>

<p class=MsoNormal style='margin-bottom:12.55pt;line-height:107%'><span
style='position:relative;z-index:-1895813120'><span style='left:0px;position:
absolute;left:-5px;top:-23px;width:633px;height:41px'><img width=633 height=41
src="sqlite-utils%20documentation_files/image086.gif"></span></span><span
style='color:#4070A1'>{&quot;id&quot;: 2, &quot;name&quot;: &quot;Suna&quot;}' </span>|
sqlite-utils insert creatures.db creatures - --nl</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>Newline-delimited JSON consists of full JSON objects
separated by newlines.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:-.25pt'>If you are processing data using jq you can use the jq -c option
to output valid newline-delimited JSON.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:-.25pt'>Since <a href="https://datasette.io/"><span
style='color:#377063;text-decoration:none'>Datasette</span></a><span
style='color:#377063'> </span>can export newline-delimited JSON, you can
combine the Datasette and sqlite-utils like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:28.65pt;
margin-bottom:12.45pt;margin-left:20.65pt;text-align:left;text-indent:-21.4pt;
line-height:112%'><span style='position:relative;z-index:-1895812096'><span
style='left:0px;position:absolute;left:-5px;top:-6px;width:633px;height:41px'><img
width=633 height=41 src="sqlite-utils%20documentation_files/image087.gif"></span></span>curl
-L <span style='color:#4070A1'>&quot;https://latest.datasette.io/fixtures/facetable.json?_shape=array&amp;_nl=on&quot;
\ </span>| sqlite-utils insert nl-demo.db facetable - --pk<span
style='color:#666666'>=</span>id --nl</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also pipe sqlite-utils together to create a new
SQLite database file containing the results of a SQL query against another
database:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=57
src="sqlite-utils%20documentation_files/image088.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=142
src="sqlite-utils%20documentation_files/image089.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.35pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Flattening nested JSON objects</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>sqlite-utils insert and sqlite-utils memory both expect
incoming JSON data to consist of an array of JSON objects, where the top-level
keys of each object will become columns in the created database table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:153%'>If your data is nested you can use the --<sub><span
style='font-size:15.5pt;line-height:153%'>flatten </span></sub>option to create
columns that are derived from the nested data. Consider this example document,
in a file called log.json:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=200
src="sqlite-utils%20documentation_files/image090.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Inserting this into a table using sqlite-utils insert
logs.db logs log.json will create a table with the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image091.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.7pt;
margin-left:-.25pt'>With the --flatten option columns will be created using topkey_nextkey
column names - so running sqlite-utils insert logs.db logs log.json --flatten will
create the following schema instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image092.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251437">1.2.12 Inserting CSV or TSV
data</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If your data is in CSV format, you can insert it using the --<sub><span
style='font-size:15.5pt;line-height:103%'>csv </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image093.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For tab-delimited data, use --<sub><span style='font-size:
15.5pt;line-height:103%'>tsv</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image094.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Data is expected to be encoded as Unicode UTF-8. If your
data is an another character encoding you can specify it using the --encoding option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image095.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.65pt;
margin-left:-.25pt'>To stop inserting after a specified number of records -
useful for getting a faster preview of a large file - use the --stop-after option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image096.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:140%'>A
progress bar is displayed when inserting data from a file. You can hide the
progress bar using the --<sub><span style='font-size:15.5pt;line-height:140%'>silent
</span></sub>option. By default every column inserted from a CSV or TSV file
will be of type TEXT. To automatically detect column types - resulting in a mix
of TEXT, INTEGER and FLOAT columns, use the --detect-types option (or its
shortcut -d). For example, given a creatures.csv file containing this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image097.gif"></span></p>

<p class=MsoNormal style='margin-right:65.25pt;line-height:196%'><span
style='position:absolute;z-index:-1895811072;left:0px;margin-left:-5px;
margin-top:26px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image063.gif"></span>The following
command: sqlite-utils insert creatures.db creatures creatures.csv --csv
--detect-types Will produce this schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=126
src="sqlite-utils%20documentation_files/image098.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can set the SQLITE_UTILS_DETECT_TYPES environment
variable if you want --detect-types to be the default behavior:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image099.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If a CSV or TSV file includes empty cells, like this one:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image100.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt'>They will be imported into SQLite as empty string values, &quot;&quot;.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.8pt;
margin-left:-.25pt'>To import them as NULL values instead, use the --empty-null
option:</p>

<p class=MsoNormal style='margin-bottom:26.45pt;line-height:107%'><span
style='position:relative;z-index:-1895810048'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image101.gif"></span></span>sqlite-utils
insert creatures.db creatures creatures.csv --csv --empty-null</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Alternative delimiters and quote characters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>If your file uses a delimiter other than , or a quote
character other than &quot; you can attempt to detect delimiters or you can
specify them explicitly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The --<sub><span style='font-size:15.5pt;line-height:103%'>sniff
</span></sub>option can be used to attempt to detect the delimiters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image102.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:90.9pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:151%'>Alternatively, you can specify them
using the --delimiter and --quotechar options. Heres a CSV file that uses ; for
delimiters and the | symbol for quote characters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image103.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.45pt;
margin-left:-.25pt'>You can import that using:</p>

<p class=MsoNormal style='margin-bottom:14.55pt;line-height:107%'><span
style='position:relative;z-index:-1895809024'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image104.gif"></span></span>sqlite-utils
insert dogs.db dogs dogs.csv --delimiter<span style='color:#666666'>=</span><span
style='color:#4070A1'>&quot;;&quot; </span>--quotechar<span style='color:#666666'>=</span><span
style='color:#4070A1'>&quot;|&quot;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.8pt;
margin-left:-.25pt'>Passing --delimiter, --quotechar or --sniff implies --csv,
so you can omit the --csv option.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>CSV files without a header row</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>The first row of any CSV or TSV file is expected to contain
the names of the columns in that file.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>If your file does not include this row, you can use the --<sub><span
style='font-size:15.5pt;line-height:103%'>no-headers </span></sub>option to
specify that the tool should not use that fist row as headers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:-.25pt'>If you do this, the table will be created with column names
called untitled_1 and untitled_2 and so on. You can then rename them using the sqlite-utils
transform ... --rename command, see <i><span style='color:#355F7C'>Transforming
tables</span></i>.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251438">1.2.13 Inserting
unstructured data with --lines and --text</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you have an unstructured file you can insert its
contents into a table with a single line column containing each line from the
file using --<sub><span style='font-size:15.5pt;line-height:103%'>lines</span></sub>.
This can be useful if you intend to further analyze those lines using SQL
string functions or <i><span style='color:#355F7C'>sqlite-utils convert</span></i>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image105.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will produce the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image106.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also insert the entire contents of the file into a
single column called text using --<sub><span style='font-size:15.5pt;
line-height:103%'>text</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image107.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The schema here will be:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image108.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251439">1.2.14 Applying conversions
while inserting data</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>The --<sub><span style='font-size:15.5pt;line-height:103%'>convert
</span></sub>option can be used to apply a Python conversion function to
imported data before it is inserted into the database. It works in a similar
way to <i><span style='color:#355F7C'>sqlite-utils convert</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:-.25pt'>Your Python function will be passed a dictionary called row
for each item that is being imported. You can modify that dictionary and return
it - or return a fresh dictionary - to change the data that will be inserted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Given a JSON file called dogs.json containing this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image109.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.55pt;
margin-left:-.25pt'>The following command will insert that data and add an is_good
column set to 1 for each dog:</p>

<p class=MsoNormal style='margin-bottom:13.95pt;line-height:107%'><span
style='position:relative;z-index:-1895808000'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image104.gif"></span></span>sqlite-utils
insert dogs.db dogs dogs.json --convert <span style='color:#4070A1'>'row[&quot;is_good&quot;]
= 1'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:-.25pt'>The --convert option also works with the --csv, --tsv and --nl
insert options.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:-.25pt'>As with sqlite-utils convert you can use --import to import
additional Python modules, see <i><span style='color:#355F7C'>Importing
additional modules </span></i>for details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.5pt;
margin-left:-.25pt'>You can also pass code that runs some initialization steps
and defines a convert(value) function, see <i><span style='color:#355F7C'>Defining
a convert() function</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>--convert with --lines</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Things work slightly differently when combined with the --<sub><span
style='font-size:15.5pt;line-height:103%'>lines </span></sub>or --<sub><span
style='font-size:15.5pt;line-height:103%'>text </span></sub>options.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.7pt;
margin-left:-.25pt'>With --<sub><span style='font-size:15.5pt;line-height:103%'>lines</span></sub>,
instead of being passed a row dictionary your function will be passed a line string
representing each line of the input. Given a file called access.log containing
the following:</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'>INFO: 127.0.0.1:60581 -
GET / HTTP/1.1 200 OK</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:12.55pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='position:relative;z-index:-1895806976'><span
style='position:absolute;left:-5px;top:-23px;width:633px;height:41px'><img
width=633 height=41 src="sqlite-utils%20documentation_files/image110.gif"></span></span>INFO: 127.0.0.1:60581
- GET /foo/-/static/app.css?cead5a HTTP/1.1 200 OK</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You could convert it into structured data like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130
src="sqlite-utils%20documentation_files/image111.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40
src="sqlite-utils%20documentation_files/image112.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.35pt;
margin-left:-.25pt'>The resulting table would look like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=408
 style='width:306.2pt;margin-left:80.9pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=51 valign=top style='width:38.05pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>type</p>
  </td>
  <td width=103 valign=top style='width:77.0pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>source</p>
  </td>
  <td width=42 valign=top style='width:31.3pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>verb</p>
  </td>
  <td width=162 valign=top style='width:121.25pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>path</p>
  </td>
  <td width=51 valign=top style='width:38.6pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>status</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=51 valign=top style='width:38.05pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>INFO:</p>
  </td>
  <td width=103 valign=top style='width:77.0pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>127.0.0.1:60581</p>
  </td>
  <td width=42 valign=top style='width:31.3pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>GET</p>
  </td>
  <td width=162 valign=top style='width:121.25pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>/</p>
  </td>
  <td width=51 valign=top style='width:38.6pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>200</p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=51 valign=top style='width:38.05pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>INFO:</p>
  </td>
  <td width=103 valign=top style='width:77.0pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>127.0.0.1:60581</p>
  </td>
  <td width=42 valign=top style='width:31.3pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>GET</p>
  </td>
  <td width=162 valign=top style='width:121.25pt;border:none;border-bottom:
  solid black 1.0pt;background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>/foo/-/static/app.css?cead5a</p>
  </td>
  <td width=51 valign=top style='width:38.6pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>200</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>--convert with --text</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>With --<sub><span style='font-size:15.5pt;line-height:103%'>text
</span></sub>the entire input to the command will be made available to the
function as a variable called text.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:-.25pt'>The function can return a single dictionary which will be
inserted as a single row, or it can return a list or iterator of dictionaries,
each of which will be inserted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.6pt;
margin-left:-.25pt'>Heres how to use --<sub><span style='font-size:15.5pt;
line-height:103%'>convert </span></sub>and --<sub><span style='font-size:15.5pt;
line-height:103%'>text </span></sub>to insert one record per word in the input:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:101.9pt;
margin-bottom:11.95pt;margin-left:20.65pt;text-align:left;text-indent:-21.4pt;
line-height:112%'><span style='position:relative;z-index:-1895805952'><span
style='left:0px;position:absolute;left:-5px;top:-7px;width:633px;height:41px'><img
width=633 height=41 src="sqlite-utils%20documentation_files/image110.gif"></span></span><span
style='color:#007021'>echo </span><span style='color:#4070A1'>'A bunch of
words' </span>| sqlite-utils insert words.db words - <span style='color:#4070A1'>\
</span>--text --convert <span style='color:#4070A1'>'({&quot;word&quot;: w} for
w in text.split())'</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The result looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=190
src="sqlite-utils%20documentation_files/image113.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251440">1.2.15 Insert-replacing
data</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>The --<sub><span style='font-size:15.5pt;line-height:103%'>replace
</span></sub>option to insert causes any existing records with the same primary
key to be replaced entirely by the new records.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To replace a dog with in ID of 2 with a new record, run the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image114.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251441">1.2.16 Upserting data</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>Upserting is update-or-insert. If a row exists with the
specified primary key the provided columns will be updated. If no row exists
that row will be created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>Unlike insert --replace, an upsert will ignore any column
values that exist but are not present in the upsert document.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image115.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>This will update the dog with an ID of 2 to have an age of
4, creating a new record (with a null name) if one does not exist. If a row
DOES exist the name will be left as-is.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.85pt;
margin-left:-.25pt'>The command will fail if you reference columns that do not
exist on the table. To automatically create missing columns, use the --alter option.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=626 height=73
src="sqlite-utils%20documentation_files/image116.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251442">1.2.17 Executing SQL in
bulk</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:-.25pt'>If you have a JSON, newline-delimited JSON, CSV or TSV file
you can execute a bulk SQL query using each of the records in that file using
the sqlite-utils bulk command.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>The command takes the database file, the SQL to be executed
and the file containing records to be used when evaluating the SQL query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:113.25pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:155%'>The SQL query should include :<sub><span
style='font-size:15.5pt;line-height:155%'>named </span></sub>parameters that
match the keys in the records. For example, given a chickens.csv CSV file
containing the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image117.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You could insert those rows into a pre-created chickens table
like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image118.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This command takes the same options as the sqlite-utils
insert command - so it defaults to expecting JSON but can accept other formats
using --<sub><span style='font-size:15.5pt;line-height:103%'>csv </span></sub>or
--<sub><span style='font-size:15.5pt;line-height:103%'>tsv </span></sub>or --<sub><span
style='font-size:15.5pt;line-height:103%'>nl </span></sub>or other options
described above.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.95pt;margin-left:-.75pt;text-align:left;text-indent:0in'>By
default all of the SQL queries will be executed in a single transaction. To
commit every 20 records, use</p>

<p class=MsoNormal style='line-height:107%'>--batch-size 20.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251443">1.2.18 Inserting data from
files</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:129%'>The insert-files command can be used to
insert the content of files, along with their metadata, into a SQLite table.
Heres an example that inserts all of the GIF files in the current directory
into a gifs.db database, placing the file contents in an images table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image119.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also pass one or more directories, in which case
every file in those directories will be added recursively:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image120.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default this command will create a table with the
following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image121.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>Content will be treated as binary by default and stored in
a BLOB column. You can use the --<sub><span style='font-size:15.5pt;line-height:
103%'>text </span></sub>option to store that content in a TEXT column instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.55pt;
margin-left:-.25pt'>You can customize the schema using one or more -<sub><span
style='font-size:15.5pt;line-height:103%'>c </span></sub>options. For a table
schema that includes just the path, MD5 hash and last modification time of the
file, you would use this:</p>

<p class=MsoNormal style='margin-bottom:12.55pt;line-height:107%'><span
style='position:relative;z-index:-1895804928'><span style='left:0px;position:
absolute;left:-5px;top:-7px;width:633px;height:25px'><img width=633 height=25
src="sqlite-utils%20documentation_files/image101.gif"></span></span>sqlite-utils
insert-files gifs.db images *.gif -c path -c md5 -c mtime --pk<span
style='color:#666666'>=</span>path</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will result in the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image122.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:-.25pt'>Note that theres no content column here at all - if you
specify custom columns using -<sub><span style='font-size:15.5pt;line-height:
103%'>c </span></sub>you need to include -<sub><span style='font-size:15.5pt;
line-height:103%'>c </span></sub>content to create that column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can change the name of one of these columns using a -c
colname:coldef parameter. To rename the mtime column to last_modified you would
use this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image123.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.8pt;
margin-left:-.25pt'>You can pass --<sub><span style='font-size:15.5pt;
line-height:103%'>replace </span></sub>or --<sub><span style='font-size:15.5pt;
line-height:103%'>upsert </span></sub>to indicate what should happen if you try
to insert a file with an existing primary key. Pass --<sub><span
style='font-size:15.5pt;line-height:103%'>alter </span></sub>to cause any
missing columns to be added to the table. The full list of column definitions
you can use is as follows: name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:25.4pt'>The name of the file, e.g. cleo.jpg</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>path</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:25.4pt'>The path to the file relative to the root folder, e.g. pictures/cleo.jpg</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>fullpath</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>The fully resolved path to the image, e.g. /home/simonw/pictures/cleo.jpg</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>sha256</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The SHA256 hash of the file contents</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>md5</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The MD5 hash of the file contents</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>mode</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The permission bits of the file, as an integer - you may
want to convert this to octal</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>content</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The binary file contents, which will be stored as a BLOB</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>content_text</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The text file contents, which will be stored as TEXT</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>mtime</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The modification time of the file, as floating point
seconds since the Unix epoch</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>ctime</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The creation time of the file, as floating point seconds
since the Unix epoch</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>mtime_int</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The modification time as an integer rather than a float</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>ctime_int</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The creation time as an integer rather than a float</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>mtime_iso</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:25.4pt'>The modification time as an ISO timestamp, e.g. 2020-07-27T04:24:06.654246</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>ctime_iso</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The creation time is an ISO timestamp</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>size</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The integer size of the file in bytes</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>stem</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:25.4pt'>The filename without the extension - for file.txt.gz this
would be file.txt</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>suffix</p>

<p class=MsoNormal style='margin-top:0in;margin-right:202.0pt;margin-bottom:
3.8pt;margin-left:-.75pt;text-indent:24.9pt;line-height:150%'>The file
extension - for file.txt.gz this would be .gz You can insert data piped from
standard input like this:</p>

<p class=MsoNormal style='margin-bottom:12.85pt;line-height:107%'><span
style='position:relative;z-index:-1895803904'><span style='left:0px;position:
absolute;left:-5px;top:-183px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>cat dog.jpg
| sqlite-utils insert-files dogs.db pics - --name<span style='color:#666666'>=</span>dog.jpg</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:-.25pt'>The - argument indicates data should be read from standard
input. The string passed using the --<sub><span style='font-size:15.5pt;
line-height:103%'>name </span></sub>option will be used for the file name and
path values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:126%'>When inserting data from standard input
only the following column definitions are supported: name, path, content, content_text,
sha256, md5 and size.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251444">1.2.19 Converting data in
columns</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>The convert command can be used to transform the data in a
specified column - for example to parse a date string into an ISO timestamp, or
to split a string of tags into a JSON array.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The command accepts a database, table, one or more columns
and a string of Python code to be executed against the values from those
columns. The following example would replace the values in the headline column
in the articles table with an upper-case version:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image125.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:-.25pt'>The Python code is passed as a string. Within that Python
code the value variable will be the value of the current column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The code you provide will be compiled into a function that
takes value as a single argument. If you break your function body into multiple
lines the last line should be a return statement:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image126.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Your code will be automatically wrapped in a function, but
you can also define a function called convert(value) which will be called, if
available:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image127.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use a CODE value of - to read from standard input:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image128.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Where mycode.py contains a fragment of Python code that
looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image129.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The conversion will be applied to every row in the
specified table. You can limit that to just rows that match a WHERE clause
using --where:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image130.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can include named parameters in your where clause and
populate them using one or more --<sub><span style='font-size:15.5pt;
line-height:103%'>param </span></sub>options:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image131.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:-.25pt'>The --<sub><span style='font-size:15.5pt;line-height:103%'>dry-run
</span></sub>option will output a preview of the conversion against the first
ten rows, without modifying the database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default any rows with a falsey value for the column -
such as 0 or null - will be skipped. Use the --<sub><span style='font-size:
15.5pt;line-height:103%'>no-skip-false </span></sub>option to disable this
behaviour.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Importing additional modules</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can specify Python modules that should be imported and
made available to your code using one or more --<sub><span style='font-size:
15.5pt;line-height:103%'>import </span></sub>options. This example uses the textwrap
module to wrap the content column at 100 characters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image132.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This supports nested imports as well, for example to use <a
href="https://docs.python.org/3/library/xml.etree.elementtree.html"><span
style='color:#377063;text-decoration:none'>ElementTree</span></a><a
href="https://docs.python.org/3/library/xml.etree.elementtree.html"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image133.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Using the debugger</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If an error occurs while running your conversion operation
you may see a message like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image134.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>Add the --<sub><span style='font-size:15.5pt;line-height:
103%'>pdb </span></sub>option to catch the error and open the Python debugger
at that point. The conversion operation will exit after you type q in the
debugger.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:19.1pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:161%'><span style='position:relative;
z-index:-1895802880'><span style='left:0px;position:absolute;left:-5px;
top:-1512px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>Heres an
example debugging session. First, create a articles table with invalid XML in
the content column: <span style='color:#007021'>echo </span><span
style='color:#4070A1'>'{&quot;content&quot;: &quot;This is not XML&quot;}' </span>|
sqlite-utils insert content.db articles Now run the conversion with the --<sub><span
style='font-size:15.5pt;line-height:161%'>pdb </span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image135.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=147
src="sqlite-utils%20documentation_files/image136.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>args here shows the arguments to the current function in
the stack. The Python <a
href="https://docs.python.org/3/library/pdb.html#debugger-commands"><span
style='color:#377063;text-decoration:none'>pdb documentation</span></a><span
style='color:#377063'> </span>has full details on the other available commands.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Defining a convert() function</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.4pt;
margin-left:-.25pt;line-height:128%'>Instead of providing a single line of code
to be executed against each value, you can define a function called convert(value).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>This mechanism can be used to execute one-off
initialization code that runs once at the start of the conversion run.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The following example adds a new score column, then updates
it to list a random number - after first seeding the random number generator to
ensure that multiple runs produce the same results:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image137.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>sqlite-utils convert recipes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:-.25pt'>Various built-in recipe functions are available for common
operations. These are:</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>r.jsonsplit(value, delimiter=',', type=&lt;class 'str'&gt;)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:161.65pt;margin-bottom:
.25pt;margin-left:25.4pt;line-height:156%'>Convert a string like a,b,c into a
JSON array [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] The delimiter parameter
can be used to specify a different delimiter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>The type parameter can be set to float or int to produce a
JSON array of different types, for example if the columns string value was 1.2,3,4.5
the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.85pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=25
src="sqlite-utils%20documentation_files/image138.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:25.4pt'>Would produce an array like this: [1.2, 3.0, 4.5]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:6.55pt;margin-left:24.9pt;text-align:left;text-indent:-24.9pt;
line-height:107%'>r.parsedate(value, dayfirst=False, yearfirst=False,
errors=None) Parse a date and convert it to ISO date format: yyyy-mm-dd</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:25.4pt'>In the case of dates such as 03/04/05 U.S. MM/DD/YY format
is assumed - you can use dayfirst=True or yearfirst=True to change how these
ambiguous dates are interpreted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:25.4pt'>Use the errors= parameter to specify what should happen if
a value cannot be parsed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:25.4pt'>By default, if any value cannot be parsed an error will be
occurred and all values will be left as they were.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:62.9pt;margin-bottom:
.25pt;margin-left:25.4pt;line-height:161%'>Set errors=r.IGNORE to ignore any
values that cannot be parsed, leaving them unchanged. Set errors=r.SET_NULL to
set any values that cannot be parsed to null.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:112.35pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:134%'>r.parsedatetime(value,
dayfirst=False, yearfirst=False, errors=None) Parse a datetime and convert it
to ISO datetime format: yyyy-mm-ddTHH:MM:SS These recipes can be used in the
code passed to sqlite-utils convert like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image139.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To use any of the documented parameters, do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image140.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Saving the result to a different column</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The --<sub><span style='font-size:15.5pt;line-height:103%'>output
</span></sub>and --<sub><span style='font-size:15.5pt;line-height:103%'>output-type
</span></sub>options can be used to save the result of the conversion to a
separate column, which will be created if that column does not already exist:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image141.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The type of the created column defaults to text, but a
different column type can be specified using --<sub><span style='font-size:
15.5pt;line-height:103%'>output-type</span></sub>. This example will create a
new floating point column called id_as_a_float with a copy of each items ID
increased by 0.5:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image142.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.25pt;
margin-left:-.25pt'>You can drop the original column at the end of the
operation by adding --<sub><span style='font-size:15.5pt;line-height:103%'>drop</span></sub>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Converting a column into multiple columns</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:-.25pt'>Sometimes you may wish to convert a single column into
multiple derived columns. For example, you may have a location column
containing latitude,longitude values which you wish to split out into separate latitude
and longitude columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:-.25pt'>You can achieve this using the --multi option to sqlite-utils
convert. This option expects your Python code to return a Python dictionary:
new columns well be created and populated for each of the keys in that
dictionary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For the latitude,longitude example you would use the
following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image143.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The type of the returned values will be taken into account
when creating the new columns. In this example, the resulting database schema
will look like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image144.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The code function can also return None, in which case its
output will be ignored. You can drop the original column at the end of the
operation by adding --<sub><span style='font-size:15.5pt;line-height:103%'>drop</span></sub>.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251445">1.2.20 Creating tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:-.25pt;line-height:143%'><span style='position:relative;z-index:
-1895801856'><span style='left:0px;position:absolute;left:-5px;top:-3567px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>Most of the
time creating tables by inserting example data is the quickest approach. If you
need to create an empty table in advance of inserting data you can do so using
the create-table command: sqlite-utils create-table mydb.db mytable id integer
name text --pk<span style='color:#666666'>=</span>id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:-.25pt'>This will create a table called mytable with two columns -
an integer id column and a text name column. It will set the id column to be
the primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass as many column-name column-type pairs as you
like. Valid types are integer, text, float and blob. Pass --<sub><span
style='font-size:15.5pt;line-height:103%'>pk </span></sub>more than once for a
compound primary key that covers multiple columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.95pt;
margin-left:-.25pt'>You can specify columns that should be NOT NULL using --<sub><span
style='font-size:15.5pt;line-height:103%'>not-null colname</span></sub>. You
can specify default values for columns using --default colname defaultvalue.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=338
src="sqlite-utils%20documentation_files/image145.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:130%'>You can specify foreign key relationships
between the tables you are creating using --fk colname othertable othercolumn:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=222
src="sqlite-utils%20documentation_files/image146.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=184
src="sqlite-utils%20documentation_files/image147.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can create a table in <a
href="https://www.sqlite.org/stricttables.html"><span style='color:#377063;
text-decoration:none'>SQLite STRICT mode</span></a><span style='color:#377063'>
</span>using --<sub><span style='font-size:15.5pt;line-height:103%'>strict</span></sub>:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=179
src="sqlite-utils%20documentation_files/image148.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If a table with the same name already exists, you will get
an error. You can choose to silently ignore this error with --<sub><span
style='font-size:15.5pt;line-height:103%'>ignore</span></sub>, or you can
replace the existing table with a new, empty table using --<sub><span
style='font-size:15.5pt;line-height:103%'>replace</span></sub>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:-.25pt'>You can also pass --<sub><span style='font-size:15.5pt;
line-height:103%'>transform </span></sub>to transform the existing table to
match the new schema. See <i><span style='color:#355F7C'>Explicitly creating a
table </span></i>in the Python library documentation for details of how this
option works.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251446">1.2.21 Renaming a table</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Yo ucan rename a table using the rename-table command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image149.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.3pt;
margin-left:-.25pt'>Pass --<sub><span style='font-size:15.5pt;line-height:103%'>ignore
</span></sub>to ignore any errors caused by the table not existing, or the new
name already being in use.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251447">1.2.22 Duplicating tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The duplicate command duplicates a table - creating a new
table with the same schema and a copy of all of the rows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image150.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251448">1.2.23 Dropping tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can drop a table using the drop-table command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image151.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.4pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>ignore
</span></sub>to ignore the error if the table does not exist.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251449">1.2.24 Transforming tables</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The transform command allows you to apply complex
transformations to a table that cannot be implemented using a regular SQLite ALTER
TABLE command. See <i><span style='color:#355F7C'>Transforming a table </span></i>for
details of how this works. The transform command preserves a tables STRICT mode.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image152.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>Every option for this table (with the exception of --<sub><span
style='font-size:15.5pt;line-height:103%'>pk-none</span></sub>) can be
specified multiple times. The options are as follows:</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--type column-name new-type</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:25.4pt'>Change the type of the specified column. Valid types are integer,
text, float, blob.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:335.2pt;margin-bottom:
5.5pt;margin-left:24.15pt;text-indent:-24.9pt'>--drop column-name Drop the
specified column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:283.95pt;margin-bottom:
5.5pt;margin-left:24.15pt;text-indent:-24.9pt'>--rename column-name new-name Rename
this column to a new name.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--column-order column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Use this multiple times to specify a new order for your
columns. -<sub><span style='font-size:15.5pt;line-height:103%'>o </span></sub>shortcut
is also available.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:323.5pt;
margin-bottom:5.25pt;margin-left:24.9pt;text-align:left;text-indent:-24.9pt;
line-height:107%'>--not-null column-name Set this column as NOT NULL.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--not-null-false column-name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:25.4pt'>For a column that is currently set as NOT NULL, remove the NOT
NULL.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--pk column-name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Change the primary key column for this table. Pass --<sub><span
style='font-size:15.5pt;line-height:103%'>pk </span></sub>multiple times if you
want to create a compound primary key.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--pk-none</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:25.4pt'>Remove the primary key from this table, turning it into a rowid
table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:299.45pt;margin-bottom:
5.5pt;margin-left:24.15pt;text-indent:-24.9pt'>--default column-name value Set
the default value of this column.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--default-none column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>Remove the default value for this column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:316.75pt;margin-bottom:
5.5pt;margin-left:24.15pt;text-indent:-24.9pt'>--drop-foreign-key column Drop
the specified foreign key.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--add-foreign-key column other_table other_column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:25.4pt'>Add a foreign key constraint to column pointing to other_table.other_column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to see the SQL that will be executed to make
the change without actually executing it, add the --<sub><span
style='font-size:15.5pt;line-height:103%'>sql </span></sub>flag. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=636 height=333
src="sqlite-utils%20documentation_files/image153.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding a primary key to a rowid table</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>SQLite tables that are created without an explicit primary
key are created as <a href="https://www.sqlite.org/rowidtable.html"><span
style='color:#377063;text-decoration:none'>rowid tables</span></a><a
href="https://www.sqlite.org/rowidtable.html"><span style='color:black;
text-decoration:none'>.</span></a> They still have a numeric primary key which
is available in the rowid column, but that column is not included in the output
of select *. Heres an example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=305
src="sqlite-utils%20documentation_files/image154.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use sqlite-utils transform ... --pk id to add a
primary key column called id to the table. The primary key will be created as
an INTEGER PRIMARY KEY and the existing rowid values will be copied across to
it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>It will automatically increment as new rows are added to
the table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image155.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=342
src="sqlite-utils%20documentation_files/image156.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251450">1.2.25 Extracting columns
into a separate table</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:-.25pt'>The sqlite-utils extract command can be used to extract
specified columns into a separate table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>Take a look at the Python API documentation for <i><span
style='color:#355F7C'>Extracting columns into a separate table </span></i>for a
detailed description of how this works, including examples of table schemas
before and after running an extraction operation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The command takes a database, table and one or more columns
that should be extracted. To extract the species column from the trees table
you would run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image157.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=254
src="sqlite-utils%20documentation_files/image158.gif"></span></p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--table TEXT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>The name of the lookup to extract columns to. This defaults
to using the name of the columns that are being extracted.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--fk-column TEXT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The name of the foreign key column to add to the table.
Defaults to columnname_id.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--rename &lt;TEXT TEXT&gt;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>Use this option to rename the columns created in the new
lookup table.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>--silent</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>Dont display the progress bar.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres a more complex example that makes use of these
options. It converts <a
href="https://github.com/wri/global-power-plant-database/blob/232a666653e14d803ab02717efc01cdd437e7601/output_database/global_power_plant_database.csv"><span
style='color:#377063;text-decoration:none'>this CSV file</span></a><span
style='color:#377063'> </span>full of global power plants into SQLite, then
extracts the country and country_long columns into a separate countries table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=153
src="sqlite-utils%20documentation_files/image159.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>After running the above, the command sqlite-utils schema
global.db reveals the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=513
src="sqlite-utils%20documentation_files/image160.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=56
src="sqlite-utils%20documentation_files/image161.gif"></span></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251451">1.2.26 Creating views</a></h6>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=124
src="sqlite-utils%20documentation_files/image162.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>replace
</span></sub>to replace an existing view of the same name, and --<sub><span
style='font-size:15.5pt;line-height:103%'>ignore </span></sub>to do nothing if
a view already exists.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251452">1.2.27 Dropping views</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can drop a view using the drop-view command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image163.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.2pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>ignore
</span></sub>to ignore the error if the view does not exist.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251453">1.2.28 Adding columns</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can add a column using the add-column command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image164.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.15pt;
margin-left:-.25pt'>The last argument here is the type of the column to be
created. This can be one of:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.75pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>text
or str</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>integer
or int</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>float</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.15pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>blob
or bytes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>This argument is optional and defaults to text.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can add a column that is a foreign key reference to
another table using the --<sub><span style='font-size:15.5pt;line-height:103%'>fk
</span></sub>option:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image165.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>This will automatically detect the name of the primary key
on the species table and use that (and its type) for the new column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:86.2pt;margin-bottom:
5.45pt;margin-left:.5pt;line-height:181%'><span style='position:relative;
z-index:-1895800832'><span style='left:0px;position:absolute;left:-5px;
top:-9386px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
explicitly specify the column you wish to reference using --<sub><span
style='font-size:15.5pt;line-height:181%'>fk-col</span></sub>: sqlite-utils
add-column mydb.db dogs species_id --fk species --fk-col ref</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can set a NOT NULL DEFAULT 'x' constraint on the new
column using --not-null-default:</p>

<p class=MsoNormal style='margin-bottom:29.5pt;line-height:107%'><span
style='position:relative;z-index:-1895799808'><span style='left:0px;position:
absolute;left:-5px;top:-9490px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>sqlite-utils
add-column mydb.db dogs friends_count integer --not-null-default <span
style='color:#217F4F'>0</span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251454">1.2.29 Adding columns
automatically on insert/update</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the --<sub><span style='font-size:15.5pt;
line-height:103%'>alter </span></sub>option to automatically add new columns if
the data you are inserting or upserting is of a different shape:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image166.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251455">1.2.30 Adding foreign key
constraints</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:-.25pt'>The add-foreign-key command can be used to add new foreign
key references to an existing table - something which SQLites ALTER TABLE command
does not support.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To add a foreign key constraint pointing the books.author_id
column to authors.id in another table, do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image167.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you omit the other table and other column references sqlite-utils
will attempt to guess them - so the above example could instead look like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image168.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Add --<sub><span style='font-size:15.5pt;line-height:103%'>ignore
</span></sub>to ignore an existing foreign key (as opposed to returning an
error):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image169.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.4pt;
margin-left:-.25pt'>See <i><span style='color:#355F7C'>Adding foreign key
constraints </span></i>in the Python API documentation for further details,
including how the automatic table guessing mechanism works.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding multiple foreign keys at once</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Adding a foreign key requires a VACUUM. On large databases
this can be an expensive operation, so if you are adding multiple foreign keys
you can combine them into one operation (and hence one VACUUM) using add-foreign-keys:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image170.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>When you are using this command each foreign key needs to
be defined in full, as four arguments - the table, column, other table and
other column.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding indexes for all foreign keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to ensure that every foreign key column in your
database has a corresponding index, you can do so like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image171.gif"></span></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.25pt;margin-left:
-.25pt'><a name="_Toc251456">1.2.31 Setting defaults and not null constraints</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the --not-null and --default options (to both insert
and upsert) to specify columns that should be NOT NULL or to set database
defaults for one or more specific columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image172.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251457">1.2.32 Creating indexes</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can add an index to an existing table using the create-index
command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image173.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:-.25pt'>This can be used to create indexes against a single column
or multiple columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.0pt;
margin-left:-.25pt'>The name of the index will be automatically derived from
the table and columns. To specify a different name, use</p>

<p class=MsoNormal style='margin-bottom:6.7pt;line-height:107%'>--name=name_of_index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use the --<sub><span style='font-size:15.5pt;line-height:
103%'>unique </span></sub>option to create a unique index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use --<sub><span style='font-size:15.5pt;line-height:103%'>if-not-exists
</span></sub>to avoid attempting to create the index if one with that name
already exists.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To add an index on a column in descending order, prefix the
column with a hyphen. Since this can be confused for a command-line option you
need to construct that like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image174.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:-.25pt'>This will create an index on that table on (col1, col2
desc, col3).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:-.25pt'>If your column names are already prefixed with a hyphen
youll need to manually execute a CREATE INDEX SQL statement to add indexes to
them rather than using this tool.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:-.25pt'>Add the --analyze option to run ANALYZE against the index
after it has been created.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251458">1.2.33 Configuring
full-text search</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can enable SQLite full-text search on a table and a set
of columns like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image175.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will use SQLites FTS5 module by default. Use --<sub><span
style='font-size:15.5pt;line-height:103%'>fts4 </span></sub>if you want to use
FTS4:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image176.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The enable-fts command will populate the new index with all
existing documents. If you later add more documents you will need to use populate-fts
to cause them to be indexed as well:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image177.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.9pt;
margin-left:-.25pt'>A better solution here is to use database triggers. You can
set up database triggers to automatically update the full-text index using the --create-triggers
option when you first run enable-fts:</p>

<p class=MsoNormal style='margin-right:75.75pt;line-height:180%'><span
style='position:relative;z-index:-1895798784'><span style='left:0px;position:
absolute;left:-5px;top:-11163px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span><span
style='position:relative;z-index:-1895797760'><span style='left:0px;position:
absolute;left:-5px;top:-11163px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span>sqlite-utils
enable-fts mydb.db documents title summary --create-triggers To set a custom
FTS tokenizer, e.g. to enable Porter stemming, use --<sub><span
style='font-size:15.5pt;line-height:180%'>tokenize=</span></sub>: sqlite-utils
populate-fts mydb.db documents title summary --tokenize<span style='color:#666666'>=</span>porter
To remove the FTS tables and triggers you created, use disable-fts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image178.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To rebuild one or more FTS tables (see <i><span
style='color:#355F7C'>Rebuilding a full-text search table</span></i>), use rebuild-fts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image179.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can rebuild every FTS table by running rebuild-fts without
passing any table names:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image180.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251459">1.2.34 Executing searches</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Once you have configured full-text search for a table, you
can search it using sqlite-utils search:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image181.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:-.25pt'>This command accepts the same output options as sqlite-utils
query: --table, --csv, --tsv, --nl etc.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default it shows the most relevant matches first. You
can specify a different sort order using the -<sub><span style='font-size:15.5pt;
line-height:103%'>o </span></sub>option, which can take a column or a column
followed by desc:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image182.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>SQLite <a
href="https://www.sqlite.org/fts5.html#full_text_query_syntax"><span
style='color:#377063;text-decoration:none'>advanced search syntax</span></a><span
style='color:#377063'> </span>is enabled by default. To run a search with
automatic quoting applied to the terms to avoid them being potentially
interpreted as advanced search syntax use the --<sub><span style='font-size:
15.5pt;line-height:103%'>quote </span></sub>option. You can specify a subset of
columns to be returned using the -<sub><span style='font-size:15.5pt;
line-height:103%'>c </span></sub>option one or more times:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image183.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default all search results will be returned. You can use
--<sub><span style='font-size:15.5pt;line-height:103%'>limit 20 </span></sub>to
return just the first 20 results.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use the --<sub><span style='font-size:15.5pt;line-height:
103%'>sql </span></sub>option to output the SQL that would be executed, rather
than running the query:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image184.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=248
src="sqlite-utils%20documentation_files/image185.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251460">1.2.35 Enabling cached
counts</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:-.25pt'>select count(*) queries can take a long time against large
tables. sqlite-utils can speed these up by adding triggers to maintain a _counts
table, see <i><span style='color:#355F7C'>Cached table counts using triggers </span></i>for
details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The sqlite-utils enable-counts command can be used to
configure these triggers, either for every table in the database or for
specific tables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image186.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If the _counts table ever becomes out-of-sync with the
actual table counts you can repair it using the reset-counts command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image187.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251461">1.2.36 Optimizing index
usage with ANALYZE</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>The <a href="https://www.sqlite.org/lang_analyze.html"><span
style='color:#377063;text-decoration:none'>SQLite ANALYZE command</span></a><span
style='color:#377063'> </span>builds a table of statistics which the query
planner can use to make better decisions about which indexes to use for a given
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.85pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:153%'>You should run ANALYZE if your
database is large and you do not think your indexes are being efficiently used.
To run ANALYZE against every index in a database, use this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image188.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can run it against specific tables, or against specific
named indexes, by passing them as optional arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image189.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.75pt;
margin-left:-.25pt'>You can also run ANALYZE as part of another command using
the --<sub><span style='font-size:15.5pt;line-height:103%'>analyze </span></sub>option.
This is supported by the create-index, insert and upsert commands.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251462">1.2.37 Vacuum</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can run VACUUM to optimize your database like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image190.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251463">1.2.38 Optimize</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>The optimize command can dramatically reduce the size of
your database if you are using SQLite full-text search. It runs OPTIMIZE
against all of your FTS4 and FTS5 tables, then runs VACUUM.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you just want to run OPTIMIZE without the VACUUM, use
the --<sub><span style='font-size:15.5pt;line-height:103%'>no-vacuum </span></sub>flag.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image191.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To optimize specific tables rather than every FTS table,
pass those tables as extra arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image192.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251464">1.2.39 WAL mode</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can enable <a href="https://www.sqlite.org/wal.html"><span
style='color:#377063;text-decoration:none'>Write-Ahead Logging</span></a><span
style='color:#377063'> </span>for a database file using the enable-wal command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image193.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can disable WAL mode using disable-wal:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image194.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:-.25pt'>Both of these commands accept one or more database files as
arguments.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251465">1.2.40 Dumping the database
to SQL</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The dump command outputs a SQL dump of the schema and full
contents of the specified database file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image195.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251466">1.2.41 Loading SQLite
extensions</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.8pt;
margin-left:-.25pt;line-height:136%'>Many of these commands have the ability to
load additional SQLite extensions using the --load-extension=/path/
to/extension option - use --help to check for support, e.g. sqlite-utils rows
--help. This option can be applied multiple times to load multiple extensions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Since <a
href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><span
style='color:#377063'> </span>is commonly used with SQLite, the value spatialite
is special: it will search for SpatiaLite in the most common installation
locations, saving you from needing to remember exactly where that module is
located:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=62
src="sqlite-utils%20documentation_files/image196.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251467">1.2.42 SpatiaLite helpers</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'><a href="https://www.gaia-gis.it/fossil/libspatialite/home"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><span
style='color:#377063'> </span>adds geographic capability to SQLite (similar to
how PostGIS builds on PostgreSQL). The <a
href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook-5/index.html"><span
style='color:#377063;text-decoration:none'>SpatiaLite cook</span></a><a
href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook-5/index.html"><span
style='color:#377063;text-decoration:none'>book</span></a><span
style='color:#377063'> </span>is a good resource for learning whats possible
with it.</p>

<p class=MsoNormal style='margin-bottom:7.7pt;line-height:155%'><span
style='position:relative;z-index:-1895796736'><span style='left:0px;position:
absolute;left:-5px;top:-13760px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span>You
can convert an existing table to a geographic table by adding a geometry
column, use the sqlite-utils add-geometry-column command: sqlite-utils
add-geometry-column spatial.db locations geometry --type POLYGON --srid <span
style='color:#217F4F'>4326</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.05pt;
margin-left:-.25pt;line-height:125%'>The table (locations in the example above)
must already exist before adding a geometry column. Use sqlite-utils
create-table first, then add-geometry-column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.75pt;
margin-left:-.25pt;line-height:124%'>Use the --type option to specify a
geometry type. By default, add-geometry-column uses a generic GEOMETRY, which
will work with any type, though it may not be supported by some desktop GIS
applications. Eight (case-insensitive) types are allowed:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>POINT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>LINESTRING</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>POLYGON</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MULTIPOINT</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MULTILINESTRING</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>MULTIPOLYGON</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>GEOMETRYCOLLECTION</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>GEOMETRY</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding spatial indexes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Once you have a geometry column, you can speed up bounding
box queries by adding a spatial index:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image197.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>See this <a
href="http://www.gaia-gis.it/gaia-sins/spatialite-cookbook-5/cookbook_topics.03.html#topic_Wonderful_RTree_Spatial_Index"><span
style='color:#377063;text-decoration:none'>SpatiaLite Cookbook recipe</span></a><span
style='color:#377063'> </span>for examples of how to use a spatial index.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251468">1.2.43 Installing packages</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:-.25pt'>The <i><span style='color:#355F7C'>convert command </span></i>and
the <i><span style='color:#355F7C'>insert convert </span></i>and <i><span
style='color:#355F7C'>query functions </span></i>options can be provided with
a Python script that imports additional modules from the sqlite-utils environment.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can install packages from PyPI directly into the
correct environment using sqlite-utils install &lt;package&gt;.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This is a wrapper around pip install.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image198.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:15.25pt;
margin-left:-.25pt'>Use -<sub><span style='font-size:15.5pt;line-height:103%'>U
</span></sub>to upgrade an existing package.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;margin-left:
-.25pt'><a name="_Toc251469">1.2.44 Uninstalling packages</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:132%'>You can uninstall packages that were
installed using sqlite-utils install with sqlite-utils uninstall
&lt;package&gt;:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image199.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:20.55pt;
margin-left:-.25pt'>Use -<sub><span style='font-size:15.5pt;line-height:103%'>y
</span></sub>to skip the request for confirmation.</p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:5.95pt;margin-left:
-.25pt'><a name="_Toc251470">1.3 sqlite_utils Python library</a></h2>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:337.3pt'>
  <td width=625 valign=top style='width:469.1pt;border:solid #86989B 1.0pt;
  border-bottom:solid #6C6C6C 4.5pt;background:#F7F7F7;padding:6.3pt 5.75pt 0in 23.7pt;
  height:337.3pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Getting started</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Connecting to or creating a
  database</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Attaching additional databases</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.85pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Tracing queries</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Executing queries</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>db.query(sql, params)</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>db.execute(sql, params)</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.85pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Passing parameters</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Accessing tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing rows</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.85pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Counting rows</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Listing rows with their primary
  keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Retrieving a specific record</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:4.9pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Showing the schema</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Custom column order and column
  types</span></i></p>
  </td>
 </tr>
</table>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection6>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:647.5pt'>
  <td width=625 valign=top style='width:469.1pt;border-top:none;border-left:
  solid #86989B 1.0pt;border-bottom:solid #6C6C6C 4.5pt;border-right:solid #86989B 1.0pt;
  background:#F7F7F7;padding:6.15pt 5.75pt 0in 23.7pt;height:647.5pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Explicitly creating a table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Compound primary keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Specifying foreign keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Table configuration options</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Setting defaults and not null
  constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Renaming a table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Duplicating tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Bulk inserts</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Insert-replacing data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Updating a specific record</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Deleting a specific record</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Deleting multiple records</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Upserting data</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Converting data in columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Working with lookup tables</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating lookup tables
  explicitly</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Populating lookup tables
  automatically during insert/upsert</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Working with many-to-many
  relationships</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Using m2m and lookup tables
  together</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Analyzing a column</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding columns automatically on
  insert/update</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding foreign key constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding multiple foreign key
  constraints at once</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding indexes for all foreign
  keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:149%'><span style='line-height:149%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Dropping a table or view </span></i>
  <i><span style='color:#355F7C'>Transforming a table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Altering column types</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Renaming columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Dropping columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Changing primary keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:150%'><span style='line-height:150%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Changing not null status </span></i><b>
  </b><i><span style='color:#355F7C'>Altering column defaults</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Changing column order</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:20.4pt;text-align:left;text-indent:0in;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Adding foreign key constraints</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=625
 style='width:469.1pt;margin-left:.2pt;border-collapse:collapse'>
 <tr style='height:647.5pt'>
  <td width=625 valign=top style='width:469.1pt;border-top:none;border-left:
  solid #86989B 1.0pt;border-bottom:solid #6C6C6C 4.5pt;border-right:solid #86989B 1.0pt;
  background:#F7F7F7;padding:6.1pt 5.75pt 0in 23.7pt;height:647.5pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Replacing foreign key
  constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Dropping foreign key constraints</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Custom transformations with
  .transform_sql()</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Extracting columns into a
  separate table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Setting an ID based on the hash
  of the row contents</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Creating views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.05pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Storing JSON</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Converting column values using
  SQL functions</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Checking the SQLite version</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Dumping the database to SQL</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.6pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Introspecting tables and views</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.7pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.exists()</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.55pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.count</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.35pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.columns</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.3pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.columns_dict</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.95pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.default_values</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.5pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.pks</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.35pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.use_rowid</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.55pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.foreign_keys</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.75pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.schema</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.6pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.strict</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.5pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.indexes</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.55pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.xindexes</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.4pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.triggers</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.4pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.triggers_dict</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.detect_fts()</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.virtual_table_using</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.25pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>.has_counts_triggers</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>db.supports_strict</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.2pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Full-text search</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Enabling full-text search for a
  table</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.15pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Quoting characters for use in
  search</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.1pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Searching with table.search()</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:5.0pt;margin-left:30.35pt;text-align:left;text-indent:-9.95pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><i><span style='color:#355F7C'>Building SQL queries with
  table.search_sql()</span></i></p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
  line-height:107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span><i><span style='color:#355F7C'>Rebuilding a full-text search
  table</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-4.0pt;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=629 height=430
src="sqlite-utils%20documentation_files/image200.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251471">1.3.1 Getting started</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres how to create a new SQLite database file containing
a new chickens table, populated with four records:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=292
src="sqlite-utils%20documentation_files/image201.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image202.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Which outputs the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image203.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=159
src="sqlite-utils%20documentation_files/image204.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image205.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251472">1.3.2 Connecting to or
creating a database</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Database objects are constructed by passing in either a
path to a file on disk or an existing SQLite3 database connection:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image206.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>This will create my_database.db if it does not already
exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to recreate a database from scratch (first
removing the existing file from disk if it already exists) you can use the recreate=True
argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image207.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Instead of a file path you can pass in an existing SQLite
connection:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image208.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to create an in-memory database, you can do so
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image209.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also create a named in-memory database. Unlike
regular memory databases these can be accessed by multiple threads, provided at
least one reference to the database still exists. <i>del db </i>will clear the
database from memory.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image210.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Connections use PRAGMA recursive_triggers=on by default. If
you dont want to use <a
href="https://www.sqlite.org/pragma.html#pragma_recursive_triggers"><span
style='color:#377063;text-decoration:none'>recursive triggers</span></a><span
style='color:#377063'> </span>you can turn them off using:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image211.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default, any <i><span style='color:#355F7C'>sqlite-utils
plugins </span></i>that implement the <i><span style='color:#355F7C'>prepare_connection(conn)
</span></i>hook will be executed against the connection when you create the Database
object. You can opt out of executing plugins using execute_plugins=False like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image212.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass strict=True to enable <a
href="https://www.sqlite.org/stricttables.html"><span style='color:#377063;
text-decoration:none'>SQLite STRICT mode</span></a><span style='color:#377063'>
</span>for all tables created using this database object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image213.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Attaching additional databases</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:125%'>SQLite supports cross-database SQL
queries, which can join data from tables in more than one database file. You
can attach an additional database using the .attach() method, providing an
alias to use for that database and the path to the SQLite file on disk.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image214.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.5pt;
margin-left:-.25pt'>You can reference tables in the attached database using the
alias value you passed to db.attach(alias, filepath) as a prefix, for example
the second.table_in_second reference in the SQL query above.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Tracing queries</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the tracer mechanism to see SQL queries that
are being executed by SQLite. A tracer is a function that you provide which
will be called with sql and params arguments every time SQL is executed, for
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image215.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass this function to the Database() constructor
like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image216.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also turn on a tracer function temporarily for a
block of code using the with db.tracer(...) context manager:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image217.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This example will print queries only for the duration of
the with block.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251473">1.3.3 Executing queries</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:89.85pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:262%'>The Database class offers several
methods for directly executing SQL queries. <b><span style='color:#20435C'>db.query(sql,
params)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.query(sql) function executes a SQL query and returns
an iterator over Python dictionaries representing the resulting rows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image218.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.8pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>db.execute(sql, params)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.85pt;
margin-left:-.25pt'>The db.execute() and db.executescript() methods provide
wrappers around .execute() and . executescript() on the underlying SQLite
connection. These wrappers log to the <i><span style='color:#355F7C'>tracer
function </span></i>if one has been registered. db.execute(sql) returns a <a
href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor"><span
style='color:#377063;text-decoration:none'>sqlite3.Cursor</span></a><span
style='color:#377063'> </span>that was used to execute the SQL.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image219.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.2pt;
margin-left:-.25pt'>Other cursor methods such as .fetchone() and .fetchall() are
also available, see the <a
href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor"><span
style='color:#377063;text-decoration:none'>standard library documen</span></a><a
href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor"><span
style='color:#377063;text-decoration:none'>tation</span></a><a
href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Cursor"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Passing parameters</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>Both db.query() and db.execute() accept an optional second
argument for parameters to be passed to the SQL query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:-.25pt'>This can take the form of either a tuple/list or a
dictionary, depending on the type of parameters used in the query. Values
passed in this way will be correctly quoted and escaped, helping avoid SQL
injection vulnerabilities.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.9pt;
margin-left:-.25pt'>? parameters in the SQL query can be filled in using a
list:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:2.65in;margin-bottom:
12.85pt;margin-left:-.25pt'><span style='position:relative;z-index:-1895795712'><span
style='left:0px;position:absolute;left:-5px;top:-20029px;width:633px;
height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image220.gif"></span></span>db<span
style='color:#666666'>.</span>execute(<span style='color:#4070A1'>&quot;update
dogs set name = ?&quot;</span>, [<span style='color:#4070A1'>&quot;Cleopaws&quot;</span>])
<i><span style='color:#407F8F'># This will rename ALL dogs to be called
&quot;Cleopaws&quot;</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Named parameters using :<sub><span style='font-size:15.5pt;
line-height:103%'>name </span></sub>can be filled using a dictionary:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=56
src="sqlite-utils%20documentation_files/image221.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=40
src="sqlite-utils%20documentation_files/image222.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:-.25pt'>In this example next() is used to retrieve the first result
in the iterator returned by the db.query() method.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251474">1.3.4 Accessing tables</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Tables are accessed using the indexing operator, like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image223.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:43.25pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:152%'>If the table does not yet exist, it
will be created the first time you attempt to insert or upsert data into it.
You can also access tables using the .table() method like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image224.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:-.25pt'>Using this factory function allows you to set <i><span
style='color:#355F7C'>Table configuration options</span></i>.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251475">1.3.5 Listing tables</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can list the names of tables in a database using the .table_names()
method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image225.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:15.9pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:156%'>To see just the FTS4 tables, use .table_names(fts4=True).
For FTS5, use .table_names(fts5=True). You can also iterate through the table
objects themselves using the .tables property:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image226.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251476">1.3.6 Listing views</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>.view_names() shows you a list of views in the database:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image227.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can iterate through view objects using the .views property:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image228.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.95pt;
margin-left:-.25pt'>View objects are similar to Table objects, except that any
attempts to insert or update data will throw an error. The full list of methods
and properties available on a view object is as follows:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.2pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns_dict</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>count</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>schema</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rows_where(where,
where_args, order_by, select)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop()</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251477">1.3.7 Listing rows</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To iterate through dictionaries for each of the rows in a
table, use .rows:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image229.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can filter rows by a WHERE clause using .rows_where(where,
where_args):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image230.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The first argument is a fragment of SQL. The second,
optional argument is values to be passed to that fragment - you can use ? placeholders
and pass an array, or you can use :<sub><span style='font-size:15.5pt;
line-height:103%'>named </span></sub>parameters and pass a dictionary, like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image231.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To return custom columns (instead of the default that uses select
*) pass select=&quot;column1, column2&quot;:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image232.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To specify an order, use the order_by= argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image233.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:-.25pt'>You can use order_by=&quot;age desc&quot; for descending
order.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can order all records in the table by excluding the where
argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image234.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This method also accepts offset= and limit= arguments, for
specifying an OFFSET and a LIMIT for the SQL query:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image235.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.05pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Counting rows</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To count the number of rows that would be returned by a
where filter, use .count_where(where, where_args):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image236.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251478">1.3.8 Listing rows with
their primary keys</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:-.25pt'>Sometimes it can be useful to retrieve the primary key
along with each row, in order to pass that key (or primary key tuple) to the .get()
or .update() methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>The .pks_and_rows_where() method takes the same signature
as .rows_where() (with the exception of the select= parameter) but returns a
generator that yields pairs of (primary key, row dictionary).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:-.25pt'>The primary key value will usually be a single value but
can also be a tuple if the table has a compound primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If the table is a rowid table (with no explicit primary key
column) then that ID will be returned.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=296
src="sqlite-utils%20documentation_files/image237.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251479">1.3.9 Retrieving a specific
record</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can retrieve a record by its primary key using table.get():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image238.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If the table has a compound primary key you can pass in the
primary key values as a tuple:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image239.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If the record does not exist a NotFoundError will be
raised:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image240.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251480">1.3.10 Showing the schema</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.schema property returns the full SQL schema for the
database as a string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image241.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251481">1.3.11 Creating tables</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The easiest way to create a new table is to insert a record
into it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=184
src="sqlite-utils%20documentation_files/image242.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will automatically create a new table called dogs
with the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image243.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also specify a primary key by passing the pk= parameter
to the .insert() call. This will only be obeyed if the record being inserted
causes the table to be created:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image244.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:-.25pt'>After inserting a row like this, the dogs.last_rowid property
will return the SQLite rowid assigned to the most recently inserted record.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.4pt;
margin-left:-.25pt'>The dogs.last_pk property will return the last inserted
primary key value, if you specified one. This can be very useful when writing
code that creates foreign keys or many-to-many relationships.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Custom column order and column types</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:-.25pt'>The order of the columns in the table will be derived from
the order of the keys in the dictionary, provided you are using Python 3.6 or
later.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to explicitly set the order of the columns you
can do so using the column_order= parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image245.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>You dont need to pass all of the columns to the column_order
parameter. If you only pass a subset of the columns the remaining columns will
be ordered based on the key order of the dictionary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Column types are detected based on the example data
provided. Sometimes you may find you need to over-ride these detected types -
to create an integer column for data that was provided as a string for example,
or to ensure that a table where the first example was None is created as an INTEGER
rather than a TEXT column. You can do this using the columns= parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=116
src="sqlite-utils%20documentation_files/image246.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image247.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Explicitly creating a table</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can directly create a new table without inserting any
data into it using the .create() method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image248.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.65pt;
margin-left:-.25pt'>The first argument here is a dictionary specifying the
columns you would like to create. Each column is paired with a Python type
indicating the type of column. See <i><span style='color:#355F7C'>Adding
columns </span></i>for full details on how these types work.</p>

<p class=MsoNormal style='margin-bottom:7.1pt;line-height:107%'>This method takes optional arguments
pk=, column_order=, foreign_keys=, not_null=set() and defaults=dict() -
explained below.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:-.25pt'>A sqlite_utils.utils.sqlite3.OperationalError will be
raised if a table of that name already exists.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass ignore=True to ignore that error. You can also
use if_not_exists=True to use the SQL CREATE TABLE IF NOT EXISTS pattern to
achieve the same effect:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image249.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>To drop and replace any existing table of that name, pass replace=True.
This is a <b>dangerous operation </b>that will result in loss of existing data
in the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also pass transform=True to have any existing
tables <i><span style='color:#355F7C'>transformed </span></i>to match your new
table specification. This is a <b>dangerous operation </b>as it will drop
columns that are no longer listed in your call to .create(), so be careful when
running this.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image250.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>The transform=True option will update the table schema if
any of the following have changed:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The specified columns
or their types</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The specified primary
key</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The order of the
columns, defined using column_order=</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
not_null= or defaults= arguments</p>

<p class=MsoNormal style='margin-top:0in;margin-right:94.0pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:162%'>Changes to foreign_keys= are not
currently detected and applied by transform=True. You can pass strict=True to
create a table in STRICT mode:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image251.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Compound primary keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to create a table with a compound primary key
that spans multiple columns, you can do so by passing a tuple of column names
to any of the methods that accept a pk= parameter. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image252.gif"></span></p>

<p class=MsoNormal style='margin-bottom:19.15pt;line-height:107%'>This also
works for the .insert(), .insert_all(), .upsert() and .upsert_all() methods.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.0pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Specifying foreign keys</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:5.1pt;margin-left:-.25pt;text-align:left;line-height:105%'>Any
operation that can create a table (.create(), .insert(), .insert_all(), .upsert()
and .upsert_all()) accepts an optional foreign_keys= argument which can be used
to set up foreign key constraints for the table that is being created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>If you are using your database with <a
href="https://datasette.io/"><span style='color:#377063;text-decoration:none'>Datasette</span></a><a
href="https://datasette.io/"><span style='color:black;text-decoration:none'>,</span></a>
Datasette will detect these constraints and use them to generate hyperlinks to
associated records.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The foreign_keys argument takes a list that indicates which
foreign keys should be created. The list can take several forms. The simplest
is a list of columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image253.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>The library will guess which tables you wish to reference
based on the column names using the rules described in <i><span
style='color:#355F7C'>Adding foreign key constraints</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also be more explicit, by passing in a list of
tuples:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image254.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:1.8pt;margin-left:-.25pt;text-align:left;line-height:105%'>This
means that the author_id column should be a foreign key that references the id column
in the authors table. You can leave off the third item in the tuple to have the
referenced column automatically set to the primary key of that table. A full
example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72
src="sqlite-utils%20documentation_files/image255.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continues on next page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119
src="sqlite-utils%20documentation_files/image256.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.65pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Table configuration options</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>The .insert(), .upsert(), .insert_all() and .upsert_all() methods
each take a number of keyword arguments, some of which influence what happens
should they cause a table to be created and some of which affect the behavior
of those methods.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:-.25pt'>You can set default values for these methods by accessing
the table through the db.table(...) method (instead of using db[&quot;table_name&quot;]),
like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image257.gif"></span></p>

<p class=MsoNormal style='margin-bottom:18.75pt;line-height:107%'>The
configuration options that can be specified in this way are pk, foreign_keys, column_order,
not_null, defaults, batch_size, hash_id, hash_id_columns, alter, ignore, replace,
extracts, conversions, columns, strict. These are all documented below.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Setting defaults and not null constraints</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:-.25pt'>Each of the methods that can cause a table to be created
take optional arguments not_null=set() and defaults=dict(). The methods that
take these optional arguments are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.create_table(...)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.5pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.create(...)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.insert(...)</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
186%'><span style='line-height:186%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>table.insert_all(...)  table.upsert(...)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.upsert_all(...)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>You can use not_null= to pass a set of column names that
should have a NOT NULL constraint set on them when they are created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:-.25pt'>You can use defaults= to pass a dictionary mapping columns
to the default value that should be specified in the CREATE TABLE statement.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres an example that uses these features:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=312
src="sqlite-utils%20documentation_files/image258.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.85pt;margin-left:
-.25pt'><a name="_Toc251482">1.3.12 Renaming a table</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.rename_table(old_name, new_name) method can be used
to rename a table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image259.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This executes the following SQL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image260.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251483">1.3.13 Duplicating tables</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The table.duplicate() method creates a copy of the table,
copying both the table schema and all of the rows in that table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image261.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:84.05pt;margin-bottom:
15.6pt;margin-left:-.25pt;line-height:162%'>The new authors_copy table will now
contain a duplicate copy of the data from authors. This method raises sqlite_utils.db.NoTable
if the table does not exist.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251484">1.3.14 Bulk inserts</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>If you have more than one record to insert, the insert_all()
method is a much more efficient way of inserting them. Just like insert() it
will automatically detect the columns that should be created, but it will
inspect the first batch of 100 items to help decide what those column types
should be.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Use it like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216
src="sqlite-utils%20documentation_files/image262.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>The column types used in the CREATE TABLE statement are
automatically derived from the types of data in that first batch of rows. Any
additional columns in subsequent batches will cause a sqlite3.OperationalError exception
to be raised unless the alter=True argument is supplied, in which case the new
columns will be created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The function can accept an iterator or generator of rows
and will commit them according to the batch size. The default batch size is
100, but you can specify a different size using the batch_size parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image263.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.0pt;
margin-left:-.25pt;line-height:127%'>You can skip inserting any records that
have a primary key that already exists using ignore=True. This works with both .insert({...},
ignore=True) and .insert_all([...], ignore=True).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:-.25pt'>You can delete all the existing rows in the table before
inserting the new records using truncate=True. This is useful if you want to
replace the data in the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:-.25pt'>Pass analyze=True to run ANALYZE against the table after
inserting the new records.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251485">1.3.15 Insert-replacing
data</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.95pt;
margin-left:-.25pt'>If you try to insert data using a primary key that already
exists, the .insert() or .insert_all() method will raise a sqlite3.IntegrityError
exception.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=131
src="sqlite-utils%20documentation_files/image264.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.7pt;
margin-left:-.25pt;line-height:134%'>Importing from sqlite_utils.utils.sqlite3 ensures
your code continues to work even if you are using the pysqlite3 library instead
of the Python standard library sqlite3 module. Use the ignore=True parameter to
ignore this error:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:39.1pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:105%'><span
style='position:relative;z-index:-1895794688'><span style='left:0px;position:
absolute;left:-5px;top:-28361px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image220.gif"></span></span><i><span
style='color:#407F8F'># This fails silently if a record with id=1 already
exists </span></i>db[<span style='color:#4070A1'>&quot;dogs&quot;</span>]<span
style='color:#666666'>.</span>insert({<span style='color:#4070A1'>&quot;id&quot;</span>:
<span style='color:#217F4F'>1</span>, <span style='color:#4070A1'>&quot;name&quot;</span>:
<span style='color:#4070A1'>&quot;Cleo&quot;</span>}, pk<span style='color:
#666666'>=</span><span style='color:#4070A1'>&quot;id&quot;</span>, ignore<span
style='color:#666666'>=</span><span style='color:#007021'>True</span>) To
replace any existing records that have a matching primary key, use the replace=True
parameter to .insert() or .insert_all():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216
src="sqlite-utils%20documentation_files/image265.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:9.8pt;margin-left:7.95pt;text-align:left'><span style='color:
#145DEA'> </span><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.5pt;margin-bottom:.4in;
margin-left:7.95pt'><span style='position:relative;z-index:-1895793664'><span
style='left:0px;position:absolute;left:0px;top:-28680px;width:624px;height:
1px'><img width=624 height=1
src="sqlite-utils%20documentation_files/image266.gif"></span></span>Prior to
sqlite-utils 2.0 the .upsert() and .upsert_all() methods worked the same way as
. insert(replace=True) does today. See <i><span style='color:#355F7C'>Upserting
data </span></i>for the new behaviour of those methods introduced in 2.0.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251486">1.3.16 Updating a specific
record</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can update a record by its primary key using table.update():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image267.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The first argument to update() is the primary key. This can
be a single value, or a tuple if that table has a compound primary key:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image268.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:-.25pt'>The second argument is a dictionary of columns that should
be updated, along with their new values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can cause any missing columns to be added automatically
using alter=True:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image269.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.3pt;margin-left:
-.25pt'><a name="_Toc251487">1.3.17 Deleting a specific record</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can delete a record using table.delete():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image270.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The delete() method takes the primary key of the record.
This can be a tuple of values if the row has a compound primary key:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image271.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251488">1.3.18 Deleting multiple
records</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can delete all records in a table that match a specific
WHERE statement using table.delete_where():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image272.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:1.1in;margin-bottom:15.8pt;
margin-left:-.25pt;line-height:160%'>Calling table.delete_where() with no other
arguments will delete every row in the table. Pass analyze=True to run ANALYZE against
the table after deleting the rows.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251489">1.3.19 Upserting data</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>Upserting allows you to insert records if they do not exist
and update them if they DO exist, based on matching against their primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>For example, given the dogs database you could upsert the
record for Cleo like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image273.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:-.25pt'>If a record exists with id=1, it will be updated to match
those fields. If it does not exist it will be created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>Any existing columns that are not referenced in the
dictionary passed to .upsert() will be unchanged. If you want to replace a
record entirely, use .insert(doc, replace=True) instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:-.25pt'>Note that the pk and column_order parameters here are
optional if you are certain that the table has already been created. You should
pass them if the table may not exist at the time the first upsert is performed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:20.75pt;
margin-left:-.25pt'>An upsert_all() method is also available, which behaves
like insert_all() but performs upserts instead.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:10.95pt;margin-left:7.95pt;text-align:left'><span
style='color:#145DEA'> </span><b>Note</b></p>

<p class=MsoNormal style='margin-left:7.95pt;line-height:107%'><span
style='position:relative;z-index:-1895792640'><span style='left:0px;position:
absolute;left:0px;top:-29870px;width:624px;height:1px'><img width=624 height=1
src="sqlite-utils%20documentation_files/image274.gif"></span></span>.upsert() and
.upsert_all() in sqlite-utils 1.x worked like .insert(..., replace=True) and .
insert_all(..., replace=True) do in 2.x. See <a
href="https://github.com/simonw/sqlite-utils/issues/66"><span style='color:
#377063;text-decoration:none'>issue #66</span></a><span style='color:#377063'> </span>for
details of this change.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251490">1.3.20 Converting data in
columns</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:124%'>The table.convert(...) method can be used
to apply a conversion function to the values in a column, either to update that
column or to populate new columns. It is the Python library equivalent of the <i><span
style='color:#355F7C'>sqlite-utils convert </span></i>command. This feature
works by registering a custom SQLite function that applies a Python
transformation, then running a SQL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:127.6pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:154%'>query equivalent to UPDATE table SET
column = convert_value(column); To transform a specific column to uppercase,
you would use the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image275.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.95pt;
margin-left:-.25pt;line-height:181%'><span style='position:relative;z-index:
-1895791616'><span style='left:0px;position:absolute;left:-5px;top:-30098px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
pass a list of columns, in which case the transformation will be applied to
each one: db[<span style='color:#4070A1'>&quot;dogs&quot;</span>]<span
style='color:#666666'>.</span>convert([<span style='color:#4070A1'>&quot;name&quot;</span>,
<span style='color:#4070A1'>&quot;twitter&quot;</span>], <span
style='color:#007021'>lambda </span>value: value<span style='color:#666666'>.</span>upper())</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.1pt;
margin-left:-.25pt;line-height:182%'><span style='position:relative;z-index:
-1895790592'><span style='left:0px;position:absolute;left:-5px;top:-30166px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>To save the
output to of the transformation to a different column, use the output= parameter:
db[<span style='color:#4070A1'>&quot;dogs&quot;</span>]<span style='color:#666666'>.</span>convert(<span
style='color:#4070A1'>&quot;name&quot;</span>, <span style='color:#007021'>lambda
</span>value: value<span style='color:#666666'>.</span>upper(), output<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;name_upper&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>This will add the new column, if it does not already exist.
You can pass output_type=int or some other type to control the type of the new
column - otherwise it will default to text.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>If you want to drop the original column after saving the
results in a separate output column, pass drop=True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>By default any rows with a falsey value for the column -
such as 0 or None - will be skipped. Pass skip_false=False to disable this
behaviour.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can create multiple new columns from a single input
column by passing multi=True and a conversion function that returns a Python
dictionary. This example creates new upper and lower columns populated from the
single title column:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image276.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:10.2pt;
margin-left:-.25pt;line-height:128%'><span style='position:relative;z-index:
-1895789568'><span style='left:0px;position:absolute;left:-5px;top:-30454px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>The .convert()
method accepts optional where= and where_args= parameters which can be used to
apply the conversion to a subset of rows specified by a where clause. Heres
how to apply the conversion only to rows with an id that is higher than 20: table<span
style='color:#666666'>.</span>convert(<span style='color:#4070A1'>&quot;title&quot;</span>,
<span style='color:#007021'>lambda </span>v: v<span style='color:#666666'>.</span>upper(),
where<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;id
&gt; :id&quot;</span>, where_args<span style='color:#666666'>=</span>{<span
style='color:#4070A1'>&quot;id&quot;</span>: <span style='color:#217F4F'>20</span>})</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:16.9pt;
margin-left:-.25pt'>These behave the same as the corresponding parameters to
the <i><span style='color:#355F7C'>.rows_where() </span></i>method, so you can
use ? placeholders and a list of values instead of :<sub><span
style='font-size:15.5pt;line-height:103%'>named </span></sub>placeholders with
a dictionary.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251491">1.3.21 Working with lookup
tables</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>A useful pattern when populating large tables in to break
common values out into lookup tables. Consider a table of Trees, where each
tree has a species. Ideally these species would be split out into a separate Species
table, with each one assigned an integer primary key that can be referenced
from the Trees table species_id column.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.7pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Creating lookup tables explicitly</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>Calling db[&quot;Species&quot;].lookup({&quot;name&quot;:
&quot;Palm&quot;}) creates a table called Species (if one does not already
exist) with two columns: id and name. It sets up a unique constraint on the name
column to guarantee it will not contain duplicate rows. It then inserts a new
row with the name set to Palm and returns the new integer primary key value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>If the Species table already exists, it will insert the new
row and return the primary key. If a row with that name already exists, it will
return the corresponding primary key value directly.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>If you call .lookup() against an existing table without the
unique constraint it will attempt to add the constraint, raising an IntegrityError
if the constraint cannot be created.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you pass in a dictionary with multiple values, both
values will be used to insert or retrieve the corresponding ID and any unique
constraint that is created will cover all of those columns, for example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image277.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:-.25pt;line-height:142%'><span style='position:relative;z-index:
-1895788544'><span style='left:0px;position:absolute;left:-5px;top:-31060px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>The .lookup()
method has an optional second argument which can be used to populate other
columns in the table but only if the row does not exist yet. These columns will
not be included in the unique index. To create a species record with a note on
when it was first seen, you can use this: db[<span style='color:#4070A1'>&quot;Species&quot;</span>]<span
style='color:#666666'>.</span>lookup({<span style='color:#4070A1'>&quot;name&quot;</span>:
<span style='color:#4070A1'>&quot;Palm&quot;</span>}, {<span style='color:#4070A1'>&quot;first_seen&quot;</span>:
<span style='color:#4070A1'>&quot;2021-03-04&quot;</span>})</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>The first time this is called the record will be created
for name=&quot;Palm&quot;. Any subsequent calls with that name will ignore the
second argument, even if it includes different values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>.lookup() also accepts keyword arguments, which are passed
through to the <i><span style='color:#355F7C'>insert() method </span></i>and
can be used to influence the shape of the created table. Supported parameters
are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.1pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk - which defaults
to id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.35pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
184%'><span style='line-height:184%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>not_null  defaults</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>conversions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.25pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns</p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>strict</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Populating lookup tables automatically during
insert/upsert</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>A more efficient way to work with lookup tables is to
define them using the extracts= parameter, which is accepted by .insert(), .upsert(),
.insert_all(), .upsert_all() and by the .table(...) factory function.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>extracts= specifies columns which should be extracted out
into a separate lookup table during the data insertion.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:-.25pt'>It can be either a list of column names, in which case the
extracted table names will match the column names exactly, or it can be a
dictionary mapping column names to the desired name of the extracted table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To extract the species column out to a separate Species table,
you can do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=280
src="sqlite-utils%20documentation_files/image278.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251492">1.3.22 Working with
many-to-many relationships</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:-.25pt'>sqlite-utils includes a shortcut for creating records using
many-to-many relationships in the form of the table. m2m(...) method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres how to create two new records and connect them via a
many-to-many table in a single line of code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image279.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt'>Running this example actually creates three tables: dogs, humans
and a many-to-many dogs_humans table. It will insert a record into each of
those tables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .m2m() method executes against the last record that was
affected by .insert() or .update() - the record identified by the table.last_pk
property. To execute .m2m() against a specific record you can first select it
by passing its primary key to .update():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image280.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:127%'>The first argument to .m2m() can be either
the name of a table as a string or it can be the table object itself. The
second argument can be a single dictionary record or a list of dictionaries.
These dictionaries will be passed to .upsert() against the specified table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres alternative code that creates the dog record and
adds two people to it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153
src="sqlite-utils%20documentation_files/image281.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:-.25pt'>The method will attempt to find an existing many-to-many
table by looking for a table that has foreign key relationships against both of
the tables in the relationship.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:-.25pt'>If it cannot find such a table, it will create a new one
using the names of the two tables - dogs_humans in this example. You can
customize the name of this table using the m2m_table= argument to .m2m().</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>It it finds multiple candidate tables with foreign keys to
both of the specified tables it will raise a sqlite_utils.db. NoObviousTable exception.
You can avoid this error by specifying the correct table using m2m_table=.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.35pt;
margin-left:-.25pt'>The .m2m() method also takes an optional pk= argument to
specify the primary key that should be used if the table is created, and an
optional alter=True argument to specify that any missing columns of an existing
table should be added if they are needed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Using m2m and lookup tables together</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>You can work with (or create) lookup tables as part of a
call to .m2m() using the lookup= parameter. This accepts the same argument as table.lookup()
does - a dictionary of values that should be used to lookup or create a row in
the lookup table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This example creates a dogs table, populates it, creates a
characteristics table, populates that and sets up a many-to-many relationship
between the two. It chains .m2m() twice to create two associated
characteristics:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=212
src="sqlite-utils%20documentation_files/image282.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130
src="sqlite-utils%20documentation_files/image283.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.85pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal style='line-height:107%'>[{'characteristics_id': 1,
'dogs_id': 1}, {'characteristics_id': 2, 'dogs_id': 1}]</p>

<p class=MsoNormal style='margin-right:206.5pt;line-height:107%'><span
style='position:relative;z-index:-1895787520'><span style='left:0px;position:
absolute;left:-5px;top:-33178px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image284.gif"></span></span>&gt;&gt;&gt;
print(db[&quot;characteristics_dogs&quot;].schema) CREATE TABLE
[characteristics_dogs] (</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>[characteristics_id]
INTEGER REFERENCES [characteristics]([id]),</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>[dogs_id]
INTEGER REFERENCES [dogs]([id]),</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>PRIMARY KEY
([characteristics_id], [dogs_id])</p>

<p class=MsoNormal style='margin-bottom:28.75pt;line-height:107%'>)</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.55pt;margin-left:
-.25pt'><a name="_Toc251493">1.3.23 Analyzing a column</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:91.5pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:154%'>The table.analyze_column(column)
method is used by the <i><span style='color:#355F7C'>analyze-tables </span></i>CLI
command. It takes the following arguments and options: column <b>- required</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The name of the column to analyze</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>common_limit</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The number of most common values to return. Defaults to 10.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>value_truncate</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>If set to an integer, values longer than this will be
truncated to this length. Defaults to None.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>most_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:25.4pt'>If set to False, the most_common field of the returned ColumnDetails
will be set to None. Defaults to True.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>least_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:4.15pt;margin-bottom:
.25pt;margin-left:-.75pt;text-indent:24.9pt;line-height:153%'>If set to False,
the least_common field of the returned ColumnDetails will be set to None.
Defaults to True. And returns a ColumnDetails named tuple with the following
fields: table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The name of the table</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The name of the column</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>total_rows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The total number of rows in the table</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>num_null</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The number of rows for which this column is null</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>num_blank</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The number of rows for which this column is blank (the
empty string)</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>num_distinct</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>The number of distinct values in this column</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>most_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:25.4pt'>The N most common values as a list of (<sub><span
style='font-size:15.5pt;line-height:103%'>value, count) </span></sub>tuples`,
or None if the table consists entirely of distinct values</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>least_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>The N least common values as a list of (<sub><span
style='font-size:15.5pt;line-height:103%'>value, count) </span></sub>tuples`,
or None if the table is entirely distinct or if the number of distinct values
is less than N (since they will already have been returned in most_common)</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.5pt;margin-left:
-.25pt'><a name="_Toc251494">1.3.24 Adding columns</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can add a new column to a table using the .add_column(col_name,
col_type) method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image285.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:-.25pt'>You can specify the col_type argument either using a SQLite
type as a string, or by directly passing a Python type e.g. str or float.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:-.25pt'>The col_type is optional - if you omit it the type of TEXT will
be used.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:154.75pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:152%'>SQLite types you can specify are &quot;TEXT&quot;,
&quot;INTEGER&quot;, &quot;FLOAT&quot; or &quot;BLOB&quot;. If you pass a
Python type, it will be mapped to SQLite types as shown here:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=360
src="sqlite-utils%20documentation_files/image286.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:8.9pt;margin-left:7.95pt;text-align:left'><span style='color:
#145DEA'> </span><b>Note</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.45pt;margin-bottom:
18.9pt;margin-left:7.95pt'><span style='position:relative;z-index:-1895786496'><span
style='left:0px;position:absolute;left:0px;top:-34698px;width:624px;height:
1px'><img width=624 height=1
src="sqlite-utils%20documentation_files/image287.gif"></span></span>In
sqlite-utils 3.x FLOAT is used for floating point columns when the correct
column type is actually REAL. If you specify strict=True tables created in
strict mode will use the correct column type of REAL instead. We plan to change
this behavior in sqlite-utils 4.x to always use REAL, but this will represent a
minor breaking change and so is being held for the next major release, see
issue <a href="https://github.com/simonw/sqlite-utils/issues/645"><span
style='color:#377063;text-decoration:none'>#645</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/645"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also add a column that is a foreign key reference
to another table using the fk parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image288.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will automatically detect the name of the primary key
on the species table and use that (and its type) for the new column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt;line-height:169%'><span style='position:relative;z-index:
-1895785472'><span style='left:0px;position:absolute;left:-5px;top:-34868px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
explicitly specify the column you wish to reference using fk_col: db[<span
style='color:#4070A1'>&quot;dogs&quot;</span>]<span style='color:#666666'>.</span>add_column(<span
style='color:#4070A1'>&quot;species_id&quot;</span>, fk<span style='color:#666666'>=</span><span
style='color:#4070A1'>&quot;species&quot;</span>, fk_col<span style='color:
#666666'>=</span><span style='color:#4070A1'>&quot;ref&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.7pt;
margin-left:-.25pt'>You can set a NOT NULL DEFAULT 'x' constraint on the new
column using not_null_default:</p>

<p class=MsoNormal style='margin-bottom:29.25pt;line-height:107%'><span
style='position:relative;z-index:-1895784448'><span style='left:0px;position:
absolute;left:-5px;top:-34966px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span>db[<span
style='color:#4070A1'>&quot;dogs&quot;</span>]<span style='color:#666666'>.</span>add_column(<span
style='color:#4070A1'>&quot;friends_count&quot;</span>, <span style='color:
#007021'>int</span>, not_null_default<span style='color:#666666'>=</span><span
style='color:#217F4F'>0</span>)</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251495">1.3.25 Adding columns
automatically on insert/update</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.65pt;
margin-left:-.25pt'>You can insert or update data that includes new columns and
have the table automatically altered to fit the new schema using the alter=True
argument. This can be passed to all four of .insert(), .upsert(), .insert_all()
and</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>.upsert_all(), or it can be passed to db.table(table_name,
alter=True) to enable it by default for all method calls against that table
instance.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216
src="sqlite-utils%20documentation_files/image289.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251496">1.3.26 Adding foreign key
constraints</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt'>The SQLite ALTER TABLE statement doesnt have the ability
to add foreign key references to an existing column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:-.25pt'>The add_foreign_key() method here is a convenient wrapper
around <i><span style='color:#355F7C'>table.transform()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:126%'>Its also possible to add foreign keys by
directly updating the <i>sqlite_master </i>table. The <a
href="https://github.com/simonw/sqlite-utils-fast-fks"><span style='color:#377063;
text-decoration:none'>sqlite-utils-fast-fks</span></a><span style='color:#377063'>
</span>plugin implements this pattern, using code that was included with sqlite-utils
prior to version 3.35. Heres an example of this mechanism in action:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153
src="sqlite-utils%20documentation_files/image290.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The table.add_foreign_key(column, other_table,
other_column) method takes the name of the column, the table that is being
referenced and the key column within that other table. If you omit the other_column
argument the primary key from that table will be used automatically. If you
omit the other_table argument the table will be guessed based on some simple
rules:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the column is of
format author_id, look for tables called author or authors</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If the column does
not end in _id, try looking for a table with the exact name of the column or
that name with an added s</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt;line-height:132%'>This method first checks that the
specified foreign key references tables and columns that exist and does not
clash with an existing foreign key. It will raise a sqlite_utils.db.AlterError exception
if these checks fail. To ignore the case where the key already exists, use ignore=True:</p>

<p class=MsoNormal style='margin-bottom:26.45pt;line-height:107%'><span
style='position:relative;z-index:-1895783424'><span style='left:0px;position:
absolute;left:-5px;top:-35863px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span>db[<span
style='color:#4070A1'>&quot;books&quot;</span>]<span style='color:#666666'>.</span>add_foreign_key(<span
style='color:#4070A1'>&quot;author_id&quot;</span>, <span style='color:#4070A1'>&quot;authors&quot;</span>,
<span style='color:#4070A1'>&quot;id&quot;</span>, ignore<span
style='color:#666666'>=</span><span style='color:#007021'>True</span>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding multiple foreign key constraints at once</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:135%'>You can use db.add_foreign_keys(...) to
add multiple foreign keys in one go. This method takes a list of fourtuples,
each one specifying a table, column, other_table and other_column. Heres an
example adding two foreign keys at once:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image291.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.3pt;
margin-left:-.25pt'>This method runs the same checks as .add_foreign_keys() and
will raise sqlite_utils.db.AlterError if those checks fail.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding indexes for all foreign keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to ensure that every foreign key column in your
database has a corresponding index, you can do so like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image292.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251497">1.3.27 Dropping a table or
view</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can drop a table or view using the .drop() method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image293.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Pass ignore=True if you want to ignore the error caused by
the table or view not existing.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image294.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251498">1.3.28 Transforming a table</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:-.25pt'>The SQLite ALTER TABLE statement is limited. It can add and
drop columns and rename tables, but it cannot change column types, change NOT
NULL status or change the primary key for a table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>The table.transform() method can do all of these things, by
implementing a multi-step pattern <a
href="https://www.sqlite.org/lang_altertable.html#otheralter"><span
style='color:#377063;text-decoration:none'>described in the </span></a><a
href="https://www.sqlite.org/lang_altertable.html#otheralter"><span
style='color:#377063;text-decoration:none'>SQLite documentation</span></a><a
href="https://www.sqlite.org/lang_altertable.html#otheralter"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.55pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Start a
transaction</p>

<p class=MsoNormal style='margin-left:24.9pt;text-indent:-12.45pt;line-height:
107%'><span style='line-height:107%'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>CREATE TABLE tablename_new_x123 with the required changes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.4pt;
margin-left:24.9pt;text-indent:-12.45pt;line-height:107%'><span
style='line-height:107%'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Copy the old data into the new table using INSERT INTO
tablename_new_x123 SELECT * FROM tablename;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.55pt;
margin-left:24.9pt;text-indent:-12.45pt;line-height:107%'><span
style='line-height:107%'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>DROP TABLE tablename;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.9pt;
margin-left:24.9pt;text-indent:-12.45pt;line-height:107%'><span
style='line-height:107%'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>ALTER TABLE tablename_new_x123 RENAME TO tablename;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-12.45pt'><span style='line-height:103%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Commit the
transaction</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>The .transform() method takes a number of parameters, all
of which are optional.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:-.25pt'>As a bonus, calling .transform() will reformat the schema
for the table that is stored in SQLite to make it more readable. This works
even if you call it without any arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.85pt;
margin-left:-.25pt;line-height:140%'><span style='position:relative;z-index:
-1895782400'><span style='left:0px;position:absolute;left:-5px;top:-36762px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>To keep the
original table around instead of dropping it, pass the keep_table= option and
specify the name of the table you would like it to be renamed to: table<span
style='color:#666666'>.</span>transform(types<span style='color:#666666'>=</span>{<span
style='color:#4070A1'>&quot;age&quot;</span>: <span style='color:#007021'>int</span>},
keep_table<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;original_table&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.35pt;
margin-left:-.25pt'>This method raises a sqlite_utils.db.TransformError exception
if the table cannot be transformed, usually because there are existing
constraints or indexes that are incompatible with modifications to the columns.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Altering column types</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.6pt;
margin-left:-.25pt'>To alter the type of a column, use the types= argument:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:141.8pt;margin-bottom:
12.0pt;margin-left:-.25pt;line-height:163%'><span style='position:relative;
z-index:-1895781376'><span style='left:0px;position:absolute;left:-5px;
top:-36950px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image220.gif"></span></span><i><span
style='color:#407F8F'># Convert the 'age' column to an integer, and 'weight' to
a float </span></i>table<span style='color:#666666'>.</span>transform(types<span
style='color:#666666'>=</span>{<span style='color:#4070A1'>&quot;age&quot;</span>:
<span style='color:#007021'>int</span>, <span style='color:#4070A1'>&quot;weight&quot;</span>:
<span style='color:#007021'>float</span>}) See <i><span style='color:#355F7C'>Adding
columns </span></i>for a list of available types.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Renaming columns</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The rename= parameter can rename columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image295.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Dropping columns</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To drop columns, pass them in the drop= set:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image296.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Changing primary keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To change the primary key for a table, use pk=. This can be
passed a single column for a regular primary key, or a tuple of columns to
create a compound primary key. Passing pk=None will remove the primary key and
convert the table into a rowid table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image297.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Changing not null status</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can change the NOT NULL status of columns by using not_null=.
You can pass this a set of columns to make those columns NOT NULL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image298.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to take existing NOT NULL columns and change
them to allow null values, you can do so by passing a dictionary of true/false
values instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image299.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Altering column defaults</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The defaults= parameter can be used to set or change the
defaults for different columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image300.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Changing column order</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The column_order= parameter can be used to change the order
of the columns. If you pass the names of a subset of the columns those will go
first and columns you omitted will appear in their existing order after them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image301.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding foreign key constraints</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can add one or more foreign key constraints to a table
using the add_foreign_keys= parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image302.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This accepts the same arguments described in <i><span
style='color:#355F7C'>specifying foreign keys </span></i>- so you can specify
them as a full tuple of</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>(column, other_table, other_column), or you can take a
shortcut and pass just the name of the column, provided the table can be
automatically derived from the column name:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image303.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.0pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Replacing foreign key constraints</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The foreign_keys= parameter is similar to to add_foreign_keys=
but can be be used to replace all foreign key constraints on a table, dropping
any that are not explicitly mentioned:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image304.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Dropping foreign key constraints</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:-.25pt'>You can use .transform() to remove foreign key constraints
from a table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:130%'>This example drops two foreign keys - the
one from places.country to country.id and the one from places. continent to continent.id:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image305.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Custom transformations with .transform_sql()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt'>The .transform() method can handle most cases, but it does
not automatically upgrade indexes, views or triggers associated with the table
that is being transformed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:-.25pt'>If you want to do something more advanced, you can call the
table.transform_sql(...) method with the same arguments that you would have
passed to table.transform(...).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This method will return a list of SQL statements that
should be executed to implement the change. You can then make modifications to
that SQL - or add additional SQL statements - before executing it yourself.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251499">1.3.29 Extracting columns
into a separate table</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:59.45pt;margin-bottom:
4.55pt;margin-left:-.25pt'>The table.extract() method can be used to extract
specified columns into a separate table. Imagine a Trees table that looks like
this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=180
 style='width:135.1pt;margin-left:166.45pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=26 valign=top style='width:19.8pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>id</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>TreeAddress</p>
  </td>
  <td width=63 valign=top style='width:47.5pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 5.75pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Species</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=26 valign=top style='width:19.8pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>1</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>52 Vine St</p>
  </td>
  <td width=63 valign=top style='width:47.5pt;border:none;background:#EBEBEB;
  padding:0in 5.75pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=26 valign=top style='width:19.8pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>2</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>12 Draft St</p>
  </td>
  <td width=63 valign=top style='width:47.5pt;background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Oak</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=26 valign=top style='width:19.8pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>3</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>51 Dark Ave</p>
  </td>
  <td width=63 valign=top style='width:47.5pt;background:#EBEBEB;padding:0in 5.75pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=26 valign=top style='width:19.8pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>4</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>1252 Left St</p>
  </td>
  <td width=63 valign=top style='width:47.5pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 5.75pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:125%'>The Species column contains duplicate
values. This database could be improved by extracting that column out into a
separate Species table and pointing to it using a foreign key column. The
schema of the above table is:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image306.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Heres how to extract the Species column using .extract():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image307.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>After running this code the table schema now looks like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image308.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>A new Species table will have been created with the
following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image309.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>The .extract() method defaults to creating a table with the
same name as the column that was extracted, and adding a foreign key column
called tablename_id.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:163%'><span style='position:relative;z-index:
-1895780352'><span style='left:0px;position:absolute;left:-5px;top:-39468px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
specify a custom table name using table=, and a custom foreign key name using fk_column=.
This example creates a table called tree_species and a foreign key column
called tree_species_id: db[<span style='color:#4070A1'>&quot;Trees&quot;</span>]<span
style='color:#666666'>.</span>extract(<span style='color:#4070A1'>&quot;Species&quot;</span>,
table<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;tree_species&quot;</span>,
fk_column<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;tree_species_id&quot;</span>)
The resulting schema looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=184
src="sqlite-utils%20documentation_files/image310.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.35pt;
margin-left:-.25pt'>You can also extract multiple columns into the same
external table. Say for example you have a table like this:</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=302
 style='width:226.65pt;margin-left:120.7pt;border-collapse:collapse'>
 <tr style='height:16.15pt'>
  <td width=26 valign=top style='width:19.8pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>id</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>TreeAddress</p>
  </td>
  <td width=105 valign=top style='width:78.9pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal style='margin:0in;text-indent:0in;line-height:107%'>CommonName</p>
  </td>
  <td width=80 valign=top style='width:60.15pt;border-top:solid #DBDBDB 3.0pt;
  border-left:none;border-bottom:solid #EBEBEB 3.0pt;border-right:none;
  background:#DBDBDB;padding:0in 6.0pt 0in 6.0pt;height:16.15pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>LatinName</p>
  </td>
 </tr>
 <tr style='height:14.45pt'>
  <td width=26 valign=top style='width:19.8pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>1</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>52 Vine St</p>
  </td>
  <td width=105 valign=top style='width:78.9pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
  <td width=80 valign=top style='width:60.15pt;border:none;background:#EBEBEB;
  padding:0in 6.0pt 0in 6.0pt;height:14.45pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Arecaceae</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=26 valign=top style='width:19.8pt;background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>2</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>12 Draft St</p>
  </td>
  <td width=105 valign=top style='width:78.9pt;background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Oak</p>
  </td>
  <td width=80 valign=top style='width:60.15pt;background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Quercus</p>
  </td>
 </tr>
 <tr style='height:11.95pt'>
  <td width=26 valign=top style='width:19.8pt;background:#EBEBEB;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>3</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;background:#EBEBEB;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>51 Dark Ave</p>
  </td>
  <td width=105 valign=top style='width:78.9pt;background:#EBEBEB;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
  <td width=80 valign=top style='width:60.15pt;background:#EBEBEB;padding:0in 6.0pt 0in 6.0pt;
  height:11.95pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Arecaceae</p>
  </td>
 </tr>
 <tr style='height:13.1pt'>
  <td width=26 valign=top style='width:19.8pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.1pt;text-align:left;text-indent:0in;
  line-height:107%'>4</p>
  </td>
  <td width=90 valign=top style='width:67.8pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>1252 Left St</p>
  </td>
  <td width=105 valign=top style='width:78.9pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Palm</p>
  </td>
  <td width=80 valign=top style='width:60.15pt;border:none;border-bottom:solid black 1.0pt;
  background:#FAFAFA;padding:0in 6.0pt 0in 6.0pt;height:13.1pt'>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'>Arecaceae</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass [&quot;CommonName&quot;,
&quot;LatinName&quot;] to .extract() to extract both of those columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image311.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This produces the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.0pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=184
src="sqlite-utils%20documentation_files/image312.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:165%'><span style='position:relative;z-index:
-1895779328'><span style='left:0px;position:absolute;left:-5px;top:-40150px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>The table
name CommonName_LatinName is derived from the extract columns. You can use table=
and fk_column= to specify custom names like this: db[<span style='color:#4070A1'>&quot;Trees&quot;</span>]<span
style='color:#666666'>.</span>extract([<span style='color:#4070A1'>&quot;CommonName&quot;</span>,
<span style='color:#4070A1'>&quot;LatinName&quot;</span>], table<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;Species&quot;</span>,
fk_column<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;species_id&quot;</span>)
This produces the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=130
src="sqlite-utils%20documentation_files/image313.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=72
src="sqlite-utils%20documentation_files/image314.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the rename= argument to rename columns in the
lookup table. To create a Species table with columns called name and latin you
can do this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=132
src="sqlite-utils%20documentation_files/image315.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image316.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251500">1.3.30 Setting an ID based
on the hash of the row contents</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:134%'>Sometimes you will find yourself working
with a dataset that includes rows that do not have a provided obvious ID, but
where you would like to assign one so that you can later upsert into that table
without creating duplicate records. In these cases, a useful technique is to
create an ID that is derived from the sha1 hash of the row contents. sqlite-utils
can do this for you using the hash_id= option. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=57
src="sqlite-utils%20documentation_files/image317.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Outputs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=41
src="sqlite-utils%20documentation_files/image318.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you are going to use that ID straight away, you can
access it using last_pk:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=132
src="sqlite-utils%20documentation_files/image319.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image320.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:-.25pt'>The hash_id= parameter is optional if you specify hash_id_columns=
- it will default to putting the hash in a column called id.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:-.25pt'>You can manually calculate these hashes using the <i><span
style='color:#355F7C'>hash_record(record, keys=...) </span></i>utility
function.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251501">1.3.31 Creating views</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .create_view() method on the database class can be used
to create a view:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image321.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:-.25pt'>This will raise a sqlite_utils.utils.OperationalError if a
view with that name already exists.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass ignore=True to silently ignore an existing
view and do nothing, or replace=True to replace an existing view with a new
definition if your select statement differs from the current view:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image322.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251502">1.3.32 Storing JSON</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>SQLite has <a href="https://www.sqlite.org/json1.html"><span
style='color:#377063;text-decoration:none'>excellent JSON support</span></a><a
href="https://www.sqlite.org/json1.html"><span style='color:black;text-decoration:
none'>,</span></a> and sqlite-utils can help you take advantage of this: if you
attempt to insert a value that can be represented as a JSON list or dictionary,
sqlite-utils will create TEXT column and store your data as serialized JSON.
This means you can quickly store even complex data structures in SQLite and
query them using JSON features.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=300
src="sqlite-utils%20documentation_files/image323.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119
src="sqlite-utils%20documentation_files/image324.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251503">1.3.33 Converting column
values using SQL functions</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:-.25pt'>Sometimes it can be useful to run values through a SQL
function prior to inserting them. A simple example might be converting a value
to upper case while it is being inserted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>The conversions={...} parameter can be used to specify
custom SQL to be used as part of a INSERT or UPDATE SQL statement.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can specify an upper case conversion for a specific
column like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image325.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>The dictionary key is the column name to be converted. The
value is the SQL fragment to use, with a ? placeholder for the original value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>A more useful example: if you are working with <a
href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><span
style='color:#377063'> </span>you may find yourself wanting to create geometry
values from a WKT value. Code to do that could look like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=369
src="sqlite-utils%20documentation_files/image326.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119
src="sqlite-utils%20documentation_files/image327.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:-.25pt'>This example uses gographical data from <a
href="https://whosonfirst.org/"><span style='color:#377063;text-decoration:
none'>Whos On First</span></a><span style='color:#377063'> </span>and depends
on the <a href="https://shapely.readthedocs.io/en/stable/manual.html"><span
style='color:#377063;text-decoration:none'>Shapely</span></a><span
style='color:#377063'> </span>and <a href="https://www.python-httpx.org/"><span
style='color:#377063;text-decoration:none'>HTTPX</span></a><span
style='color:#377063'> </span>Python libraries.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251504">1.3.34 Checking the SQLite
version</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.sqlite_version property returns a tuple of integers
representing the version of SQLite used for that database object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image328.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251505">1.3.35 Dumping the database
to SQL</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.iterdump() method returns a sequence of SQL strings
representing a complete dump of the database. Use it like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image329.gif"></span></p>

<p class=MsoNormal align=left style='margin-bottom:5.35pt;text-align:left;
line-height:110%'>This uses the <a
href="https://docs.python.org/3/library/sqlite3.html#sqlite3.Connection.iterdump"><span
style='color:#377063;text-decoration:none'>sqlite3.Connection.iterdump()</span></a><span
style='color:#377063'> </span>method.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you are using pysqlite3 or sqlean.py the underlying
method may be missing. If you install the <a
href="https://pypi.org/project/sqlite-dump/"><span style='color:#377063;
text-decoration:none'>sqlite-dump </span></a>package then the db.iterdump() method
will use that implementation instead:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image330.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251506">1.3.36 Introspecting tables
and views</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you have loaded an existing table or view, you can use
introspection to find out more about it:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image331.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.exists()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .exists() method can be used to find out if a table
exists or not:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image332.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.45pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.count</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .count property shows the current number of rows (select
count(*) from table):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image333.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.3pt;
margin-left:-.25pt'>This property will take advantage of <i><span
style='color:#355F7C'>Cached table counts using triggers </span></i>if the use_counts_table
property is set on the database. You can avoid that optimization entirely by
calling table.count_where() instead of accessing the property.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.05pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.columns</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:-.25pt;line-height:124%'>The .columns property shows the columns in
the table or view. It returns a list of Column(cid, name, type, notnull,
default_value, is_pk) named tuples.</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt;
db[&quot;PlantType&quot;].columns</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895778304'><span style='left:0px;position:absolute;left:-5px;
top:-43942px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image334.gif"></span></span>[Column(cid=0,
name='id', type='INTEGER', notnull=0, default_value=None, is_pk=1),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:25.85pt;
margin-left:5.75pt;line-height:107%'>Column(cid=1, name='value', type='TEXT',
notnull=0, default_value=None, is_pk=0)]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.columns_dict</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .columns_dict property returns a dictionary version of
the columns with just the names and Python types:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image335.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.default_values</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .default_values property returns a dictionary of
default values for each column that has a default:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image336.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.pks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .pks property returns a list of strings naming the
primary key columns for the table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image337.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If a table has no primary keys but is a <a
href="https://www.sqlite.org/rowidtable.html"><span style='color:#377063;
text-decoration:none'>rowid table</span></a><a
href="https://www.sqlite.org/rowidtable.html"><span style='color:black;
text-decoration:none'>,</span></a> this property will return ['<sub><span
style='font-size:15.5pt;line-height:103%'>rowid</span></sub>'<sub><span
style='font-size:15.5pt;line-height:103%'>]</span></sub>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.use_rowid</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Almost all SQLite tables have a rowid column, but a table
with no explicitly defined primary keys must use that rowid as the primary key
for identifying individual rows. The .use_rowid property checks to see if a
table needs to use the rowid in this way - it returns True if the table has no
explicitly defined primary keys and False otherwise.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image338.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.0pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.foreign_keys</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.85pt;
margin-left:-.25pt'>The .foreign_keys property returns any foreign key
relationships for the table, as a list of ForeignKey(table, column,
other_table, other_column) named tuples. It is not available on views.</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt;
db[&quot;Street_Tree_List&quot;].foreign_keys</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895777280'><span style='left:0px;position:absolute;left:-5px;
top:-44668px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image339.gif"></span></span>[ForeignKey(table='Street_Tree_List',
column='qLegalStatus', other_table='qLegalStatus',<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>other_column='id'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>ForeignKey(table='Street_Tree_List',
column='qCareAssistant', other_table=</p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>'qCareAssistant',
other_column='id'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>ForeignKey(table='Street_Tree_List',
column='qSiteInfo', other_table='qSiteInfo', other_</p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>column='id'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>ForeignKey(table='Street_Tree_List',
column='qSpecies', other_table='qSpecies', other_</p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>column='id'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>ForeignKey(table='Street_Tree_List',
column='qCaretaker', other_table='qCaretaker',<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>other_column='id'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>ForeignKey(table='Street_Tree_List',
column='PlantType', other_table='PlantType', other_</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:25.95pt;
margin-left:3.1pt;line-height:107%'><i><span style='font-size:5.0pt;line-height:
107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>column='id')]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.schema</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .schema property outputs the tables schema as a SQL
string:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=322
src="sqlite-utils%20documentation_files/image340.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.05in;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>&quot;Location&quot;
TEXT</p>

<p class=MsoNormal style='line-height:107%'>,</p>

<p class=MsoNormal style='margin-top:0in;margin-right:154.2pt;margin-bottom:
.25pt;margin-left:20.9pt;text-indent:-20.9pt;line-height:107%'><span
style='position:relative;z-index:-1895776256'><span style='left:0px;position:
absolute;left:-5px;top:-45368px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image341.gif"></span></span>FOREIGN
KEY (&quot;PlantType&quot;) REFERENCES [PlantType](id), FOREIGN KEY
(&quot;qCaretaker&quot;) REFERENCES [qCaretaker](id),</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>FOREIGN KEY
(&quot;qSpecies&quot;) REFERENCES [qSpecies](id),</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>FOREIGN KEY
(&quot;qSiteInfo&quot;) REFERENCES [qSiteInfo](id),</p>

<p class=MsoNormal style='margin-left:21.4pt;line-height:107%'>FOREIGN KEY
(&quot;qCareAssistant&quot;) REFERENCES [qCareAssistant](id),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:25.7pt;
margin-left:21.4pt;line-height:107%'>FOREIGN KEY (&quot;qLegalStatus&quot;)
REFERENCES [qLegalStatus](id))</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.strict</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .strict property identifies if the table is a <a
href="https://www.sqlite.org/stricttables.html"><span style='color:#377063;
text-decoration:none'>SQLite STRICT table</span></a><a
href="https://www.sqlite.org/stricttables.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image342.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.45pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.indexes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.75pt;
margin-left:-.25pt'>The .indexes property returns all indexes created for a
table, as a list of Index(seq, name, unique, origin, partial, columns) named
tuples. It is not available on views.</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt;
db[&quot;Street_Tree_List&quot;].indexes</p>

<p class=MsoNormal style='line-height:107%'>[Index(seq=0,
name='&quot;Street_Tree_List_qLegalStatus&quot;', unique=0, origin='c',
partial=0,<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['qLegalStatus']),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'><span
style='position:relative;z-index:-1895775232'><span style='left:0px;position:
absolute;left:-5px;top:-45787px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image339.gif"></span></span>Index(seq=1,
name='&quot;Street_Tree_List_qCareAssistant&quot;', unique=0, origin='c',
partial=0,<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['qCareAssistant']),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Index(seq=2,
name='&quot;Street_Tree_List_qSiteInfo&quot;', unique=0, origin='c', partial=0,<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['qSiteInfo']),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Index(seq=3,
name='&quot;Street_Tree_List_qSpecies&quot;', unique=0, origin='c', partial=0,<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['qSpecies']),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Index(seq=4,
name='&quot;Street_Tree_List_qCaretaker&quot;', unique=0, origin='c',
partial=0,<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['qCaretaker']),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Index(seq=5,
name='&quot;Street_Tree_List_PlantType&quot;', unique=0, origin='c', partial=0,<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:25.9pt;
margin-left:3.1pt;line-height:107%'><i><span style='font-size:5.0pt;line-height:
107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>columns=['PlantType'])]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.xindexes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:-.25pt'>The .xindexes property returns more detailed information
about the indexes on the table, using the SQLite <a
href="https://sqlite.org/pragma.html#pragma_index_xinfo"><span
style='color:#377063;text-decoration:none'>PRAGMA </span></a><a
href="https://sqlite.org/pragma.html#pragma_index_xinfo"><span
style='color:#377063;text-decoration:none'>index_xinfo()</span></a><span
style='color:#377063'> </span>mechanism. It returns a list of XIndex(name,
columns) named tuples, where columns is a list of XIndexColumn(seqno, cid,
name, desc, coll, key) named tuples.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=146
src="sqlite-utils%20documentation_files/image343.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=167
src="sqlite-utils%20documentation_files/image344.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.triggers</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.95pt;
margin-left:-.25pt'>The .triggers property lists database triggers. It can be
used on both database and table objects. It returns a list of Trigger(name,
table, sql) named tuples.</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt;
db[&quot;authors&quot;].triggers</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895774208'><span style='left:0px;position:absolute;left:-5px;
top:-46561px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image345.gif"></span></span>[Trigger(name='authors_ai',
table='authors', sql='CREATE TRIGGER [authors_ai] AFTER<span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>INSERT...'),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Trigger(name='authors_ad',
table='authors', sql=&quot;CREATE TRIGGER [authors_ad] AFTER<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>DELETE...&quot;),</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>Trigger(name='authors_au',
table='authors', sql=&quot;CREATE TRIGGER [authors_au] AFTER<span
style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-left:3.1pt;line-height:107%'><i><span
style='font-size:5.0pt;line-height:107%;font-family:"Cambria",serif;color:red'>,</span></i><sub><span
style='font-size:7.5pt;line-height:107%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub>UPDATE&quot;)]</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt; db.triggers</p>

<p class=MsoNormal style='margin-bottom:25.7pt;line-height:107%'>... similar
output to db[&quot;authors&quot;].triggers</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.triggers_dict</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.65pt;
margin-left:-.25pt'>The .triggers_dict property returns the triggers for that
table as a dictionary mapping their names to their SQL definitions.</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt;
db[&quot;authors&quot;].triggers_dict</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895773184'><span style='left:0px;position:absolute;left:-5px;
top:-46836px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image346.gif"></span></span>{'authors_ai':
'CREATE TRIGGER [authors_ai] AFTER INSERT...',</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>'authors_ad':
'CREATE TRIGGER [authors_ad] AFTER DELETE...',</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:12.5pt;
margin-left:5.75pt;line-height:107%'>'authors_au': 'CREATE TRIGGER [authors_au]
AFTER UPDATE'}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.45pt;
margin-left:-.25pt'>The same property exists on the database, and will return
all triggers across all tables:</p>

<p class=MsoNormal style='line-height:107%'>&gt;&gt;&gt; db.triggers_dict</p>

<p class=MsoNormal style='line-height:107%'><span style='position:relative;
z-index:-1895772160'><span style='left:0px;position:absolute;left:-5px;
top:-46959px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image346.gif"></span></span>{'authors_ai':
'CREATE TRIGGER [authors_ai] AFTER INSERT...',</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>'authors_ad':
'CREATE TRIGGER [authors_ad] AFTER DELETE...',</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>'authors_au': 'CREATE
TRIGGER [authors_au] AFTER UPDATE'}</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.detect_fts()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The detect_fts() method returns the associated SQLite FTS
table name, if one exists for this table. If the table has not been configured
for full-text search it returns None.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image347.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.virtual_table_using</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .virtual_table_using property reveals if a table is a
virtual table. It returns None for regular tables and the upper case version of
the type of virtual table otherwise. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image348.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>.has_counts_triggers</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The .has_counts_triggers property shows if a table has been
configured with triggers for updating a _counts table, as described in <i><span
style='color:#355F7C'>Cached table counts using triggers</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image349.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>db.supports_strict</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This property on the database object returns True if the
available SQLite version supports <a
href="https://www.sqlite.org/stricttables.html"><span style='color:#377063;
text-decoration:none'>STRICT mode</span></a><a
href="https://www.sqlite.org/stricttables.html"><span style='color:black;
text-decoration:none'>,</span></a> which was added in SQLite 3.37.0 (on
2021-11-27).</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image350.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251507">1.3.37 Full-text search</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>SQLite includes bundled extensions that implement <a
href="https://www.sqlite.org/fts5.html"><span style='color:#377063;text-decoration:
none'>powerful full-text search</span></a><a
href="https://www.sqlite.org/fts5.html"><span style='color:black;text-decoration:
none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.05pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Enabling full-text search for a table</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can enable full-text search on a table using .enable_fts(columns):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image351.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can then run searches using the .search() method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image352.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:17.6pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:152%'>This method returns a generator that
can be looped over to get dictionaries for each row, similar to <i><span
style='color:#355F7C'>Listing rows</span></i>. If you insert additional records
into the table you will need to refresh the search index using populate_fts():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=137
src="sqlite-utils%20documentation_files/image353.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.35pt;
margin-left:-.25pt;line-height:178%'><span style='position:relative;z-index:
-1895771136'><span style='left:0px;position:absolute;left:-5px;top:-48062px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span><span
style='position:relative;z-index:-1895770112'><span style='left:0px;position:
absolute;left:-5px;top:-48062px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image124.gif"></span></span>A
better solution is to use database triggers. You can set up database triggers
to automatically update the full-text index using create_triggers=True: db[<span
style='color:#4070A1'>&quot;dogs&quot;</span>]<span style='color:#666666'>.</span>enable_fts([<span
style='color:#4070A1'>&quot;name&quot;</span>, <span style='color:#4070A1'>&quot;twitter&quot;</span>],
create_triggers<span style='color:#666666'>=</span><span style='color:#007021'>True</span>)
.enable_fts() defaults to using <a href="https://www.sqlite.org/fts5.html"><span
style='color:#377063;text-decoration:none'>FTS5</span></a><a
href="https://www.sqlite.org/fts5.html"><span style='color:black;text-decoration:
none'>.</span></a> If you wish to use <a href="https://www.sqlite.org/fts3.html"><span
style='color:#377063;text-decoration:none'>FTS4</span></a><span
style='color:#377063'> </span>instead, use the following: db[<span
style='color:#4070A1'>&quot;dogs&quot;</span>]<span style='color:#666666'>.</span>enable_fts([<span
style='color:#4070A1'>&quot;name&quot;</span>, <span style='color:#4070A1'>&quot;twitter&quot;</span>],
fts_version<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;FTS4&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.95pt;
margin-left:-.25pt;line-height:139%'><span style='position:relative;z-index:
-1895769088'><span style='left:0px;position:absolute;left:-5px;top:-48161px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
customize the tokenizer configured for the table using the tokenize= parameter.
For example, to enable Porter stemming, where English words like running will
match stemmed alternatives such as run, use tokenize=&quot;porter&quot;: db[<span
style='color:#4070A1'>&quot;articles&quot;</span>]<span style='color:#666666'>.</span>enable_fts([<span
style='color:#4070A1'>&quot;headline&quot;</span>, <span style='color:#4070A1'>&quot;body&quot;</span>],
tokenize<span style='color:#666666'>=</span><span style='color:#4070A1'>&quot;porter&quot;</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:-.25pt'>The SQLite documentation has more on <a
href="https://www.sqlite.org/fts5.html#tokenizers"><span style='color:#377063;
text-decoration:none'>FTS5 tokenizers</span></a><span style='color:#377063'> </span>and
<a href="https://www.sqlite.org/fts3.html#tokenizer"><span style='color:#377063;
text-decoration:none'>FTS4 tokenizers</span></a><a
href="https://www.sqlite.org/fts3.html#tokenizer"><span style='color:black;
text-decoration:none'>.</span></a> porter is a valid option for both.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:-.25pt'>If you attempt to configure a FTS table where one already
exists, a sqlite3.OperationalError exception will be raised.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.65pt;
margin-left:-.25pt;line-height:174%'><span style='position:relative;z-index:
-1895768064'><span style='left:0px;position:absolute;left:-5px;top:-48298px;
width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image124.gif"></span></span>You can
replace the existing table with a new configuration using replace=True: db[<span
style='color:#4070A1'>&quot;articles&quot;</span>]<span style='color:#666666'>.</span>enable_fts([<span
style='color:#4070A1'>&quot;headline&quot;</span>], tokenize<span
style='color:#666666'>=</span><span style='color:#4070A1'>&quot;porter&quot;</span>,
replace<span style='color:#666666'>=</span><span style='color:#007021'>True</span>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will have no effect if the FTS table already exists,
otherwise it will drop and recreate the table with the new settings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>This takes into consideration the columns, the tokenizer,
the FTS version used and whether or not the table has triggers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To remove the FTS tables and triggers you created, use the disable_fts()
table method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image354.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Quoting characters for use in search</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:-.25pt'>SQLite supports <a
href="https://www.sqlite.org/fts3.html#full_text_index_queries"><span
style='color:#377063;text-decoration:none'>advanced search query syntax</span></a><a
href="https://www.sqlite.org/fts3.html#full_text_index_queries"><span
style='color:black;text-decoration:none'>.</span></a> In some situations you
may wish to disable this, since characters such as . may have special meaning
that causes errors when searching for strings provided by your users.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The db.quote_fts(query) method returns the query with
SQLite full-text search quoting applied such that the query should be safe to
use in a search:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image355.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Searching with table.search()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The table.search(q) method returns a generator over Python
dictionaries representing rows that match the search phrase q, ordered by
relevance with the most relevant results first.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image356.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:139.05pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:158%'>The .search() method also accepts
the following optional parameters: order_by <b>string</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:25.4pt'>The column to sort by. Defaults to relevance score. Can
optionally include a desc, e.g. rowid desc.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:.5pt;text-align:left'>columns <b>array of
strings</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:25.4pt'>Columns to return. Defaults to all columns.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:.5pt;text-align:left'>limit <b>integer</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:25.4pt'>Number of results to return. Defaults to all results.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:.5pt;text-align:left'>offset <b>integer</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:25.4pt'>Offset to use along side the limit parameter.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:.5pt;text-align:left'>where <b>string</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:25.4pt'>Extra SQL fragment for the WHERE clause</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:.5pt;text-align:left'>where_args <b>dictionary</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Arguments to use for :<sub><span style='font-size:15.5pt;
line-height:103%'>param </span></sub>placeholders in the extra WHERE clause</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>include_rank <b>bool</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:25.4pt'>If set a rank column will be included with the BM25 ranking
score - for FTS5 tables only.</p>

<p class=MsoNormal align=left style='margin-right:111.9pt;text-align:left;
line-height:107%'>quote <b>bool</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:25.4pt'>Apply <i><span style='color:#355F7C'>FTS quoting rules </span></i>to
the search query, disabling advanced query syntax in a way that avoids
surprising errors.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To return just the title and published columns for three
matches for &quot;dog&quot; where the id is greater than 10 ordered by published
with the most recent first, use the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153
src="sqlite-utils%20documentation_files/image357.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Building SQL queries with table.search_sql()</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can generate the SQL query that would be used for a
search using the table.search_sql() method. It takes the same arguments as table.search(),
with the exception of the search query and the where_args parameter, since
those should be provided when the returned SQL is executed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image358.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Outputs:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=280
src="sqlite-utils%20documentation_files/image359.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This method detects if a SQLite table uses FTS4 or FTS5,
and outputs the correct SQL for ordering by relevance depending on the search
type.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.9pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=306
src="sqlite-utils%20documentation_files/image360.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This uses the rank_bm25() custom SQL function from <a
href="https://github.com/simonw/sqlite-fts4"><span style='color:#377063;
text-decoration:none'>sqlite-fts4</span></a><a
href="https://github.com/simonw/sqlite-fts4"><span style='color:black;
text-decoration:none'>.</span></a> You can register that custom function
against a Database connection using this method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image361.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251508">1.3.38 Rebuilding a
full-text search table</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can rebuild a table using the table.rebuild_fts() method.
This is useful for if the table configuration changes or the indexed data has
become corrupted in some way.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.6pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image362.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This method can be called on a table that has been
configured for full-text search - dogs in this instance - or directly on a _fts
table:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image363.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This runs the following SQL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image364.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251509">1.3.39 Optimizing a
full-text search table</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Once you have populated a FTS table you can optimize it to
dramatically reduce its size like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image365.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This runs the following SQL:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image366.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251510">1.3.40 Cached table counts
using triggers</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:-.25pt'>The select count(*) query in SQLite requires a full scan of
the primary key index, and can take an increasingly long time as the table
grows larger.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The table.enable_counts() method can be used to configure
triggers to continuously update a record in a _counts table. This value can
then be used to quickly retrieve the count of rows in the associated table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image367.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This will create the _counts table if it does not already
exist, with the following schema:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image368.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can enable cached counts for every table in a database
(except for virtual tables and the _counts table itself) using the database enable_counts()
method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image369.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:-.25pt'>Once enabled, table counts will be stored in the _counts table.
The count records will be automatically kept up-to-date by the triggers when
rows are added or deleted to the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To access these counts you can query the _counts table
directly or you can use the db.cached_counts() method. This method returns a
dictionary mapping tables to their counts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image370.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can pass a list of table names to this method to
retrieve just those counts:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image371.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:-.25pt'>The table.count property executes a select count(*) query
by default, unless the db.use_counts_table property is set to True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can set use_counts_table to True when you instantiate
the database object:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image372.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:-.25pt'>If the property is True any calls to the table.count property
will first attempt to find the cached count in the _counts table, and fall back
on a count(*) query if the value is not available or the table is missing.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:-.25pt'>Calling the .enable_counts() method on a database or table
object will set use_counts_table to True for the lifetime of that database
object.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.0pt;
margin-left:-.25pt'>If the _counts table ever becomes out-of-sync with the
actual table counts you can repair it using the .</p>

<p class=MsoNormal style='line-height:107%'>reset_counts() method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image373.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251511">1.3.41 Creating indexes</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can create an index on a table using the .create_index(columns)
method. The method takes a list of columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image374.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:-.25pt'>By default the index will be named idx_{table-name}_{columns}.
If you pass find_unique_name=True and the automatically derived name already
exists, an available name will be found by incrementing a suffix number, for
example idx_items_title_2.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can customize the name of the created index by passing
the index_name parameter:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image375.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To create an index in descending order for a column, wrap
the column name in db.DescIndex() like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image376.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can create a unique index by passing unique=True:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image377.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:117.2pt;margin-bottom:
15.75pt;margin-left:-.25pt;line-height:160%'>Use if_not_exists=True to do
nothing if an index with that name already exists. Pass analyze=True to run ANALYZE
against the new index after creating it.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251512">1.3.42 Optimizing index
usage with ANALYZE</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>The <a href="https://www.sqlite.org/lang_analyze.html"><span
style='color:#377063;text-decoration:none'>SQLite ANALYZE command</span></a><span
style='color:#377063'> </span>builds a table of statistics which the query
planner can use to make better decisions about which indexes to use for a given
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.85pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:153%'>You should run ANALYZE if your
database is large and you do not think your indexes are being efficiently used.
To run ANALYZE against every index in a database, use this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image378.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run it just against a specific named index, pass the
name of the index to that method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.05pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image379.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run against all indexes attached to a specific table,
you can either pass the table name to db.analyze(...) or you can call the
method directly on the table, like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image380.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251513">1.3.43 Vacuum</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can optimize your database by running VACUUM against it
like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image381.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251514">1.3.44 WAL mode</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can enable <a href="https://www.sqlite.org/wal.html"><span
style='color:#377063;text-decoration:none'>Write-Ahead Logging</span></a><span
style='color:#377063'> </span>for a database with .enable_wal():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image382.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can disable WAL mode using .disable_wal():</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.1pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image383.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can check the current journal mode for a database using
the journal_mode property:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.8pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image384.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:21.75pt;
margin-left:-.25pt'>This will usually be wal or delete (meaning WAL is
disabled), but can have other values - see the <a
href="https://www.sqlite.org/pragma.html#pragma_journal_mode"><span
style='color:#377063;text-decoration:none'>PRAGMA jour</span></a><a
href="https://www.sqlite.org/pragma.html#pragma_journal_mode"><span
style='color:#377063;text-decoration:none'>nal_mode</span></a><span
style='color:#377063'> </span>documentation.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251515">1.3.45 Suggesting column
types</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>When you create a new table for a list of inserted or
upserted Python dictionaries, those methods detect the correct types for the
database columns based on the data you pass in.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:-.25pt'>In some situations you may need to intervene in this
process, to customize the columns that are being created in some way - see <i><span
style='color:#355F7C'>Explicitly creating a table</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>That table .create() method takes a dictionary mapping
column names to the Python type they should store:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image385.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can use the suggest_column_types() helper function to
derive a dictionary of column names and types from a list of records, suitable
to be passed to table.create().</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=489
src="sqlite-utils%20documentation_files/image386.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=247
src="sqlite-utils%20documentation_files/image387.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251516">1.3.46 Registering custom
SQL functions</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>SQLite supports registering custom SQL functions written in
Python. The db.register_function() method lets you register these functions,
and keeps track of functions that have already been registered.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you use it as a method it will automatically detect the
name and number of arguments needed by the function:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168
src="sqlite-utils%20documentation_files/image388.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can also use the method as a function decorator like
so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image389.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>By default, the name of the Python function will be used as
the name of the SQL function. You can customize this with the name= keyword
argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image390.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If a function will return the exact same result for any
given inputs you can register it as a <a
href="https://sqlite.org/deterministic.html"><span style='color:#377063;
text-decoration:none'>deterministic SQLite function </span></a>allowing SQLite
to apply some performance optimizations:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image391.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.4pt;
margin-left:-.25pt'>By default registering a function with the same name and
number of arguments will have no effect - the Database instance keeps track of
functions that have already been registered and skips registering them if @db.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:-.25pt'>register_function is called a second time.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you want to deliberately replace the registered function
with a new implementation, use the replace=True argument:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image392.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Exceptions that occur inside a user-defined function
default to returning the following error:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image393.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can cause sqlite3 to return more useful errors,
including the traceback from the custom function, by executing the following
before your custom functions are executed:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image394.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251517">1.3.47 Quoting strings for
use in SQL</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>In almost all cases you should pass values to your SQL
queries using the optional parameters argument to db. query(), as described in <i><span
style='color:#355F7C'>Passing parameters</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If that option isnt relevant to your use-case you can to
quote a string for use with SQLite using the db.quote() method, like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image395.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.4pt;margin-left:
-.25pt'><a name="_Toc251518">1.3.48 Reading rows from a file</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.05pt;
margin-left:-.25pt'>The sqlite_utils.utils.rows_from_file() helper function can
read rows (a sequence of dictionaries) from CSV, TSV, JSON or newline-delimited
JSON files. sqlite_utils.utils.rows_from_file(<i>fp</i>, <i>format=None</i>, <i>dialect=None</i>,
<i>encoding=None</i>, <i>ignore_extras=False</i>, <i>extras_key=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Load a sequence of dictionaries from a file-like object
containing one of four different formats.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=72
src="sqlite-utils%20documentation_files/image396.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continues on next page)</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=40
src="sqlite-utils%20documentation_files/image397.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:25.4pt'>This defaults to attempting to automatically detect the
format of the data, or you can pass in an explicit format using the format=
option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:25.4pt'>Returns a tuple of (rows_generator, format_used) where rows_generator
can be iterated over to return dictionaries, while format_used is a value from
the sqlite_utils.utils.Format enum:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89
src="sqlite-utils%20documentation_files/image398.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:25.4pt'>If a CSV or TSV file includes rows with more fields than
are declared in the header a sqlite_utils.utils. RowError exception will be
raised when you loop over the generator.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:25.4pt'>You can instead ignore the extra data by passing ignore_extras=True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:25.4pt'>Or pass extras_key=&quot;rest&quot; to put those additional
values in a list in a key called rest.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.15pt;margin-left:47.3pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fp (<i>BinaryIO</i>)
 a file-like object containing binary data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>format (<i>Format |
None</i>)  the format to use - omit this to detect the format</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dialect (<i>Type[Dialect]
| None</i>)  the CSV dialect to use - omit this to detect the dialect</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>encoding (<i>str |
None</i>)  the character encoding to use when reading CSV/TSV data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore_extras (<i>bool
| None</i>)  ignore any extra fields on rows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extras_key (<i>str |
None</i>)  put any extra fields in a list with this key</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.3pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.85pt;margin-left:65.95pt;text-align:left;line-height:107%'><i>Tuple</i>[<i>Iterable</i>[dict],
<i>Format</i>]</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251519">1.3.49 Setting the maximum
CSV field size limit</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Sometimes when working with CSV files that include
extremely long fields you may see an error that looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image399.gif"></span></p>

<p class=MsoNormal align=left style='margin-left:-.75pt;text-align:left;
text-indent:0in'>The Python standard library csv module enforces a field size
limit. You can increase that limit using the csv.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:-.25pt'>field_size_limit(new_limit) method (<a
href="https://docs.python.org/3/library/csv.html#csv.field_size_limit"><span
style='color:#377063;text-decoration:none'>documented here</span></a><a
href="https://docs.python.org/3/library/csv.html#csv.field_size_limit"><span
style='color:black;text-decoration:none'>)</span></a> but if you dont want to
pick a new level you may instead want to increase it to the maximum possible.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:-.25pt'>The maximum possible value for this is not documented, and
varies between systems.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Calling sqlite_utils.utils.maximize_csv_field_size_limit() will
set the value to the highest possible for the current system:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image400.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If you need to reset to the original value after calling
this function you can do so like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image401.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251520">1.3.50 Detecting column
types using TypeTracker</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:125%'>Sometimes you may find yourself working
with data that lacks type information - data from a CSV file for example. The TypeTracker
class can be used to try to automatically identify the most likely types for
data that is initially represented as strings.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=147
src="sqlite-utils%20documentation_files/image402.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>If we insert this data directly into a table we will get a
schema that is entirely TEXT columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=168
src="sqlite-utils%20documentation_files/image403.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>We can detect the best column types using a TypeTracker instance:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image404.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>We can then apply those types to our new table using the <i><span
style='color:#355F7C'>table.transform() </span></i>method:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image405.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251521">1.3.51 SpatiaLite helpers</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.4pt;
margin-left:-.25pt'><a href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><span
style='color:#377063'> </span>is a geographic extension to SQLite (similar to
PostgreSQL + PostGIS). Using requires finding, loading and initializing the
extension, adding geometry columns to existing tables and optionally creating
spatial indexes. The utilities here help streamline that setup.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:14.5pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Initialize SpatiaLite</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.5pt;margin-left:.5pt;text-align:left;line-height:107%'>Database.init_spatialite(<i>path=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt;line-height:130%'>The init_spatialite method will load and
initialize the SpatiaLite extension. The path argument should be an absolute
path to the compiled extension, which can be found using find_spatialite.
Returns True if SpatiaLite was successfully initialized.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89
src="sqlite-utils%20documentation_files/image406.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>If youve installed SpatiaLite somewhere unexpected (for
testing an alternate version, for example) you can pass in an absolute path:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:.65pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=123
src="sqlite-utils%20documentation_files/image407.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:65.95pt'>path (<i>str | None</i>)  Path to SpatiaLite module on
disk</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.3pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.2pt;
margin-left:65.95pt'>bool</p>

<p class=MsoNormal style='margin-right:193.4pt;line-height:202%'><b><span
style='color:#20435C'>Finding SpatiaLite </span></b>sqlite_utils.utils.find_spatialite()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:25.4pt'>The find_spatialite() function searches for the <a
href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><span
style='color:#377063'> </span>SQLite extension in some common places. It
returns a string path to the location, or None if SpatiaLite was not found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>You can use it in code like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=601 height=162
src="sqlite-utils%20documentation_files/image408.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.1pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=40
src="sqlite-utils%20documentation_files/image409.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.3pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.2pt;
margin-left:65.95pt'>str | None</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:13.0pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Adding geometry columns</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.25pt;margin-left:135.3pt;text-align:left;text-indent:-136.05pt;
line-height:107%'>Table.add_geometry_column(<i>column_name</i>, <i>geometry_type</i>,
<i>srid=4326</i>, <i>coord_dimension='XY'</i>, <i>not_null=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:25.4pt'>In SpatiaLite, a geometry column can only be added to an
existing table. To do so, use table. add_geometry_column, passing in a geometry
type.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:25.4pt'>By default, this will add a nullable column using <a
href="https://spatialreference.org/ref/epsg/wgs-84/"><span style='color:#377063;
text-decoration:none'>SRID 4326</span></a><a
href="https://spatialreference.org/ref/epsg/wgs-84/"><span style='color:black;
text-decoration:none'>.</span></a> This can be customized using the column_name,
srid and not_null arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Returns True if the column was successfully added, False if
not.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.8pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=187
src="sqlite-utils%20documentation_files/image410.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_name (<i>str</i>)
 Name of column to add</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>geometry_type (<i>str</i>)
 Type of geometry column, for example &quot;GEOMETRY&quot; or &quot;POINT&quot;
or ``&quot;POLYGON&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>srid (<i>int</i>) 
Integer SRID, defaults to 4326 for WGS84</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>coord_dimension (<i>str</i>)
 Dimensions to use, defaults to &quot;XY&quot; - set to &quot;XYZ&quot; to
work in three dimensions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>bool</i>)
 Should the column be NOT NULL</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:352.6pt;
margin-bottom:13.4pt;margin-left:65.45pt;text-align:left;text-indent:-18.65pt'><b>Return
type </b>bool <b><span style='color:#20435C'>Creating a spatial index</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.5pt;margin-left:.5pt;text-align:left;line-height:107%'>Table.create_spatial_index(<i>column_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:25.4pt'>A spatial index allows for significantly faster bounding
box queries. To create one, use create_spatial_index with the name of an
existing geometry column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Returns True if the index was successfully created, False if
not. Calling this function if an index already exists is a no-op.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.1pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=601 height=200
src="sqlite-utils%20documentation_files/image411.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:128.3pt;margin-bottom:
5.6pt;margin-left:65.45pt;text-indent:-18.65pt'><b>Parameters </b>column_name 
Geometry column to create the spatial index against</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.3pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:27.55pt;
margin-left:65.95pt'>bool</p>

<h2 style='margin-left:-.25pt'><a name="_Toc251522">1.4 Plugins</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:-.25pt'>sqlite-utils supports plugins, which can be used to add
extra features to the software.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:104.3pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:163%'>Plugins can add new commands, for
example sqlite-utils some-command ... Plugins can be installed using the sqlite-utils
install command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image412.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>You can see a JSON list of plugins that have been installed
by running this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.75pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image413.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Plugin hooks such as <i><span style='color:#355F7C'>prepare_connection(conn)
</span></i>affect each instance of the Database class. You can opt-out of these
plugins by creating that class instance like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image414.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection7>

<h5 style='margin-left:-.25pt'><a name="_Toc251523">1.4.1 Building a plugin</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Plugins are created in a directory named after the plugin.
To create a hello world plugin, first create a hello-world directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image415.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>In that folder create two files. The first is a pyproject.toml
file describing the plugin:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.45pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image416.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:-.25pt'>The [project.entry-points.sqlite_utils] section tells sqlite-utils
which module to load when executing the plugin.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Then create sqlite_utils_hello_world.py with the following
content:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=153
src="sqlite-utils%20documentation_files/image417.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:-.25pt'>Install the plugin in editable mode - so you can make
changes to the code and have them picked up instantly by sqlite-utils - like
this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image418.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Or pass the path to your plugin directory:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image419.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Now, running this should execute your new command:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.7pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image420.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:151.25pt;margin-bottom:
112.35pt;margin-left:-.25pt;line-height:150%'>Your command will also be listed
in the output of sqlite-utils --help. See the <a
href="https://llm.datasette.io/en/stable/plugins/tutorial-model-plugin.html#distributing-your-plugin"><span
style='color:#377063;text-decoration:none'>LLM plugin documentation</span></a><span
style='color:#377063'> </span>for tips on distributing your plugin.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.4.
Plugins</b></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251524">1.4.2 Plugin hooks</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:141.4pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:264%'>Plugin hooks allow sqlite-utils to
be customized. <b><span style='color:#20435C'>register_commands(cli)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This hook can be used to register additional commands with
the sqlite-utils CLI. It is called with the cli object, which is a click.Group instance.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=179
src="sqlite-utils%20documentation_files/image421.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:-.25pt'>New commands implemented by plugins can invoke existing
commands using the <a
href="https://click.palletsprojects.com/en/stable/api/#click.Context.invoke"><span
style='color:#377063;text-decoration:none'>context.invoke</span></a><span
style='color:#377063'> </span>mechanism.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>As a special niche feature, if your plugin needs to import
some files and then act against an in-memory database containing those files
you can forward to the <i><span style='color:#355F7C'>sqlite-utils memory
command </span></i>and pass it return_db=True:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:24.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=216
src="sqlite-utils%20documentation_files/image422.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>prepare_connection(conn)</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This hook is called when a new SQLite database connection
is created. You can use it to <a
href="https://docs.python.org/2/library/sqlite3.html#sqlite3.Connection.create_function"><span
style='color:#377063;text-decoration:none'>register custom SQL functions</span></a><a
href="https://docs.python.org/2/library/sqlite3.html#sqlite3.Connection.create_function"><span
style='color:black;text-decoration:none'>, </span></a>aggregates and
collations. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=121
src="sqlite-utils%20documentation_files/image423.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This registers a SQL function called hello which takes a
single argument and can be called like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image424.gif"></span></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:5.75pt;margin-left:
-.25pt'><a name="_Toc251525">1.5 API reference</a></h2>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-4.0pt;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=629 height=334
src="sqlite-utils%20documentation_files/image425.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.95pt;margin-left:
-.25pt'><a name="_Toc251526">1.5.1 sqlite_utils.db.Database</a></h5>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>class sqlite_utils.db.Database(<i>filename_or_conn=None</i>, <i>memory=False</i>,
<i>memory_name=None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:56.05pt;
margin-bottom:.2pt;margin-left:24.9pt;text-align:left;text-indent:137.25pt;
line-height:105%'><i>recreate=False</i>, <i>recursive_triggers=True</i>, <i>tracer=None</i>,
<i>use_counts_table=False</i>, <i>execute_plugins=True</i>, <i>strict=False</i><sub><span
style='font-size:15.5pt;line-height:105%'>) </span></sub>Wrapper for a SQLite
database connection that adds a variety of useful utility methods. To create an
instance:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.1pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=73
src="sqlite-utils%20documentation_files/image426.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.75pt;margin-left:47.3pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>filename_or_conn (<i>str
| Path | Connection | None</i>)  String path to a file, or a pathlib.Path object,
or a sqlite3 connection</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>memory (<i>bool</i>)
 set to True to create an in-memory database</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>memory_name (<i>str |
None</i>)  creates a named in-memory database that can be shared across
multiple connections</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>recreate (<i>bool</i>)
 set to True to delete and recreate a file database (<b>dangerous</b>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>recursive_triggers (<i>bool</i>)
 defaults to True, which sets PRAGMA recursive_triggers=on; - set to False to
avoid setting this pragma</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>tracer (<i>Callable |
None</i>)  set a tracer function (print works for this) which will be called
with sql, parameters every time a SQL query is executed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>use_counts_table (<i>bool</i>)
 set to True to use a cached counts table, if available. See <i><span
style='color:#355F7C'>Cached table counts using triggers</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.65pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool</i>)
 Apply STRICT mode to all created tables (unless overridden)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:11.95pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>execute_plugins
(<i>bool</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>close()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:47.3pt'>Close the SQLite connection, and the underlying database
file</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>ensure_autocommit_off()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:169.45pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:147%'>Ensure autocommit is off for this
database connection. Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=41
src="sqlite-utils%20documentation_files/image427.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:47.3pt'>This will reset to the previous autocommit state at the end
of the block.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.25pt;margin-left:25.4pt;text-align:left;line-height:107%'>tracer(<i>tracer=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:47.3pt'>Context manager to temporarily set a tracer function - all
executed SQL queries will be passed to this.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:97.95pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:149%'>The tracer function should accept
two arguments: sql and parameters Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=41
src="sqlite-utils%20documentation_files/image428.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.3pt;line-height:110%'>See <i><span style='color:#355F7C'>Tracing
queries</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:48.5pt;margin-bottom:
7.9pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>tracer (<i>Callable
| None</i>)  Callable accepting sql and parameters arguments</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:4.8pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:105%'>__getitem__(<i>table_name</i>) db[table_name] returns a <i><span
style='color:#355F7C'>Table </span></i>object for the table with the specified
name. If the table does not exist yet it will be created the first time data is
inserted into it.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:211.25pt;margin-bottom:
5.7pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>table_name (<i>str</i>)
 The name of the table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.9pt;margin-left:82.15pt;text-align:left;line-height:107%'><span
style='color:#355F7C'>Table </span>| <span style='color:#355F7C'>View</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:.65in;text-indent:-21.9pt'>register_function<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>fn=None</i>, <i>deterministic=False</i>,
<i>replace=False</i>, <i>name=None</i>) fn will be made available as a function
within SQL, with the same name and number of arguments. Can be used as a
decorator:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=57
src="sqlite-utils%20documentation_files/image429.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>The decorator can take arguments:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=57
src="sqlite-utils%20documentation_files/image430.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.3pt;line-height:110%'>See <i><span style='color:#355F7C'>Registering
custom SQL functions</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.1pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fn (<i>Callable |
None</i>)  Function to register</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>deterministic (<i>bool</i>)
 set True for functions that always returns the same output for a given input</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 set True to replace an existing function with the same name - otherwise throw
an error</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>str | None</i>)
 name of the SQLite function - if not specified, the Python function name will
be used</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.95pt;margin-left:24.65pt;text-align:left;line-height:107%'>register_fts4_bm25()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:21.9pt;line-height:163%'>Register the rank_bm25(match_info)
function used for calculating relevance with SQLite FTS4. attach(<i>alias</i>, <i>filepath</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>Attach another SQLite database file to this connection with
the specified alias, equivalent to:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:17.1pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=25
src="sqlite-utils%20documentation_files/image431.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alias (<i>str</i>) 
Alias name to use</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:12.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>filepath (<i>str |
Path</i>)  Path to SQLite database file on disk</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.45pt;margin-left:25.4pt;text-align:left;line-height:107%'>query(<i>sql</i>,
<i>params=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:47.3pt'>Execute sql and return an iterable of dictionaries
representing each row.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.1pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.45pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:140%'><span
style='line-height:140%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sql
(<i>str</i>)  SQL query to execute  params (<i>Iterable | dict | None</i>) 
Parameters to use in that query - an iterable for where id = ? parameters, or a
dictionary for where id = :id</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:82.9pt'><i>Generator</i>[dict, None, None]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.05in;margin-left:25.4pt;text-align:left;line-height:107%'>execute(<i>sql</i>,
<i>parameters=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.35pt'>Execute SQL query and return a sqlite3.Cursor.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.1pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sql (<i>str</i>) 
SQL query to execute</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>parameters (<i>Iterable
| dict | None</i>)  Parameters to use in that query - an iterable for where id
= ? parameters, or a dictionary for where id = :id</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-left:82.9pt;text-align:left;
line-height:107%'><i>Cursor</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.1pt;margin-left:24.65pt;text-align:left;line-height:107%'>executescript(<i>sql</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:47.3pt'>Execute multiple SQL statements separated by ; and return
the sqlite3.Cursor.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:273.4pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>sql (<i>str</i>)
 SQL to execute</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.6pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><i>Cursor</i></p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>table<sub><span style='font-size:15.5pt;line-height:107%'>(</span></sub><i>table_name</i>,
<i>**kwargs</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:149.45pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:147%'>Return a table object, optionally
configured with default options. See <i><span style='color:#355F7C'>sqlite_utils.db.Table
</span></i>for option details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:227.3pt;margin-bottom:
5.7pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>table_name (<i>str</i>)
 Name of the table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.15pt;margin-left:82.15pt;text-align:left;line-height:107%'><span
style='color:#355F7C'>Table </span>| <span style='color:#355F7C'>View</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.95pt;margin-left:25.4pt;text-align:left;line-height:107%'>quote(<i>value</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.35pt'>Apply SQLite string quoting to a value, including wrapping
it in single quotes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:265.15pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>value (<i>str</i>)
 String to quote</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:8.1pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>str</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.1pt;margin-left:24.65pt;text-align:left;line-height:107%'>quote_fts(<i>query</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.35pt'>Escape special characters in a SQLite full-text search
query.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.85pt;
margin-left:47.35pt;line-height:124%'>This works by surrounding each token
within the query with double quotes, in order to avoid words like NOT and OR having
special meaning as defined by the FTS query syntax here: <a
href="https://www.sqlite.org/fts5.html#full_text_query_syntax"><span
style='color:#377063;text-decoration:none'>https://www.sqlite.org/fts5.html#full_text_query_syntax</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:47.35pt'>If the query has unbalanced &quot; characters, adds one at
end.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:260.65pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>query (<i>str</i>)
 String to escape</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:8.55pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>str</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:8.2pt;margin-left:24.65pt;text-align:left;line-height:107%'>quote_default_value(<i>value</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:334.25pt;
margin-bottom:4.2pt;margin-left:65.2pt;text-align:left;line-height:125%'><b>Parameters
</b>value (<i>str</i>) <b>Return type </b>str</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:1.85pt;margin-left:25.4pt;text-align:left;line-height:107%'>table_names(<i>fts4=False</i>,
<i>fts5=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.35pt'>List of string table names in this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.9pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fts4 (<i>bool</i>) 
Only return tables that are part of FTS4 indexes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fts5 (<i>bool</i>) 
Only return tables that are part of FTS5 indexes</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:82.9pt'><i>List</i>[str]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>view_names()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>List of string view names in this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:82.9pt'><i>List</i>[str]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
tables: List[<i><span style='color:#355F7C'>Table</span></i>]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>List of Table objects in this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
views: List[<i><span style='color:#355F7C'>View</span></i>]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>List of View objects in this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.3pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
triggers: List[Trigger]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.3pt'>List of (name, table_name, sql) tuples representing
triggers in this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.4pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
triggers_dict: Dict[str, str]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:111.75pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:21.9pt;line-height:151%'>A {trigger_name:
sql} dictionary of triggers in this database. property schema: str</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:258.4pt;
margin-bottom:.25pt;margin-left:24.15pt;text-align:left;text-indent:21.9pt;
line-height:147%'>SQL schema for this database. property supports_strict: bool</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Does this database support STRICT mode?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.55pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
sqlite_version: Tuple[int, ...]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:154.35pt;
margin-bottom:.2pt;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:142%'>Version of SQLite, as a tuple of integers for example (3<sub><span
style='font-size:15.5pt;line-height:142%'>, 36, 0)</span></sub>. property
journal_mode: str Current journal_mode of this database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.6pt;margin-left:47.3pt;text-align:left;line-height:110%'><a
href="https://www.sqlite.org/pragma.html#pragma_journal_mode"><span
style='color:#377063;text-decoration:none'>https://www.sqlite.org/pragma.html#pragma_journal_mode</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.15pt;margin-left:24.65pt;text-align:left;line-height:107%'>enable_wal()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.3pt'>Sets journal_mode to 'wal' to enable Write-Ahead Log mode.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.2pt;margin-left:24.65pt;text-align:left;line-height:107%'>disable_wal()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.3pt'>Sets journal_mode back to 'delete' to disable Write-Ahead
Log mode.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.0pt;margin-left:24.65pt;text-align:left;line-height:107%'>enable_counts()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:47.3pt'>Enable trigger-based count caching for every table in the
database, see <i><span style='color:#355F7C'>Cached table counts using triggers</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.75pt;margin-left:24.65pt;text-align:left;line-height:107%'>cached_counts(<i>tables=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:47.3pt'>Return {table_name: count} dictionary of cached counts for
specified tables, or all tables if tables not provided.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:70.8pt;margin-bottom:
5.7pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>tables (<i>Iterable[str]
| None</i>)  Subset list of tables to return counts for.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:82.9pt'><i>Dict</i>[str, int]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>reset_counts()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:47.3pt'>Re-calculate cached counts for tables.</p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>create_table_sql<sub><span style='font-size:15.5pt;
line-height:107%'>(</span></sub><i>name</i>, <i>columns</i>, <i>pk=None</i>, <i>foreign_keys=None</i>,
<i>column_order=None</i>, <i>not_null=None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.9pt;margin-left:114.3pt;text-align:left;line-height:107%'><i>defaults=None</i>,
<i>hash_id=None</i>, <i>hash_id_columns=None</i>, <i>extracts=None</i>, <i>if_not_exists=False</i>,
<i>strict=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Returns the SQL CREATE TABLE statement for creating the
specified table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>str</i>) 
Name of table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Dict[str,
Any]</i>)  Dictionary mapping column names to their types, for ex-</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:92.85pt;line-height:107%'>ample {&quot;name&quot;: str,
&quot;age&quot;: int}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 String name of column to use as a primary key, or a tuple of strings for a
compound primary key covering multiple columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.5pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys (<i>Iterable[str
| ForeignKey | Tuple[str, str] | Tuple[str, str, str] | Tuple[str, str, str,
str]] | List[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str,</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:92.85pt'><i>str, str, str]] | None</i>)  List of foreign key
definitions for this table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List specifying which columns should come first</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  List of columns that should be created as NOT NULL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Dictionary specifying default values for
columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id (<i>str |
None</i>)  Name of column to be used as a primary key containing a hash of the
other columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id_columns (<i>Iterable[str]
| None</i>)  List of columns to be used when calculating the hash ID for a row</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts (<i>Dict[str,
str] | List[str] | None</i>)  List or dictionary of columns to be extracted
during inserts, see <i><span style='color:#355F7C'>Populating lookup tables
automatically during insert/upsert</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if_not_exists
(<i>bool</i>)  Use CREATE TABLE IF NOT EXISTS</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool</i>)
 Apply STRICT mode to table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.1pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>str</p>

<p class=MsoNormal align=left style='margin-left:92.9pt;text-align:left;
text-indent:-68.0pt;line-height:107%'>create_table<sub><span style='font-size:
15.5pt;line-height:107%'>(</span></sub><i>name</i>, <i>columns</i>, <i>pk=None</i>,
<i>foreign_keys=None</i>, <i>column_order=None</i>, <i>not_null=None</i>, <i>defaults=None</i>,
<i>hash_id=None</i>, <i>hash_id_columns=None</i>, <i>extracts=None</i>, <i>if_not_exists=False</i>,
<i>replace=False</i>, <i>ignore=False</i>, <i>transform=False</i>, <i>strict=False</i><sub><span
style='font-size:15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:39.7pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:150%'>Create a table with the specified
name and the specified {column_name: type} columns. See <i><span
style='color:#355F7C'>Explicitly creating a table</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>str</i>) 
Name of table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Dict[str,
Any]</i>)  Dictionary mapping column names to their types, for ex-</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:92.85pt;line-height:107%'>ample {&quot;name&quot;: str,
&quot;age&quot;: int}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 String name of column to use as a primary key, or a tuple of strings for a
compound primary key covering multiple columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.5pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys (<i>Iterable[str
| ForeignKey | Tuple[str, str] | Tuple[str, str, str] | Tuple[str, str, str,
str]] | List[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str,</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.85pt'><i>str, str, str]] | None</i>)  List of foreign key
definitions for this table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List specifying which columns should come first</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  List of columns that should be created as NOT</p>

<p class=MsoNormal style='margin-left:92.85pt;line-height:107%'>NULL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Dictionary specifying default values for
columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id (<i>str |
None</i>)  Name of column to be used as a primary key containing a hash of the
other columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id_columns (<i>Iterable[str]
| None</i>)  List of columns to be used when calculating the hash ID for a row</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts (<i>Dict[str,
str] | List[str] | None</i>)  List or dictionary of columns to be extracted
during inserts, see <i><span style='color:#355F7C'>Populating lookup tables
automatically during insert/upsert</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if_not_exists
(<i>bool</i>)  Use CREATE TABLE IF NOT EXISTS</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 Drop and replace table if it already exists</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool</i>)
 Silently do nothing if table already exists</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>transform (<i>bool</i>)
 If table already exists transform it to fit the specified schema</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool</i>)
 Apply STRICT mode to table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.4pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:268.3pt;margin-bottom:
2.35pt;margin-left:.65in;text-indent:-21.9pt;line-height:128%'>rename_table(<i>name</i>,
<i>new_name</i>) Rename a table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.3pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>str</i>) 
Current table name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>new_name (<i>str</i>)
 Name to rename it to</p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>create_view<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>name</i>, <i>sql</i>, <i>ignore=False</i>, <i>replace=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Create a new SQL view with the specified name - sql should
start with SELECT ....</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.35pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name (<i>str</i>) 
Name of the view</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sql (<i>str</i>) 
SQL SELECT query to use for this view.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool</i>)
 Set to True to do nothing if a view with this name already exists</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 Set to True to replace the view if one with this name already exists</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.65pt;margin-left:24.65pt;text-align:left;line-height:107%'>m2m_table_candidates(<i>table</i>,
<i>other_table</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Given two table names returns the name of tables that could
define a many-to-many relationship between those two tables, based on having
foreign keys to both of the provided tables.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table (<i>str</i>) 
Table name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>other_table (<i>str</i>)
 Other table name</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.7pt;
margin-left:82.9pt'><i>List</i>[str]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.55pt;margin-left:24.65pt;text-align:left;line-height:107%'>add_foreign_keys(<i>foreign_keys</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.3pt;line-height:110%'>See <i><span style='color:#355F7C'>Adding
multiple foreign key constraints at once</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
.25pt;margin-left:82.4pt;text-indent:-16.95pt;line-height:129%'><b>Parameters </b>foreign_keys
(<i>Iterable[Tuple[str, str, str, str]]</i>)  A list of (table, column,
other_table, other_column) tuples</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>index_foreign_keys()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:47.3pt'>Create indexes for every foreign key column on every table
in the database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.6pt;margin-left:24.65pt;text-align:left;line-height:107%'>vacuum()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:47.3pt'>Run a SQLite VACUUM against the database.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.85pt;margin-left:25.4pt;text-align:left;line-height:107%'>analyze(<i>name=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:47.3pt'>Run ANALYZE against the entire database or a named table or
index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:133.0pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>name  Run ANALYZE
against this specific named table or index</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>iterdump()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>A sequence of strings representing a SQL dump of the
database</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.75pt;
margin-left:82.9pt'><i>Generator</i>[str, None, None]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.5pt;margin-left:24.65pt;text-align:left;line-height:107%'>init_spatialite(<i>path=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt;line-height:129%'>The init_spatialite method will load and
initialize the SpatiaLite extension. The path argument should be an absolute
path to the compiled extension, which can be found using find_spatialite.
Returns True if SpatiaLite was successfully initialized.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=89
src="sqlite-utils%20documentation_files/image432.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>If youve installed SpatiaLite somewhere unexpected (for
testing an alternate version, for example) you can pass in an absolute path:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:.65pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=123
src="sqlite-utils%20documentation_files/image433.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:82.9pt'>path (<i>str | None</i>)  Path to SpatiaLite module on
disk</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:82.9pt'>bool</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251527">1.5.2
sqlite_utils.db.Queryable</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.6pt;
margin-left:-.25pt'><i><span style='color:#355F7C'>Table </span></i>and <i><span
style='color:#355F7C'>View </span></i>are both subclasses of Queryable,
providing access to the following methods:</p>

<p class=MsoNormal style='margin-bottom:8.85pt;line-height:107%'>class
sqlite_utils.db.Queryable(<i>db</i>, <i>name</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>exists()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Does this table or view exist yet?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:333.95pt;
margin-bottom:3.65pt;margin-left:82.4pt;text-align:left;text-indent:-16.95pt;
line-height:107%'><b>Return type </b>bool count_where(<i>where=None</i>, <i>where_args=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.5pt;
margin-left:47.3pt;line-height:107%'>Executes SELECT count(*) FROM table WHERE
... and returns a count.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 SQL where fragment to use, for example id &gt; ?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  Parameters to use with that fragment - an iterable for id
&gt; ? parameters, or a dictionary for id &gt; :id</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.5pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>int</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
count: int</p>

<p class=MsoNormal style='margin-top:0in;margin-right:217.65pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:21.9pt;line-height:147%'>A count of the
rows in this table or view. property rows: Generator[dict, None, None]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:47.3pt'>Iterate over every dictionaries for each row in this table
or view.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:.45in;
margin-bottom:1.3pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:136%'>rows_where<sub><span style='font-size:15.5pt;line-height:
136%'>(</span></sub><i>where=None</i>, <i>where_args=None</i>, <i>order_by=None</i>,
<i>select='*'</i>, <i>limit=None</i>, <i>offset=None</i>) Iterate over every
row in this table or view that matches the specified where clause. Returns each
row as a dictionary. See <i><span style='color:#355F7C'>Listing rows </span></i>for
more details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 SQL where fragment to use, for example id &gt; ?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  Parameters to use with that fragment - an iterable for id
&gt; ? parameters, or a dictionary for id &gt; :id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>order_by (<i>str |
None</i>)  Column or fragment of SQL to order by</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>select (<i>str</i>) 
Comma-separated list of columns to select - defaults to *</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>limit (<i>int | None</i>)
 Integer number of rows to limit to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>offset (<i>int | None</i>)
 Integer for SQL offset</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:82.9pt'><i>Generator</i>[dict, None, None]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:16.65pt;
margin-bottom:1.6pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:137%'>pks_and_rows_where<sub><span style='font-size:15.5pt;
line-height:137%'>(</span></sub><i>where=None</i>, <i>where_args=None</i>, <i>order_by=None</i>,
<i>limit=None</i>, <i>offset=None</i>) Like .rows_where() but returns (pk, row)
pairs - pk can be a single value or tuple.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 SQL where fragment to use, for example id &gt; ?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  Parameters to use with that fragment - an iterable for id
&gt; ? parameters, or a dictionary for id &gt; :id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>order_by (<i>str |
None</i>)  Column or fragment of SQL to order by</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>select 
Comma-separated list of columns to select - defaults to *</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>limit (<i>int | None</i>)
 Integer number of rows to limit to</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>offset (<i>int | None</i>)
 Integer for SQL offset</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.85pt;margin-left:82.9pt;text-align:left;line-height:107%'><i>Generator</i>[<i>Tuple</i>[<i>Any</i>,
<i>Dict</i>], None, None]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.0pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
columns: List[<i><span style='color:#355F7C'>Column</span></i>]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>List of <i><span style='color:#355F7C'>Columns </span></i>representing
the columns in this table or view.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.4pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
columns_dict: Dict[str, Any]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:23.9pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:21.9pt;line-height:151%'>{column_name:
python-type} dictionary representing columns in this table or view. property
schema: str</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:47.3pt'>SQL schema for this table or view.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.7pt;margin-left:
-.25pt'><a name="_Toc251528">1.5.3 sqlite_utils.db.Table</a></h5>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>class sqlite_utils.db.Table(<i>db</i>, <i>name</i>, <i>pk=None</i>,
<i>foreign_keys=None</i>, <i>column_order=None</i>, <i>not_null=None</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.55pt;margin-left:146.95pt;text-align:left;line-height:107%'><i>defaults=None</i>,
<i>batch_size=100</i>, <i>hash_id=None</i>, <i>hash_id_columns=None</i>, <i>alter=False</i>,
<i>ignore=False</i>, <i>replace=False</i>, <i>extracts=None</i>, <i>conversions=None</i>,
<i>columns=None</i>, <i>strict=False</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:324.85pt;
margin-bottom:.1in;margin-left:24.65pt;text-align:left;line-height:107%'>Bases:
<i><span style='color:#355F7C'>Queryable</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:16.0pt;margin-bottom:
.25pt;margin-left:25.4pt;line-height:163%'>Tables should usually be initialized
using the db.table(table_name) or db[table_name] methods. The following
optional parameters can be passed to db.table(table_name, ...):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.95pt;margin-left:47.3pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.15pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db
(<span style='color:#355F7C'>Database</span>)  Provided by db.table(table_name)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>name
(<i>str</i>)  Provided by db.table(table_name)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.15pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 Name of the primary key column, or tuple of columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:82.35pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys
(<i>Iterable[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str, str, str, str]] | List[str | ForeignKey | Tuple[str, str] |
Tuple[str, str, str] | Tuple[str, str, str, str]] | None</i>)  List of foreign
key definitions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List of column names in the order they should be in the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  List of columns that cannot be null</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Dictionary of column names and default values</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>batch_size (<i>int</i>)
 Integer number of rows to insert at a time</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id (<i>str |
None</i>)  If True, use a hash of the row values as the primary key</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id_columns (<i>Iterable[str]
| None</i>)  List of columns to use for the hash_id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alter (<i>bool</i>) 
If True, automatically alter the table if it doesnt match the schema</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool</i>)
 If True, ignore rows that already exist when inserting</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.75pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 If True, replace rows that already exist when inserting</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts (<i>Dict[str,
str] | List[str] | None</i>)  Dictionary or list of column names to extract
into a separate table on inserts</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>conversions (<i>dict
| None</i>)  Dictionary of column names and conversion functions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Dict[str,
Any] | None</i>)  Dictionary of column names to column types</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool</i>)
 If True, apply STRICT mode to table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.35pt;margin-left:24.65pt;text-align:left;line-height:107%'>last_rowid:
int | None = None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>The rowid of the last inserted, updated or selected row.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>last_pk:
Any | None = None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The primary key of the last inserted, updated or selected
row.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
count: int</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:47.3pt'>Count of the rows in this table - optionally from the table
count cache, if configured.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>exists()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Does this table or view exist yet?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.5pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>bool</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
pks: List[str]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Primary key columns for this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.2pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
use_rowid: bool</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:47.3pt'>Does this table use rowid for its primary key (no other
primary keys are specified)?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.2pt;margin-left:25.4pt;text-align:left;line-height:107%'>get(<i>pk_values</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:47.3pt'>Return row (as dictionary) for the specified primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:47.3pt'>Raises sqlite_utils.db.NotFoundError if a matching row
cannot be found.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.65pt;margin-bottom:
5.3pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>pk_values (<i>list
| tuple | str | int</i>)  A single value, or a tuple of values for tables that
have a compound primary key</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.5pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>dict</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
foreign_keys: List[ForeignKey]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>List of foreign keys defined on this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
virtual_table_using: str | None</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:47.3pt'>Type of virtual table, or None if this is not a virtual
table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
indexes: List[Index]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>List of indexes defined on this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.3pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
xindexes: List[XIndex]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:76.75pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:21.9pt;line-height:148%'>List of indexes
defined on this table using the more detailed XIndex format. property triggers:
List[Trigger]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.35pt'>List of triggers defined on this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.3pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
triggers_dict: Dict[str, str]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.35pt'>{trigger_name: sql} dictionary of triggers defined on this
table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:3.45pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
default_values: Dict[str, Any]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:14.75pt;margin-bottom:
.25pt;margin-left:24.9pt;text-indent:21.9pt;line-height:151%'>{column_name:
default_value} dictionary of default values for columns in this table. property
strict: bool</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:47.35pt'>Is this a STRICT table?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:28.25pt;
margin-bottom:5.05pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:107%'>create<sub><span style='font-size:15.5pt;line-height:107%'>(</span></sub><i>columns</i>,
<i>pk=None</i>, <i>foreign_keys=None</i>, <i>column_order=None</i>, <i>not_null=None</i>,
<i>defaults=None</i>, <i>hash_id=None</i>, <i>hash_id_columns=None</i>, <i>extracts=None</i>,
<i>if_not_exists=False</i>, <i>replace=False</i>, <i>ignore=False</i>, <i>transform=False</i>,
<i>strict=False</i><sub><span style='font-size:15.5pt;line-height:107%'>) </span></sub>Create
a table with the specified columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.35pt;line-height:110%'>See <i><span style='color:#355F7C'>Explicitly
creating a table </span></i>for full details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Dict[str,
Any]</i>)  Dictionary mapping column names to their types, for ex-</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.45pt;
margin-left:92.85pt;line-height:107%'>ample {&quot;name&quot;: str,
&quot;age&quot;: int}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 String name of column to use as a primary key, or a tuple of strings for a
compound primary key covering multiple columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.5pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys (<i>Iterable[str
| ForeignKey | Tuple[str, str] | Tuple[str, str, str] | Tuple[str, str, str,
str]] | List[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str,</i></p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
margin-bottom:5.7pt;margin-left:17.35pt;text-align:center;line-height:107%'><i>str,
str, str]] | None</i>)  List of foreign key definitions for this table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List specifying which columns should come first</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  List of columns that should be created as NOT NULL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Dictionary specifying default values for
columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id (<i>str |
None</i>)  Name of column to be used as a primary key containing a hash of the
other columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id_columns (<i>Iterable[str]
| None</i>)  List of columns to be used when calculating the hash ID for a row</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts (<i>Dict[str,
str] | List[str] | None</i>)  List or dictionary of columns to be extracted
during inserts, see <i><span style='color:#355F7C'>Populating lookup tables
automatically during insert/upsert</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if_not_exists
(<i>bool</i>)  Use CREATE TABLE IF NOT EXISTS</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 Drop and replace table if it already exists</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool</i>)
 Silently do nothing if table already exists</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>transform (<i>bool</i>)
 If table already exists transform it to fit the specified schema</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool</i>)
 Apply STRICT mode to table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.6pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.45pt;margin-left:24.65pt;text-align:left;line-height:107%'>duplicate(<i>new_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.35pt'>Create a duplicate of this table, copying across the
schema and all row data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:218.95pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>new_name (<i>str</i>)
 Name of the new table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.95pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>transform<sub><span style='font-size:15.5pt;line-height:107%'>(</span></sub><i>*</i>,
<i>types=None</i>, <i>rename=None</i>, <i>drop=None</i>, <i>pk=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>not_null=None</i>,</p>

<p class=MsoNormal align=left style='margin-left:77.9pt;text-align:left;
line-height:107%'><i>defaults=None</i>, <i>drop_foreign_keys=None</i>, <i>add_foreign_keys=None</i>,
<i>foreign_keys=None</i>, <i>column_order=None</i>, <i>keep_table=None</i><sub><span
style='font-size:15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:47.3pt'>Apply an advanced alter table, including operations that
are not supported by ALTER TABLE in SQLite itself.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:47.3pt'>See <i><span style='color:#355F7C'>Transforming a table </span></i>for
full details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.15pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>types (<i>dict | None</i>)
 Columns that should have their type changed, for example</p>

<p class=MsoNormal style='margin-left:92.85pt;line-height:107%'>{&quot;weight&quot;:
float}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rename (<i>dict |
None</i>)  Columns to rename, for example {&quot;headline&quot;:
&quot;title&quot;}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop (<i>Iterable |
None</i>)  Columns to drop</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.15pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 New primary key for the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  Columns to set as NOT NULL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Default values for columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.0pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop_foreign_keys (<i>Iterable[str]
| None</i>)  Names of columns that should have their foreign key constraints
removed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add_foreign_keys
(<i>Iterable[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str, str, str, str]] | List[str | ForeignKey | Tuple[str, str] |
Tuple[str, str, str] | Tuple[str, str, str, str]] | None</i>)  List of foreign
keys to add to the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys
(<i>Iterable[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str, str, str, str]] | List[str | ForeignKey | Tuple[str, str] |
Tuple[str, str, str] | Tuple[str, str, str, str]] | None</i>)  List of foreign
keys to set for the table, replacing any existing foreign keys</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List of strings specifying a full or partial column order to use
when creating the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>keep_table (<i>str |
None</i>)  If specified, the existing table will be renamed to this and will
not be dropped</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.2pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:22.35pt;
margin-bottom:5.0pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:107%'>transform_sql<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>*</i>, <i>types=None</i>, <i>rename=None</i>, <i>drop=None</i>,
<i>pk=&lt;sqlite_utils.db.Default object&gt;</i>, <i>not_null=None</i>, <i>defaults=None</i>,
<i>drop_foreign_keys=None</i>, <i>add_foreign_keys=None</i>, <i>foreign_keys=None</i>,
<i>column_order=None</i>, <i>tmp_suffix=None</i>, <i>keep_table=None</i><sub><span
style='font-size:15.5pt;line-height:107%'>) </span></sub>Return a list of SQL
statements that should be executed in order to apply this transformation.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.15pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>types (<i>dict | None</i>)
 Columns that should have their type changed, for example</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.95pt;
margin-left:92.85pt;line-height:107%'>{&quot;weight&quot;: float}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rename (<i>dict |
None</i>)  Columns to rename, for example {&quot;headline&quot;:
&quot;title&quot;}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop (<i>Iterable |
None</i>)  Columns to drop</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.15pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | None</i>)
 New primary key for the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| None</i>)  Columns to set as NOT NULL</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | None</i>)  Default values for columns</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop_foreign_keys (<i>Iterable
| None</i>)  Names of columns that should have their</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.9pt;
margin-left:92.85pt'>foreign key constraints removed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>add_foreign_keys
(<i>Iterable[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str, str, str, str]] | List[str | ForeignKey | Tuple[str, str] |
Tuple[str, str, str] | Tuple[str, str, str, str]] | None</i>)  List of foreign
keys to add to the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.05pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys (<i>Iterable[str
| ForeignKey | Tuple[str, str] | Tuple[str, str, str] | Tuple[str, str, str,
str]] | List[str |</i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:14.9pt;
margin-bottom:9.25pt;margin-left:92.85pt;text-align:left;line-height:107%'><i>ForeignKey
| Tuple[str, str] | Tuple[str, str, str] | Tuple[str,</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:92.85pt'><i>str, str, str]] | None</i>)  List of foreign keys to
set for the table, replacing any existing foreign keys</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| None</i>)  List of strings specifying a full or partial column order to use
when creating the table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>tmp_suffix (<i>str |
None</i>)  Suffix to use for the temporary table name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>keep_table (<i>str |
None</i>)  If specified, the existing table will be renamed to this and will
not be dropped</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:82.9pt'><i>List</i>[str]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:145.5pt;margin-bottom:
2.75pt;margin-left:.65in;text-indent:-21.9pt;line-height:125%'>extract<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>columns</i>, <i>table=None</i>,
<i>fk_column=None</i>, <i>rename=None</i>) Extract specified columns into a
separate table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.3pt;line-height:110%'>See <i><span style='color:#355F7C'>Extracting
columns into a separate table </span></i>for details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.3pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>str |
Iterable[str]</i>)  Single column or list of columns that should be extracted</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table (<i>str | None</i>)
 Name of table in which the new records should be created</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fk_column (<i>str |
None</i>)  Name of the foreign key column to populate in the original table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rename (<i>Dict[str,
str] | None</i>)  Dictionary of columns that should be renamed</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:92.85pt'>when populating the new table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.1pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.0pt;margin-left:92.9pt;text-align:left;text-indent:-68.0pt;
line-height:107%'>create_index<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>columns</i>, <i>index_name=None</i>, <i>unique=False</i>,
<i>if_not_exists=False</i>, <i>find_unique_name=False</i>, <i>analyze=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Create an index on this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.05pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Iterable[str
| DescIndex]</i>)  A single columns or list of columns to index. These can be
strings or, to create an index using the column in descending order, db.DescIndex(column_name)
objects.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>index_name (<i>str |
None</i>)  The name to use for the new index. Defaults to the column names
joined on _.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>unique (<i>bool</i>)
 Should the index be marked as unique, forcing unique values?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>if_not_exists (<i>bool</i>)
 Only create the index if one with that name does not already exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>find_unique_name (<i>bool</i>)
 If index_name is not provided and the automatically derived name already
exists, keep incrementing a suffix number to find an available name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:151%'><span
style='line-height:151%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>analyze
(<i>bool</i>)  Run ANALYZE against this index after creating it. See <i><span
style='color:#355F7C'>Creating indexes</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:64.0pt;
margin-bottom:4.45pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:107%'>add_column<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>col_name</i>, <i>col_type=None</i>, <i>fk=None</i>, <i>fk_col=None</i>,
<i>not_null_default=None</i>) Add a column to this table. See <i><span
style='color:#355F7C'>Adding columns</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>col_name (<i>str</i>)
 Name of the new column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>col_type (<i>Any |
None</i>)  Column type - a Python type such as str or a SQLite type string
such as &quot;BLOB&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:156%'><span
style='line-height:156%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fk
(<i>str | None</i>)  Name of a table that this column should be a foreign key
reference to  fk_col (<i>str | None</i>)  Column in the foreign key table
that this should reference</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null_default (<i>Any
| None</i>)  Set this column to not null and give it this default value</p>

<p class=MsoNormal style='margin-top:0in;margin-right:337.4pt;margin-bottom:
2.6pt;margin-left:.65in;text-indent:-21.9pt;line-height:125%'>drop(<i>ignore=False</i>)
Drop this table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:90.6pt;margin-bottom:
8.45pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>ignore (<i>bool</i>)
 Set to True to ignore the error if the table does not exist</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.7pt;margin-left:24.65pt;text-align:left;line-height:107%'>guess_foreign_table(<i>column</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:47.3pt'>For a given column, suggest another table that might be
referenced by this column should it be used as a foreign key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:39.15pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:158%'>For example, a column called tag_id or
tag or tags might suggest a tag table, if one exists. If no candidates can be
found, raises a NoObviousTable exception.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:252.3pt;margin-bottom:
5.65pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>column (<i>str</i>)
 Name of column</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b>str</p>

<p class=MsoNormal style='margin-top:0in;margin-right:79.8pt;margin-bottom:
2.6pt;margin-left:.65in;text-indent:-21.9pt;line-height:125%'>add_foreign_key<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>column</i>, <i>other_table=None</i>,
<i>other_column=None</i>, <i>ignore=False</i>) Alter the schema to mark the
specified column as a foreign key to another table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.05pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column (<i>str</i>) 
The column to mark as a foreign key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>other_table (<i>str |
None</i>)  The table it refers to - if omitted, will be guessed based on the
column name.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>other_column (<i>str
| None</i>)  The column on the other table it - if omitted, will be guessed.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool</i>)
 Set this to True to ignore an existing foreign key - otherwise a AlterError will
be raised.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>enable_counts()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:158.3pt;
margin-bottom:.2pt;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:147%'>Set up triggers to update a cache of the count of rows in
this table. See <i><span style='color:#355F7C'>Cached table counts using
triggers </span></i>for details. property has_counts_triggers: bool</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:44.3pt;
margin-bottom:4.7pt;margin-left:24.9pt;text-align:left;text-indent:21.9pt;
line-height:105%'>Does this table have triggers setup to update cached counts? enable_fts<sub><span
style='font-size:15.5pt;line-height:105%'>(</span></sub><i>columns</i>, <i>fts_version='FTS5'</i>,
<i>create_triggers=False</i>, <i>tokenize=None</i>, <i>replace=False</i>) Enable
SQLite full-text search against the specified columns. See <i><span
style='color:#355F7C'>Full-text search </span></i>for more details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Iterable[str]</i>)
 List of column names to include in the search index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fts_version (<i>str</i>)
 FTS version to use - defaults to FTS5 but you may want FTS4 for older SQLite
versions.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>create_triggers (<i>bool</i>)
 Should triggers be created to keep the search index up-todate? Defaults to False.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>tokenize (<i>str |
None</i>)  Custom SQLite tokenizer to use, for example &quot;porter&quot; to
enable Porter stemming.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool</i>)
 Should any existing FTS index for this table be replaced by the new one?</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.6pt;margin-left:24.65pt;text-align:left;line-height:107%'>populate_fts(<i>columns</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Update the associated SQLite full-text search index with
the latest data from the table for the specified columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:130.45pt;margin-bottom:
5.7pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>columns (<i>Iterable[str]</i>)
 Columns to populate the data for</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.55pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>disable_fts()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Remove any full-text search index and related triggers
configured for this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.55pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.35pt;margin-left:24.65pt;text-align:left;line-height:107%'>rebuild_fts()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:47.3pt'>Run the rebuild operation against the associated full-text
search index table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>detect_fts()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Detect if table has a corresponding FTS virtual table and
return it</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:82.9pt'>str | None</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.4pt;margin-left:24.65pt;text-align:left;line-height:107%'>optimize()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:47.3pt'>Run the optimize operation against the associated full-text
search index table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.05pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.75pt;
margin-left:.65in;text-indent:-21.9pt;line-height:125%'>search_sql<sub><span
style='font-size:15.5pt;line-height:125%'>(</span></sub><i>columns=None</i>, <i>order_by=None</i>,
<i>limit=None</i>, <i>offset=None</i>, <i>where=None</i>, <i>include_rank=False</i>)
 Return SQL string that can be used to execute searches against this table.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:7.25pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>Iterable[str]
| None</i>)  Columns to search against</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>order_by (<i>str |
None</i>)  Column or SQL expression to sort by</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:170%'><span
style='line-height:170%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>limit
(<i>int | None</i>)  SQL limit  offset (<i>int | None</i>)  SQL offset</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 Extra SQL fragment for the WHERE clause</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include_rank (<i>bool</i>)
 Select the search rank column in the final query</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:2.8pt;margin-left:82.4pt;text-align:left;text-indent:-16.95pt;
line-height:107%'><b>Return type </b>str search<sub><span style='font-size:
15.5pt;line-height:107%'>(</span></sub><i>q</i>, <i>order_by=None</i>, <i>columns=None</i>,
<i>limit=None</i>, <i>offset=None</i>, <i>where=None</i>, <i>where_args=None</i>,
<i>include_rank=False</i>, <i>quote=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:47.3pt'>Execute a search against this table using SQLite full-text
search, returning a sequence of dictionaries for each row.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.95pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>q (<i>str</i>) 
Terms to search for</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:162%'><span
style='line-height:162%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>order_by
(<i>str | None</i>)  Defaults to order by rank, or specify a column here.  columns
(<i>Iterable[str] | None</i>)  List of columns to return, defaults to all
columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>limit (<i>int | None</i>)
 Optional integer limit for returned rows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>offset (<i>int | None</i>)
 Optional integer SQL offset.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 Extra SQL fragment for the WHERE clause</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  Arguments to use for :param placeholders in the extra
WHERE clause</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>include_rank (<i>bool</i>)
 Select the search rank column in the final query</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>quote (<i>bool</i>) 
Apply quoting to disable any special characters in the search query</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.25pt;margin-bottom:
1.95pt;margin-left:.65in;text-indent:35.55pt;line-height:147%'><i>Generator</i>[dict,
None, None] See <i><span style='color:#355F7C'>Searching with table.search()</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:25.4pt;text-align:left;line-height:107%'>delete(<i>pk_values</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Delete row matching the specified primary key.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:7.4pt;margin-bottom:5.35pt;
margin-left:82.9pt'>pk_values (<i>list | tuple | str | int | float</i>)  A
single value, or a tuple of values for tables that have a compound primary key</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.5pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>delete_where<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>where=None</i>, <i>where_args=None</i>, <i>analyze=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:90.8pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:147%'>Delete rows matching the specified
where clause, or delete all rows in the table. See <i><span style='color:#355F7C'>Deleting
multiple records</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.7pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 SQL where fragment to use, for example id &gt; ?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  Parameters to use with that fragment - an iterable for id
&gt; ? parameters, or a dictionary for id &gt; :id</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>analyze (<i>bool</i>)
 Set to True to run ANALYZE after the rows have been deleted.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.05pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:166.9pt;
margin-bottom:.25pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:139%'>update<sub><span style='font-size:15.5pt;line-height:139%'>(</span></sub><i>pk_values</i>,
<i>updates=None</i>, <i>alter=False</i>, <i>conversions=None</i>) Execute a SQL
UPDATE against the specified row. See <i><span style='color:#355F7C'>Updating a
specific record</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk_values (<i>list |
tuple | str | int | float</i>)  The primary key of an individual record - can
be a tuple if the table has a compound primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>updates (<i>dict |
None</i>)  A dictionary mapping columns to their updated values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:140%'><span
style='line-height:140%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alter
(<i>bool</i>)  Set to True to add any missing columns.  conversions (<i>dict
| None</i>)  Optional dictionary of SQL functions to apply during the update,
for example {&quot;mycolumn&quot;: &quot;upper(?)&quot;}.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.9pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:66.75pt;text-align:left;
text-indent:-41.85pt;line-height:107%'>convert<sub><span style='font-size:15.5pt;
line-height:107%'>(</span></sub><i>columns</i>, <i>fn</i>, <i>output=None</i>, <i>output_type=None</i>,
<i>drop=False</i>, <i>multi=False</i>, <i>where=None</i>, <i>where_args=None</i>,
<i>show_progress=False</i>, <i>skip_false=True</i><sub><span style='font-size:
15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:47.3pt'>Apply conversion function fn to every value in the
specified columns.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.5pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns (<i>str |
List[str]</i>)  A single column or list of string column names to convert.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fn (<i>Callable</i>)
 A callable that takes a single argument, value, and returns it converted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>output (<i>str | None</i>)
 Optional string column name to write the results to (defaults to the input
column).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>output_type (<i>Any |
None</i>)  If the output column needs to be created, this is the type that
will be used for the new column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>drop (<i>bool</i>) 
Should the original column be dropped once the conversion is complete?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>multi (<i>bool</i>) 
If True the return value of fn(value) will be expected to be a dictionary, and
new columns will be created for each key of that dictionary.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where (<i>str | None</i>)
 SQL fragment to use as a WHERE clause to limit the rows to which the
conversion is applied, for example age &gt; ? or age &gt; :age.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>where_args (<i>Iterable
| dict | None</i>)  List of arguments (if using ?) or a dictionary (if using :age).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>show_progress (<i>bool</i>)
 Should a progress bar be displayed?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>skip_false
(<i>bool</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.35pt;line-height:110%'>See <i><span style='color:#355F7C'>Converting
data in columns</span></i>.</p>

<p class=MsoNormal align=left style='margin-left:61.5pt;text-align:left;
text-indent:-36.6pt;line-height:107%'>insert<sub><span style='font-size:15.5pt;
line-height:107%'>(</span></sub><i>record</i>, <i>pk=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>foreign_keys=&lt;sqlite_utils.db.Default object&gt;</i>, <i>column_order=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>not_null=&lt;sqlite_utils.db.Default object&gt;</i>, <i>defaults=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>hash_id=&lt;sqlite_utils.db.Default object&gt;</i>, <i>hash_id_columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>alter=&lt;sqlite_utils.db.Default object&gt;</i>, <i>ignore=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>replace=&lt;sqlite_utils.db.Default object&gt;</i>, <i>extracts=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>conversions=&lt;sqlite_utils.db.Default object&gt;</i>, <i>columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>strict=&lt;sqlite_utils.db.Default object&gt;</i><sub><span
style='font-size:15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:47.3pt'>Insert a single record into the table. The table will be
created with a schema that matches the inserted record if it does not already
exist, see <i><span style='color:#355F7C'>Creating tables</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>record - required: a
dictionary representing the record to be inserted.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:47.3pt'>The other parameters are optional, and mostly influence how
the new table will be created if that table does not exist yet.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>Each of them defaults to DEFAULT, which indicates that the
default setting for the current Table object (specified in the table
constructor) should be used.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.85pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>record (<i>Dict[str,
Any]</i>)  Dictionary record to be inserted</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk  If creating the
table, which column should be the primary key.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys
 See <i><span style='color:#355F7C'>Specifying foreign keys</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order (<i>List[str]
| Default | None</i>)  List of strings specifying a full or partial column
order to use when creating the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>Iterable[str]
| Default | None</i>)  Set of strings specifying columns that should be NOT
NULL.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults (<i>Dict[str,
Any] | Default | None</i>)  Dictionary specifying default values for specific
columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id (<i>str |
Default | None</i>)  Name of a column to create and use as a primary key,
where the value of thet primary key will be derived as a SHA1 hash of the other
column values in the record. hash_id=&quot;id&quot; is a common column name
used for this.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alter (<i>bool |
Default | None</i>)  Boolean, should any missing columns be added
automatically?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore (<i>bool |
Default | None</i>)  Boolean, if a record already exists with this primary
key, ignore this insert.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.6pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>replace (<i>bool |
Default | None</i>)  Boolean, if a record already exists with this primary
key, replace it with this new record.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts (<i>Dict[str,
str] | List[str] | Default | None</i>)  A list of columns to extract to other
tables, or a dictionary that maps {<sub><span style='font-size:15.5pt;
line-height:103%'>column_name:</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.25pt;
margin-left:92.85pt;line-height:110%'>other_table_name}. See <i><span
style='color:#355F7C'>Populating lookup tables automatically during
insert/upsert</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.75pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:125%'><span
style='line-height:125%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>conversions
(<i>Dict[str, str] | Default | None</i>)  Dictionary specifying SQL conversion
functions to be applied to the data while it is being inserted, for example {&quot;name&quot;:
&quot;upper(?)&quot;}. See <i><span style='color:#355F7C'>Converting column
values using SQL functions</span></i>.  columns (<i>Dict[str, Any] | Default |
None</i>)  Dictionary over-riding the detected types used for the columns, for
example {&quot;age&quot;: int, &quot;weight&quot;: float}.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool |
Default | None</i>)  Boolean, apply STRICT mode if creating the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>hash_id_columns
(<i>Iterable[str] | Default | None</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.0pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>insert_all<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>records</i>, <i>pk=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>foreign_keys=&lt;sqlite_utils.db.Default object&gt;</i>,</p>

<p class=MsoNormal align=left style='margin-left:82.95pt;text-align:left;
line-height:107%'><i>column_order=&lt;sqlite_utils.db.Default object&gt;</i>, <i>not_null=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>defaults=&lt;sqlite_utils.db.Default object&gt;</i>, <i>batch_size=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>hash_id=&lt;sqlite_utils.db.Default object&gt;</i>, <i>hash_id_columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>alter=&lt;sqlite_utils.db.Default object&gt;</i>, <i>ignore=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>replace=&lt;sqlite_utils.db.Default object&gt;</i>, <i>truncate=False</i>,
<i>extracts=&lt;sqlite_utils.db.Default object&gt;</i>, <i>conversions=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>columns=&lt;sqlite_utils.db.Default object&gt;</i>, <i>upsert=False</i>,
<i>analyze=False</i>, <i>strict=&lt;sqlite_utils.db.Default object&gt;</i><sub><span
style='font-size:15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:47.3pt'>Like .insert() but takes a list of records and ensures that
the table that it creates (if table does not exist) has columns for ALL of that
data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:47.3pt'>Use analyze=True to run ANALYZE after the insert has
completed.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15pt;margin-left:82.15pt;text-align:left;line-height:107%'><span
style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:61.5pt;text-align:left;
text-indent:-36.6pt;line-height:107%'>upsert<sub><span style='font-size:15.5pt;
line-height:107%'>(</span></sub><i>record</i>, <i>pk=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>foreign_keys=&lt;sqlite_utils.db.Default object&gt;</i>, <i>column_order=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>not_null=&lt;sqlite_utils.db.Default object&gt;</i>, <i>defaults=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>hash_id=&lt;sqlite_utils.db.Default object&gt;</i>, <i>hash_id_columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>alter=&lt;sqlite_utils.db.Default object&gt;</i>, <i>extracts=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>conversions=&lt;sqlite_utils.db.Default object&gt;</i>, <i>columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>strict=&lt;sqlite_utils.db.Default object&gt;</i><sub><span
style='font-size:15.5pt;line-height:107%'>)</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.95pt;
margin-left:47.3pt;line-height:123%'>Like .insert() but performs an UPSERT,
where records are inserted if they do not exist and updated if they DO exist,
based on matching against their primary key. See <i><span style='color:#355F7C'>Upserting
data</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.0pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-left:25.4pt;text-align:left;
line-height:107%'>upsert_all<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>records</i>, <i>pk=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>foreign_keys=&lt;sqlite_utils.db.Default object&gt;</i>,</p>

<p class=MsoNormal align=left style='margin-left:82.95pt;text-align:left;
line-height:107%'><i>column_order=&lt;sqlite_utils.db.Default object&gt;</i>, <i>not_null=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>defaults=&lt;sqlite_utils.db.Default object&gt;</i>, <i>batch_size=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>hash_id=&lt;sqlite_utils.db.Default object&gt;</i>, <i>hash_id_columns=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>alter=&lt;sqlite_utils.db.Default object&gt;</i>, <i>extracts=&lt;sqlite_utils.db.Default
object&gt;</i>, <i>conversions=&lt;sqlite_utils.db.Default object&gt;</i>, <i>columns=&lt;sqlite_utils.db.Default
object&gt;</i>,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:143.15pt;
margin-bottom:1.3pt;margin-left:.65in;text-align:left;text-indent:35.6pt;
line-height:139%'><i>analyze=False</i>, <i>strict=&lt;sqlite_utils.db.Default
object&gt;</i><sub><span style='font-size:15.5pt;line-height:139%'>) </span></sub>Like
.upsert() but can be applied to a list of records.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:5.85pt;margin-left:81.65pt;text-align:left;text-indent:-16.95pt'><b>Return
type </b><span style='color:#355F7C'>Table</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.1in;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:107%'>lookup<sub><span style='font-size:15.5pt;line-height:107%'>(</span></sub><i>lookup_values</i>,
<i>extra_values=None</i>, <i>pk='id'</i>, <i>foreign_keys=None</i>, <i>column_order=None</i>,
<i>not_null=None</i>, <i>defaults=None</i>, <i>extracts=None</i>, <i>conversions=None</i>,
<i>columns=None</i>, <i>strict=False</i><sub><span style='font-size:15.5pt;
line-height:107%'>) </span></sub>Create or populate a lookup table with the
specified values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:47.3pt'>db[&quot;Species&quot;].lookup({&quot;name&quot;:
&quot;Palm&quot;}) will create a table called Species (if one does not already
exist) with two columns: id and name. It will set up a unique constraint on the
name column to guarantee it will not contain duplicate rows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:47.3pt'>It will then insert a new row with the name set to Palm and
return the new integer primary key value.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:47.3pt'>An optional second argument can be provided with more name:
value pairs to be included only if the record is being created for the first
time. These will be ignored on subsequent lookup calls for records that already
exist.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:151.25pt;margin-bottom:
.25pt;margin-left:47.3pt;line-height:149%'>All other keyword arguments are
passed through to .insert(). See <i><span style='color:#355F7C'>Working with
lookup tables </span></i>for more details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.75pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>lookup_values (<i>Dict[str,
Any]</i>)  Dictionary specifying column names and values to use for the lookup</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extra_values (<i>Dict[str,
Any] | None</i>)  Additional column values to be used only if creating a new
record</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>strict (<i>bool |
None</i>)  Boolean, apply STRICT mode if creating the table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk
(<i>str | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>foreign_keys (<i>Iterable[str
| ForeignKey | Tuple[str, str] | Tuple[str, str, str] | Tuple[str, str, str,
str]] | List[str | ForeignKey | Tuple[str, str] | Tuple[str, str, str] |
Tuple[str, str, str, str]] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_order
(<i>List[str] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null
(<i>Iterable[str] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>defaults
(<i>Dict[str, Any] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extracts
(<i>Dict[str, str] | List[str] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>conversions
(<i>Dict[str, str] | None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>columns
(<i>Dict[str, Any] | None</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:3.1pt;margin-left:46.05pt;text-align:left;text-indent:-21.15pt;
line-height:107%'>m2m<sub><span style='font-size:15.5pt;line-height:107%'>(</span></sub><i>other_table</i>,
<i>record_or_iterable=None</i>, <i>pk=&lt;sqlite_utils.db.Default object&gt;</i>,
<i>lookup=None</i>, <i>m2m_table=None</i>, <i>alter=False</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.95pt;
margin-left:47.3pt'>After inserting a record in a table, create one or more
records in some other table and then create many-tomany records linking the
original record and the newly created records together. For example:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=57
src="sqlite-utils%20documentation_files/image434.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:47.3pt;line-height:110%'>See <i><span style='color:#355F7C'>Working
with many-to-many relationships </span></i>for details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.45pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:9.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>other_table (<i>str |
</i><span style='color:#355F7C'>Table</span>)  The name of the table to insert
the new records into.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.35pt;
margin-left:92.35pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>record_or_iterable (<i>Iterable[Dict[str,
Any]] | Dict[str, Any] |</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:92.85pt'><i>None</i>)  A single dictionary record to insert, or a
list of records.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>pk (<i>Any | Default
| None</i>)  The primary key to use if creating other_table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>lookup (<i>Dict[str,
Any] | None</i>)  Same dictionary as for .lookup(), to create a many-to-many
lookup table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>m2m_table (<i>str |
None</i>)  The string name to use for the many-to-many table, defaults to
creating this automatically based on the names of the two tables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>alter (<i>bool</i>) 
Set to True to add any missing columns on other_table if that table already
exists.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:1.9pt;margin-left:24.65pt;text-align:left;line-height:107%'>analyze()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:47.35pt'>Run ANALYZE against this table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.45pt;margin-left:.65in;text-align:left;text-indent:-21.9pt;
line-height:107%'>analyze_column<sub><span style='font-size:15.5pt;line-height:
107%'>(</span></sub><i>column</i>, <i>common_limit=10</i>, <i>value_truncate=None</i>,
<i>total_rows=None</i>, <i>most_common=True</i>, <i>least_common=True</i>) Return
statistics about the specified column. See <i><span style='color:#355F7C'>Analyzing
a column</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.5pt;margin-left:65.2pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column (<i>str</i>) 
Column to analyze</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>common_limit (<i>int</i>)
 Show this many column values</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>value_truncate 
Truncate display of common values to this many characters</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>total_rows 
Optimization - pass the total number of rows in the table to save running a
fresh count(*) query</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>most_common (<i>bool</i>)
 If True, calculate the most common values</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>least_common (<i>bool</i>)
 If True, calculate the least common values</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.75pt;margin-left:82.15pt;text-align:left;line-height:107%'><span
style='color:#355F7C'>ColumnDetails</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:.65in;text-indent:-21.9pt'>add_geometry_column<sub><span
style='font-size:15.5pt;line-height:103%'>(</span></sub><i>column_name</i>, <i>geometry_type</i>,
<i>srid=4326</i>, <i>coord_dimension='XY'</i>, <i>not_null=False</i>) In
SpatiaLite, a geometry column can only be added to an existing table. To do so,
use table. add_geometry_column, passing in a geometry type.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:47.3pt'>By default, this will add a nullable column using <a
href="https://spatialreference.org/ref/epsg/wgs-84/"><span style='color:#377063;
text-decoration:none'>SRID 4326</span></a><a
href="https://spatialreference.org/ref/epsg/wgs-84/"><span style='color:black;
text-decoration:none'>.</span></a> This can be customized using the column_name,
srid and not_null arguments.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>Returns True if the column was successfully added, False if
not.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.8pt;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=571 height=187
src="sqlite-utils%20documentation_files/image435.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>column_name (<i>str</i>)
 Name of column to add</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>geometry_type (<i>str</i>)
 Type of geometry column, for example &quot;GEOMETRY&quot; or &quot;POINT&quot;
or ``&quot;POLYGON&quot;</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>srid (<i>int</i>) 
Integer SRID, defaults to 4326 for WGS84</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>coord_dimension (<i>str</i>)
 Dimensions to use, defaults to &quot;XY&quot; - set to &quot;XYZ&quot; to
work in three dimensions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:92.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>not_null (<i>bool</i>)
 Should the column be NOT NULL</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:13.7pt;
margin-left:82.9pt'>bool</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.55pt;margin-left:24.65pt;text-align:left;line-height:107%'>create_spatial_index(<i>column_name</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:47.3pt'>A spatial index allows for significantly faster bounding
box queries. To create one, use create_spatial_index with the name of an
existing geometry column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>Returns True if the index was successfully created, False if
not. Calling this function if an index already exists is a no-op.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:43.45pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=572 height=178
src="sqlite-utils%20documentation_files/image436.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.05in;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.5pt;
margin-left:47.3pt'><span style='position:relative;z-index:-1895767040'><span
style='left:0px;position:absolute;left:58px;top:-79449px;width:571px;
height:1px'><img width=571 height=1
src="sqlite-utils%20documentation_files/image437.gif"></span></span><i><span
style='color:#407F8F'># CREATE VIRTUAL TABLE &quot;idx_locations_geometry&quot;
USING rtree(pkid, xmin, xmax,</span></i><span style='color:red'>&#9251;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:18.35pt;
margin-left:49.95pt'><i><span style='font-size:5.0pt;line-height:103%;
font-family:"Cambria",serif;color:red'>,</span></i><sub><span style='font-size:
7.5pt;line-height:103%;font-family:"Cambria",serif;color:red'>&#8594;</span></sub><i><span
style='color:#407F8F'>ymin, ymax)</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:111.35pt;margin-bottom:
5.6pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>column_name 
Geometry column to create the spatial index against</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:82.9pt'>bool</p>

<h5 style='margin-top:0in;margin-right:285.0pt;margin-bottom:0in;margin-left:
-.25pt;line-height:241%'><a name="_Toc251529">1.5.4 sqlite_utils.db.View</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:285.0pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:241%'>class
sqlite_utils.db.View(<i>db</i>, <i>name</i>)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:324.85pt;
margin-bottom:0in;margin-left:24.65pt;text-align:left;line-height:154%'>Bases: <i><span
style='color:#355F7C'>Queryable </span></i>exists()</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:47.3pt'>Does this table or view exist yet?</p>

<p class=MsoNormal style='margin-top:0in;margin-right:337.4pt;margin-bottom:
2.6pt;margin-left:.65in;text-indent:-21.9pt;line-height:125%'>drop(<i>ignore=False</i>)
Drop this view.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:121.35pt;margin-bottom:
7.4pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>ignore  Set
to True to ignore the error if the view does not exist</p>

<p class=MsoNormal style='margin-top:0in;margin-right:198.5pt;margin-bottom:
18.6pt;margin-left:.65in;text-indent:-21.9pt;line-height:136%'>enable_fts(<i>*args</i>,
<i>**kwargs</i>) enable_fts() is supported on tables but not on views.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.5pt;margin-left:
-.25pt'><a name="_Toc251530">1.5.5 Other</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:131.65pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:166%'><b><span
style='color:#20435C'>sqlite_utils.db.Column </span></b>class
sqlite_utils.db.Column(<i>cid</i>, <i>name</i>, <i>type</i>, <i>notnull</i>, <i>default_value</i>,
<i>is_pk</i>) Describes a SQLite column returned by the Table.columns property.
cid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Column index</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>name</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Column name</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>type</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Column type</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>notnull</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:47.3pt'>Does the column have a not null constraint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>default_value</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Default value for this column</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>is_pk</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:47.3pt'>Is this column part of the primary key</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:26.85pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:149%'><b><span
style='color:#20435C'>sqlite_utils.db.ColumnDetails </span></b>class
sqlite_utils.db.ColumnDetails(<i>table</i>, <i>column</i>, <i>total_rows</i>, <i>num_null</i>,
<i>num_blank</i>, <i>num_distinct</i>, <i>most_common</i>, <i>least_common</i>)
Summary information about a column, see <i><span style='color:#355F7C'>Analyzing
a column</span></i>. table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The name of the table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>column</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The name of the column</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>total_rows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The total number of rows in the table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>num_null</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The number of rows for which this column is null</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>num_blank</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The number of rows for which this column is blank (the
empty string)</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>num_distinct</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>The number of distinct values in this column</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>most_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:47.3pt'>The N most common values as a list of (<sub><span
style='font-size:15.5pt;line-height:103%'>value, count) </span></sub>tuples, or
None if the table consists entirely of distinct values</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:.25pt;margin-left:24.65pt;text-align:left;line-height:107%'>least_common</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:47.3pt'>The N least common values as a list of (<sub><span
style='font-size:15.5pt;line-height:103%'>value, count) </span></sub>tuples, or
None if the table is entirely distinct or if the number of distinct values is
less than N (since they will already have been returned in most_common)</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.5pt;margin-left:
-.25pt'><a name="_Toc251531">1.5.6 sqlite_utils.utils</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:57.5pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:177%'><b><span
style='color:#20435C'>sqlite_utils.utils.hash_record </span></b>sqlite_utils.utils.hash_record(<i>record</i>,
<i>keys=None</i>) record should be a Python dictionary. Returns a sha1 hash of
the keys and values in that record.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:158.5pt;margin-bottom:
.25pt;margin-left:25.4pt;line-height:148%'>If keys= is provided, uses just
those keys to generate the hash. Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:6.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=171
src="sqlite-utils%20documentation_files/image438.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>record (<i>Dict</i>)
 Record to generate a hash for</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>keys (<i>Iterable[str]
| None</i>)  Subset of keys to use for that hash</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:4.5pt;
margin-bottom:.25pt;margin-left:-.25pt;text-align:left;line-height:158%'><b><span
style='color:#20435C'>sqlite_utils.utils.rows_from_file </span></b>sqlite_utils.utils.rows_from_file(<i>fp</i>,
<i>format=None</i>, <i>dialect=None</i>, <i>encoding=None</i>, <i>ignore_extras=False</i>,
<i>extras_key=None</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Load a sequence of dictionaries from a file-like object
containing one of four different formats.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=105
src="sqlite-utils%20documentation_files/image439.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:25.4pt'>This defaults to attempting to automatically detect the
format of the data, or you can pass in an explicit format using the format=
option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.6pt;
margin-left:25.4pt'>Returns a tuple of (rows_generator, format_used) where rows_generator
can be iterated over to return dictionaries, while format_used is a value from
the sqlite_utils.utils.Format enum:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.25pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=89
src="sqlite-utils%20documentation_files/image440.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:25.4pt'>If a CSV or TSV file includes rows with more fields than
are declared in the header a sqlite_utils.utils. RowError exception will be
raised when you loop over the generator.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:25.4pt'>You can instead ignore the extra data by passing ignore_extras=True.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:25.4pt'>Or pass extras_key=&quot;rest&quot; to put those additional
values in a list in a key called rest.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.15pt;margin-left:47.3pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>fp (<i>BinaryIO</i>)
 a file-like object containing binary data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>format (<i>Format |
None</i>)  the format to use - omit this to detect the format</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>dialect (<i>Type[Dialect]
| None</i>)  the CSV dialect to use - omit this to detect the dialect</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>encoding (<i>str |
None</i>)  the character encoding to use when reading CSV/TSV data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>ignore_extras (<i>bool
| None</i>)  ignore any extra fields on rows</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>extras_key (<i>str |
None</i>)  put any extra fields in a list with this key</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.3pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.8pt;margin-left:65.95pt;text-align:left;line-height:107%'><i>Tuple</i>[<i>Iterable</i>[dict],
<i>Format</i>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:279.7pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:210%'><b><span
style='color:#20435C'>sqlite_utils.utils.TypeTracker </span></b>class
sqlite_utils.utils.TypeTracker</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:25.4pt'>Wrap an iterator of dictionaries and keep track of which
SQLite column types are the most likely fit for each of their keys.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:25.4pt'>Example usage:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:9.15pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=168
src="sqlite-utils%20documentation_files/image441.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:2.35pt;margin-left:25.4pt;text-align:left;line-height:107%'>wrap(<i>iterator</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:47.3pt'>Use this to loop through an existing iterator, tracking the
column types as part of the iteration.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:171.1pt;margin-bottom:
5.75pt;margin-left:82.4pt;text-indent:-16.95pt'><b>Parameters </b>iterator (<i>Iterable[dict]</i>)
 The iterator to wrap</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:65.2pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.85pt;margin-left:82.9pt;text-align:left;line-height:107%'><i>Iterable</i>[dict]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:111.9pt;
margin-bottom:2.6pt;margin-left:24.65pt;text-align:left;line-height:107%'>property
types: Dict[str, str]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:17.5pt;
margin-left:47.35pt;line-height:125%'>A dictionary mapping column names to
their detected types. This can be passed to the db[table_name].
transform(types=tracker.types) method.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:180.3pt;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:223%'><b><span
style='color:#20435C'>sqlite_utils.utils.chunks </span></b>sqlite_utils.utils.chunks(<i>sequence</i>,
<i>size</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:25.4pt'>Iterate over chunks of the sequence of the given size.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:6.95pt;margin-left:47.35pt;text-align:left'><b>Parameters</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sequence (<i>Iterable</i>)
 Any Python iterator</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:82.35pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>size (<i>int</i>) 
The size of each chunk</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:341.85pt;
margin-bottom:.6pt;margin-left:47.35pt;text-align:left'><b>Return type</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:18.85pt;margin-left:65.95pt;text-align:left;line-height:107%'><i>Iterable</i>[<i>Iterable</i>]</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:15.2pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>sqlite_utils.utils.flatten</span></b></p>

<p class=MsoNormal style='margin-bottom:4.65pt;line-height:107%'>sqlite_utils.utils.flatten(<i>row</i>)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:25.4pt'>Turn a nested dict e.g. {&quot;a&quot;: {&quot;b&quot;: 1}}
into a flat dict: {&quot;a_b&quot;: 1}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:123.8pt;margin-bottom:
5.55pt;margin-left:65.5pt;text-indent:-18.65pt'><b>Parameters </b>row (<i>dict</i>)
 A Python dictionary, optionally with nested dictionaries</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:355.35pt;
margin-bottom:.6pt;margin-left:65.5pt;text-align:left;text-indent:-18.65pt'><b>Return
type </b>dict</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection8>

<h2 style='margin-left:-.25pt'><a name="_Toc251532">1.6 CLI reference</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:21.1pt;
margin-left:-.25pt'>This page lists the --help for every sqlite-utils CLI
sub-command.</p>

<div style='border:solid #86989B 1.0pt;border-bottom:solid #6C6C6C 4.5pt;
padding:0in 0in 0in 0in;background:#F7F7F7;margin-left:23.15pt;margin-right:
0in'>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>query</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>memory</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>insert</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>upsert</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>bulk</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>search</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>transform</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>extract</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>schema</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>insert-files</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>analyze-tables</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>convert</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>tables</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>views</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>rows</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>triggers</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>indexes</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>create-database</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>create-table</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>create-index</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>enable-fts</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>populate-fts</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>rebuild-fts</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>disable-fts</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>tui</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>optimize</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>analyze</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>vacuum</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>dump</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>add-column</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>add-foreign-key</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:5.25pt;margin-left:8.45pt;text-align:left;text-indent:-8.45pt;
line-height:107%;background:#F7F7F7;border:none;padding:0in'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>add-foreign-keys</span></i></p>

</div>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-183.0pt;
margin-bottom:25.15pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=629 height=382
src="sqlite-utils%20documentation_files/image442.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251533">1.6.1 query</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-182.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=411
src="sqlite-utils%20documentation_files/image443.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-182.4pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=248
src="sqlite-utils%20documentation_files/image444.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251534">1.6.2 memory</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-182.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=528
src="sqlite-utils%20documentation_files/image445.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection9>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--flatten Flatten
nested JSON objects, so {&quot;foo&quot;: {&quot;bar&quot;:</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:18.2pt;
margin-bottom:.2pt;margin-left:.5pt;text-align:center;line-height:107%'>1}}
becomes {&quot;foo_bar&quot;: 1}</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--nl Output
newline-delimited JSON</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--arrays Output
rows as arrays instead of objects</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--csv Output
CSV</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--tsv Output
TSV</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--no-headers Omit
CSV headers</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>-t, --table Output
as a formatted table</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:49.55pt;
margin-bottom:1.35pt;margin-left:156.65pt;text-align:left;text-indent:-146.95pt;
line-height:98%'><span style='position:relative;z-index:-1895766016'><span
style='left:0px;position:absolute;left:-5px;top:-85332px;width:633px;
height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image446.gif"></span></span>--fmt TEXT Table
format - one of asciidoc, double_grid, double_outline, fancy_grid,
fancy_outline, github, grid, heavy_grid, heavy_outline, html, jira, latex,
latex_booktabs, latex_longtable, latex_raw, mediawiki, mixed_grid,
mixed_outline, moinmoin, orgtbl, outline, pipe, plain, presto, pretty, psql,
rounded_grid, rounded_outline, rst, simple, simple_grid, simple_outline,
textile, tsv, unsafehtml, youtrack</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--json-cols Detect
JSON cols and output them as JSON, not</p>

<p class=MsoNormal style='margin-left:157.4pt;line-height:107%'>escaped strings</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=635 height=1
  src="sqlite-utils%20documentation_files/image447.gif"></td>
 </tr>
</table>

<br clear=ALL>
<span style='font-size:11.0pt;line-height:107%'> </span>-r, --raw Raw
output, first column of first row</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--raw-lines Raw
output, first column of each row</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>-p, --param
&lt;TEXT TEXT&gt;... Named :parameters for SQL query</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--encoding TEXT Character
encoding for CSV input, defaults to</p>

<p class=MsoNormal style='margin-left:157.4pt;line-height:107%'>utf-8</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>-n, --no-detect-types Treat
all CSV/TSV columns as TEXT</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--schema Show
SQL schema for in-memory database</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--dump Dump
SQL for in-memory database</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--save FILE Save
in-memory database to this file</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>--analyze Analyze
resulting tables and output results --load-extension TEXT Path to
SQLite extension, with optional</p>

<p class=MsoNormal style='margin-left:157.4pt;line-height:107%'>:entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and
exit.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251535">1.6.3 insert</a></h5>

<p class=MsoNormal style='margin-bottom:4.8pt;line-height:110%'>See <i><span
style='color:#355F7C'>Inserting JSON data</span></i>, <i><span
style='color:#355F7C'>Inserting CSV or TSV data</span></i>, <i><span
style='color:#355F7C'>Inserting unstructured data with --lines and --text</span></i>,
<i><span style='color:#355F7C'>Applying conversions while inserting data</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:7.5in;
margin-bottom:0in;margin-left:-1.0in;text-align:left;text-indent:0in;
line-height:107%'>&nbsp;</p>

<table class=TableGrid border=0 cellspacing=0 cellpadding=0 width=633
 style='width:474.5pt;margin-left:-3.25pt;border-collapse:collapse'>
 <tr style='height:628.75pt'>
  <td width=633 valign=top style='width:474.5pt;border-top:none;border-left:
  solid #202020 1.0pt;border-bottom:none;border-right:solid #202020 1.0pt;
  background:#F2F2F2;padding:4.6pt 5.75pt 0in 3.25pt;height:628.75pt'>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:20.9pt;text-align:left;text-indent:-10.45pt;
  line-height:107%'><span style='line-height:107%'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span>Use --lines to write each incoming line to a column called
  &quot;line&quot;</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:11.55pt;margin-left:20.9pt;text-align:left;text-indent:-10.45pt;
  line-height:107%'><span style='line-height:107%'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span>Use --text to write the entire input to a column called
  &quot;text&quot;</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:36.6pt;
  margin-bottom:11.95pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:98%'>You can also use --convert to pass a fragment of Python code
  that will be used to convert each input.</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:47.05pt;
  margin-bottom:11.95pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:98%'>Your Python code will be passed a &quot;row&quot; variable
  representing the imported row, and can return a modified row.</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:41.8pt;
  margin-bottom:13.35pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:98%'>This example uses just the name, latitude and longitude
  columns from a CSV file, converting name to upper case and latitude and
  longitude to floating point numbers:</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:62.75pt;
  margin-bottom:0in;margin-left:41.85pt;text-align:left;text-indent:-10.45pt;
  line-height:104%'>sqlite-utils insert plants.db plants plants.csv --csv
  --convert ' return {</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:52.3pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;name&quot;: row[&quot;name&quot;].upper(),</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:52.3pt;text-align:left;text-indent:0in;
  line-height:107%'>&quot;latitude&quot;: float(row[&quot;latitude&quot;]),</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:209.2pt;
  margin-bottom:11.4pt;margin-left:41.85pt;text-align:left;text-indent:10.45pt;
  line-height:103%'>&quot;longitude&quot;: float(row[&quot;longitude&quot;]),
  }'</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:26.15pt;
  margin-bottom:11.95pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:98%'>If you are using --lines your code will be passed a
  &quot;line&quot; variable, and for --text a &quot;text&quot; variable.</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:10.45pt;
  margin-bottom:13.3pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:98%'>When using --text your function can return an iterator of
  rows to insert. This example inserts one record per word in the input:</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:67.95pt;
  margin-bottom:10.6pt;margin-left:41.85pt;text-align:left;text-indent:-10.45pt;
  line-height:115%'>echo 'A bunch of words' | sqlite-utils insert words.db
  words - \ --text --convert '({&quot;word&quot;: w} for w in text.split())'</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'>Options:</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--pk
  TEXT Columns to use as
  the primary key, e.g. id</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--flatten Flatten
  nested JSON objects, so {&quot;a&quot;: {&quot;b&quot;: 1}}</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:146.45pt;text-align:left;text-indent:0in;
  line-height:107%'>becomes {&quot;a_b&quot;: 1}</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--nl Expect
  newline-delimited JSON</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:209.2pt;
  margin-bottom:0in;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:115%'>-c, --csv Expect CSV input --tsv Expect
  TSV input</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.9pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--empty-null Treat
  empty strings as NULL</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.9pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--lines Treat
  each line as a single value called 'line'</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--text Treat
  input as a single value called 'text'</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--convert
  TEXT Python code to convert each item</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--import
  TEXT Python modules to import</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--delimiter
  TEXT Delimiter to use for CSV files</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--quotechar
  TEXT Quote character to use for CSV/TSV</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--sniff Detect
  delimiter and quote character</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--no-headers CSV
  file has no header row</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--encoding
  TEXT Character encoding for input,
  defaults to utf-8</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--batch-size
  INTEGER Commit every X records</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--stop-after
  INTEGER Stop after X records</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;
  line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--alter Alter
  existing table to add any missing columns</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>--not-null
  TEXT Columns that should be created as
  NOT NULL</p>
  <p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
  margin-bottom:.2pt;margin-left:10.45pt;text-align:left;text-indent:0in;
  line-height:107%'>--default &lt;TEXT TEXT&gt;... Default value that should be
  set for a column</p>
  <p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
  0in;line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-d,
  --detect-types Detect types for columns in
  CSV/TSV data</p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--analyze Run
ANALYZE at the end of this operation</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='position:relative;z-index:-1895763968'><span
style='position:absolute;left:-5px;top:-86978px;width:633px;height:1px'><img
width=633 height=1 src="sqlite-utils%20documentation_files/image448.gif"></span></span><span
style='font-size:11.0pt;line-height:107%'> </span>--load-extension TEXT Path
to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--silent Do
not show progress bar</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--strict Apply
STRICT mode to created table</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--ignore Ignore
records if pk already exists</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--replace Replace
records if pk already exists</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--truncate Truncate
table before inserting records, if table</p>

<p class=MsoNormal style='margin-left:146.95pt;line-height:107%'>already exists</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and
exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251536">1.6.4 upsert</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=624
src="sqlite-utils%20documentation_files/image449.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection10>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--analyze Run
ANALYZE at the end of this operation</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='font-size:11.0pt;line-height:107%'> </span>--load-extension
TEXT Path to SQLite extension, with
optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--silent Do
not show progress bar</p>

<p class=MsoNormal style='margin-top:0in;margin-right:73.25pt;margin-bottom:
29.35pt;margin-left:10.95pt;line-height:107%'><span style='position:relative;
z-index:-1895762944'><span style='left:0px;position:absolute;left:-5px;
top:-87891px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image450.gif"></span></span>--strict Apply
STRICT mode to created table -h, --help Show this message and
exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251537">1.6.5 bulk</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=561
src="sqlite-utils%20documentation_files/image451.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251538">1.6.6 search</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=545
src="sqlite-utils%20documentation_files/image452.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251539">1.6.7 transform</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=210
src="sqlite-utils%20documentation_files/image453.gif"></span></p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--type &lt;TEXT CHOICE&gt;... Change
column type to INTEGER, TEXT, FLOAT or</p>

<p class=MsoNormal align=center style='margin-top:0in;margin-right:36.6pt;
margin-bottom:.2pt;margin-left:.5pt;text-align:center;line-height:107%'>BLOB</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--drop TEXT Drop
this column</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--rename &lt;TEXT TEXT&gt;... Rename
this column to X</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>-o, --column-order TEXT Reorder
columns</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--not-null TEXT Set
this column to NOT NULL</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--not-null-false TEXT Remove
NOT NULL from this column</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--pk TEXT Make
this column the primary key</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--pk-none Remove
primary key (convert to rowid table)</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--default &lt;TEXT TEXT&gt;... Set
default value for this column</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--default-none TEXT Remove
default from this column</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>--add-foreign-key
&lt;TEXT TEXT TEXT&gt;...</p>

<p class=MsoNormal style='margin-left:178.35pt;line-height:107%'><span
style='position:relative;z-index:-1895761920'><span style='left:0px;position:
absolute;left:-5px;top:-89615px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image454.gif"></span></span>Add
a foreign key constraint from a column to another table with another column</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--drop-foreign-key TEXT Drop
foreign key constraint for this column</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--sql Output
SQL without executing it</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--load-extension TEXT Path
to SQLite extension, with optional</p>

<p class=MsoNormal align=center style='margin-bottom:.2pt;text-align:center;
line-height:107%'>:entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=1
  src="sqlite-utils%20documentation_files/image455.gif"></td>
 </tr>
</table>

<br clear=ALL>
<span style='font-size:11.0pt;line-height:107%'> </span>-h, --help Show
this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251540">1.6.8 extract</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:24.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=257
src="sqlite-utils%20documentation_files/image456.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251541">1.6.9 schema</a></h5>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection11>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-68.65pt;
margin-bottom:24.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=72
src="sqlite-utils%20documentation_files/image457.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=1
  src="sqlite-utils%20documentation_files/image455.gif"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_Toc251542">1.6.10 insert-files</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-68.65pt;
margin-bottom:24.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=465
src="sqlite-utils%20documentation_files/image458.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251543">1.6.11 analyze-tables</a></h5>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>-c, --column TEXT Specific
columns to analyze</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--save Save
results to _analyze_tables table</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>--common-limit
INTEGER How many common values</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--no-most Skip most
common values</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--no-least Skip
least common values</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='position:relative;z-index:-1895758848'><span
style='position:absolute;left:-5px;top:-91209px;width:633px;height:1px'><img
width=633 height=1 src="sqlite-utils%20documentation_files/image284.gif"></span></span><span
style='font-size:11.0pt;line-height:107%'> </span>--load-extension TEXT Path
to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251544">1.6.12 convert</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-68.65pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=656
src="sqlite-utils%20documentation_files/image459.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-68.65pt;
margin-bottom:24.65pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=311
src="sqlite-utils%20documentation_files/image460.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251545">1.6.13 tables</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-68.65pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=464
src="sqlite-utils%20documentation_files/image461.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection12>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=88
src="sqlite-utils%20documentation_files/image462.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251546">1.6.14 views</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=513
src="sqlite-utils%20documentation_files/image463.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=633 height=1
  src="sqlite-utils%20documentation_files/image455.gif"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_Toc251547">1.6.15 rows</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=593
src="sqlite-utils%20documentation_files/image464.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251548">1.6.16 triggers</a></h5>

<p class=MsoNormal style='line-height:107%'>Options:</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--nl Output
newline-delimited JSON</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--arrays Output
rows as arrays instead of objects</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--csv Output CSV</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--tsv Output TSV</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--no-headers Omit CSV headers</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>-t, --table Output
as a formatted table</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--fmt TEXT Table
format - one of asciidoc, double_grid,</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:1.35pt;margin-left:130.75pt;text-align:left;text-indent:0in;
line-height:98%'><span style='position:relative;z-index:-1895756800'><span
style='left:0px;position:absolute;left:-5px;top:-94474px;width:633px;
height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image454.gif"></span></span>double_outline,
fancy_grid, fancy_outline, github, grid, heavy_grid, heavy_outline, html, jira,
latex, latex_booktabs, latex_longtable, latex_raw, mediawiki, mixed_grid,
mixed_outline, moinmoin, orgtbl, outline, pipe, plain, presto, pretty, psql,
rounded_grid, rounded_outline, rst, simple, simple_grid, simple_outline,
textile, tsv, unsafehtml, youtrack</p>

<p class=MsoNormal align=left style='margin-left:0in;text-align:left;
text-indent:0in;line-height:107%'><span style='font-size:11.0pt;line-height:
107%'> </span>--json-cols Detect
JSON cols and output them as JSON, not escaped</p>

<p class=MsoNormal style='margin-left:131.25pt;line-height:107%'>strings</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>--load-extension
TEXT Path to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.0pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251549">1.6.17 indexes</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-58.2pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=474
src="sqlite-utils%20documentation_files/image465.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection13>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=24
src="sqlite-utils%20documentation_files/image466.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251550">1.6.18 create-database</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=243
src="sqlite-utils%20documentation_files/image467.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251551">1.6.19 create-table</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=434
src="sqlite-utils%20documentation_files/image468.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251552">1.6.20 create-index</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=338
src="sqlite-utils%20documentation_files/image469.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251553">1.6.21 enable-fts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=306
src="sqlite-utils%20documentation_files/image470.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251554">1.6.22 populate-fts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=184
src="sqlite-utils%20documentation_files/image471.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251555">1.6.23 rebuild-fts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=184
src="sqlite-utils%20documentation_files/image472.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251556">1.6.24 disable-fts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=184
src="sqlite-utils%20documentation_files/image473.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251557">1.6.25 tui</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=131
src="sqlite-utils%20documentation_files/image474.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251558">1.6.26 optimize</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=243
src="sqlite-utils%20documentation_files/image475.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251559">1.6.27 analyze</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=211
src="sqlite-utils%20documentation_files/image476.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251560">1.6.28 vacuum</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=195
src="sqlite-utils%20documentation_files/image477.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=635 height=1
  src="sqlite-utils%20documentation_files/image447.gif"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_Toc251561">1.6.29 dump</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=211
src="sqlite-utils%20documentation_files/image478.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251562">1.6.30 add-column</a></h5>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection14>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.95pt;margin-left:0in;text-align:left;text-indent:0in;line-height:
107%'><span style='position:relative;z-index:-1895754752'><span
style='position:absolute;left:-5px;top:-98969px;width:633px;height:1px'><img
width=633 height=1 src="sqlite-utils%20documentation_files/image479.gif"></span></span><span
style='font-size:11.0pt;line-height:107%'> </span>--load-extension TEXT Path
to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.5pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=91 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=635 height=1
  src="sqlite-utils%20documentation_files/image447.gif"></td>
 </tr>
</table>

<br clear=ALL>
<a name="_Toc251563">1.6.31 add-foreign-key</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=243
src="sqlite-utils%20documentation_files/image480.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251564">1.6.32 add-foreign-keys</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=243
src="sqlite-utils%20documentation_files/image481.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251565">1.6.33 index-foreign-keys</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=104
src="sqlite-utils%20documentation_files/image482.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251566">1.6.34 enable-wal</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=211
src="sqlite-utils%20documentation_files/image483.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251567">1.6.35 disable-wal</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=184
src="sqlite-utils%20documentation_files/image484.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251568">1.6.36 enable-counts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=156
src="sqlite-utils%20documentation_files/image485.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=72
src="sqlite-utils%20documentation_files/image486.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251569">1.6.37 reset-counts</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=184
src="sqlite-utils%20documentation_files/image487.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251570">1.6.38 duplicate</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=163
src="sqlite-utils%20documentation_files/image488.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251571">1.6.39 rename-table</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-63.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=163
src="sqlite-utils%20documentation_files/image489.gif"></span></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection15>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251572">1.6.40 drop-table</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=227
src="sqlite-utils%20documentation_files/image490.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251573">1.6.41 create-view</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=259
src="sqlite-utils%20documentation_files/image491.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251574">1.6.42 drop-view</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=204
src="sqlite-utils%20documentation_files/image492.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.05in;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'><span
style='position:relative;z-index:-1895752704'><span style='left:0px;position:
absolute;left:-5px;top:-102242px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image479.gif"></span></span>--load-extension
TEXT Path to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.5pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251575">1.6.43 install</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=163
src="sqlite-utils%20documentation_files/image493.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251576">1.6.44 uninstall</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=147
src="sqlite-utils%20documentation_files/image494.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251577">1.6.45 add-geometry-column</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-34.1pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=674 height=300
src="sqlite-utils%20documentation_files/image495.gif"></span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=119
src="sqlite-utils%20documentation_files/image496.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251578">1.6.46 create-spatial-index</a></h5>

<p class=MsoNormal style='margin-bottom:7.45pt;line-height:110%'>See <i><span
style='color:#355F7C'>Adding spatial indexes</span></i>.</p>

<p class=MsoNormal style='margin-bottom:10.75pt;line-height:107%'>Usage:
sqlite-utils create-spatial-index [OPTIONS] DB_PATH TABLE COLUMN_NAME</p>

<p class=MsoNormal style='margin-top:0in;margin-right:18.2pt;margin-bottom:
11.0pt;margin-left:10.95pt;line-height:107%'><span style='position:relative;
z-index:-1895751680'><span style='left:0px;position:absolute;left:-5px;
top:-103319px;width:633px;height:1px'><img width=633 height=1
src="sqlite-utils%20documentation_files/image497.gif"></span></span>Create a
spatial index on a SpatiaLite geometry column. The table and geometry column
must already exist before trying to add a spatial index.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:23.4pt;margin-bottom:
11.0pt;margin-left:10.95pt;line-height:107%'>By default, this command will try
to load the SpatiaLite extension from usual paths. To load it from a specific
path, use --load-extension.</p>

<p class=MsoNormal style='line-height:107%'>Options:</p>

<p class=MsoNormal style='margin-left:10.95pt;line-height:107%'>--load-extension
TEXT Path to SQLite extension, with optional :entrypoint</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:29.5pt;margin-left:0in;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'> </span>-h,
--help Show this message and exit.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:-.25pt'><a
name="_Toc251579">1.6.47 plugins</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:28.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=105
src="sqlite-utils%20documentation_files/image498.gif"></span></p>

<h2 style='margin-left:-.25pt'><a name="_Toc251580">1.7 Contributing</a></h2>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>Development of sqlite-utils takes place in the <a
href="https://github.com/simonw/sqlite-utils"><span style='color:#377063;
text-decoration:none'>sqlite-utils GitHub repository</span></a><a
href="https://github.com/simonw/sqlite-utils"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>All improvements to the software should start with an
issue. Read <a
href="https://simonwillison.net/2022/Jan/12/how-i-build-a-feature/"><span
style='color:#377063;text-decoration:none'>How I build a feature</span></a><span
style='color:#377063'> </span>for a detailed description of the recommended
process for building bug fixes or enhancements.</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection16>

<h5 style='margin-left:-.25pt'><a name="_Toc251581">1.7.1 Obtaining the code</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To work on this library locally, first checkout the code.
Then create a new virtual environment:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.5pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image499.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Or if you are using pipenv:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.95pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image500.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:-.25pt'>Within the virtual environment running sqlite-utils should
run your locally editable version of the tool. You can use which sqlite-utils to
confirm that you are running the version that lives in your virtual
environment.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251582">1.7.2 Running the tests</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To install the dependencies and test dependencies:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image501.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run the tests:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image502.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251583">1.7.3 Building the
documentation</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To build the documentation, first install the documentation
dependencies:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.2pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image503.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Then run make livehtml from the docs/ directory to start a
server on port 8000 that will serve the documentation and live-reload any time
you make an edit to a .rst file:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image504.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The <a href="https://github.com/nedbat/cog"><span
style='color:#377063;text-decoration:none'>cog</span></a><span
style='color:#377063'> </span>tool is used to maintain portions of the
documentation. You can run it like so:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image505.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251584">1.7.4 Linting and
formatting</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:-.25pt'>sqlite-utils uses <a href="https://black.readthedocs.io/"><span
style='color:#377063;text-decoration:none'>Black</span></a><span
style='color:#377063'> </span>for code formatting, and <a
href="https://flake8.pycqa.org/"><span style='color:#377063;text-decoration:
none'>flake8</span></a><span style='color:#377063'> </span>and <a
href="https://mypy.readthedocs.io/"><span style='color:#377063;text-decoration:
none'>mypy</span></a><span style='color:#377063'> </span>for linting and type
checking.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Black is installed as part of pip install -e '.[test]' -
you can then format your code by running it in the root of the project:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:8.55pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image506.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:25.75pt;
margin-left:-.25pt'>To install mypy and flake8 run the following:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.7.
Contributing</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image507.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Both commands can then be run in the root of the project
like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image508.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:-.25pt'>All three of these tools are run by our CI mechanism
against every commit and pull request.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251585">1.7.5 Using Just and pipenv</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:77.8pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:147%'>If you install <a
href="https://github.com/casey/just"><span style='color:#377063;text-decoration:
none'>Just</span></a><span style='color:#377063'> </span>and <a
href="https://pipenv.pypa.io/"><span style='color:#377063;text-decoration:none'>pipenv</span></a><span
style='color:#377063'> </span>you can use them to manage your local development
environment. To create a virtual environment and install all development
dependencies, run:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=41
src="sqlite-utils%20documentation_files/image509.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run all of the tests and linters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image510.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run tests, or run a specific test module or test by
name:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image511.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run just the linters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image512.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To apply Black to your code:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image513.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To update documentation using Cog:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image514.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To run the live documentation server (this will run Cog
first):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image515.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>And to list all available commands:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image516.gif"></span></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251586">1.7.6 Release process</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>Releases are performed using tags. When a new release is
published on GitHub, a <a
href="https://github.com/simonw/sqlite-utils/blob/main/.github/workflows/publish.yml"><span
style='color:#377063;text-decoration:none'>GitHub Actions workflow</span></a><span
style='color:#377063'> </span>will perform the following:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:16.45pt;text-indent:16.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Run the unit tests against all supported Python versions. If the
tests pass...</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:16.45pt;text-indent:16.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Build a wheel bundle of the underlying Python source code</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.2pt;
margin-left:16.45pt;text-indent:16.45pt;line-height:152%'><span
style='line-height:152%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Push that new wheel up to PyPI: <a
href="https://pypi.org/project/sqlite-utils/"><span style='color:#377063;
text-decoration:none'>https://pypi.org/project/sqlite-utils/ </span></a>To
deploy new releases you will need to have push access to the GitHub repository.
sqlite-utils follows <a href="https://semver.org/"><span style='color:#377063;
text-decoration:none'>Semantic Versioning</span></a><a
href="https://semver.org/"><span style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.85pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image517.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:-.25pt'>We increment major for backwards-incompatible releases.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:-.25pt'>We increment minor for new features.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:-.25pt'>We increment patch for bugfix releass.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>To release a new version, first create a commit that
updates the version number in setup.py and the <i><span style='color:#355F7C'>the
changelog </span></i>with highlights of the new version. An example <a
href="https://github.com/simonw/sqlite-utils/commit/b491f22d817836829965516983a3f4c3c72c05fc"><span
style='color:#377063;text-decoration:none'>commit can be seen here</span></a><a
href="https://github.com/simonw/sqlite-utils/commit/b491f22d817836829965516983a3f4c3c72c05fc"><span
style='color:black;text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=89
src="sqlite-utils%20documentation_files/image518.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>Referencing the issues that are part of the release in the
commit message ensures the name of the release shows up on those issue pages,
e.g. <a
href="https://github.com/simonw/sqlite-utils/issues/458#ref-commit-b491f22"><span
style='color:#377063;text-decoration:none'>here</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/458#ref-commit-b491f22"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>You can generate the list of issue references for a
specific release by copying and pasting text from the release notes or GitHub
changes-since-last-release view into this <a
href="https://observablehq.com/@simonw/extract-issue-numbers-from-pasted-text"><span
style='color:#377063;text-decoration:none'>Extract issue numbers from pasted
text</span></a><span style='color:#377063'> </span>tool.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:27.75pt;
margin-left:-.25pt'>To create the tag for the release, create <a
href="https://github.com/simonw/sqlite-utils/releases/new"><span
style='color:#377063;text-decoration:none'>a new release</span></a><span
style='color:#377063'> </span>on GitHub matching the new version number. You
can convert the release notes to Markdown by copying and pasting the rendered
HTML into this <a href="https://euangoddard.github.io/clipboard2markdown/"><span
style='color:#377063;text-decoration:none'>Paste to Markdown tool</span></a><a
href="https://euangoddard.github.io/clipboard2markdown/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h2 style='margin-top:0in;margin-right:0in;margin-bottom:14.45pt;margin-left:
-.25pt'><a name="_Toc251587">1.8 Changelog</a></h2>

<h5 style='margin-left:-.25pt'><a name="_Toc251588">1.8.1 3.38 (2024-11-23)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Plugins can now reuse
the implementation of the sqlite-utils memory CLI command with the new return_db=True
parameter. (<a href="https://github.com/simonw/sqlite-utils/issues/643"><span
style='color:#377063;text-decoration:none'>#643</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/643"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.transform() now
recreates indexes after transforming a table. A new sqlite_utils.db.
TransformError exception is raised if these indexes cannot be recreated due to
conflicting changes to the table such as a column rename. Thanks, <a
href="https://github.com/matdmiller"><span style='color:#377063;text-decoration:
none'>Mat Miller</span></a><a href="https://github.com/matdmiller"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/633"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/633"><span
style='color:#377063;text-decoration:none'>#633</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/633"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.search() now
accepts a include_rank=True parameter, causing the resulting rows to have a rank
column showing the calculated relevance score. Thanks, <a
href="https://github.com/liunux4odoo"><span style='color:#377063;text-decoration:
none'>liunux4odoo</span></a><a href="https://github.com/liunux4odoo"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/pull/628"><span style='color:black;
text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/628"><span style='color:#377063;
text-decoration:none'>#628</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/628"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:44.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed an error that
occurred when creating a strict table with at least one floating point column.
These FLOAT columns are now correctly created as REAL as well, but only for
strict tables. (<a href="https://github.com/simonw/sqlite-utils/issues/644"><span
style='color:#377063;text-decoration:none'>#644</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/644"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.15pt;margin-left:
-.25pt'><a name="_Toc251589">1.8.2 3.37 (2024-07-18)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The create-table and insert-files
commands all now accept multiple --pk options for compound primary keys. (<a
href="https://github.com/simonw/sqlite-utils/issues/620"><span
style='color:#377063;text-decoration:none'>#620</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/620"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now tested against
Python 3.13 pre-release. (<a
href="https://github.com/simonw/sqlite-utils/pull/619"><span style='color:#377063;
text-decoration:none'>#619</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/619"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:20.75pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:123%'><span
style='line-height:123%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
a crash that can occur in environments with a broken numpy installation,
producing a module '<sub><span style='font-size:15.5pt;line-height:123%'>numpy</span></sub>'
has no attribute 'int8'. (<a
href="https://github.com/simonw/sqlite-utils/issues/632"><span
style='color:#377063;text-decoration:none'>#632</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/632"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;margin-left:
-.25pt'><a name="_Toc251590">1.8.3 3.36 (2023-12-07)</a></h5>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:7.95pt;margin-left:24.5pt;text-align:left;text-indent:-8.45pt'><span
style='line-height:103%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b>Support for creating tables in </b><a
href="https://www.sqlite.org/stricttables.html"><b><span style='color:#377063;
text-decoration:none'>SQLite STRICT mode</span></b></a><a
href="https://www.sqlite.org/stricttables.html"><b><span style='color:black;
text-decoration:none'>.</span></b></a><b> Thanks, </b><a
href="https://github.com/tkhattra"><b><span style='color:#377063;text-decoration:
none'>Taj Khattra</span></b></a><a href="https://github.com/tkhattra"><b><span
style='color:black;text-decoration:none'>.</span></b></a><b> </b><a
href="https://github.com/simonw/sqlite-utils/issues/344"><b><span
style='color:black;text-decoration:none'>(</span></b></a><a
href="https://github.com/simonw/sqlite-utils/issues/344"><b><span
style='color:#377063;text-decoration:none'>#344</span></b></a><a
href="https://github.com/simonw/sqlite-utils/issues/344"><b><span
style='color:black;text-decoration:none'>)</span></b></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:65.45pt;text-indent:-9.95pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>CLI commands create-table, insert and upsert all now accept a --strict
option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:65.45pt;text-indent:-9.95pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Python methods
that can create a table - table.create() and insert/upsert/insert_all/
upsert_all all now accept an optional strict=True parameter.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.6pt;
margin-left:65.45pt;text-indent:-9.95pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The transform command
and table.transform() method preserve strict mode when transforming a table.</p>

<p class=MsoNormal align=left style='margin-left:24.5pt;text-align:left;
text-indent:-8.45pt;line-height:107%'><span style='line-height:107%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>The sqlite-utils
create-table command now accepts str, int and bytes as aliases for text, integer</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:25.4pt'>and blob respectively. (<a
href="https://github.com/simonw/sqlite-utils/issues/606"><span
style='color:#377063;text-decoration:none'>#606</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/606"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.25pt;margin-left:
-.25pt'><a name="_Toc251591">1.8.4 3.35.2 (2023-11-03)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --load-extension=spatialite
option and <i><span style='color:#355F7C'>find_spatialite() </span></i>utility
function now both work correctly on arm64 Linux. Thanks, <a
href="https://github.com/MikeCoats"><span style='color:#377063;text-decoration:
none'>Mike Coats</span></a><a href="https://github.com/MikeCoats"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/599"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/599"><span
style='color:#377063;text-decoration:none'>#599</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/599"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fix for bug where sqlite-utils
insert could cause your terminal cursor to disappear. Thanks, <a
href="https://github.com/spookylukey"><span style='color:#377063;text-decoration:
none'>Luke Plant</span></a><a href="https://github.com/spookylukey"><span
style='color:black;text-decoration:none'>. </span></a><a
href="https://github.com/simonw/sqlite-utils/issues/433"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/433"><span
style='color:#377063;text-decoration:none'>#433</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/433"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>datetime.timedelta values
are now stored as TEXT columns. Thanks, <a href="https://github.com/nezhar"><span
style='color:#377063;text-decoration:none'>Harald Nezbeda</span></a><a
href="https://github.com/nezhar"><span style='color:black;text-decoration:none'>.</span></a>
<a href="https://github.com/simonw/sqlite-utils/issues/522"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/522"><span
style='color:#377063;text-decoration:none'>#522</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/522"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Test suite is now
also run against Python 3.12.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251592">1.8.5 3.35.1 (2023-09-08)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'> Fixed a bug where <i><span
style='color:#355F7C'>table.transform() </span></i>would sometimes re-assign
the rowid values for a table rather than keeping them consistent across the
operation. (<a href="https://github.com/simonw/sqlite-utils/issues/592"><span
style='color:#377063;text-decoration:none'>#592</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/592"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.2pt;margin-left:
-.25pt'><a name="_Toc251593">1.8.6 3.35 (2023-08-17)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:-.25pt'>Adding foreign keys to a table no longer uses PRAGMA
writable_schema = 1 to directly manipulate the sqlite_master table. This was
resulting in errors in some Python installations where the SQLite library was
compiled in a way that prevented this from working, in particular on macOS.
Foreign keys are now added using the <i><span style='color:#355F7C'>table
transformation </span></i>mechanism instead. (<a
href="https://github.com/simonw/sqlite-utils/issues/577"><span
style='color:#377063;text-decoration:none'>#577</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/577"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.0pt;
margin-left:-.25pt;line-height:123%'>This new mechanism creates a full copy of
the table, so it is likely to be significantly slower for large tables, but
will no longer trigger table sqlite_master may not be modified errors on
platforms that do not support PRAGMA writable_schema = 1.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>A new plugin, <a
href="https://github.com/simonw/sqlite-utils-fast-fks"><span style='color:#377063;
text-decoration:none'>sqlite-utils-fast-fks</span></a><a
href="https://github.com/simonw/sqlite-utils-fast-fks"><span style='color:black;
text-decoration:none'>,</span></a> is now available for developers who still
want to use that faster but riskier implementation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:-.25pt'>Other changes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>table.transform() method </span></i>has two new
parameters: foreign_keys= allows you to replace the foreign key constraints
defined on a table, and add_foreign_keys= lets you specify new foreign keys to
add. These complement the existing drop_foreign_keys= parameter. (<a
href="https://github.com/simonw/sqlite-utils/issues/577"><span
style='color:#377063;text-decoration:none'>#577</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/577"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>sqlite-utils transform </span></i>command has a new --<sub><span
style='font-size:15.5pt;line-height:103%'>add-foreign-key </span></sub>option
which can be called multiple times to add foreign keys to a table that is being
transformed. (<a href="https://github.com/simonw/sqlite-utils/issues/585"><span
style='color:#377063;text-decoration:none'>#585</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/585"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils convert </span></i>now has a --<sub><span
style='font-size:15.5pt;line-height:103%'>pdb </span></sub>option for opening a
debugger on the first encountered error in your conversion script. (<a
href="https://github.com/simonw/sqlite-utils/issues/581"><span
style='color:#377063;text-decoration:none'>#581</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/581"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug where sqlite-utils
install -e '.[test]' option did not work correctly.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251594">1.8.7 3.34 (2023-07-22)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.35pt;
margin-left:-.25pt'>This release introduces a new <i><span style='color:#355F7C'>plugin
system</span></i>. Read more about this in <a
href="https://simonwillison.net/2023/Jul/24/sqlite-utils-plugins/"><span
style='color:#377063;text-decoration:none'>sqlite-utils now supports plugins</span></a><a
href="https://simonwillison.net/2023/Jul/24/sqlite-utils-plugins/"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/567"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/567"><span
style='color:#377063;text-decoration:none'>#567</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/567"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation
describing <i><span style='color:#355F7C'>how to build a plugin</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Plugin hook: <i><span
style='color:#355F7C'>register_commands(cli)</span></i>, for plugins to add
extra commands to sqlite-utils. (<a
href="https://github.com/simonw/sqlite-utils/issues/569"><span
style='color:#377063;text-decoration:none'>#569</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/569"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Plugin hook: <i><span
style='color:#355F7C'>prepare_connection(conn)</span></i>. Plugins can use this
to help prepare the SQLite connection to do things like registering custom SQL
functions. Thanks, <a href="https://github.com/asg017"><span style='color:#377063;
text-decoration:none'>Alex Garcia</span></a><a href="https://github.com/asg017"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/574"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/574"><span
style='color:#377063;text-decoration:none'>#574</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/574"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.Database(...,
execute_plugins=False) option for disabling plugin execution. (<a
href="https://github.com/simonw/sqlite-utils/issues/575"><span
style='color:#377063;text-decoration:none'>#575</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/575"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils install
-e path-to-directory option for installing editable code. This option is useful
during the development of a plugin. (<a
href="https://github.com/simonw/sqlite-utils/issues/570"><span
style='color:#377063;text-decoration:none'>#570</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/570"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.create(...) method
now accepts replace=True to drop and replace an existing table with the same
name, or ignore=True to silently do nothing if a table already exists with the
same name. (<a href="https://github.com/simonw/sqlite-utils/issues/568"><span
style='color:#377063;text-decoration:none'>#568</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/568"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
... --stop-after 10 option for stopping the insert after a specified number of
records. Works for the upsert command as well. (<a
href="https://github.com/simonw/sqlite-utils/issues/561"><span
style='color:#377063;text-decoration:none'>#561</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/561"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --csv and --tsv modes
for insert now accept a --empty-null option, which causes empty strings in the
CSV file to be stored as null in the database. (<a
href="https://github.com/simonw/sqlite-utils/issues/563"><span
style='color:#377063;text-decoration:none'>#563</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/563"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
db.rename_table(table_name, new_name) method for renaming tables. (<a
href="https://github.com/simonw/sqlite-utils/issues/565"><span
style='color:#377063;text-decoration:none'>#565</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/565"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.55pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
rename-table my.db table_name new_name command for renaming tables. (<a
href="https://github.com/simonw/sqlite-utils/issues/565"><span
style='color:#377063;text-decoration:none'>#565</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/565"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.transform(...)
method now takes an optional keep_table=new_table_name parameter, which will
cause the original table to be renamed to new_table_name rather than being
dropped at the end of the transformation. (<a
href="https://github.com/simonw/sqlite-utils/issues/571"><span
style='color:#377063;text-decoration:none'>#571</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/571"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation now
notes that calling table.transform() without any arguments will reformat the
SQL schema stored by SQLite to be more aesthetically pleasing. (<a
href="https://github.com/simonw/sqlite-utils/issues/564"><span
style='color:#377063;text-decoration:none'>#564</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/564"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251595">1.8.8 3.33 (2023-06-25)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils will now
use <a href="https://github.com/nalgeon/sqlean.py"><span style='color:#377063;
text-decoration:none'>sqlean.py</span></a><span style='color:#377063'> </span>in
place of sqlite3 if it is installed in the same virtual environment. This is
useful for Python environments with either an outdated version of SQLite or
with restrictions on SQLite such as disabled extension loading or restrictions
resulting in the sqlite3.OperationalError: table sqlite_master may not be
modified error. (<a href="https://github.com/simonw/sqlite-utils/issues/559"><span
style='color:#377063;text-decoration:none'>#559</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/559"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:31.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New with
db.ensure_autocommit_off() context manager, which ensures that the database is
in autocommit mode for the duration of a block of code. This is used by db.enable_wal()
and db.disable_wal() to ensure they work correctly with pysqlite3 and sqlean.py.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection17>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:25.4pt'>New db.iterdump() method, providing an iterator over SQL
strings representing a dump of the database. This uses sqlite-dump if it is
available, otherwise falling back on the conn.iterdump() method from sqlite3.
Both pysqlite3 and sqlean.py omit support for iterdump() - this method helps
paper over that difference.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251596">1.8.9 3.32.1 (2023-05-21)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Examples in the <i><span
style='color:#355F7C'>CLI documentation </span></i>can now all be copied and
pasted without needing to remove a leading $. <a
href="https://github.com/simonw/sqlite-utils/issues/551"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/551"><span
style='color:#377063;text-decoration:none'>#551</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/551"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation now
covers <i><span style='color:#355F7C'>Setting up shell completion </span></i>for
bash and zsh. (<a href="https://github.com/simonw/sqlite-utils/issues/552"><span
style='color:#377063;text-decoration:none'>#552</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/552"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251597">1.8.10 3.32 (2023-05-21)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New experimental sqlite-utils
tui interface for interactively building command-line invocations, powered by <a
href="https://github.com/Textualize/trogon"><span style='color:#377063;
text-decoration:none'>Trogon</span></a><a
href="https://github.com/Textualize/trogon"><span style='color:black;
text-decoration:none'>.</span></a> This requires an optional dependency,
installed using sqlite-utils install trogon. There is a screenshot in the
documentation. (<a href="https://github.com/simonw/sqlite-utils/issues/545"><span
style='color:#377063;text-decoration:none'>#545</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/545"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
analyze-tables command (<i><span style='color:#355F7C'>documentation</span></i>)
now has a --common-limit 20 option for changing the number of
common/least-common values shown for each column. (<a
href="https://github.com/simonw/sqlite-utils/issues/544"><span
style='color:#377063;text-decoration:none'>#544</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/544"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
analyze-tables --no-most and --no-least options for disabling calculation of
mostcommon and least-common values.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>If a column contains
only null values, analyze-tables will no longer attempt to calculate the most
common and least common values for that column. (<a
href="https://github.com/simonw/sqlite-utils/issues/547"><span
style='color:#377063;text-decoration:none'>#547</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/547"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Calling sqlite-utils
analyze-tables with non-existent columns in the -c/--column option now results
in an error message. (<a
href="https://github.com/simonw/sqlite-utils/issues/548"><span
style='color:#377063;text-decoration:none'>#548</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/548"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.analyze_column()
method (<i><span style='color:#355F7C'>documented here</span></i>) now accepts most_common=False
and least_common=False options for disabling calculation of those values.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251598">1.8.11 3.31 (2023-05-08)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Dropped support for
Python 3.6. Tests now ensure compatibility with Python 3.11. (<a
href="https://github.com/simonw/sqlite-utils/issues/517"><span
style='color:#377063;text-decoration:none'>#517</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/517"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Automatically locates
the SpatiaLite extension on Apple Silicon. Thanks, Chris Amico. (<a
href="https://github.com/simonw/sqlite-utils/pull/536"><span style='color:#377063;
text-decoration:none'>#536</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/536"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --raw-lines option
for the sqlite-utils query and sqlite-utils memory commands, which outputs just
the raw value of the first column of every row. (<a
href="https://github.com/simonw/sqlite-utils/issues/539"><span
style='color:#377063;text-decoration:none'>#539</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/539"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug where table.upsert_all()
failed if the not_null= option was passed. (<a
href="https://github.com/simonw/sqlite-utils/issues/538"><span
style='color:#377063;text-decoration:none'>#538</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/538"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
a ResourceWarning when using sqlite-utils insert. (<a
href="https://github.com/simonw/sqlite-utils/issues/534"><span
style='color:#377063;text-decoration:none'>#534</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/534"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now shows a more
detailed error message when sqlite-utils insert is called with invalid JSON. (<a
href="https://github.com/simonw/sqlite-utils/issues/532"><span
style='color:#377063;text-decoration:none'>#532</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/532"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.convert(...,
skip_false=False) and sqlite-utils convert --no-skip-false options, for
avoiding a misfeature where the <i><span style='color:#355F7C'>convert() </span></i>mechanism
skips rows in the database with a falsey value for the specified column. Fixing
this by default would be a backwards-incompatible change and is under
consideration for a 4.0 release in the future. (<a
href="https://github.com/simonw/sqlite-utils/issues/527"><span
style='color:#377063;text-decoration:none'>#527</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/527"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tables can now be
created with self-referential foreign keys. Thanks, Scott Perry. (<a
href="https://github.com/simonw/sqlite-utils/pull/537"><span style='color:#377063;
text-decoration:none'>#537</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/537"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
transform no longer breaks if a table defines default values for columns.
Thanks, Kenny Song. <a href="https://github.com/simonw/sqlite-utils/issues/509"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/509"><span
style='color:#377063;text-decoration:none'>#509</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/509"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug where
repeated calls to table.transform() did not work correctly. Thanks, Martin
Carpenter. <a href="https://github.com/simonw/sqlite-utils/issues/525"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/525"><span
style='color:#377063;text-decoration:none'>#525</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/525"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved error
message if rows_from_file() is passed a non-binary-mode file-like object. (<a
href="https://github.com/simonw/sqlite-utils/issues/520"><span
style='color:#377063;text-decoration:none'>#520</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/520"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251599">1.8.12 3.30 (2022-10-25)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now tested against
Python 3.11. (<a href="https://github.com/simonw/sqlite-utils/issues/502"><span
style='color:#377063;text-decoration:none'>#502</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/502"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.search_sql(include_rank=True)
option, which adds a rank column to the generated SQL. Thanks, Jacob Chapman. (<a
href="https://github.com/simonw/sqlite-utils/pull/480"><span style='color:#377063;
text-decoration:none'>#480</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/480"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Progress bars now
display for newline-delimited JSON files using the --<sub><span
style='font-size:15.5pt;line-height:103%'>nl </span></sub>option. Thanks,
Mischa Untaga. <a href="https://github.com/simonw/sqlite-utils/issues/485"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/485"><span
style='color:#377063;text-decoration:none'>#485</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/485"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New db.close() method.
(<a href="https://github.com/simonw/sqlite-utils/issues/504"><span
style='color:#377063;text-decoration:none'>#504</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/504"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Conversion functions
passed to <i><span style='color:#355F7C'>table.convert(...) </span></i>can now
return lists or dictionaries, which will be inserted into the database as JSON
strings. (<a href="https://github.com/simonw/sqlite-utils/issues/495"><span
style='color:#377063;text-decoration:none'>#495</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/495"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils install and
sqlite-utils uninstall commands for installing packages into the same virtual
environment as sqlite-utils, <i><span style='color:#355F7C'>described here</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/483"><span
style='color:#377063;text-decoration:none'>#483</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/483"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
<i><span style='color:#355F7C'>sqlite_utils.utils.flatten() </span></i>utility
function. (<a href="https://github.com/simonw/sqlite-utils/issues/500"><span
style='color:#377063;text-decoration:none'>#500</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/500"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation on <i><span
style='color:#355F7C'>using Just </span></i>to run tests, linters and build
documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation now
covers the <i><span style='color:#355F7C'>Release process </span></i>for this
package.</p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;margin-left:
-.25pt'><a name="_Toc251600">1.8.13 3.29 (2022-08-27)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sqlite-utils
query, memory and bulk commands now all accept a new --functions option. This
can be passed a string of Python code, and any callable objects defined in that
code will be made available to SQL queries as custom SQL functions. See <i><span
style='color:#355F7C'>Defining custom SQL functions </span></i>for details. (<a
href="https://github.com/simonw/sqlite-utils/issues/471"><span
style='color:#377063;text-decoration:none'>#471</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/471"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[table].create(...)
method now accepts a new transform=True parameter. If the table already exists
it will be <i><span style='color:#355F7C'>transformed </span></i>to match the
schema configuration options passed to the function. This may result in columns
being added or dropped, column types being changed, column order being updated
or not null and default values for columns being set. (<a
href="https://github.com/simonw/sqlite-utils/issues/467"><span
style='color:#377063;text-decoration:none'>#467</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/467"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Related to the above,
the sqlite-utils create-table command now accepts a --transform option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New introspection
property: table.default_values returns a dictionary mapping each column name
with a default value to the configured default value. (<a
href="https://github.com/simonw/sqlite-utils/issues/475"><span
style='color:#377063;text-decoration:none'>#475</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/475"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --<sub><span
style='font-size:15.5pt;line-height:103%'>load-extension </span></sub>option
can now be provided a path to a compiled SQLite extension module accompanied by
the name of an entrypoint, separated by a colon - for example --<sub><span
style='font-size:15.5pt;line-height:103%'>load-extension ./ </span></sub>lines0:sqlite3_lines0_noread_init.
This feature is modelled on code first <a
href="https://github.com/simonw/datasette/pull/1789"><span style='color:#377063;
text-decoration:none'>contributed to Datasette</span></a><span
style='color:#377063'> </span>by Alex Garcia. (<a
href="https://github.com/simonw/sqlite-utils/issues/470"><span
style='color:#377063;text-decoration:none'>#470</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/470"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Functions registered
using the <i><span style='color:#355F7C'>db.register_function() </span></i>method
can now have a custom name specified using the new db.register_function(fn,
name=...) parameter. (<a
href="https://github.com/simonw/sqlite-utils/issues/458"><span
style='color:#377063;text-decoration:none'>#458</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/458"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils rows </span></i>has a new --<sub><span
style='font-size:15.5pt;line-height:103%'>order </span></sub>option for
specifying the sort order for the returned rows. (<a
href="https://github.com/simonw/sqlite-utils/issues/469"><span
style='color:#377063;text-decoration:none'>#469</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/469"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>All of the CLI
options that accept Python code blocks can now all be used to define functions
that can access modules imported in that same block of code without needing to
use the global keyword. (<a
href="https://github.com/simonw/sqlite-utils/issues/472"><span
style='color:#377063;text-decoration:none'>#472</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/472"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where table.extract()
would not behave correctly for columns containing null values. Thanks, Forest
Gregg. (<a href="https://github.com/simonw/sqlite-utils/issues/423"><span
style='color:#377063;text-decoration:none'>#423</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/423"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:30.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New tutorial: <a
href="https://datasette.io/tutorials/clean-data"><span style='color:#377063;
text-decoration:none'>Cleaning data with sqlite-utils and Datasette</span></a><span
style='color:#377063'> </span>shows how to use sqlite-utils to import and clean
an example CSV file.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:25.4pt'>Datasette and sqlite-utils now have a Discord community. <a
href="https://discord.gg/Ass7bCAMDw"><span style='color:#377063;text-decoration:
none'>Join the Discord here</span></a><a href="https://discord.gg/Ass7bCAMDw"><span
style='color:black;text-decoration:none'>.</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251601">1.8.14 3.28 (2022-07-15)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>table.duplicate(new_name) </span></i>method for creating
a copy of a table with a matching schema and row contents. Thanks, <a
href="https://github.com/davidleejy"><span style='color:#377063;text-decoration:
none'>David</span></a><a href="https://github.com/davidleejy"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/449"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/449"><span
style='color:#377063;text-decoration:none'>#449</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/449"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils duplicate data.db table_name new_name CLI command for <i><span
style='color:#355F7C'>Duplicating tables</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:6.25pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/454"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/454"><span
style='color:#377063;text-decoration:none'>#454</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/454"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.rows_from_file()
is now a <i><span style='color:#355F7C'>documented API</span></i>. It can be
used to read a sequence of dictionaries from a file-like object containing CSV,
TSV, JSON or newline-delimited JSON. It can be passed an explicit format or can
attempt to detect the format automatically. (<a
href="https://github.com/simonw/sqlite-utils/issues/443"><span
style='color:#377063;text-decoration:none'>#443</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/443"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.TypeTracker
is now a documented API for detecting the likely column types for a sequence of
string rows, see <i><span style='color:#355F7C'>Detecting column types using
TypeTracker</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/445"><span
style='color:#377063;text-decoration:none'>#445</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/445"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.chunks()
is now a documented API for <i><span style='color:#355F7C'>splitting an
iterator into chunks</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/451"><span
style='color:#377063;text-decoration:none'>#451</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/451"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
enable-fts now has a --replace option for replacing the existing FTS
configuration for a table. (<a
href="https://github.com/simonw/sqlite-utils/issues/450"><span
style='color:#377063;text-decoration:none'>#450</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/450"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The create-index, add-column
and duplicate commands all now take a --ignore option for ignoring</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:25.4pt'>errors should the database not be in the right state for
them to operate. (<a href="https://github.com/simonw/sqlite-utils/issues/450"><span
style='color:#377063;text-decoration:none'>#450</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/450"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251602">1.8.15 3.27 (2022-06-14)</a></h5>

<p class=MsoNormal align=left style='margin-bottom:4.55pt;text-align:left;
line-height:110%'>See also <a
href="https://simonwillison.net/2022/Jun/19/weeknotes/#sqlite-utils-3-27"><span
style='color:#377063;text-decoration:none'>the annotated release notes</span></a><span
style='color:#377063'> </span>for this release.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation now
uses the <a href="https://github.com/pradyunsg/furo"><span style='color:#377063;
text-decoration:none'>Furo</span></a><span style='color:#377063'> </span>Sphinx
theme. (<a href="https://github.com/simonw/sqlite-utils/issues/435"><span
style='color:#377063;text-decoration:none'>#435</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/435"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Code examples in
documentation now have a copy to clipboard button. (<a
href="https://github.com/simonw/sqlite-utils/issues/436"><span
style='color:#377063;text-decoration:none'>#436</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/436"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.utils.rows_from_file()
is now a documented API, see <i><span style='color:#355F7C'>Reading rows from a
file</span></i>. <a href="https://github.com/simonw/sqlite-utils/issues/443"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/443"><span
style='color:#377063;text-decoration:none'>#443</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/443"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>rows_from_file() has
two new parameters to help handle CSV files with rows that contain more values
than are listed in that CSV files headings: ignore_extras=True and extras_key=&quot;name-of-key&quot;.
(<a href="https://github.com/simonw/sqlite-utils/issues/440"><span
style='color:#377063;text-decoration:none'>#440</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/440"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.maximize_csv_field_size_limit()
helper function for increasing the field size limit for reading CSV files to
its maximum, see <i><span style='color:#355F7C'>Setting the maximum CSV field
size limit</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/442"><span
style='color:#377063;text-decoration:none'>#442</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/442"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.search(where=,
where_args=) parameters for adding additional WHERE clauses to a search query.
The where= parameter is available on table.search_sql(...) as well. See <i><span
style='color:#355F7C'>Searching with table.search()</span></i>. <a
href="https://github.com/simonw/sqlite-utils/issues/441"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/441"><span
style='color:#377063;text-decoration:none'>#441</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/441"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where table.detect_fts()
and other search-related functions could fail if two FTS-enabled tables had
names that were prefixes of each other. (<a
href="https://github.com/simonw/sqlite-utils/issues/434"><span
style='color:#377063;text-decoration:none'>#434</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/434"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251603">1.8.16 3.26.1 (2022-05-02)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:1.95pt;
margin-left:24.9pt;text-indent:-8.45pt'> Now depends on <a
href="https://github.com/simonw/click-default-group-wheel"><span
style='color:#377063;text-decoration:none'>click-default-group-wheel</span></a><a
href="https://github.com/simonw/click-default-group-wheel"><span
style='color:black;text-decoration:none'>,</span></a> a pure Python wheel
package. This means you can install and use this package with <a
href="https://pyodide.org/"><span style='color:#377063;text-decoration:none'>Pyodide</span></a><a
href="https://pyodide.org/"><span style='color:black;text-decoration:none'>,</span></a>
which can run Python entirely in your browser using WebAssembly. (<a
href="https://github.com/simonw/sqlite-utils/pull/429"><span style='color:#377063;
text-decoration:none'>#429</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/429"><span style='color:black;
text-decoration:none'>) </span></a>Try that out using the <a
href="https://pyodide.org/en/stable/console.html"><span style='color:#377063;
text-decoration:none'>Pyodide REPL</span></a><a
href="https://pyodide.org/en/stable/console.html"><span style='color:black;
text-decoration:none'>:</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:21.5pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=600 height=105
src="sqlite-utils%20documentation_files/image519.gif"></span></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:11.6pt;margin-left:
-.25pt'><a name="_Toc251604">1.8.17 3.26 (2022-04-13)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:5.75pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>New errors=r.IGNORE/r.SET_NULL parameter for the r.parsedatetime()
and r.parsedate() <i><span style='color:#355F7C'>convert recipes</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/416"><span
style='color:#377063;text-decoration:none'>#416</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/416"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:.25pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Fixed a bug
where --<sub><span style='font-size:15.5pt;line-height:103%'>multi </span></sub>could
not be used in combination with --<sub><span style='font-size:15.5pt;
line-height:103%'>dry-run </span></sub>for the <i><span style='color:#355F7C'>convert
</span></i>command. (<a href="https://github.com/simonw/sqlite-utils/issues/415"><span
style='color:#377063;text-decoration:none'>#415</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/415"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:4.8pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>New documentation: <i><span style='color:#355F7C'>Defining a
convert() function</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/420"><span
style='color:#377063;text-decoration:none'>#420</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/420"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:22.6pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>More robust
detection for whether or not deterministic=True is supported. (<a
href="https://github.com/simonw/sqlite-utils/issues/425"><span
style='color:#377063;text-decoration:none'>#425</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/425"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251605">1.8.18 3.25.1 (2022-03-11)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:16.95pt'> Improved display of type information and parameters in
the <i><span style='color:#355F7C'>API reference documentation</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/413"><span
style='color:#377063;text-decoration:none'>#413</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/413"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251606">1.8.19 3.25 (2022-03-01)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New hash_id_columns= parameter
for creating a primary key thats a hash of the content of specific columns -
see <i><span style='color:#355F7C'>Setting an ID based on the hash of the row
contents </span></i>for details. (<a
href="https://github.com/simonw/sqlite-utils/issues/343"><span
style='color:#377063;text-decoration:none'>#343</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/343"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>db.sqlite_version </span></i>property, returning a tuple
of integers representing the version of SQLite, for example (3<sub><span
style='font-size:15.5pt;line-height:103%'>,</span></sub></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.95pt;
margin-left:25.4pt;line-height:107%'>38, 0).</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug where <i><span
style='color:#355F7C'>register_function(deterministic=True) </span></i>caused
errors on versions of SQLite prior to 3.8.3. <a
href="https://github.com/simonw/sqlite-utils/issues/408"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/408"><span
style='color:#377063;text-decoration:none'>#408</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/408"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.3in;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
documented <i><span style='color:#355F7C'>hash_record(record, keys=...) </span></i>function.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251607">1.8.20 3.24 (2022-02-15)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SpatiaLite helpers
for the sqlite-utils command-line tool - thanks, Chris Amico. (<a
href="https://github.com/simonw/sqlite-utils/issues/398"><span
style='color:#377063;text-decoration:none'>#398</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/398"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.3pt;margin-bottom:
5.6pt;margin-left:.65in;text-indent:-9.95pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils create-database </span></i>--<sub><span
style='font-size:15.5pt;line-height:103%'>init-spatialite </span></sub>option
for initializing SpatiaLite on a newly created database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:60.3pt;margin-bottom:
1.8pt;margin-left:.65in;text-indent:-9.95pt;line-height:149%'><span
style='line-height:149%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i><span style='color:#355F7C'>sqlite-utils add-geometry-column </span></i>command
for adding geometry columns. <b> </b><i><span style='color:#355F7C'>sqlite-utils
create-spatial-index </span></i>command for adding spatial indexes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[table].create(...,
if_not_exists=True) option for <i><span style='color:#355F7C'>creating a table </span></i>only
if it does not already exist.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:28.85pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/397"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/397"><span
style='color:#377063;text-decoration:none'>#397</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/397"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.45pt;
margin-left:25.4pt'>Database(memory_name=&quot;my_shared_database&quot;) parameter
for creating a <i><span style='color:#355F7C'>named in-memory database </span></i>that
can be shared between multiple connections. (<a
href="https://github.com/simonw/sqlite-utils/issues/405"><span
style='color:#377063;text-decoration:none'>#405</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/405"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:0in;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation
now describes <i><span style='color:#355F7C'>how to add a primary key to a
rowid table </span></i>using sqlite-utils transform.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/403"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/403"><span
style='color:#377063;text-decoration:none'>#403</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/403"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251608">1.8.21 3.23 (2022-02-03)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:-.25pt'>This release introduces four new utility methods for
working with <a href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:#377063;text-decoration:none'>SpatiaLite</span></a><a
href="https://www.gaia-gis.it/fossil/libspatialite/index"><span
style='color:black;text-decoration:none'>.</span></a> Thanks, Chris Amico. (<a
href="https://github.com/simonw/sqlite-utils/pull/385"><span style='color:#377063;
text-decoration:none'>#385</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/385"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite_utils.utils.find_spatialite()
<i><span style='color:#355F7C'>finds the location of the SpatiaLite module </span></i>on
disk.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.init_spatialite() <i><span
style='color:#355F7C'>initializes SpatiaLite </span></i>for the given database.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.add_geometry_column(...)
<i><span style='color:#355F7C'>adds a geometry column </span></i>to an existing
table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.create_spatial_index(...)
<i><span style='color:#355F7C'>creates a spatial index </span></i>for a column.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
batch now accepts a --batch-size option. (<a
href="https://github.com/simonw/sqlite-utils/issues/392"><span
style='color:#377063;text-decoration:none'>#392</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/392"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251609">1.8.22 3.22.1 (2022-01-25)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>All commands now
include example usage in their --<sub><span style='font-size:15.5pt;line-height:
103%'>help </span></sub>- see <i><span style='color:#355F7C'>CLI reference</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/384"><span
style='color:#377063;text-decoration:none'>#384</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/384"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python library
documentation has a new <i><span style='color:#355F7C'>Getting started </span></i>section.
(<a href="https://github.com/simonw/sqlite-utils/issues/387"><span
style='color:#377063;text-decoration:none'>#387</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/387"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation now
uses <a href="https://plausible.io/"><span style='color:#377063;text-decoration:
none'>Plausible analytics</span></a><a href="https://plausible.io/"><span
style='color:black;text-decoration:none'>.</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/389"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/389"><span
style='color:#377063;text-decoration:none'>#389</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/389"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251610">1.8.23 3.22 (2022-01-11)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>CLI reference </span></i>documentation page, listing the
output of --<sub><span style='font-size:15.5pt;line-height:103%'>help </span></sub>for
every one of the CLI commands. (<a
href="https://github.com/simonw/sqlite-utils/issues/383"><span
style='color:#377063;text-decoration:none'>#383</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/383"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils rows now
has --limit and --offset options for paginating through data. (<a
href="https://github.com/simonw/sqlite-utils/issues/381"><span
style='color:#377063;text-decoration:none'>#381</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/381"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils rows now
has --where and -p options for filtering the table using a WHERE query, see <i><span
style='color:#355F7C'>Returning</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.3in;
margin-left:25.4pt;line-height:110%'><i><span style='color:#355F7C'>all rows in
a table</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/382"><span
style='color:#377063;text-decoration:none'>#382</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/382"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251611">1.8.24 3.21 (2022-01-10)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:-.25pt'>CLI and Python library improvements to help run <a
href="https://www.sqlite.org/lang_analyze.html"><span style='color:#377063;
text-decoration:none'>ANALYZE</span></a><span style='color:#377063'> </span>after
creating indexes or inserting rows, to gain better performance from the SQLite
query planner when it runs against indexes.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:-.25pt'>Three new CLI commands: create-database, analyze and bulk.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:-.25pt'>More details and examples can be found in <a
href="https://simonwillison.net/2022/Jan/11/sqlite-utils/"><span
style='color:#377063;text-decoration:none'>the annotated release notes</span></a><a
href="https://simonwillison.net/2022/Jan/11/sqlite-utils/"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
create-database command for creating new empty database files. (<a
href="https://github.com/simonw/sqlite-utils/issues/348"><span
style='color:#377063;text-decoration:none'>#348</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/348"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New Python methods
for running ANALYZE against a database, table or index: db.analyze() and table.
analyze(), see <i><span style='color:#355F7C'>Optimizing index usage with
ANALYZE</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/366"><span
style='color:#377063;text-decoration:none'>#366</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/366"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>sqlite-utils analyze command </span></i>for running ANALYZE
using the CLI. (<a href="https://github.com/simonw/sqlite-utils/issues/379"><span
style='color:#377063;text-decoration:none'>#379</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/379"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The create-index, insert
and upsert commands now have a new --analyze option for running ANALYZE after
the command has completed. (<a
href="https://github.com/simonw/sqlite-utils/issues/379"><span
style='color:#377063;text-decoration:none'>#379</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/379"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>sqlite-utils bulk command </span></i>which can import
records in the same way as sqlite-utils insert (from JSON, CSV or TSV) and use
them to bulk execute a parametrized SQL query. (<a
href="https://github.com/simonw/sqlite-utils/issues/375"><span
style='color:#377063;text-decoration:none'>#375</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/375"><span
style='color:black;text-decoration:none'>)</span></a></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection18>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:25.4pt'>The CLI tool can now also be run using python -m
sqlite_utils. (<a href="https://github.com/simonw/sqlite-utils/issues/368"><span
style='color:#377063;text-decoration:none'>#368</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/368"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Using --<sub><span
style='font-size:15.5pt;line-height:103%'>fmt </span></sub>now implies --<sub><span
style='font-size:15.5pt;line-height:103%'>table</span></sub>, so you dont need
to pass both options. (<a
href="https://github.com/simonw/sqlite-utils/issues/374"><span
style='color:#377063;text-decoration:none'>#374</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/374"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --<sub><span
style='font-size:15.5pt;line-height:103%'>convert </span></sub>function applied
to rows can now modify the row in place. (<a
href="https://github.com/simonw/sqlite-utils/issues/371"><span
style='color:#377063;text-decoration:none'>#371</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/371"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>insert-files command </span></i>supports two new columns:
stem and suffix. (<a href="https://github.com/simonw/sqlite-utils/issues/372"><span
style='color:#377063;text-decoration:none'>#372</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/372"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --<sub><span
style='font-size:15.5pt;line-height:103%'>nl </span></sub>import option now
ignores blank lines in the input. (<a
href="https://github.com/simonw/sqlite-utils/issues/376"><span
style='color:#377063;text-decoration:none'>#376</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/376"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where
streaming input to the insert command with --<sub><span style='font-size:15.5pt;
line-height:103%'>batch-size 1 </span></sub>would appear to only commit after
several rows had been ingested, due to unnecessary input buffering. (<a
href="https://github.com/simonw/sqlite-utils/issues/364"><span
style='color:#377063;text-decoration:none'>#364</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/364"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.45pt;margin-left:
-.25pt'><a name="_Toc251612">1.8.25 3.20 (2022-01-05)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
... --lines to insert the lines from a file into a table with a single line column,
see <i><span style='color:#355F7C'>Inserting unstructured data with --lines and
--text</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
... --text to insert the contents of the file into a table with a single text column
and a single row.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
... --convert allows a Python function to be provided that will be used to
convert each row that is being inserted into the database. See <i><span
style='color:#355F7C'>Applying conversions while inserting data</span></i>,
including details on special behavior when combined with --<sub><span
style='font-size:15.5pt;line-height:103%'>lines </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>text</span></sub>. (<a
href="https://github.com/simonw/sqlite-utils/issues/356"><span
style='color:#377063;text-decoration:none'>#356</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/356"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils convert now
accepts a code value of - to read code from standard input. (<a
href="https://github.com/simonw/sqlite-utils/issues/353"><span
style='color:#377063;text-decoration:none'>#353</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/353"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils convert also
now accepts code that defines a named convert(value) function, see <i><span
style='color:#355F7C'>Converting data in columns</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.supports_strict property
showing if the database connection supports <a
href="https://www.sqlite.org/stricttables.html"><span style='color:#377063;
text-decoration:none'>SQLite strict tables</span></a><a
href="https://www.sqlite.org/stricttables.html"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.strict property
(see <i><span style='color:#355F7C'>.strict</span></i>) indicating if the table
uses strict mode. (<a href="https://github.com/simonw/sqlite-utils/issues/344"><span
style='color:#377063;text-decoration:none'>#344</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/344"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed
bug where sqlite-utils upsert ... --detect-types ignored the --detect-types option.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/362"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/362"><span
style='color:#377063;text-decoration:none'>#362</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/362"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251613">1.8.26 3.19 (2021-11-20)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.2pt;
margin-left:24.9pt;text-indent:-8.45pt'> The <i><span style='color:#355F7C'>table.lookup()
method </span></i>now accepts keyword arguments that match those on the
underlying table. insert() method: foreign_keys=, column_order=, not_null=, defaults=,
extracts=, conversions= and columns=. You can also now pass pk= to specify a
different column name to use for the primary key. (<a
href="https://github.com/simonw/sqlite-utils/issues/342"><span
style='color:#377063;text-decoration:none'>#342</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/342"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251614">1.8.27 3.18 (2021-11-14)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.lookup() method
now has an optional second argument which can be used to populate columns only
the first time the record is created, see <i><span style='color:#355F7C'>Working
with lookup tables</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/339"><span
style='color:#377063;text-decoration:none'>#339</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/339"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils memory now
has a --flatten option for <i><span style='color:#355F7C'>flattening nested
JSON objects </span></i>into separate columns, consistent with sqlite-utils
insert. (<a href="https://github.com/simonw/sqlite-utils/issues/332"><span
style='color:#377063;text-decoration:none'>#332</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/332"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.create_index(...,
find_unique_name=True) parameter, which finds an available name for the created
index even if the default name has already been taken. This means that index-foreign-keys
will work even if one of the indexes it tries to create clashes with an
existing index name. (<a
href="https://github.com/simonw/sqlite-utils/issues/335"><span
style='color:#377063;text-decoration:none'>#335</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/335"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added py.typed to the
module, so <a href="http://mypy-lang.org/"><span style='color:#377063;
text-decoration:none'>mypy</span></a><span style='color:#377063'> </span>should
now correctly pick up the type annotations. Thanks, Andreas Longo. (<a
href="https://github.com/simonw/sqlite-utils/issues/331"><span
style='color:#377063;text-decoration:none'>#331</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/331"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:26.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now depends on python-dateutil
instead of depending on dateutils. Thanks, Denys Pavlov. (<a
href="https://github.com/simonw/sqlite-utils/issues/324"><span
style='color:#377063;text-decoration:none'>#324</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/324"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:25.4pt'>table.create() (see <i><span style='color:#355F7C'>Explicitly
creating a table</span></i>) now handles dict, list and tuple types, mapping
them to TEXT columns in SQLite so that they can be stored encoded as JSON. (<a
href="https://github.com/simonw/sqlite-utils/issues/338"><span
style='color:#377063;text-decoration:none'>#338</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/338"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.15pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Inserted
data with square braces in the column names (for example a CSV file containing
a item[price]) column now have the braces converted to underscores: item_price_.
Previously such columns would be rejected with an error. (<a
href="https://github.com/simonw/sqlite-utils/issues/329"><span
style='color:#377063;text-decoration:none'>#329</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/329"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now also tested
against Python 3.10. (<a href="https://github.com/simonw/sqlite-utils/pull/330"><span
style='color:#377063;text-decoration:none'>#330</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/330"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251615">1.8.28 3.17.1 (2021-09-22)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils memory </span></i>now works if files passed
to it share the same file name. (<a
href="https://github.com/simonw/sqlite-utils/issues/325"><span
style='color:#377063;text-decoration:none'>#325</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/325"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils query </span></i>now returns [] in JSON mode
if no rows are returned. (<a
href="https://github.com/simonw/sqlite-utils/issues/328"><span
style='color:#377063;text-decoration:none'>#328</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/328"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-left:-.25pt'><a name="_Toc251616">1.8.29 3.17 (2021-08-24)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The <i><span
style='color:#355F7C'>sqlite-utils memory </span></i>command has a new --<sub><span
style='font-size:15.5pt;line-height:103%'>analyze </span></sub>option, which
runs the equivalent of the <i><span style='color:#355F7C'>analyze-tables </span></i>command
directly against the in-memory database created from the incoming CSV or JSON
data. (<a href="https://github.com/simonw/sqlite-utils/issues/320"><span
style='color:#377063;text-decoration:none'>#320</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/320"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>sqlite-utils insert-files </span></i>now has the ability
to insert file contents in to TEXT columns in addition to the default BLOB.
Pass the --text option or use content_text as a column specifier. (<a
href="https://github.com/simonw/sqlite-utils/issues/319"><span
style='color:#377063;text-decoration:none'>#319</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/319"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.6pt;margin-left:
-.25pt'><a name="_Toc251617">1.8.30 3.16 (2021-08-18)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.2pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:128%'><span
style='line-height:128%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Type signatures added to more methods, including
table.resolve_foreign_keys(), db. create_table_sql(), db.create_table() and table.create().
(<a href="https://github.com/simonw/sqlite-utils/issues/314"><span
style='color:#377063;text-decoration:none'>#314</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/314"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New db.quote_fts(value)
method, see <i><span style='color:#355F7C'>Quoting characters for use in search
</span></i>- thanks, Mark Neumann. (<a
href="https://github.com/simonw/sqlite-utils/issues/246"><span
style='color:#377063;text-decoration:none'>#246</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/246"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.search() now
accepts an optional quote=True parameter. (<a
href="https://github.com/simonw/sqlite-utils/issues/296"><span
style='color:#377063;text-decoration:none'>#296</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/296"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>CLI command sqlite-utils
search now accepts a --quote option. (<a
href="https://github.com/simonw/sqlite-utils/issues/296"><span
style='color:#377063;text-decoration:none'>#296</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/296"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where --<sub><span
style='font-size:15.5pt;line-height:103%'>no-headers </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>tsv </span></sub>options to <i><span
style='color:#355F7C'>sqlite-utils insert </span></i>could not be used
together. (<a href="https://github.com/simonw/sqlite-utils/issues/295"><span
style='color:#377063;text-decoration:none'>#295</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/295"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Various small
improvements to <i><span style='color:#355F7C'>API reference </span></i>documentation.</p>

<h5 style='margin-left:-.25pt'><a name="_Toc251618">1.8.31 3.15.1 (2021-08-10)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python library now
includes type annotations on almost all of the methods, plus detailed
docstrings describing each one. (<a
href="https://github.com/simonw/sqlite-utils/issues/311"><span
style='color:#377063;text-decoration:none'>#311</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/311"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>API reference </span></i>documentation page, powered by
those docstrings.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where .add_foreign_keys()
failed to raise an error if called against a View. (<a
href="https://github.com/simonw/sqlite-utils/issues/313"><span
style='color:#377063;text-decoration:none'>#313</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/313"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where .delete_where()
returned a [] instead of returning self if called against a non-existent table.
(<a href="https://github.com/simonw/sqlite-utils/issues/315"><span
style='color:#377063;text-decoration:none'>#315</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/315"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h5 style='margin-top:0in;margin-right:0in;margin-bottom:10.3pt;margin-left:
-.25pt'><a name="_Toc251619">1.8.32 3.15 (2021-08-09)</a></h5>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
--flatten option for <i><span style='color:#355F7C'>flattening nested JSON
objects </span></i>to create tables with column names like topkey_nestedkey. (<a
href="https://github.com/simonw/sqlite-utils/issues/310"><span
style='color:#377063;text-decoration:none'>#310</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/310"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed several
spelling mistakes in the documentation, spotted <a
href="https://til.simonwillison.net/python/codespell"><span style='color:#377063;
text-decoration:none'>using codespell</span></a><a
href="https://til.simonwillison.net/python/codespell"><span style='color:black;
text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Errors that occur
while using the sqlite-utils CLI tool now show the responsible SQL and query
parameters, if possible. (<a
href="https://github.com/simonw/sqlite-utils/issues/309"><span
style='color:#377063;text-decoration:none'>#309</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/309"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251620">1.8.33 3.14 (2021-08-02)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>This release introduces the new <i><span style='color:#355F7C'>sqlite-utils
convert command </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/251"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/251"><span
style='color:#377063;text-decoration:none'>#251</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/251"><span
style='color:black;text-decoration:none'>)</span></a> and corresponding <i><span
style='color:#355F7C'>table.convert(...) </span></i>Python method (<a
href="https://github.com/simonw/sqlite-utils/issues/302"><span
style='color:#377063;text-decoration:none'>#302</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/302"><span
style='color:black;text-decoration:none'>)</span></a>. These tools can be used
to apply a Python conversion function to one or more columns of a table, either
updating the column in place or using transformed data from that column to
populate one or more other columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>This command-line example uses the Python standard library <a
href="https://docs.python.org/3/library/textwrap.html"><span style='color:#377063;
text-decoration:none'>textwrap module</span></a><span style='color:#377063'> </span>to
wrap the content of the content column in the articles table to 100 characters:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=57
src="sqlite-utils%20documentation_files/image520.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The same operation in Python code looks like this:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.35pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=73
src="sqlite-utils%20documentation_files/image521.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>See the full documentation for the <i><span
style='color:#355F7C'>sqlite-utils convert command </span></i>and the <i><span
style='color:#355F7C'>table.convert(...) </span></i>Python method for more
details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:-.25pt'>Also in this release:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new table.count_where(...)
method, for counting rows in a table that match a specific SQL WHERE clause. (<a
href="https://github.com/simonw/sqlite-utils/issues/305"><span
style='color:#377063;text-decoration:none'>#305</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/305"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --<sub><span
style='font-size:15.5pt;line-height:103%'>silent </span></sub>option for the <i><span
style='color:#355F7C'>sqlite-utils insert-files command </span></i>to hide the
terminal progress bar, consistent with the --silent option for sqlite-utils
convert. (<a href="https://github.com/simonw/sqlite-utils/issues/301"><span
style='color:#377063;text-decoration:none'>#301</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/301"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.75pt;margin-left:
-.25pt'><a name="_Toc251621">1.8.34 3.13 (2021-07-24)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:8.2pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>sqlite-utils
schema my.db table1 table2 command now accepts optional table names. (<a
href="https://github.com/simonw/sqlite-utils/issues/299"><span
style='color:#377063;text-decoration:none'>#299</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/299"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:142.5pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>sqlite-utils memory --help now describes the --schema option.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection19>

<h3 style='margin-left:-.25pt'><a name="_Toc251622">1.8.35 3.12 (2021-06-25)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New <i><span
style='color:#355F7C'>db.query(sql, params) </span></i>method, which executes a
SQL query and returns the results as an iterator over Python dictionaries. (<a
href="https://github.com/simonw/sqlite-utils/issues/290"><span
style='color:#377063;text-decoration:none'>#290</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/290"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>This project now uses
flake8 and has started to use mypy. (<a
href="https://github.com/simonw/sqlite-utils/issues/291"><span
style='color:#377063;text-decoration:none'>#291</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/291"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New documentation on <i><span
style='color:#355F7C'>contributing </span></i>to this project. (<a
href="https://github.com/simonw/sqlite-utils/issues/292"><span
style='color:#377063;text-decoration:none'>#292</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/292"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.55pt;margin-left:
-.25pt'><a name="_Toc251623">1.8.36 3.11 (2021-06-20)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:5.5pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>New sqlite-utils
memory data.csv --schema option, for outputting the schema of the in-memory
database generated from one or more files. See <i><span style='color:#355F7C'>--schema,
--analyze, --dump and --save</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/288"><span
style='color:#377063;text-decoration:none'>#288</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/288"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:.3in;
margin-left:24.5pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Added <i><span style='color:#355F7C'>installation instructions</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/286"><span
style='color:#377063;text-decoration:none'>#286</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/286"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251624">1.8.37 3.10 (2021-06-19)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.5pt;
margin-left:-.25pt'>This release introduces the sqlite-utils memory command,
which can be used to load CSV or JSON data into a temporary in-memory database
and run SQL queries (including joins across multiple files) directly against
that data.</p>

<p class=MsoNormal style='margin-bottom:2.8pt;line-height:184%'>Also new: sqlite-utils
insert --detect-types, sqlite-utils dump, table.use_rowid plus some smaller
fixes. <b><span style='color:#20435C'>sqlite-utils memory</span></b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.2pt;margin-left:-.25pt;text-align:left;line-height:105%'>This
example of sqlite-utils memory retrieves information about the all of the
repositories in the <a href="https://github.com/dogsheep"><span
style='color:#377063;text-decoration:none'>Dogsheep</span></a><span
style='color:#377063'> </span>organization on GitHub using <a
href="https://api.github.com/users/dogsheep/repos"><span style='color:#377063;
text-decoration:none'>this JSON API</span></a><a
href="https://api.github.com/users/dogsheep/repos"><span style='color:black;
text-decoration:none'>,</span></a> sorts them by their number of stars and
outputs a table of the top five (using -t):</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.4pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=200
src="sqlite-utils%20documentation_files/image522.gif"></span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>The tool works against files on disk as well. This example
joins data from two CSV files:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=634 height=146
src="sqlite-utils%20documentation_files/image523.gif"></span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.05in;margin-left:.5pt;text-align:right;line-height:107%'><span
style='font-size:8.0pt;line-height:107%'>(continued from previous page)</span></p>

<p class=MsoNormal style='line-height:107%'>1,Dog</p>

<p class=MsoNormal style='line-height:107%'>2,Chicken</p>

<p class=MsoNormal style='margin-top:0in;margin-right:75.75pt;margin-bottom:
.25pt;margin-left:10.45pt;text-indent:-10.45pt;line-height:107%'><span
style='position:relative;z-index:-1895750656'><span style='left:0px;position:
absolute;left:-5px;top:-116026px;width:633px;height:1px'><img width=633
height=1 src="sqlite-utils%20documentation_files/image448.gif"></span></span>$
sqlite-utils memory species.csv creatures.csv ' select * from creatures join
species on creatures.species_id = species.id</p>

<p class=MsoNormal align=left style='margin:0in;text-align:left;text-indent:
0in;line-height:107%'>'</p>

<p class=MsoNormal style='line-height:107%'>[{&quot;species_id&quot;: 1,
&quot;name&quot;: &quot;Cleo&quot;, &quot;id&quot;: 1,
&quot;species_name&quot;: &quot;Dog&quot;},</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>{&quot;species_id&quot;:
2, &quot;name&quot;: &quot;Bants&quot;, &quot;id&quot;: 2,
&quot;species_name&quot;: &quot;Chicken&quot;},</p>

<p class=MsoNormal style='margin-left:5.75pt;line-height:107%'>{&quot;species_id&quot;:
2, &quot;name&quot;: &quot;Dori&quot;, &quot;id&quot;: 2,
&quot;species_name&quot;: &quot;Chicken&quot;},</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:13.55pt;
margin-left:5.75pt;line-height:107%'>{&quot;species_id&quot;: 2,
&quot;name&quot;: &quot;Azi&quot;, &quot;id&quot;: 2, &quot;species_name&quot;:
&quot;Chicken&quot;}]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:-.25pt'>Here the species.csv file becomes the species table, the creatures.csv
file becomes the creatures table and the output is JSON, the default output
format.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.55pt;
margin-left:-.25pt'>You can also use the --<sub><span style='font-size:15.5pt;
line-height:103%'>attach </span></sub>option to attach existing SQLite database
files to the in-memory database, in order to join data from CSV or JSON
directly against your existing tables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:262%'>Full documentation of this new feature is
available in <i><span style='color:#355F7C'>Querying data directly using an
in-memory database</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/272"><span
style='color:#377063;text-decoration:none'>#272</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/272"><span
style='color:black;text-decoration:none'>) </span></a><b><span
style='color:#20435C'>sqlite-utils insert --detect-types</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.65pt;
margin-left:-.25pt'>The <i><span style='color:#355F7C'>sqlite-utils insert </span></i>command
can be used to insert data from JSON, CSV or TSV files into a SQLite database
file. The new --<sub><span style='font-size:15.5pt;line-height:103%'>detect-types
</span></sub>option (shortcut -<sub><span style='font-size:15.5pt;line-height:
103%'>d</span></sub>), when used in conjunction with a CSV or TSV import, will
automatically detect if columns in the file are integers or floating point
numbers as opposed to treating everything as a text column and create the new
table with the corresponding schema. See <i><span style='color:#355F7C'>Inserting
CSV or TSV data </span></i>for details. (<a
href="https://github.com/simonw/sqlite-utils/issues/282"><span
style='color:#377063;text-decoration:none'>#282</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/282"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Other changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><b>Bug fix</b>: table.transform(),
when run against a table without explicit primary keys, would incorrectly
create a new version of the table with an explicit primary key column called rowid.
(<a href="https://github.com/simonw/sqlite-utils/issues/284"><span
style='color:#377063;text-decoration:none'>#284</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/284"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.use_rowid introspection
property, see <i><span style='color:#355F7C'>.use_rowid</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/285"><span
style='color:#377063;text-decoration:none'>#285</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/285"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new sqlite-utils
dump file.db command outputs a SQL dump that can be used to recreate a
database. <a href="https://github.com/simonw/sqlite-utils/issues/274"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/274"><span
style='color:#377063;text-decoration:none'>#274</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/274"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>-<sub><span
style='font-size:15.5pt;line-height:103%'>h </span></sub>now works as a
shortcut for --<sub><span style='font-size:15.5pt;line-height:103%'>help</span></sub>,
thanks Loren McIntyre. (<a
href="https://github.com/simonw/sqlite-utils/issues/276"><span
style='color:#377063;text-decoration:none'>#276</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/276"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Now using <a
href="https://pytest-cov.readthedocs.io/"><span style='color:#377063;
text-decoration:none'>pytest-cov</span></a><span style='color:#377063'> </span>and
<a href="https://about.codecov.io/"><span style='color:#377063;text-decoration:
none'>Codecov</span></a><span style='color:#377063'> </span>to track test
coverage - currently at 96%. (<a
href="https://github.com/simonw/sqlite-utils/issues/275"><span
style='color:#377063;text-decoration:none'>#275</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/275"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>SQL errors that occur
when using sqlite-utils query are now displayed as CLI errors.</p>

<h3 style='margin-left:-.25pt'><a name="_Toc251625">1.8.38 3.9.1 (2021-06-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:129.5pt;
margin-left:24.9pt;text-indent:-8.45pt'> Fixed bug when using table.upsert_all()
to create a table with only a single column that is treated as the primary key.
(<a href="https://github.com/simonw/sqlite-utils/issues/271"><span
style='color:#377063;text-decoration:none'>#271</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/271"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251626">1.8.39 3.9 (2021-06-11)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
schema command showing the full SQL schema for a database, see <i><span
style='color:#355F7C'>Showing the schema (CLI)</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/268"><span
style='color:#377063;text-decoration:none'>#268</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/268"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.schema introspection
property exposing the same feature to the Python library, see <i><span
style='color:#355F7C'>Showing the schema (Python library)</span></i>.</p>

<h3 style='margin-left:-.25pt'><a name="_Toc251627">1.8.40 3.8 (2021-06-02)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
indexes command to list indexes in a database, see <i><span style='color:#355F7C'>Listing
indexes</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/263"><span
style='color:#377063;text-decoration:none'>#263</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/263"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.xindexes introspection
property returning more details about that tables indexes, see <i><span
style='color:#355F7C'>.xindexes</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/261"><span
style='color:#377063;text-decoration:none'>#261</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/261"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.4pt;margin-left:
-.25pt'><a name="_Toc251628">1.8.41 3.7 (2021-05-28)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
table.pks_and_rows_where() method returning (primary_key, row_dictionary) tuples
- see <i><span style='color:#355F7C'>Listing rows with their primary keys</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/240"><span
style='color:#377063;text-decoration:none'>#240</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/240"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug with table.add_foreign_key()
against columns containing spaces. (<a
href="https://github.com/simonw/sqlite-utils/issues/238"><span
style='color:#377063;text-decoration:none'>#238</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/238"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table_or_view.drop(ignore=True)
option for avoiding errors if the table or view does not exist. (<a
href="https://github.com/simonw/sqlite-utils/issues/237"><span
style='color:#377063;text-decoration:none'>#237</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/237"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.7pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
drop-view --ignore and sqlite-utils drop-table --ignore options. (<a
href="https://github.com/simonw/sqlite-utils/issues/237"><span
style='color:#377063;text-decoration:none'>#237</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/237"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug with
inserts of nested JSON containing non-ascii strings - thanks, Dylan Wu. (<a
href="https://github.com/simonw/sqlite-utils/issues/257"><span
style='color:#377063;text-decoration:none'>#257</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/257"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Suggest --<sub><span
style='font-size:15.5pt;line-height:103%'>alter </span></sub>if an error occurs
caused by a missing column. (<a
href="https://github.com/simonw/sqlite-utils/issues/259"><span
style='color:#377063;text-decoration:none'>#259</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/259"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support creating
indexes with columns in descending order, see <i><span style='color:#355F7C'>API
documentation </span></i>and <i><span style='color:#355F7C'>CLI documentation</span></i>.
<a href="https://github.com/simonw/sqlite-utils/issues/260"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/260"><span
style='color:#377063;text-decoration:none'>#260</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/260"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Correctly handle CSV
files that start with a UTF-8 BOM. (<a
href="https://github.com/simonw/sqlite-utils/issues/250"><span
style='color:#377063;text-decoration:none'>#250</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/250"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251629">1.8.42 3.6 (2021-02-18)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:-.25pt'>This release adds the ability to execute queries joining
data from more than one database file - similar to the cross database querying
feature introduced in <a
href="https://docs.datasette.io/en/stable/changelog.html#v0-55"><span
style='color:#377063;text-decoration:none'>Datasette 0.55</span></a><a
href="https://docs.datasette.io/en/stable/changelog.html#v0-55"><span
style='color:black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The db.attach(alias,
filepath) Python method can be used to attach extra databases to the same
connection, see <i><span style='color:#355F7C'>db.attach() in the Python API
documentation</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/113"><span
style='color:#377063;text-decoration:none'>#113</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/113"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --<sub><span
style='font-size:15.5pt;line-height:103%'>attach </span></sub>option attaches
extra aliased databases to run SQL queries against directly on the
command-line, see <i><span style='color:#355F7C'>attaching additional databases
in the CLI documentation</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/236"><span
style='color:#377063;text-decoration:none'>#236</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/236"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251630">1.8.43 3.5 (2021-02-14)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert
--sniff option for detecting the delimiter and quote character used by a CSV
file, see <i><span style='color:#355F7C'>Alternative delimiters and quote
characters</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/230"><span
style='color:#377063;text-decoration:none'>#230</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/230"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
table.rows_where(), table.search() and table.search_sql() methods all now take
optional offset= and limit= arguments. (<a
href="https://github.com/simonw/sqlite-utils/issues/231"><span
style='color:#377063;text-decoration:none'>#231</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/231"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --no-headers option
for sqlite-utils insert --csv to handle CSV files that are missing the header
row, see <i><span style='color:#355F7C'>CSV files without a header row</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/228"><span
style='color:#377063;text-decoration:none'>#228</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/228"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where
inserting data with extra columns in subsequent chunks would throw an error.
Thanks <a href="https://github.com/nieuwenhoven"><span style='color:#377063;
text-decoration:none'>@nieuwenhoven</span></a><span style='color:#377063'> </span>for
the fix. (<a href="https://github.com/simonw/sqlite-utils/issues/234"><span
style='color:#377063;text-decoration:none'>#234</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/234"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug importing
CSV files with columns containing more than 128KB of data. (<a
href="https://github.com/simonw/sqlite-utils/issues/229"><span
style='color:#377063;text-decoration:none'>#229</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/229"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Test suite now runs
in CI against Ubuntu, macOS and Windows. Thanks <a
href="https://github.com/nieuwenhoven"><span style='color:#377063;text-decoration:
none'>@nieuwenhoven</span></a><span style='color:#377063'> </span>for the
Windows test fixes. (<a href="https://github.com/simonw/sqlite-utils/issues/232"><span
style='color:#377063;text-decoration:none'>#232</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/232"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251631">1.8.44 3.4.1 (2021-02-05)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Fixed a code import bug that slipped in to 3.4. (<a
href="https://github.com/simonw/sqlite-utils/issues/226"><span
style='color:#377063;text-decoration:none'>#226</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/226"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.2pt;margin-left:
-.25pt'><a name="_Toc251632">1.8.45 3.4 (2021-02-05)</a></h3>

<p class=MsoNormal style='margin-left:16.2pt;line-height:107%'> sqlite-utils
insert --csv now accepts optional --delimiter and --quotechar options. See <i><span
style='color:#355F7C'>Alterna-</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:21.65pt;
margin-left:25.4pt;line-height:110%'><i><span style='color:#355F7C'>tive
delimiters and quote characters</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/223"><span
style='color:#377063;text-decoration:none'>#223</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/223"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251633">1.8.46 3.3 (2021-01-17)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'> The table.m2m() method now accepts an
optional alter=True argument to specify that any missing columns should be
added to the referenced table. See <i><span style='color:#355F7C'>Working with
many-to-many relationships</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/222"><span
style='color:#377063;text-decoration:none'>#222</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/222"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251634">1.8.47 3.2.1 (2021-01-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:16.95pt'> Fixed a bug where .add_missing_columns() failed to take
case insensitive column names into account. (<a
href="https://github.com/simonw/sqlite-utils/issues/221"><span
style='color:#377063;text-decoration:none'>#221</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/221"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251635">1.8.48 3.2 (2021-01-03)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:-.25pt'>This release introduces a new mechanism for speeding up count(*)
queries using cached table counts, stored in a _counts table and updated by
triggers. This mechanism is described in <i><span style='color:#355F7C'>Cached
table counts using triggers</span></i>, and can be enabled using Python API
methods or the new enable-counts CLI command. (<a
href="https://github.com/simonw/sqlite-utils/issues/212"><span
style='color:#377063;text-decoration:none'>#212</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/212"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.enable_counts()
method for enabling these triggers on a specific table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.enable_counts() method
for enabling triggers on every table in the database. (<a
href="https://github.com/simonw/sqlite-utils/issues/213"><span
style='color:#377063;text-decoration:none'>#213</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/213"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
enable-counts my.db command for enabling counts on all or specific tables, see <i><span
style='color:#355F7C'>Enabling cached counts</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/214"><span
style='color:#377063;text-decoration:none'>#214</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/214"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
triggers command for listing the triggers defined for a database or specific
tables, see <i><span style='color:#355F7C'>Listing triggers</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/218"><span
style='color:#377063;text-decoration:none'>#218</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/218"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New db.use_counts_table
property which, if True, causes table.count to read from the _counts table. <a
href="https://github.com/simonw/sqlite-utils/issues/215"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/215"><span
style='color:#377063;text-decoration:none'>#215</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/215"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.has_counts_triggers
property revealing if a table has been configured with the new _counts database
triggers.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.reset_counts() method
and sqlite-utils reset-counts command for resetting the values in the _counts table.
(<a href="https://github.com/simonw/sqlite-utils/issues/219"><span
style='color:#377063;text-decoration:none'>#219</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/219"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The previously
undocumented db.escape() method has been renamed to db.quote() and is now
covered by the documentation: <i><span style='color:#355F7C'>Quoting strings
for use in SQL</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/217"><span
style='color:#377063;text-decoration:none'>#217</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/217"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:23.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.triggers_dict
and db.triggers_dict introspection properties. (<a
href="https://github.com/simonw/sqlite-utils/issues/211"><span
style='color:#377063;text-decoration:none'>#211</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/211"><span
style='color:black;text-decoration:none'>,</span></a> <a
href="https://github.com/simonw/sqlite-utils/issues/216"><span
style='color:#377063;text-decoration:none'>#216</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/216"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert now
shows a more useful error message for invalid JSON. (<a
href="https://github.com/simonw/sqlite-utils/issues/206"><span
style='color:#377063;text-decoration:none'>#206</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/206"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251636">1.8.49 3.1.1 (2021-01-01)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed failing test
caused by optimize sometimes creating larger database files. (<a
href="https://github.com/simonw/sqlite-utils/issues/209"><span
style='color:#377063;text-decoration:none'>#209</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/209"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.15pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation
now lives on <a href="https://sqlite-utils.datasette.io/"><span
style='color:#377063;text-decoration:none'>https://sqlite-utils.datasette.io/</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>README now includes brew
install sqlite-utils installation method.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.35pt;margin-left:
-.25pt'><a name="_Toc251637">1.8.50 3.1 (2020-12-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New command: sqlite-utils
analyze-tables my.db outputs useful information about the table columns in the
database, such as the number of distinct values and how many rows are null. See
<i><span style='color:#355F7C'>Analyzing tables </span></i>for documentation. (<a
href="https://github.com/simonw/sqlite-utils/issues/207"><span
style='color:#377063;text-decoration:none'>#207</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/207"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.analyze_column(column)
Python method used by the analyze-tables command - see <i><span
style='color:#355F7C'>Analyzing a column</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.update() method
now correctly handles values that should be stored as JSON. Thanks, Andreas</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:25.4pt'>Madsack. (<a
href="https://github.com/simonw/sqlite-utils/pull/204"><span style='color:#377063;
text-decoration:none'>#204</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/204"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251638">1.8.51 3.0 (2020-11-08)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt;line-height:156%'>This release introduces a new sqlite-utils
search command for searching tables, see <i><span style='color:#355F7C'>Executing
searches</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/192"><span
style='color:#377063;text-decoration:none'>#192</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/192"><span
style='color:black;text-decoration:none'>) </span></a>The table.search() method
has been redesigned, see <i><span style='color:#355F7C'>Searching with
table.search()</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/197"><span
style='color:#377063;text-decoration:none'>#197</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/197"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.8pt;
margin-left:-.25pt'>The release includes minor backwards-incompatible changes,
hence the version bump to 3.0. Those changes, which should not affect most
users, are:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The -<sub><span
style='font-size:15.5pt;line-height:103%'>c </span></sub>shortcut option for
outputting CSV is no longer available. The full --<sub><span style='font-size:
15.5pt;line-height:103%'>csv </span></sub>option is required instead.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The -f shortcut for --fmt
has also been removed - use --fmt.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.search() method
now defaults to sorting by relevance, not sorting by rowid. (<a
href="https://github.com/simonw/sqlite-utils/issues/198"><span
style='color:#377063;text-decoration:none'>#198</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/198"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.1pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:123%'><span
style='line-height:123%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
table.search() method now returns a generator over a list of Python
dictionaries. It previously returned a list of tuples. Also in this release:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The query, tables, rows
and search CLI commands now accept a new --tsv option which outputs the results
in TSV. (<a href="https://github.com/simonw/sqlite-utils/issues/193"><span
style='color:#377063;text-decoration:none'>#193</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/193"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>A new table.virtual_table_using
property reveals if a table is a virtual table, and returns the upper case type
of virtual table (e.g. FTS4 or FTS5) if it is. It returns None if the table is
not a virtual table. (<a
href="https://github.com/simonw/sqlite-utils/issues/196"><span
style='color:#377063;text-decoration:none'>#196</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/196"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The new table.search_sql()
method returns the SQL for searching a table, see <i><span style='color:#355F7C'>Building
SQL queries with table.search_sql()</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:149%'><span
style='line-height:149%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
rows now accepts multiple optional -<sub><span style='font-size:15.5pt;
line-height:149%'>c </span></sub>parameters specifying the columns to return. (<a
href="https://github.com/simonw/sqlite-utils/issues/200"><span
style='color:#377063;text-decoration:none'>#200</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/200"><span
style='color:black;text-decoration:none'>) </span></a>Changes since the 3.0a0
alpha release:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sqlite-utils
search command now defaults to returning every result, unless you add a --limit
20 option.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
sqlite-utils search -c and table.search(columns=[]) options are now fully
respected. (<a href="https://github.com/simonw/sqlite-utils/issues/201"><span
style='color:#377063;text-decoration:none'>#201</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/201"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.25pt;margin-left:
-.25pt'><a name="_Toc251639">1.8.52 2.23 (2020-10-28)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.m2m(other_table,
records) method now takes any iterable, not just a list or tuple. Thanks, Adam
Wolf. (<a href="https://github.com/simonw/sqlite-utils/pull/189"><span
style='color:#377063;text-decoration:none'>#189</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/189"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils insert now
displays a progress bar for CSV or TSV imports. (<a
href="https://github.com/simonw/sqlite-utils/issues/173"><span
style='color:#377063;text-decoration:none'>#173</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/173"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New @db.register_function(deterministic=True)
option for registering deterministic SQLite functions</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:25.4pt'>in Python 3.8 or higher. (<a
href="https://github.com/simonw/sqlite-utils/issues/191"><span
style='color:#377063;text-decoration:none'>#191</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/191"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251640">1.8.53 2.22 (2020-10-16)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --<sub><span
style='font-size:15.5pt;line-height:103%'>encoding </span></sub>option for
processing CSV and TSV files that use a non-utf-8 encoding, for both the insert
and update commands. (<a
href="https://github.com/simonw/sqlite-utils/issues/182"><span
style='color:#377063;text-decoration:none'>#182</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/182"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The --load-extension option
is now available to many more commands. (<a
href="https://github.com/simonw/sqlite-utils/issues/137"><span
style='color:#377063;text-decoration:none'>#137</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/137"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--load-extension=spatialite
can be used to load SpatiaLite from common installation locations, if it is
available. (<a href="https://github.com/simonw/sqlite-utils/issues/136"><span
style='color:#377063;text-decoration:none'>#136</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/136"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Tests now also run
against Python 3.9. (<a href="https://github.com/simonw/sqlite-utils/issues/184"><span
style='color:#377063;text-decoration:none'>#184</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/184"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Passing pk=[&quot;id&quot;]
now has the same effect as passing pk=&quot;id&quot;. (<a
href="https://github.com/simonw/sqlite-utils/issues/181"><span
style='color:#377063;text-decoration:none'>#181</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/181"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.45pt;margin-left:
-.25pt'><a name="_Toc251641">1.8.54 2.21 (2020-09-24)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.extract() and sqlite-utils
extract now apply much, much faster - one example operation reduced from twelve
minutes to just four seconds! (<a
href="https://github.com/simonw/sqlite-utils/issues/172"><span
style='color:#377063;text-decoration:none'>#172</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/172"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils extract no
longer shows a progress bar, because its fast enough not to need one.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New column_order= option
for table.transform() which can be used to alter the order of columns in a
table. (<a href="https://github.com/simonw/sqlite-utils/issues/175"><span
style='color:#377063;text-decoration:none'>#175</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/175"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
transform --column-order= option (with a -o shortcut) for changing column
order. (<a href="https://github.com/simonw/sqlite-utils/issues/176"><span
style='color:#377063;text-decoration:none'>#176</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/176"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.transform(drop_foreign_keys=)
parameter and the sqlite-utils transform --<sub><span style='font-size:15.5pt;
line-height:103%'>drop-foreign-key </span></sub>option have changed. They now
accept just the name of the column rather than requiring all three of the
column, other table and other column. This is technically a
backwards-incompatible change but I chose not to bump the major version number
because the transform feature is so new. (<a
href="https://github.com/simonw/sqlite-utils/issues/177"><span
style='color:#377063;text-decoration:none'>#177</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/177"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:21.95pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table
.disable_fts(), .rebuild_fts(), .delete(), .delete_where()
and . add_missing_columns() methods all now return self, which means they can
be chained together with other table operations.</p>

<h3 style='margin-left:-.25pt'><a name="_Toc251642">1.8.55 2.20 (2020-09-22)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:120.55pt;
margin-left:-.25pt'>This release introduces two key new capabilities: <b><sub><span
style='font-size:15.5pt;line-height:103%'>transform </span></sub></b><a
href="https://github.com/simonw/sqlite-utils/issues/114"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/114"><span
style='color:#377063;text-decoration:none'>#114</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/114"><span
style='color:black;text-decoration:none'>)</span></a> and <b><sub><span
style='font-size:15.5pt;line-height:103%'>extract </span></sub></b><a
href="https://github.com/simonw/sqlite-utils/issues/42"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/42"><span style='color:
#377063;text-decoration:none'>#42</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/42"><span style='color:
black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Transform</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.15pt;
margin-left:-.25pt'>SQLites ALTER TABLE has <a
href="https://sqlite.org/lang_altertable.html"><span style='color:#377063;
text-decoration:none'>several documented limitations</span></a><a
href="https://sqlite.org/lang_altertable.html"><span style='color:black;
text-decoration:none'>.</span></a> The table.transform() Python method and sqlite-utils
transform CLI command work around these limitations using a pattern where a new
table with the desired structure is created, data is copied over to it and the
old table is then dropped and replaced by the new one. You can use these tools
to change column types, rename columns, drop columns, add and remove NOT NULL and
defaults, remove foreign key constraints and more. See the <i><span
style='color:#355F7C'>transforming tables (CLI) </span></i>and <i><span
style='color:#355F7C'>transforming tables (Python library) </span></i>documentation
for full details of how to use them.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Extract</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:-.25pt'>Sometimes a database table - especially one imported from a
CSV file - will contain duplicate data. A Trees table may include a Species column
with only a few dozen unique values, when the table itself contains thousands
of rows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>The table.extract() method and sqlite-utils extract commands
can extract a column - or multiple columns - out into a separate lookup table,
and set up a foreign key relationship from the original table.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:19.4pt;
margin-left:-.25pt'>The Python library <i><span style='color:#355F7C'>extract()
documentation </span></i>describes how extraction works in detail, and <i><span
style='color:#355F7C'>Extracting columns into a separate table </span></i>in
the CLI documentation includes a detailed example.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:11.95pt;margin-left:-.25pt;text-align:left'><b><span
style='color:#20435C'>Other changes</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The @db.register_function
decorator can be used to quickly register Python functions as custom SQL
functions, see <i><span style='color:#355F7C'>Registering custom SQL functions</span></i>.
(<a href="https://github.com/simonw/sqlite-utils/issues/162"><span
style='color:#377063;text-decoration:none'>#162</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/162"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The table.rows_where()
method now accepts an optional select= argument for specifying which columns
should be selected, see <i><span style='color:#355F7C'>Listing rows</span></i>.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.4pt;margin-left:
-.25pt'><a name="_Toc251643">1.8.56 2.19 (2020-09-20)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.6pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils add-foreign-keys command for <i><span style='color:#355F7C'>Adding
multiple foreign keys at once</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/157"><span
style='color:#377063;text-decoration:none'>#157</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/157"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.enable_fts(...,
replace=True) argument for replacing an existing FTS table with a new
configuration. (<a href="https://github.com/simonw/sqlite-utils/issues/160"><span
style='color:#377063;text-decoration:none'>#160</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/160"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.add_foreign_key(...,
ignore=True) argument for ignoring a foreign key if it already exists.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/112"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/112"><span
style='color:#377063;text-decoration:none'>#112</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/112"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251644">1.8.57 2.18 (2020-09-08)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.rebuild_fts() method
for rebuilding a FTS index, see <i><span style='color:#355F7C'>Rebuilding a
full-text search table</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/155"><span
style='color:#377063;text-decoration:none'>#155</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/155"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
rebuild-fts data.db command for rebuilding FTS indexes across all tables, or
just specific tables. (<a
href="https://github.com/simonw/sqlite-utils/issues/155"><span
style='color:#377063;text-decoration:none'>#155</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/155"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.optimize() method
no longer deletes junk rows from the *_fts_docsize table. This was added in</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:25.4pt'>2.17 but it turns out running table.rebuild_fts() is a
better solution to this problem.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed a bug where
rows with additional columns that are inserted after the first batch of records
could cause an error due to breaking SQLites maximum number of parameters.
Thanks, Simon Wiles. (<a
href="https://github.com/simonw/sqlite-utils/issues/145"><span
style='color:#377063;text-decoration:none'>#145</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/145"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251645">1.8.58 2.17 (2020-09-07)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.3pt;
margin-left:-.25pt'>This release handles a bug where replacing rows in FTS
tables could result in growing numbers of unnecessary rows in the associated *_fts_docsize
table. (<a href="https://github.com/simonw/sqlite-utils/issues/149"><span
style='color:#377063;text-decoration:none'>#149</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/149"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.7pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:128%'><span
style='line-height:128%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>PRAGMA
recursive_triggers=on by default for all connections. You can turn it off with Database(recursive_triggers=False).
(<a href="https://github.com/simonw/sqlite-utils/issues/152"><span
style='color:#377063;text-decoration:none'>#152</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/152"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.optimize() method
now deletes unnecessary rows from the *_fts_docsize table. (<a
href="https://github.com/simonw/sqlite-utils/issues/153"><span
style='color:#377063;text-decoration:none'>#153</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/153"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.3pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New tracer method for
tracking underlying SQL queries, see <i><span style='color:#355F7C'>Tracing
queries</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/150"><span
style='color:#377063;text-decoration:none'>#150</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/150"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Neater indentation
for schema SQL. (<a href="https://github.com/simonw/sqlite-utils/issues/148"><span
style='color:#377063;text-decoration:none'>#148</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/148"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation for sqlite_utils.AlterError
exception thrown by in add_foreign_keys().</p>

<h3 style='margin-left:-.25pt'><a name="_Toc251646">1.8.59 2.16.1 (2020-08-28)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>insert_all(...,
alter=True) now works for columns introduced after the first 100 records.
Thanks, Simon Wiles! (<a
href="https://github.com/simonw/sqlite-utils/issues/139"><span
style='color:#377063;text-decoration:none'>#139</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/139"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Continuous
Integration is now powered by GitHub Actions. (<a
href="https://github.com/simonw/sqlite-utils/issues/143"><span
style='color:#377063;text-decoration:none'>#143</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/143"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.7pt;margin-left:
-.25pt'><a name="_Toc251647">1.8.60 2.16 (2020-08-21)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--load-extension option
for sqlite-utils query for loading SQLite extensions. (<a
href="https://github.com/simonw/sqlite-utils/issues/134"><span
style='color:#377063;text-decoration:none'>#134</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/134"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite_utils.utils.find_spatialite()
function for finding SpatiaLite in common locations.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/135"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/135"><span
style='color:#377063;text-decoration:none'>#135</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/135"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251648">1.8.61 2.15.1 (2020-08-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.35pt;
margin-left:16.95pt'> Now available as a sdist package on PyPI in addition to
a wheel. (<a href="https://github.com/simonw/sqlite-utils/issues/133"><span
style='color:#377063;text-decoration:none'>#133</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/133"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.3pt;margin-left:
-.25pt'><a name="_Toc251649">1.8.62 2.15 (2020-08-10)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:8.25pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>New db.enable_wal()
and db.disable_wal() methods for enabling and disabling <a
href="https://www.sqlite.org/wal.html"><span style='color:#377063;text-decoration:
none'>Write-Ahead Logging </span></a>for a database file - see <i><span
style='color:#355F7C'>WAL mode </span></i>in the Python API documentation.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:.25pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Also sqlite-utils enable-wal file.db and sqlite-utils disable-wal
file.db commands for do-</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:25.4pt'>ing the same thing on the command-line, see <i><span
style='color:#355F7C'>WAL mode (CLI)</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/132"><span
style='color:#377063;text-decoration:none'>#132</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/132"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251650">1.8.63 2.14.1 (2020-08-05)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:124.55pt;
margin-left:16.95pt'> Documentation improvements.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.75pt;margin-left:
-.25pt'><a name="_Toc251651">1.8.64 2.14 (2020-08-01)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:3.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:128%'><span
style='line-height:128%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The
<i><span style='color:#355F7C'>insert-files command </span></i>can now read
from standard input: cat dog.jpg | sqlite-utils insert-files dogs.db pics -
--name=dog.jpg. (<a href="https://github.com/simonw/sqlite-utils/issues/127"><span
style='color:#377063;text-decoration:none'>#127</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/127"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can now specify a
full-text search tokenizer using the new tokenize= parameter to <i><span
style='color:#355F7C'>enable_fts()</span></i>. This means you can enable Porter
stemming on a table by running db[&quot;articles&quot;].enable_fts([&quot;headline&quot;,
&quot;body&quot;], tokenize=&quot;porter&quot;). (<a
href="https://github.com/simonw/sqlite-utils/issues/130"><span
style='color:#377063;text-decoration:none'>#130</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/130"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>You can also set a
custom tokenizer using the <i><span style='color:#355F7C'>sqlite-utils
enable-fts </span></i>CLI command, via the new --<sub><span style='font-size:
15.5pt;line-height:103%'>tokenize </span></sub>option.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.45pt;margin-left:
-.25pt'><a name="_Toc251652">1.8.65 2.13 (2020-07-29)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'> memoryview and uuid.UUID objects are
now supported. memoryview objects will be stored using BLOB and uuid.UUID objects
will be stored using TEXT. (<a
href="https://github.com/simonw/sqlite-utils/issues/128"><span
style='color:#377063;text-decoration:none'>#128</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/128"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251653">1.8.66 2.12 (2020-07-27)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:-.25pt'>The theme of this release is better tools for working with
binary data. The new insert-files command can be used to insert binary files
directly into a database table, and other commands have been improved with
better support for BLOB columns.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
insert-files my.db gifs *.gif can now insert the contents of files into a
specified table. The columns in the table can be customized to include
different pieces of metadata derived from the files. See <i><span
style='color:#355F7C'>Inserting data from files</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/122"><span
style='color:#377063;text-decoration:none'>#122</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/122"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.6pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--raw option to sqlite-utils
query - for outputting just a single raw column value - see <i><span
style='color:#355F7C'>Returning raw data, such as binary content</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/123"><span
style='color:#377063;text-decoration:none'>#123</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/123"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>JSON output now
encodes BLOB values as special base64 objects - see <i><span style='color:#355F7C'>Returning
JSON</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/125"><span
style='color:#377063;text-decoration:none'>#125</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/125"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The same format of
JSON base64 objects can now be used to insert binary data - see <i><span
style='color:#355F7C'>Inserting JSON data</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/126"><span
style='color:#377063;text-decoration:none'>#126</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/126"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:2.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sqlite-utils
query command can now accept named parameters, e.g. sqlite-utils :memory:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.55pt;
margin-left:25.4pt;line-height:107%'>&quot;select :num * :num2&quot; -p num 5
-p num2 6 - see <i><span style='color:#355F7C'>Returning JSON</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/124"><span
style='color:#377063;text-decoration:none'>#124</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/124"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.45pt;margin-left:
-.25pt'><a name="_Toc251654">1.8.67 2.11 (2020-07-08)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --truncate option
to sqlite-utils insert, and truncate=True argument to .insert_all(). Thanks,
Thomas Sibley. (<a href="https://github.com/simonw/sqlite-utils/pull/118"><span
style='color:#377063;text-decoration:none'>#118</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/118"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.5pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sqlite-utils
query command now runs updates in a transaction. Thanks, Thomas Sibley. (<a
href="https://github.com/simonw/sqlite-utils/pull/120"><span style='color:#377063;
text-decoration:none'>#120</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/120"><span style='color:black;
text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251655">1.8.68 2.10.1 (2020-06-23)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:16.95pt'> Added documentation for the table.pks introspection
property. (<a href="https://github.com/simonw/sqlite-utils/issues/116"><span
style='color:#377063;text-decoration:none'>#116</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/116"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251656">1.8.69 2.10 (2020-06-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:16.95pt'> The sqlite-utils command now supports
UPDATE/INSERT/DELETE in addition to SELECT. (<a
href="https://github.com/simonw/sqlite-utils/issues/115"><span
style='color:#377063;text-decoration:none'>#115</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/115"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251657">1.8.70 2.9.1 (2020-05-11)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Added custom project links to the <a
href="https://pypi.org/project/sqlite-utils/"><span style='color:#377063;
text-decoration:none'>PyPI listing</span></a><a
href="https://pypi.org/project/sqlite-utils/"><span style='color:black;
text-decoration:none'>.</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.55pt;margin-left:
-.25pt'><a name="_Toc251658">1.8.71 2.9 (2020-05-10)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils drop-table command, see <i><span style='color:#355F7C'>Dropping
tables</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/111"><span
style='color:#377063;text-decoration:none'>#111</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/111"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.8pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils drop-view command, see <i><span style='color:#355F7C'>Dropping
views</span></i>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.7pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Python decimal.Decimal
objects are now stored as FLOAT. (<a
href="https://github.com/simonw/sqlite-utils/issues/110"><span
style='color:#377063;text-decoration:none'>#110</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/110"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.65pt;margin-left:
-.25pt'><a name="_Toc251659">1.8.72 2.8 (2020-05-03)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.05pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils create-table command, see <i><span style='color:#355F7C'>Creating
tables</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/27"><span
style='color:#377063;text-decoration:none'>#27</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/27"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils create-view command, see <i><span style='color:#355F7C'>Creating
views</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/107"><span
style='color:#377063;text-decoration:none'>#107</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/107"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.95pt;margin-left:
-.25pt'><a name="_Toc251660">1.8.73 2.7.2 (2020-05-02)</a></h3>

<p class=MsoNormal style='margin-left:16.2pt;line-height:107%'> db.create_view(...)
now has additional parameters ignore=True or replace=True, see <i><span
style='color:#355F7C'>Creating views</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/106"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/106"><span
style='color:#377063;text-decoration:none'>#106</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/106"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.2pt;margin-left:
-.25pt'><a name="_Toc251661">1.8.74 2.7.1 (2020-05-01)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New sqlite-utils
views my.db command for listing views in a database, see <i><span
style='color:#355F7C'>Listing views</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/105"><span
style='color:#377063;text-decoration:none'>#105</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/105"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils tables (and
views) has a new --schema option which outputs the table/view schema, see <i><span
style='color:#355F7C'>Listing tables</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/104"><span
style='color:#377063;text-decoration:none'>#104</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/104"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Nested structures
containing invalid JSON values (e.g. Python bytestrings) are now serialized
using repr() instead of throwing an error. (<a
href="https://github.com/simonw/sqlite-utils/issues/102"><span
style='color:#377063;text-decoration:none'>#102</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/102"><span
style='color:black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.3pt;margin-left:
-.25pt'><a name="_Toc251662">1.8.75 2.7 (2020-04-17)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:132.3pt;
margin-left:24.9pt;text-indent:-8.45pt'> New columns= argument for the .insert(),
.insert_all(), .upsert() and .upsert_all() methods, for over-riding the
auto-detected types for columns and specifying additional columns that should
be added when the table is created. See <i><span style='color:#355F7C'>Custom
column order and column types</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/100"><span
style='color:#377063;text-decoration:none'>#100</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/100"><span
style='color:black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:11.25pt;margin-left:
-.25pt'><a name="_Toc251663">1.8.76 2.6 (2020-04-15)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.45pt;
margin-left:16.2pt;line-height:107%'> New table.rows_where(...,
order_by=&quot;age desc&quot;) argument, see <i><span style='color:#355F7C'>Listing
rows</span></i>. (<a href="https://github.com/simonw/sqlite-utils/issues/76"><span
style='color:#377063;text-decoration:none'>#76</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/76"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251664">1.8.77 2.5 (2020-04-12)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Pandas Timestamp is
now stored as a SQLite TEXT column. Thanks, b0b5h4rp13! (<a
href="https://github.com/simonw/sqlite-utils/issues/96"><span style='color:
#377063;text-decoration:none'>#96</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/96"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.05pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.last_pk is now
only available for inserts or upserts of a single record. (<a
href="https://github.com/simonw/sqlite-utils/issues/98"><span style='color:
#377063;text-decoration:none'>#98</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/98"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New Database(filepath,
recreate=True) parameter for deleting and recreating the database. (<a
href="https://github.com/simonw/sqlite-utils/issues/97"><span style='color:
#377063;text-decoration:none'>#97</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/97"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251665">1.8.78 2.4.4 (2020-03-23)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Fixed bug where columns with only null values were not
correctly created. (<a href="https://github.com/simonw/sqlite-utils/issues/95"><span
style='color:#377063;text-decoration:none'>#95</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/95"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251666">1.8.79 2.4.3 (2020-03-23)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Column type suggestion code is no longer confused by
null values. (<a href="https://github.com/simonw/sqlite-utils/issues/94"><span
style='color:#377063;text-decoration:none'>#94</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/94"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251667">1.8.80 2.4.2 (2020-03-14)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.column_dicts now
works with all column types - previously it would throw errors on types other
than TEXT, BLOB, INTEGER or FLOAT. (<a
href="https://github.com/simonw/sqlite-utils/issues/92"><span style='color:
#377063;text-decoration:none'>#92</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/92"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation for NotFoundError
thrown by table.get(pk) - see <i><span style='color:#355F7C'>Retrieving a
specific record</span></i>.</p>

<h3 style='margin-left:-.25pt'><a name="_Toc251668">1.8.81 2.4.1 (2020-03-01)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.6pt;
margin-left:16.95pt'> table.enable_fts() now works with columns that contain
spaces. (<a href="https://github.com/simonw/sqlite-utils/issues/90"><span
style='color:#377063;text-decoration:none'>#90</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/90"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251669">1.8.82 2.4 (2020-02-26)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.75pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:124%'><span
style='line-height:124%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.disable_fts()
can now be used to remove FTS tables and triggers that were created using table.
enable_fts(...). (<a href="https://github.com/simonw/sqlite-utils/issues/88"><span
style='color:#377063;text-decoration:none'>#88</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/88"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>The sqlite-utils
disable-fts command can be used to remove FTS tables and triggers from the
commandline. (<a href="https://github.com/simonw/sqlite-utils/issues/88"><span
style='color:#377063;text-decoration:none'>#88</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/88"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Trying to create
table columns with square braces ([ or ]) in the name now raises an error. (<a
href="https://github.com/simonw/sqlite-utils/issues/86"><span style='color:
#377063;text-decoration:none'>#86</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/86"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Subclasses of dict, list
and tuple are now detected as needing a JSON column. (<a
href="https://github.com/simonw/sqlite-utils/issues/87"><span style='color:
#377063;text-decoration:none'>#87</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/87"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:162.5pt;margin-bottom:9.35pt;margin-left:
-.25pt;text-align:justify;text-justify:inter-ideograph;line-height:213%'><a
name="_Toc251670">1.8.83 2.3.1 (2020-02-10)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:162.5pt;margin-bottom:
9.35pt;margin-left:-.25pt;line-height:213%'>table.create_index() now works for
columns that contain spaces. (<a
href="https://github.com/simonw/sqlite-utils/issues/85"><span style='color:
#377063;text-decoration:none'>#85</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/85"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-left:-.25pt'><a name="_Toc251671">1.8.84 2.3 (2020-02-08)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:-.25pt'>table.exists() is now a method, not a property. This was
not a documented part of the API before so Im considering this a non-breaking
change. (<a href="https://github.com/simonw/sqlite-utils/issues/83"><span
style='color:#377063;text-decoration:none'>#83</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/83"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:10.65pt;margin-left:
-.25pt'><a name="_Toc251672">1.8.85 2.2.1 (2020-02-06)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.8pt;
margin-left:-.25pt'>Fixed a bug where .upsert(..., hash_id=&quot;pk&quot;) threw
an error (<a href="https://github.com/simonw/sqlite-utils/issues/84"><span
style='color:#377063;text-decoration:none'>#84</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/84"><span style='color:
black;text-decoration:none'>)</span></a>.</p>

<h3 style='margin-top:0in;margin-right:0in;margin-bottom:.15in;margin-left:
-.25pt'><a name="_Toc251673">1.8.86 2.2 (2020-02-01)</a></h3>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:-.25pt'>New feature: sqlite_utils.suggest_column_types([records]) returns
the suggested column types for a list of records. See <i><span
style='color:#355F7C'>Suggesting column types</span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/81"><span style='color:
#377063;text-decoration:none'>#81</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/81"><span style='color:
black;text-decoration:none'>)</span></a>.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.8pt;
margin-left:-.25pt'>This replaces the undocumented table.detect_column_types() method.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251674">1.8.87 2.1 (2020-01-30)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:-.25pt'>New feature: conversions={...} can be passed to the .insert()
family of functions to specify SQL conversions that should be applied to values
that are being inserted or updated. See <i><span style='color:#355F7C'>Converting
column values using SQL functions </span></i>. (<a
href="https://github.com/simonw/sqlite-utils/issues/73"><span style='color:
#377063;text-decoration:none'>#77</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/73"><span style='color:
black;text-decoration:none'>)</span></a>.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.35pt;margin-left:
-.25pt'><a name="_Toc251675">1.8.88 2.0.1 (2020-01-05)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.35pt;
margin-left:-.25pt'>The .upsert() and .upsert_all() methods now raise a sqlite_utils.db.PrimaryKeyRequired
exception if you call them without specifying the primary key column using pk= <a
href="https://github.com/simonw/sqlite-utils/issues/73"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/73"><span style='color:
#377063;text-decoration:none'>#73</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/73"><span style='color:
black;text-decoration:none'>)</span></a>.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251676">1.8.89 2.0 (2019-12-29)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.65pt;
margin-left:-.25pt'>This release changes the behaviour of upsert. Its a
breaking change, hence 2.0.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.5pt;
margin-left:-.25pt'>The upsert command-line utility and the .upsert() and .upsert_all()
Python API methods have had their behaviour altered. They used to completely
replace the affected records: now, they update the specified values on existing
records but leave other columns unaffected.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:80.7pt;
margin-left:-.25pt;line-height:133%'>See <i><span style='color:#355F7C'>Upserting
data using the Python API </span></i>and <i><span style='color:#355F7C'>Upserting
data using the CLI </span></i>for full details. If you want the old behaviour -
where records were completely replaced - you can use $ sqlite-utils insert ...
--replace on the command-line and .insert(..., replace=True) and .insert_all(...,
replace=True) in the Python API. See <i><span style='color:#355F7C'>Insert-replacing
data using the Python API </span></i>and <i><span style='color:#355F7C'>Insert-replacing
data using the CLI </span></i>for more. For full background on this change, see
<a href="https://github.com/simonw/sqlite-utils/issues/66"><span
style='color:#377063;text-decoration:none'>issue #66</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/66"><span style='color:
black;text-decoration:none'>.</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.2pt;margin-left:
-.25pt'><a name="_Toc251677">1.8.90 1.12.1 (2019-11-06)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.65pt;
margin-left:16.95pt'> Fixed error thrown when .insert_all() and .upsert_all() were
called with empty lists (<a
href="https://github.com/simonw/sqlite-utils/issues/52"><span style='color:
#377063;text-decoration:none'>#52</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/52"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251678">1.8.91 1.12 (2019-11-04)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:-.25pt'>Python library utilities for deleting records (<a
href="https://github.com/simonw/sqlite-utils/issues/62"><span style='color:
#377063;text-decoration:none'>#62</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/62"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:7.8pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>db[&quot;tablename&quot;].delete(4)
to delete by primary key, see <i><span style='color:#355F7C'>Deleting a
specific record</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:21.9pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>db[&quot;tablename&quot;].delete_where(&quot;id &gt; ?&quot;,
[3]) to delete by a where clause, see <i><span style='color:#355F7C'>Deleting
multiple records</span></i></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251679">1.8.92 1.11 (2019-09-02)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>Option to create triggers to automatically keep FTS tables
up-to-date with newly inserted, updated and deleted records.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:-.25pt'>Thanks, Amjith Ramanujam! (<a
href="https://github.com/simonw/sqlite-utils/pull/57"><span style='color:#377063;
text-decoration:none'>#57</span></a><a
href="https://github.com/simonw/sqlite-utils/pull/57"><span style='color:black;
text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.0pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
enable-fts ... --create-triggers - see <i><span style='color:#355F7C'>Configuring
full-text search using the CLI</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;tablename&quot;].enable_fts(...,
create_triggers=True) - see <i><span style='color:#355F7C'>Configuring
full-text search using the Python library</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.3pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for
introspecting triggers for a database or table - see <i><span style='color:
#355F7C'>Introspecting tables and views </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/59"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/59"><span style='color:
#377063;text-decoration:none'>#59</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/59"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251680">1.8.93 1.10 (2019-08-23)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:-.25pt'>Ability to introspect and run queries against views (<a
href="https://github.com/simonw/sqlite-utils/issues/54"><span style='color:
#377063;text-decoration:none'>#54</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/54"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.15pt;
margin-left:16.45pt;text-indent:16.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>db.view_names() method and and db.views property</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.05pt;
margin-left:16.45pt;text-indent:16.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Separate View and Table classes, both subclassing new Queryable class</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:16.3pt;
margin-left:16.45pt;text-indent:16.45pt;line-height:153%'><span
style='line-height:153%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>view.drop() method See <i><span style='color:#355F7C'>Listing
views</span></i>.</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251681">1.8.94 1.9 (2019-08-04)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:16.95pt'> table.m2m(...) method for creating many-to-many
relationships: <i><span style='color:#355F7C'>Working with many-to-many
relationships</span></i></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:21.55pt;margin-left:24.65pt;text-align:left;line-height:110%'><a
href="https://github.com/simonw/sqlite-utils/issues/23"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/23"><span style='color:
#377063;text-decoration:none'>#23</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/23"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.65pt;margin-left:
-.25pt'><a name="_Toc251682">1.8.95 1.8 (2019-07-28)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:4.8pt;
margin-left:16.2pt;line-height:110%'> table.update(pk, values) method: <i><span
style='color:#355F7C'>Updating a specific record </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/35"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/35"><span style='color:
#377063;text-decoration:none'>#35</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/35"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251683">1.8.96 1.7.1 (2019-07-28)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Fixed bug where
inserting records with 11 columns in a batch of 100 triggered a too many SQL
variables error <a href="https://github.com/simonw/sqlite-utils/issues/50"><span
style='color:black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/50"><span style='color:
#377063;text-decoration:none'>#50</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/50"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documentation and
tests for table.drop() method: <i><span style='color:#355F7C'>Dropping a table
or view</span></i></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251684">1.8.97 1.7 (2019-07-24)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:-.25pt'>Support for lookup tables.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.lookup({...})
utility method for building and querying lookup tables - see <i><span
style='color:#355F7C'>Working with lookup tables </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/44"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/44"><span style='color:
#377063;text-decoration:none'>#44</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/44"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
extracts= table configuration option, see <i><span style='color:#355F7C'>Populating
lookup tables automatically during insert/upsert </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/46"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/46"><span style='color:
#377063;text-decoration:none'>#46</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/46"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Use <a
href="https://github.com/coleifer/pysqlite3"><span style='color:#377063;
text-decoration:none'>pysqlite3</span></a><span style='color:#377063'> </span>if
it is available, otherwise use sqlite3 from the standard library</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.1in;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Table options can now
be passed to the new db.table(name, **options) factory function in addition to
being passed to insert_all(records, **options) and friends - see <i><span
style='color:#355F7C'>Table configuration options</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.75pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>In-memory databases
can now be created using db = Database(memory=True)</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.35pt;margin-left:
-.25pt'><a name="_Toc251685">1.8.98 1.6 (2019-07-18)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.7pt;
margin-left:16.95pt'> sqlite-utils insert can now accept TSV data via the new --tsv
option (<a href="https://github.com/simonw/sqlite-utils/issues/41"><span
style='color:#377063;text-decoration:none'>#41</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/41"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251686">1.8.99 1.5 (2019-07-14)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.65pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for compound
primary keys (<a href="https://github.com/simonw/sqlite-utils/issues/36"><span
style='color:#377063;text-decoration:none'>#36</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/36"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.2pt;margin-bottom:
.25pt;margin-left:36.8pt;text-indent:-9.95pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>Configure these
using the CLI tool by passing --<sub><span style='font-size:15.5pt;line-height:
103%'>pk </span></sub>multiple times</p>

<p class=MsoNormal style='margin-top:0in;margin-right:12.2pt;margin-bottom:
5.7pt;margin-left:36.8pt;text-indent:-9.95pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>In Python, pass a tuple of columns to the pk=(..., ...) argument:
<i><span style='color:#355F7C'>Compound primary keys</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New table.get() method
for retrieving a record by its primary key: <i><span style='color:#355F7C'>Retrieving
a specific record </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/39"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/39"><span style='color:
#377063;text-decoration:none'>#39</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/39"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251687">1.8.100 1.4.1 (2019-07-14)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Assorted minor documentation fixes: <a
href="https://github.com/simonw/sqlite-utils/compare/1.4...1.4.1"><span
style='color:#377063;text-decoration:none'>changes since 1.4</span></a></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.55pt;margin-left:
-.25pt'><a name="_Toc251688">1.8.101 1.4 (2019-06-30)</a></h6>

<p class=MsoNormal style='margin-left:16.2pt;line-height:107%'> Added sqlite-utils
index-foreign-keys command (<i><span style='color:#355F7C'>docs</span></i>) and
db.index_foreign_keys() method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:118.65pt;
margin-left:25.4pt'>(<i><span style='color:#355F7C'>docs</span></i>) (<a
href="https://github.com/simonw/sqlite-utils/issues/33"><span style='color:
#377063;text-decoration:none'>#33</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/33"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251689">1.8.102 1.3 (2019-06-28)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.3pt;
margin-left:16.95pt'> New mechanism for adding multiple foreign key
constraints at once: <i><span style='color:#355F7C'>db.add_foreign_keys()
documentation </span></i><a
href="https://github.com/simonw/sqlite-utils/issues/31"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/31"><span style='color:
#377063;text-decoration:none'>#31</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/31"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251690">1.8.103 1.2.2 (2019-06-25)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:16.95pt'> Fixed bug where datetime.time was not being handled
correctly</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251691">1.8.104 1.2.1 (2019-06-20)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:16.95pt'> Check the column exists before attempting to add a
foreign key (<a href="https://github.com/simonw/sqlite-utils/issues/29"><span
style='color:#377063;text-decoration:none'>#29</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/29"><span style='color:
black;text-decoration:none'>)</span></a></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.2pt;margin-left:
-.25pt'><a name="_Toc251692">1.8.105 1.2 (2019-06-12)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:6.2pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved foreign key
definitions: you no longer need to specify the column, other_table AND other_column
to define a foreign key - if you omit the other_table or other_column the
script will attempt to guess the correct values by introspecting the database.
See <i><span style='color:#355F7C'>Adding foreign key constraints </span></i>for
details. (<a href="https://github.com/simonw/sqlite-utils/issues/25"><span
style='color:#377063;text-decoration:none'>#25</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/25"><span style='color:
black;text-decoration:none'>)</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.4pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ability
to set NOT NULL constraints and DEFAULT values when creating tables (<a
href="https://github.com/simonw/sqlite-utils/issues/24"><span style='color:
#377063;text-decoration:none'>#24</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/24"><span style='color:
black;text-decoration:none'>)</span></a>. Documentation: <i><span
style='color:#355F7C'>Setting defaults and not null constraints (Python API)</span></i>,
<i><span style='color:#355F7C'>Setting defaults and not null constraints (CLI)</span></i></p>

<p class=MsoNormal style='margin-left:24.15pt;text-indent:-8.45pt;line-height:
107%'><span style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Support for not_null_default=X / --not-null-default for setting a
NOT NULL DEFAULT 'x' when</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.3in;
margin-left:25.4pt;line-height:110%'>adding a new column. Documentation: <i><span
style='color:#355F7C'>Adding columns (Python API)</span></i>, <i><span
style='color:#355F7C'>Adding columns (CLI)</span></i></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251693">1.8.106 1.1 (2019-05-28)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.1pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Support for ignore=True
/ --<sub><span style='font-size:15.5pt;line-height:103%'>ignore </span></sub>for
ignoring inserted records if the primary key already exists (<a
href="https://github.com/simonw/sqlite-utils/issues/21"><span style='color:
#377063;text-decoration:none'>#21</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/21"><span style='color:
black;text-decoration:none'>)</span></a> documentation: <i><span
style='color:#355F7C'>Inserting data (Python API)</span></i>, <i><span
style='color:#355F7C'>Inserting data (CLI)</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ability to add a
column that is a foreign key reference using fk=... / --<sub><span
style='font-size:15.5pt;line-height:103%'>fk </span></sub><a
href="https://github.com/simonw/sqlite-utils/issues/16"><span style='color:
black;text-decoration:none'>(</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/16"><span style='color:
#377063;text-decoration:none'>#16</span></a><a
href="https://github.com/simonw/sqlite-utils/issues/16"><span style='color:
black;text-decoration:none'>)</span></a> - documentation: <i><span
style='color:#355F7C'>Adding columns (Python API)</span></i>, <i><span
style='color:#355F7C'>Adding columns (CLI)</span></i></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.45pt;margin-left:
-.25pt'><a name="_Toc251694">1.8.107 1.0.1 (2019-05-27)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.55pt;
margin-left:16.2pt;line-height:107%'> sqlite-utils rows data.db table
--json-cols - fixed bug where --json-cols was not obeyed</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:14.15pt;margin-left:
-.25pt'><a name="_Toc251695">1.8.108 1.0 (2019-05-24)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:4.8pt;
margin-left:24.5pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b>Option to automatically add new columns if you attempt to
insert or upsert data with extra fields: </b>sqlite-utils insert ... --alter -
see <i><span style='color:#355F7C'>Adding columns automatically with the
sqlite-utils CLI </span></i>db[&quot;tablename&quot;].insert(record,
alter=True) - see <i><span style='color:#355F7C'>Adding columns automatically
using the Python API</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.2pt;margin-bottom:.25pt;
margin-left:24.5pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span>New --<sub><span
style='font-size:15.5pt;line-height:103%'>json-cols </span></sub>option for
outputting nested JSON, see <i><span style='color:#355F7C'>Nested JSON values</span></i></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.4pt;margin-left:
-.25pt'><a name="_Toc251696">1.8.109 0.14 (2019-02-24)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:9.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Ability
to create unique indexes: db[&quot;mytable&quot;].create_index([&quot;name&quot;],
unique=True)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.95pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;mytable&quot;].create_index([&quot;name&quot;],
if_not_exists=True)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.9pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>$
sqlite-utils create-index mydb.db mytable col1 [col2...], see <i><span
style='color:#355F7C'>Creating indexes</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.add_column(name,
type) method, see <i><span style='color:#355F7C'>Adding columns</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.3pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>$
sqlite-utils add-column mydb.db mytable nameofcolumn, see <i><span
style='color:#355F7C'>Adding columns </span></i>(CLI)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.65pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;books&quot;].add_foreign_key(&quot;author_id&quot;,
&quot;authors&quot;, &quot;id&quot;), see <i><span style='color:#355F7C'>Adding
foreign key constraints</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:5.6pt;
margin-left:24.15pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>$
sqlite-utils add-foreign-key books.db books author_id authors id, see <i><span
style='color:#355F7C'>Adding foreign key constraints </span></i>(CLI)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.45pt;
margin-left:24.15pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Improved (but
backwards-incompatible) foreign_keys= argument to various methods, see <i><span
style='color:#355F7C'>Specifying foreign keys</span></i></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251697">1.8.110 0.13 (2019-02-23)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New --<sub><span
style='font-size:15.5pt;line-height:103%'>table </span></sub>and --<sub><span
style='font-size:15.5pt;line-height:103%'>fmt </span></sub>options can be used
to output query results in a variety of visual table formats, see <i><span
style='color:#355F7C'>Table-formatted output</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:4.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:110%'><span
style='line-height:110%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
hash_id= argument can now be used for <i><span style='color:#355F7C'>Setting an
ID based on the hash of the row contents</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.7pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Can now derive
correct column types for numpy int, uint and float values</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.5pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.last_id
has been renamed to table.last_rowid</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.last_pk now
contains the last inserted primary key, if pk= was specified</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Prettier indentation
in the CREATE TABLE generated schemas</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.4pt;margin-left:
-.25pt'><a name="_Toc251698">1.8.111 0.12 (2019-02-22)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added db[table].rows iterator
- see <i><span style='color:#355F7C'>Listing rows</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.1pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:105%'><span
style='line-height:105%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Replaced
sqlite-utils json and sqlite-utils csv with a new default subcommand called
sqlite-utils query which defaults to JSON and takes formatting options --nl, --csv
and --no-headers - see <i><span style='color:#355F7C'>Returning JSON </span></i>and
<i><span style='color:#355F7C'>Returning CSV or TSV</span></i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:165%'><span
style='line-height:165%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New
sqlite-utils rows data.db name-of-table command, see <i><span style='color:
#355F7C'>Returning all rows in a table </span></i> sqlite-utils table command
now takes options --counts and --columns plus the standard output format</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:.3in;
margin-left:25.4pt;line-height:110%'>options, see <i><span style='color:#355F7C'>Listing
tables</span></i></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251699">1.8.112 0.11 (2019-02-07)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>New commands for enabling FTS against a table and columns:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:7.3pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image524.gif"></span></p>

<p class=MsoNormal style='margin-bottom:69.25pt;line-height:110%'>See <i><span
style='color:#355F7C'>Configuring full-text search</span></i>.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.35pt;margin-left:
-.25pt'><a name="_Toc251700">1.8.113 0.10 (2019-02-06)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:232.55pt;margin-bottom:
.25pt;margin-left:-.25pt;line-height:153%'>Handle datetime.date and datetime.time
values. New option for efficiently inserting rows from a CSV:</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:25.15pt;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=25
src="sqlite-utils%20documentation_files/image525.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251701">1.8.114 0.9 (2019-01-27)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.8pt;
margin-left:-.25pt'>Improved support for newline-delimited JSON.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.9pt;
margin-left:-.25pt'>sqlite-utils insert has two new command-line options:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--<sub><span
style='font-size:15.5pt;line-height:103%'>nl </span></sub>means expect
newline-delimited JSON. This is an extremely efficient way of loading in large
amounts of data, especially if you pipe it into standard input.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>--<sub><span
style='font-size:15.5pt;line-height:103%'>batch-size=1000 </span></sub>lets you
increase the batch size (default is 100). A commit will be issued every X
records. This also control how many initial records are considered when
detecting the desired SQL table schema for the data.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:-.25pt'>In the Python API, the table.insert_all(...) method can now
accept a generator as well as a list of objects. This will be efficiently used
to populate the table no matter how many records are produced by the generator.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:-.25pt'>The Database() constructor can now accept a pathlib.Path object
in addition to a string or an existing SQLite connection object.</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.3pt;margin-left:
-.25pt'><a name="_Toc251702">1.8.115 0.8 (2019-01-25)</a></h6>

<p class=MsoNormal style='margin-bottom:5.65pt;line-height:107%'>Two new
commands: sqlite-utils csv and sqlite-utils json</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:-.25pt'>These commands execute a SQL query and return the results
as CSV or JSON. See <i><span style='color:#355F7C'>Returning CSV or TSV </span></i>and
<i><span style='color:#355F7C'>Returning JSON </span></i>for more details.</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:-3.4pt;
margin-bottom:0in;margin-left:-3.4pt;text-align:left;text-indent:0in;
line-height:107%'><span style='font-size:11.0pt;line-height:107%'><img
border=0 width=633 height=296
src="sqlite-utils%20documentation_files/image526.gif"></span></p>

<h6 style='margin-left:-.25pt'><a name="_Toc251703">1.8.116 0.7 (2019-01-24)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.5pt;
margin-left:-.25pt'>This release implements the sqlite-utils command-line tool
with a number of useful subcommands.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.2pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils tables
demo.db lists the tables in the database</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.85pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
tables demo.db --fts4 shows just the FTS4 tables</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
tables demo.db --fts5 shows just the FTS5 tables</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils vacuum
demo.db runs VACUUM against the database</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils optimize
demo.db runs OPTIMIZE against all FTS tables, then VACUUM</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.95pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
optimize demo.db --no-vacuum runs OPTIMIZE but skips VACUUM</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.15pt;
margin-left:-.25pt'>The two most useful subcommands are upsert and insert,
which allow you to ingest JSON files with one or more records in them, creating
the corresponding table with the correct columns if it does not already exist.
See <i><span style='color:#355F7C'>Inserting JSON data </span></i>for more
details.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.35pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils
insert demo.db dogs dogs.json --pk=id inserts new records from dogs.json into
the dogs table</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.55pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>sqlite-utils upsert
demo.db dogs dogs.json --pk=id upserts records, replacing any records with
duplicate primary keys</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.65pt;
margin-left:-.25pt'>One backwards incompatible change: the db[&quot;table&quot;].table_names
property is now a method:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.95pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;table&quot;].table_names()
returns a list of table names</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.0pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;table&quot;].table_names(fts4=True)
returns a list of just the FTS4 tables</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:152%'><span
style='line-height:152%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db[&quot;table&quot;].table_names(fts5=True)
returns a list of just the FTS5 tables A few other changes:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Plenty of updated
documentation, including full coverage of the new command-line tool</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Allow column names to
be reserved words (use correct SQL escaping)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added automatic
column support for bytes and datetime.datetime</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.4pt;margin-left:
-.25pt'><a name="_Toc251704">1.8.117 0.6 (2018-08-12)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.4pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>.enable_fts() now
takes optional argument fts_version, defaults to FTS5. Use FTS4 if the version
of SQLite bundled with your Python does not support FTS5</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:7.8pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>New optional column_order=
argument to .insert() and friends for providing a partial or full desired order
of the columns when a database table is created</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:160.45pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><i><span
style='color:#355F7C'>New documentation </span></i>for .insert_all() and .upsert()
and .upsert_all()</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:4.0pt;margin-left:-.25pt;text-align:left;line-height:107%'><b>1.8.
Changelog</b></p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:10.85pt;margin-left:
-.25pt'><a name="_Toc251705">1.8.118 0.5 (2018-08-05)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.9pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.tables and db.table_names
introspection properties</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.85pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.indexes property
for introspecting indexes</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:8.8pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>table.create_index(columns,
index_name) method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:6.35pt;
margin-left:24.9pt;text-indent:-8.45pt;line-height:107%'><span
style='line-height:107%'><span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>db.create_view(name,
sql) method</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.45pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Table methods can now
be chained, plus added table.last_id for accessing the last inserted row ID</p>

<h6 style='margin-top:0in;margin-right:0in;margin-bottom:11.55pt;margin-left:
-.25pt'><a name="_Toc251706">1.8.119 0.4 (2018-07-31)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:22.6pt;
margin-left:16.2pt;line-height:107%'> enable_fts(), populate_fts() and search()
table methods</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251707">1.8.120 0.3.1 (2018-07-31)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:5.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Documented related
projects</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.25pt;
margin-left:24.9pt;text-indent:-8.45pt'><span style='line-height:103%'><span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>Added badges to the
documentation</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251708">1.8.121 0.3 (2018-07-31)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:22.4pt;
margin-left:16.95pt'> New Table class representing a table in the SQLite
database</p>

<h6 style='margin-left:-.25pt'><a name="_Toc251709">1.8.122 0.2 (2018-07-28)</a></h6>

<p class=MsoNormal style='margin-top:0in;margin-right:.35pt;margin-bottom:.25pt;
margin-left:16.95pt'> Initial release to PyPI</p>

</div>

<span style='font-size:10.0pt;line-height:103%;font-family:"Calibri",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<div class=WordSection20>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>Symbols</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.85pt;margin-left:-.25pt;text-align:left;line-height:107%'>__getitem__()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>108</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>A</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>add_column() (<i>sqlite_utils.db.Table method</i>), <span
style='color:#355F7C'>120 </span>add_foreign_key() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>121 </span>add_foreign_keys() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>113</span></p>

<p class=MsoNormal align=left style='margin-left:39.1pt;text-align:left;
text-indent:-39.85pt;line-height:107%'>add_geometry_column() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>128</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.65pt;margin-left:-.25pt;text-align:left;line-height:107%'>analyze()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>114 </span>analyze()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>127 </span>analyze_column()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>127 </span>attach()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>109</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>C</span></p>

<p class=MsoNormal align=left style='margin-left:-.75pt;text-align:left;
text-indent:0in;line-height:107%'>cached_counts() (<i>sqlite_utils.db.Database method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:34.5pt;
margin-bottom:.25pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:107%'><span style='color:#355F7C'>111 </span>chunks() (<i>in module
sqlite_utils.utils</i>), <span style='color:#355F7C'>132 </span>close() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>108 </span>Column (<i>class in
sqlite_utils.db</i>), <span style='color:#355F7C'>129</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
.2pt;margin-left:-.25pt;line-height:107%'>ColumnDetails (<i>class in
sqlite_utils.db</i>), <span style='color:#355F7C'>130 </span>columns (<i>sqlite_utils.db.Queryable
property</i>), <span style='color:#355F7C'>115 </span>columns_dict (<i>sqlite_utils.db.Queryable
property</i>), <span style='color:#355F7C'>115 </span>convert() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>124 </span>count (<i>sqlite_utils.db.Queryable
property</i>), <span style='color:#355F7C'>115 </span>count (<i>sqlite_utils.db.Table
property</i>), <span style='color:#355F7C'>117 </span>count_where() (<i>sqlite_utils.db.Queryable
method</i>), <span style='color:#355F7C'>114 </span>create() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>117 </span>create_index() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>120 </span>create_spatial_index() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>128</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>create_table() (<i>sqlite_utils.db.Database method</i>), <span
style='color:#355F7C'>112 </span>create_table_sql() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>111</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.85pt;margin-left:-.25pt;text-align:left;line-height:107%'>create_view()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>113</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>D</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>Database (<i>class in sqlite_utils.db</i>), <span
style='color:#355F7C'>107 </span>default_values (<i>sqlite_utils.db.Table
property</i>), <span style='color:#355F7C'>117 </span>delete() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>123 </span>delete_where() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>123</span></p>

<h1 style='margin-top:0in;margin-right:-.75pt;margin-bottom:71.65pt;margin-left:
.5pt'><a name="_Toc251710">INDEX</a></h1>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.95pt;margin-left:-.25pt;text-align:left;line-height:107%'>detect_fts()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>122 </span>disable_fts()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>122 </span>disable_wal()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>111 </span>drop()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>121 </span>drop()
(<i>sqlite_utils.db.View method</i>), <span style='color:#355F7C'>129 </span>duplicate()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>118</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>E</span></p>

<p class=MsoNormal align=left style='margin-left:-.75pt;text-align:left;
text-indent:0in;line-height:107%'>enable_counts() (<i>sqlite_utils.db.Database method</i>),</p>

<p class=MsoNormal align=left style='margin-left:-.75pt;text-align:left;
text-indent:39.85pt;line-height:107%'><span style='color:#355F7C'>111 </span>enable_counts()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>121 </span>enable_fts()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>121 </span>enable_fts()
(<i>sqlite_utils.db.View method</i>), <span style='color:#355F7C'>129 </span>enable_wal()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>111 </span>ensure_autocommit_off()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>108</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>execute() (<i>sqlite_utils.db.Database method</i>), <span
style='color:#355F7C'>109 </span>executescript() (<i>sqlite_utils.db.Database
method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:25.25pt;
margin-bottom:9.95pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:107%'><span style='color:#355F7C'>109 </span>exists() (<i>sqlite_utils.db.Queryable
method</i>), <span style='color:#355F7C'>114 </span>exists() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>117 </span>exists() (<i>sqlite_utils.db.View
method</i>), <span style='color:#355F7C'>129 </span>extract() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>120</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>F</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.9pt;margin-left:-.25pt;text-align:left;line-height:107%'>find_spatialite()
(<i>in module sqlite_utils.utils</i>), <span style='color:#355F7C'>102 </span>flatten()
(<i>in module sqlite_utils.utils</i>), <span style='color:#355F7C'>132 </span>foreign_keys
(<i>sqlite_utils.db.Table property</i>), <span style='color:#355F7C'>117</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>G</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.25pt;margin-left:-.25pt;text-align:left;line-height:107%'>get()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>117 </span>guess_foreign_table() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>121</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>H</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>has_counts_triggers (<i>sqlite_utils.db.Table property</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:26.6pt;
margin-bottom:10.0pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:107%'><span style='color:#355F7C'>121 </span>hash_record() (<i>in
module sqlite_utils.utils</i>), <span style='color:#355F7C'>130</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>I</span></p>

<p class=MsoNormal align=left style='margin-left:39.1pt;text-align:left;
text-indent:-39.85pt;line-height:107%'>index_foreign_keys() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>113</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>indexes (<i>sqlite_utils.db.Table property</i>), <span
style='color:#355F7C'>117 </span>init_spatialite() (<i>sqlite_utils.db.Database
method</i>),</p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:18.8pt;
margin-bottom:10.35pt;margin-left:-.75pt;text-align:left;text-indent:39.85pt;
line-height:107%'><span style='color:#355F7C'>114 </span>insert() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>124 </span>insert_all() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>125 </span>iterdump() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>114</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>J</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:107%'>journal_mode
(<i>sqlite_utils.db.Database property</i>), <span style='color:#355F7C'>111</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>L</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.3pt;margin-left:-.25pt;text-align:left;line-height:107%'>last_pk
(<i>sqlite_utils.db.Table attribute</i>), <span style='color:#355F7C'>116 </span>last_rowid
(<i>sqlite_utils.db.Table attribute</i>), <span style='color:#355F7C'>116 </span>lookup()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>126</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>M</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:9.75pt;margin-left:-.25pt;text-align:left;line-height:107%'>m2m()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>127 </span>m2m_table_candidates()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>113</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>O</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:107%'>optimize()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>122</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>P</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>pks (<i>sqlite_utils.db.Table property</i>), <span
style='color:#355F7C'>117 </span>pks_and_rows_where() (<i>sqlite_utils.db.Queryable
method</i>), <span style='color:#355F7C'>115</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.45pt;margin-left:-.25pt;text-align:left;line-height:107%'>populate_fts()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>122</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>Q</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>query() (<i>sqlite_utils.db.Database method</i>), <span
style='color:#355F7C'>109 </span>Queryable (<i>class in sqlite_utils.db</i>), <span
style='color:#355F7C'>114 </span>quote() (<i>sqlite_utils.db.Database method</i>),
<span style='color:#355F7C'>110 </span>quote_default_value() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>110</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.4pt;margin-left:-.25pt;text-align:left;line-height:107%'>quote_fts()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>110</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>R</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>rebuild_fts() (<i>sqlite_utils.db.Table method</i>), <span
style='color:#355F7C'>122 </span>register_fts4_bm25() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>109</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.35pt;margin-left:-.25pt;text-align:left;line-height:107%'>register_function() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>108 </span>rename_table() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>113 </span>reset_counts() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>111 </span>rows (<i>sqlite_utils.db.Queryable
property</i>), <span style='color:#355F7C'>115 </span>rows_from_file() (<i>in
module sqlite_utils.utils</i>), <span style='color:#355F7C'>131 </span>rows_where()
(<i>sqlite_utils.db.Queryable method</i>), <span style='color:#355F7C'>115</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>S</span></p>

<p class=MsoNormal align=left style='margin-left:-.25pt;text-align:left;
line-height:107%'>schema (<i>sqlite_utils.db.Database property</i>), <span
style='color:#355F7C'>111 </span>schema (<i>sqlite_utils.db.Queryable property</i>),
<span style='color:#355F7C'>116 </span>search() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>122 </span>search_sql() (<i>sqlite_utils.db.Table
method</i>), <span style='color:#355F7C'>122 </span>sqlite_version (<i>sqlite_utils.db.Database property</i>),</p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
8.8pt;margin-left:-.75pt;text-indent:39.85pt;line-height:107%'><span
style='color:#355F7C'>111 </span>strict (<i>sqlite_utils.db.Table property</i>),
<span style='color:#355F7C'>117 </span>supports_strict (<i>sqlite_utils.db.Database
property</i>), <span style='color:#355F7C'>111</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>T</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.85pt;margin-left:-.25pt;text-align:left;line-height:107%'>Table
(<i>class in sqlite_utils.db</i>), <span style='color:#355F7C'>116 </span>table()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>110 </span>table_names()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>110 </span>tables
(<i>sqlite_utils.db.Database property</i>), <span style='color:#355F7C'>111 </span>tracer()
(<i>sqlite_utils.db.Database method</i>), <span style='color:#355F7C'>108 </span>transform()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>118 </span>transform_sql()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>119 </span>triggers
(<i>sqlite_utils.db.Database property</i>), <span style='color:#355F7C'>111 </span>triggers
(<i>sqlite_utils.db.Table property</i>), <span style='color:#355F7C'>117 </span>triggers_dict
(<i>sqlite_utils.db.Database property</i>), <span style='color:#355F7C'>111 </span>triggers_dict
(<i>sqlite_utils.db.Table property</i>), <span style='color:#355F7C'>117 </span>types
(<i>sqlite_utils.utils.TypeTracker property</i>), <span style='color:#355F7C'>132
</span>TypeTracker (<i>class in sqlite_utils.utils</i>), <span
style='color:#355F7C'>131</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>U</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:.15in;margin-left:-.25pt;text-align:left;line-height:107%'>update()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>123 </span>upsert()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>125 </span>upsert_all()
(<i>sqlite_utils.db.Table method</i>), <span style='color:#355F7C'>126 </span>use_rowid
(<i>sqlite_utils.db.Table property</i>), <span style='color:#355F7C'>117</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>V</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:-.75pt;margin-bottom:
8.8pt;margin-left:-.25pt;line-height:107%'>vacuum() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>114 </span>View (<i>class in
sqlite_utils.db</i>), <span style='color:#355F7C'>129 </span>view_names() (<i>sqlite_utils.db.Database
method</i>), <span style='color:#355F7C'>110 </span>views (<i>sqlite_utils.db.Database
property</i>), <span style='color:#355F7C'>111 </span>virtual_table_using (<i>sqlite_utils.db.Table
property</i>), <span style='color:#355F7C'>117</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>W</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:10.75pt;margin-left:-.25pt;text-align:left;line-height:107%'>wrap()
(<i>sqlite_utils.utils.TypeTracker method</i>), <span style='color:#355F7C'>132</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:0in;margin-left:-.25pt;text-align:left;line-height:107%'><span
style='font-size:14.5pt;line-height:107%'>X</span></p>

<p class=MsoNormal align=left style='margin-top:0in;margin-right:0in;
margin-bottom:167.6pt;margin-left:-.25pt;text-align:left;line-height:107%'>xindexes
(<i>sqlite_utils.db.Table property</i>), <span style='color:#355F7C'>117</span></p>

<p class=MsoNormal align=right style='margin-top:0in;margin-right:-.75pt;
margin-bottom:.15pt;margin-left:.5pt;text-align:right;line-height:107%'><b>Index</b></p>

</div>

</body>

</html>
